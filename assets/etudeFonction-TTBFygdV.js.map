{"version":3,"file":"etudeFonction-TTBFygdV.js","sources":["../../src/lib/mathFonctions/etudeFonction.ts"],"sourcesContent":["import { Matrix, round } from 'mathjs'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { fraction } from '../../modules/fractions'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { egal } from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport { pointAbstrait, PointAbstrait } from '../2d/PointAbstrait'\nimport { polygone } from '../2d/polygones'\nimport { representant } from '../2d/representantVecteur'\nimport { segment } from '../2d/segmentsVecteurs'\nimport { latex2d } from '../2d/textes'\nimport { translation } from '../2d/transformations'\nimport { vecteur } from '../2d/Vecteur'\nimport { stringNombre, texNombre } from '../outils/texNombre'\nimport { matrice } from './Matrice'\n\ntype TabInit0 = [string, number, number][]\ntype TabInit1 = (string | number)[]\ntype TabInit = [TabInit0, TabInit1]\ntype TabLine = (string | number)[]\ntype ColorsTableauDeVariation = {\n  colorL?: string\n  colorV?: string\n  colorC?: string\n  colorT?: string\n}[]\n\n/**\n * Classe TableauDeVariation Initiée par Sebastien Lozano, transformée par Jean-Claude Lhote\n * publié le 9/02/2021\n * tabInit est un tableau contenant sous forme de chaine les paramètres de la macro Latex \\tabInit{}{}\n * tabLines est un tableau contenant sous forme de chaine les paramètres des différentes macro \\tabLine{}\n * Voir le commentaire avant la fonction tableauDeVariation() qui crée une instance de cette classe avec des valeurs par défaut\n * exemple :\n * tabInit:[[[texte1,taille1,long1],[texte2,taille2,long2]...],[valeur1,long1,valeur2,long2,valeur3,long3...]]\n * tabLines:[[type,long0,codeL1C1,long1,codeL1C2,long2,codeL1C3,long3...],[type,long0,codeL2C1,long1,codeL2C2,long2,codeL2C3,long3...]]\n * Pour colors, c'est propre à Latex : color, colorC = blue!15, colorL = green!15\n * colorL (comme couleur de la ligne) pour la zone 1\n * colorV (comme couleur de la variable) pour la zone 2\n * colorC (comme couleur de la colonne) pour la zone 3\n * colorT (comme couleur du tableau) pour la zone 4.\n * espcl=taille en cm entre deux antécédents, deltacl=distance entre la bordure et les premiers et derniers antécédents\n * lgt = taille de la première colonne tout est en cm\n * tabInit contient 2 tableaux\n * le premier contient des triplets [chaine d'entête,hauteur de ligne,nombre de pixels de largeur estimée du texte pour le centrage]\n * le deuxième contient une succession de chaines et de largeurs en pixels : ce sont les antécédent de la ligne d'entête\n * tabLines contient des tableaux de la forme ['type',...]\n * type est 'Line' pour une ligne de signes et valeurs. Les valeurs sont données avec à la suite leur largeur estimée en pixels.\n * type est 'Var' pour une ligne de variations. Les variations sont des chaines respectant une syntaxe particulière.\n * On intercale une largeur estimée pour le texte éventuel\n * type est 'Ima' il faut 4 paramètres numériques : le 1er et le 2e sont les N° des antécédents entre lesquels on veut placer l'image\n * le 3e est la valeur de l'image et le 4e est la largeur estimée en pixels\n * type est 'Val' il faut 5 paramètres : Idem Ima pour les deux premiers, le 3e est l'antécédent à ajouter, le 4e son image et le 5e sa taille\n * Pour plus d'info sur le codage des variations, voir ce tuto : https://zestedesavoir.com/tutoriels/439/des-tableaux-de-variations-et-de-signes-avec-latex/\n * reste à faire les types  'Slope\"\n * @param {Object} param0\n * @author Jean-Claude Lhote\n */\nexport function tableauDeVariation({\n  tabInit = [[], []],\n  tabLines = [],\n  lgt = 3.5,\n  espcl = 5,\n  deltacl = 0.8,\n  colors = [],\n  scale = 0.75,\n  hauteurLignes = [],\n}: {\n  tabInit?: TabInit\n  tabLines?: TabLine[]\n  lgt?: number\n  espcl?: number\n  deltacl?: number\n  colors?: ColorsTableauDeVariation\n  scale?: number\n  hauteurLignes?: number[]\n}) {\n  if (context.isHtml) {\n    const segments = creerTableauHtml({\n      tabInit,\n      tabLines,\n      espcl,\n      deltacl,\n      lgt,\n    })\n    const svgCode = mathalea2d(\n      Object.assign(\n        {},\n        fixeBordures(segments, {\n          rxmin: -0.05,\n          rymin: -0.1,\n          rxmax: 0.1,\n          rymax: 0.05,\n        }),\n      ),\n      segments,\n    )\n    return svgCode\n  }\n  let codeLatex = `\\\\begin{tikzpicture}[baseline, scale=${scale}]\n    \\\\tkzTabInit[lgt=${lgt},deltacl=${deltacl},espcl=${espcl}`\n  for (let i = 0; i < colors.length; i++) {\n    codeLatex += `,${colors[i]}`\n  }\n  codeLatex += ']{'\n  const tabinit0 = tabInit[0]\n  const tabinit1 = tabInit[1]\n  let type\n\n  for (let i = 0; i < tabinit0.length; i++) {\n    let exp = tabinit0[i][0]\n    const taille = String(tabinit0[i][1])\n    if (\n      typeof exp === 'string' &&\n      exp[0] === '$' &&\n      exp[exp.length - 1] === '$'\n    ) {\n      exp = exp.substring(1, exp.length - 1)\n    }\n    if (typeof exp === 'string' && exp.includes(',')) {\n      exp = `\\\\numprint{${exp}}`\n    }\n    if (typeof exp === 'string') codeLatex += ` $${exp}$ / ${taille},`\n    else codeLatex += ` $${String(exp)}$ / ${taille},`\n  }\n  codeLatex = codeLatex.substring(0, codeLatex.length - 1) // pour enlever la virgule du dernier élément ajouté.\n  codeLatex += '}{'\n  for (let i = 0; i < tabinit1.length / 2; i++) {\n    let exp = tabinit1[i * 2]\n    if (\n      typeof exp === 'string' &&\n      exp[0] === '$' &&\n      exp[exp.length - 1] === '$'\n    ) {\n      exp = exp.substring(1, exp.length - 1)\n    }\n    if (typeof exp === 'string' && exp.includes(',')) {\n      exp = `\\\\numprint{${exp}}`\n    }\n    codeLatex += ` $${exp}$,`\n  }\n  codeLatex = codeLatex.substring(0, codeLatex.length - 1) // on retire la virgule du dernier élément ajouté\n  codeLatex += '}' + '\\n\\t'\n  for (let i = 0; i < tabLines.length; i++) {\n    type = tabLines[i][0]\n    if (type === 'Val') {\n      codeLatex += `\\\\tkzTab${type}`\n      for (let j = 1; j < tabLines[i].length - 1; j++) {\n        // pas de $ ici non plus, car il y a des paramètres qui sont autre chose que des expressions\n        // les expressions à mettre sur les flèches ou au bout de celles-ci doivent avoir leur $ $\n        if (\n          typeof tabLines[i][j] === 'string' &&\n          String(tabLines[i][j]).includes(',')\n        ) {\n          tabLines[i][j] = `{${tabLines[i][j]}}`\n        }\n        codeLatex += `{${tabLines[i][j]}},`\n      }\n      codeLatex += '\\n\\t'\n    } else if (type === 'Ima') {\n      codeLatex += `\\\\tkzTab${type}`\n      for (let j = 1; j < tabLines[i].length; j++) {\n        codeLatex += `{${tabLines[i][j]}}`\n      }\n      codeLatex += '\\n\\t'\n    } else if (type === 'Var') {\n      // pas de $ ajoutés ici car il y a des commandes... les expressions doivent avoir leur propres $ $\n      codeLatex += `\\\\tkzTab${type}{ `\n      for (let j = 2; j < tabLines[i].length; j += 2) {\n        const exp = tabLines[i][j]\n        codeLatex += ` ${exp},`\n      }\n      codeLatex = codeLatex.substring(0, codeLatex.length - 1)\n      codeLatex += '}' + '\\n\\t'\n    } else {\n      // si c'est pas tabVal, tabIma ou tabVar, c'est un tabLine et ça ne contient que des codes !\n      codeLatex += `\\\\tkzTab${type}{ `\n      for (let j = 2; j < tabLines[i].length; j += 2) {\n        if (String(tabLines[i][j]).indexOf(',') !== -1) {\n          tabLines[i][j] = `{${tabLines[i][j]}}`\n        }\n        codeLatex += ` ${tabLines[i][j]},`\n      }\n      codeLatex = codeLatex.substring(0, codeLatex.length - 1)\n      codeLatex += '}' + '\\n\\t'\n    }\n  }\n  codeLatex += '\\\\end{tikzpicture}\\n'\n  return codeLatex\n}\n\n/**\n * Une fonction pour trouver les solutions de f(x)=y.\n * @param fonction\n * @param y\n * @param xMin\n * @param xMax\n * @param tolerance\n */\n// export function solve (fonction, y, xMin, xMax, tolerance) {\n\n// }\n/**\n * renvoie les solutions (intervalles) de f(x) < y (ou f(x)<=y ou f(x)>y ou f(x)>=y)\n * @param {function} fonction une fonction x=>f(x)\n * @param {number} y la valeur de y à atteindre\n * @param {number|FractionEtendue} xMin la borne gauche du domaine de définition\n * @param {number|FractionEtendue} xMax la borne droite du domaine de définition\n * @param {boolean} inferieur si true < si false >\n * @param {boolean} strict si true < ou > sinon <= ou >=\n * @param {Object} [options]\n * @param {number|FractionEtendue} options.step le pas de recherche en x.\n * @return {{borneG: {x: number, included: boolean, y: number}, borneD: {x: number, included: boolean, y: number}}[]} le ou les intervalles dans une liste\n */\nexport function inferieurSuperieur(\n  fonction: (x: FractionEtendue | number) => number,\n  y: number,\n  xMin: number | FractionEtendue,\n  xMax: number | FractionEtendue,\n  inferieur = true,\n  strict = false,\n  { step = new FractionEtendue(1, 100) } = {},\n) {\n  const satisfy = (\n    image: number,\n    y: number,\n    inferieur: boolean,\n    strict: boolean,\n  ) => {\n    if (inferieur) {\n      return strict ? y - image > 0 : y - image >= 0\n    }\n    return strict ? y - image < 0 : y - image <= 0\n  }\n  if (!(step instanceof FractionEtendue)) step = new FractionEtendue(step, 1)\n  const solutions = []\n  let borneG: {\n    x: FractionEtendue | number\n    y: number\n    included: boolean\n  } | null = null\n  let borneD: {\n    x: FractionEtendue | number\n    y: number\n    included: boolean\n  } | null = null\n  const xmin =\n    xMin instanceof FractionEtendue ? xMin : new FractionEtendue(xMin, 1)\n  let x\n  let image\n  try {\n    for (x = xmin; x.inferieurlarge(xMax); ) {\n      image = fonction(x)\n      if (borneG?.x == null && satisfy(image, y, inferieur, strict)) {\n        // c'est le premier x qui matche\n        borneG = { x, y: image, included: !strict }\n      } else if (satisfy(image, y, inferieur, strict)) {\n        // les suivants qui matchent écrasent borneD\n        borneD = { x, y: image, included: !strict }\n      } else {\n        // ça ne matche plus ou pas\n        if (borneD?.x != null) {\n          // il y a eu un intervalle, ça a matché et c'est terminé\n          solutions.push({\n            borneG: { x: borneG!.x, y: borneG!.y, included: borneG!.included },\n            borneD: { x: borneD.x, y: borneD.y, included: borneD.included },\n          })\n          borneG = null\n          borneD = null // on réinitialise pour le prochain intervalle\n        } else if (borneG?.x != null) {\n          // On n'a pas de borneD, mais on a une borneG, cas particulier du singleton\n          solutions.push({\n            borneG: { x: borneG.x, y: borneG.y, included: borneG.included },\n            borneD: { x: borneG.x, y: borneG.y, included: borneG.included },\n          })\n          borneG = null\n          borneD = null // on réinitialise pour le prochain intervalle\n        }\n      }\n      x = x.sommeFraction(step) // dans tous les cas, on avance\n    }\n  } catch (e) {\n    console.error(`e.message avec x = ${x} et image = ${image}`)\n  }\n  if (borneD?.x != null) {\n    // le dernier intervalle n'a pas été mis dans les solutions car on est encore dedans\n    solutions.push({\n      borneG: { x: borneG!.x, y: borneG!.y, included: borneG!.included },\n      borneD: { x: borneD.x, y: borneD.y, included: borneD.included },\n    })\n  }\n  return solutions\n}\n\nexport function racines({\n  fonction,\n  xMin,\n  xMax,\n  tol = 1e-13,\n  maxIter = 100,\n  precision = 3,\n}: {\n  fonction: (x: number) => number\n  xMin: number\n  xMax: number\n  tol?: number\n  maxIter?: number\n  precision?: number\n}) {\n  const racines = []\n  for (let x = xMin; x <= xMax - 0.2; x += 0.2) {\n    if (fonction(x) * fonction(x + 0.2) < 0) {\n      const { root } = brent(fonction, x, x + 0.2, tol, maxIter)\n      if (root != null) racines.push(round(root, precision))\n    } else {\n      if (fonction(x) === 0) racines.push(round(x, precision))\n      if (fonction(x + 0.2) === 0) racines.push(round(x + 0.2, precision))\n    }\n  }\n  return Array.from(new Set(racines).values())\n}\n/**\n * Retourne un array avec les signes successifs de la fonction sur l'intervalle\n * @param {function} fonction du type (x)=>number\n * @param {number|FractionEtendue} xMin\n * @param {number|FractionEtendue} xMax\n * @returns {{xG: number, xD: number, signe: string}[]}\n */\nexport function signesFonction(\n  fonction: (x: number) => number,\n  xMin: number | FractionEtendue,\n  xMax: number | FractionEtendue,\n  zeros: FractionEtendue[] = [],\n) {\n  const signes = []\n  let zerosUtilises: FractionEtendue[] | number[] = []\n  if (xMin instanceof FractionEtendue) {\n    xMin = xMin.toNumber()\n  }\n  if (xMax instanceof FractionEtendue) {\n    xMax = xMax.toNumber()\n  }\n\n  // On vérifie que les zeros donnés en paramètre sont autant que le nombre calculé de zéros\n  const zerosCalcules = racines({ fonction, xMin, xMax })\n  if (zeros.length !== 0 && zerosCalcules.length !== zeros.length) {\n    zerosUtilises = zerosCalcules\n    window.notify(\n      \"Le nombre de racines données à la fonction tableauSignesFonction ne correspond au nombre de racines de la fonction sur l'intervalle fourni.\",\n      { zeros, zerosCalcules },\n    )\n  } else if (zeros.length === 0) {\n    zerosUtilises = zerosCalcules\n  } else {\n    // On classe les zéros donnés en paramètre par ordre croissant\n    const tableauATrier = zeros.map((value, index) => ({\n      valeur1: value.toNumber(),\n      valeur2: value,\n    }))\n    tableauATrier.sort((a, b) => a.valeur1 - b.valeur1)\n    zeros = tableauATrier.map((item) => item.valeur2)\n    let zerosEgaux = true\n    // On vérfie que les zeros donnés en paramètre sont égaux aux zéros calculés modulo un epsilon\n    for (let ee = 0; ee < zeros.length; ee++) {\n      zerosEgaux = Math.abs(zeros[ee].toNumber() - zerosCalcules[ee]) < 1e-12\n      if (!zerosEgaux) {\n        window.notify(\n          \"Les racines données à la fonction tableauSignesFonction n'ont pas les mêmes valeurs que celles de la fonction sur l'intervalle fourni.\",\n          { zeros, zerosCalcules },\n        )\n        zerosUtilises = zerosCalcules\n        break\n      }\n    }\n    if (zerosEgaux) zerosUtilises = zeros\n  }\n  if (zerosCalcules.length === 0) {\n    return [\n      {\n        xG: xMin,\n        xD: xMax,\n        signe: fonction((xMin + xMax) / 2) > 0 ? '+' : '-',\n      },\n    ]\n  }\n  if (xMin !== zerosCalcules[0]) {\n    signes.push({\n      xG: xMin,\n      xD: zerosUtilises[0],\n      signe: fonction(xMin) > 0 ? '+' : '-',\n    })\n  }\n  signes.push({ xG: zerosUtilises[0], xD: zerosUtilises[0], signe: 'z' })\n  for (let i = 1; i < zerosCalcules.length; i++) {\n    const y = fonction((zerosCalcules[i - 1] + zerosCalcules[i]) / 2)\n    signes.push({\n      xG: zerosUtilises[i - 1],\n      xD: zerosUtilises[i],\n      signe: y > 0 ? '+' : '-',\n    })\n    signes.push({ xG: zerosUtilises[i], xD: zerosUtilises[i], signe: 'z' })\n  }\n  if (zerosCalcules[zerosCalcules.length - 1] === xMax) return signes\n  const y = fonction((zerosCalcules[zerosCalcules.length - 1] + xMax) / 2)\n  signes.push({\n    xG: zerosCalcules[zerosCalcules.length - 1],\n    xD: xMax,\n    signe: y > 0 ? '+' : '-',\n  })\n  return signes\n}\n\n/**\n * retourne un tableau décrivant les variations de la fonction\n * Attention, la fonction fournie doit avoir une methode derivee(x) qui retourne la valeur de la dérivée en x\n * @param {(x)=>number} derivee\n * @param {number|FractionEtendue} xMin\n * @param {number|FractionEtendue} xMax\n * @param {number|FractionEtendue} step // fournir un step adapté à l'intervalle pour ne pas louper les valeurs particulières et pour ne pas ralentir le navigateur\n * @param {number|FractionEtendue} tolerance // écart maximum à zéro pour assimiler f(x) à zéro\n * @returns {null|*[]}\n */\nexport function variationsFonction(\n  derivee: (x: number) => number,\n  xMin: number | FractionEtendue,\n  xMax: number | FractionEtendue,\n  step: number | FractionEtendue,\n  tolerance = 0.005,\n) {\n  if (derivee !== null && typeof derivee === 'function') {\n    const signesDerivee = signesFonction(derivee, xMin, xMax)\n    const variations = []\n    for (const signe of signesDerivee) {\n      if (signe.signe === '+') {\n        variations.push({ xG: signe.xG, xD: signe.xD, variation: 'croissant' })\n      } else if (signe.signe === '-') {\n        variations.push({\n          xG: signe.xG,\n          xD: signe.xD,\n          variation: 'decroissant',\n        })\n      } // on ne fait rien pour signe.signe==='z'\n    }\n    return variations.filter((variation) => variation.xG !== variation.xD)\n  } else {\n    window.notify(\n      \"variationsFonction() appelée avec autre chose qu'une fonction\",\n      { derivee },\n    )\n    return []\n  }\n}\n\n/**\n * retourne les coefficients a et b de la fonction affine passant par (x1,y1) et (x2,y2)\n * @param x1\n * @param x2\n * @param y1\n * @param y2\n * @returns {[number,number]}\n */\nexport function trouveFonctionAffine(\n  x1: number,\n  x2: number,\n  y1: number,\n  y2: number,\n) {\n  if (x1 === x2) {\n    window.notify('trouveFonctionAffine() appelée avec x1=x2', { x1, x2 })\n    return [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY]\n  }\n  const maMatrice = matrice([\n    [x1, 1],\n    [x2, 1],\n  ])\n  if (typeof maMatrice!.inverse()!.multiply([y1, y2]) === 'number') {\n    window.notify('trouveFonctionAffine() retourne un nombre', {\n      matrice: maMatrice,\n      y1,\n      y2,\n    })\n    return [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY]\n  }\n  if (maMatrice) {\n    const inv = maMatrice.inverse()\n    if (inv) {\n      const coeffs = inv.multiply([y1, y2]) as unknown as Matrix\n      return coeffs.toArray()\n    }\n  }\n  window.notify('Pas de solution au système', { x1, x2, y1, y2 })\n  return [Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY]\n}\n\n/**\n * Fonction qui cherche les minimas et maximas d'une fonction polynomiale f(x)=ax^3 + bx² + cx + d\n * retourne [] si il n'y en a pas, sinon retourne [[x1,f(x1)],[x2,f(x2)] ne précise pas si il s'agit d'un minima ou d'un maxima.\n * @author Jean-Claude Lhote\n */\nexport function chercheMinMaxFonction([a, b, c, d]: [\n  number,\n  number,\n  number,\n  number,\n]) {\n  const delta = 4 * b * b - 12 * a * c\n  if (delta <= 0) {\n    return [\n      [0, 10 ** 99],\n      [0, 10 ** 99],\n    ]\n  }\n  const x1 = (-2 * b - Math.sqrt(delta)) / (6 * a)\n  const x2 = (-2 * b + Math.sqrt(delta)) / (6 * a)\n  return [\n    [x1, a * x1 ** 3 + b * x1 ** 2 + c * x1 + d],\n    [x2, a * x2 ** 3 + b * x2 ** 2 + c * x2 + d],\n  ]\n}\n\nexport type Substitut = {\n  antVal: number\n  antTex: string\n  imgVal?: number\n  imgTex?: string\n}\n\ntype ZeroValue = number | FractionEtendue\n\nexport type ZeroDefinition =\n  | ZeroValue\n  | (() => ZeroValue)\n  | {\n      valeur: ZeroValue | (() => ZeroValue)\n      interdit?: boolean\n    }\n  | null\n  | undefined\n  | 'non'\n  | 'none'\n\nexport type TableauSignesFacteur = {\n  nom: string\n  fonction: (x: FractionEtendue | number) => number\n  zero?: ZeroDefinition\n  zeros?: ZeroDefinition[]\n  interdit?: boolean\n}\n\nexport type TableauSignesFacteursOptions = {\n  fractionTex?: boolean\n  substituts?: Substitut[]\n  nomVariable?: string\n  nomFonction?: string\n  espcl?: number\n}\n/**\n * renvoie le tableau de signes d'une fonction\n * EE : L'option zeros permet de passer les zéros à la fonction quand il y a des fractions sans valeur décimale nativement non trouvées par la fonction.\n * EE : Si on utilise l'option zeros, il sera pertinent de mettre l'option fractionTex à true.\n * @param fonction\n * @param {number|FractionEtendue} xMin\n * @param {number|FractionEtendue} xMax\n * @param {object} options\n * @param {{antVal:number, antTex:string, imgVal:number, imgTex:string}[]} [options.substituts] valeur à remplacer dans le tableau (valeur au centième)\n * @param {number|FractionEtendue} [options.step] // pas de balayage pour trouver les solutions de f(x)=0\n * @param {boolean} [options.fractionTex] // si true, les nombres sont affichés sous forme de fraction\n * @param {number|FractionEtendue} [options.tolerance] // écart maximum à zéro pour assimiler f(x) à zéro\n * @param {string} [options.nomVariable] // ce qui est écrit dans l'entête de la première ligne 'x' par défaut\n * @param {FractionEtendue[]} [options.zeros] // Pour rentrer en dur, les zeros de la fonction. Quand on a besoin d'avoir les valeurs exactes de zéros qui sont des fractions n'ayant de pas valeur décimale\n * @returns {string} [options.nomFonction] // ce  qui est écrit dans l'entête de la deuxième ligne 'f(x)' par défaut\n */\nexport function tableauSignesFonction(\n  fonction: (x: FractionEtendue | number) => number,\n  xMin: number | FractionEtendue,\n  xMax: number | FractionEtendue,\n  {\n    substituts = [],\n    step = fraction(1, 1000),\n    tolerance = 0.005,\n    nomVariable = 'x',\n    nomFonction = 'f(x)',\n    fractionTex = false,\n    zeros = [],\n  }: {\n    substituts?: Substitut[]\n    step?: number | FractionEtendue\n    tolerance?: number | FractionEtendue\n    nomVariable?: string\n    nomFonction?: string\n    fractionTex?: boolean\n    zeros?: FractionEtendue[]\n  },\n) {\n  const signes = signesFonction(fonction, xMin, xMax, zeros)\n  const premiereLigne: (string | number)[] = []\n  for (let i = 0; i < signes.length; i++) {\n    if (i === 0) {\n      if (fractionTex === false) {\n        if (signes[0].xG instanceof FractionEtendue)\n          premiereLigne.push(texNombre(signes[0].xG.toNumber()), 10)\n        else premiereLigne.push(stringNombre(signes[0].xG, 2), 10)\n      } else {\n        if (signes[0].xG instanceof FractionEtendue)\n          premiereLigne.push(signes[0].xG.texFractionSimplifiee, 10)\n        else\n          premiereLigne.push(\n            new FractionEtendue(signes[0].xG, 1).texFractionSimplifiee,\n            10,\n          )\n      }\n    }\n    if (\n      i > 0 &&\n      (signes[i].xG instanceof FractionEtendue\n        ? Number(signes[i].xG)\n        : signes[i].xG) !==\n        (signes[i - 1].xG instanceof FractionEtendue\n          ? Number(signes[i - 1].xG)\n          : signes[i - 1].xG)\n    ) {\n      if (fractionTex === false) {\n        if (signes[i].xG instanceof FractionEtendue)\n          premiereLigne.push(texNombre(Number(signes[i].xG)), 10)\n        else premiereLigne.push(stringNombre(Number(signes[i].xG), 2), 10)\n      } else {\n        if (signes[i].xG instanceof FractionEtendue) {\n          const fracSimp = (signes[i].xG as FractionEtendue)\n            .texFractionSimplifiee\n          premiereLigne.push(fracSimp, 10)\n        } else\n          premiereLigne.push(\n            new FractionEtendue(Number(signes[i].xG), 1).texFractionSimplifiee,\n            10,\n          )\n      }\n    }\n  }\n  if (fractionTex === false) {\n    if (signes[signes.length - 1].xD instanceof FractionEtendue)\n      premiereLigne.push(texNombre(Number(signes[signes.length - 1].xD)), 10)\n    else\n      premiereLigne.push(\n        stringNombre(Number(signes[signes.length - 1].xD), 2),\n        10,\n      )\n  } else {\n    if (signes[signes.length - 1].xD instanceof FractionEtendue) {\n      const fracSimp = (signes[signes.length - 1].xD as FractionEtendue)\n        .texFractionSimplifiee\n      premiereLigne.push(fracSimp, 10)\n    } else\n      premiereLigne.push(\n        new FractionEtendue(Number(signes[signes.length - 1].xD), 1)\n          .texFractionSimplifiee,\n        10,\n      )\n  }\n\n  if (substituts && Array.isArray(substituts)) {\n    for (let i = 0; i < premiereLigne.length; i += 2) {\n      const nb: number = Number(\n        String(premiereLigne[i]).replaceAll(/\\s/g, '').replace(',', '.'),\n      )\n      const substitut: Substitut | undefined = substituts.find(\n        (el: Substitut) => egal(el.antVal, nb, 0.01),\n      )\n      if (substitut) {\n        premiereLigne[i] = substitut.antTex\n      }\n    }\n  }\n  const tabLine = ['Line', 30]\n  if (egal(fonction(xMin), 0)) {\n    tabLine.push('z', 10)\n  } else {\n    tabLine.push('', 10)\n  }\n  for (const signe of signes) {\n    tabLine.push(signe.signe, 10)\n  }\n  return tableauDeVariation({\n    tabInit: [\n      [\n        [nomVariable, 1.5, 10],\n        [nomFonction, 1.5, 10],\n      ],\n      premiereLigne,\n    ],\n    tabLines: [tabLine],\n    espcl: 2.1, // taille en cm entre deux antécédents\n    deltacl: 0.8, // distance entre la bordure et les premiers et derniers antécédents\n    lgt: 3, // taille de la première colonne en cm\n  })\n}\n\nexport function tableauSignesFacteurs(\n  facteurs: TableauSignesFacteur[],\n  xMin: number | FractionEtendue,\n  xMax: number | FractionEtendue,\n  {\n    fractionTex = false,\n    substituts = [],\n    nomVariable = 'x',\n    nomFonction = 'f(x)',\n    espcl,\n  }: TableauSignesFacteursOptions = {},\n) {\n  const EPSILON = 1e-9\n  const toNumberValue = (value: ZeroValue) =>\n    value instanceof FractionEtendue ? value.toNumber() : value\n\n  if (xMin == null || xMax == null) {\n    window.notify('tableauSignesFacteurs() nécessite xMin et xMax.', {\n      xMin,\n      xMax,\n    })\n    return ''\n  }\n\n  let nMin = toNumberValue(xMin)\n  let nMax = toNumberValue(xMax)\n  let valeurMin: ZeroValue = xMin\n  let valeurMax: ZeroValue = xMax\n\n  if (nMin > nMax) {\n    ;[nMin, nMax] = [nMax, nMin]\n    ;[valeurMin, valeurMax] = [valeurMax, valeurMin]\n  }\n\n  const makeKey = (value: ZeroValue) => {\n    const num = toNumberValue(value)\n    return num.toFixed(12)\n  }\n\n  const preferDisplayValue = (current: ZeroValue, candidate: ZeroValue) => {\n    if (current instanceof FractionEtendue) return current\n    if (candidate instanceof FractionEtendue) return candidate\n    return current\n  }\n\n  type NormalizedZero = { valeur: ZeroValue; interdit: boolean }\n\n  const resolveZeroDefinition = (\n    definition: ZeroDefinition,\n    interditParDefaut: boolean,\n  ): NormalizedZero | null => {\n    if (definition == null) return null\n    if (typeof definition === 'string') {\n      const lowered = definition.trim().toLowerCase()\n      if (lowered === 'non' || lowered === 'none') return null\n    }\n    if (typeof definition === 'function') {\n      return resolveZeroDefinition(definition(), interditParDefaut)\n    }\n    if (\n      typeof definition === 'object' &&\n      !(definition instanceof FractionEtendue) &&\n      'valeur' in definition\n    ) {\n      const definitionObjet = definition as {\n        valeur: ZeroValue | (() => ZeroValue)\n        interdit?: boolean\n      }\n      const valeurBrute = definitionObjet.valeur\n      const interdit =\n        typeof definitionObjet.interdit === 'boolean'\n          ? definitionObjet.interdit\n          : interditParDefaut\n      return resolveZeroDefinition(valeurBrute, interdit)\n    }\n    if (\n      typeof definition !== 'number' &&\n      !(definition instanceof FractionEtendue)\n    ) {\n      window.notify(\n        'tableauSignesFacteurs() a reçu une valeur de zéro non gérée.',\n        { definition },\n      )\n      return null\n    }\n    return { valeur: definition, interdit: interditParDefaut }\n  }\n\n  type ZeroInfo = {\n    valeur: ZeroValue\n    interdit: boolean\n    hasNumeratorZero: boolean\n  }\n\n  const zeroInfos = new Map<string, ZeroInfo>()\n  const colonnesZeros = new Set<string>()\n  const factorZeroSets: Set<string>[] = []\n\n  facteurs.forEach((facteur) => {\n    const zeroSet = new Set<string>()\n    const zeroDefinitions: ZeroDefinition[] = []\n    if (facteur.zero !== undefined) zeroDefinitions.push(facteur.zero)\n    if (facteur.zeros) zeroDefinitions.push(...facteur.zeros)\n    const interditParDefaut = facteur.interdit ?? false\n\n    for (const zeroDefinition of zeroDefinitions) {\n      const normalisee = resolveZeroDefinition(\n        zeroDefinition,\n        interditParDefaut,\n      )\n      if (!normalisee) continue\n      const valeurNumeric = toNumberValue(normalisee.valeur)\n      if (valeurNumeric < nMin - EPSILON || valeurNumeric > nMax + EPSILON) {\n        continue\n      }\n      const key = makeKey(normalisee.valeur)\n      zeroSet.add(key)\n      const info = zeroInfos.get(key)\n      if (info) {\n        info.valeur = preferDisplayValue(info.valeur, normalisee.valeur)\n        info.interdit = info.interdit || normalisee.interdit\n        if (!normalisee.interdit) info.hasNumeratorZero = true\n      } else {\n        zeroInfos.set(key, {\n          valeur: normalisee.valeur,\n          interdit: normalisee.interdit,\n          hasNumeratorZero: !normalisee.interdit,\n        })\n        colonnesZeros.add(key)\n      }\n    }\n    factorZeroSets.push(zeroSet)\n  })\n\n  type BoundaryPoint = {\n    key: string\n    valeur: ZeroValue\n    numeric: number\n  }\n\n  const boundaries = new Map<string, BoundaryPoint>()\n\n  const pushBoundary = (value: ZeroValue) => {\n    const numeric = toNumberValue(value)\n    if (numeric < nMin - EPSILON || numeric > nMax + EPSILON) return\n    const key = makeKey(value)\n    const existing = boundaries.get(key)\n    if (existing) {\n      if (\n        !(existing.valeur instanceof FractionEtendue) &&\n        value instanceof FractionEtendue\n      ) {\n        boundaries.set(key, { key, valeur: value, numeric })\n      }\n    } else {\n      boundaries.set(key, { key, valeur: value, numeric })\n    }\n  }\n\n  pushBoundary(valeurMin)\n  zeroInfos.forEach((info) => {\n    pushBoundary(info.valeur)\n  })\n  pushBoundary(valeurMax)\n\n  const points = Array.from(boundaries.values()).sort(\n    (a, b) => a.numeric - b.numeric,\n  )\n\n  if (points.length < 2) {\n    window.notify(\n      'tableauSignesFacteurs() reçoit un intervalle sans points distincts.',\n      { xMin, xMax, zeros: Array.from(zeroInfos.values()) },\n    )\n    return ''\n  }\n\n  const premiereLigne: (string | number)[] = []\n  const largeurFraction = context.isHtml ? 28 : 22\n  const largeurStandard = context.isHtml ? 16 : 12\n  const largeurPremiereLigne = (\n    valeur: string | number,\n    point?: BoundaryPoint,\n  ) => {\n    const formatFraction =\n      typeof valeur === 'string' &&\n      (valeur.includes('\\\\frac') || valeur.includes('\\\\dfrac'))\n    const valeurFraction =\n      point?.valeur instanceof FractionEtendue &&\n      point.valeur.denIrred !== 1 &&\n      point.valeur.numIrred !== 0\n    if (formatFraction || valeurFraction) return largeurFraction\n    return largeurStandard\n  }\n\n  let fractionsDansEntete = fractionTex\n\n  for (let index = 0; index < points.length; index++) {\n    const point = points[index]\n    let texte: string | number = ''\n    if (index !== 0 && index !== points.length - 1) {\n      if (fractionTex === false) {\n        if (point.valeur instanceof FractionEtendue) {\n          texte = texNombre(point.valeur.toNumber())\n        } else {\n          texte = stringNombre(point.valeur, 2)\n        }\n      } else if (point.valeur instanceof FractionEtendue) {\n        texte = point.valeur.texFractionSimplifiee\n      } else {\n        texte = new FractionEtendue(point.valeur, 1).texFractionSimplifiee\n      }\n      if (\n        point.valeur instanceof FractionEtendue &&\n        point.valeur.denIrred !== 1 &&\n        point.valeur.numIrred !== 0\n      ) {\n        fractionsDansEntete = true\n      }\n    }\n    premiereLigne.push(texte, largeurPremiereLigne(texte, point))\n  }\n\n  if (substituts && Array.isArray(substituts)) {\n    for (let i = 0; i < premiereLigne.length; i += 2) {\n      if (premiereLigne[i] === '') continue\n      const nb: number = Number(\n        String(premiereLigne[i]).replaceAll(/\\s/g, '').replace(',', '.'),\n      )\n      const substitut: Substitut | undefined = substituts.find(\n        (el: Substitut) => egal(el.antVal, nb, 0.01),\n      )\n      if (substitut) {\n        premiereLigne[i] = substitut.antTex\n      }\n    }\n  }\n\n  const segments = points.length - 1\n  const lignes: (string | number)[][] = []\n  const signesFacteurs: string[][] = []\n\n  const valeurSurIntervalle = (\n    f: (x: FractionEtendue | number) => number,\n    gauche: number,\n    droite: number,\n  ) => {\n    const milieu = (gauche + droite) / 2\n    const image = f(milieu)\n    const valeur = Number(image) ?? 0\n    if (Number.isNaN(valeur)) return ''\n    if (Math.abs(valeur) < EPSILON) return '0'\n    return valeur > 0 ? '+' : '-'\n  }\n\n  const boundarySymbol = (zeroSet: Set<string>, key: string) => {\n    if (zeroSet.has(key)) return 'z'\n    if (colonnesZeros.has(key)) return 't'\n    return ''\n  }\n\n  const xMinKey = points[0].key\n\n  facteurs.forEach((facteur, index) => {\n    if (typeof facteur.fonction !== 'function') {\n      window.notify(\n        'tableauSignesFacteurs() appelé avec un facteur sans fonction valide.',\n        { facteur },\n      )\n      return\n    }\n    const zeroSet = factorZeroSets[index] ?? new Set<string>()\n    const ligne: (string | number)[] = ['Line', 30]\n    const signes: string[] = []\n    ligne.push(boundarySymbol(zeroSet, xMinKey), 10)\n    for (let i = 0; i < segments; i++) {\n      const gauche = points[i].numeric\n      const droite = points[i + 1].numeric\n      const signe = valeurSurIntervalle(facteur.fonction, gauche, droite)\n      signes.push(signe)\n      ligne.push(signe, 10)\n      ligne.push(boundarySymbol(zeroSet, points[i + 1].key), 10)\n    }\n    lignes.push(ligne)\n    signesFacteurs.push(signes)\n  })\n\n  const produitDesSignes = (indexSegment: number) => {\n    if (signesFacteurs.length === 0) return '+'\n    let produit = 1\n    let possedeSigne = false\n    for (const signes of signesFacteurs) {\n      const signe = signes[indexSegment]\n      if (signe === '0') return '0'\n      if (signe === '+' || signe === '-') {\n        possedeSigne = true\n        if (signe === '-') produit *= -1\n      }\n    }\n    if (!possedeSigne) return ''\n    return produit > 0 ? '+' : '-'\n  }\n\n  const symboleSynthese = (key: string) => {\n    const info = zeroInfos.get(key)\n    if (!info) return ''\n    if (info.interdit) return '||'\n    if (info.hasNumeratorZero) return 'z'\n    return ''\n  }\n\n  const ligneFinale: (string | number)[] = ['Line', 30]\n  ligneFinale.push(symboleSynthese(xMinKey), 10)\n  for (let i = 0; i < segments; i++) {\n    ligneFinale.push(produitDesSignes(i), 10)\n    ligneFinale.push(symboleSynthese(points[i + 1].key), 10)\n  }\n  lignes.push(ligneFinale)\n\n  const entetes: [string, number, number][] = [[nomVariable, 1.5, 10]]\n  for (const facteur of facteurs) {\n    entetes.push([facteur.nom, 1.5, 10])\n  }\n  entetes.push([nomFonction, 1.5, 10])\n\n  const espacementColonnes =\n    espcl ??\n    (context.isHtml\n      ? fractionsDansEntete\n        ? 3.8\n        : 3\n      : fractionsDansEntete\n        ? 2.9\n        : 2.3)\n\n  return tableauDeVariation({\n    tabInit: [entetes, premiereLigne],\n    tabLines: lignes,\n    espcl: espacementColonnes,\n    deltacl: 0.8,\n    lgt: 3,\n  })\n}\n\n/**\n *\n * @param {function} fonction\n * @param {function} derivee\n * @param {number|FractionEtendue} xMin\n * @param {number|FractionEtendue} xMax\n * @param {object} options\n * @param {{antVal: number, antTex: string, imgVal: number, imgTex: string}[]} [options.substituts]\n * @param {number|FractionEtendue} [options.step] // pas de balayage pour trouver les solutions de f'(x)=0\n * @param {number|FractionEtendue} [options.tolerance] // la valeur en dessous de laquelle les images sont considérées comme des zéros\n * @param {boolean} [options.ligneDerivee] Mettre à true pour faire apparaître la ligne de f'\n * @param {string} [options.nomVariable] 'x' par défaut\n * @param {string} [options.nomFonction] 'f(x)' par défaut\n * @param {string} [options.nomDerivee] 'f′(x)' par défaut\n * @param {number} [options.precisionImage] 2 par défaut = nombre de décimale des images approchées\n * @returns {string}\n */\nexport function tableauVariationsFonction(\n  fonction: (x: FractionEtendue | number) => number,\n  derivee: (x: FractionEtendue | number) => number,\n  xMin: number | FractionEtendue,\n  xMax: number | FractionEtendue,\n  {\n    substituts = [],\n    step = fraction(1, 1000),\n    tolerance = 0.005,\n    ligneDerivee = false,\n    nomVariable = 'x',\n    nomFonction = 'f(x)',\n    nomDerivee = 'f^{\\\\prime}(x)',\n    precisionImage = 2,\n  }: {\n    substituts?: Substitut[]\n    step?: number | FractionEtendue\n    tolerance?: number | FractionEtendue\n    ligneDerivee?: boolean\n    nomVariable?: string\n    nomFonction?: string\n    nomDerivee?: string\n    precisionImage?: number\n  },\n) {\n  const signes = signesFonction(derivee, xMin, xMax).filter(\n    (signe) => signe.xG !== signe.xD,\n  )\n  const premiereLigne = []\n  const initalValue: (string | number)[] = []\n  const imgSubstituts = []\n  premiereLigne.push(\n    ...signes.reduce(\n      (previous, current) =>\n        previous.concat([stringNombre(Number(current.xG), 3), 10]),\n      initalValue,\n    ),\n  )\n  premiereLigne.push(stringNombre(Number(signes[signes.length - 1].xD), 3), 10)\n  if (substituts && Array.isArray(substituts)) {\n    for (let i = 0; i < premiereLigne.length; i += 2) {\n      const nb: number = Number(\n        String(premiereLigne[i]).replaceAll(/\\s/g, '').replace(',', '.'),\n      )\n      const substitut = substituts.find((el) =>\n        egal(el.antVal, nb, Number(tolerance)),\n      )\n      if (substitut) {\n        imgSubstituts.push({\n          index: i + 2,\n          antVal: substitut.antVal,\n          imgTex: substitut.imgTex,\n        })\n        premiereLigne[i] =\n          typeof substitut.antTex === 'string'\n            ? substitut.antTex\n            : String(substitut.antTex)\n      }\n    }\n  }\n  const tabLineDerivee = ['Line', 30]\n  if (egal(derivee(xMin), 0)) {\n    tabLineDerivee.push('z', 10)\n  } else {\n    tabLineDerivee.push('', 10)\n  }\n  for (const signe of signes) {\n    tabLineDerivee.push(signe.signe, 10)\n    tabLineDerivee.push('z', 10)\n  }\n  if (!egal(derivee(xMax), 0)) {\n    tabLineDerivee.splice(-2, 2)\n  }\n\n  const variations = variationsFonction(\n    derivee,\n    xMin,\n    xMax,\n    step,\n    Number(tolerance),\n  )\n\n  const tabLineVariations = ['Var', 10]\n  const tabLinesImage = []\n  let variationG = variations[0]\n  let variationD\n  if (variationG.variation === 'croissant') {\n    tabLineVariations.push(\n      `-/${stringNombre(fonction(variationG.xG), precisionImage)}`,\n      30,\n    )\n  } else {\n    tabLineVariations.push(\n      `+/${stringNombre(fonction(variationG.xG), precisionImage)}`,\n      30,\n    )\n  }\n  for (let i = 0; i < variations.length - 1; i++) {\n    variationG = variations[i]\n    variationD = variations[i + 1]\n    if (variationG.variation === variationD.variation) {\n      tabLineVariations.push('R/', 10)\n      tabLinesImage.push([\n        'Ima',\n        i + 1,\n        i + 3,\n        i + 2,\n        stringNombre(fonction(variationG.xD), precisionImage),\n      ])\n    } else {\n      tabLineVariations.push(\n        `${variationG.variation === 'croissant' ? '+' : '-'}/${stringNombre(fonction(variationG.xD), precisionImage)}`,\n        30,\n      )\n    }\n  }\n  if (variationD != null) {\n    if (variationD.variation === 'croissant') {\n      tabLineVariations.push(\n        `+/${stringNombre(fonction(variationD.xD), precisionImage)}`,\n        30,\n      )\n    } else {\n      tabLineVariations.push(\n        `-/${stringNombre(fonction(variationD.xD), precisionImage)}`,\n        30,\n      )\n    }\n  } else {\n    tabLineVariations.push(\n      `${variationG.variation === 'croissant' ? '+' : '-'}/${stringNombre(fonction(variationG.xD), precisionImage)}`,\n      30,\n    )\n  }\n  if (substituts && Array.isArray(substituts)) {\n    for (let i = 2; i < tabLineVariations.length; i += 2) {\n      const strChunks = String(tabLineVariations[i]).split('/')\n      const substitut = imgSubstituts.find((el) => el.index === i)\n      if (substitut) {\n        if (substitut.imgTex)\n          tabLineVariations[i] = `${strChunks[0]}/${substitut.imgTex}`\n      }\n    }\n  }\n\n  const tabLines = ligneDerivee ? [tabLineDerivee] : []\n  tabLines.push(tabLineVariations)\n  if (tabLinesImage.length > 0) {\n    tabLines.push(...tabLinesImage)\n  }\n  return tableauDeVariation({\n    tabInit: [\n      ligneDerivee\n        ? [\n            [nomVariable, 1.5, 10],\n            [nomDerivee, 2, 10],\n            [nomFonction, 3, 10],\n          ]\n        : [\n            [nomVariable, 1.5, 10],\n            [nomFonction, 3, 10],\n          ],\n      premiereLigne,\n    ],\n    tabLines,\n    espcl: 5, // taille en cm entre deux antécédents\n    deltacl: 0.8, // distance entre la bordure et les premiers et derniers antécédents\n    lgt: 3, // taille de la première colonne en cm\n  })\n}\n\nexport function brent(\n  f: (x: number) => number,\n  a: number,\n  b: number,\n  tol = 1e-5,\n  maxIter = 100,\n) {\n  if (f(a) * f(b) >= 0) {\n    throw new Error(\"La fonction doit changer de signe sur l'intervalle [a, b]\")\n  }\n\n  let fa = f(a)\n  let fb = f(b)\n  let c = a\n  let fc = fa\n  let d = b - a\n  let e = d\n\n  for (let iter = 0; iter < maxIter; iter++) {\n    if (fb * fc > 0) {\n      c = a\n      fc = fa\n      d = e = b - a\n    }\n\n    if (Math.abs(fc) < Math.abs(fb)) {\n      ;[a, b, c] = [b, c, b]\n      ;[fa, fb, fc] = [fb, fc, fb]\n    }\n\n    const tol1 = 2.0 * tol * Math.abs(b) + 0.5 * tol\n    const xm = 0.5 * (c - b)\n\n    if (Math.abs(xm) <= tol1 || fb === 0.0) {\n      return { root: b, iter }\n    }\n\n    if (Math.abs(e) >= tol1 && Math.abs(fa) > Math.abs(fb)) {\n      const s = fb / fa\n      let p, q\n      if (a === c) {\n        p = 2.0 * xm * s\n        q = 1.0 - s\n      } else {\n        q = fa / fc\n        const r = fb / fc\n        p = s * (2.0 * xm * q * (q - r) - (b - a) * (r - 1.0))\n        q = (q - 1.0) * (r - 1.0) * (s - 1.0)\n      }\n      if (p > 0) q = -q\n      p = Math.abs(p)\n      if (\n        2.0 * p <\n        Math.min(3.0 * xm * q - Math.abs(tol1 * q), Math.abs(e * q))\n      ) {\n        e = d\n        d = p / q\n      } else {\n        d = e = xm\n      }\n    } else {\n      d = e = xm\n    }\n\n    a = b\n    fa = fb\n    if (Math.abs(d) > tol1) {\n      b += d\n    } else {\n      b += xm >= 0 ? tol1 : -tol1\n    }\n    fb = f(b)\n  }\n\n  throw new Error('Maximum number of iterations exceeded')\n}\n\nexport function creerTableauHtml({\n  tabInit,\n  tabLines,\n  espcl,\n  deltacl,\n  lgt,\n}: {\n  tabInit: TabInit\n  tabLines: TabLine[]\n  espcl: number\n  deltacl: number\n  lgt: number\n}): NestedObjetMathalea2dArray {\n  if (!context.isHtml) return []\n  const hauteurLignes = context.pixelsParCm\n  const tabInit0 = tabInit[0]\n  const tabInit1 = tabInit[1]\n  let isTabInit0Valid = true\n  if (!Array.isArray(tabInit0) || tabInit0.length === 0) {\n    isTabInit0Valid = false\n  } else {\n    for (let i = 0; i < tabInit0.length; i++) {\n      if (tabInit0[i].length !== 3) {\n        isTabInit0Valid = false\n        break\n      }\n      if (typeof tabInit0[i][0] !== 'string') {\n        isTabInit0Valid = false\n        break\n      }\n      if (typeof tabInit0[i][1] !== 'number') {\n        isTabInit0Valid = false\n        break\n      }\n      if (typeof tabInit0[i][2] !== 'number') {\n        isTabInit0Valid = false\n        break\n      }\n    }\n  }\n  if (!isTabInit0Valid) {\n    window.notify('Dans TableauDeVariation(), tabInit[0] est invalide', {\n      tabInit0,\n    })\n    return []\n  }\n  let isTabInit1Valid = true\n  if (!Array.isArray(tabInit1) || tabInit1.length === 0) {\n    isTabInit1Valid = false\n  } else {\n    for (let i = 0; i < tabInit1.length; i++) {\n      if (typeof tabInit1[i] !== 'string' && typeof tabInit1[i] !== 'number') {\n        isTabInit1Valid = false\n        break\n      }\n    }\n  }\n  if (!isTabInit1Valid) {\n    window.notify('Dans TableauDeVariation(), tabInit[1] est invalide', {\n      tabInit1,\n    })\n    return []\n  }\n  let isTabLinesValid = true\n  if (!Array.isArray(tabLines) || tabLines.length === 0) {\n    isTabLinesValid = false\n  } else {\n    for (let i = 0; i < tabLines.length; i++) {\n      if (!Array.isArray(tabLines[i]) || tabLines[i].length === 0) {\n        isTabLinesValid = false\n        break\n      }\n      if (\n        typeof tabLines[i][0] !== 'string' ||\n        !['Line', 'Var', 'Ima', 'Val', 'Slope'].includes(String(tabLines[i][0]))\n      ) {\n        isTabLinesValid = false\n        break\n      }\n    }\n  }\n  if (!isTabLinesValid) {\n    window.notify('Dans TableauDeVariation(), tabLines est invalide', {\n      tabLines,\n    })\n    return []\n  }\n  let yLine = 0\n  const segments = []\n  let index = 0\n  const textes = []\n  let texte\n  let long\n  let s\n  let p\n  let v\n  let fleches: {\n    point: PointAbstrait\n    margeGauche: number\n    margeDroite: number\n  }[] = []\n  let codeVar = []\n  let ZI = []\n  let ZIon\n  let zonesEstInterdit = []\n  const longueurTotale = lgt + (tabInit1.length / 2 - 1) * espcl + 2 * deltacl\n  const demiIntervalle = 1 / context.pixelsParCm / 2\n  const intervalle = 2 * demiIntervalle\n  /**\n   * Retire les $ $ du début et de la fin de la chaine passée s'il y en a et retourne la chaine\n   * @param {string } text\n   * @returns {string}\n   */\n  const latexContent = (text: string) => {\n    let txt = text\n    if (txt == null || typeof txt !== 'string') {\n      window.notify(\n        `Dans TableauDeVariation(), sortieTexte() a reçu un drôle de texte : ${txt}, du coup je renvoie ''`,\n        {},\n      )\n      txt = ''\n    }\n    if (txt[0] === '$') txt = txt.substring(1, txt.length - 1)\n    return txt\n  }\n  const sortieTexte = (texte: string, x: number, y: number) => {\n    let txt = texte\n    if (typeof txt !== 'string') {\n      window.notify(\n        `Dans TableauDeVariation(), sortieTexte() a reçu un drôle de texte : ${txt}, du coup je renvoie ''`,\n        {},\n      )\n      return { texte: '', x, y }\n    }\n    if (txt[0] === '$' && txt[txt.length - 1] === '$') {\n      // on suprime les $ superflus, parce qu'il n'en faut pas !\n      txt = txt.substring(1, txt.length - 2)\n    }\n    if (txt.length > 0) {\n      return { texte: txt, x, y }\n    }\n    return { texte: '', x, y }\n  }\n  // On crée une ligne horizontale et les séparations verticales de base\n  segments.push(segment(0, 0, longueurTotale, 0))\n  segments.push(segment(0, 0, 0, -tabInit0[0][1] * hauteurLignes * intervalle))\n  segments.push(\n    segment(lgt, 0, lgt, 0 - tabInit0[0][1] * hauteurLignes * intervalle),\n  )\n  segments.push(\n    segment(\n      longueurTotale,\n      0,\n      longueurTotale,\n      -tabInit0[0][1] * hauteurLignes * intervalle,\n    ),\n  )\n\n  texte = tabInit0[0][0]\n  long = tabInit0[0][2] //\n  textes.push(\n    sortieTexte(\n      latexContent(texte),\n      lgt / 2,\n      -tabInit0[0][1] * hauteurLignes * demiIntervalle,\n    ),\n  )\n  for (let j = 0; j < tabInit1.length / 2; j++) {\n    texte = String(tabInit1[j * 2])\n    long = tabInit1[j * 2 + 1]\n    textes.push(\n      sortieTexte(\n        latexContent(texte),\n        lgt + deltacl + espcl * j,\n        -tabInit0[0][1] * hauteurLignes * demiIntervalle,\n      ),\n    )\n  }\n  yLine -= tabInit0[0][1] * hauteurLignes * intervalle\n\n  for (let i = 0; i < tabInit0.length && index < tabLines.length; ) {\n    // on s'arrête quand on dépasse le nombre de lignes prévues\n    // Line et Var incrémente i de 1 et décrémente yLine de la hauteur de la ligne\n    // Val, Ima et Slope incrémente index mais pas i\n    switch (tabLines[index][0]) {\n      case 'Line':\n        i++\n        long = tabInit0[i][2]\n        textes.push(\n          sortieTexte(\n            latexContent(tabInit0[i][0]),\n            lgt / 2,\n            yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n          ),\n        ) // hauteurLignes,colorBackground))\n\n        for (let k = 1; k < tabLines[index].length / 2; k++) {\n          if (tabLines[index][k * 2] !== '') {\n            texte = String(tabLines[index][k * 2])\n            long = tabLines[index][k * 2 + 1]\n            if (texte.length === 1) {\n              switch (texte[0]) {\n                case 'z':\n                  textes.push(\n                    sortieTexte(\n                      '0',\n                      lgt + deltacl + (espcl / 2) * (k - 1),\n                      yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n                    ),\n                  )\n                  s = segment(\n                    lgt + deltacl + (espcl / 2) * (k - 1),\n                    yLine,\n                    lgt + deltacl + (espcl / 2) * (k - 1),\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  s.pointilles = 4\n                  segments.push(s)\n                  break\n                case 'd':\n                  segments.push(\n                    segment(\n                      lgt + deltacl + (espcl / 2) * (k - 1) - 0.05,\n                      yLine,\n                      lgt + deltacl + (espcl / 2) * (k - 1) - 0.05,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  segments.push(\n                    segment(\n                      lgt + deltacl + (espcl / 2) * (k - 1) + 0.05,\n                      yLine,\n                      lgt + deltacl + (espcl / 2) * (k - 1) + 0.05,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  break\n                case 't':\n                  s = segment(\n                    lgt + deltacl + (espcl / 2) * (k - 1),\n                    yLine,\n                    lgt + deltacl + (espcl / 2) * (k - 1),\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  s.pointilles = 4\n                  segments.push(s)\n                  break\n                case 'h':\n                  p = polygone([\n                    pointAbstrait(lgt + deltacl + (espcl / 2) * (k - 1), yLine),\n                    pointAbstrait(lgt + deltacl + (espcl / 2) * k, yLine),\n                    pointAbstrait(\n                      lgt + deltacl + (espcl / 2) * k,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                    pointAbstrait(\n                      lgt + deltacl + (espcl / 2) * (k - 1),\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  ])\n                  p.couleurDeRemplissage = colorToLatexOrHTML('gray')\n                  segments.push(p)\n                  break\n                case '+':\n                  textes.push(\n                    sortieTexte(\n                      '+',\n                      lgt + deltacl + (espcl / 2) * (k - 1),\n                      yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n                    ),\n                  )\n\n                  break\n                case '-':\n                  textes.push(\n                    sortieTexte(\n                      '-',\n                      lgt + deltacl + (espcl / 2) * (k - 1),\n                      yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n                    ),\n                  )\n\n                  break\n              }\n            } else if (texte === '||') {\n              textes.push(\n                sortieTexte(\n                  latexContent(texte),\n                  lgt + deltacl + (espcl / 2) * (k - 1),\n                  yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n                ),\n              )\n              s = segment(\n                lgt + deltacl + (espcl / 2) * (k - 1),\n                yLine,\n                lgt + deltacl + (espcl / 2) * (k - 1),\n                yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n              )\n              s.pointilles = 4\n              segments.push(s)\n            } else if (texte === 'R/') {\n              // textes.push(sortieTexte(texte, lgt + deltacl + espcl/2 * (k - 0.6), yLine-tabInit0[i][1] / 2))\n            } else {\n              textes.push(\n                sortieTexte(\n                  latexContent(texte),\n                  lgt + deltacl + (espcl / 2) * (k - 1),\n                  yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n                ),\n              )\n            }\n          }\n        }\n        // On crée une ligne horizontale et les séparations verticales de base\n        segments.push(segment(0, yLine, longueurTotale, yLine))\n        segments.push(\n          segment(\n            0,\n            yLine,\n            0,\n            yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n          ),\n        )\n        segments.push(\n          segment(\n            lgt,\n            yLine,\n            lgt,\n            yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n          ),\n        )\n        segments.push(\n          segment(\n            longueurTotale,\n            yLine,\n            longueurTotale,\n            yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n          ),\n        )\n        yLine -= tabInit0[i][1] * hauteurLignes * intervalle\n        index++\n        break\n      case 'Var':\n        i++ // index des lignes (ça démarre à -1 pour l'entête, ça passe à 0 pour la première ligne (celle sous l'entête) et c'est incrémenté à chaque nouvelle ligne)\n        fleches = [] // les points qui marquent le départ et/ou l'arrivée d'une flèche (endroit où se situent les valeurs)\n        ZI = [] // Liste de points (qui vont par deux : un sur la ligne du dessus, l'autre en dessous)\n        ZIon = false // un booléen qui bascule à true si on entre dans une zone interdite et qui rebascule à false à la prochaine valeur\n        // utilisé pour ajouter les deux points de droite servant à faire le rectangle hachuré/\n        zonesEstInterdit = [] // Un tableau pour garder la trace des \"zones interdites\" où il ne doit pas y avoir de flèches\n        for (let k = 1; k < tabLines[index].length / 2; k++) {\n          textes.push(\n            sortieTexte(\n              latexContent(tabInit0[i][0]),\n              lgt / 2,\n              yLine - tabInit0[i][1] * hauteurLignes * demiIntervalle,\n            ),\n          )\n          if (tabLines[index][k * 2] !== '') {\n            texte = String(tabLines[index][k * 2])\n            long = Number(tabLines[index][k * 2 - 1]) ?? 20\n            codeVar = texte.split('/')\n            if (codeVar.length === 1) {\n              // il n'y a qu'un code\n              // on ne fait rien, c'est la commande R/ ou un emplacement vide sans /\n            } else if (codeVar.length === 2) {\n              // Une seule expression (2 codes séparés par un seul /)\n              switch (codeVar[0]) {\n                case '+': // une expression\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-': // une expression\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+C': // une expression sur une double barre (prolongement par continuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-C': // une expression sur une double barre (prolongement par continuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+D': // une expression suivie d’une double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-D': // une expression suivie d’une double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+H': // une expression suivie d’une zone interdite\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  ZI.push(\n                    pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  ZIon = true\n                  zonesEstInterdit.push(true)\n                  break\n                case '-H': // une expression suivie d’une zone interdite\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  ZI.push(\n                    pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  ZIon = true\n                  zonesEstInterdit.push(true)\n                  break\n                case 'D-': // expression précédée d'une double barre discontinuité\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case 'D+': // expression précédée d'une double barre discontinuité\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-DH': // expression suivie d'une double barre discontinuité et d'une zone interdite\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  ZI.push(\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine,\n                    ),\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  ZIon = true\n                  zonesEstInterdit.push(true)\n                  break\n                case '+DH': // expression suivie d'une double barre discontinuité et d'une zone interdite\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  ZI.push(\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine,\n                    ),\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  ZIon = true\n                  zonesEstInterdit.push(true)\n                  break\n                case '-CH': // expression sur une double barre discontinuité et d'une zone interdite\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  ZI.push(\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine,\n                    ),\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  ZIon = true\n                  zonesEstInterdit.push(true)\n                  break\n                case '+CH': // expression sur une double barre discontinuité et d'une zone interdite\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  ZI.push(\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine,\n                    ),\n                    pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1) + 0.06,\n                      yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                    ),\n                  )\n                  ZIon = true\n                  zonesEstInterdit.push(true)\n                  break\n              }\n            } else {\n              // 2 expressions sérarées par / /\n              switch (\n                codeVar[0] // on regarde le code\n              ) {\n                case '':\n                  break\n                case '-CD-': // une expression sur une double barre (continuité) et une expression après la double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+CD+': // une expression sur une double barre (continuité) et une expression après la double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) + long / 14,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-CD+': // une expression sur une double barre (continuité) et une expression après la double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+CD-': // une expression sur une double barre (continuité) et une expression après la double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-D-': // deux expressions de part et d’autre d’une double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+D+': // deux expressions de part et d’autre d’une double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-D+': // deux expressions de part et d’autre d’une double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+D-': // deux expressions de part et d’autre d’une double barre (discontinuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-DC-': // une expression avant une double barre (discontinuité) et une expression sur la double barre (continuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+DC+': // une expression avant une double barre (discontinuité) et une expression sur la double barre (continuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-DC+': // une expression avant une double barre (discontinuité) et une expression sur la double barre (continuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+DC-': // une expression avant une double barre (discontinuité) et une expression sur la double barre (continuité)\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * demiIntervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) - 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  s = segment(\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine,\n                    lgt + deltacl + espcl * (k - 1) + 0.05,\n                    yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                  )\n                  segments.push(s)\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-V-': // deux expressions\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+V+': // deux expressions\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '-V+': // deux expressions\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n                case '+V-': // deux expressions\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[1]),\n                      lgt + deltacl + espcl * (k - 1) - long / 28,\n                      yLine - 0.95,\n                    ),\n                  )\n                  textes.push(\n                    sortieTexte(\n                      latexContent(codeVar[2]),\n                      lgt + deltacl + espcl * (k - 1) + long / 28,\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                  )\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine - 0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  zonesEstInterdit.push(true)\n                  fleches.push({\n                    point: pointAbstrait(\n                      lgt + deltacl + espcl * (k - 1),\n                      yLine -\n                        tabInit0[i][1] * hauteurLignes * intervalle +\n                        0.95,\n                    ),\n                    margeGauche: -long / 20,\n                    margeDroite: long / 20,\n                  })\n                  if (ZIon) {\n                    ZI.push(\n                      pointAbstrait(lgt + deltacl + espcl * (k - 1), yLine),\n                      pointAbstrait(\n                        lgt + deltacl + espcl * (k - 1),\n                        yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n                      ),\n                    )\n                    ZIon = false\n                  }\n                  zonesEstInterdit.push(false)\n                  break\n              }\n            }\n          }\n        }\n        for (let n = 0; n < fleches.length - 1; n++) {\n          const marge1 = fleches[n].margeDroite\n          const marge2 = fleches[n + 1].margeGauche\n          if (!zonesEstInterdit[n]) {\n            v = representant(\n              vecteur(\n                translation(fleches[n].point, vecteur(marge1, 0)),\n                translation(fleches[n + 1].point, vecteur(marge2, 0)),\n              ),\n              translation(fleches[n].point, vecteur(marge1, 0)),\n            )\n            v.styleExtremites = '->'\n            segments.push(v)\n          }\n        }\n        for (let n = 0; n <= ZI.length / 4 - 1; n++) {\n          p = polygone(ZI[4 * n], ZI[4 * n + 2], ZI[4 * n + 3], ZI[4 * n + 1])\n          p.opacite = 1\n          p.hachures = 'north east lines'\n          segments.push(p)\n        }\n\n        // On crée une ligne horizontale et les séparations verticales de base\n        segments.push(segment(0, yLine, longueurTotale, yLine))\n        segments.push(\n          segment(\n            0,\n            yLine,\n            0,\n            yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n          ),\n        )\n        segments.push(\n          segment(\n            lgt,\n            yLine,\n            lgt,\n            yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n          ),\n        )\n        segments.push(\n          segment(\n            longueurTotale,\n            yLine,\n            longueurTotale,\n            yLine - tabInit0[i][1] * hauteurLignes * intervalle,\n          ),\n        )\n        yLine -= tabInit0[i][1] * hauteurLignes * intervalle\n        index++\n        break\n      case 'Val': // ajouter un antécédent et son image sur la flèche. 6 paramètres + 'Val'\n        // ['Val',antécédent du début de la flèche, antécédent de la fin de la flèche, position sur la flèche entre 0 et 1, 'antécédent', 'image',long]\n        if (tabLines[index][5] !== '') {\n          long = tabLines[index][6]\n          textes.push(\n            sortieTexte(\n              latexContent(String(tabLines[index][5])),\n              lgt +\n                deltacl +\n                espcl * (Number(tabLines[index][1]) - 1) +\n                1 +\n                (espcl - 2) *\n                  (Number(tabLines[index][2]) - Number(tabLines[index][1])) *\n                  Number(tabLines[index][3]),\n              yLine +\n                1.1 +\n                Number(tabLines[index][3]) *\n                  tabInit0[i][1] *\n                  hauteurLignes *\n                  demiIntervalle,\n            ),\n          )\n          textes.push(\n            sortieTexte(\n              latexContent(String(tabLines[index][4])),\n              lgt +\n                deltacl +\n                espcl * (Number(tabLines[index][1]) - 1) +\n                1 +\n                (espcl - 2) *\n                  (Number(tabLines[index][2]) - Number(tabLines[index][1])) *\n                  Number(tabLines[index][3]),\n              -tabInit0[0][1] * hauteurLignes * demiIntervalle,\n            ),\n          )\n        }\n        index++\n        break\n      case 'Ima': // ajouter des valeurs sur la flèche...\n        if (tabLines[index][4] !== '') {\n          texte = String(tabLines[index][4])\n          long = Number(tabLines[index][3])\n          textes.push(\n            sortieTexte(\n              latexContent(texte),\n              lgt +\n                deltacl +\n                (espcl *\n                  (Number(tabLines[index][1]) -\n                    1 +\n                    (Number(tabLines[index][2]) - 1))) /\n                  2,\n              yLine + tabInit0[i][1] * hauteurLignes * demiIntervalle,\n            ),\n          )\n        }\n        index++\n        break\n      case 'Slope':\n        /****************************************************************************/\n        // Slope n'est pas implémenté... reste à faire (si quelqu'un en a besoin).\n        /****************************************************************************/\n        for (let k = 1; k < tabLines[index].length / 2; k++) {\n          if (tabLines[index][k * 2] !== '') {\n            texte = tabLines[index][k * 2]\n            long = tabLines[index][k * 2 + 1]\n          }\n        }\n        break\n    }\n  }\n\n  // On ferme le tableau en bas\n  segments.push(segment(0, yLine, longueurTotale, yLine))\n  for (const latex of textes) {\n    segments.push(\n      latex2d(latex.texte, latex.x, latex.y, { letterSize: 'normalsize' }),\n    )\n  }\n  // Si l'on de définit pas rxmin, rymin, rxmax et rymax, ceux-ci sont fixés par défaut à -0.5 et +0.5, ce qui s'ajoute aux marges déjà prévues pour les segments de -0.2 et +0.2\n  // voilà d'où vient le décallage de 0.7 enregistré sur la position des latex par rapport au cadre !\n  return segments\n\n  /* pour éviter d'avoir des containers imbriquées, util pour le zoom */\n}\n"],"names":["tableauDeVariation","tabInit","tabLines","lgt","espcl","deltacl","colors","scale","hauteurLignes","context","segments","creerTableauHtml","mathalea2d","fixeBordures","codeLatex","i","tabinit0","tabinit1","type","exp","taille","j","racines","fonction","xMin","xMax","tol","maxIter","precision","x","root","brent","round","signesFonction","zeros","signes","zerosUtilises","FractionEtendue","zerosCalcules","tableauATrier","value","index","a","b","item","zerosEgaux","ee","y","variationsFonction","derivee","step","tolerance","signesDerivee","variations","signe","variation","trouveFonctionAffine","x1","x2","y1","y2","maMatrice","matrice","inv","chercheMinMaxFonction","c","d","delta","tableauSignesFonction","substituts","fraction","nomVariable","nomFonction","fractionTex","premiereLigne","texNombre","stringNombre","fracSimp","nb","substitut","el","egal","tabLine","tableauSignesFacteurs","facteurs","toNumberValue","nMin","nMax","valeurMin","valeurMax","makeKey","preferDisplayValue","current","candidate","resolveZeroDefinition","definition","interditParDefaut","lowered","definitionObjet","valeurBrute","interdit","zeroInfos","colonnesZeros","factorZeroSets","facteur","zeroSet","zeroDefinitions","zeroDefinition","normalisee","valeurNumeric","key","info","boundaries","pushBoundary","numeric","existing","points","largeurFraction","largeurStandard","largeurPremiereLigne","valeur","point","formatFraction","valeurFraction","fractionsDansEntete","texte","lignes","signesFacteurs","valeurSurIntervalle","f","gauche","droite","milieu","image","boundarySymbol","xMinKey","ligne","produitDesSignes","indexSegment","produit","possedeSigne","symboleSynthese","ligneFinale","entetes","espacementColonnes","tableauVariationsFonction","ligneDerivee","nomDerivee","precisionImage","initalValue","imgSubstituts","previous","tabLineDerivee","tabLineVariations","tabLinesImage","variationG","variationD","strChunks","fa","fb","fc","e","iter","tol1","xm","s","p","q","r","tabInit0","tabInit1","isTabInit0Valid","isTabInit1Valid","isTabLinesValid","yLine","textes","long","v","fleches","codeVar","ZI","ZIon","zonesEstInterdit","longueurTotale","demiIntervalle","intervalle","latexContent","text","txt","sortieTexte","segment","k","polygone","pointAbstrait","colorToLatexOrHTML","n","marge1","marge2","representant","vecteur","translation","latex","latex2d"],"mappings":"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"}