{"version":3,"file":"4C10-7-C0IEI4fW.js","sources":["../../src/exercices/4e/4C10-7.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureNombreRelatif,\n  ecritureNombreRelatifc,\n  ecritureParentheseSiNegatif,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieEntiere,\n} from '../../lib/outils/nombres'\nimport { sp } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Opérations avec deux entiers relatifs'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * Effectuer des opérations avec 2 nombres relatifs\n *\n * * On peut choisir les 4 opérations\n * @author Mickael Guironnet - Rémi Angot\n */\nexport const uuid = '0b020'\n\nexport const refs = {\n  'fr-fr': ['4C10-7', '3AutoN02-2'],\n  'fr-ch': ['10NO4-9'],\n}\nexport default class ExerciceOperationsRelatifs extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Avec des écritures simplifiées']\n    this.besoinFormulaire2Texte = [\n      'Type de questions',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Multiplication',\n        '2 : Division',\n        '3 : Addition',\n        '4 : Soustraction',\n        '5 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire3Numerique = ['Valeur maximale', 99999]\n    this.sup = false // écriture simplifiée\n    this.sup2 = 5 // Mélange par défaut\n    this.sup3 = 10 // Valeur maximum\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeSignes = combinaisonListes(\n      ['-+', '+-', '--', '-+', '+-', '--', '++'],\n      this.nbQuestions,\n    )\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup2,\n      max: 4,\n      melange: 5,\n      defaut: 2,\n    })\n    for (\n      let i = 0, a, b, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // On limite le nombre d'essais pour chercher des valeurs nouvelles\n      switch (listeTypeDeQuestions[i]) {\n        case 2:\n          b = randint(2, 9)\n          a = b * randint(2, this.sup3)\n          break\n        case 1:\n        case 3:\n        case 4:\n        default:\n          b = randint(2, this.sup3)\n          a = randint(2, this.sup3)\n          break\n      }\n      switch (listeTypeDeSignes[i]) {\n        case '-+':\n          a *= -1\n          break\n        case '+-':\n          b *= -1\n          break\n        case '--':\n        default:\n          a *= -1\n          b *= -1\n          break\n      }\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // multiplications\n          if (this.sup) {\n            texte = `$ ${a}  \\\\times ${ecritureParentheseSiNegatif(b)}$`\n            texteCorr = `$ ${a}  \\\\times ${ecritureParentheseSiNegatif(b)} = ${arrondi(a * b)} $`\n          } else {\n            texte = `$ ${ecritureNombreRelatif(a)}  \\\\times ${ecritureNombreRelatif(b)}$`\n            texteCorr = `$ ${ecritureNombreRelatifc(a)} \\\\times ${ecritureNombreRelatifc(b)}  = ${ecritureNombreRelatifc(a * b, { color: '#f15929' })} $`\n          }\n          setReponse(this, i, a * b, {\n            signe: true,\n            digits: Math.max(2, nombreDeChiffresDansLaPartieEntiere(a * b)),\n            decimals: 0,\n          })\n          break\n        case 2: // quotients\n          if (this.sup) {\n            texte = `$ ${a} \\\\div ${ecritureParentheseSiNegatif(b)}$`\n            texteCorr = `$ ${a} \\\\div ${ecritureParentheseSiNegatif(b)} = ${arrondi(a / b)}$`\n          } else {\n            texte = `$ ${ecritureNombreRelatif(a)}  \\\\div ${ecritureNombreRelatif(b)}$`\n            texteCorr = `$ ${ecritureNombreRelatifc(a)}  \\\\div ${ecritureNombreRelatifc(b)} = ${ecritureNombreRelatifc(a / b, { color: '#f15929' })}$`\n          }\n          setReponse(this, i, arrondi(a / b), {\n            signe: true,\n            digits: 1,\n            decimals: 0,\n          })\n          break\n        case 3: // additions\n          if (this.sup) {\n            texte = `$ ${a} + ${ecritureParentheseSiNegatif(b)} $`\n            texteCorr = `$ ${a} + ${ecritureParentheseSiNegatif(b)}  = ${arrondi(a + b)} $`\n          } else {\n            texte = `$ ${ecritureNombreRelatif(a)} + ${ecritureNombreRelatif(b)} $`\n            texteCorr = `$  ${ecritureNombreRelatifc(a)} + ${ecritureNombreRelatifc(b)} = ${ecritureNombreRelatifc(a + b, { color: '#f15929' })} $`\n          }\n          setReponse(this, i, a + b, {\n            signe: true,\n            digits: Math.max(2, nombreDeChiffresDansLaPartieEntiere(a + b)),\n            decimals: 0,\n          })\n          break\n        case 4: // soustractions\n        default:\n          if (this.sup) {\n            texte = `$ ${a} - ${ecritureNombreRelatif(b)}$`\n            texteCorr = `$ ${a} - ${ecritureNombreRelatif(b)} = ${a - b} $`\n          } else {\n            texte = `$ ${ecritureNombreRelatif(a)} - ${ecritureNombreRelatif(b)} $`\n            texteCorr = `$  ${ecritureNombreRelatifc(a)} - ${ecritureNombreRelatifc(b)} = ${ecritureNombreRelatifc(a - b, { color: '#f15929' })} $`\n          }\n          setReponse(this, i, [a - b, `(${ecritureAlgebrique(a - b)})`], {\n            signe: true,\n            digits: Math.max(2, nombreDeChiffresDansLaPartieEntiere(a - b)),\n            decimals: 0,\n          })\n          break\n      }\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase, {\n        texteAvant: sp() + '$=$',\n      })\n\n      if (this.sup) {\n        // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n\n        const textCorrSplit = texteCorr.split('=')\n        let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n        aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n        texteCorr = ''\n        for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n          texteCorr += textCorrSplit[ee] + '='\n        }\n        texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n\n        // Fin de cette uniformisation\n      }\n\n      if (this.questionJamaisPosee(i, listeTypeDeQuestions[i], a, b)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          this.autoCorrection[i].propositions = [\n            { statut: 0, sanscadre: false, texte: texteCorr },\n          ]\n          this.autoCorrection[i].enonce = 'Calculer.\\\\\\\\' + texte\n        }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","ExerciceOperationsRelatifs","Exercice","listeTypeDeSignes","combinaisonListes","listeTypeDeQuestions","gestionnaireFormulaireTexte","i","a","b","texte","texteCorr","cpt","randint","ecritureParentheseSiNegatif","arrondi","ecritureNombreRelatif","ecritureNombreRelatifc","setReponse","nombreDeChiffresDansLaPartieEntiere","ecritureAlgebrique","ajouteChampTexteMathLive","KeyboardType","sp","textCorrSplit","aRemplacer","ee","miseEnEvidence","context","listeQuestionsToContenu"],"mappings":"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"}