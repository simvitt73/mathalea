{"version":3,"file":"interactif2d-BoI9wdlF.js","sources":["../../src/lib/2d/interactif2d.ts"],"sourcesContent":["import type { MetaInteractif2dInputs } from '../../types/2d'\nimport type { IExercice } from '../types'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\n\nexport class MetaInteractif2d extends ObjetMathalea2D {\n  exercice: IExercice\n  question: number\n  inputs: MetaInteractif2dInputs\n  constructor(\n    inputs: MetaInteractif2dInputs,\n    {\n      exercice,\n      question = 0,\n    }: {\n      exercice: IExercice\n      question: number\n    },\n  ) {\n    super()\n    this.inputs = inputs\n    this.exercice = exercice\n    this.question = question\n    this.bordures = this.computeBordures(\n      inputs.map((input) => [\n        input.x - 0.5,\n        input.y - 0.5,\n        input.x + 0.5,\n        input.y + 0.5,\n      ]),\n    )\n  }\n\n  svg(): {\n    exercice: IExercice\n    question: number\n    inputs: MetaInteractif2dInputs\n  } {\n    return {\n      exercice: this.exercice,\n      question: this.question,\n      inputs: this.inputs,\n    }\n  }\n\n  tikz() {\n    return this.inputs\n      .map(\n        (input) =>\n          `\\\\draw[opacity=${input.opacity}] (${input.x},${input.y}) node[anchor = center, rotate=${this.orientation}] {$\\\\ldots$}};`,\n      )\n      .join('\\n')\n  }\n\n  computeBordures(borduresList: [number, number, number, number][]) {\n    let minX = Infinity\n    let minY = Infinity\n    let maxX = -Infinity\n    let maxY = -Infinity\n\n    for (const bordures of borduresList) {\n      const [x1, y1, x2, y2] = bordures\n      if (x1 < minX) minX = x1\n      if (y1 < minY) minY = y1\n      if (x2 > maxX) maxX = x2\n      if (y2 > maxY) maxY = y2\n    }\n\n    return [minX, minY, maxX, maxY] as [number, number, number, number]\n  }\n}\n"],"names":["MetaInteractif2d","ObjetMathalea2D","inputs","exercice","question","__publicField","input","borduresList","minX","minY","maxX","maxY","bordures","x1","y1","x2","y2"],"mappings":"sNAIO,MAAMA,UAAyBC,CAAgB,CAIpD,YACEC,EACA,CACE,SAAAC,EACA,SAAAC,EAAW,CAAA,EAKb,CACA,MAAA,EAbFC,EAAA,iBACAA,EAAA,iBACAA,EAAA,eAYE,KAAK,OAASH,EACd,KAAK,SAAWC,EAChB,KAAK,SAAWC,EAChB,KAAK,SAAW,KAAK,gBACnBF,EAAO,IAAKI,GAAU,CACpBA,EAAM,EAAI,GACVA,EAAM,EAAI,GACVA,EAAM,EAAI,GACVA,EAAM,EAAI,EAAA,CACX,CAAA,CAEL,CAEA,KAIE,CACA,MAAO,CACL,SAAU,KAAK,SACf,SAAU,KAAK,SACf,OAAQ,KAAK,MAAA,CAEjB,CAEA,MAAO,CACL,OAAO,KAAK,OACT,IACEA,GACC,kBAAkBA,EAAM,OAAO,MAAMA,EAAM,CAAC,IAAIA,EAAM,CAAC,kCAAkC,KAAK,WAAW,iBAAA,EAE5G,KAAK;AAAA,CAAI,CACd,CAEA,gBAAgBC,EAAkD,CAChE,IAAIC,EAAO,IACPC,EAAO,IACPC,EAAO,KACPC,EAAO,KAEX,UAAWC,KAAYL,EAAc,CACnC,KAAM,CAACM,EAAIC,EAAIC,EAAIC,CAAE,EAAIJ,EACrBC,EAAKL,IAAMA,EAAOK,GAClBC,EAAKL,IAAMA,EAAOK,GAClBC,EAAKL,IAAMA,EAAOK,GAClBC,EAAKL,IAAMA,EAAOK,EACxB,CAEA,MAAO,CAACR,EAAMC,EAAMC,EAAMC,CAAI,CAChC,CACF"}