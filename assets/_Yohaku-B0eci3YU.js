var y=Object.defineProperty;var $=(c,m,i)=>m in c?y(c,m,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[m]=i;var f=(c,m,i)=>$(c,typeof m!="symbol"?m+"":m,i);import{E as b,aH as x,r as C,P as E,o as v}from"./index-Bl1vqpvV.js";import{Y as k}from"./Yohaku-DPfffg9_.js";import{c as O}from"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";/* empty css                         */import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/three-q_6hD11P.js";import"./vendors/decimal.js-BceHFVC1.js";import"./vendors/katex-BISJkeK-.js";import"./vendors/seedrandom-Cz-2rAdY.js";import"./vendors/apigeom-CvUqzk7F.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./json/uuidsToUrlFR-Cc7zu7XX.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-B10GlhlX.js";import"./json/refToUuidCH-CKb1Gq_b.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-BM0iwKz4.js";import"./json/referentiel2022FR-DRcEqmJS.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./tableau-B9wOys2X.js";import"./colors-vbveSA7f.js";import"./fixeBordures-BSnKuTIe.js";import"./ObjetMathalea2D-CXcNXRpD.js";import"./PointAbstrait-Cz1GEocE.js";import"./polygones-DsgvV9bw.js";import"./vendors/earcut-jJVragJp.js";import"./utilitairesGeometriques-rO8Jz15i.js";import"./pattern-lywlDurK.js";import"./segmentsVecteurs-D7d77vVw.js";import"./vendors/roughjs-CycZv-lV.js";import"./textes-BRWEBQB6.js";import"./Polyline-BCj_U9wL.js";function g(c,m,i,e){for(let s=1;s<i+1;s++)for(let n=1;n<e+1;n++){const u=document.querySelector(`#champTexteEx${c.numeroExercice}Q${m}L${s}C${n}`);if(u!=null){const p=`Ex${c.numeroExercice}Q${m}L${s}C${n}`;u.value.length>0&&typeof c.answers=="object"&&(c.answers[p]=u.value)}}}const Ge="G√©n√©rateur de Yohaku",Je=!0,Ue="custom",We=!0,Xe="AMCOpen",Ze="3a377",et={"fr-fr":["Yohaku"],"fr-ch":[]},tt="16/12/2023";class ot extends b{constructor(){super();f(this,"type");f(this,"yohaku");f(this,"correctionInteractive",i=>{const e=parseInt(this.sup3);let s;const n=[],u=[],p=document.querySelector(`span#feedbackEx${this.numeroExercice}Q${i}`);g(this,i,2,this.sup3);for(let t=0;t<e;t++){n[t]=[];for(let o=0;o<e;o++)s=document.getElementById(`champTexteEx${this.numeroExercice}Q${i}L${t+1}C${o+1}`),s!=null?(n[t][o]=document.querySelector(`span#resultatCheckEx${this.numeroExercice}Q${i}L${t+1}C${o+1}`),this.yohaku[i].type==="litt√©raux"?s.value!=null&&(u[t*e+o]=s.value.replace(",",".")??"0"):(s.value!=null&&(u[t*e+o]=s.value.replace(",",".").replace(/\((\+?-?\d+)\)/,"$1")??"0"),!isNaN(Number(u[t*e+o]))&&this.yohaku[i].type.includes("frac")&&(u[t*e+o]=`\\frac{${u[t*e+o]}}{1}`))):s==null&&t*e+o!==this.yohaku[i].Case?window.notify(`Pas de cellule L${t+1}C${o+1} dans le document`,{}):this.yohaku[i].Case!=null&&(u[t*e+o]=this.yohaku[i].cellules[this.yohaku[i].Case])}const r=this.saisieCoherente(u,e,i);let l="OK",a="";for(const[t,o]of Object.entries(r))a+=`${t.replace("Colonne","Colonne ").replace("Ligne","Ligne ")} ${o?"correcte":"incorrecte"}.<br>`,l=o?l:"KO";if(l==="OK")for(let t=0;t<e;t++)for(let o=0;o<e;o++)n[t][o]!=null&&(n[t][o].innerHTML="üòé");else{for(let t=0;t<e;t++)for(let o=0;o<e;o++)n[t][o]!=null&&(n[t][o].innerHTML="‚òπÔ∏è");l="KO"}return p!=null&&(p.innerHTML=a,p.style.display="block"),[r.Ligne1?"OK":"KO",r.Ligne2?"OK":"KO",r.Colonne1?"OK":"KO",r.Colonne2?"OK":"KO"]});this.exoCustomResultat=!0,this.nbQuestions=3,this.sup=30,this.sup2=1,this.sup3=3,this.sup4=!1,this.type="entiers",this.yohaku=[],this.besoinFormulaireNumerique=["Valeur maximale des donn√©es",999],this.besoinFormulaire2Numerique=["Op√©ration",2,`1 : Addition
2 : Multiplication`],this.besoinFormulaire3Numerique=["Taille de la grille (nombre de cases horizontales)",5],this.besoinFormulaire4CaseACocher=["Avec aide",!1]}nouvelleVersion(){const i=this.type;for(let e=0,s=0,n,u;e<this.nbQuestions&&s<50;){const p=[],r=x(2,5,this.sup3,3),l=x(r**2+1,999,this.sup,30),a=this.sup2===1?"addition":"multiplication",t=this.sup4?C(0,r**2-1):void 0,o=this.type==="litt√©raux"?a==="addition"?4:5:2,h=new k({type:i,taille:r,largeur:o,operation:a,cellules:p,Case:t,valeurMax:l});h.calculeResultats();const d=i==="litt√©raux"?"expressions":i.includes("frac")?"fractions":"nombres";this.introduction=a==="addition"?`Trouver les ${d} √† mettre dans les cases vides pour que les sommes de chaque ligne et chaque colonne soient exactes.`:`Trouver les ${d} √† mettre dans les cases vides pour que les produits de chaque ligne et chaque colonne soient exacts.`,this.introduction+=`<br>Compl√©ter ${this.nbQuestions===1?"la":"chaque"} grille avec des ${d} qui conviennent${this.sup4?"":" (plusieurs solutions possibles)"}.<br>`,n=h.representation({numeroExercice:this.numeroExercice??0,question:e,isInteractif:this.interactif,classes:""}),u=t==null?"La grille ci-dessous n'est donn√©e qu'√† titre d'exemple, il y a d'autres solutions.<br><br>":"",h.solution=!0,u+=h.representation({numeroExercice:this.numeroExercice??0,question:e,isInteractif:!1}),this.yohaku[e]=h,this.questionJamaisPosee(e,...h.cellules)&&(this.listeQuestions[e]=n,this.listeCorrections[e]=u,E.isAmc&&(this.autoCorrection[e]={enonce:this.introduction+n,propositions:[{texte:"",statut:1,sanscadre:!0}]}),e++),s++}v(this)}saisieCoherente(i,e,s){const n=new O.ComputeEngine,u=function(r,l,a){let t;const o=n.parse(String(r[s].operate(a))),h=n.parse(r[s].resultats[l]);return r[s].type==="litt√©raux"?t=o.isSame(h):t=o.isEqual(h),t};let p={};for(let r=0;r<e;r++){const l=[];for(let a=0;a<e;a++)l.push(i[r+a*e]??"0");p=Object.assign(p,Object.fromEntries([[`Colonne${r+1}`,u(this.yohaku,r,l)]]))}for(let r=e;r<e*2;r++){const l=[];for(let a=0;a<e;a++)l.push(i[(r-e)*e+a]??"0");p=Object.assign(p,Object.fromEntries([[`Ligne${r-e+1}`,u(this.yohaku,r,l)]]))}return p}}export{We as amcReady,Xe as amcType,tt as dateDeModifImportante,ot as default,Je as interactifReady,Ue as interactifType,et as refs,Ge as titre,Ze as uuid};
//# sourceMappingURL=_Yohaku-B0eci3YU.js.map
