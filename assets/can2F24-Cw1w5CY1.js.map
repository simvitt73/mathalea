{"version":3,"file":"can2F24-Cw1w5CY1.js","sources":["../../src/exercices/can/2e/can2F24.ts"],"sourcesContent":["import { repere } from '../../../lib/2d/reperes'\nimport { latex2d } from '../../../lib/2d/textes'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport {\n  Spline,\n  spline,\n  type NoeudSpline,\n} from '../../../lib/mathFonctions/Spline'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../../lib/outils/embellissements'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\n\nexport const dateDePublication = '28/07/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre =\n  \"Déterminer le nombre de solutions d'une équation (graphique)\"\n\n/**\n * @author Gilles Mora\n */\nexport const uuid = 'e59bc'\n\nexport const refs = {\n  'fr-fr': ['can2F24'],\n  'fr-ch': [],\n}\nexport default class EquationsGSplineNombre extends ExerciceSimple {\n  compteur = 0\n  spline?: Spline\n  constructor() {\n    super()\n    this.versionQcmDisponible = true\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.formatChampTexte = KeyboardType.clavierDeBase\n    this.optionsChampTexte = { texteAvant: '<br>' }\n  }\n\n  nouvelleVersion() {\n    const noeuds1 = [\n      { x: -4, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -3, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -1, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 0, y: -1, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 2, y: -2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 3, y: -3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 4, y: -2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 5, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n    ]\n    const noeuds2 = [\n      { x: -4, y: 0, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -3, y: 1, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 2, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -1, y: 1, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 0, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 2, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 3, y: 0, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n      { x: 4, y: 1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 5, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 6, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n    ]\n    const noeuds3 = [\n      { x: -4, y: -3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -3, y: -2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 0, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n      { x: -1, y: 2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 0, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 2, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 4, y: 0, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 5, y: 2, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n    ]\n    const mesFonctions = [noeuds3, noeuds1, noeuds2] //\n    function aleatoiriseCourbe(listeFonctions: NoeudSpline[][]) {\n      const coeffX = choice([-1, 1]) // symétries ou pas\n      const coeffY = choice([-1, 1])\n      const deltaX = randint(-2, +2) // translations\n      const deltaY = randint(-1, 1) // randint(-2, +2)\n      const choix = choice(listeFonctions)\n      return choix.map((noeud: NoeudSpline) =>\n        Object({\n          x: (noeud.x + deltaX) * coeffX,\n          y: (noeud.y + deltaY) * coeffY,\n          deriveeGauche: noeud.deriveeGauche * coeffX * coeffY,\n          deriveeDroit: noeud.deriveeDroit * coeffX * coeffY,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n    const o = latex2d('\\\\text{O}', -0.3, -0.3, { letterSize: 'scriptsize' })\n    const nuage = aleatoiriseCourbe(mesFonctions)\n    const theSpline = spline(nuage)\n    this.spline = theSpline\n    const bornes = theSpline.trouveMaxes()\n    const repere1 = repere({\n      xMin: bornes.xMin - 1,\n      xMax: bornes.xMax + 1,\n      yMin: bornes.yMin - 1,\n      yMax: bornes.yMax + 1,\n      grilleX: false,\n      grilleY: false,\n      xThickMin: bornes.xMin - 1,\n      yThickMin: bornes.yMin - 1,\n      yThickMax: bornes.yMax + 1,\n      xLabelMin: bornes.xMin,\n      yLabelMin: bornes.yMin,\n      yLabelMax: bornes.yMax,\n      xLabelMax: bornes.xMax,\n      xThickMax: bornes.xMax + 1,\n      grilleSecondaire: true,\n      grilleSecondaireYDistance: 1,\n      grilleSecondaireXDistance: 1,\n      grilleSecondaireOpacite: 1,\n      axesEpaisseur: 1.5,\n      grilleOpacite: 1,\n      grilleSecondaireCouleur: 'black',\n      grilleSecondaireYMin: bornes.yMin - 1.02,\n      grilleSecondaireYMax: bornes.yMax + 1.02,\n      grilleSecondaireXMin: bornes.xMin - 1.02,\n      grilleSecondaireXMax: bornes.xMax + 1.02,\n    })\n    const courbe1 = theSpline.courbe({\n      epaisseur: 1.5,\n      ajouteNoeuds: true,\n      optionsNoeuds: { color: 'black', taille: 1.5, style: 'x', epaisseur: 2 },\n      color: 'blue',\n    })\n    const objetsEnonce = [repere1, courbe1]\n    const nbAntecedentsEntiersMaximum = theSpline.nombreAntecedentsMaximum(\n      bornes.yMin,\n      bornes.yMax,\n      true,\n      true,\n    )\n\n    const nombreAntecedentCherches1 = choice([\n      randint(1, nbAntecedentsEntiersMaximum),\n      randint(0, nbAntecedentsEntiersMaximum),\n      randint(1, nbAntecedentsEntiersMaximum),\n    ])\n    const y1 = theSpline.trouveYPourNAntecedents(\n      nombreAntecedentCherches1,\n      bornes.yMin - 1,\n      bornes.yMax + 1,\n      true,\n      true,\n    )\n    if (y1 === false) {\n      this.compteur++\n      if (this.compteur > 10) {\n        window.notify(\n          \"Erreur dans la génération de l'exercice : y1 === false\",\n          {\n            spline: theSpline,\n            nombreAntecedentCherches1,\n            nbAntecedentsEntiersMaximum,\n            bornes,\n          },\n        )\n        return\n      }\n      this.nouvelleVersion()\n      return\n    }\n    this.compteur = 0\n    const solutions1 = theSpline.solve(y1) ?? []\n    const reponse1 = this.versionQcm\n      ? `$${solutions1.length}$ ${solutions1.length === 0 || solutions1.length === 1 ? 'solution' : 'solutions'}`\n      : solutions1.length\n    this.reponse = reponse1\n    this.question =\n      \"On donne la représentation graphique d'une fonction $f$. <br><br>\"\n    this.question +=\n      mathalea2d(\n        Object.assign(\n          { pixelsParCm: 25, scale: 0.9, style: 'margin: auto' },\n          {\n            xmin: bornes.xMin - 1,\n            ymin: bornes.yMin - 1,\n            xmax: bornes.xMax + 1,\n            ymax: bornes.yMax + 1,\n          },\n        ),\n        objetsEnonce,\n        o,\n      ) + '<br><br>'\n    this.question += this.versionQcm\n      ? `L'équation $f(x)=${y1}$ a :`\n      : `Donner le nombre de solutions de l'équation $f(x)=${y1}$.`\n    this.distracteurs = [\n      '$0$ solution',\n      '$1$ solution',\n      '$2$ solutions',\n      '$3$ solutions',\n    ]\n\n    this.correction = `Le nombre de solutions de  l'équation $f(x)=${y1}$ est le nombre d'antécédents de  $${y1}$ par la fonction $f$.<br>\n    Puisque la droite d'équation $y = ${y1}$ (droite hrizontale) coupe ${solutions1.length === 0 ? 'aucune' : `$${solutions1.length}$`} fois la courbe, on en déduit que l'équation  $f(x)=${y1}$ admet $${miseEnEvidence(solutions1.length)}$ ${solutions1.length === 0 || solutions1.length === 1 ? `${texteEnCouleurEtGras('solution')}.` : `${texteEnCouleurEtGras('solutions')}`}.`\n    this.canEnonce = this.question // 'Compléter'\n    this.canReponseACompleter = ''\n  }\n}\n"],"names":["dateDePublication","interactifReady","interactifType","titre","uuid","refs","EquationsGSplineNombre","ExerciceSimple","__publicField","KeyboardType","mesFonctions","aleatoiriseCourbe","listeFonctions","coeffX","choice","coeffY","deltaX","randint","deltaY","noeud","o","latex2d","nuage","theSpline","spline","bornes","repere1","repere","courbe1","objetsEnonce","nbAntecedentsEntiersMaximum","nombreAntecedentCherches1","y1","solutions1","reponse1","mathalea2d","miseEnEvidence","texteEnCouleurEtGras"],"mappings":"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"}