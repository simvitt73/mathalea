{"version":3,"file":"PEA13-BzfE22rR.js","sources":["../../src/exercices/PE/PEA13.ts"],"sourcesContent":["import {\n  base10VersBaseN,\n  baseNVersBase10,\n} from '../../lib/mathFonctions/baseConversions'\nimport { context } from '../../modules/context'\nimport operation from '../../modules/operations'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Multiplications dans d'autres bases\"\nexport const dateDePublication = '2/11/2021'\n\n/**\n* Multiplications dans une autre base\n\n*\n* @author Rémi Angot\n*/\n\nexport const uuid = 'a7016'\n\nexport const refs = {\n  'fr-fr': ['PEA13'],\n  'fr-ch': [],\n}\n\nexport default class MultiplicationsBaseN extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Choix de la base',\n      9,\n      '3 à 9 (au hasard si laissé vide)',\n    ]\n\n    this.video = 'pkp9e8XDH3M'\n    this.consigne = 'Poser et effectuer les calculs suivants :'\n    this.nbQuestions = 3\n\n    this.pasDeVersionLatex = true\n    this.spacingCorr = context.isHtml ? 2 : 1\n  }\n\n  nouvelleVersion() {\n    const base =\n      this.sup === undefined || this.sup < 3 || this.sup > 9\n        ? randint(3, 5)\n        : this.sup\n    if ([3, 4, 5].includes(base)) {\n      this.listeQuestions[0] = `Écrire la table de Pythagore en base ${base}.`\n      this.listeCorrections[0] = tableDePythagore(base)\n    }\n    const indicePremierCalcul = [3, 4, 5].includes(base) ? 1 : 0\n\n    for (\n      let i = indicePremierCalcul, texte, texteCorr, m, n, mb, nb, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      const n1 = base === 3 ? randint(0, 2) : randint(2, base - 1)\n      const n2 = base === 3 ? randint(1, 2) : randint(2, base - 1, n1)\n      nb = n2 * 10 + n1\n      n = baseNVersBase10(nb, base)\n      const m1 = randint(1, base - 1)\n      const m2 = randint(2, base - 1)\n      const m3 = randint(2, base - 1)\n      mb = m3 * 100 + m2 * 10 + m1\n      n = baseNVersBase10(nb, base)\n      m = baseNVersBase10(mb, base)\n      mb = mb.toString()\n      nb = nb.toString()\n      texte = `$(${mb})_{${base}} \\\\times (${nb})_{${base}}$`\n      if (parseInt(mb) < parseInt(nb)) [mb, nb] = [nb, mb]\n      texteCorr =\n        `En base ${base} :<br>` +\n        operation({\n          operande1: m,\n          operande2: n,\n          type: 'multiplication',\n          base,\n        }) +\n        '<br>'\n      for (let ligne = nb.length - 1; ligne > -1; ligne--) {\n        const retenue = []\n        texteCorr += `Calcul de $${nb[ligne]}\\\\times${mb} :$ <br>`\n        for (let colonne = 0; colonne < mb.length; colonne++) {\n          const a = nb[ligne]\n          const b = mb[mb.length - 1 - colonne]\n          let abEnBaseN = base10VersBaseN(Number(a) * Number(b), base)\n          if (retenue[colonne - 1]) {\n            abEnBaseN = base10VersBaseN(\n              parseInt(a) * parseInt(b) + parseInt(retenue[colonne - 1]),\n              base,\n            )\n            texteCorr += `$\\\\qquad ${a} \\\\times ${b} + ${retenue[colonne - 1]} = ${parseInt(a) * parseInt(b) + parseInt(retenue[colonne - 1])} = (${abEnBaseN})_{${base}}  $`\n          } else {\n            texteCorr += `$\\\\qquad ${a} \\\\times ${b} = ${Number(a) * Number(b)} = (${abEnBaseN})_{${base}}  $`\n          }\n          if (Number(a) * Number(b) >= base) {\n            texteCorr += `$\\\\quad$ On écrit ${abEnBaseN[abEnBaseN.length - 1]} et on retient ${abEnBaseN.slice(0, -1)}.<br>`\n            retenue[colonne] = abEnBaseN.slice(0, -1).toString()\n          } else {\n            texteCorr += '<br>'\n          }\n        }\n      }\n\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\nconst tableDePythagore = (n: number) => {\n  switch (n) {\n    case 3:\n      return `$\\\\begin{array}{|c|c|c|}\n      \\\\hline\n      \\\\times & (1)_3 & (2)_3 \\\\\\\\\n      \\\\hline\n      (1)_3 & (1)_3 & (2)_3 \\\\\\\\\n      \\\\hline\n      (2)_3 & (2)_3 & (11)_3  \\\\\\\\\n      \\\\hline\n   \\\\end{array}$`\n    case 4:\n      return `$\\\\begin{array}{|c|c|c|c|}\n    \\\\hline\n    \\\\times & (1)_4 & (2)_4 & (3)_4 \\\\\\\\\n    \\\\hline\n    (1)_4 & (1)_4 & (2)_4 & (3)_4  \\\\\\\\\n    \\\\hline\n    (2)_4 & (2)_4 & (10)_4 & (12)_4 \\\\\\\\\n    \\\\hline\n    (3)_4 & (3)_4 & (12)_4 & (21)_4 \\\\\\\\\n    \\\\hline\n \\\\end{array}$`\n    case 5:\n      return `$\\\\begin{array}{|c|c|c|c|c|}\n    \\\\hline\n    \\\\times & (1)_5 & (2)_5 & (3)_5 & (4)_5 \\\\\\\\\n    \\\\hline\n    (1)_5 & (1)_5 & (2)_5 & (3)_5 & (4)_5  \\\\\\\\\n    \\\\hline\n    (2)_5 & (2)_5 & (4)_5 & (11)_5 & (13)_5 \\\\\\\\\n    \\\\hline\n    (3)_5 & (3)_5 & (11)_5 & (14)_5 & (22)_5 \\\\\\\\\n    \\\\hline\n    (4)_5 & (4)_5 & (13)_5 & (22)_5 & (31)_5 \\\\\\\\\n    \\\\hline\n \\\\end{array}$`\n    default:\n      return ''\n  }\n}\n"],"names":["titre","dateDePublication","uuid","refs","MultiplicationsBaseN","Exercice","context","base","randint","tableDePythagore","indicePremierCalcul","i","texte","texteCorr","m","n","mb","nb","cpt","n1","baseNVersBase10","m1","m2","operation","ligne","retenue","colonne","a","b","abEnBaseN","base10VersBaseN","listeQuestionsToContenu"],"mappings":"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"}