{"version":3,"file":"5G53-CYPoRSGL.js","sources":["../../src/lib/3d/3dProjectionMathalea2d/PyramideTronquee3dPerspectiveCavaliere.ts","../../src/exercices/5e/5G53.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../2d/colorToLatexOrHtml'\nimport { ObjetMathalea2D } from '../../2d/ObjetMathalea2D'\nimport {\n  Point3d,\n  Polygone3d,\n  arete3d,\n  homothetie3d,\n  polygone3d,\n} from './elementsEtTransformations3d'\n\n/**\n * La pyramide tronquée\n *\n * @author Jean-Claude Lhote\n * Crée une pyramide à partir d'une base Polygone3d d'un sommet et d'un coefficient compris entre 0 et 1\n * un coefficient de 0.5 coupera la pyramide à mi-hauteur (valeur par défaut).\n */\n\nexport class PyramideTronquee3d extends ObjetMathalea2D {\n  constructor(base: Polygone3d, sommet: Point3d, coeff = 0.5, color = 'black') {\n    super()\n    this.color = colorToLatexOrHTML(color)\n    base.color = color\n    this.base = base\n    this.coeff = coeff\n    this.aretes = []\n    this.sommet = sommet\n    this.c2d = []\n    const sommetsBase2 = []\n    for (let i = 0, pointSection; i < this.base.listePoints.length; i++) {\n      pointSection = homothetie3d(sommet, base.listePoints[i], coeff)\n      pointSection.isVisible = true\n      sommetsBase2.push(pointSection)\n    }\n    this.base2 = polygone3d(...sommetsBase2)\n    this.c2d.push(...this.base.c2d)\n    for (let i = 0; i < base.listePoints.length; i++) {\n      this.aretes.push(\n        arete3d(\n          base.listePoints[i],\n          this.base2.listePoints[i],\n          color,\n          base.listePoints[i].isVisible,\n        ),\n      )\n      this.c2d.push(this.aretes[i].c2d)\n    }\n    this.c2d.push(...this.base2.c2d)\n  }\n}\n\nexport function pyramideTronquee3d(\n  base: Polygone3d,\n  sommet: Point3d,\n  coeff = 0.5,\n  color = 'black',\n) {\n  return new PyramideTronquee3d(base, sommet, coeff, color)\n}\n","import { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { ajouteCanvas3d } from '../../lib/3d/3d_dynamique/Canvas3DElement'\nimport {\n  createPrismWithWireframe,\n  createPyramidWithWireframe,\n  createTruncatedPyramidWithWireframe,\n  createWireframeUnion,\n} from '../../lib/3d/3d_dynamique/solidesThreeJs'\nimport {\n  homothetie3d,\n  Point3d,\n  point3d,\n  polygone3d,\n  translation3d,\n  vecteur3d,\n} from '../../lib/3d/3dProjectionMathalea2d/elementsEtTransformations3d'\nimport { prisme3d } from '../../lib/3d/3dProjectionMathalea2d/Prisme3dPerspectiveCavaliere'\nimport { pyramide3d } from '../../lib/3d/3dProjectionMathalea2d/Pyramide3dPerspectiveCavaliere'\nimport { pyramideTronquee3d } from '../../lib/3d/3dProjectionMathalea2d/PyramideTronquee3dPerspectiveCavaliere'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Trouver le nombre de faces ou d'arêtes d'un solide\"\nexport const dateDePublication = '7/11/2021'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n/**\n * @author Jean-Claude Lhote (Adapté par Eric Elter pour que les nouvelles fonctions 3d soient bien utilisées)\n */\nexport const uuid = 'da6a4'\n\nexport const refs = {\n  'fr-fr': ['5G53', 'BP2G2'],\n  'fr-2016': ['6G44', 'BP2G2'],\n  'fr-ch': ['9ES7-7'],\n}\nexport default class NombreDeFacesEtDAretes extends Exercice {\n  version: number\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de questions',\n      3,\n      \"1 : Sur le nombre d'arêtes\\n 2 : Sur le nombre de faces\\n 3 : Mélange\",\n    ]\n    this.besoinFormulaire2CaseACocher = ['3d dynamique', false]\n    this.sup2 = false\n    this.nbQuestions = 4\n\n    this.sup = 3\n    this.version = 6\n  }\n\n  nouvelleVersion() {\n    if (this.version === 3) {\n      this.sup = 3\n    }\n\n    let typeDeQuestion = []\n    this.nbQuestions = Math.min(this.nbQuestions, 50) // Comme il n'y a que 70 questions différentes on limite pour éviter que la boucle ne cherche trop longtemps\n    const choix1 = combinaisonListes([1, 3, 5, 7, 9, 11, 13], this.nbQuestions)\n    const choix2 = combinaisonListes([2, 4, 6, 8, 10, 12, 14], this.nbQuestions)\n    const nbAretes: number[] = combinaisonListes(\n      [3, 4, 5, 6, 8],\n      this.nbQuestions,\n    )\n    if (this.sup === 3) {\n      for (let i = 0; i < this.nbQuestions; i++) {\n        typeDeQuestion.push(choix1[i], choix2[i])\n      }\n    } else if (this.sup === 1) {\n      typeDeQuestion = choix2.slice(0, this.nbQuestions)\n    } else {\n      typeDeQuestion = choix1.slice(0, this.nbQuestions)\n    }\n\n    for (let j = 0, choix; j < this.nbQuestions; ) {\n      let correction = ''\n      let reponse = 0\n      let question = 'Voici un solide :<br>'\n      const objects = []\n      choix = typeDeQuestion[j]\n      context.anglePerspective = 20\n      const objets = []\n      const points3D: Point3d[] = []\n      const n = nbAretes[j]\n      const rayon = 4\n      const O = point3d(0, 0, 0)\n      const k = vecteur3d(0, 0, 2)\n      const k1 = homothetie3d(k, O, 2)\n      const k2 = homothetie3d(k, O, -1)\n      const s1 = translation3d(O, k1)\n      const s2 = translation3d(O, k2)\n      const alpha = (Math.PI * 2) / n\n      const coeff = randint(5, 7) / 10\n      for (let i = 0; i < n; i++) {\n        points3D.push(\n          point3d(\n            rayon * Math.cos(alpha * i + (n > 5 ? 0.5 : 0)),\n            rayon * Math.sin(alpha * i + (n > 5 ? 0.5 : 0)),\n            0,\n          ),\n        )\n      }\n      // choix = j + 1\n      const base = polygone3d(...points3D)\n      const corps = prisme3d(base, vecteur3d(0, 0, -2))\n      const base2 = translation3d(base, k)\n      const chapeau1 =\n        choix < 7\n          ? pyramide3d(base2, s1)\n          : choix < 9\n            ? pyramide3d(base, s1)\n            : choix < 13\n              ? pyramideTronquee3d(base, s1, coeff)\n              : pyramide3d(base, s1)\n      const chapeau2 =\n        choix < 9\n          ? pyramide3d(base, s2)\n          : choix < 11\n            ? pyramideTronquee3d(base, s2, coeff)\n            : choix < 13\n              ? pyramide3d(base, s2)\n              : pyramideTronquee3d(base, s2, coeff)\n\n      // remplacement du switch(choix) par une factorisation en 2 étapes :\n      // 1) construction / affichage du solide selon 7 types (baseIndex = ceil(choix/2))\n      // 2) calcul de la réponse et de la correction selon choix (faces vs arêtes)\n      {\n        const baseIndex = Math.ceil(choix / 2) // 1..7\n\n        switch (baseIndex) {\n          case 1: // prisme + 2 pyramides (cas 1 et 2)\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createPrismWithWireframe(n, 3, -0.5, 0.5, false, false),\n                createPyramidWithWireframe(n, 3, 0.5, 2, false),\n                createPyramidWithWireframe(n, 3, -0.5, -2, false),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              for (let i = 0; i < n; i++) {\n                corps.base1.c2d[i].isVisible = false\n                corps.base2.c2d[i].isVisible = false\n              }\n              objets.push(...corps.c2d, ...chapeau1.c2d, ...chapeau2.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              // faces\n              reponse = 3 * n\n              correction = `Comme chacune des pyramides possède une base à $${n}$ sommets, alors le prisme et les deux pyramides possèdent aussi $${n}$ faces.<br>Ce solide est donc constitué de $3\\\\times ${n}$ faces, soit $${miseEnEvidence(3 * n)}$ faces.`\n            } else {\n              // arêtes\n              reponse = 5 * n\n              correction = `Comme chacune des pyramides possède une base à $${n}$ sommets, alors le prisme et les deux pyramides possèdent aussi $${n}$ arêtes latérales.<br>On doit ajouter les $${n}$ arêtes de la base de chaque pyramide. Ce solide est donc constitué de $5\\\\times ${n}$ arêtes, soit $${miseEnEvidence(5 * n)}$ arêtes.`\n            }\n            break\n\n          case 2: // prisme + 1 pyramide au dessus (cas 3 et 4)\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createPrismWithWireframe(n, 3, -0.5, 0.5, true, false),\n                createPyramidWithWireframe(n, 3, 0.5, 2),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              for (let i = 0; i < n; i++) {\n                corps.base1.c2d[i].isVisible = false\n              }\n              objets.push(...corps.c2d, ...chapeau1.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              reponse = 2 * n + 1\n              correction = `Comme le prisme a $${n}$ faces latérales, alors la pyramide en a $${n}$ aussi.<br>Si on ajoute la face du dessous, ce solide est donc constitué de $2\\\\times ${n}+1$ faces, soit $${miseEnEvidence(2 * n + 1)}$ faces.`\n            } else {\n              reponse = 4 * n\n              correction = `Comme le prisme a $${n}$ arêtes latérales, alors la pyramide en a $${n}$ aussi.<br>En ajoutant les arêtes des deux bases du prisme, soit $2\\\\times ${n}$ arêtes, on obtient donc $4\\\\times ${n}$ arêtes, soit $${miseEnEvidence(4 * n)}$ arêtes.`\n            }\n            break\n\n          case 3: // prisme + 1 pyramide en dessous (cas 5 et 6)\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createPrismWithWireframe(n, 3, -0.5, 0.5, false, true),\n                createPyramidWithWireframe(n, 3, -0.5, -2),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              for (let i = 0; i < n; i++) {\n                corps.base1.c2d[i].isVisible = false\n              }\n              objets.push(...corps.c2d, ...chapeau2.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              reponse = 2 * n + 1\n              correction = `Comme le prisme a $${n}$ faces latérales, alors la pyramide en a $${n}$ aussi.<br>Si on ajoute la face du dessus, ce solide est donc constitué de $2\\\\times ${n}+1$ faces, soit $${miseEnEvidence(2 * n + 1)}$ faces.`\n            } else {\n              reponse = 4 * n\n              correction = `Comme le prisme a $${n}$ arêtes latérales, alors la pyramide en a $${n}$ aussi.<br>En ajoutant les arêtes des deux bases du prisme, soit $2\\\\times ${n}$ arêtes, on obtient donc $4\\\\times ${n}$ arêtes, soit $${miseEnEvidence(4 * n)}$ arêtes.`\n            }\n            break\n\n          case 4: // 2 pyramides (cas 7 et 8)\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createPyramidWithWireframe(n, 3, 0, 3),\n                createPyramidWithWireframe(n, 3, 0, -2),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              objets.push(...chapeau1.c2d, ...chapeau2.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              reponse = 2 * n\n              correction = `Comme chacune des pyramides possède une base à $${n}$ sommets, elles ont aussi $${n}$ faces latérales.<br>Ce solide est donc constitué de $2\\\\times ${n}$ faces, soit $${miseEnEvidence(2 * n)}$ faces.`\n            } else {\n              reponse = 3 * n\n              correction = `Comme chacune des pyramides possède une base à $${n}$ sommets, alors elles ont aussi $${n}$ arêtes latérales auxquelles on ajoute les $${n}$ arêtes de la base commune aux deux pyramide.<br>On obtient donc $3\\\\times ${n}$ arêtes, soit $${miseEnEvidence(3 * n)}$ arêtes.`\n            }\n            break\n\n          case 5: // 2 troncs de pyramides (cas 9 et 10)\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createTruncatedPyramidWithWireframe(\n                  n,\n                  3,\n                  1,\n                  0,\n                  1.5,\n                  false,\n                  true,\n                ),\n                createTruncatedPyramidWithWireframe(\n                  n,\n                  1,\n                  3,\n                  -1.5,\n                  0,\n                  true,\n                  false,\n                ),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              for (let i = 0; i < n / 2; i++) {\n                chapeau2.c2d[i + 2 * n].pointilles = 2\n                chapeau1.c2d[i].pointilles = 2\n                if (i !== 0) {\n                  chapeau1.c2d[i + n].pointilles = 2\n                }\n              }\n              objets.push(...chapeau1.c2d, ...chapeau2.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              reponse = 2 * n + 2\n              correction = `Les deux pyramides tronquées ont une base commune à $${n}$ sommets, elles ont donc $${n}$ faces latérales chacune auxquelles il faut ajouter les deux faces parallèles du dessus et du dessous.<br>Ce solide est donc constitué de $2\\\\times ${n}+2$ faces, soit $${miseEnEvidence(2 * n + 2)}$ faces.`\n            } else {\n              reponse = 5 * n\n              correction = `Les deux pyramides tronquées ont une base commune à $${n}$ sommets.<br>Donc elles ont aussi $${n}$ arêtes latérales chacune.<br>Il faut ajouter les $${n}$ arêtes de la base commune aux deux pyramides.<br>Enfin on ajoute les ${n} arêtes de la face du dessus et les ${n} arêtes de la face du dessous.<br>Au total, il y a $5\\\\times ${n}$ arêtes, soit $${miseEnEvidence(5 * n)}$ arêtes.`\n            }\n            break\n\n          case 6: // tronc de pyramide + pyramide (cas 11 et 12)\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createPyramidWithWireframe(n, 3, 0, -1.5, false),\n                createTruncatedPyramidWithWireframe(n, 3, 1, 0, 2, false, true),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              for (let i = 0; i < n / 2; i++) {\n                chapeau1.c2d[i].pointilles = 2\n                if (i !== 0) {\n                  chapeau1.c2d[i + n].pointilles = 2\n                }\n              }\n              objets.push(...chapeau1.c2d, ...chapeau2.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              reponse = 2 * n + 1\n              correction = `Le solide est composé d'une pyramide à $${n}$ faces latérales et d'un tronc de pyramide<br>qui possède autant de faces latérales plus une face au dessus<br>Ce solide est donc constitué de $2\\\\times ${n}+1$ faces, soit $${miseEnEvidence(2 * n + 1)}$ faces.`\n            } else {\n              reponse = 4 * n\n              correction = `Le solide est composé d'une pyramide à $${n}$ arêtes latérales et d'un tronc de pyramide<br>qui possède aussi $${n}$ arêtes latérales.<br>Il faut ajouter les $${n}$ arêtes de chacune des bases du tronc de pyramide.<br>Au total, il y a $4\\\\times ${n}$ arêtes, soit $${miseEnEvidence(4 * n)}$ arêtes.`\n            }\n            break\n\n          case 7: // tronc de pyramide en dessous + pyramide au dessus (cas 13 et 14)\n          default:\n            if (this.sup2 && context.isHtml) {\n              const geometries = [\n                createTruncatedPyramidWithWireframe(\n                  n,\n                  3,\n                  1,\n                  0,\n                  -2,\n                  false,\n                  true,\n                ),\n                createPyramidWithWireframe(n, 3, 0, 2),\n              ]\n              objects.push({\n                type: 'bufferGeometry',\n                geometry: createWireframeUnion(geometries),\n              })\n            } else {\n              for (let i = 0; i < n / 2; i++) {\n                chapeau2.c2d[i].pointilles = 2\n                if (i !== 0) {\n                  chapeau2.c2d[i + n].pointilles = 2\n                }\n                chapeau2.c2d[i + 2 * n].pointilles = 2\n              }\n              objets.push(...chapeau1.c2d, ...chapeau2.c2d)\n            }\n\n            if (choix % 2 === 1) {\n              reponse = 2 * n + 1\n              correction = `Le solide est composé d'une pyramide à $${n}$ faces latérales et d'un tronc de pyramide<br>qui possède autant de faces latérales plus une face du dessous<br>Ce solide est donc constitué de $2\\\\times ${n}+1$ faces, soit $${miseEnEvidence(2 * n + 1)}$ faces.`\n            } else {\n              reponse = 4 * n\n              correction = `Le solide est composé d'une pyramide à $${n}$ arêtes latérales et d'un tronc de pyramide<br>qui possède aussi $${n}$ arêtes latérales.<br>Il faut ajouter les $${n}$ arêtes de chacune des bases du tronc de pyramide.<br>Au total, il y a $4\\\\times ${n}$ arêtes, soit $${miseEnEvidence(4 * n)}$ arêtes.`\n            }\n            break\n        }\n      }\n      // fin de la factorisation\n\n      if (objects.length > 0) {\n        const content = { objects: objects as any, autoCenterZoomMargin: 1 }\n        question += ajouteCanvas3d({\n          id: `canvas3d-Ex${this.numeroExercice}Q${j}`,\n          content,\n          width: 250,\n          height: 250,\n        })\n      } else {\n        question += mathalea2d(Object.assign({}, fixeBordures(objets)), objets)\n      }\n      if (choix % 2 === 1) {\n        question += 'Quel est le nombre de faces de ce solide ?'\n      } else {\n        question += \"Quel est le nombre d'arêtes de ce solide ?\"\n      }\n      if (this.questionJamaisPosee(j, choix, n)) {\n        handleAnswers(this, j, { reponse: { value: reponse } })\n        question += ajouteChampTexteMathLive(this, j, '')\n        this.listeQuestions[j] = question ?? ''\n        this.listeCorrections[j] = correction\n        j++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["PyramideTronquee3d","ObjetMathalea2D","base","sommet","coeff","color","colorToLatexOrHTML","sommetsBase2","i","pointSection","homothetie3d","polygone3d","arete3d","pyramideTronquee3d","titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","NombreDeFacesEtDAretes","Exercice","__publicField","typeDeQuestion","choix1","combinaisonListes","choix2","nbAretes","j","choix","correction","reponse","question","objects","context","objets","points3D","n","rayon","O","point3d","k","vecteur3d","k1","k2","s1","translation3d","s2","alpha","randint","corps","prisme3d","base2","chapeau1","pyramide3d","chapeau2","geometries","createPrismWithWireframe","createPyramidWithWireframe","createWireframeUnion","miseEnEvidence","createTruncatedPyramidWithWireframe","content","ajouteCanvas3d","mathalea2d","fixeBordures","handleAnswers","ajouteChampTexteMathLive","listeQuestionsToContenu"],"mappings":"iqIAkBO,MAAMA,WAA2BC,CAAgB,CACtD,YAAYC,EAAkBC,EAAiBC,EAAQ,GAAKC,EAAQ,QAAS,CAC3E,MAAA,EACA,KAAK,MAAQC,EAAmBD,CAAK,EACrCH,EAAK,MAAQG,EACb,KAAK,KAAOH,EACZ,KAAK,MAAQE,EACb,KAAK,OAAS,CAAA,EACd,KAAK,OAASD,EACd,KAAK,IAAM,CAAA,EACX,MAAMI,EAAe,CAAA,EACrB,QAASC,EAAI,EAAGC,EAAcD,EAAI,KAAK,KAAK,YAAY,OAAQA,IAC9DC,EAAeC,EAAaP,EAAQD,EAAK,YAAYM,CAAC,EAAGJ,CAAK,EAC9DK,EAAa,UAAY,GACzBF,EAAa,KAAKE,CAAY,EAEhC,KAAK,MAAQE,EAAW,GAAGJ,CAAY,EACvC,KAAK,IAAI,KAAK,GAAG,KAAK,KAAK,GAAG,EAC9B,QAASC,EAAI,EAAGA,EAAIN,EAAK,YAAY,OAAQM,IAC3C,KAAK,OAAO,KACVI,EACEV,EAAK,YAAYM,CAAC,EAClB,KAAK,MAAM,YAAYA,CAAC,EACxBH,EACAH,EAAK,YAAYM,CAAC,EAAE,SAAA,CACtB,EAEF,KAAK,IAAI,KAAK,KAAK,OAAOA,CAAC,EAAE,GAAG,EAElC,KAAK,IAAI,KAAK,GAAG,KAAK,MAAM,GAAG,CACjC,CACF,CAEO,SAASK,EACdX,EACAC,EACAC,EAAQ,GACRC,EAAQ,QACR,CACA,OAAO,IAAIL,GAAmBE,EAAMC,EAAQC,EAAOC,CAAK,CAC1D,CC9BO,MAAMS,GAAQ,qDACRC,GAAoB,YACpBC,GAAkB,GAClBC,GAAiB,WACjBC,GAAW,GACXC,GAAU,SAIVC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,OAAQ,OAAO,EACzB,UAAW,CAAC,OAAQ,OAAO,EAC3B,QAAS,CAAC,QAAQ,CACpB,EACA,MAAqBC,WAA+BC,EAAS,CAE3D,aAAc,CACZ,MAAA,EAFFC,EAAA,gBAGE,KAAK,0BAA4B,CAC/B,oBACA,EACA;AAAA;AAAA,aAAA,EAEF,KAAK,6BAA+B,CAAC,eAAgB,EAAK,EAC1D,KAAK,KAAO,GACZ,KAAK,YAAc,EAEnB,KAAK,IAAM,EACX,KAAK,QAAU,CACjB,CAEA,iBAAkB,CACZ,KAAK,UAAY,IACnB,KAAK,IAAM,GAGb,IAAIC,EAAiB,CAAA,EACrB,KAAK,YAAc,KAAK,IAAI,KAAK,YAAa,EAAE,EAChD,MAAMC,EAASC,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAE,EAAG,KAAK,WAAW,EACpEC,EAASD,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAE,EAAG,KAAK,WAAW,EACrEE,EAAqBF,EACzB,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EACd,KAAK,WAAA,EAEP,GAAI,KAAK,MAAQ,EACf,QAASnB,EAAI,EAAGA,EAAI,KAAK,YAAaA,IACpCiB,EAAe,KAAKC,EAAOlB,CAAC,EAAGoB,EAAOpB,CAAC,CAAC,OAEjC,KAAK,MAAQ,EACtBiB,EAAiBG,EAAO,MAAM,EAAG,KAAK,WAAW,EAEjDH,EAAiBC,EAAO,MAAM,EAAG,KAAK,WAAW,EAGnD,QAASI,EAAI,EAAGC,EAAOD,EAAI,KAAK,aAAe,CAC7C,IAAIE,EAAa,GACbC,EAAU,EACVC,EAAW,wBACf,MAAMC,EAAU,CAAA,EAChBJ,EAAQN,EAAeK,CAAC,EACxBM,EAAQ,iBAAmB,GAC3B,MAAMC,EAAS,CAAA,EACTC,EAAsB,CAAA,EACtBC,EAAIV,EAASC,CAAC,EACdU,EAAQ,EACRC,EAAIC,EAAQ,EAAG,EAAG,CAAC,EACnBC,EAAIC,EAAU,EAAG,EAAG,CAAC,EACrBC,EAAKnC,EAAaiC,EAAGF,EAAG,CAAC,EACzBK,EAAKpC,EAAaiC,EAAGF,EAAG,EAAE,EAC1BM,EAAKC,EAAcP,EAAGI,CAAE,EACxBI,EAAKD,EAAcP,EAAGK,CAAE,EACxBI,EAAS,KAAK,GAAK,EAAKX,EACxBnC,EAAQ+C,GAAQ,EAAG,CAAC,EAAI,GAC9B,QAAS3C,EAAI,EAAGA,EAAI+B,EAAG/B,IACrB8B,EAAS,KACPI,EACEF,EAAQ,KAAK,IAAIU,EAAQ1C,GAAK+B,EAAI,EAAI,GAAM,EAAE,EAC9CC,EAAQ,KAAK,IAAIU,EAAQ1C,GAAK+B,EAAI,EAAI,GAAM,EAAE,EAC9C,CAAA,CACF,EAIJ,MAAMrC,EAAOS,EAAW,GAAG2B,CAAQ,EAC7Bc,EAAQC,EAASnD,EAAM0C,EAAU,EAAG,EAAG,EAAE,CAAC,EAC1CU,EAAQN,EAAc9C,EAAMyC,CAAC,EAC7BY,EACJxB,EAAQ,EACJyB,EAAWF,EAAOP,CAAE,EACpBhB,EAAQ,EACNyB,EAAWtD,EAAM6C,CAAE,EACnBhB,EAAQ,GACNlB,EAAmBX,EAAM6C,EAAI3C,CAAK,EAClCoD,EAAWtD,EAAM6C,CAAE,EACvBU,EACJ1B,EAAQ,EACJyB,EAAWtD,EAAM+C,CAAE,EACnBlB,EAAQ,GACNlB,EAAmBX,EAAM+C,EAAI7C,CAAK,EAClC2B,EAAQ,GACNyB,EAAWtD,EAAM+C,CAAE,EACnBpC,EAAmBX,EAAM+C,EAAI7C,CAAK,EAQ1C,OAFkB,KAAK,KAAK2B,EAAQ,CAAC,EAE7B,CACN,IAAK,GACH,GAAI,KAAK,MAAQK,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBC,EAAyBpB,EAAG,EAAG,IAAM,GAAK,GAAO,EAAK,EACtDqB,EAA2BrB,EAAG,EAAG,GAAK,EAAG,EAAK,EAC9CqB,EAA2BrB,EAAG,EAAG,IAAM,GAAI,EAAK,CAAA,EAElDJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,KAAO,CACL,QAASlD,EAAI,EAAGA,EAAI+B,EAAG/B,IACrB4C,EAAM,MAAM,IAAI5C,CAAC,EAAE,UAAY,GAC/B4C,EAAM,MAAM,IAAI5C,CAAC,EAAE,UAAY,GAEjC6B,EAAO,KAAK,GAAGe,EAAM,IAAK,GAAGG,EAAS,IAAK,GAAGE,EAAS,GAAG,CAC5D,CAEI1B,EAAQ,IAAM,GAEhBE,EAAU,EAAIM,EACdP,EAAa,mDAAmDO,CAAC,qEAAqEA,CAAC,yDAAyDA,CAAC,kBAAkBuB,EAAe,EAAIvB,CAAC,CAAC,aAGxON,EAAU,EAAIM,EACdP,EAAa,mDAAmDO,CAAC,qEAAqEA,CAAC,+CAA+CA,CAAC,qFAAqFA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAEvT,MAEF,IAAK,GACH,GAAI,KAAK,MAAQH,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBC,EAAyBpB,EAAG,EAAG,IAAM,GAAK,GAAM,EAAK,EACrDqB,EAA2BrB,EAAG,EAAG,GAAK,CAAC,CAAA,EAEzCJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,KAAO,CACL,QAASlD,EAAI,EAAGA,EAAI+B,EAAG/B,IACrB4C,EAAM,MAAM,IAAI5C,CAAC,EAAE,UAAY,GAEjC6B,EAAO,KAAK,GAAGe,EAAM,IAAK,GAAGG,EAAS,GAAG,CAC3C,CAEIxB,EAAQ,IAAM,GAChBE,EAAU,EAAIM,EAAI,EAClBP,EAAa,sBAAsBO,CAAC,8CAA8CA,CAAC,0FAA0FA,CAAC,oBAAoBuB,EAAe,EAAIvB,EAAI,CAAC,CAAC,aAE3NN,EAAU,EAAIM,EACdP,EAAa,sBAAsBO,CAAC,+CAA+CA,CAAC,+EAA+EA,CAAC,uCAAuCA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAEtP,MAEF,IAAK,GACH,GAAI,KAAK,MAAQH,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBC,EAAyBpB,EAAG,EAAG,IAAM,GAAK,GAAO,EAAI,EACrDqB,EAA2BrB,EAAG,EAAG,IAAM,EAAE,CAAA,EAE3CJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,KAAO,CACL,QAASlD,EAAI,EAAGA,EAAI+B,EAAG/B,IACrB4C,EAAM,MAAM,IAAI5C,CAAC,EAAE,UAAY,GAEjC6B,EAAO,KAAK,GAAGe,EAAM,IAAK,GAAGK,EAAS,GAAG,CAC3C,CAEI1B,EAAQ,IAAM,GAChBE,EAAU,EAAIM,EAAI,EAClBP,EAAa,sBAAsBO,CAAC,8CAA8CA,CAAC,yFAAyFA,CAAC,oBAAoBuB,EAAe,EAAIvB,EAAI,CAAC,CAAC,aAE1NN,EAAU,EAAIM,EACdP,EAAa,sBAAsBO,CAAC,+CAA+CA,CAAC,+EAA+EA,CAAC,uCAAuCA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAEtP,MAEF,IAAK,GACH,GAAI,KAAK,MAAQH,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBE,EAA2BrB,EAAG,EAAG,EAAG,CAAC,EACrCqB,EAA2BrB,EAAG,EAAG,EAAG,EAAE,CAAA,EAExCJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,MACErB,EAAO,KAAK,GAAGkB,EAAS,IAAK,GAAGE,EAAS,GAAG,EAG1C1B,EAAQ,IAAM,GAChBE,EAAU,EAAIM,EACdP,EAAa,mDAAmDO,CAAC,+BAA+BA,CAAC,mEAAmEA,CAAC,kBAAkBuB,EAAe,EAAIvB,CAAC,CAAC,aAE5MN,EAAU,EAAIM,EACdP,EAAa,mDAAmDO,CAAC,qCAAqCA,CAAC,gDAAgDA,CAAC,+EAA+EA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAElR,MAEF,IAAK,GACH,GAAI,KAAK,MAAQH,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBK,EACExB,EACA,EACA,EACA,EACA,IACA,GACA,EAAA,EAEFwB,EACExB,EACA,EACA,EACA,KACA,EACA,GACA,EAAA,CACF,EAEFJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,KAAO,CACL,QAASlD,EAAI,EAAGA,EAAI+B,EAAI,EAAG/B,IACzBiD,EAAS,IAAIjD,EAAI,EAAI+B,CAAC,EAAE,WAAa,EACrCgB,EAAS,IAAI/C,CAAC,EAAE,WAAa,EACzBA,IAAM,IACR+C,EAAS,IAAI/C,EAAI+B,CAAC,EAAE,WAAa,GAGrCF,EAAO,KAAK,GAAGkB,EAAS,IAAK,GAAGE,EAAS,GAAG,CAC9C,CAEI1B,EAAQ,IAAM,GAChBE,EAAU,EAAIM,EAAI,EAClBP,EAAa,wDAAwDO,CAAC,8BAA8BA,CAAC,wJAAwJA,CAAC,oBAAoBuB,EAAe,EAAIvB,EAAI,CAAC,CAAC,aAE3SN,EAAU,EAAIM,EACdP,EAAa,wDAAwDO,CAAC,uCAAuCA,CAAC,uDAAuDA,CAAC,0EAA0EA,CAAC,uCAAuCA,CAAC,gEAAgEA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAEpY,MAEF,IAAK,GACH,GAAI,KAAK,MAAQH,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBE,EAA2BrB,EAAG,EAAG,EAAG,KAAM,EAAK,EAC/CwB,EAAoCxB,EAAG,EAAG,EAAG,EAAG,EAAG,GAAO,EAAI,CAAA,EAEhEJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,KAAO,CACL,QAASlD,EAAI,EAAGA,EAAI+B,EAAI,EAAG/B,IACzB+C,EAAS,IAAI/C,CAAC,EAAE,WAAa,EACzBA,IAAM,IACR+C,EAAS,IAAI/C,EAAI+B,CAAC,EAAE,WAAa,GAGrCF,EAAO,KAAK,GAAGkB,EAAS,IAAK,GAAGE,EAAS,GAAG,CAC9C,CAEI1B,EAAQ,IAAM,GAChBE,EAAU,EAAIM,EAAI,EAClBP,EAAa,2CAA2CO,CAAC,6JAA6JA,CAAC,oBAAoBuB,EAAe,EAAIvB,EAAI,CAAC,CAAC,aAEpQN,EAAU,EAAIM,EACdP,EAAa,2CAA2CO,CAAC,sEAAsEA,CAAC,+CAA+CA,CAAC,qFAAqFA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAEhT,MAGF,QACE,GAAI,KAAK,MAAQH,EAAQ,OAAQ,CAC/B,MAAMsB,EAAa,CACjBK,EACExB,EACA,EACA,EACA,EACA,GACA,GACA,EAAA,EAEFqB,EAA2BrB,EAAG,EAAG,EAAG,CAAC,CAAA,EAEvCJ,EAAQ,KAAK,CACX,KAAM,iBACN,SAAU0B,EAAqBH,CAAU,CAAA,CAC1C,CACH,KAAO,CACL,QAASlD,EAAI,EAAGA,EAAI+B,EAAI,EAAG/B,IACzBiD,EAAS,IAAIjD,CAAC,EAAE,WAAa,EACzBA,IAAM,IACRiD,EAAS,IAAIjD,EAAI+B,CAAC,EAAE,WAAa,GAEnCkB,EAAS,IAAIjD,EAAI,EAAI+B,CAAC,EAAE,WAAa,EAEvCF,EAAO,KAAK,GAAGkB,EAAS,IAAK,GAAGE,EAAS,GAAG,CAC9C,CAEI1B,EAAQ,IAAM,GAChBE,EAAU,EAAIM,EAAI,EAClBP,EAAa,2CAA2CO,CAAC,8JAA8JA,CAAC,oBAAoBuB,EAAe,EAAIvB,EAAI,CAAC,CAAC,aAErQN,EAAU,EAAIM,EACdP,EAAa,2CAA2CO,CAAC,sEAAsEA,CAAC,+CAA+CA,CAAC,qFAAqFA,CAAC,mBAAmBuB,EAAe,EAAIvB,CAAC,CAAC,aAEhT,KAAA,CAKN,GAAIJ,EAAQ,OAAS,EAAG,CACtB,MAAM6B,EAAU,CAAE,QAAA7B,EAAyB,qBAAsB,CAAA,EACjED,GAAY+B,EAAe,CACzB,GAAI,cAAc,KAAK,cAAc,IAAInC,CAAC,GAC1C,QAAAkC,EACA,MAAO,IACP,OAAQ,GAAA,CACT,CACH,MACE9B,GAAYgC,GAAW,OAAO,OAAO,CAAA,EAAIC,EAAa9B,CAAM,CAAC,EAAGA,CAAM,EAEpEN,EAAQ,IAAM,EAChBG,GAAY,6CAEZA,GAAY,6CAEV,KAAK,oBAAoBJ,EAAGC,EAAOQ,CAAC,IACtC6B,GAAc,KAAMtC,EAAG,CAAE,QAAS,CAAE,MAAOG,CAAA,EAAW,EACtDC,GAAYmC,GAAyB,KAAMvC,EAAG,EAAE,EAChD,KAAK,eAAeA,CAAC,EAAII,GAAY,GACrC,KAAK,iBAAiBJ,CAAC,EAAIE,EAC3BF,IAEJ,CACAwC,GAAwB,IAAI,CAC9B,CACF"}