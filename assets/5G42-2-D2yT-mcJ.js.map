{"version":3,"file":"5G42-2-D2yT-mcJ.js","sources":["../../src/exercices/5e/5G42-2.ts"],"sourcesContent":["import { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { PointAbstrait, pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { polygone } from '../../lib/2d/polygones'\nimport RepereBuilder from '../../lib/2d/RepereBuilder'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { latex2d } from '../../lib/2d/textes'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { vecteur, type Vecteur } from '../../lib/2d/Vecteur'\nimport { orangeMathalea } from '../../lib/colors'\nimport { ajouteQuestionMathlive } from '../../lib/interactif/questionMathLive'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  egal,\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Déterminer les coordonnées des sommets d’un parallélogramme'\nexport const dateDePublication = '25/05/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * Trouver les coordonnees du 4e sommet d'un parallélogramme à partir de 3 sommets donnés.\n * @author Jean-Claude Lhote\n */\nexport const uuid = '37e38'\n\nexport const refs = {\n  'fr-fr': ['5G42-2'],\n  'fr-ch': [],\n}\nconst couplesVecteursEntiers = [\n  [\n    [5, -2],\n    [-1, 3],\n  ],\n  [\n    [-3, 4],\n    [2, -1],\n  ],\n  [\n    [1, 2],\n    [3, -4],\n  ],\n  [\n    [-2, -3],\n    [4, 1],\n  ],\n  [\n    [2, -1],\n    [-1, 3],\n  ],\n  [\n    [-1, -4],\n    [3, 2],\n  ],\n  [\n    [4, 3],\n    [-2, 1],\n  ],\n  [\n    [-3, -2],\n    [1, 4],\n  ],\n]\nconst couplesVecteursRationnels = [\n  [\n    [3.5, -2],\n    [1, 2.5],\n  ],\n  [\n    [-2.5, 4],\n    [1.5, 2.5],\n  ],\n  [\n    [4.5, 1],\n    [1.5, -2],\n  ],\n  [\n    [4, -1.25],\n    [-2.5, 3.75],\n  ],\n  [\n    [-1.5, -2.5],\n    [3, 1.5],\n  ],\n  [\n    [2.5, -1],\n    [-1.5, 3],\n  ],\n  [\n    [-2, 3.5],\n    [4, -1.5],\n  ],\n  [\n    [1.5, -3],\n    [2, 2.5],\n  ],\n]\n\nexport default class ConstructionsParallelogrammesParticuliers extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Choix des questions',\n      'Nombres séparés par des tirets :\\n1 : 4e sommet\\n2 : 3e sommet\\n3 : 2e sommet\\n4 : 1er sommet\\n5 : Mélange',\n    ]\n    this.sup = '1'\n    this.besoinFormulaire2CaseACocher = ['Avec des fractions', false]\n    this.sup2 = false\n    this.besoinFormulaire3CaseACocher = ['Avec des relatifs', false]\n    this.sup3 = false\n    this.besoinFormulaire4CaseACocher = ['Avec les côtés tracés', false]\n    this.sup4 = false\n    this.nbQuestions = 2\n\n    this.correctionDetaillee = true\n    this.correctionDetailleeDisponible = true\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestion = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 1,\n      nbQuestions: this.nbQuestions,\n    }).map(Number)\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n\n      // On prépare la figure...\n      const noms = choisitLettresDifferentes(5, 'QOX', true) // on choisit 5 lettres, les 4 premières sont les sommets, la 5e est le centre\n      const nom = noms[0] + noms[1] + noms[2] + noms[3]\n      const objetsEnonce: NestedObjetMathalea2dArray = []\n      const objetsCorrection: NestedObjetMathalea2dArray = []\n      const withFractions = this.sup2\n      const withRelatifs = this.sup3\n      const withSides = this.sup4\n      const choix = listeTypeDeQuestion[i] // 1, 2, 3, 4 ou 5\n      const sommets: {\n        x: number\n        y: number\n        nom: string\n        visible: boolean\n        p: PointAbstrait | null\n      }[] = []\n      let v1: Vecteur\n      let v2: Vecteur\n      let den: number\n      do {\n        const couplesVecteurs = choice(\n          withFractions ? couplesVecteursRationnels : couplesVecteursEntiers,\n        )\n        const swap = randint(0, 1)\n        const swap2 = randint(0, 1)\n        v1 = vecteur(\n          couplesVecteurs[swap][swap2],\n          couplesVecteurs[swap][1 - swap2],\n        )\n        v2 = vecteur(\n          couplesVecteurs[1 - swap][swap2],\n          couplesVecteurs[1 - swap][1 - swap2],\n        )\n        if (withFractions) {\n          if (\n            Number.isInteger(v1.x * 2) &&\n            Number.isInteger(v1.y * 2) &&\n            Number.isInteger(v2.x * 2) &&\n            Number.isInteger(v2.y * 2)\n          ) {\n            den = 2\n          } else {\n            den = 4\n          }\n        } else {\n          den = 1\n        }\n      } while (egal(v1.x * v2.y - v1.y * v2.x, 0, 0.0000001)) // On s'assure que les vecteurs ne sont pas colinéaires\n      sommets.push({ x: 0, y: 0, nom: noms[0], visible: choix !== 4, p: null })\n      sommets.push({\n        x: v1.x,\n        y: v1.y,\n        nom: noms[1],\n        visible: choix !== 3,\n        p: null,\n      })\n      sommets.push({\n        x: v1.x + v2.x,\n        y: v1.y + v2.y,\n        nom: noms[2],\n        visible: choix !== 2,\n        p: null,\n      })\n      sommets.push({\n        x: v2.x,\n        y: v2.y,\n        nom: noms[3],\n        visible: choix !== 1,\n        p: null,\n      })\n\n      let xMin: number\n      let yMin: number\n      let xMax: number\n      let yMax: number\n      xMin = Math.min(...sommets.map((s) => s.x))\n      yMin = Math.min(...sommets.map((s) => s.y))\n      xMax = Math.max(...sommets.map((s) => s.x))\n      yMax = Math.max(...sommets.map((s) => s.y))\n\n      if (withRelatifs) {\n        const deltaX = randint(-2 * den, 2 * den, 0) / den\n        const deltaY = randint(-2 * den, 2 * den, 0) / den\n        sommets.forEach((s) => {\n          s.x += deltaX\n          s.y += deltaY\n        })\n        xMin += deltaX\n        yMin += deltaY\n        xMax += deltaX\n        yMax += deltaY\n      } else {\n        const deltaX = xMin <= 0 ? -xMin + randint(0, 2 * den) / den : 0\n        const deltaY = yMin <= 0 ? -yMin + randint(0, 2 * den) / den : 0\n        sommets.forEach((s) => {\n          s.x += deltaX\n          s.y += deltaY\n        })\n        xMin += deltaX\n        yMin += deltaY\n        xMax += deltaX\n        yMax += deltaY\n      }\n      for (let j = 0; j < 4; j++) {\n        sommets[j].p = pointAbstrait(sommets[j].x, sommets[j].y, sommets[j].nom)\n      }\n      const repbuilder = new RepereBuilder({\n        xMin: Math.min(Math.floor(xMin - 1), 0),\n        yMin: Math.min(Math.floor(yMin - 1), 0),\n        xMax: Math.max(Math.ceil(xMax + 1) + 0.5, 1.5),\n        yMax: Math.max(Math.ceil(yMax + 1) + 0.5, 1.5),\n      })\n        .setThickX({\n          xMin: withRelatifs ? xMin - 1.1 : 0,\n          xMax: xMax + 1.1,\n          dx: 1,\n        })\n        .setThickY({\n          yMin: withRelatifs ? yMin - 1.1 : 0,\n          yMax: yMax + 1.1,\n          dy: 1,\n        })\n        .setGrille({\n          grilleX: {\n            xMin: withRelatifs ? Math.floor(xMin - 1) : 0,\n            xMax: Math.ceil(xMax + 1),\n            dx: 1,\n          },\n          grilleY: {\n            yMin: withRelatifs ? Math.floor(yMin - 1) : 0,\n            yMax: Math.ceil(yMax + 1),\n            dy: 1,\n          },\n        })\n      if (withFractions) {\n        repbuilder.setGrilleSecondaire({\n          grilleX: {\n            xMin: withRelatifs ? Math.floor(xMin - 1) : 0,\n            xMax: Math.ceil(xMax + 1),\n            dx: 1 / den,\n          },\n          grilleY: {\n            yMin: withRelatifs ? Math.floor(yMin - 1) : 0,\n            yMax: Math.ceil(yMax + 1),\n            dy: 1 / den,\n          },\n        })\n      }\n      const rep = repbuilder.buildCustom()\n      objetsEnonce.push(rep)\n      objetsCorrection.push(rep)\n      if (withSides) {\n        for (let c = 0; c < 4; c++) {\n          if (sommets[c % 4].visible && sommets[(c + 1) % 4].visible) {\n            const p1 = sommets[c].p\n            const p2 = sommets[(c + 1) % 4].p\n            if (p1 != null && p2 != null) {\n              objetsEnonce.push(segment(p1, p2))\n            }\n          }\n        }\n      }\n      const points = sommets.map((s) => s.p).filter((p) => p !== null)\n      const pointsVisibles = points\n        .map((p, index) => (sommets[index].visible ? p : null))\n        .filter((p) => p !== null)\n      const pointInvisible = points.find((p, index) => !sommets[index].visible)\n      const poly = polygone(...points)\n      const trace = tracePoint(...pointsVisibles)\n      trace.epaisseur = 2\n      const centre = {\n        x: (sommets[0].x + sommets[2].x) / 2,\n        y: (sommets[0].y + sommets[2].y) / 2,\n      }\n      const labels = pointsVisibles.map((p) => {\n        return latex2d(\n          p.nom,\n          p.x + 0.3 * (p.x > centre.x ? 1 : -1),\n          p.y + 0.3 * (p.y > centre.y ? 1 : -1),\n          { color: 'black', letterSize: 'small' },\n        )\n      })\n      objetsEnonce.push(trace, labels)\n      objetsCorrection.push(trace, labels, poly)\n      if (pointInvisible) {\n        const trace = tracePoint(pointInvisible, orangeMathalea)\n        trace.epaisseur = 2\n\n        objetsCorrection.push(\n          trace,\n          latex2d(\n            pointInvisible.nom,\n            pointInvisible.x + 0.3 * (pointInvisible.x > centre.x ? 1 : -1),\n            pointInvisible.y + 0.3 * (pointInvisible.y > centre.y ? 1 : -1),\n            { color: orangeMathalea, letterSize: 'small' },\n          ),\n        )\n      }\n      texte += `Dans le repère ci-dessous, donner les coordonnées du sommet $${noms[4 - choix]}$ du parallélogramme $${nom}$.`\n      if (pointInvisible) {\n        texte += ajouteQuestionMathlive({\n          exercice: this,\n          question: i,\n          typeInteractivite: 'fillInTheBlank',\n          content: `${pointInvisible.nom}(%{champ1}~;~%{champ2})`,\n          objetReponse: {\n            champ1: { value: pointInvisible.x },\n            champ2: { value: pointInvisible.y },\n          },\n        })\n        texte += mathalea2d(\n          Object.assign({ pixelsParCm: 30 }, fixeBordures(objetsEnonce)),\n          objetsEnonce,\n        )\n        texteCorr += mathalea2d(\n          Object.assign({ pixelsParCm: 30 }, fixeBordures(objetsCorrection)),\n          objetsCorrection,\n        )\n        if (this.correctionDetaillee) {\n          let dx: number\n          let dy: number\n          let plurielX = ''\n          let plurielY = ''\n          let sensX = ''\n          let sensY = ''\n          switch (choix) {\n            case 1:\n              dx = sommets[2].x - sommets[1].x\n              dy = sommets[2].y - sommets[1].y\n              sensX = dx > 0 ? 'droite' : 'gauche'\n              sensY = dy > 0 ? 'haut' : 'bas'\n              plurielX = Math.abs(dx) > 1 ? 's' : ''\n              plurielY = Math.abs(dy) > 1 ? 's' : ''\n              texteCorr += `Les segments $[${noms[0]}${noms[3]}]$ et $[${noms[1]}${noms[2]}]$ sont parallèles, de même longueur et $${nom}$ est un quadrilatère non croisé.<br>\n              On peut donc compter les déplacements horizontaux et verticaux à partir de $${noms[1]}$ jusqu'à $${noms[2]}$, puis reproduire les mêmes déplacements à partir de $${noms[0]}$.<br>\n              On se déplace de $${texNombre(Math.abs(dx), 2)}$ unité${plurielX} vers la ${sensX}, et de $${texNombre(Math.abs(dy), 2)}$ unité${plurielY} vers le ${sensY}.<br>`\n              break\n            case 2:\n              dx = sommets[3].x - sommets[0].x\n              dy = sommets[3].y - sommets[0].y\n              sensX = dx > 0 ? 'droite' : 'gauche'\n              sensY = dy > 0 ? 'haut' : 'bas'\n              plurielX = Math.abs(dx) > 1 ? 's' : ''\n              plurielY = Math.abs(dy) > 1 ? 's' : ''\n              texteCorr += `Les segments $[${noms[0]}${noms[1]}]$ et $[${noms[2]}${noms[3]}]$ sont parallèles, de même longueur et $${nom}$ est un quadrilatère non croisé.<br>\n              On peut donc compter les déplacements horizontaux et verticaux à partir de $${noms[0]}$ jusqu'à $${noms[1]}$, puis reproduire les mêmes déplacements à partir de $${noms[2]}$.<br>\n              On se déplace de $${texNombre(Math.abs(dx), 2)}$ unité${plurielX} vers la ${sensX}, et de $${texNombre(Math.abs(dy), 2)}$ unité${plurielY} vers le ${sensY}.<br>`\n              break\n            case 3:\n              dx = sommets[1].x - sommets[0].x\n              dy = sommets[1].y - sommets[0].y\n              sensX = dx > 0 ? 'droite' : 'gauche'\n              sensY = dy > 0 ? 'haut' : 'bas'\n              plurielX = Math.abs(dx) > 1 ? 's' : ''\n              plurielY = Math.abs(dy) > 1 ? 's' : ''\n              texteCorr += `Les segments $[${noms[0]}${noms[2]}]$ et $[${noms[1]}${noms[3]}]$ sont parallèles, de même longueur et $${nom}$ est un quadrilatère non croisé.<br>\n              On peut donc compter les déplacements horizontaux et verticaux à partir de $${noms[0]}$ jusqu'à $${noms[2]}$, puis reproduire les mêmes déplacements à partir de $${noms[1]}$.<br>\n              On se déplace de $${texNombre(Math.abs(dx), 2)}$ unité${plurielX} vers la ${sensX}, et de $${texNombre(Math.abs(dy), 2)}$ unité${plurielY} vers le ${sensY}.<br>`\n              break\n            case 4:\n              dx = sommets[3].x - sommets[2].x\n              dy = sommets[3].y - sommets[2].y\n              sensX = dx > 0 ? 'droite' : 'gauche'\n              sensY = dy > 0 ? 'haut' : 'bas'\n              plurielX = Math.abs(dx) > 1 ? 's' : ''\n              plurielY = Math.abs(dy) > 1 ? 's' : ''\n              texteCorr += `Les segments $[${noms[0]}${noms[3]}]$ et $[${noms[1]}${noms[2]}]$ sont parallèles, de même longueur et $${nom}$ est un quadrilatère non croisé.<br>\n              On peut donc compter les déplacements horizontaux et verticaux à partir de $${noms[0]}$ jusqu'à $${noms[3]}$, puis reproduire les mêmes déplacements à partir de $${noms[1]}$.<br>\n              On se déplace de $${texNombre(Math.abs(dx), 2)}$ unité${plurielX} vers la ${sensX}, et de $${texNombre(Math.abs(dy), 2)}$ unité${plurielY} vers le ${sensY}.<br>`\n              break\n          }\n        }\n        texteCorr += `Les coordonnées du sommet $${noms[4 - choix]}$ sont : $${miseEnEvidence(`(~${texNombre(pointInvisible.x, 2)}~;~${texNombre(pointInvisible.y, 2)}~)`)}$.`\n      }\n      if (this.questionJamaisPosee(i, nom)) {\n        this.listeQuestions.push(texte)\n        this.listeCorrections.push(texteCorr)\n        i++\n      }\n      cpt++\n      listeQuestionsToContenu(this)\n    }\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","couplesVecteursEntiers","couplesVecteursRationnels","ConstructionsParallelogrammesParticuliers","Exercice","listeTypeDeQuestion","gestionnaireFormulaireTexte","i","cpt","texte","texteCorr","noms","choisitLettresDifferentes","nom","objetsEnonce","objetsCorrection","withFractions","withRelatifs","withSides","choix","sommets","v1","v2","den","couplesVecteurs","choice","swap","randint","swap2","vecteur","egal","xMin","yMin","xMax","yMax","s","deltaX","deltaY","j","pointAbstrait","repbuilder","RepereBuilder","rep","c","p1","p2","segment","points","p","pointsVisibles","index","pointInvisible","poly","polygone","trace","tracePoint","centre","labels","latex2d","orangeMathalea","ajouteQuestionMathlive","mathalea2d","fixeBordures","dx","dy","plurielX","plurielY","sensX","sensY","texNombre","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}