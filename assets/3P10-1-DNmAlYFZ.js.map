{"version":3,"file":"3P10-1-DNmAlYFZ.js","sources":["../../src/exercices/3e/3P10-1.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/interactivity/mathLive.texte.test.ts ⚠️\n */\n\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport Decimal from 'decimal.js'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\n\nexport const titre =\n  \"Lier un coefficient multiplicateur d'une variation à un pourcentage et réciproquement\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * Déterminer le coefficient de proportionnalité associé à une évolution en pourcentage ou l'inverse\n * @author Rémi Angot\n */\nexport const uuid = '4ce2d'\n\nexport const refs = {\n  'fr-fr': ['3P10-1', 'BP2CCF12'],\n  'fr-ch': ['10FA4-6'],\n}\nexport default class CoefficientEvolution extends Exercice {\n  version = 1\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      3,\n      '1 : Déterminer le coefficient\\n2 : Exprimer une variation en pourcentage\\n3 : Mélange',\n    ]\n\n    this.consigne = 'Compléter.'\n    this.nbQuestions = 4\n\n    this.sup = 1\n    this.version = 1\n  }\n\n  // }\n  nouvelleVersion() {\n    let typesDeQuestionsDisponibles = []\n    this.sup = contraindreValeur(1, 3, this.sup, 1)\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = ['coef+', 'coef-']\n      this.introduction = this.interactif\n        ? '<em>Il faut saisir un nombre décimal.</em>'\n        : ''\n    } else if (this.sup === 2) {\n      typesDeQuestionsDisponibles = ['taux+', 'taux-']\n      this.introduction = this.interactif\n        ? '<em>Il faut saisir une réponse de la forme +10% ou -10%.</em>'\n        : ''\n    } else {\n      typesDeQuestionsDisponibles = ['coef+', 'coef-', 'taux+', 'taux-']\n      this.introduction = this.interactif\n        ? '<em>Il faut saisir un nombre décimal ou une réponse de la forme +10% ou -10%.</em>'\n        : ''\n    }\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    for (\n      let i = 0, texte, texteCorr, reponse, taux, coeff, cpt = 0;\n      i < this.nbQuestions && cpt < 100;\n\n    ) {\n      if (['taux-', 'coef-'].includes(listeTypeDeQuestions[i])) {\n        taux = choice([randint(1, 9) * 10, randint(1, 29, [10, 20])])\n      } else {\n        taux = choice([randint(1, 19) * 10, randint(1, 29, [10, 20])])\n      }\n      switch (listeTypeDeQuestions[i]) {\n        case 'coef+':\n          texte = `Augmenter de $${taux}~\\\\%$ revient à multiplier par `\n          coeff = texNombre(1 + taux / 100, 2)\n          texteCorr = `Augmenter de $${taux}~\\\\%$ revient à multiplier par $${miseEnEvidence(coeff)}$ car $100~\\\\% + ${taux}~\\\\% = ${100 + taux}~\\\\%$.`\n          if (this.version === 2) {\n            texteCorr = `On cherche le coefficient multiplicateur $CM$ connaissant le taux d'évolution $T=${taux}~\\\\%=${texNombre(taux / 100, 2)}$.<br>\n         Comme $CM=1+T$ alors $CM=1+${texNombre(taux / 100, 2)}=${coeff}$.<br>\n         Ainsi, augmenter de $${taux}~\\\\%$ revient à multiplier par $${miseEnEvidence(coeff)}$.`\n          }\n          reponse = new Decimal(taux).div(100).add(1)\n          setReponse(this, i, reponse, { formatInteractif: 'calcul' })\n\n          break\n        case 'coef-':\n          texte = `Diminuer de $${taux}~\\\\%$ revient à multiplier par `\n          coeff = texNombre(1 - taux / 100, 2)\n          texteCorr = `Diminuer de $${taux}~\\\\%$ revient à multiplier par $${miseEnEvidence(coeff)}$ car $100~\\\\% - ${taux}~\\\\% = ${100 - taux}~\\\\%$.`\n          if (this.version === 2) {\n            texteCorr = `On cherche le coefficient multiplicateur $CM$ connaissant le taux d'évolution $T=-${taux}~\\\\%=-${texNombre(taux / 100, 2)}$.<br>\n          Comme $CM=1+T$ alors $CM=1-${texNombre(taux / 100, 2)}=${coeff}$.<br>\n          Ainsi, diminuer de $${taux}~\\\\%$ revient à multiplier par $${miseEnEvidence(coeff)}$.`\n          }\n          reponse = new Decimal(-taux).div(100).add(1)\n          setReponse(this, i, reponse, { formatInteractif: 'calcul' })\n\n          break\n        case 'taux+':\n          coeff = texNombre(1 + taux / 100, 2)\n          texte = this.interactif\n            ? `Multiplier par $${coeff}$ revient à faire `\n            : `Multiplier par $${coeff}$ revient à `\n\n          texteCorr = `Multiplier par $${coeff}$ revient à ${texteEnCouleurEtGras('augmenter de ', 'blue')} $${miseEnEvidence(`${taux}~\\\\%`, 'blue')}$  car $${coeff} = ${100 + taux}~\\\\% = 100~\\\\% ${miseEnEvidence(`+ ${taux}~\\\\%`)}$.`\n          if (this.version === 2) {\n            texteCorr = `On cherche le taux d'évolution $T$   connaissant le coefficient multiplicateur $CM=${coeff}$.<br>\n          Comme $T=CM-1$, alors $T=${coeff}-1=${texNombre(taux / 100, 2)}$.<br>\n          Ainsi, multiplier par $${coeff}$ revient à  augmenter de $${taux}~\\\\%$, soit $T=${miseEnEvidence(`+ ${taux}~\\\\%`)}$.\n          `\n          }\n          reponse = `+${taux}\\\\%`\n          setReponse(this, i, reponse, { formatInteractif: 'texte' })\n\n          break\n        case 'taux-':\n        default:\n          coeff = texNombre(1 - taux / 100, 2)\n          texte = this.interactif\n            ? `Multiplier par $${coeff}$ revient à faire `\n            : `Multiplier par $${coeff}$ revient à `\n          texteCorr = `Multiplier par $${coeff}$ revient à ${texteEnCouleurEtGras('diminuer de ', 'blue')} $${miseEnEvidence(`${taux}~\\\\%`, 'blue')}$ car $${coeff} = ${100 - taux}~\\\\% = 100~\\\\% ${miseEnEvidence(`- ${taux}~\\\\%`)}$.`\n          if (this.version === 2) {\n            texteCorr = `On cherche le taux d'évolution $T$  connaissant le coefficient multiplicateur $CM=${coeff}$.<br>\n          Comme $T=CM-1$, alors $T=${coeff}-1=-${texNombre(taux / 100, 2)}$.<br>\n          Ainsi, multiplier par $${coeff}$ revient à diminuer de $${taux}~\\\\%$, soit $T=${miseEnEvidence(`- ${taux}~\\\\%`)}$.\n          `\n          }\n          reponse = `-${taux}\\\\%`\n          setReponse(this, i, reponse, { formatInteractif: 'texte' })\n          break\n      }\n      texte += this.interactif ? ajouteChampTexteMathLive(this, i) : '...'\n      if (this.questionJamaisPosee(i, taux)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","CoefficientEvolution","Exercice","__publicField","typesDeQuestionsDisponibles","contraindreValeur","listeTypeDeQuestions","combinaisonListes","i","texte","texteCorr","reponse","taux","coeff","cpt","choice","randint","texNombre","miseEnEvidence","Decimal","setReponse","texteEnCouleurEtGras","ajouteChampTexteMathLive","listeQuestionsToContenu"],"mappings":"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"}