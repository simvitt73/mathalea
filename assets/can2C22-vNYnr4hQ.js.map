{"version":3,"file":"can2C22-vNYnr4hQ.js","sources":["../../src/exercices/can/2e/can2C22.ts"],"sourcesContent":["import { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { ecritureAlgebrique } from '../../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre = 'Calculer une expression avec des valeurs'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '06/07/2025'\n/**\n * @author Gilles Mora (IA pour les distracteurs)\n * Réference : can2C22\n */\nexport const uuid = 'af398'\n\nexport const refs = {\n  'fr-fr': ['can2C22'],\n  'fr-ch': [],\n}\nexport default class CalculExpAvecValeurs extends ExerciceSimple {\n  constructor() {\n    super()\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.spacing = 3\n    this.optionsDeComparaison = { fractionEgale: true }\n    this.versionQcmDisponible = true\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n    this.optionsDeComparaison = { nombreDecimalSeulement: true }\n  }\n\n  nouvelleVersion() {\n    let a, b, c, d, frac1\n    switch (randint(1, 2)) {\n      case 1:\n        {\n          frac1 = choice([\n            [1, 3],\n            [2, 3],\n            [3, 4],\n            [1, 4],\n            [2, 5],\n            [1, 2],\n            [1, 6],\n            [1, 7],\n          ])\n          a = new FractionEtendue(frac1[0], frac1[1])\n          b = randint(1, 9)\n          c = randint(-9, 9, [-2, -1, 0, 1, 2])\n          d = choice([new FractionEtendue(1, c), new FractionEtendue(1, -c)])\n          const candidats: FractionEtendue[] = [\n            new FractionEtendue(\n              a.num * d.num * c + b * d.den,\n              a.den * d.num * c,\n            ),\n            new FractionEtendue(\n              a.num * d.den * c + b * d.num * a.den,\n              a.den * d.den * c,\n            ),\n            a.sommeFraction(new FractionEtendue(b, (c * d.num) / d.den)),\n            new FractionEtendue(\n              a.num * d.num * c + b * d.den * a.den,\n              a.den * d.num,\n            ),\n            a.sommeFraction(new FractionEtendue(b, 1)), // celui qui cause l'ambiguïté\n            new FractionEtendue(\n              a.num * d.num * c - b * d.den * a.den,\n              a.den * d.num * c,\n            ),\n          ]\n          const num = a.num * d.num * c + b * d.den * a.den\n          const den = a.den * d.num * c\n\n          const bonneReponse = new FractionEtendue(num, den).simplifie()\n          this.reponse = this.versionQcm\n            ? `$${bonneReponse.texFractionSimplifiee}$`\n            : bonneReponse\n\n          this.question = `\nOn considère la relation  $F=a+\\\\dfrac{b}{cd}$.<br>\nLorsque $a=${a.texFraction}$, $b=${b}$, $c=${c}$ et $d=${d.texFractionSimplifiee}$, la valeur de $F$ est égale à : `\n\n          this.correction = `On remplace $a$, $b$, $c$ et $d$ par les valeurs données : <br>\n$\\\\begin{aligned}\nF&=${a.texFraction}+\\\\dfrac{${b}}{${c}\\\\times ${d.den * d.num > 0 ? `${d.texFractionSimplifiee}` : `\\\\left(${d.texFractionSimplifiee}\\\\right)`}}\\\\\\\\\n&=${a.texFraction}+\\\\dfrac{${b}}{${d.multiplieEntier(c).texFractionSimplifiee}}\\\\\\\\\n&=${a.texFraction}${b * d.den * c * d.num > 0 ? '+' : ''}${new FractionEtendue(b * d.den, c * d.num).texFractionSimplifiee}\\\\\\\\\n&=${miseEnEvidence(`${bonneReponse.texFractionSimplifiee}`)}\n\\\\end{aligned}$`\n\n          this.canEnonce = `On considère la relation $F=a+\\\\dfrac{b}{cd}$.<br>\nCalculer $F$ lorsque  $a=${a.texFraction}$, $b=${b}$, $c=${c}$ et $d=${d.texFractionSimplifiee}$.`\n          this.canReponseACompleter = '$F=\\\\ldots$'\n\n          const distracteursValides: string[] = []\n          for (const frac of candidats) {\n            const simpl = frac.simplifie().texFractionSimplifiee\n            if (\n              simpl !== bonneReponse.texFractionSimplifiee &&\n              !distracteursValides.includes(`$${simpl}$`)\n            ) {\n              distracteursValides.push(`$${simpl}$`)\n            }\n            if (distracteursValides.length === 3) break\n          }\n\n          // Complète avec \"N/A\" si besoin\n          while (distracteursValides.length < 3) {\n            distracteursValides.push('$\\\\text{N/A}$')\n          }\n\n          this.distracteurs = distracteursValides\n        }\n        break\n      case 2:\n        {\n          const fracB = choice([\n            [1, 2],\n            [1, 3],\n            [1, 4],\n            [1, 5],\n            [1, 6],\n            [1, 7],\n          ])\n          b = new FractionEtendue(fracB[0], fracB[1]) // numérateur 1\n          a = randint(1, 5)\n          c = randint(4, 4, 0)\n          const fracD = choice([\n            [1, 2],\n            [2, 3],\n            [3, 4],\n            [1, 4],\n            [3, 5],\n          ])\n          d = new FractionEtendue(fracD[0], fracD[1])\n          const div = new FractionEtendue(a * b.den, b.num)\n          const prod = new FractionEtendue(c * d.num, d.den) // c * d\n          this.reponse = div.sommeFraction(prod)\n\n          this.question = `\nOn considère la relation $F=\\\\dfrac{a}{b}+cd$.<br>\nLorsque $a=${a}$, $b=${b.texFraction}$, $c=${c}$ et $d=${d.texFraction}$, la valeur de $F$ est égale à : `\n\n          this.correction = `On remplace $a$, $b$, $c$ et $d$ par les valeurs données :<br>\n$\\\\begin{aligned}\nF &= \\\\dfrac{${a}}{${b.texFraction}} ${ecritureAlgebrique(c)} \\\\times ${d.texFraction} \\\\\\\\\n  &= ${div.texFraction}  ${c > 0 ? `+${prod.texFractionSimplifiee}` : `${prod.texFractionSimplifiee}`}\\\\\\\\\n  &= ${miseEnEvidence(this.reponse.texFractionSimplifiee)}\n\\\\end{aligned}$`\n          this.canEnonce = `On considère la relation $F=\\\\dfrac{a}{b}+cd$.<br>\nCalculer $F$ lorsque $a=${a}$, $b=${b.texFraction}$, $c=${c}$ et $d=${d.texFraction}$.`\n          this.canReponseACompleter = '$F=\\\\ldots$'\n          const erreur1 = new FractionEtendue(a, b.num * b.den)\n          const dist1 = erreur1.sommeFraction(prod)\n\n          // Erreur 2 : Oubli de la multiplication c*d (juste addition de c et d)\n          const erreur2 = new FractionEtendue(c + d.num, d.den)\n          const dist2 = div.sommeFraction(erreur2)\n\n          // Erreur 3 : Erreur dans l'ordre des opérations (calculer d'abord a+c puis diviser par b et multiplier par d)\n          const erreur3 = new FractionEtendue((a + c) * d.num, b.num * d.den)\n\n          this.distracteurs = [\n            `$${dist1.texFractionSimplifiee}$`,\n            `$${dist2.texFractionSimplifiee}$`,\n            `$${erreur3.texFractionSimplifiee}$`,\n          ]\n        }\n\n        break\n    }\n    if (!this.interactif && !this.versionQcm) {\n      this.question += ' $\\\\ldots$'\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","CalculExpAvecValeurs","ExerciceSimple","KeyboardType","a","b","c","d","frac1","randint","choice","FractionEtendue","candidats","num","den","bonneReponse","miseEnEvidence","distracteursValides","frac","simpl","fracB","fracD","div","prod","ecritureAlgebrique","dist1","erreur2","dist2","erreur3"],"mappings":"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"}