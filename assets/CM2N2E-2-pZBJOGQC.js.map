{"version":3,"file":"CM2N2E-2-pZBJOGQC.js","sources":["../../src/exercices/CM2/CM2N2E-2.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport GraduatedLine from 'apigeom/src/elements/grid/GraduatedLine'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreIndiceeDepuisChiffre } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { fraction } from '../../modules/fractions'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '29/06/2021'\nexport const dateDeModifImportante = '03/05/2024'\nexport const titre = \"Placer des points d'abscisses fractionnaires\"\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * @author R√©mi Angot\n */\nexport const uuid = '2ba53'\n\nexport const refs = {\n  'fr-fr': ['CM2N2E-2'],\n  'fr-2016': ['6N21'],\n  'fr-ch': ['9NO11-4'],\n}\n\ntype goodAnswer = { label: string; x: number }[]\n\nclass PlacerPointsAbscissesFractionnaires extends Exercice {\n  goodAnswers!: goodAnswer[]\n  figuresApiGeom!: Figure[]\n  constructor() {\n    super()\n\n    this.nbQuestions = 5\n    this.sup = 1\n    this.sup2 = false\n    this.sup3 = true\n    this.exoCustomResultat = true\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficult√©',\n      4,\n      '1 : Demis, tiers ou quarts avec z√©ro plac√©\\n2 : Des cinqui√®mes aux neuvi√®mes avec z√©ro plac√© \\n3 : Toutes les fractions pr√©c√©dentes mais z√©ro non visible\\n4 : M√©lange\\n5 : M√©lange avec des nombres relatifs',\n    ] // Niveau de difficult√© : 5 cf 2N10-3\n    // cf 2N10-3\n    this.besoinFormulaire2CaseACocher = ['Utiliser la notation ( )', false]\n    this.besoinFormulaire3CaseACocher = ['Correction d√©taill√©e', true]\n  }\n\n  nouvelleVersion() {\n    this.figuresApiGeom = []\n    this.goodAnswers = []\n    let typeDeQuestions\n    if (this.sup > 3) {\n      typeDeQuestions = combinaisonListes([1, 2, 3], this.nbQuestions)\n    } else {\n      typeDeQuestions = combinaisonListes([this.sup], this.nbQuestions)\n    }\n    const fractionsUtilisees: Array<[number, number]> = [] // Pour s'assurer de ne pas poser 2 fois la m√™me question\n    const tableUtilis√©es: [number[], number[], number[]] = [[], [], []]\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let origine, num1, den1: number\n      const scale = 2\n      switch (typeDeQuestions[i]) {\n        case 1: // Placer des demis aux quarts sur un axe\n          origine = this.sup > 4 ? randint(-4, 1) : 0\n          den1 = randint(2, 4, tableUtilis√©es[0])\n          num1 = origine * den1 + randint(1, den1 * 4)\n          if (num1 === 0) num1 += origine + 4 === 0 ? -1 : 1 // ne pas avoir 0 comme premier nombre, pour la correction d√©taill√©e\n          tableUtilis√©es[0].push(den1)\n          if (tableUtilis√©es[0].length === 3) tableUtilis√©es[0] = []\n          break\n        case 2: // Placer des cinqui√®mes aux neuvi√®mes sur un axe\n          origine = this.sup > 4 ? randint(-4, 1) : 0\n          den1 = randint(5, 9, tableUtilis√©es[1])\n          num1 = origine * den1 + randint(1, den1 * 4)\n          if (num1 === 0) num1 += origine + 4 === 0 ? -1 : 1 // ne pas avoir 0 comme premier nombre, pour la correction d√©taill√©e\n          tableUtilis√©es[1].push(den1)\n          if (tableUtilis√©es[1].length === 5) tableUtilis√©es[1] = []\n          break\n        default: // Placer des demis aux neuvi√®mes √† partir d'un entier >=1 sur un axe\n          origine = this.sup > 4 ? randint(-4, 1) : randint(1, 7)\n          den1 = randint(2, 9, tableUtilis√©es[2])\n          num1 = randint(origine * den1 + 1, (origine + 4) * den1, den1)\n          if (num1 === 0) num1 += origine + 4 === 0 ? -1 : 1 // ne pas avoir 0 comme premier nombre, pour la correction d√©taill√©e\n          tableUtilis√©es[2].push(den1)\n          if (tableUtilis√©es[2].length === 8) tableUtilis√©es[2] = []\n      }\n\n      const num2 = randint(origine * den1 + 1, (origine + 4) * den1, [\n        num1,\n        den1,\n      ])\n      const num3 = randint(origine * den1 + 1, (origine + 4) * den1, [\n        num1,\n        num2,\n        den1,\n      ])\n\n      const label1 = lettreIndiceeDepuisChiffre(i * 3 + 1)\n      const label2 = lettreIndiceeDepuisChiffre(i * 3 + 2)\n      const label3 = lettreIndiceeDepuisChiffre(i * 3 + 3)\n\n      this.goodAnswers[i] = [\n        { label: label1, x: arrondi(num1 / den1, 4) },\n        { label: label2, x: arrondi(num2 / den1, 4) },\n        { label: label3, x: arrondi(num3 / den1, 4) },\n      ]\n      if (this.sup2) {\n        // const s = fraction(num1, den1).ecritureAlgebrique()\n        texte = `Placer les points $${label1}\\\\left(${fraction(num1, den1).toLatex()}\\\\right)$, $~${label2}\\\\left(${fraction(num2, den1).toLatex()}\\\\right)$ et $~${label3}\\\\left(${fraction(num3, den1).toLatex()}\\\\right)$.`\n      } else {\n        texte = `Placer le point $${label1}$ d'abscisse $${fraction(num1, den1).toLatex()}$, le point $${label2}$ d'abscisse $${fraction(num2, den1).toLatex()}$ et le point $${label3}$ d'abscisse $${fraction(num3, den1).toLatex()}$.`\n      }\n      const { figure, latex } = apigeomGraduatedLine({\n        xMin: origine,\n        xMax: origine + 4,\n        scale,\n        stepBis: 1 / den1,\n      })\n      figure.options.labelAutomaticBeginsWith = label1\n      figure.options.pointDescriptionWithCoordinates = false\n      this.figuresApiGeom[i] = figure\n      const { figure: figureCorr, latex: latexCorr } = apigeomGraduatedLine({\n        xMin: origine,\n        xMax: origine + 4,\n        scale,\n        stepBis: arrondi(1 / den1, 6),\n        points: this.goodAnswers[i],\n      })\n      figureCorr.create('Point', {\n        label: label1,\n        x: arrondi(num1 / den1, 4),\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        shape: 'x',\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: label2,\n        x: arrondi(num2 / den1, 4),\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: label3,\n        x: arrondi(num3 / den1, 4),\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n\n      switch (true) {\n        case context.isHtml && this.interactif:\n          texte +=\n            '<br>' +\n            figureApigeom({\n              exercice: this as Exercice,\n              i,\n              idAddendum: refs['fr-fr'][0],\n              figure,\n              defaultAction: 'POINT',\n            })\n          texteCorr += figureCorr.getStaticHtml()\n          break\n        case context.isHtml:\n          texte += '<br>' + figure.getStaticHtml()\n          texteCorr += figureCorr.getStaticHtml()\n          break\n        default:\n          texte += '\\n\\n' + latex\n          texteCorr += '\\\\;\\n' + latexCorr\n          break\n      }\n      // correction d√©taill√©e\n      if (this.sup3) {\n        texteCorr += context.isHtml ? '<br>' : ''\n        texteCorr += `Dans une unit√©, il y a $${den1}$ intervalles, donc le pas est de $\\\\dfrac{1}{${den1}}$.<br>`\n        if (typeDeQuestions[i] === 3 && this.sup < 5) {\n          texteCorr += `Le point $${label1}$ est entre $${origine}$ et $${origine + 4}$. $${origine}$ correspond √† $${fraction(origine * den1, den1).toLatex()}$ car il faut $${den1}$ intervalles pour faire une unit√© donc pour $${origine}$ unit√©s, il en faut $${origine} \\\\times ${den1} = ${origine * den1}$ pas.<br>`\n          texteCorr += `A partir de la graduation $${origine}$, il faut encore $${num1 - origine * den1}$ pas pour placer le point $${label1}$ car $${origine * den1}$ + $${num1 - origine * den1}$ = $${num1}$ .`\n        } else {\n          texteCorr += `Le point $${label1}$ a pour abscisse $${fraction(num1, den1).toLatex()}$, il faut donc `\n          texteCorr +=\n            num1 > 0 ? `avancer de $${num1}$ ` : `reculer de $${-num1}$ `\n          texteCorr += `pas √† partir de l'origine pour placer le point $${label1}$.`\n        }\n        texteCorr += `<br>On effectue la m√™me d√©marche pour les points $${label2}$ et $${label3}$.`\n      }\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: 'ici la (ou les) question(s) est(sont) pos√©e(s)',\n          enonceAvant: false, // EE : ce champ est facultatif et permet (si false) de supprimer l'√©nonc√© ci-dessus avant la num√©rotation de chaque question.\n          enonceAvantUneFois: false, // EE : ce champ est facultatif et permet (si true) d'afficher l'√©nonc√© ci-dessus une seule fois avant la num√©rotation de la premi√®re question de l'exercice. Ne fonctionne correctement que si l'option melange est √† false.\n          propositions: [\n            {\n              type: 'AMCOpen', // on donne le type de la premi√®re question-r√©ponse qcmMono, qcmMult, AMCNum, AMCOpen\n              propositions: [\n                {\n                  texte: texteCorr,\n                  statut: 3, // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la r√©ponse de l'√©l√®ve sur AMC)\n                  enonce: texte,\n                  sanscadre: true, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la r√©ponse de l'√©l√®ve\n                },\n              ],\n            },\n          ],\n        }\n      }\n      if (!isArrayInArray(fractionsUtilisees, [num1, den1])) {\n        // Si la question n'a jamais √©t√© pos√©e, on en cr√©e une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n        fractionsUtilisees[i] = [num1, den1]\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined) return ['KO']\n    // Sauvegarde de la r√©ponse pour Capytale\n    if (this.answers == null) this.answers = {}\n    if (this == null) return ['KO']\n    if (this.figures == null) return ['KO']\n    this.answers[this.figuresApiGeom[i].id] = this.figuresApiGeom[i].json\n    const result: ('OK' | 'KO')[] = []\n    const figure = this.figuresApiGeom[i]\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const goodAnswer = this.goodAnswers[i]\n    const divFeedback = document.querySelector(\n      `#feedback${`Ex${this.numeroExercice}Q${i}`}`,\n    )\n    for (let j = 0; j < goodAnswer.length; j++) {\n      const label = goodAnswer[j].label\n      const x = goodAnswer[j].x\n      const { isValid, points } = figure.checkCoords({\n        checkOnlyAbscissa: true,\n        label,\n        x,\n        y: 0,\n      })\n      const point = points[0]\n      if (isValid) {\n        result.push('OK')\n        point.color = 'green'\n        point.colorLabel = 'green'\n        point.thickness = 3\n      } else {\n        result.push('KO')\n        if (point !== undefined) {\n          point.color = 'red'\n          point.colorLabel = 'red'\n          point.color = 'red'\n          point.thickness = 3\n        }\n      }\n    }\n    if (divFeedback != null) {\n      if (result[0] === 'OK' && result[1] === 'OK' && result[2] === 'OK') {\n        divFeedback.innerHTML = 'üòé'\n      } else {\n        const p = document.createElement('p')\n        p.innerText = '‚òπÔ∏è'\n        divFeedback.insertBefore(p, divFeedback.firstChild)\n      }\n    }\n    return result\n  }\n}\n\n/**\n * V√©rifie la pr√©sence d'un tableau dans un tableau de tableau\n * @param {array} arr\n * @param {array} item\n * @returns {boolean}\n */\nfunction isArrayInArray(arr: Array<[number, number]>, item: [number, number]) {\n  const itemAsString = JSON.stringify(item)\n  const contains = arr.some(function (ele) {\n    return JSON.stringify(ele) === itemAsString\n  })\n  return contains\n}\n\nfunction apigeomGraduatedLine({\n  xMin,\n  xMax,\n  scale = 1,\n  points,\n  step = 1,\n  stepBis = 0.25,\n}: {\n  xMin: number\n  xMax: number\n  scale?: number\n  step?: number\n  stepBis?: number\n  points?: Array<{ x: number; label: string }>\n}): { figure: Figure; latex: string } {\n  const width = 750\n  const height = 80\n  const figure = new Figure({\n    xMin: xMin - 0.2 / scale,\n    yMin: -1.5,\n    width,\n    height,\n    dy: 10,\n    dx: stepBis,\n    xScale: 3 * scale,\n    snapGrid: true,\n  })\n  figure.setToolbar({ tools: ['POINT', 'DRAG', 'REMOVE'], position: 'top' })\n\n  const d = new GraduatedLine(figure, { min: xMin, max: xMax, step, stepBis })\n  d.draw()\n  let latex = `\\n\\\\bigskip\n  \\\\begin{tikzpicture}[x=2.5mm]\n  \\\\draw[-{Latex[round]},thick] (0,0) -- (61,0);\n  \\\\foreach \\\\x in {0,${10 * stepBis},...,60} \\\\draw[thick] ([yshift=-0.8mm]\\\\x,0) -- ([yshift=0.8mm]\\\\x,0);\n  \\\\foreach \\\\x [count=\\\\i from 0] in {0,10,...,60} \\\\draw[ultra thick] ([yshift=-1.5mm]\\\\x,0) coordinate (a\\\\i) -- ([yshift=1.5mm]\\\\x,0);\n  \\\\foreach \\\\x [count=\\\\i from 0] in {${xMin},${xMin + 1},${xMin + 2},${xMin + 3},${xMin + 4},${xMin + 5},${xMin + 6}} {\n    \\\\node[below=2mm of a\\\\i,inner sep=0pt,font=\\\\small] {$\\\\num{\\\\x}$};\n  }`\n  if (points !== undefined) {\n    const xA = arrondi((points[0].x - xMin) * 10)\n    const xB = arrondi((points[1].x - xMin) * 10)\n    const xC = arrondi((points[2].x - xMin) * 10)\n    const labelA = points[0].label\n    const labelB = points[1].label\n    const labelC = points[2].label\n    latex += `\\n\\\\tkzText[above=2mm](${xA},0){${labelA}}\n    \\n\\\\tkzText[above=2mm](${xB},0){${labelB}}\n    \\n\\\\tkzText[above=2mm](${xC},0){${labelC}}\n    \\n\\\\tkzDrawPoint[shape=cross out, size=5pt, thick](${xA},0)\n    \\n\\\\tkzDrawPoint[shape=cross out, size=5pt, thick](${xB},0)\n    \\n\\\\tkzDrawPoint[shape=cross out, size=5pt, thick](${xC},0)`\n  }\n  latex += '\\n\\\\end{tikzpicture}'\n\n  return { figure, latex }\n}\n\nexport default PlacerPointsAbscissesFractionnaires\n"],"names":["dateDePublication","dateDeModifImportante","titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","PlacerPointsAbscissesFractionnaires","Exercice","__publicField","i","result","figure","goodAnswer","divFeedback","j","label","x","isValid","points","point","p","typeDeQuestions","combinaisonListes","fractionsUtilisees","tableUtilis√©es","cpt","texte","texteCorr","origine","num1","den1","randint","num2","num3","label1","lettreIndiceeDepuisChiffre","label2","label3","arrondi","fraction","latex","apigeomGraduatedLine","figureCorr","latexCorr","orangeMathalea","context","figureApigeom","isArrayInArray","listeQuestionsToContenu","arr","item","itemAsString","ele","xMin","xMax","scale","step","stepBis","Figure","GraduatedLine","xA","xB","xC","labelA","labelB","labelC"],"mappings":"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"}