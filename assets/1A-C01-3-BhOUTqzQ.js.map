{"version":3,"file":"1A-C01-3-BhOUTqzQ.js","sources":["../../src/exercices/1e/1A-C01-3.ts"],"sourcesContent":["import { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { randint } from '../../modules/outils'\n// import ExerciceQcmA from '../../ExerciceQcmA'\nimport ExerciceQcmA from '../ExerciceQcmA'\n\nexport const uuid = '3e5b1'\nexport const refs = {\n  'fr-fr': ['1A-C01-3'],\n  'fr-ch': [],\n}\nexport const interactifReady = true\nexport const interactifType = 'qcm'\nexport const amcReady = 'true'\nexport const amcType = 'qcmMono'\nexport const titre = 'Comparer des grands ou des petits nombres'\nexport const dateDePublication = '24/09/2025'\n// Ceci est un exemple de QCM avec version originale et version aléatoire\n/**\n *\n * @author Gilles Mora + claude\n *\n */\nexport default class AutoC1c extends ExerciceQcmA {\n  versionOriginale: () => void = () => {\n    this.enonce =\n      `Voici quatre planètes et leur masse :<br><br>` +\n      tableauColonneLigne(\n        ['\\\\text{Planètes}', '\\\\text{Masses}'],\n        ['\\\\text{Terre}', '\\\\text{Mercure}', '\\\\text{Vénus}', '\\\\text{Mars}'],\n        [\n          `${texNombre(5973)}\\\\times 10^{21}\\\\text{ kg}`,\n          `${texNombre(33.02)}\\\\times 10^{22}\\\\text{ kg}`,\n          `${texNombre(48685)}\\\\times 10^{20}\\\\text{ kg}`,\n          `${texNombre(6.4185)}\\\\times 10^{23}\\\\text{ kg}`,\n        ],\n      ) +\n      `<br><br>La planète dont la masse est la plus importante est :`\n\n    this.correction = `On écrit les masses en écriture scientifique pour les comparer :<br><br>\n    • Terre : $${texNombre(5973)}\\\\times 10^{21} = ${texNombre(5.973)}\\\\times 10^{3}\\\\times 10^{21} =${texNombre(5.973)}\\\\times 10^{24}$ kg<br>\n    • Mercure : $${texNombre(33.02)}\\\\times 10^{22}=${texNombre(3.302)}\\\\times 10^{1}\\\\times 10^{22}=${texNombre(3.302)}\\\\times 10^{23}$ kg<br>\n    • Vénus : $${texNombre(48685)}\\\\times 10^{20} = ${texNombre(4.8685)}\\\\times 10^{4}\\\\times 10^{20}= ${texNombre(4.8685)}\\\\times 10^{24}$ kg<br>\n    • Mars : $${texNombre(6.4185)}\\\\times 10^{23}$ kg<br><br>\n   On a donc : $${texNombre(5.973)}\\\\times 10^{24} > ${texNombre(4.8685)}\\\\times 10^{24}>${texNombre(6.4185)}\\\\times 10^{23} > ${texNombre(3.302)}$<br><br>\n    Donc il s'agit de la planète ${texteEnCouleurEtGras('Terre')} qui a la masse la plus importante.`\n\n    this.reponses = ['Terre', 'Mars', 'Mercure', 'Vénus']\n  }\n\n  versionAleatoire: () => void = () => {\n    // Choisir le type d'exercice : 1 = masses de planètes, 2 = tailles de cellules/particules\n    const typeExercice = randint(1, 2)\n\n    // Générer 4 cas différents selon le numéro de l'élément avec la plus grande valeur\n    const cas = randint(1, 4) // 1, 2, 3 ou 4\n\n    let noms: string[] = []\n    let unite = ''\n    let contexte = ''\n    let puissancesDisponibles: number[] = []\n\n    if (typeExercice === 1) {\n      // Cas 1 : Masses de planètes (puissances positives)\n      noms = ['Planète 1', 'Planète 2', 'Planète 3', 'Planète 4']\n      unite = '\\\\text{ kg}'\n      contexte = 'Voici quatre planètes et leur masse'\n      puissancesDisponibles = [20, 21, 22, 23, 24]\n    } else {\n      // Cas 2 : Tailles de cellules/particules (puissances négatives)\n      noms = ['Cellule 1', 'Cellule 2', 'Cellule 3', 'Cellule 4']\n      unite = '\\\\text{ mm}'\n      contexte = 'Voici quatre cellules et leur taille'\n      puissancesDisponibles = [-6, -7, -8, -9, -10]\n    }\n\n    // Génération des puissances : maximum 2 identiques\n    let puissances: number[] = []\n    const puissancesUtilisees = new Set()\n\n    // Choisir 2 puissances qui seront utilisées 2 fois chacune, ou 4 puissances différentes\n    const nombrePuissancesUniques = randint(2, 4) // 2, 3 ou 4 puissances différentes\n\n    if (nombrePuissancesUniques === 2) {\n      // 2 puissances, chacune utilisée 2 fois\n      const puissance1 =\n        puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n      let puissance2 =\n        puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n      while (puissance2 === puissance1) {\n        puissance2 =\n          puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n      }\n      puissances = [puissance1, puissance1, puissance2, puissance2]\n      // Mélanger l'ordre\n      for (let i = puissances.length - 1; i > 0; i--) {\n        const j = randint(0, i)\n        ;[puissances[i], puissances[j]] = [puissances[j], puissances[i]]\n      }\n    } else if (nombrePuissancesUniques === 3) {\n      // 1 puissance utilisée 2 fois, 2 autres uniques\n      const puissanceDouble =\n        puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n      puissancesUtilisees.add(puissanceDouble)\n      puissances = [puissanceDouble, puissanceDouble]\n\n      // Ajouter 2 puissances uniques\n      while (puissances.length < 4) {\n        let nouvellePuissance =\n          puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n        while (puissancesUtilisees.has(nouvellePuissance)) {\n          nouvellePuissance =\n            puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n        }\n        puissances.push(nouvellePuissance)\n        puissancesUtilisees.add(nouvellePuissance)\n      }\n      // Mélanger l'ordre\n      for (let i = puissances.length - 1; i > 0; i--) {\n        const j = randint(0, i)\n        ;[puissances[i], puissances[j]] = [puissances[j], puissances[i]]\n      }\n    } else {\n      // 4 puissances toutes différentes\n      while (puissances.length < 4) {\n        const nouvellePuissance =\n          puissancesDisponibles[randint(0, puissancesDisponibles.length - 1)]\n        if (!puissancesUtilisees.has(nouvellePuissance)) {\n          puissances.push(nouvellePuissance)\n          puissancesUtilisees.add(nouvellePuissance)\n        }\n      }\n    }\n\n    // Génération des coefficients : maximum 2 avec le même nombre de chiffres avant la virgule\n    const coefficients: number[] = []\n    const typesCoefficients = [\n      () => Number((randint(1, 9) + randint(1, 99) / 100).toFixed(2)), // 1 chiffre avant virgule (1.xx à 9.xx)\n      () => Number((randint(10, 99) + randint(1, 99) / 100).toFixed(2)), // 2 chiffres avant virgule (10.xx à 99.xx)\n      () => Number((randint(100, 999) + randint(1, 99) / 100).toFixed(2)), // 3 chiffres avant virgule (100.xx à 999.xx)\n      () => Number((randint(100, 999) + randint(1, 99) / 100).toFixed(2)), // Limité à 3 chiffres maximum (100.xx à 999.xx)\n    ]\n\n    const compteurTypes = [0, 0, 0, 0] // Compteur pour chaque type\n    const typesAssignes = [] // Pour garder trace des types assignés\n\n    for (let i = 0; i < 4; i++) {\n      let typeChoisi\n      let tentatives = 0\n\n      do {\n        typeChoisi = randint(0, 3)\n        tentatives++\n        // Si on a fait trop de tentatives, prendre n'importe quel type disponible\n        if (tentatives > 20) {\n          typeChoisi = compteurTypes.findIndex((count) => count < 2)\n          if (typeChoisi === -1) typeChoisi = randint(0, 3) // Fallback\n          break\n        }\n      } while (compteurTypes[typeChoisi] >= 2) // Maximum 2 coefficients du même type\n\n      compteurTypes[typeChoisi]++\n      typesAssignes.push(typeChoisi)\n      coefficients.push(typesCoefficients[typeChoisi]())\n    }\n\n    // Stratégie pour déterminer qui gagne\n    const strategieComparaison = randint(1, 3)\n    const indexGagnant = cas - 1\n\n    // Ajustement final pour garantir que le bon élément gagne\n    if (strategieComparaison === 1) {\n      // Le gagnant doit avoir la plus grande mantisse (même puissance ou puissances proches)\n      // Trouver les éléments avec des puissances similaires au gagnant\n      const puissanceGagnant = puissances[indexGagnant]\n      const indicesPuissancesSimilaires = []\n      for (let i = 0; i < 4; i++) {\n        if (Math.abs(puissances[i] - puissanceGagnant) <= 1) {\n          indicesPuissancesSimilaires.push(i)\n        }\n      }\n\n      // S'assurer que le gagnant a la plus grande mantisse parmi ceux avec des puissances similaires\n      const mantissesRivales = indicesPuissancesSimilaires\n        .filter((i) => i !== indexGagnant)\n        .map(\n          (i) =>\n            coefficients[i] * Math.pow(10, puissances[i] - puissanceGagnant),\n        )\n\n      if (mantissesRivales.length > 0) {\n        const maxRivale = Math.max(...mantissesRivales)\n        const mantisseGagnantEquivalente = coefficients[indexGagnant]\n        if (mantisseGagnantEquivalente <= maxRivale) {\n          coefficients[indexGagnant] = maxRivale * 1.2\n        }\n      }\n    } else if (strategieComparaison === 2) {\n      // Le gagnant doit gagner grâce à sa puissance\n      const puissanceGagnant = puissances[indexGagnant]\n      const autresPuissances = puissances.filter((_, i) => i !== indexGagnant)\n      const maxAutrePuissance = Math.max(...autresPuissances)\n\n      if (puissanceGagnant <= maxAutrePuissance) {\n        // Changer la puissance du gagnant pour qu'elle soit supérieure\n        puissances[indexGagnant] =\n          maxAutrePuissance + (typeExercice === 1 ? 1 : -1)\n        // Et réduire sa mantisse pour montrer que c'est vraiment la puissance qui compte\n        coefficients[indexGagnant] = Number(\n          (randint(10, 30) + randint(1, 99) / 100).toFixed(2),\n        )\n      }\n    } else {\n      // Stratégie mixte : vérification finale standard\n      const valeurs = []\n      for (let i = 0; i < 4; i++) {\n        valeurs.push({\n          valeur: coefficients[i] * Math.pow(10, puissances[i]),\n          index: i,\n        })\n      }\n\n      const valeurGagnant =\n        coefficients[indexGagnant] * Math.pow(10, puissances[indexGagnant])\n      const autresValeurs = valeurs.filter((v) => v.index !== indexGagnant)\n      const maxAutreValeur = Math.max(...autresValeurs.map((v) => v.valeur))\n\n      if (valeurGagnant <= maxAutreValeur) {\n        const facteurCorrection = (maxAutreValeur / valeurGagnant) * 1.15\n        coefficients[indexGagnant] *= facteurCorrection\n      }\n    }\n\n    // Créer les valeurs\n    const valeurs = []\n    for (let i = 0; i < 4; i++) {\n      valeurs.push({\n        nom: noms[i],\n        coefficient: coefficients[i],\n        puissance: puissances[i],\n        valeur: coefficients[i] * Math.pow(10, puissances[i]),\n      })\n    }\n\n    // Déterminer le texte de la question selon le type\n    const questionText =\n      typeExercice === 1\n        ? 'La planète dont la masse est la plus importante est :'\n        : `La cellule dont la taille est la plus importante est :`\n\n    this.enonce =\n      `${contexte} :<br><br>` +\n      tableauColonneLigne(\n        [\n          typeExercice === 1 ? '\\\\text{Planètes}' : '\\\\text{Cellules}',\n          typeExercice === 1 ? '\\\\text{Masses}' : '\\\\text{Tailles}',\n        ],\n        valeurs.map((v) => `\\\\text{${v.nom}}`),\n        valeurs.map(\n          (v) =>\n            `${texNombre(v.coefficient, 4)}\\\\times 10^{${v.puissance}}${unite}`,\n        ),\n      ) +\n      `<br><br>${questionText}`\n\n    // Construction de la correction\n    let correctionTexte =\n      typeExercice === 1\n        ? `On écrit les masses en écriture scientifique pour les comparer :<br><br>`\n        : `On écrit les tailles en écriture scientifique pour les comparer :<br><br>`\n\n    // Convertir toutes les valeurs en notation scientifique standard (coefficient entre 1 et 10)\n    const valeursScientifiques = []\n    for (let i = 0; i < valeurs.length; i++) {\n      const v = valeurs[i]\n      let coeff = v.coefficient\n      let puiss = v.puissance\n\n      // Ajuster pour avoir un coefficient entre 1 et 10\n      while (coeff >= 10) {\n        coeff /= 10\n        puiss += 1\n      }\n      while (coeff < 1) {\n        coeff *= 10\n        puiss -= 1\n      }\n\n      valeursScientifiques.push({\n        nom: v.nom,\n        coeffOriginal: v.coefficient,\n        puissanceOriginale: v.puissance,\n        coeffScientifique: coeff,\n        puissanceScientifique: puiss,\n        valeur: v.valeur,\n      })\n\n      if (Math.abs(coeff - v.coefficient) > 0.001) {\n        // Calculer le facteur de conversion\n        const puissanceFacteur = puiss - v.puissance\n        correctionTexte += `• ${v.nom} : $${texNombre(v.coefficient, 8)}\\\\times 10^{${v.puissance}} = ${texNombre(coeff, 8)}\\\\times 10^{${puissanceFacteur}}\\\\times 10^{${v.puissance}} = ${texNombre(coeff, 8)}\\\\times 10^{${puiss}}$ ${unite.replace('\\\\text', '').replace('{', '').replace('}', '')}<br>`\n      } else {\n        correctionTexte += `• ${v.nom} : $${texNombre(v.coefficient, 8)}\\\\times 10^{${v.puissance}}$ ${unite.replace('\\\\text', '').replace('{', '').replace('}', '')}<br>`\n      }\n    }\n\n    // Trier pour la comparaison finale\n    const valeursTriees = [...valeursScientifiques].sort(\n      (a, b) => b.valeur - a.valeur,\n    )\n\n    correctionTexte += `<br>On a donc : `\n    for (let i = 0; i < valeursTriees.length; i++) {\n      correctionTexte += `$${texNombre(valeursTriees[i].coeffScientifique, 8)}\\\\times 10^{${valeursTriees[i].puissanceScientifique}}$`\n      if (i < valeursTriees.length - 1) correctionTexte += ' $>$ '\n    }\n\n    const propriete = typeExercice === 1 ? 'masse' : 'taille'\n\n    correctionTexte += `<br><br>Donc il s'agit de la ${texteEnCouleurEtGras(valeursTriees[0].nom)} qui a la ${propriete} la plus importante.`\n\n    this.correction = correctionTexte\n\n    // Les réponses avec la bonne réponse en première position\n    this.reponses = [\n      valeursTriees[0].nom, // Bonne réponse (celle qui a la plus grande valeur)\n      ...noms.filter((nom) => nom !== valeursTriees[0].nom), // Les autres éléments\n    ]\n  }\n\n  constructor() {\n    super()\n    this.versionAleatoire()\n    this.spacing = 1.5\n    this.spacingCorr = 1.5\n  }\n}\n"],"names":["uuid","refs","interactifReady","interactifType","amcReady","amcType","titre","dateDePublication","AutoC1c","ExerciceQcmA","__publicField","tableauColonneLigne","texNombre","texteEnCouleurEtGras","typeExercice","randint","cas","noms","unite","contexte","puissancesDisponibles","puissances","puissancesUtilisees","nombrePuissancesUniques","puissance1","puissance2","j","puissanceDouble","nouvellePuissance","i","coefficients","typesCoefficients","compteurTypes","typeChoisi","tentatives","count","strategieComparaison","indexGagnant","puissanceGagnant","indicesPuissancesSimilaires","mantissesRivales","maxRivale","autresPuissances","_","maxAutrePuissance","valeurs","valeurGagnant","autresValeurs","v","maxAutreValeur","facteurCorrection","questionText","correctionTexte","valeursScientifiques","coeff","puiss","puissanceFacteur","valeursTriees","a","b","propriete","nom"],"mappings":"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"}