{"version":3,"file":"can1P04-DlqqeIio.js","sources":["../../src/exercices/can/1e/can1P04.ts"],"sourcesContent":["import { number } from 'mathjs'\nimport { fixeBordures } from '../../../lib/2d/fixeBordures'\nimport { Arbre, texProba } from '../../../modules/arbres'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../../modules/outils'\nimport Exercice from '../../Exercice'\n\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\n\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { context } from '../../../modules/context'\n\nexport const titre = 'Calculer des probabilités à partir d’un arbre'\nexport const dateDePublication = '25/12/2021'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * On donne un arbre de probabilité et on doit calculer une probabilité partielle manquante\n * @author Jean-Claude Lhote\n\n */\nexport const uuid = 'd15f3'\n\nexport const refs = {\n  'fr-fr': ['can1P04'],\n  'fr-ch': [],\n}\nexport default class CalculProbaArbre2e extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Proba rationnelle', true]\n    this.sup = true\n\n    this.nbQuestions = 1\n\n    // this.sup = 1; // Niveau de difficulté\n  }\n\n  nouvelleVersion() {\n    const rationnel = this.sup\n    for (\n      let i = 0, cpt = 0, pA, pB, pAC, pBC, omega, texte, texteCorr, objets, pC;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      objets = []\n      // On choisit les probas de l'arbre\n      pA = number(randint(2, 8) / 10)\n      pB = number(1 - pA)\n      pAC = number(randint(2, 8) / 10)\n      pBC = number(randint(2, 8) / 10)\n      // On définit l'arbre complet\n      omega = new Arbre({\n        racine: true,\n        rationnel,\n        nom: '',\n        proba: 1,\n        visible: false,\n        alter: '',\n        enfants: [\n          new Arbre({\n            rationnel,\n            nom: 'A',\n            proba: pA,\n            enfants: [\n              new Arbre({\n                rationnel,\n                nom: 'C',\n                proba: pAC,\n              }),\n              new Arbre({\n                rationnel,\n                nom: '\\\\bar C',\n                proba: number(1 - pAC),\n              }),\n            ],\n          }),\n          new Arbre({\n            rationnel,\n            nom: '\\\\bar A',\n            proba: number(1 - pA),\n            enfants: [\n              new Arbre({\n                rationnel,\n                nom: 'C',\n                proba: pBC,\n                visible: false,\n                alter: 'x',\n              }),\n              new Arbre({\n                rationnel,\n                nom: '\\\\bar C',\n                proba: number(1 - pBC),\n                visible: false,\n                alter: '',\n              }),\n            ],\n          }),\n        ],\n      })\n\n      omega.setTailles() // On calcule les tailles des arbres.\n      objets = omega.represente(0, 6, 0, rationnel ? 2 : 1.5, true, 1, 10) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n      pC = omega.getProba('C') // on calcule P(C) décimale.\n      texte = `On donne l'arbre de probabilités ci-dessous et $P(C)=${texProba(pC)}$.<br><br> \n      `\n      texte += mathalea2d(\n        Object.assign({ style: 'inline' }, fixeBordures(objets)),\n        objets,\n      )\n      texte += `<br>\n      \n      $x=$ ${this.interactif || !context.isHtml ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBaseAvecFraction) : '\\\\ldots'}`\n      texteCorr =\n        \"Comme $A$ et $\\\\bar A$ forment une partition de l'univers, d'après la loi des probabilités totales :<br>\"\n      texteCorr += '$P(C)=P(A \\\\cap C)+P(\\\\bar{A} \\\\cap C)$.<br>'\n      texteCorr += `Or $P(\\\\bar{A} \\\\cap C)=P(\\\\bar{A}) \\\\times P_{\\\\bar{A}}(C)=${texProba(pB)}x$.<br>`\n      texteCorr += `Donc $${texProba(pB)}x=P(C)-P(A \\\\cap C)=${texProba(pC)}-${texProba(pA)}\\\\times ${texProba(pAC)}=${texProba(pC)}-${texProba(pA * pAC)}=${texProba(pC.toNumber() - pA * pAC)}$.<br>`\n      texteCorr += `Donc $x=\\\\dfrac{${texProba(pC.toNumber() - pA * pAC)}}{${texProba(pB)}}=${miseEnEvidence(texProba(pBC))}$.`\n      setReponse(this, i, pBC)\n      this.canEnonce = `On donne l'arbre de probabilités ci-dessous et $P(C)=${texProba(pC)}$.<br>\n      \n      `\n      this.canEnonce += mathalea2d(\n        {\n          xmin: -0.1,\n          xmax: 14,\n          ymin: 0,\n          ymax: 6,\n          style: 'inline',\n          scale: 0.5,\n        },\n        objets,\n      )\n      this.canReponseACompleter = `   \n      $x=\\\\ldots$ `\n      if (this.questionJamaisPosee(i, pA, pAC, pBC)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        this.listeCanEnonces.push(this.canEnonce)\n        this.listeCanReponsesACompleter.push(this.canReponseACompleter)\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","CalculProbaArbre2e","Exercice","rationnel","i","cpt","pA","pB","pAC","pBC","omega","texte","texteCorr","objets","pC","number","randint","Arbre","texProba","mathalea2d","fixeBordures","context","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","setReponse","listeQuestionsToContenu"],"mappings":"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"}