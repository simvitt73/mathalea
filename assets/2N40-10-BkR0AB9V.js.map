{"version":3,"file":"2N40-10-BkR0AB9V.js","sources":["../../src/exercices/2e/2N40-10.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { simplify } from 'mathjs'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { shuffle } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { sp } from '../../lib/outils/outilString'\nimport { calculer, toTex } from '../../modules/outilsMathjs'\n\nexport const titre =\n  \"Calculer la valeur d'une expression littérale à une variable pour une valeur donnée\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '4/5/2024'\nexport const uuid = '76926'\n\nexport const refs = {\n  'fr-fr': ['2N40-10'],\n  'fr-ch': ['11FA1-5b'],\n}\n\n/**\n * Modifie aléatoirement un nombre de valeurs positives en négatives dans un tableau\n *\n * @param {...number} args - Liste de nombres à traiter\n * @description\n * Cette fonction :\n * 1. Identifie les positions des nombres positifs dans le tableau\n * 2. Sélectionne aléatoirement entre 1 et N positions (N = nombre de positifs)\n * 3. Inverse le signe des valeurs aux positions sélectionnées\n *\n * @returns {number[]} Tableau avec certaines valeurs rendues négatives\n *\n * @example\n * garantirUnNegatif(1, 2, 3)    // Peut retourner [-1, 2, 3] ou [1, -2, -3] etc.\n * garantirUnNegatif(1, -2, 3)   // Peut retourner [-1, -2, 3] ou [1, -2, -3]\n * garantirUnNegatif(-1, -2, -3) // Retourne [-1, -2, -3] (déjà tous négatifs)\n *\n * @requires randint - Fonction qui retourne un entier aléatoire entre min et max inclus\n */\nfunction garantirUnNegatif(...args: number[]) {\n  const indexPositifs = shuffle(\n    args\n      .map((val, index) => (val > 0 ? index : -1))\n      .filter((val) => val !== -1),\n  )\n  const nbNegatifs = randint(1, indexPositifs.length)\n  for (let i = 0; i < nbNegatifs; i++) {\n    args[indexPositifs[i]] *= -1\n  }\n  return args\n}\nexport default class SubstituerDansUneExpressionLitterale extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 5\n\n    this.besoinFormulaireTexte = [\n      \"Type d'expression\",\n      'Nombres séparés par des tirets :\\n1: a+bx\\n2: (a+cx)b\\n3: ax^2+bx+c\\n4: Mélange',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Type de nombres',\n      'Nombres séparés par des tirets :\\n1: Entiers positifs\\n2: Entiers relatifs (au moins 1 coeff/x négatifs)\\n3: Mélange',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Rendre les questions plus variées']\n    this.sup = 4\n    this.sup2 = 1\n    this.sup3 = true\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? \"Calculer, pour la valeur donnée de $x$, le résultat de l'expression suivante\"\n        : 'Calculer, pour les valeurs données de $x$, le résultat des expressions suivantes'\n\n    const typeExpression = ['a+b*x', 'b*(a+c*x)', 'a*x^2+b*x+c']\n    const typeDeNombres = ['entiers positifs', 'entiers relatifs']\n\n    const listeTypeExpression = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      defaut: 1,\n      listeOfCase: typeExpression,\n      nbQuestions: this.nbQuestions,\n      melange: 4,\n    })\n\n    const listeTypeDeNombres = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 2,\n      defaut: 1,\n      listeOfCase: typeDeNombres,\n      nbQuestions: this.nbQuestions,\n      melange: 3,\n    })\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      let [a, b, x, c]: number[] = []\n      let expressionABCX = listeTypeExpression[i] as string\n      let max\n      let diversificationListe: string[]\n\n      switch (listeTypeExpression[i]) {\n        case 'a+b*x':\n          if (this.sup3) {\n            diversificationListe = ['a+b*x', 'x*b+a', 'b*x+a', 'a+x*b']\n            expressionABCX =\n              diversificationListe[randint(0, diversificationListe.length - 1)]\n          }\n          max = 10\n          a = randint(1, max)\n          b = randint(2, max, [0])\n          x = randint(1, max)\n          c = 0\n          break\n        case 'b*(a+c*x)':\n          if (this.sup3) {\n            diversificationListe = [\n              'b*(a+c*x)',\n              'b*(c*x+a)',\n              'b*(a+x*c)',\n              'b*(x*c+a)',\n              'b*(c*x+a)',\n              'b*(a+c*x)',\n              '(a+c*x)*b',\n              '(c*x+a)*b',\n              '(a+x*c)*b',\n              '(x*c+a)*b',\n              '(c*x+a)*b',\n              '(a+c*x)*b',\n            ]\n            expressionABCX =\n              diversificationListe[randint(0, diversificationListe.length - 1)]\n          }\n          max = 5\n          a = randint(1, max)\n          b = randint(1, max, [0])\n          x = randint(1, max)\n          c = randint(2, max, [0, 1])\n          break\n        case 'a*x^2+b*x+c':\n          if (this.sup3) {\n            diversificationListe = [\n              'a*x^2+b*x+c',\n              'a*x^2+c+b*x',\n              'b*x+a*x^2+c',\n              'b*x+c+a*x^2',\n              'c+a*x^2+b*x',\n              'c+b*x+a*x^2',\n              'a*x^2+b*x+c',\n              'a*x^2+c+b*x',\n              'b*x+a*x^2+c',\n              'b*x+c+a*x^2',\n              'c+a*x^2+b*x',\n              'c+b*x+a*x^2',\n              'x^2*a+x*b+c',\n              'x^2*a+c+b*x',\n              'b*x+x^2*a+c',\n              'b*x+c+x^2*a',\n              'c+x^2*a+b*x',\n              'c+b*x+x^2*a',\n              'a*x^2+x*b+c',\n              'a*x^2+c+b*x',\n              'b*x+a*x^2+c',\n              'b*x+c+a*x^2',\n              'c+a*x^2+x*b',\n              'c+b*x+a*x^2',\n            ]\n            expressionABCX =\n              diversificationListe[randint(0, diversificationListe.length - 1)]\n          }\n          max = 5\n          a = randint(1, max, [0])\n          b = randint(2, max, [0])\n          x = randint(1, 3)\n          c = randint(1, max)\n          break\n      }\n\n      if (listeTypeDeNombres[i] === 'entiers relatifs') {\n        ;[a, b, x, c] = garantirUnNegatif(a, b, x, c)\n        if (x === 1) x = -1\n      }\n\n      const expressionX = simplify(expressionABCX, [], { a, b, c }).toString()\n      const expression = simplify(expressionX, [], { x }).toString()\n\n      texte = `Pour $x=${x}$,${sp(1)} calculer : $${toTex(expressionX, { rearrangeCoefficient: false })}$.`\n      if (this.interactif) {\n        texte = `Pour $x=${x}$,${sp(1)} $${toTex(expressionX, { rearrangeCoefficient: false })} = $`\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)\n      }\n\n      const corrDetails = calculer(expression, {\n        removeImplicit: false,\n        removeMultiplicationByNegativeOne: false,\n      })\n      texteCorr = corrDetails.texteCorr + '<br>'\n      texteCorr += `Le  résultat est donc : $${miseEnEvidence(corrDetails.result)}$.`\n\n      handleAnswers(this, i, {\n        reponse: {\n          value: corrDetails.result,\n        },\n      })\n\n      if (this.questionJamaisPosee(i, a, b, x, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","garantirUnNegatif","args","indexPositifs","shuffle","val","index","nbNegatifs","randint","i","SubstituerDansUneExpressionLitterale","Exercice","typeExpression","typeDeNombres","listeTypeExpression","gestionnaireFormulaireTexte","listeTypeDeNombres","texte","texteCorr","cpt","b","x","c","expressionABCX","max","diversificationListe","expressionX","simplify","expression","sp","toTex","ajouteChampTexteMathLive","KeyboardType","corrDetails","calculer","miseEnEvidence","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}