{"version":3,"file":"afficheLongueurSegment-2uJLM7Hb.js","sources":["../../src/lib/2d/afficheLongueurSegment.ts"],"sourcesContent":["import { context } from '../../modules/context'\nimport { stringNombre } from '../outils/texNombre'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { texteParPoint } from './textes'\nimport { rotation } from './transformations'\nimport { milieu, pointSurSegment } from './utilitairesPoint'\n\n/**\n * Affiche la longueur de [AB] au dessus si A est le point le plus à gauche sinon au dessous.\n * @param  {PointAbstrait} A Première extrémité du segment\n * @param  {PointAbstrait} B Seconde extrémité du segment\n * @param  {string} [color='black'] Couleur de la longueur affichée : du type 'blue' ou du type '#f15929'.\n * @param  {number} [d=0.5] Distance entre l'affichage de la longueur et le segment.\n * @param  {string} [unite='cm'] Affiche cette unité après la valeur numérique de la longueur.\n * @param  {boolean} [horizontal=false] Si true, alors le texte est horizontal, sinon le texte est parallèle au segment.\n * @param  {number} [precision=1]\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {string} color Couleur de la longueur affichée. À associer obligatoirement à colorToLatexOrHTML().\n * @author Rémi Angot\n * @class\n */\n// JSDOC Validee par EE Juin 2022\n\nexport class AfficheLongueurSegment extends ObjetMathalea2D {\n  stringColor: string\n  angle: number\n  O: PointAbstrait\n  M: PointAbstrait\n  distance: number\n  text: string\n\n  constructor(\n    A: PointAbstrait,\n    B: PointAbstrait,\n    color = 'black',\n    d = 0.5,\n    unite = 'cm',\n    horizontal = false,\n    precision = 1,\n  ) {\n    super()\n    this.stringColor = color\n    this.O = milieu(A, B)\n    this.M = rotation(A, this.O, -90)\n    const s = segment(A, B)\n    const l = stringNombre(s.longueur, precision)\n    this.text = `${l}${unite !== '' ? ' ' + unite : ''}`\n    this.distance = horizontal ? d - 0.1 + this.text.length / 10 : d\n    if (horizontal) {\n      this.angle = 0\n    } else if (B.x > A.x) {\n      this.angle = -s.angleAvecHorizontale\n    } else {\n      this.angle = 180 - s.angleAvecHorizontale\n    }\n    this.bordures = [\n      this.O.x - 0.5,\n      this.O.y - 0.5,\n      this.O.x + 0.5,\n      this.O.y + 0.5,\n    ] // C'est n'importe quoi, mais de toute façon, le segment a ses bordures, lui !\n  }\n\n  svg(coeff: number) {\n    const N = pointSurSegment(this.O, this.M, (this.distance * 20) / coeff)\n    return texteParPoint(\n      this.text,\n      N,\n      this.angle,\n      this.stringColor,\n      1,\n      'milieu',\n      false,\n    ).svg(coeff)\n  }\n\n  tikz() {\n    const N = pointSurSegment(this.O, this.M, this.distance / context.scale)\n    return texteParPoint(\n      this.text,\n      N,\n      this.angle,\n      this.stringColor,\n      1,\n      'milieu',\n      false,\n    ).tikz()\n  }\n}\n/**\n * Affiche la longueur de [AB] au dessus si A est le point le plus à gauche sinon au dessous.\n * @param  {PointAbstrait} A Première extrémité du segment\n * @param  {PointAbstrait} B Seconde extrémité du segment\n * @param  {string} [color='black'] Couleur affichée de la longueur affichée : du type 'blue' ou du type '#f15929'.\n * @param  {number} [d=0.5] Distance entre l'affichage de la longueur et le segment.\n * @param  {string} [unite='cm'] Affiche cette unité après la valeur numérique de la longueur.\n * @param  {boolean} [horizontal=false] Si true, alors le texte est horizontal, sinon le texte est parallèle au segment.\n * @param  {number} [precision=1]\n * @example  afficheLongueurSegment(A,B)\n * // Affiche la longueur du segment [AB] (en noir, à 0,5 \"cm\" du segment, complétée par l'unité cm et parallèlement au segment).\n * @example  afficheLongueurSegment(A,B,'blue',1,'mm',true)\n * // Affiche la longueur du segment [AB], en bleu, à 1 \"cm\" du segment, complétée par l'unité mm et horizontalement.\n * @return {AfficheLongueurSegment}\n * @author Rémi Angot\n */\n// JSDOC Validee par EE Juin 2022\n\nexport function afficheLongueurSegment(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  color = 'black',\n  d = 0.5,\n  unite = 'cm',\n  horizontal = false,\n  precision = 1,\n) {\n  return new AfficheLongueurSegment(\n    A,\n    B,\n    color,\n    d,\n    unite,\n    horizontal,\n    precision,\n  )\n}\n"],"names":["AfficheLongueurSegment","ObjetMathalea2D","A","B","color","d","unite","horizontal","precision","__publicField","milieu","rotation","s","segment","l","stringNombre","coeff","N","pointSurSegment","texteParPoint","context","afficheLongueurSegment"],"mappings":"4ZA0BO,MAAMA,UAA+BC,CAAgB,CAQ1D,YACEC,EACAC,EACAC,EAAQ,QACRC,EAAI,GACJC,EAAQ,KACRC,EAAa,GACbC,EAAY,EACZ,CACA,MAAA,EAhBFC,EAAA,oBACAA,EAAA,cACAA,EAAA,UACAA,EAAA,UACAA,EAAA,iBACAA,EAAA,aAYE,KAAK,YAAcL,EACnB,KAAK,EAAIM,EAAOR,EAAGC,CAAC,EACpB,KAAK,EAAIQ,EAAST,EAAG,KAAK,EAAG,GAAG,EAChC,MAAMU,EAAIC,EAAQX,EAAGC,CAAC,EAChBW,EAAIC,EAAaH,EAAE,SAAUJ,CAAS,EAC5C,KAAK,KAAO,GAAGM,CAAC,GAAGR,IAAU,GAAK,IAAMA,EAAQ,EAAE,GAClD,KAAK,SAAWC,EAAaF,EAAI,GAAM,KAAK,KAAK,OAAS,GAAKA,EAC3DE,EACF,KAAK,MAAQ,EACJJ,EAAE,EAAID,EAAE,EACjB,KAAK,MAAQ,CAACU,EAAE,qBAEhB,KAAK,MAAQ,IAAMA,EAAE,qBAEvB,KAAK,SAAW,CACd,KAAK,EAAE,EAAI,GACX,KAAK,EAAE,EAAI,GACX,KAAK,EAAE,EAAI,GACX,KAAK,EAAE,EAAI,EAAA,CAEf,CAEA,IAAII,EAAe,CACjB,MAAMC,EAAIC,EAAgB,KAAK,EAAG,KAAK,EAAI,KAAK,SAAW,GAAMF,CAAK,EACtE,OAAOG,EACL,KAAK,KACLF,EACA,KAAK,MACL,KAAK,YACL,EACA,SACA,EAAA,EACA,IAAID,CAAK,CACb,CAEA,MAAO,CACL,MAAMC,EAAIC,EAAgB,KAAK,EAAG,KAAK,EAAG,KAAK,SAAWE,EAAQ,KAAK,EACvE,OAAOD,EACL,KAAK,KACLF,EACA,KAAK,MACL,KAAK,YACL,EACA,SACA,EAAA,EACA,KAAA,CACJ,CACF,CAmBO,SAASI,EACdnB,EACAC,EACAC,EAAQ,QACRC,EAAI,GACJC,EAAQ,KACRC,EAAa,GACbC,EAAY,EACZ,CACA,OAAO,IAAIR,EACTE,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CAAA,CAEJ"}