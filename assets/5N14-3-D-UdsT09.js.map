{"version":3,"file":"5N14-3-D-UdsT09.js","sources":["../../src/exercices/5e/5N14-3.ts"],"sourcesContent":["import { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport { fraction } from '../../modules/fractions'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport type FractionEtendue from '../../modules/FractionEtendue'\n\nexport const titre =\n  'Manipuler fractions égales et égalité des produits en croix'\n\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifType = 'qcm'\nexport const interactifReady = true\nexport const dateDePublication = '23/05/2021'\nexport const dateDeModifImportante = '26/08/2023'\n\nexport const description =\n  'Déterminer si une égalité de deux fractions est vraie en utilisant les produits en croix.<br> 4 niveaux : petits entiers, grands entiers, décimaux, mélange.'\n\n/**\n * * Fractions et égalité des produits en croix\n * @author Sébastien Lozano\n */\nexport const uuid = 'd1fb2'\n\nexport const refs = {\n  'fr-fr': ['5N14-3'],\n  'fr-ch': ['9NO12-7'],\n}\n\n/**\n * Une fonction pour afficher des fraction avec num et/ou den décimaux\n * @param num le numerateur de type number\n * @param den le dénominateur de type number\n */\nfunction showFracNumDenDec(num: number, den: number) {\n  const f = fraction(num, den)\n  return `\\\\dfrac{${texNombre(f.num / 10, 1)}}{${texNombre(f.den / 10, 1)}}`\n}\n/**\n * Une fonction pour rendre deux fractions égales ou pas\n * @param {boolean} bool\n * @returns deux fractions egales ou non\n */\nconst fracEqualOrNot = function (\n  bool: boolean,\n  n: number,\n  d: number,\n  k: number,\n) {\n  // On a besoin de deux fractions\n  let f2\n  const f1 = fraction(n, d)\n  if (bool) {\n    f2 = fraction(n * k, d * k)\n  } else {\n    f2 = fraction(n + k, d + k)\n  }\n  return { frac: f1, fracEqualOrNot: f2 }\n}\n\n/**\n * Une fonction pour la correction\n * @param bool le booléen pour savoir si il y a égalité ou pas\n * @param f une fraction\n * @param fEqOrNot l'autre fraction égale ou pas\n */\nfunction justifyEq(\n  bool: boolean,\n  deuxFractions: { frac: FractionEtendue; fracEqualOrNot: FractionEtendue },\n  decimal = false,\n) {\n  const f = deuxFractions.frac\n  const fEqOrNot = deuxFractions.fracEqualOrNot\n  let strOut\n  // tous les nombres sont entiers ! on pourrait complètement se passer de texNombre (sauf pour les séparateurs de classes) => précision mise à 0\n  if (bool) {\n    if (decimal) {\n      strOut = `D'une part, $${texNombre(f.num / 10, 1)}\\\\times ${texNombre(fEqOrNot.den / 10, 1)} = ${miseEnEvidence(texNombre((f.num * fEqOrNot.den) / 100, 2))}$.<br>\n            D'autre part, $${texNombre(f.den / 10, 1)}\\\\times ${texNombre(fEqOrNot.num / 10, 1)} = ${miseEnEvidence(texNombre((f.den * fEqOrNot.num) / 100, 2))}$.<br>\n            On constate que les produits en croix sont égaux.<br>\n            `\n      strOut += `Les quotients $${showFracNumDenDec(f.num, f.den)}$ et $${showFracNumDenDec(fEqOrNot.num, fEqOrNot.den)}$ sont donc égaux.`\n    } else {\n      strOut = `D'une part, $${texNombre(f.num, 0)}\\\\times ${texNombre(fEqOrNot.den, 0)} = ${miseEnEvidence(texNombre(f.num * fEqOrNot.den, 0))}$.<br>\n            D'autre part, $${texNombre(f.den, 0)}\\\\times ${texNombre(fEqOrNot.num, 0)} = ${miseEnEvidence(texNombre(f.den * fEqOrNot.num, 0))}$.<br>\n            On constate que les produits en croix sont égaux.<br>\n            `\n      strOut += `Les fractions $${f.texFraction}$ et $${fEqOrNot.texFraction}$ sont donc égales.`\n    }\n  } else {\n    if (!decimal) {\n      strOut = `D'une part, $${texNombre(f.num, 0)}\\\\times ${texNombre(fEqOrNot.den, 0)} = ${miseEnEvidence(texNombre(f.num * fEqOrNot.den, 0))}$.<br>\n            D'autre part, $${texNombre(f.den, 0)}\\\\times ${texNombre(fEqOrNot.num, 0)} = ${miseEnEvidence(texNombre(f.den * fEqOrNot.num, 0))}$.<br>\n            On constate que les produits en croix ne sont pas égaux.<br>\n            `\n      strOut += `Les fractions $${f.texFraction}$ et $${fEqOrNot.texFraction}$ ne sont donc pas égales.`\n    } else {\n      // si on utilise des nombres décimaux au numérateur et au dénominateur, il ne faudrait pas appeler ça des fractions\n      strOut = `D'une part, $${texNombre(f.num / 10, 1)}\\\\times ${texNombre(fEqOrNot.den / 10, 1)} = ${miseEnEvidence(texNombre((f.num * fEqOrNot.den) / 100, 2))}$.<br>\n            D'autre part, $${texNombre(f.den / 10, 1)}\\\\times ${texNombre(fEqOrNot.num / 10, 1)} = ${miseEnEvidence(texNombre((f.den * fEqOrNot.num) / 100, 2))}$.<br>\n            On constate que les produits en croix ne sont pas égaux.<br>\n            `\n      strOut += `Les quotients $${showFracNumDenDec(f.num, f.den)}$ et $${showFracNumDenDec(fEqOrNot.num, fEqOrNot.den)}$ ne sont donc pas égaux.`\n    }\n  }\n  return strOut\n}\n\nexport default class EqResolvantesThales extends Exercice {\n  niveau: string\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de nombres',\n      4,\n      '1 : Petits entiers\\n2 : Grands entiers\\n3 : Décimaux\\n4 : Mélange',\n    ]\n    this.nbQuestions = 4\n    this.sup = 1 // Niveau de difficulté\n    this.spacing = context.isHtml ? 3 : 2\n    this.spacingCorr = context.isHtml ? 2.5 : 1.5\n    this.niveau = '5e'\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Les égalités suivantes sont-elles vraies ? Justifier.'\n        : \"L'égalité suivante est-elle vraie ? Justifier.\"\n\n    const listeTypeDeQuestions = Number(this.sup < 4)\n      ? Array(this.nbQuestions).fill(Number(this.sup))\n      : Array(this.nbQuestions)\n          .fill(0)\n          .map(() => randint(1, 3))\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // On a besoin d'un booléen pour que tout ne soit pas vrai ou faux\n      let equalOrNot\n      // On a besoin de variables opur les fractions\n      let f, fEqOrNot, deuxFractions\n      // On a besoin d'un numerateur d'un dénominateur et d'un coefficient pour les fractions égales\n      let num, den\n      // On a besoin d'un string pour stocker l'égalité et un autre pour la justification\n      let egalite, justification\n      const k = randint(2, 9)\n\n      // On prépare tous les contenus selon le type de questions\n      this.sup = Number(this.sup) // attention le formulaire renvoie un string, on a besoin d'un number pour le switch !\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // petits entiers égalité\n          equalOrNot = choice([true, false])\n          num = randint(1, 9)\n          den = randint(2, 9, num)\n          deuxFractions = fracEqualOrNot(equalOrNot, num, den, k)\n          egalite = `$${deuxFractions.frac.texFraction}\\\\overset{?}{=}${deuxFractions.fracEqualOrNot.texFraction}$`\n          justification = justifyEq(equalOrNot, deuxFractions, false)\n          break\n        case 2: // grands entiers\n          equalOrNot = choice([true, false])\n          num = randint(11, 99)\n          den = randint(11, 99, num)\n          deuxFractions = fracEqualOrNot(equalOrNot, num, den, k)\n          egalite = `$${deuxFractions.frac.texFraction}\\\\overset{?}{=}${deuxFractions.fracEqualOrNot.texFraction}$`\n          justification = justifyEq(equalOrNot, deuxFractions, false)\n          break\n        case 3: // décimaux\n          equalOrNot = choice([true, false])\n          num = randint(11, 99)\n          den = randint(11, 99, num)\n          deuxFractions = fracEqualOrNot(equalOrNot, num, den, k)\n          f = deuxFractions.frac\n          fEqOrNot = deuxFractions.fracEqualOrNot\n          // on utilise une fraction (quotient d'entiers) mais la fonction showFracNumDenDec() affiche les nombres divisés par 10\n          egalite = `$${showFracNumDenDec(f.num, f.den)}\\\\overset{?}{=}${showFracNumDenDec(fEqOrNot.num, fEqOrNot.den)}$`\n          // la justification se fait avec les entiers.\n          justification = justifyEq(equalOrNot, deuxFractions, true)\n          break\n      }\n\n      const enonces = []\n      for (let k = 0; k < 4; k++) {\n        enonces.push({\n          enonce: egalite,\n          question: '',\n          correction: justification,\n        })\n      }\n      texte = `${enonces[listeTypeDeQuestions[i]].enonce}`\n      texteCorr = `${enonces[listeTypeDeQuestions[i]].correction}`\n      this.autoCorrection[i] = {}\n      this.autoCorrection[i].enonce = `${texte}\\n`\n      this.autoCorrection[i].propositions = [\n        {\n          texte: \"L'égalité est vraie\",\n          statut: equalOrNot,\n        },\n        {\n          texte: \"L'égalité est fausse\",\n          statut: !equalOrNot,\n        },\n        {\n          texte: 'Je ne sais pas',\n          statut: false,\n        },\n      ]\n      this.autoCorrection[i].options = { ordered: true } // On ne mélange pas les propositions 'Oui', 'Non' et 'Je ne sais pas'\n      const props = propositionsQcm(this, i)\n      if (this.interactif) {\n        texte += '<br>' + props.texte\n      }\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","interactifType","interactifReady","dateDePublication","dateDeModifImportante","description","uuid","refs","showFracNumDenDec","num","den","f","fraction","texNombre","fracEqualOrNot","bool","n","d","k","f2","f1","justifyEq","deuxFractions","decimal","fEqOrNot","strOut","miseEnEvidence","EqResolvantesThales","Exercice","__publicField","context","listeTypeDeQuestions","randint","i","texte","texteCorr","cpt","equalOrNot","egalite","justification","choice","enonces","props","propositionsQcm","listeQuestionsToContenu"],"mappings":"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"}