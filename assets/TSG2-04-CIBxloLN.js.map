{"version":3,"file":"TSG2-04-CIBxloLN.js","sources":["../../src/exercices/TSpe/TSG2-04.ts"],"sourcesContent":["import Exercice from '../Exercice'\nimport {\n  combinaisonListes,\n  shuffle3tableaux,\n} from '../../lib/outils/arrayOutils'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriqueSauf1,\n  ecritureParentheseSiNegatif,\n} from '../../lib/outils/ecritures'\nexport const titre = 'Déterminer deux droites sont orthogonales.'\n\nexport const dateDePublication = '29/01/2025' // La date de publication initiale au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n\nexport const uuid = '34648'\nexport const refs = {\n  'fr-fr': ['TSG2-04'],\n  'fr-ch': [],\n}\n\n// La fonction qui aléatoirise la situation en fonction de ortho true or false. Elle retourne toutes les variables dont a besoin l'exo.\n// elle est récursive et ne retourne une valeur que si elle est en accord avec ortho (pour éviter un cas particulier qu'on n'aurait pas prévu.)\nconst situationAleatoire = function (choix: number) {\n  let xA = randint(-10, 10, 0)\n  let yA = randint(-10, 10, 0)\n  let zA = randint(-10, 10, 0)\n  let yB = randint(-10, 10, [0, yA])\n  const deltaZ = randint(-3, 3, [0])\n  let zB = zA + deltaZ // On s'arrange pour que zB-zA = -2, -1, 1 ou 2.\n  const k = randint(-2, 2, [0]) // ce qui donne (xAB/zAB = k)\n  let xB = xA + k * (zB - zA)\n  const xAB = xB - xA\n  const yAB = yB - yA\n  const zAB = zB - zA\n  // on doit trouver a, b et c tels que a*xAB+b*yAB+c*zAB=0\n  // on prend b=0\n  // on trouve c=-a*x/z=-a*k\n  let a = randint(-3, 3, [0])\n  let b = 0\n  let c = -a * k // il faut que ce nombre soit entier... On définit xAB et zAB de manière à ce que ce soit le cas\n  // Si on ne veut pas d'orthogonalité on modifie l'une des composante de u avant le mélange.\n  const ortho = choix === 0\n  if (!ortho) {\n    if (choix === 1) a++\n    else if (choix === 2) b++\n    else c++\n  }\n  const t = randint(-4, 4, [0, 1])\n\n  const x = randint(-10, 10, [0, xA, xB])\n  const y = randint(-10, 10, [0, yA, yB])\n  const z = randint(-10, 10, [0, zA])\n  // On va mélanger les tableaux afin que ce ne soit pas toujours b qui soit nul\n  const tab1 = [a, b, c].slice()\n  const tab2 = [xA, yA, zA].slice()\n  const tab3 = [xB, yB, zB].slice()\n  shuffle3tableaux(tab1, tab2, tab3)\n  a = tab1[0]\n  b = tab1[1]\n  c = tab1[2]\n  xA = tab2[0]\n  yA = tab2[1]\n  zA = tab2[2]\n  xB = tab3[0]\n  yB = tab3[1]\n  zB = tab3[2]\n\n  if ((xAB * a + yAB * b + zAB * c === 0) !== ortho)\n    return situationAleatoire(choix) // Si le produit scalaire n'est pas en accord avec ortho, on recommence.\n  return { xA, yA, xB, yB, zA, zB, xAB, yAB, zAB, a, b, c, x, y, z, t }\n}\n/**\n *\n * @author Stéphane Guyon\n\n*/\nexport default class nomExercice extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 2\n    this.consigne = ''\n  }\n\n  nouvelleVersion() {\n    const typeQuestionsDisponibles = ['type1'] // On créé 3 types de questions\n\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posés mais l'ordre diffère à chaque \"cycle\"\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // Boucle principale où i+1 correspond au numéro de la question\n      // Modifier a, b ou c pour que le produit scalaire soit non nul (et donc que les droites ne soient pas orthogonales)\n      // On doit trouver un vecteur directeur de la droite (AB) qui soit non orthogonal à (Delta)\n      const produitScalaire = randint(0, 3)\n      const { xA, yA, xB, yB, zA, zB, xAB, yAB, zAB, a, b, c, x, y, z, t } =\n        situationAleatoire(produitScalaire)\n      // Il n'y a pas besoin de switch... on peut directement écrire le texte\n      switch (\n        listeTypeQuestions[i] // Suivant le type de question, le contenu sera différent\n      ) {\n        case 'type1': // orthogonal\n          break\n        case 'type2': // défavorable\n        default:\n          break\n      }\n      texte =\n        \"Dans un repère orthonormé de l'espace, on donne les coordonnées des points $A$ et $B$ et la représentation paramétrique d'une droite $(\\\\Delta)$ :<br>\"\n      texte += `$ A(${xA}~;~${yA}~;~${zA})$ ; $B(${xB}~;~${yB}~;~${zB})$ et `\n      texte += `$(\\\\Delta) : \\\\begin{cases}x=${x}${a !== 0 ? `${ecritureAlgebriqueSauf1(a)}t` : ''}\\\\\\\\y=${y}${b !== 0 ? `${ecritureAlgebriqueSauf1(b)}t` : ''} \\\\quad (t\\\\in\\\\mathbb{R})\\\\\\\\z=${z}${c !== 0 ? `${ecritureAlgebriqueSauf1(c)}t` : ''}\\\\end{cases}$`\n      texte +=\n        '<br>Déterminer si les doites $(AB)$ et $\\\\Delta)$ sont orthogonales.'\n      texteCorr =\n        \"Pour prouver l'orthogonalité de deux droites, il suffit de vérifier si le produit scalaire de deux de leurs vecteurs directeurs respectifs est nul.<br>\"\n      texteCorr +=\n        \"Un vecteur directeur de la droite $(\\\\Delta)$ est, d'après le cours, directement donné par sa représentation paramétrique :<br>\"\n      texteCorr +=\n        'Si $(\\\\Delta) : \\\\begin{cases}x=x_A+at\\\\\\\\y=y_A+bt\\\\quad (t\\\\in\\\\mathbb{R})\\\\\\\\z=z_A+ct\\\\end{cases}$<br>'\n      texteCorr +=\n        'alors un vecteur directeur de la droite $(\\\\Delta)$ est $\\\\overrightarrow{u}\\\\begin{pmatrix} a\\\\\\\\b\\\\\\\\c\\\\end{pmatrix}$<br>'\n      texteCorr += `On en déduit que dans notre situation, un vecteur directeur de la droite $(\\\\Delta)$ est $\\\\overrightarrow{u}\\\\begin{pmatrix} ${a}\\\\\\\\${b}\\\\\\\\${c}\\\\end{pmatrix}$<br>`\n      texteCorr +=\n        'On calcule les coordonnées du vecteur $\\\\overrightarrow{AB}$ vecteur directeur de la droite $(AB)$ :<br>'\n      texteCorr += `$\\\\overrightarrow{AB}\\\\begin{pmatrix} ${xB}${ecritureAlgebrique(xA)}\\\\\\\\${yB}${ecritureAlgebrique(yA)}\\\\\\\\${zB}${ecritureAlgebrique(zA)}\\\\end{pmatrix}$`\n      texteCorr += `$\\\\iff\\\\overrightarrow{AB}\\\\begin{pmatrix} ${xAB}\\\\\\\\${yAB}\\\\\\\\${zAB}\\\\end{pmatrix}$<br>`\n      texteCorr += 'On calcule le produit scalaire de ces deux vecteurs : <br>'\n      texteCorr += `$\\\\overrightarrow{u}\\\\cdot\\\\overrightarrow{AB} = ${a}\\\\times ${ecritureParentheseSiNegatif(xB - xA)}+${ecritureParentheseSiNegatif(b)}\\\\times ${ecritureParentheseSiNegatif(yB - yA)}+${ecritureParentheseSiNegatif(c)}\\\\times ${ecritureParentheseSiNegatif(zB - zA)}=${a * (xB - xA) + b * (yB - yA) + c * (zB - zA)}$<br>`\n      texteCorr += 'Le produit scalaire des deux vecteurs directeurs étant'\n      if (produitScalaire === 0) {\n        texteCorr += ' nul, ils sont orthogonaux.<br>'\n        texteCorr +=\n          'Les droites $(\\\\Delta)$ et $(AB)$ sont donc orthogonales.<br>'\n      } else {\n        texteCorr += ' non nul, ils ne sont pas orthogonaux.<br>'\n        texteCorr +=\n          'Les droites $(\\\\Delta)$ et $(AB)$ ne sont donc pas orthogonales.'\n      }\n\n      if (\n        this.questionJamaisPosee(\n          i,\n          a,\n          b,\n          c,\n          xA,\n          yA,\n          zA,\n          xB,\n          yB,\n          zB,\n          x,\n          y,\n          z,\n          t,\n          texte,\n        )\n      ) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this) // On envoie l'exercice à la fonction de mise en page\n  }\n}\n"],"names":["titre","dateDePublication","uuid","refs","situationAleatoire","choix","xA","randint","yA","zA","yB","deltaZ","zB","k","xB","xAB","yAB","zAB","a","b","c","ortho","t","x","y","z","tab1","tab2","tab3","shuffle3tableaux","nomExercice","Exercice","listeTypeQuestions","combinaisonListes","i","texte","texteCorr","cpt","produitScalaire","ecritureAlgebriqueSauf1","ecritureAlgebrique","ecritureParentheseSiNegatif","listeQuestionsToContenu"],"mappings":"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"}