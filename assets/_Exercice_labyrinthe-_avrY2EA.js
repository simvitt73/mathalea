const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendors/labyrinthe-K4T69MwU.js","assets/vendors/mathlive-2YgxEGya.js","assets/vendors/seedrandom-Cz-2rAdY.js"])))=>i.map(i=>d[i]);
var w=Object.defineProperty;var E=(h,a,n)=>a in h?w(h,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):h[a]=n;var r=(h,a,n)=>E(h,typeof a!="symbol"?a+"":a,n);import{_ as f}from"./vendors/three-q_6hD11P.js";import"./vendors/mathlive-2YgxEGya.js";import{L as b}from"./vendors/labyrinthe-K4T69MwU.js";import{E as g,P as x,o as A}from"./index-Bl1vqpvV.js";class $ extends g{constructor(){super();r(this,"consigneDeplacement","<br>Dans ce labyrinthe, on peut se dÃ©placer horizontalement, verticalement et en diagonale.");r(this,"labyrinthe");r(this,"labyrintheElement");r(this,"cols",6);r(this,"rows",6);r(this,"orientation");r(this,"goodAnswers",[]);r(this,"badAnswers",[]);r(this,"correctionInteractive",n=>{this.answers==null&&(this.answers={}),this.answers[`labyrintheEx${this.numeroExercice}`]=this.labyrintheElement.state;const c=document.querySelector(`#feedbackEx${this.numeroExercice}Q${n}`),u=this.labyrintheElement.win;if(c!=null){if(u)return c.innerHTML="Bravo !",["OK","OK","OK","OK"];const t=this.labyrintheElement.correctClicks/this.labyrintheElement.totalGood;return t<=.25?["KO","KO","KO","KO"]:t<=.5?["OK","KO","KO","KO"]:t<=.75?["OK","OK","KO","KO"]:["OK","OK","KO","KO"]}throw new Error("Feedback not found")});this.nbQuestions=1,this.interactifObligatoire=!0,this.nbQuestionsModifiable=!1,this.exoCustomResultat=!0}init(){}nouvelleVersion(){var u;this.goodAnswers=[],this.badAnswers=[],this.labyrintheElement&&this.labyrintheElement.remove();let n="",c="";if(x.isHtml)n=`<div
        id="containerLabyrintheEx${this.numeroExercice}Q0">
      </div>
      <div id=${`feedbackEx${this.numeroExercice}Q0`}
        class="ml-2 py-2 text-coopmaths-warn-darkest dark:text-coopmathsdark-warn-darkest"
        >
      </div>`,c=`<div
        id="containerLabyrintheCorrectionEx${this.numeroExercice}Q0">
      </div>`,document.addEventListener("exercicesAffiches",async()=>{var d;const t=document.querySelector(`#containerLabyrintheEx${this.numeroExercice}Q0`),l=document.querySelector(`#containerLabyrintheCorrectionEx${this.numeroExercice}Q0`);if(t){if(!((d=this.labyrintheElement)!=null&&d.isConnected)){if(t.innerHTML="",this.labyrinthe=new b({seed:this.seed,rows:this.rows,cols:this.cols,orientation:this.orientation}),this.init(),!customElements.get("labyrinthe-grid")){const{default:o}=await f(async()=>{const{default:m}=await import("./vendors/labyrinthe-K4T69MwU.js").then(y=>y.a);return{default:m}},__vite__mapDeps([0,1,2]));try{customElements.define("labyrinthe-grid",o)}catch{}}const e=document.createElement("labyrinthe-grid");e.seed=this.seed??"",e.rows=this.rows,e.cols=this.cols,this.orientation&&(e.orientation=this.orientation),t.innerHTML="",t.appendChild(e),await new Promise(o=>{const m=()=>{e.ready?o():setTimeout(m,30)};m()}),this.labyrintheElement=e;const i=this.labyrintheElement.numberOfGoodAnswers??0,s=this.labyrintheElement.numberOfIncorrectAnswers??0;this.labyrinthe=new b({seed:this.seed,rows:this.rows,cols:this.cols,orientation:this.orientation}),this.labyrinthe.regenerate(),this.goodAnswers=[],this.badAnswers=[];for(let o=0;o<i;o++)this.goodAnswers.push(String(this.generateGoodAnswers()));for(let o=0;o<s;o++)this.badAnswers.push(String(this.generateBadAnswers()));this.labyrintheElement.setValues(this.goodAnswers,this.badAnswers)}this.labyrintheElement.id=`labyrintheEx${this.numeroExercice}`,this.interactif||(this.labyrintheElement.disabled=!0),this.labyrintheElement.addEventListener("labyrinthe:gameend",e=>{const i=document.querySelector(`#buttonScoreEx${this.numeroExercice}`);i==null||i.click()})}if(l){l.innerHTML="";const e=document.createElement("labyrinthe-grid");e.seed=this.seed??"",e.rows=this.rows,e.cols=this.cols,this.orientation&&(e.orientation=this.orientation),l.appendChild(e),await new Promise(i=>{const s=()=>{e.ready?i():setTimeout(s,30)};s()}),e.setValues(this.goodAnswers,this.badAnswers),e.showCorrection()}}),setTimeout(()=>{const t=document.querySelector(`#buttonScoreEx${this.numeroExercice}`);t&&(t.style.display="none")},500);else{this.labyrinthe=new b({seed:this.seed,rows:this.rows,cols:this.cols,orientation:this.orientation}),this.init(),this.labyrinthe.regenerate();let t=0,l=0;const d=this.labyrinthe.grid;if(d&&Array.isArray(d))for(let e=0;e<this.rows;e++)for(let i=0;i<this.cols;i++){const s=(u=d[e])==null?void 0:u[i];(s==null?void 0:s.isGood)===!0?t++:(s==null?void 0:s.isGood)===!1&&l++}this.goodAnswers=[],this.badAnswers=[];for(let e=0;e<t;e++)this.goodAnswers.push(String(this.generateGoodAnswers()));for(let e=0;e<l;e++)this.badAnswers.push(String(this.generateBadAnswers()));this.labyrinthe.setValues(this.goodAnswers,this.badAnswers),n=`

\\bigskip
${this.labyrinthe.generateLatex()}`,c=this.labyrinthe.generateLatexCorrection()}this.listeQuestions[0]=n,this.listeCorrections[0]=c,A(this)}generateGoodAnswers(){return 1}generateBadAnswers(){return 0}}export{$ as E};
//# sourceMappingURL=_Exercice_labyrinthe-_avrY2EA.js.map
