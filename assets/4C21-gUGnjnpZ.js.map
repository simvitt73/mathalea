{"version":3,"file":"4C21-gUGnjnpZ.js","sources":["../../src/exercices/4e/4C21.ts"],"sourcesContent":["import { bleuMathalea } from '../../lib/colors'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  simplificationDeFractionAvecEtapes,\n  texFractionFromString,\n} from '../../lib/outils/deprecatedFractions'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre, sp } from '../../lib/outils/outilString'\nimport { pgcd, ppcm } from '../../lib/outils/primalite'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { fraction } from '../../modules/fractions'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const titre = 'Additionner ou soustraire deux fractions'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDeModifImportante = '16/05/2025'\n\n/**\n * Effectuer la somme ou la différence de deux fractions\n *\n * * Niveau 1 : 4 fois sur 5 un dénominateur est un multiple de l'autre et une fois sur 5 il faut additionner une fraction et un entier\n * * Niveau 2 : 2 fois sur 5, il faut trouver le ppcm, 1 fois sur 5 le ppcm correspond à leur produit, 1 fois sur 5 un dénominateur est multiple de l'autre, 1 fois sur 5 il faut additionner une fraction et un entier\n * * Paramètre supplémentaire : utiliser des nombres relatifs (par défaut tous les nombres sont positifs)\n * * 2 fois sur 4 il faut faire une soustraction\n * @author Rémi Angot\n */\nexport const uuid = '5f429'\n\nexport const refs = {\n  'fr-fr': ['4C21', 'BP2AutoH9'],\n  'fr-ch': ['9NO13-5'],\n}\nexport default class ExerciceAdditionnerOuSoustraireDesFractions extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      2,\n      \"1 : Un dénominateur multiple de l'autre\\n2 : Cas général\",\n    ]\n    this.besoinFormulaire2CaseACocher = ['Avec des nombres relatifs']\n    this.besoinFormulaire3CaseACocher = [\n      \"Avec l'écriture simplifiée de la fraction résultat\",\n    ]\n    this.besoinFormulaire4CaseACocher = [\n      'Présentation des corrections en colonnes',\n      false,\n    ]\n    this.sup = 2 // Niveau de difficulté\n    this.sup2 = false // Avec ou sans relatifs\n    this.sup3 = true // Si false alors le résultat n'est pas en fraction simplifiée\n    this.sup4 = false // Par défaut c'est l'ancienne correction qui est affichée\n    this.consigne =\n      \"Calculer et donner le résultat sous la forme d'une fraction simplifiée.\"\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 5\n  }\n\n  nouvelleVersion() {\n    if (!this.sup3 && !context.isAmc) {\n      this.consigne = 'Calculer.'\n    } else {\n      this.consigne =\n        \"Calculer et donner le résultat sous la forme d'une fraction simplifiée au maximum.\"\n    }\n\n    let typesDeQuestionsDisponibles\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = [\n        'b_multiple_de_d',\n        'd_multiple_de_b',\n        'b_multiple_de_d',\n        'd_multiple_de_b',\n        'entier',\n      ]\n    } else {\n      typesDeQuestionsDisponibles = [\n        'ppcm',\n        'ppcm',\n        'premiers_entre_eux',\n        choice(['b_multiple_de_d', 'd_multiple_de_b']),\n        'entier',\n      ]\n    }\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    const listeDePlusOuMoins = combinaisonListes(\n      ['-', '-', '+', '+'],\n      this.nbQuestions,\n    )\n    const listeCouplesDeDenominateurs = [\n      [6, 9],\n      [4, 6],\n      [8, 12],\n      [9, 12],\n      [10, 15],\n      [10, 25],\n      [6, 21],\n      [12, 30],\n      [6, 8],\n      [50, 75],\n    ]\n    for (\n      let i = 0,\n        a,\n        b,\n        c,\n        d,\n        texte,\n        texteCorr,\n        reponse,\n        couplesDeDenominateurs,\n        typesDeQuestions;\n      i < this.nbQuestions;\n      i++\n    ) {\n      const plusOuMoins = listeDePlusOuMoins[i]\n      const plusOuMoinsUn = plusOuMoins === '+' ? 1 : -1\n      let k1 = 0\n      let k2 = 0\n      let k = 0\n      let num = 0\n      let den = 1\n      typesDeQuestions = listeTypeDeQuestions[i]\n      switch (typesDeQuestions) {\n        case 'ppcm':\n          couplesDeDenominateurs = choice(listeCouplesDeDenominateurs)\n          if (choice([true, false])) {\n            b = couplesDeDenominateurs[0]\n            d = couplesDeDenominateurs[1]\n          } else {\n            b = couplesDeDenominateurs[1]\n            d = couplesDeDenominateurs[0]\n          }\n          k1 = ppcm(b, d) / b\n          k2 = ppcm(b, d) / d\n          break\n\n        case 'premiers_entre_eux':\n          b = randint(2, 9)\n          d = randint(2, 9)\n          while (pgcd(b, d) !== 1) {\n            b = randint(2, 9)\n            d = randint(2, 9)\n          }\n          k1 = ppcm(b, d) / b\n          k2 = ppcm(b, d) / d\n          break\n\n        case 'd_multiple_de_b':\n          b = randint(2, 9)\n          k = randint(2, 11)\n          d = b * k\n          break\n\n        case 'b_multiple_de_d':\n        default:\n          d = randint(2, 9)\n          k = randint(2, 11)\n          b = d * k\n          break\n      }\n\n      a = randint(1, 9, [b])\n      c = randint(1, 9, [d])\n      if (this.sup2) {\n        // si les numérateurs sont relatifs\n        a = a * choice([-1, 1])\n        c = c * choice([-1, 1])\n      }\n      if (!this.sup2 && plusOuMoins === '-' && a / b < c / d) {\n        // s'il n'y a pas de relatifs, il faut s'assurer que la soustraction soit positive\n        ;[a, b, c, d] = [c, d, a, b] // on échange les 2 fractions\n        k1 = ppcm(b, d) / b\n        k2 = ppcm(b, d) / d\n        if (typesDeQuestions === 'd_multiple_de_b') {\n          typesDeQuestions = 'b_multiple_de_d' // comme on a échangé les 2 fractions, le type de la question change\n          k = b / d\n        } else if (typesDeQuestions === 'b_multiple_de_d') {\n          typesDeQuestions = 'd_multiple_de_b' // comme on a échangé les 2 fractions, le type de la question change\n          k = d / b\n        }\n      }\n      texte = `$${texFractionFromString(a, b)}${plusOuMoins}${texFractionFromString(c, d)}$`\n      texteCorr = `$${texFractionFromString(a, b)}${plusOuMoins}${texFractionFromString(c, d)}`\n\n      // a/b(+ou-)c/d = num/den (résultat non simplifié)\n      if (\n        typesDeQuestions === 'ppcm' ||\n        typesDeQuestions === 'premiers_entre_eux'\n      ) {\n        texteCorr += `=${texFractionFromString(a + miseEnEvidence('\\\\times ' + k1, bleuMathalea), b + miseEnEvidence('\\\\times ' + k1, bleuMathalea))}${plusOuMoins}${texFractionFromString(c + miseEnEvidence('\\\\times ' + k2, bleuMathalea), d + miseEnEvidence('\\\\times ' + k2, bleuMathalea))}`\n        num = arrondi(a * k1 + plusOuMoinsUn * c * k2)\n        den = b * k1\n        texteCorr += `=${texFractionFromString(a * k1 + plusOuMoins + ecritureParentheseSiNegatif(c * k2), den)}`\n      }\n\n      if (typesDeQuestions === 'd_multiple_de_b') {\n        texteCorr += `=${texFractionFromString(a + miseEnEvidence('\\\\times ' + k, bleuMathalea), b + miseEnEvidence('\\\\times ' + k, bleuMathalea))}${plusOuMoins}${texFractionFromString(c, d)}`\n        num = arrondi(a * k + plusOuMoinsUn * c)\n        den = b * k\n        texteCorr += `=${texFractionFromString(a * k + plusOuMoins + ecritureParentheseSiNegatif(c), den)}`\n      }\n\n      if (typesDeQuestions === 'b_multiple_de_d') {\n        texteCorr += `=${texFractionFromString(a, b)}${plusOuMoins}${texFractionFromString(c + miseEnEvidence('\\\\times ' + k, bleuMathalea), d + miseEnEvidence('\\\\times ' + k, bleuMathalea))}`\n        num = arrondi(a + plusOuMoinsUn * c * k)\n        den = b\n        texteCorr += `=${texFractionFromString(a + plusOuMoins + ecritureParentheseSiNegatif(c * k), den)}`\n      }\n\n      if (typesDeQuestions === 'entier') {\n        a = randint(1, 9)\n        b = randint(2, 9, [a])\n        let n = randint(1, 9)\n        if (this.sup2) {\n          a = a * choice([-1, 1])\n          n = n * choice([-1, 1])\n        }\n        if (choice([true, false])) {\n          // n+-a/b\n          if (!this.sup2 && plusOuMoins === '-' && n < a / b) {\n            n = randint(5, 9) // max(a/b)=9/2\n          }\n          texteCorr = `$${n}${plusOuMoins}${texFractionFromString(a, b)}`\n          texte = texteCorr + '$'\n          texteCorr += `=${texFractionFromString(n + miseEnEvidence('\\\\times ' + b, bleuMathalea), miseEnEvidence(b, bleuMathalea))}${plusOuMoins}${texFractionFromString(a, b)}`\n          texteCorr += `=${texFractionFromString(n * b + plusOuMoins + ecritureParentheseSiNegatif(a), b)}`\n          num = arrondi(n * b + plusOuMoinsUn * a)\n        } else {\n          // a/b +-n\n          if (!this.sup2 && plusOuMoins === '-' && n > a / b) {\n            n = randint(1, 4) //\n            a = n * b + randint(1, 9) // (n*b+?)/b-n>0\n          }\n          texte = `$${texFractionFromString(a, b)}${plusOuMoins}${ecritureParentheseSiNegatif(n)}`\n          texteCorr = texte\n          texte += '$'\n          texteCorr += `=${texFractionFromString(a, b)}${plusOuMoins}${texFractionFromString(n + miseEnEvidence('\\\\times ' + b, bleuMathalea), miseEnEvidence(b, bleuMathalea))}`\n          texteCorr += `=${texFractionFromString(a + plusOuMoins + ecritureParentheseSiNegatif(n * b), b)}`\n          num = arrondi(a + plusOuMoinsUn * n * b)\n        }\n        den = b\n      }\n\n      texteCorr += `=${texFractionFromString(num, den)}`\n      texteCorr +=\n        simplificationDeFractionAvecEtapes(num, den, {\n          colorisationResultat: false,\n        }) + '$'\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replaceAll('$', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      const myTexteCorrCol = texteCorr\n      if (this.sup4) {\n        texteCorr = ''\n        // On redécoupe comme un chacal\n        const etapes = myTexteCorrCol.split('=')\n        texteCorr += `${lettreDepuisChiffre(i + 1)} = $${etapes[0].replace('$', '')}$ <br>`\n        for (let w = 1; w < etapes.length - 1; w++) {\n          texteCorr += `<br>${lettreDepuisChiffre(i + 1)} = $${etapes[w]}$ <br>`\n        }\n        if (context.isHtml) {\n          texteCorr += `<br>${lettreDepuisChiffre(i + 1)} = $${etapes[etapes.length - 1]}`\n        } else {\n          texteCorr += `<br>${lettreDepuisChiffre(i + 1)} = ${etapes[etapes.length - 1].replace('$', '')}`\n        }\n      }\n\n      if (!new FractionEtendue(num, den).estIrreductible)\n        texteCorr += sp(5) + ' (On a réduit le plus possible la fraction.)'\n\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecFraction,\n        { texteAvant: '=' },\n      )\n      reponse = this.sup3 ? fraction(num, den).simplifie() : fraction(num, den)\n      handleAnswers(this, i, {\n        reponse: {\n          value: reponse.toLatex(),\n          options: {\n            fractionEgale: !this.sup3,\n            fractionIrreductible: this.sup3,\n          },\n        },\n      })\n\n      if (context.isAmc) {\n        texte =\n          'Calculer et donner le résultat sous forme irréductible\\\\\\\\\\n' + texte\n        this.autoCorrection[i] = {\n          enonce: texte, // Si vide, l'énoncé est celui de l'exercice.\n          propositions: [\n            {\n              texte: '', // Si vide, le texte est la correction de l'exercice.\n            },\n          ],\n          reponse: {\n            // @ts-expect-error\n            valeur: [reponse], // obligatoire (la réponse numérique à comparer à celle de l'élève), NE PAS METTRE DE STRING à virgule ! 4.9 et non pas 4,9. Cette valeur doit être passée dans un tableau d'où la nécessité des crochets.\n            param: {\n              digits: 4,\n              digitsNum: 2,\n              digitsDen: 2,\n            },\n          },\n        }\n      }\n\n      this.listeQuestions.push(texte)\n      this.listeCorrections.push(texteCorr)\n    }\n\n    listeQuestionsToContenu(this) // Espacement de 2 em entre chaque questions.\n  }\n}\n"],"names":["amcReady","amcType","titre","interactifReady","interactifType","dateDeModifImportante","uuid","refs","ExerciceAdditionnerOuSoustraireDesFractions","Exercice","context","typesDeQuestionsDisponibles","choice","listeTypeDeQuestions","combinaisonListes","listeDePlusOuMoins","listeCouplesDeDenominateurs","i","a","b","c","d","texte","texteCorr","reponse","couplesDeDenominateurs","typesDeQuestions","plusOuMoins","plusOuMoinsUn","k1","k2","k","num","den","ppcm","randint","pgcd","texFractionFromString","miseEnEvidence","bleuMathalea","arrondi","ecritureParentheseSiNegatif","n","simplificationDeFractionAvecEtapes","textCorrSplit","aRemplacer","ee","myTexteCorrCol","etapes","lettreDepuisChiffre","w","FractionEtendue","sp","ajouteChampTexteMathLive","KeyboardType","fraction","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}