{"version":3,"file":"_Ecrire_une_expression_numerique-xFwotqrP.js","sources":["../../src/exercices/5e/_Ecrire_une_expression_numerique.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { choixDeroulant } from '../../lib/interactif/questionListeDeroulante'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes, shuffle } from '../../lib/outils/arrayOutils'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\nimport { range } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre, sp } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\nimport ChoisirExpressionLitterale from './_Choisir_expression_litterale'\nimport choisirExpressionNumerique from './_choisirExpressionNumerique'\n\nexport const interactifReady = true\nexport const interactifType = ['mathLive', 'listeDeroulante']\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDeModifImportante = '21/09/2023'\n/**\n * Fonction noyau pour 6 fonctions qui utilisent les mêmes variables et la fonction choisirExpressionNumerique\n * @author Jean-Claude Lhote\n */\nexport default class EcrireUneExpressionNumerique extends Exercice {\n  version: number\n  litteral: boolean = false\n  constructor() {\n    super()\n    this.nbQuestions = 4\n\n    this.sup2 = false // si false alors utilisation de nombres entiers, si true alors utilisation de nombres à un chiffre après la virgule.\n    this.sup3 = true // Si présence ou pas du signe \"fois\"\n    this.sup4 = 6\n    this.version = 1 // 1 pour ecrire une expression, 2 pour écrire la phrase, 3 pour écrire l'expression et la calculer, 4 pour calculer une expression numérique\n    this.besoinFormulaire4Texte = [\n      \"Nombre d'opérations par expression\",\n      'Nombres séparés par des tirets :\\n1 : Expressions à 1 opération\\n2 : Expressions à 2 opérations\\n3 : Expressions à 3 opérations\\n4 : Expressions à 4 opérations\\n5 : Expressions à 5 opérations\\n6 : Mélange',\n    ] // Texte, tooltip - il faut au moins deux opérations\n    this.besoinFormulaire2CaseACocher = [\n      'Utilisation de décimaux (pas de calcul mental)',\n      false,\n    ]\n  }\n\n  nouvelleVersion() {\n    this.interactifType = this.version !== 2 ? 'mathLive' : 'listeDeroulante'\n\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup4,\n      min: 1,\n      max: 5,\n      melange: 6,\n      defaut: 6,\n      nbQuestions: this.nbQuestions,\n    }).map(Number)\n\n    let expf\n    let expn\n    let expc\n    let decimal\n    let nbval\n    let nbOperations\n    let resultats\n    const calculMental = this.sup2\n    if (!calculMental) {\n      decimal = 10\n    } else {\n      decimal = 1\n    }\n    // pour 5C12-1\n    if (this.sup2) {\n      decimal = 10\n    } else {\n      decimal = 1\n    }\n    // pour 6C13-2\n    const listeSousCasParNbOperation = [\n      combinaisonListes(range(3), this.nbQuestions),\n      combinaisonListes(range(9), this.nbQuestions),\n      combinaisonListes(range(13), this.nbQuestions),\n      combinaisonListes(range(2), this.nbQuestions),\n      combinaisonListes(range(4), this.nbQuestions),\n    ]\n    for (\n      let i = 0, val1, val2, cpt = 0;\n      // i < Math.min(this.nbQuestions, 4 * new Set(listeTypeDeQuestions).size) &&\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      let texte: string\n      let texteCorr: string\n      let reponse\n      nbOperations = listeTypeDeQuestions[i]\n      val1 = randint(2, 5)\n      val2 = randint(6, 9)\n      if (this.version > 2 && nbOperations === 1 && !this.litteral) {\n        nbOperations++\n      }\n      if (!this.litteral) {\n        const sousCas = listeSousCasParNbOperation[nbOperations - 1][i]\n        resultats = choisirExpressionNumerique(\n          nbOperations,\n          decimal,\n          this.sup3,\n          calculMental,\n          sousCas,\n        )\n      } else {\n        resultats = ChoisirExpressionLitterale(\n          nbOperations,\n          decimal,\n          val1,\n          val2,\n          this.sup3,\n        )\n      }\n      expf = resultats[0]\n      expn = String(resultats[1]).split('=')[0]\n      expn += expn[expn.length - 1] !== '$' ? '$' : ''\n      expc = resultats[2]\n      nbval = resultats[3]\n      const expNom = this.litteral ? String(resultats[6]) : resultats[5] // Le split, c'est pour virer le déterminant.\n      if (\n        (this.questionJamaisPosee(i, nbOperations, nbval, this.version, expf) &&\n          !this.litteral) ||\n        (this.litteral &&\n          this.questionJamaisPosee(\n            i,\n            nbOperations,\n            nbval,\n            this.version,\n            resultats[4],\n          ))\n      ) {\n        this.autoCorrection[i] = {}\n        switch (this.version) {\n          case 1:\n            this.consigne =\n              \"Traduire la phrase par un calcul (il n'est pas demandé d'effectuer ce calcul).\"\n            texte = `${expf}.`\n            expn = expn.split(' ou ') // Pour traiter le cas du 'ou'.\n            texteCorr = `${expf} s'écrit : $${miseEnEvidence(expn[0].substring(1, expn[0].length - 1))}$`\n            texteCorr +=\n              expn.length > 1\n                ? ` ou $${miseEnEvidence(expn[1].substring(1, expn[1].length - 1))}$.`\n                : '.'\n            reponse =\n              expn.length > 1\n                ? [\n                    expn[0].substring(1, expn[0].length - 1),\n                    expn[1].substring(1, expn[1].length - 1),\n                  ]\n                : expn[0].substring(1, expn[0].length - 1)\n            break\n          case 2:\n            if (expn.indexOf('ou') > 0) {\n              expn = expn.substring(0, expn.indexOf('ou') - 1)\n            } // on supprime la deuxième expression fractionnaire\n            this.consigne = this.interactif\n              ? 'De quel type est chaque calcul ?'\n              : 'Traduire le calcul par une phrase en français.'\n            texte = `${expn}`\n            expf = 'l' + String(expf).substring(1)\n            texteCorr = this.interactif\n              ? `${expn} est ${texteEnCouleurEtGras(expNom)} : ${expf}.`\n              : `${expn} s'écrit : ${texteEnCouleurEtGras(expf)}.`\n            break\n          case 3: {\n            if (this.interactif) {\n              this.consigne =\n                'Traduire la phrase par un calcul et effectuer le calcul demandé au brouillon.<br> Saisir uniquement le résultat.'\n            } else {\n              this.consigne =\n                'Traduire la phrase par un calcul et effectuer le calcul demandé.'\n            }\n            if (!this.litteral) texte = `${expf}.`\n            else if (nbval === 2) {\n              texte = `${expf} puis calculer pour $x=${val1}$ et $y=${val2}$.`\n            } // nbval contient le nombre de valeurs en cas de calcul littéral\n            else texte = `${expf} puis calculer pour $x=${val1}$.`\n            texteCorr = `${expf} s'écrit : ${resultats[1]}.<br>`\n\n            if (!this.litteral) {\n              texteCorr = ''\n              if (!this.sup4) {\n                // EE : Ce test ne semble plus servir.\n                const expc2 = String(expc)\n                  .substring(1, String(expc).length - 1)\n                  .split('=')\n                texteCorr += `$${miseEnEvidence(expc2[0])} =$` + sp()\n                for (let ee = 1; ee < expc2.length - 1; ee++) {\n                  texteCorr += `$${expc2[ee]}  = $` + sp()\n                }\n                texteCorr += `$${miseEnEvidence(expc2[expc2.length - 1])}$`\n              } else {\n                // On découpe\n                const etapes = String(expc).split('=')\n                let nbEtapes = 0\n                etapes.forEach(function (etape) {\n                  nbEtapes++\n                  etape = etape.replace('$', '')\n                  if (context.isHtml) {\n                    texteCorr += '<br>'\n                  }\n                  texteCorr +=\n                    nbEtapes === etapes.length || nbEtapes === 1\n                      ? `${texteEnCouleurEtGras(lettreDepuisChiffre(i + 1) + ' = ')} $${miseEnEvidence(etape)}$ <br>`\n                      : `${lettreDepuisChiffre(i + 1)} = $${etape}$ <br>`\n                })\n              }\n            } else if (nbval === 2) {\n              texteCorr += `Pour $x=${val1}$ et $y=${val2}$ :<br> ${expc}`\n            } else texteCorr += `Pour $x=${val1}$ :<br>${expc}`\n            reponse = String(expc)\n              .split('=')\n              [String(expc).split('=').length - 1].replace('$', '')\n            if (this.litteral) {\n              // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n              const textCorrSplit = texteCorr.split('=')\n              let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n              aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n              texteCorr = ''\n              for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n                texteCorr += textCorrSplit[ee] + '='\n              }\n              texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n              // Fin de cette uniformisation\n            }\n            break\n          }\n          case 4:\n          default:\n            {\n              if (expn.indexOf('ou') > 0) {\n                expn = expn.substring(0, expn.indexOf('ou') - 1)\n              } // on supprime la deuxième expression fractionnaire\n              this.consigne = ''\n              if (!this.litteral) texte = `${expn}`\n              else if (nbval === 2) {\n                texte = `Pour $x=${val1}$ et $y=${val2}$, calculer ${expn}.`\n              } else texte = `Pour $x=${val1}$, calculer ${expn}.`\n              if (!this.litteral) texteCorr = `${expc}`\n              else if (nbval === 2) {\n                texteCorr = `Pour $x=${val1}$ et $y=${val2}$ :<br>${expc}`\n              } else texteCorr = `Pour $x=${val1}$ :<br>${expc}`\n              reponse = String(expc)\n                .split('=')\n                [String(expc).split('=').length - 1].replace('$', '')\n              // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n              const textCorrSplit = texteCorr.split('=')\n              let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n              aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n              texteCorr = ''\n              for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n                texteCorr += textCorrSplit[ee] + '='\n              }\n              texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n              // Fin de cette uniformisation\n            }\n            break\n        }\n\n        // Si la question n'a jamais été posée, on en créé une autre\n        // On doit effectuer un calcul numérique et donner une réponse numérique\n        if (this.version > 2) {\n          /// vérifier qu'il n'y a plus d'OpenNUM\n          if (context.isAmc) {\n            texte +=\n              '<br>Détailler les calculs dans le cadre et coder le résultat ci-dessous.'\n            this.autoCorrection[i] = {\n              enonce: '',\n              enonceAvant: false,\n              propositions: [\n                {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      enonce: texte,\n                      texte: texteCorr,\n                      statut: 3,\n                      pointilles: false,\n                    },\n                  ],\n                },\n                {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte: 'Résultat de cet enchaînement de calculs : ',\n                        valeur: [Number(reponse)],\n                        param: {\n                          digits: 2,\n                          decimals: 0,\n                          signe: false,\n                          approx: 0,\n                        },\n                      },\n                    },\n                  ],\n                },\n              ],\n            }\n          } else {\n            texte +=\n              '<br>' +\n              ajouteChampTexteMathLive(\n                this,\n                i,\n                this.litteral\n                  ? KeyboardType.clavierDeBaseAvecVariable\n                  : KeyboardType.clavierDeBaseAvecEgal,\n                {\n                  texteAvant: ' Résultat : ',\n                },\n              )\n\n            if (reponse === undefined) {\n              throw new Error('Réponse absente')\n            }\n\n            handleAnswers(this, i, {\n              reponse: { value: reponse },\n            })\n          }\n        }\n        // on doit donner la traduction en français de l'expression (liste déroulante pour l'interactif et AMCOpen)\n        if (this.version === 2) {\n          if (context.isAmc) {\n            // AMCOpen pour 5C11, 5C11-1, 5L10-1, 5L10-3\n            this.autoCorrection[i] = {\n              enonce: this.consigne + '<br>' + texte,\n              propositions: [\n                {\n                  texte: texteCorr,\n                  statut: this.version, // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la réponse de l'élève sur AMC)\n                  sanscadre: false, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la réponse de l'élève\n                  pointilles: this.version === 2, // EE : ce champ est facultatif et permet (si false) d'enlever les pointillés sur chaque ligne.\n                },\n              ],\n            }\n          } else {\n            texte +=\n              sp(10) +\n              choixDeroulant(this, i, [\n                { label: '?', value: '' },\n                ...shuffle([\n                  { label: 'une somme', value: 'somme' },\n                  { label: 'une différence', value: 'différence' },\n                  { label: 'un produit', value: 'produit' },\n                  { label: 'un quotient', value: 'quotient' },\n                ]),\n              ])\n            const val =\n              typeof expNom === 'string'\n                ? expNom.replace('une ', '').replace('un ', '')\n                : expNom\n\n            handleAnswers(\n              this,\n              i,\n              { reponse: { value: val } },\n              { formatInteractif: 'listeDeroulante' },\n            )\n          }\n        }\n\n        if (this.version === 1) {\n          if (context.isAmc) {\n            // AMCOpen pour 5C11, 5C11-1, 5L10-1, 5L10-3\n            this.autoCorrection[i] = {\n              enonce: this.consigne + '<br>' + texte,\n              propositions: [\n                {\n                  texte: texteCorr,\n                  statut: this.version, // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la réponse de l'élève sur AMC)\n                  sanscadre: false, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la réponse de l'élève\n                  pointilles: false, // this.version === 2 toujours false ici // EE : ce champ est facultatif et permet (si false) d'enlever les pointillés sur chaque ligne.\n                },\n              ],\n            }\n          } else {\n            texte +=\n              '<br>' +\n              ajouteChampTexteMathLive(\n                this,\n                i,\n                this.litteral\n                  ? KeyboardType.clavierDeBaseAvecVariable\n                  : KeyboardType.clavierDeBaseAvecEgal,\n                {\n                  texteAvant: ' Calcul : ',\n                },\n              )\n\n            if (reponse === undefined) {\n              throw new Error('Réponse absente')\n            }\n\n            handleAnswers(this, i, {\n              reponse: {\n                value: reponse,\n                options: {\n                  expressionNumerique: !this.litteral,\n                },\n              },\n            })\n          }\n        }\n\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","EcrireUneExpressionNumerique","Exercice","__publicField","listeTypeDeQuestions","gestionnaireFormulaireTexte","expf","expn","expc","decimal","nbval","nbOperations","resultats","calculMental","listeSousCasParNbOperation","combinaisonListes","range","i","val1","val2","cpt","texte","texteCorr","reponse","randint","ChoisirExpressionLitterale","sousCas","choisirExpressionNumerique","expNom","miseEnEvidence","texteEnCouleurEtGras","etapes","nbEtapes","etape","context","lettreDepuisChiffre","expc2","sp","ee","textCorrSplit","aRemplacer","ajouteChampTexteMathLive","KeyboardType","handleAnswers","choixDeroulant","shuffle","val","listeQuestionsToContenu"],"mappings":"6/FAqBO,MAAMA,GAAkB,GAClBC,GAAiB,CAAC,WAAY,iBAAiB,EAC/CC,GAAW,GACXC,GAAU,aACVC,GAAwB,aAKrC,MAAqBC,WAAqCC,CAAS,CAGjE,aAAc,CACZ,MAAA,EAHFC,EAAA,gBACAA,EAAA,gBAAoB,IAGlB,KAAK,YAAc,EAEnB,KAAK,KAAO,GACZ,KAAK,KAAO,GACZ,KAAK,KAAO,EACZ,KAAK,QAAU,EACf,KAAK,uBAAyB,CAC5B,qCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAA,EAEF,KAAK,6BAA+B,CAClC,iDACA,EAAA,CAEJ,CAEA,iBAAkB,CAChB,KAAK,eAAiB,KAAK,UAAY,EAAI,WAAa,kBAExD,MAAMC,EAAuBC,EAA4B,CACvD,OAAQ,KAAK,KACb,IAAK,EACL,IAAK,EACL,QAAS,EACT,OAAQ,EACR,YAAa,KAAK,WAAA,CACnB,EAAE,IAAI,MAAM,EAEb,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAe,KAAK,KACrBA,EAGHJ,EAAU,EAFVA,EAAU,GAKR,KAAK,KACPA,EAAU,GAEVA,EAAU,EAGZ,MAAMK,EAA6B,CACjCC,EAAkBC,EAAM,CAAC,EAAG,KAAK,WAAW,EAC5CD,EAAkBC,EAAM,CAAC,EAAG,KAAK,WAAW,EAC5CD,EAAkBC,EAAM,EAAE,EAAG,KAAK,WAAW,EAC7CD,EAAkBC,EAAM,CAAC,EAAG,KAAK,WAAW,EAC5CD,EAAkBC,EAAM,CAAC,EAAG,KAAK,WAAW,CAAA,EAE9C,QACMC,EAAI,EAAGC,EAAMC,EAAMC,EAAM,EAE7BH,EAAI,KAAK,aAAeG,EAAM,IAE9B,CACA,IAAIC,EACAC,EACAC,EAOJ,GANAZ,EAAeP,EAAqBa,CAAC,EACrCC,EAAOM,EAAQ,EAAG,CAAC,EACnBL,EAAOK,EAAQ,EAAG,CAAC,EACf,KAAK,QAAU,GAAKb,IAAiB,GAAK,CAAC,KAAK,UAClDA,IAEG,KAAK,SAURC,EAAYa,EACVd,EACAF,EACAS,EACAC,EACA,KAAK,IAAA,MAfW,CAClB,MAAMO,EAAUZ,EAA2BH,EAAe,CAAC,EAAEM,CAAC,EAC9DL,EAAYe,EACVhB,EACAF,EACA,KAAK,KACLI,EACAa,CAAA,CAEJ,CASApB,EAAOM,EAAU,CAAC,EAClBL,EAAO,OAAOK,EAAU,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,EACxCL,GAAQA,EAAKA,EAAK,OAAS,CAAC,IAAM,IAAM,IAAM,GAC9CC,EAAOI,EAAU,CAAC,EAClBF,EAAQE,EAAU,CAAC,EACnB,MAAMgB,EAAS,KAAK,SAAW,OAAOhB,EAAU,CAAC,CAAC,EAAIA,EAAU,CAAC,EACjE,GACG,KAAK,oBAAoBK,EAAGN,EAAcD,EAAO,KAAK,QAASJ,CAAI,GAClE,CAAC,KAAK,UACP,KAAK,UACJ,KAAK,oBACHW,EACAN,EACAD,EACA,KAAK,QACLE,EAAU,CAAC,CAAA,EAEf,CAEA,OADA,KAAK,eAAeK,CAAC,EAAI,CAAA,EACjB,KAAK,QAAA,CACX,IAAK,GACH,KAAK,SACH,iFACFI,EAAQ,GAAGf,CAAI,IACfC,EAAOA,EAAK,MAAM,MAAM,EACxBe,EAAY,GAAGhB,CAAI,eAAeuB,EAAetB,EAAK,CAAC,EAAE,UAAU,EAAGA,EAAK,CAAC,EAAE,OAAS,CAAC,CAAC,CAAC,IAC1Fe,GACEf,EAAK,OAAS,EACV,QAAQsB,EAAetB,EAAK,CAAC,EAAE,UAAU,EAAGA,EAAK,CAAC,EAAE,OAAS,CAAC,CAAC,CAAC,KAChE,IACNgB,EACEhB,EAAK,OAAS,EACV,CACEA,EAAK,CAAC,EAAE,UAAU,EAAGA,EAAK,CAAC,EAAE,OAAS,CAAC,EACvCA,EAAK,CAAC,EAAE,UAAU,EAAGA,EAAK,CAAC,EAAE,OAAS,CAAC,CAAA,EAEzCA,EAAK,CAAC,EAAE,UAAU,EAAGA,EAAK,CAAC,EAAE,OAAS,CAAC,EAC7C,MACF,IAAK,GACCA,EAAK,QAAQ,IAAI,EAAI,IACvBA,EAAOA,EAAK,UAAU,EAAGA,EAAK,QAAQ,IAAI,EAAI,CAAC,GAEjD,KAAK,SAAW,KAAK,WACjB,mCACA,iDACJc,EAAQ,GAAGd,CAAI,GACfD,EAAO,IAAM,OAAOA,CAAI,EAAE,UAAU,CAAC,EACrCgB,EAAY,KAAK,WACb,GAAGf,CAAI,QAAQuB,EAAqBF,CAAM,CAAC,MAAMtB,CAAI,IACrD,GAAGC,CAAI,cAAcuB,EAAqBxB,CAAI,CAAC,IACnD,MACF,IAAK,GAAG,CAeN,GAdI,KAAK,WACP,KAAK,SACH,mHAEF,KAAK,SACH,mEAEC,KAAK,SACDI,IAAU,EACjBW,EAAQ,GAAGf,CAAI,0BAA0BY,CAAI,WAAWC,CAAI,KAEzDE,EAAQ,GAAGf,CAAI,0BAA0BY,CAAI,KAJ9BG,EAAQ,GAAGf,CAAI,IAKnCgB,EAAY,GAAGhB,CAAI,cAAcM,EAAU,CAAC,CAAC,QAExC,KAAK,SA4BCF,IAAU,EACnBY,GAAa,WAAWJ,CAAI,WAAWC,CAAI,WAAWX,CAAI,GACrDc,GAAa,WAAWJ,CAAI,UAAUV,CAAI,WA7B/Cc,EAAY,GACP,KAAK,KAUH,CAEL,MAAMS,EAAS,OAAOvB,CAAI,EAAE,MAAM,GAAG,EACrC,IAAIwB,EAAW,EACfD,EAAO,QAAQ,SAAUE,EAAO,CAC9BD,IACAC,EAAQA,EAAM,QAAQ,IAAK,EAAE,EACzBC,EAAQ,SACVZ,GAAa,QAEfA,GACEU,IAAaD,EAAO,QAAUC,IAAa,EACvC,GAAGF,EAAqBK,EAAoBlB,EAAI,CAAC,EAAI,KAAK,CAAC,KAAKY,EAAeI,CAAK,CAAC,SACrF,GAAGE,EAAoBlB,EAAI,CAAC,CAAC,OAAOgB,CAAK,QACjD,CAAC,CACH,KAzBgB,CAEd,MAAMG,EAAQ,OAAO5B,CAAI,EACtB,UAAU,EAAG,OAAOA,CAAI,EAAE,OAAS,CAAC,EACpC,MAAM,GAAG,EACZc,GAAa,IAAIO,EAAeO,EAAM,CAAC,CAAC,CAAC,MAAQC,EAAA,EACjD,QAASC,EAAK,EAAGA,EAAKF,EAAM,OAAS,EAAGE,IACtChB,GAAa,IAAIc,EAAME,CAAE,CAAC,QAAUD,EAAA,EAEtCf,GAAa,IAAIO,EAAeO,EAAMA,EAAM,OAAS,CAAC,CAAC,CAAC,GAC1D,CAsBF,GAHAb,EAAU,OAAOf,CAAI,EAClB,MAAM,GAAG,EACT,OAAOA,CAAI,EAAE,MAAM,GAAG,EAAE,OAAS,CAAC,EAAE,QAAQ,IAAK,EAAE,EAClD,KAAK,SAAU,CAEjB,MAAM+B,EAAgBjB,EAAU,MAAM,GAAG,EACzC,IAAIkB,EAAaD,EAAcA,EAAc,OAAS,CAAC,EACvDC,EAAaA,EAAW,QAAQ,IAAK,EAAE,EAAE,QAAQ,OAAQ,EAAE,EAE3DlB,EAAY,GACZ,QAASgB,EAAK,EAAGA,EAAKC,EAAc,OAAS,EAAGD,IAC9ChB,GAAaiB,EAAcD,CAAE,EAAI,IAEnChB,GAAa,MAAMO,EAAeW,CAAU,CAAC,GAE/C,CACA,KACF,CAEA,QACE,CACMjC,EAAK,QAAQ,IAAI,EAAI,IACvBA,EAAOA,EAAK,UAAU,EAAGA,EAAK,QAAQ,IAAI,EAAI,CAAC,GAEjD,KAAK,SAAW,GACX,KAAK,SACDG,IAAU,EACjBW,EAAQ,WAAWH,CAAI,WAAWC,CAAI,eAAeZ,CAAI,IACpDc,EAAQ,WAAWH,CAAI,eAAeX,CAAI,IAH7Bc,EAAQ,GAAGd,CAAI,GAI9B,KAAK,SACDG,IAAU,EACjBY,EAAY,WAAWJ,CAAI,WAAWC,CAAI,UAAUX,CAAI,GACnDc,EAAY,WAAWJ,CAAI,UAAUV,CAAI,GAH5Bc,EAAY,GAAGd,CAAI,GAIvCe,EAAU,OAAOf,CAAI,EAClB,MAAM,GAAG,EACT,OAAOA,CAAI,EAAE,MAAM,GAAG,EAAE,OAAS,CAAC,EAAE,QAAQ,IAAK,EAAE,EAEtD,MAAM+B,EAAgBjB,EAAU,MAAM,GAAG,EACzC,IAAIkB,EAAaD,EAAcA,EAAc,OAAS,CAAC,EACvDC,EAAaA,EAAW,QAAQ,IAAK,EAAE,EAAE,QAAQ,OAAQ,EAAE,EAE3DlB,EAAY,GACZ,QAASgB,EAAK,EAAGA,EAAKC,EAAc,OAAS,EAAGD,IAC9ChB,GAAaiB,EAAcD,CAAE,EAAI,IAEnChB,GAAa,MAAMO,EAAeW,CAAU,CAAC,GAE/C,CACA,KAAA,CAKJ,GAAI,KAAK,QAAU,EAEjB,GAAIN,EAAQ,MACVb,GACE,2EACF,KAAK,eAAeJ,CAAC,EAAI,CACvB,OAAQ,GACR,YAAa,GACb,aAAc,CACZ,CACE,KAAM,UACN,aAAc,CACZ,CACE,OAAQI,EACR,MAAOC,EACP,OAAQ,EACR,WAAY,EAAA,CACd,CACF,EAEF,CACE,KAAM,SACN,aAAc,CACZ,CACE,MAAO,GACP,OAAQ,GACR,QAAS,CACP,MAAO,6CACP,OAAQ,CAAC,OAAOC,CAAO,CAAC,EACxB,MAAO,CACL,OAAQ,EACR,SAAU,EACV,MAAO,GACP,OAAQ,CAAA,CACV,CACF,CACF,CACF,CACF,CACF,MAEG,CAcL,GAbAF,GACE,OACAoB,EACE,KACAxB,EACA,KAAK,SACDyB,EAAa,0BACbA,EAAa,sBACjB,CACE,WAAY,cAAA,CACd,EAGAnB,IAAY,OACd,MAAM,IAAI,MAAM,iBAAiB,EAGnCoB,EAAc,KAAM1B,EAAG,CACrB,QAAS,CAAE,MAAOM,CAAA,CAAQ,CAC3B,CACH,CAGF,GAAI,KAAK,UAAY,EACnB,GAAIW,EAAQ,MAEV,KAAK,eAAejB,CAAC,EAAI,CACvB,OAAQ,KAAK,SAAW,OAASI,EACjC,aAAc,CACZ,CACE,MAAOC,EACP,OAAQ,KAAK,QACb,UAAW,GACX,WAAY,KAAK,UAAY,CAAA,CAC/B,CACF,MAEG,CACLD,GACEgB,EAAG,EAAE,EACLO,EAAe,KAAM3B,EAAG,CACtB,CAAE,MAAO,IAAK,MAAO,EAAA,EACrB,GAAG4B,EAAQ,CACT,CAAE,MAAO,YAAa,MAAO,OAAA,EAC7B,CAAE,MAAO,iBAAkB,MAAO,YAAA,EAClC,CAAE,MAAO,aAAc,MAAO,SAAA,EAC9B,CAAE,MAAO,cAAe,MAAO,UAAA,CAAW,CAC3C,CAAA,CACF,EACH,MAAMC,EACJ,OAAOlB,GAAW,SACdA,EAAO,QAAQ,OAAQ,EAAE,EAAE,QAAQ,MAAO,EAAE,EAC5CA,EAENe,EACE,KACA1B,EACA,CAAE,QAAS,CAAE,MAAO6B,EAAI,EACxB,CAAE,iBAAkB,iBAAA,CAAkB,CAE1C,CAGF,GAAI,KAAK,UAAY,EACnB,GAAIZ,EAAQ,MAEV,KAAK,eAAejB,CAAC,EAAI,CACvB,OAAQ,KAAK,SAAW,OAASI,EACjC,aAAc,CACZ,CACE,MAAOC,EACP,OAAQ,KAAK,QACb,UAAW,GACX,WAAY,EAAA,CACd,CACF,MAEG,CAcL,GAbAD,GACE,OACAoB,EACE,KACAxB,EACA,KAAK,SACDyB,EAAa,0BACbA,EAAa,sBACjB,CACE,WAAY,YAAA,CACd,EAGAnB,IAAY,OACd,MAAM,IAAI,MAAM,iBAAiB,EAGnCoB,EAAc,KAAM1B,EAAG,CACrB,QAAS,CACP,MAAOM,EACP,QAAS,CACP,oBAAqB,CAAC,KAAK,QAAA,CAC7B,CACF,CACD,CACH,CAGF,KAAK,eAAeN,CAAC,EAAII,EACzB,KAAK,iBAAiBJ,CAAC,EAAIK,EAC3BL,GACF,CACAG,GACF,CACA2B,EAAwB,IAAI,CAC9B,CACF"}