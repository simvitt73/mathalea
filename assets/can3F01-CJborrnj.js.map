{"version":3,"file":"can3F01-CJborrnj.js","sources":["../../src/exercices/can/3e/can3F01.ts"],"sourcesContent":["import { repere } from '../../../lib/2d/reperes'\nimport { latex2d } from '../../../lib/2d/textes'\nimport { spline } from '../../../lib/mathFonctions/Spline'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const dateDeModifImportante = '26/10/2023'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre = 'Lire une image graphiquement'\n/**\n * @author Gilles Mora\n  *\n\n*/\nexport const uuid = '966a6'\n\nexport const refs = {\n  'fr-fr': ['can3F01'],\n  'fr-ch': [],\n}\ntype Noeud = {\n  x: number\n  y: number\n  deriveeGauche: number\n  deriveeDroit: number\n  isVisible: boolean\n}\nexport default class ImageSpline extends ExerciceSimple {\n  constructor() {\n    super()\n    this.versionQcmDisponible = true\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const noeuds1: Noeud[] = [\n      { x: -4, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -3, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -1, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 0, y: 1, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 2, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 3, y: -2, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 4, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 5, y: 1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n    ]\n    const noeuds2: Noeud[] = [\n      { x: -4, y: 0, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -3, y: 2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -1, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 0, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 2, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 3, y: 0, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n      { x: 4, y: 2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 5, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n    ]\n    const mesFonctions = [noeuds1, noeuds2]\n    function aleatoiriseCourbe(listeFonctions: Noeud[][]) {\n      const coeffX = choice([-1, 1]) // symétries ou pas\n      const coeffY = choice([-1, 1])\n      const deltaX = randint(-2, +2) // translations\n      const deltaY = randint(-1, 1) // randint(-2, +2)\n      const choix = choice(listeFonctions)\n      return choix.map((noeud) =>\n        Object({\n          x: (noeud.x + deltaX) * coeffX,\n          y: (noeud.y + deltaY) * coeffY,\n          deriveeGauche: noeud.deriveeGauche * coeffX * coeffY,\n          deriveeDroit: noeud.deriveeDroit * coeffX * coeffY,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n    let bornes = { xMin: 0, xMax: 0, yMin: 0, yMax: 0 }\n    const antecedent = randint(0, 8)\n    const o = latex2d('\\\\text{O}', -0.3, -0.3, { letterSize: 'scriptsize' })\n    const nuage = aleatoiriseCourbe(mesFonctions)\n    const theSpline = spline(nuage)\n    this.spline = theSpline\n    bornes = theSpline.trouveMaxes()\n    const repere1 = repere({\n      xMin: bornes.xMin - 1,\n      xMax: bornes.xMax + 1,\n      yMin: bornes.yMin - 1,\n      yMax: bornes.yMax + 1,\n      grilleX: false,\n      grilleY: false,\n      xThickMin: bornes.xMin - 1,\n      yThickMin: bornes.yMin - 1,\n      yThickMax: bornes.yMax + 1,\n      xLabelMin: bornes.xMin,\n      yLabelMin: bornes.yMin,\n      yLabelMax: bornes.yMax,\n      xLabelMax: bornes.xMax,\n      xThickMax: bornes.xMax + 1,\n      grilleSecondaire: true,\n      grilleSecondaireYDistance: 1,\n      grilleSecondaireXDistance: 1,\n      grilleSecondaireOpacite: 1,\n      axesEpaisseur: 1.5,\n      grilleOpacite: 1,\n      grilleSecondaireCouleur: 'black',\n      grilleSecondaireYMin: bornes.yMin - 1.02,\n      grilleSecondaireYMax: bornes.yMax + 1.02,\n      grilleSecondaireXMin: bornes.xMin - 1.02,\n      grilleSecondaireXMax: bornes.xMax + 1.02,\n    })\n    const courbe1 = theSpline.courbe({\n      epaisseur: 1.5,\n      ajouteNoeuds: true,\n      optionsNoeuds: { color: 'blue', taille: 2, style: 'x', epaisseur: 2 },\n      color: 'blue',\n    })\n    const objetsEnonce = [repere1, courbe1]\n\n    this.reponse = theSpline.y[antecedent]\n    this.distracteurs = [\n      `$${theSpline.x[antecedent]}$`,\n      `L\\'image de $${theSpline.x[antecedent]}$ n'existe pas`,\n      `$${theSpline.y[0]}$`,\n      `$${antecedent}$`,\n      `$${theSpline.x[antecedent]}$`,\n    ]\n    if (this.versionQcm) {\n      this.question =\n        mathalea2d(\n          Object.assign(\n            { pixelsParCm: 30, scale: 0.7, style: 'margin: auto' },\n            {\n              xmin: bornes.xMin - 1,\n              ymin: bornes.yMin - 1,\n              xmax: bornes.xMax + 1,\n              ymax: bornes.yMax + 1,\n            },\n          ),\n          objetsEnonce,\n          o,\n        ) +\n        '<br>' +\n        `L'image de $${theSpline.x[antecedent]}$ est : `\n    } // fixeBordures(objetsEnonce))\n    else {\n      this.question =\n        `Quelle est l'image de $${theSpline.x[antecedent]}$ ?\n    ` +\n        mathalea2d(\n          Object.assign(\n            { pixelsParCm: 30, scale: 0.7, style: 'margin: auto' },\n            {\n              xmin: bornes.xMin - 1,\n              ymin: bornes.yMin - 1,\n              xmax: bornes.xMax + 1,\n              ymax: bornes.yMax + 1,\n            },\n          ),\n          objetsEnonce,\n          o,\n        )\n    }\n    this.correction = `Pour lire l'image de $${theSpline.x[antecedent]}$, on place la valeur de $${theSpline.x[antecedent]}$ sur l'axe des abscisses (axe de lecture  des antécédents) et on lit\n    son image  sur l'axe des ordonnées (axe de lecture des images). On obtient :  $f(${theSpline.x[antecedent]})=${miseEnEvidence(theSpline.y[antecedent])}$`\n    this.canEnonce = this.question // 'Compléter'\n    this.canReponseACompleter = ''\n  }\n}\n"],"names":["dateDeModifImportante","interactifReady","interactifType","titre","uuid","refs","ImageSpline","ExerciceSimple","mesFonctions","aleatoiriseCourbe","listeFonctions","coeffX","choice","coeffY","deltaX","randint","deltaY","noeud","bornes","antecedent","o","latex2d","nuage","theSpline","spline","repere1","repere","courbe1","objetsEnonce","mathalea2d","miseEnEvidence"],"mappings":"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"}