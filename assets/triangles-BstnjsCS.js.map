{"version":3,"file":"triangles-BstnjsCS.js","sources":["../../src/lib/2d/triangles.ts"],"sourcesContent":["import { floor } from 'mathjs'\nimport { randint } from '../../modules/outils'\nimport { cercle } from './cercle'\nimport { CodageAngleDroit, codageAngleDroit } from './CodageAngleDroit'\nimport { CodageMilieu } from './CodageMilieu'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { Droite, droite } from './droites'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { polygone } from './polygones'\nimport { projectionOrtho, rotation, similitude } from './transformations'\nimport { longueur } from './utilitairesGeometriques'\nimport {\n  pointIntersectionCC,\n  pointIntersectionDD,\n  pointIntersectionLC,\n  pointSurSegment,\n} from './utilitairesPoint'\n\n/**\n * retourne un objet contenant le triangle ABC et le pied de la hauteur H\n * @param {point} A première extrémité de la base\n * @param {point} B deuxième extrémité de la base\n * @param {number} h hauteur du triangle en cm\n * @param {number} d valeur algébrique de AH où H est le pied de la hauteur\n * @param {*} n = 1 ou 2 permet de choisir le côté pour C.\n * @author Jean-Claude Lhote\n * @return {objet} {triangle, pied}\n */\nexport function triangle2points1hauteur(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  h: number,\n  d: number,\n  n = 1,\n  color = 'black',\n) {\n  if (d === undefined) {\n    d = randint(0, floor(longueur(A, B)))\n  }\n  const H = pointSurSegment(A, B, d)\n  const C = similitude(A, H, 90 * (3 - n * 2), h / longueur(A, H))\n  return { triangle: polygone([A, B, C], color), pied: H }\n}\n\n/**\n * @param {PointAbstrait} A\n * @param {PointAbstrait} B\n * @param {number} l1\n * @param {number} l2\n * @param {number} [n=1] Si n = 1 (défaut), C a la plus grande ordonnée possible, si n = 2, C a la plus petite ordonnée possible\n * @return {Polygone} objet Polygone ABC\n * @example t = triangle2points2longueurs(A,B,4,7,2) // Récupère t le triangle ABC tel que AC = 4 cm et BC = 7 cm avec C qui a l'ordonnée la plus petite possible\n * @example C = t.listePoints[2] // Récupère le 3e sommet dans la variable C\n * @author Rémi Angot\n */\nexport function triangle2points2longueurs(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  l1: number,\n  l2: number,\n  n = 1,\n  color = 'black',\n) {\n  const c1 = cercle(A, l1)\n  const c2 = cercle(B, l2)\n  let C: PointAbstrait\n  if (n === 1) {\n    C = pointIntersectionCC(c1, c2)\n  } else {\n    C = pointIntersectionCC(c1, c2, '', 2)\n  }\n  return polygone([A, B, C], color)\n}\n\n/**\n * t = triangle2points2angles(A,B,40,60) // Trace le triangle ABC tel que CAB = +40° et CBA = -60°\n * C = t.listePoints[2] // Récupère le 3e sommet dans la variable C\n * t = triangle2points2angles(A,B,40,60,2) // Trace le triangle ABC tel que CAB = -40° et CBA = 60°\n * @author Rémi Angot\n */\nexport function triangle2points2angles(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  a1: number,\n  a2: number,\n  n = 1,\n  color = 'black',\n) {\n  if (n === 1) {\n    a2 *= -1\n  } else {\n    a1 *= -1\n  }\n  const a = pointSurSegment(A, B, 1)\n  const c1 = rotation(a, A, a1)\n  const b = pointSurSegment(B, A, 1)\n  const c2 = rotation(b, B, a2)\n  const dAc1 = droite(A, c1)\n  const dBc2 = droite(B, c2)\n  const C = pointIntersectionDD(dAc1, dBc2, 'C')\n  return polygone([A, B, C], color)\n}\n\n/**\n *\n * @param {PointAbstrait} A Le sommet pour l'angle donné = première extrémité du segment de base du triangle\n * @param {PointAbstrait} B L'autre extrémité du segment de base\n * @param {number} a l'angle au sommet A (angle compris entre 0 et 180 sinon il y est contraint)\n * @param {number} l la longueur du deuxième côté de l'angle\n * @param {number} n n=1 l'angle a est pris dans le sens direct, n différent de 1, l'angle a est pris dans le sens indirect.\n * t = triangle2points1angle1longueur(A,B,40,6) // Trace le triangle ABC tel que CAB = 40° et AC=6\n * @author Jean-Claude Lhote\n */\nexport function triangle2points1angle1longueur(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  a: number,\n  l: number,\n  n = 1,\n  color = 'black',\n) {\n  if (n === 1) {\n    a = Math.abs(a) % 180\n  } else {\n    a = -(Math.abs(a) % 180)\n  }\n  const P = pointSurSegment(A, B, l)\n  const Q = rotation(P, A, a)\n  return polygone([A, B, Q], color)\n}\n\n/**\n * @param {PointAbstrait} A Le sommet pour l'angle donné = première extrémité du segment de base du triangle\n * @param {PointAbstrait} B L'autre extrémité du segment de base\n * @param {number} a l'angle au sommet A (angle compris entre 0 et 180 sinon il y est contraint)\n * @param {number} l la longueur du côté opposé à l'angle\n * @param {number} n n=1 l'angle a est pris dans le sens direct et le point est le plus près de A\n * n=2 l'angle est pris dans le sens indirect et le point est le plus près de A\n * n=3 l'angle a est pris dans le sens direct et le point est le plus loin de A\n * n=4 l'angle est pris dans le sens indirect et le point est le plus loin de A\n * t = triangle2points1angle1longueurOppose(A,B,40,6) // Trace le triangle ABC tel que CAB = 40° et BC=6 Le point C est celui des deux points possible le plus près de A\n * @author Jean-Claude Lhote\n */\nexport function triangle2points1angle1longueurOppose(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  a: number,\n  l: number,\n  n = 1,\n  color = 'black',\n) {\n  let M: PointAbstrait\n  if (n % 2 === 1) {\n    a = Math.abs(a) % 180\n  } else {\n    a = -(Math.abs(a) % 180)\n  }\n  const d = droite(A, B)\n  const e = rotation(d, A, a)\n  const c = cercle(B, l)\n  if ((n + 1) >> 1 === 1) M = pointIntersectionLC(e, c, '', 1)\n  else M = pointIntersectionLC(e, c, '', 2)\n  return polygone([A, B, M], color)\n}\n\n/**\n * Code la hauteur d'un triangle\n * @param {PointAbstrait} A Premier sommet d'un triangle\n * @param {PointAbstrait} B Deuxième sommet d'un triangle\n * @param {PointAbstrait} C Troisième sommet d'un triangle\n * @param {string} [color = 'black'] Couleur des codages : du type 'blue' ou du type '#f15929'\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {string} color Couleur des codages. À associer obligatoirement à colorToLatexOrHTML().\n * @class\n */\n// JSDOC Validee par EE Juin 2022\nexport class CodageHauteurTriangle extends ObjetMathalea2D {\n  traceD: boolean\n  c: CodageAngleDroit\n  d: Droite\n  constructor(\n    A: PointAbstrait,\n    B: PointAbstrait,\n    C: PointAbstrait,\n    color = 'black',\n  ) {\n    super()\n    this.color = colorToLatexOrHTML(color)\n    this.d = droite(B, C)\n    const p = projectionOrtho(A, this.d)\n    const q = rotation(A, p, -90)\n    this.traceD = false\n    if (B.x < C.x) {\n      if (p.x > C.x || p.x < B.x) {\n        this.d.pointilles = 5\n        this.traceD = true\n      }\n    } else if (C.x < B.x) {\n      if (p.x < C.x || p.x > B.x) {\n        this.traceD = true\n        this.d.pointilles = 5\n      }\n    } else if (B.y < C.y) {\n      if (p.y > C.y || p.y < B.y) {\n        this.traceD = true\n        this.d.pointilles = 5\n      }\n    } else if (C.y < B.y) {\n      if (p.y < C.y || p.y > B.y) {\n        this.traceD = true\n        this.d.pointilles = 5\n      }\n    }\n    this.c = codageAngleDroit(A, p, q, color)\n  }\n\n  svg(coeff: number) {\n    if (this.traceD) {\n      return this.c.svg(coeff) + '\\n\\t' + this.d.svg(coeff)\n    } else {\n      return this.c.svg(coeff)\n    }\n  }\n\n  tikz() {\n    if (this.traceD) {\n      return this.c.tikz() + '\\n\\t' + this.d.tikz()\n    } else {\n      return this.c.tikz()\n    }\n  }\n}\n\n/**\n * Code la hauteur d'un triangle\n * @param {PointAbstrait} A Premier sommet d'un triangle\n * @param {PointAbstrait} B Deuxième sommet d'un triangle\n * @param {PointAbstrait} C Troisième sommet d'un triangle\n * @param {string} [color = 'black'] Couleur des codages : du type 'blue' ou du type '#f15929'\n * @example codageHauteurTriangle(M,N,P) // Code, en noir, la hauteur du triangle MNP.\n * @example codageHauteurTriangle(M,N,P,'red') // Code, en rouge, la hauteur du triangle MNP.\n * @return {CodageHauteurTriangle}\n */\n// JSDOC Validee par EE Juin 2022\nexport function codageHauteurTriangle(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  C: PointAbstrait,\n  color = 'black',\n) {\n  return new CodageHauteurTriangle(A, B, C, color)\n}\n\n/**\n * Code la médiane d'un triangle\n * @param {PointAbstrait} B Première extrémité du segment dont la médiane est relative\n * @param {PointAbstrait} C Seconde extrémité du segment dont la médiane est relative\n * @param {string} [color = 'black'] Couleur des codages : du type 'blue' ou du type '#f15929'\n * @param {string} [mark = '//'] Symbole posé de part et d'autre du milieu du segment\n * @param {boolean} [mil = false] Trace ou nom le point du milieu.\n * @example codageMedianeTriangle(M,N) // Code, en noir, la médiane d'un triangle relative au côté [MN], avec les symboles //\n * @example codageMedianeTriangle(M,N,P,'red','oo') // Code, en rouge, la médiane d'un triangle relative au côté [MN], avec les symboles oo\n * @return {CodageSegments}\n */\n// JSDOC Validee par EE Juin 2022\nexport function codageMedianeTriangle(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  color = 'black',\n  mark = '×',\n  mil = false,\n) {\n  return new CodageMilieu(A, B, color, mark, mil)\n}\n"],"names":["triangle2points1hauteur","A","B","h","d","n","color","randint","floor","longueur","H","pointSurSegment","C","similitude","polygone","triangle2points2longueurs","l1","l2","c1","cercle","c2","pointIntersectionCC","triangle2points2angles","a1","a2","a","rotation","b","dAc1","droite","dBc2","pointIntersectionDD","triangle2points1angle1longueur","l","P","Q","CodageHauteurTriangle","ObjetMathalea2D","__publicField","colorToLatexOrHTML","p","projectionOrtho","q","codageAngleDroit","coeff","codageHauteurTriangle","codageMedianeTriangle","mark","mil","CodageMilieu"],"mappings":"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"}