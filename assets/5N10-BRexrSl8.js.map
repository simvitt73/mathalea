{"version":3,"file":"5N10-BRexrSl8.js","sources":["../../src/exercices/5e/5N10.ts"],"sourcesContent":["/* eslint-disable no-unmodified-loop-condition */\n/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/interactivity/mathLive.fraction.test.ts ⚠️\n */\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Passer d'une fraction à une écriture décimale et inversement\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '16/03/2022'\n\n/**\n * Propose de passer de l'écriture décimale à l'écriture fractionnaire et inversement\n * Un paramètre permet de limiter cela aux fractions décimales ou d'y incorporer des fractions \"simples\" (multiples de 1/2, 1/4, 1/5)\n * @author Guillaume Valmont\n */\nexport const uuid = '91d72'\n\nexport const refs = {\n  'fr-fr': ['5N10', 'BP2AutoC1'],\n  'fr-ch': ['9NO10-2', '1mCN-3'],\n}\nexport default class PasserEcritureDecimaleEcritureFractionnaireInversement extends Exercice {\n  constructor() {\n    super()\n\n    this.besoinFormulaireNumerique = [\n      'Sens demandé',\n      3,\n      \"1 : De l'écriture décimale à une fraction\\n2 : D'une fraction à l'écriture décimale\\n3 : Mélange\",\n    ]\n    this.sup = 3\n    this.besoinFormulaire2CaseACocher = ['Uniquement des fractions décimales']\n    this.sup2 = false\n\n    this.nbCols = 2\n    this.nbColsCorr = 2\n  }\n\n  nouvelleVersion() {\n    let typesDesSensDemandes\n    if (this.sup === 1) {\n      typesDesSensDemandes = ['DecimaleAFractionnaire']\n    } else if (this.sup === 2) {\n      typesDesSensDemandes = ['FractionnaireADecimale']\n    } else {\n      typesDesSensDemandes = [\n        'DecimaleAFractionnaire',\n        'FractionnaireADecimale',\n      ]\n    }\n    const listeDesSensDemandes = combinaisonListes(\n      typesDesSensDemandes,\n      this.nbQuestions,\n    )\n\n    let typesDeFractionsDisponibles\n    if (this.sup2) {\n      typesDeFractionsDisponibles = ['fractionsDecimales']\n    } else {\n      typesDeFractionsDisponibles = [\n        'fractionsDecimales',\n        'fractionsNonDecimales',\n      ]\n    }\n    const listeTypeFractions = combinaisonListes(\n      typesDeFractionsDisponibles,\n      this.nbQuestions,\n    )\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      let numerateur = 0\n      let denominateur = 1\n      if (listeTypeFractions[i] === 'fractionsDecimales') {\n        numerateur = 0\n        while (numerateur % 2 === 0 || numerateur % 5 === 0) {\n          numerateur = choice([\n            randint(1, 9),\n            randint(11, 99),\n            randint(101, 999),\n          ])\n        }\n        denominateur = choice([10, 100, 1000])\n      } else if (listeTypeFractions[i] === 'fractionsNonDecimales') {\n        numerateur = randint(1, 9)\n        denominateur = choice([2, 4, 5])\n        if (\n          (numerateur * denominateur) % 4 === 0 ||\n          (numerateur * denominateur) % 25 === 0\n        ) {\n          numerateur += 1\n        }\n      }\n      while (\n        numerateur % denominateur === 0 ||\n        denominateur % numerateur === 0 ||\n        (numerateur % 2 === 0 && denominateur === 4)\n      ) {\n        numerateur += 1\n      }\n      const ecritureDecimale = numerateur / denominateur\n\n      if (listeDesSensDemandes[i] === 'DecimaleAFractionnaire') {\n        texte = `Écrire $${texNombre(ecritureDecimale, 3)}$ sous la forme d'une fraction.`\n        if (this.interactif) {\n          texte +=\n            '<br>' +\n            ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierDeBaseAvecFraction,\n              {\n                texteAvant: `$${texNombre(ecritureDecimale, 3)} = $`,\n              },\n            )\n        }\n        if (listeTypeFractions[i] === 'fractionsNonDecimales') {\n          let multiple\n          denominateur === 4 ? (multiple = 100) : (multiple = 10)\n          texteCorr = `$${texNombre(ecritureDecimale, 3)} = ${miseEnEvidence(`\\\\dfrac{${ecritureDecimale * multiple}}{${multiple}}`)}$  ou $${texNombre(ecritureDecimale, 3)} = ${miseEnEvidence(`\\\\dfrac{${numerateur}}{${denominateur}}`)}$`\n        } else {\n          texteCorr = `$${texNombre(ecritureDecimale, 3)} = ${miseEnEvidence(`\\\\dfrac{${numerateur}}{${denominateur}}`)}$`\n        }\n        handleAnswers(this, i, {\n          reponse: {\n            value: new FractionEtendue(numerateur, denominateur),\n            options: { fractionEgale: true },\n          },\n        })\n      } else {\n        texte = `Donner l'écriture décimale de $\\\\dfrac{${numerateur}}{${denominateur}}$.`\n        if (this.interactif) {\n          texte +=\n            '<br>' +\n            ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n              texteAvant: `$\\\\dfrac{${numerateur}}{${denominateur}} = $`,\n            })\n        }\n        texteCorr = `$\\\\dfrac{${numerateur}}{${denominateur}} = ${miseEnEvidence(texNombre(ecritureDecimale, 3))}$`\n        handleAnswers(this, i, {\n          reponse: {\n            value: arrondi(ecritureDecimale, 3),\n            options: { nombreDecimalSeulement: true },\n          },\n        })\n      }\n\n      if (\n        this.questionJamaisPosee(\n          i,\n          numerateur,\n          denominateur,\n          listeTypeFractions[i],\n          listeDesSensDemandes[i],\n        )\n      ) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","PasserEcritureDecimaleEcritureFractionnaireInversement","Exercice","typesDesSensDemandes","listeDesSensDemandes","combinaisonListes","typesDeFractionsDisponibles","listeTypeFractions","i","texte","texteCorr","cpt","numerateur","denominateur","choice","randint","ecritureDecimale","texNombre","ajouteChampTexteMathLive","KeyboardType","multiple","miseEnEvidence","handleAnswers","FractionEtendue","arrondi","listeQuestionsToContenu"],"mappings":"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"}