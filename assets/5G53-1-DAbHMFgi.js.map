{"version":3,"file":"5G53-1-DAbHMFgi.js","sources":["../../src/exercices/5e/5G53-1.ts"],"sourcesContent":["import { notify } from '../../bugsnag'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { cone3d } from '../../lib/3d/3dProjectionMathalea2d/Cone3dPerspectiveCavaliere'\nimport { cylindre3d } from '../../lib/3d/3dProjectionMathalea2d/Cylindre3dPerspectiveCavaliere'\nimport {\n  homothetie3d,\n  Point3d,\n  point3d,\n  polygone3d,\n  translation3d,\n  vecteur3d,\n} from '../../lib/3d/3dProjectionMathalea2d/elementsEtTransformations3d'\nimport { prisme3d } from '../../lib/3d/3dProjectionMathalea2d/Prisme3dPerspectiveCavaliere'\nimport { pyramide3d } from '../../lib/3d/3dProjectionMathalea2d/Pyramide3dPerspectiveCavaliere'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Décrire un assemblage de solides'\nexport const dateDePublication = '9/3/2024'\n/**\n * @author Guillaume Valmont à partir de 6G44 de Jean-Claude Lhote\n */\nexport const uuid = '083b9'\n\nexport const refs = {\n  'fr-fr': ['5G53-1'],\n  'fr-2016': ['6G44-2'],\n  'fr-ch': ['11ES1-3'],\n}\nexport default class DecrireAssemblageDeSolides extends Exercice {\n  constructor() {\n    super()\n    this.consigne =\n      'De quels solides simples sont composés les solides suivants ?'\n    this.nbQuestions = 4\n    this.nbCols = 2\n  }\n\n  getTypeBase(nbSommets: number) {\n    switch (nbSommets) {\n      case 3:\n        return 'triangulaire'\n      case 4:\n        return 'rectangulaire'\n      case 5:\n        return 'pentagonale'\n      case 6:\n        return 'hexagonale'\n      case 7:\n        return 'heptagonale'\n      case 8:\n        return 'octogonale'\n      default:\n        notify('Un nombre de sommets imprévu a été donné dans 6G44-2', {\n          exercice: this,\n          nbSommets,\n        })\n        return ''\n    }\n  }\n\n  getTypePrisme(nbSommets: number) {\n    switch (nbSommets) {\n      case 4:\n        return 'prisme droit à base rectangulaire (aussi appelé parallélépipède rectangle ou pavé droit)'\n      default:\n        return `prisme droit à base ${this.getTypeBase(nbSommets)}`\n    }\n  }\n\n  nouvelleVersion() {\n    const troncs = ['prisme', 'cylindre', 'prisme sans', 'cylindre sans']\n    const chapeaux = ['haut', 'bas', 'les deux']\n    const combinaisons = []\n    for (const tronc of troncs) {\n      for (const chapeau of chapeaux) {\n        if (\n          !tronc.includes('sans') ||\n          (tronc.includes('sans') && chapeau === 'les deux')\n        ) {\n          combinaisons.push({ tronc, chapeau })\n        }\n      }\n    }\n    const typesDeQuestions = combinaisonListes(combinaisons, this.nbQuestions)\n    for (let j = 0, cpt = 0; j < this.nbQuestions && cpt < 50; ) {\n      const tronc = typesDeQuestions[j].tronc\n      const chapeau = typesDeQuestions[j].chapeau\n      context.anglePerspective = 20\n      const objets = []\n      const points3D: Point3d[] = []\n      const n = randint(3, 8, 7)\n      const rayon = randint(15, 30) / 10\n      const O = point3d(0, 0, 0)\n      const k = point3d(0, 0, 1)\n      const espaceInterBases = randint(10, 20) / 10\n      const espaceSommetHaut = 3\n      const espaceSommetBas = 2\n      const O1 = homothetie3d(k, O, espaceInterBases)\n      const O2 = O\n      const s1 = homothetie3d(k, O, espaceSommetHaut)\n      const s2 = homothetie3d(k, O, -1 * espaceSommetBas)\n      const alpha = (Math.PI * 2) / n\n      for (let i = 0; i < n; i++) {\n        points3D.push(\n          point3d(\n            rayon * Math.cos(alpha * i + (n > 5 ? 0.5 : 0)),\n            rayon * Math.sin(alpha * i + (n > 5 ? 0.5 : 0)),\n            0,\n          ),\n        )\n      }\n      const base2 = polygone3d(...points3D)\n      const base1 = translation3d(base2, vecteur3d(O2, O1))\n      const prisme = prisme3d(base2, vecteur3d(O1, O2))\n      const chapeau1AvecPrisme = pyramide3d(base1, s1)\n      const chapeau1SansPrisme = pyramide3d(base2, s1)\n      const chapeau2 = pyramide3d(\n        base2,\n        s2,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        false,\n      )\n      const v = vecteur3d(0, -rayon, 0)\n      const cylindre = cylindre3d(\n        O2,\n        O1,\n        v,\n        v,\n        'black',\n        false,\n        false,\n        false,\n        'black',\n        false,\n        'lightgray',\n        chapeau === 'bas',\n      )\n      const cone1AvecCylindre = cone3d(\n        O1,\n        s1,\n        v,\n        'black',\n        false,\n        undefined,\n        'white',\n        false,\n      )\n      const cone1SansCylindre = cone3d(\n        O2,\n        s1,\n        v,\n        'black',\n        false,\n        undefined,\n        'white',\n        false,\n      )\n      const cone2 = cone3d(\n        O2,\n        s2,\n        v,\n        'black',\n        false,\n        undefined,\n        'white',\n        false,\n        false,\n      )\n      this.correction = 'Ce solide est composé '\n      switch (tronc) {\n        case 'prisme':\n          this.correction += `d'un ${this.getTypePrisme(n)} `\n          switch (typesDeQuestions[j].chapeau) {\n            case 'haut':\n              this.correction += `avec au-dessus une pyramide à base ${this.getTypeBase(n)}.`\n              for (let i = 0; i < n; i++) {\n                prisme.base1.c2d[i].isVisible = false\n              }\n              objets.push(...chapeau1AvecPrisme.c2d)\n              break\n            case 'bas':\n              this.correction += `avec en dessous une pyramide à base ${this.getTypeBase(n)}.`\n              for (let i = 0; i < n; i++) {\n                prisme.base2.c2d[i].isVisible = false\n              }\n              objets.push(...chapeau2.c2d)\n              break\n            case 'les deux':\n              this.correction += `au milieu avec une pyramide au dessus et une autre en dessous, toutes les deux à base ${this.getTypeBase(n)}.`\n              for (let i = 0; i < n; i++) {\n                prisme.base1.c2d[i].isVisible = false\n                prisme.base2.c2d[i].isVisible = false\n              }\n              objets.push(...chapeau1AvecPrisme.c2d)\n              objets.push(...chapeau2.c2d)\n              break\n            default:\n              notify('Chapeau inconnu dans 6G44-2', {\n                exercice: this,\n                tronc,\n                chapeau,\n              })\n              break\n          }\n          objets.push(...prisme.c2d)\n          break\n        case 'cylindre':\n          this.correction += \"d'un cylindre \"\n          switch (chapeau) {\n            case 'haut':\n              this.correction += 'avec un cône au-dessus.'\n              objets.push(...cone1AvecCylindre.c2d)\n              break\n            case 'bas':\n              this.correction += 'avec un cône en dessous.'\n              objets.push(...cone2.c2d)\n              break\n            case 'les deux':\n              this.correction +=\n                'au milieu avec un cône au-dessus et un autre en dessous.'\n              objets.push(...cone1AvecCylindre.c2d)\n              objets.push(...cone2.c2d)\n              break\n            default:\n              notify('Chapeau inconnu dans 6G44-2', {\n                exercice: this,\n                tronc,\n                chapeau,\n              })\n              break\n          }\n          objets.push(...cylindre.c2d)\n          break\n        case 'prisme sans':\n          this.correction += `de deux pyramides à la même base ${this.getTypeBase(n)}.`\n          objets.push(...chapeau1SansPrisme.c2d)\n          objets.push(...chapeau2.c2d)\n          break\n        case 'cylindre sans':\n          this.correction += 'de deux cônes ayant la même base.'\n          objets.push(...cone2.c2d)\n          objets.push(...cone1SansCylindre.c2d)\n          break\n        default:\n          notify('Tronc inconnu dans 6G44-2', { exercice: this, tronc })\n          break\n      }\n      this.question = mathalea2d(\n        Object.assign({}, fixeBordures(objets), { scale: 0.4 }),\n        objets,\n      )\n      if (this.questionJamaisPosee(j, tronc, chapeau, rayon)) {\n        this.listeQuestions[j] = this.question\n        this.listeCorrections[j] = this.correction\n        j++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","refs","DecrireAssemblageDeSolides","Exercice","nbSommets","notify","troncs","chapeaux","combinaisons","tronc","chapeau","typesDeQuestions","combinaisonListes","j","cpt","context","objets","points3D","n","randint","rayon","O","point3d","k","espaceInterBases","espaceSommetHaut","espaceSommetBas","O1","homothetie3d","O2","s1","s2","alpha","i","base2","polygone3d","base1","translation3d","vecteur3d","prisme","prisme3d","chapeau1AvecPrisme","pyramide3d","chapeau1SansPrisme","chapeau2","v","cylindre","cylindre3d","cone1AvecCylindre","cone3d","cone1SansCylindre","cone2","mathalea2d","fixeBordures","listeQuestionsToContenuSansNumero"],"mappings":"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"}