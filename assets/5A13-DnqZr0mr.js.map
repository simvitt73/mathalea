{"version":3,"file":"5A13-DnqZr0mr.js","sources":["../../src/exercices/5e/5A13.ts"],"sourcesContent":["import { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { compareNombres } from '../../lib/outils/nombres'\nimport { texFactorisation } from '../../lib/outils/primalite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu } from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { sp } from '../../lib/outils/outilString'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\nexport const titre = 'Décomposer en facteurs premiers'\nexport const dateDeModifImportante = '18//11/2024'\n\n/**\n * Décomposer en produit de facteurs premiers un nombre (la décomposition aura 3, 4 ou 5 facteurs premiers)\n * @author Rémi Angot\n */\nexport const uuid = '7f50c'\n\nexport const refs = {\n  'fr-fr': ['5A13'],\n  'fr-ch': ['9NO4-10'],\n}\nexport default class ExerciceDecomposerEnFacteursPremiers extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      3,\n      '1 : 3 facteurs\\n2 : 4 facteurs\\n3 : 5 facteurs',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Grands nombres (une fois sur quatre)']\n\n    this.spacing = 2\n    this.nbQuestions = 6\n    this.sup = 2 // 4 facteurs par défaut\n    this.sup2 = false // pas de multiplication par 100\n    this.sup3 = false // Que pour les 2ndes\n    this.sup4 = false // Decomposition avec des puissances\n    this.correctionDetailleeDisponible = true // booléen qui indique si une correction détaillée est disponible.\n    this.correctionDetaillee = true // booléen indiquant si la correction détaillée doit être affiché par défaut (récupéré dans l'url avec le paramètre `,cd=`).\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions > 1\n        ? \"Écrire les nombres suivants sous la forme d'un produit de facteurs premiers.\"\n        : \"Écrire le nombre suivant sous la forme d'un produit de facteurs premiers.\"\n    let grandNombres\n    let listeFacteurs1, listeFacteurs2\n    if (this.sup3) {\n      listeFacteurs1 = [2, 3, 5, 7, 11]\n      listeFacteurs2 = [2, 3, 7, 13, 17]\n    } else {\n      listeFacteurs1 = [2, 3, 5]\n      listeFacteurs2 = [2, 5, 7, 11]\n    }\n    if (this.sup2 && this.sup3) {\n      grandNombres = combinaisonListes(\n        [true, true, false, true],\n        this.nbQuestions,\n      )\n    } else if (this.sup2) {\n      switch (this.nbQuestions) {\n        case 1:\n          grandNombres = [true]\n          break\n        case 2:\n          grandNombres = combinaisonListes([true, false], this.nbQuestions)\n          break\n        case 3:\n          grandNombres = combinaisonListes(\n            [true, false, false],\n            this.nbQuestions,\n          )\n          break\n        default:\n          grandNombres = combinaisonListes(\n            [true, false, false, false],\n            this.nbQuestions,\n          )\n      }\n    } else {\n      grandNombres = combinaisonListes(\n        [false, false, false, false],\n        this.nbQuestions,\n      )\n    }\n    for (\n      let i = 0,\n        n,\n        facteurs = [],\n        nbFacteurs,\n        texte,\n        reponse,\n        texteCorr,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // On limite le nombre d'essais pour chercher des valeurs nouvelles\n      facteurs = []\n      nbFacteurs = this.sup + 2\n      for (let k = 0; k < nbFacteurs; k++) {\n        if (k < nbFacteurs - 1) {\n          if (nbFacteurs > 3 && k === 0) {\n            this.sup3 ? facteurs.push(choice([2, 3])) : facteurs.push(2)\n          } else if (nbFacteurs > 4 && k === 1) {\n            this.sup3 ? facteurs.push(choice([2, 3])) : facteurs.push(2)\n          } else {\n            this.sup3\n              ? facteurs.push(choice(listeFacteurs1.concat(7)))\n              : facteurs.push(choice(listeFacteurs1))\n          }\n        } else {\n          this.sup3\n            ? facteurs.push(choice(listeFacteurs2.concat([3, 13])))\n            : facteurs.push(choice(listeFacteurs2))\n        }\n      }\n      if (this.sup2 && grandNombres[i]) {\n        // Une fois sur 4 on multilie le nombre par 100 (par 60 pour le niveau 2nde)\n        this.sup3 ? facteurs.push(2, 2, 3, 5) : facteurs.push(2, 2, 5, 5)\n      }\n      n = 1\n      for (let k = 0; k < facteurs.length; k++) {\n        n = n * facteurs[k]\n      }\n      texte = '$ ' + texNombre(n) + '$'\n      texteCorr = ''\n      if (!this.correctionDetaillee)\n        texteCorr += '$ ' + texNombre(n) + ' = $' + sp()\n\n      reponse = ''\n      facteurs.sort(compareNombres) // classe les facteurs dans l'ordre croissant\n      const ensembleDeFacteursSet = new Set(facteurs)\n      const ensembleDeFacteurs = [...ensembleDeFacteursSet] // tableau des facteurs sans répétition\n      let produitAvecPuissances = ''\n      for (let k = 0; k < ensembleDeFacteurs.length; k++) {\n        const facteur = ensembleDeFacteurs[k]\n        let puissance = 0\n        for (let j = 0; j < facteurs.length; j++) {\n          if (facteurs[j] === facteur) puissance++\n        }\n        if (puissance > 1) {\n          produitAvecPuissances += `${facteur}^${puissance}`\n        } else {\n          produitAvecPuissances += `${facteur}`\n        }\n        if (k !== ensembleDeFacteurs.length - 1)\n          produitAvecPuissances += ' \\\\times '\n      }\n      let produitRestant = 1\n      let debutDecomposition = ''\n      let decompositionFinale = ''\n      for (let k = 0; k < facteurs.length - 1; k++) {\n        if (!this.sup3 && !this.sup4) {\n          if (!this.correctionDetaillee) {\n            texteCorr += `$${miseEnEvidence(facteurs[k] + ' \\\\times ')}$`\n          }\n        }\n        if (this.correctionDetaillee) {\n          debutDecomposition += facteurs[k] + ' \\\\times  '\n          for (let j = k + 1; j < facteurs.length; j++) {\n            produitRestant = produitRestant * facteurs[j]\n          }\n          texteCorr +=\n            '$' +\n            texNombre(n) +\n            ' = ' +\n            debutDecomposition +\n            produitRestant +\n            '$<br>'\n          decompositionFinale = sp() + debutDecomposition + produitRestant\n          produitRestant = 1\n        }\n        reponse += facteurs[k] + '\\\\times'\n      }\n\n      if (!this.sup3 && !this.sup4) {\n        if (!this.correctionDetaillee) {\n          texteCorr += `$${miseEnEvidence(facteurs[facteurs.length - 1])}$`\n        }\n      } else {\n        if (this.correctionDetaillee)\n          texteCorr += '$ ' + texNombre(n) + ' =' + sp() + ' $'\n        decompositionFinale = sp() + texFactorisation(n, true)\n        texteCorr += `$${miseEnEvidence(decompositionFinale)}$`\n        if (this.correctionDetaillee) texteCorr += '<br>'\n      }\n      if (this.correctionDetaillee) {\n        texteCorr += `<br>Donc la décomposition en produit de facteurs premiers de $${miseEnEvidence(texNombre(n), 'black')}$ est $${miseEnEvidence(decompositionFinale)}$.`\n      }\n      reponse += facteurs[facteurs.length - 1]\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte + '\\n',\n          propositions: [\n            {\n              texte: texteCorr,\n              statut: 5,\n              sanscadre: false,\n              pointilles: true,\n              feedback: '',\n            },\n          ],\n        }\n      }\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecFractionPuissanceCrochets,\n        { texteAvant: ' $=$' },\n      )\n      /* if (!context.isAmc) {\n        setReponse(this, i, [reponse, produitAvecPuissances])\n      } */\n      handleAnswers(this, i, {\n        reponse: {\n          value: [reponse, produitAvecPuissances],\n          options: { exclusifFactorisation: true },\n        },\n      })\n\n      if (this.questionJamaisPosee(i, ...facteurs)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (!context.isHtml) {\n          this.canEnonce = `Décomposer $${texNombre(n)}$ en produit de facteurs premiers. `\n          this.correction = this.listeCorrections[0]\n          this.canReponseACompleter = `$${texNombre(n)}=\\\\ldots$`\n          this.listeCanEnonces.push(this.canEnonce)\n          this.listeCanReponsesACompleter.push(this.canReponseACompleter)\n        }\n        i++\n      }\n\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","dateDeModifImportante","uuid","refs","ExerciceDecomposerEnFacteursPremiers","Exercice","grandNombres","listeFacteurs1","listeFacteurs2","combinaisonListes","i","n","facteurs","nbFacteurs","texte","reponse","texteCorr","cpt","k","choice","texNombre","sp","compareNombres","ensembleDeFacteurs","produitAvecPuissances","facteur","puissance","j","produitRestant","debutDecomposition","decompositionFinale","miseEnEvidence","texFactorisation","context","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}