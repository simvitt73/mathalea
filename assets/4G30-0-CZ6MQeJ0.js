var V=Object.defineProperty;var O=(o,h,t)=>h in o?V(o,h,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[h]=t;var l=(o,h,t)=>O(o,typeof h!="symbol"?h+"":h,t);import{d as N}from"./DemiDroite-bemSqdml.js";import{d as q}from"./droites-Bwfi-_hx.js";import{f as I}from"./fixeBordures-BSnKuTIe.js";import{co as R,E as j,p as z,r as B,P as U,be as X,aX as G}from"./index-BvuGzI-o.js";import{a as S}from"./PointAbstrait-Cz1GEocE.js";import{c as Q}from"./segmentsVecteurs-BYbXXoZp.js";import{c as K}from"./textes-Dv2jXPNF.js";import{t as Y}from"./TracePointSurDroite-D7OF_duV.js";import{s as J,h as W}from"./transformations-XOBa9Ou2.js";import{m as Z}from"./mathalea2d-c0OJ3JST.js";import"./utilitairesGeometriques-rO8Jz15i.js";import"./ObjetMathalea2D-CXcNXRpD.js";import"./Vide2d-lYMmc9eB.js";/* empty css                         */import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/three-q_6hD11P.js";import"./vendors/decimal.js-BceHFVC1.js";import"./vendors/katex-BISJkeK-.js";import"./vendors/seedrandom-Cz-2rAdY.js";import"./vendors/apigeom-CvUqzk7F.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./json/uuidsToUrlFR-Cc7zu7XX.js";import"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-K3nUGUh4.js";import"./json/refToUuidCH-DBCD2E_6.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-OtHQ7xZ3.js";import"./json/referentiel2022FR-DRcEqmJS.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./vendors/roughjs-CycZv-lV.js";import"./polygones-89tGuAkc.js";import"./vendors/earcut-jJVragJp.js";import"./pattern-CVTyZw4v.js";function _(){try{const o=document.createElement("div");o.style.width="1cm",o.style.height="1px",o.style.position="absolute",o.style.left="-9999px",o.style.visibility="hidden",document.body.appendChild(o);const h=o.offsetWidth;if(document.body.removeChild(o),h>10&&h<200)return h}catch(o){window.notify("Erreur lors de la d√©tection des pixels par cm:",o)}return 37.8}function tt(o,h=100){if(o===0)return{numerator:0,denominator:1};if(o===Math.floor(o))return{numerator:Math.floor(o),denominator:1};let t=1,e=1,i=Math.abs(o-1);for(let s=2;s<=h;s++){const r=Math.round(o*s),n=Math.abs(o-r/s);if(n<i&&(t=r,e=s,i=n,n<.001))break}return{numerator:t,denominator:e}}function H(o,h=!0){const t=tt(o),{numerator:e,denominator:i}=t;if(i===1)return`${e}`;const s=`${e}/${i}`;return h&&Math.abs(o-e/i)>.001?`${s} (‚âà${o.toFixed(3)})`:s}class et extends HTMLElement{constructor(){super();l(this,"n");l(this,"p");l(this,"alpha");l(this,"A");l(this,"B");l(this,"C");l(this,"isDragging");l(this,"dragTarget");l(this,"listenersAdded",!1);l(this,"pixelsParCm");l(this,"svg");l(this,"lengthDisplay");l(this,"target",null);l(this,"targetReached",!1);l(this,"onTargetReached",null);l(this,"targetColor",null);l(this,"printAD",!1);l(this,"printRatio",!1);l(this,"fractionToDecimalAD",!1);l(this,"targetFraction","");l(this,"lengthAB",0);l(this,"displayTargetOn",!1);l(this,"AC1Length",1);l(this,"rayLength",10);l(this,"mouseDownHandler");l(this,"mouseMoveHandler");l(this,"mouseUpHandler");l(this,"touchStartHandler");l(this,"touchMoveHandler");l(this,"touchEndHandler");this.n=1,this.alpha=45,this.p=0,this.A={x:100,y:300},this.pixelsParCm=_(),this.B={x:this.A.x+1*this.pixelsParCm,y:this.A.y},this.C=this.calculateInitialC(),this.isDragging=!1,this.dragTarget=null,this.style.display="block",this.style.width="800px",this.style.height="400px",this.style.border="1px solid #ccc",this.style.background="#f9f9f9",this.style.position="relative"}getN(){return this.n}getP(){return this.p}getAlpha(){return this.alpha}getValue(){return this.value}getLengthABValue(){return this.getLengthAB()}getTargetValue(){return this.target}getTargetFraction(){return this.targetFraction}isTargetReachedValue(){return this.targetReached}getPoints(){const t=this.calculateDpPosition();return{A:this.A,B:this.B,C:this.C,D:t}}getState(){return{n:this.n,p:this.p,alpha:this.alpha,lengthAD:this.value,lengthAB:this.getLengthAB(),ratio:`${this.p}/${this.n}`,target:this.target,targetReached:this.targetReached,targetFraction:this.targetFraction}}setOnChangeCallback(t){const e=this.redraw.bind(this);this.redraw=()=>{e(),t(this.getState())}}calculateInitialC(){const t=this.alpha*Math.PI/180,e=this.n*this.AC1Length*this.pixelsParCm;return{x:this.A.x+e*Math.cos(t),y:this.A.y-e*Math.sin(t)}}calculateNFromC(){const e=Math.sqrt(Math.pow(this.C.x-this.A.x,2)+Math.pow(this.C.y-this.A.y,2))/this.pixelsParCm;return Math.max(1,Math.min(10,Math.round(e/this.AC1Length)))}constrainCOnRay(t,e){const i=this.alpha*Math.PI/180,s={x:Math.cos(i),y:-Math.sin(i)},r={x:t-this.A.x,y:e-this.A.y},a=(r.x*s.x+r.y*s.y)/this.pixelsParCm,c=Math.max(1,Math.min(10,Math.round(a/this.AC1Length)))*this.AC1Length*this.pixelsParCm;return{x:this.A.x+c*s.x,y:this.A.y+c*s.y}}calculateDpPosition(){const t=this.A,e=this.B,i=this.p/this.n;return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}constrainDpOnSegment(t,e){const i=this.A,s=this.B,r={x:s.x-i.x,y:s.y-i.y},n={x:t-i.x,y:e-i.y},a=Math.sqrt(r.x*r.x+r.y*r.y),p=(n.x*r.x+n.y*r.y)/(a*a),c=(this.n-1)/this.n,u=Math.max(0,Math.min(c,p)),g=Math.round(u*this.n),y=g/this.n;return{x:i.x+y*r.x,y:i.y+y*r.y,p:g}}redraw(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);this.n=this.calculateNFromC(),this.p>=this.n&&(this.p=Math.max(0,this.n-1));const t=this.A,e=this.B,i=this.C,s=this.alpha*Math.PI/180,r=this.rayLength*this.pixelsParCm,n={x:t.x+r*Math.cos(s),y:t.y-r*Math.sin(s)},a=this.createLine(t.x,t.y,e.x,e.y,"#000",3);this.svg.appendChild(a);const p=this.createLine(t.x,t.y,n.x,n.y,"#666",1);p.setAttribute("stroke-dasharray","5,5"),this.svg.appendChild(p);const c=[];for(let d=0;d<=this.n;d++){const m=d*this.AC1Length*this.pixelsParCm;c.push({x:t.x+m*Math.cos(s),y:t.y-m*Math.sin(s)})}const u=this.createLine(c[this.n].x,c[this.n].y,e.x,e.y,"#2196F3",2);this.svg.appendChild(u);const g=[];for(let d=0;d<=this.n;d++){const f=d/this.n,m={x:t.x+f*(e.x-t.x),y:t.y+f*(e.y-t.y)};if(g.push(m),d>0&&d<this.n){const b=this.createLine(c[d].x,c[d].y,m.x,m.y,"#999",d===this.p?2:1);d!==this.p&&b.setAttribute("stroke-dasharray","5,3"),this.svg.appendChild(b)}}const y=Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI,C=20;if(c.forEach((d,f)=>{if(f>0){const m=Math.sqrt((d.x-t.x)**2+(d.y-t.y)**2),D=C/m*180/Math.PI;this.createArc(t.x,t.y,m,y-D,y+D,f===this.n?"#4CAF50":"#999",f===this.n?2:1,`Arc de compas C${f}`)}}),this.p>0&&this.p<=this.n){const d=this.targetColor||"#F44336",f=this.createLine(t.x,t.y,g[this.p].x,g[this.p].y,d,4);this.svg.appendChild(f);const m=g[this.p],b=8,D={x:e.x-t.x,y:e.y-t.y},L=Math.sqrt(D.x**2+D.y**2),T={x:-D.y/L,y:D.x/L},P={x:m.x+T.x*b,y:m.y+T.y*b},E={x:m.x-T.x*b,y:m.y-T.y*b},k=this.createLine(P.x,P.y,E.x,E.y,"#F44336",2);this.svg.appendChild(k)}else if(this.p===0){const d=this.createCircle(t.x,t.y,6,"none","Point D0 (A)");d.setAttribute("stroke","#F44336"),d.setAttribute("stroke-width","2"),d.setAttribute("fill","none"),this.svg.appendChild(d)}const A=8,v={x:e.x-t.x,y:e.y-t.y},w=Math.sqrt(v.x**2+v.y**2),x={x:-v.y/w,y:v.x/w},$={x:t.x+x.x*A,y:t.y+x.y*A},M={x:t.x-x.x*A,y:t.y-x.y*A},F=this.createLine($.x,$.y,M.x,M.y,"#F44336",2);if(this.svg.appendChild(F),this.createText(t.x-10,t.y+20,"A","#000","16px","middle"),this.createText(e.x+10,e.y+20,"B","#000","16px","middle"),this.createText(i.x,i.y-10,"C","#000","16px","middle"),this.n===1&&this.createText(i.x+30,i.y-30,"D√©placer le point C Pour diviser [AB], puis...","#000","16px","start"),this.getLengthAB()===1&&this.createText(e.x+20,e.y-20,"D√©placer le point B pour ajuster la longueur AB"," #000","16px","start"),this.p>0){const d=g[this.p];this.createText(d.x,d.y+25,"D","#F44336","16px","middle")}if(this.printRatio&&this.p>0){const d=`${this.p}/${this.n}`;this.createText((t.x+e.x)/2,t.y+35,`AD/AB = ${d}`,"#F44336","14px","middle")}this.p===0&&this.n>1&&this.createText(t.x+20,t.y+35,"D√©placer le cercle rouge pour cr√©er le point D","#000","16px","start"),this.createDraggablePoints(t,e,i,g[this.p]),this.checkTargetReached(),this.updateLengthDisplay()}createLine(t,e,i,s,r,n){const a=document.createElementNS("http://www.w3.org/2000/svg","line");return a.setAttribute("x1",t.toString()),a.setAttribute("y1",e.toString()),a.setAttribute("x2",i.toString()),a.setAttribute("y2",s.toString()),a.setAttribute("stroke",r),a.setAttribute("stroke-width",n.toString()),a}createCircle(t,e,i,s,r){const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t.toString()),n.setAttribute("cy",e.toString()),n.setAttribute("r",i.toString()),n.setAttribute("fill",s),n.setAttribute("stroke","#000"),n.setAttribute("stroke-width","1");const a=document.createElementNS("http://www.w3.org/2000/svg","title");return a.textContent=r,n.appendChild(a),n}createDraggablePoints(t,e,i,s){const r=this.createCircle(t.x,t.y,2,"#007bff","Point A");this.svg.appendChild(r);const n=this.createCircle(e.x,e.y,3,"#28a745","Point B");n.setAttribute("data-draggable","B"),n.style.cursor="ew-resize",this.svg.appendChild(n);const a=this.createCircle(i.x,i.y,4,"#ff6b35","Point C");a.setAttribute("data-draggable","C"),a.style.cursor="ew-resize",this.svg.appendChild(a);const p=this.createCircle(s.x,s.y,this.p===0?15:10,"transparent",`Point D${this.p}`);p.setAttribute("data-draggable","Dp"),p.style.cursor="ew-resize",p.setAttribute("stroke","none"),p.setAttribute("fill-opacity","0"),this.svg.appendChild(p)}createText(t,e,i,s,r,n="middle"){const a=document.createElementNS("http://www.w3.org/2000/svg","text");return a.setAttribute("x",t.toString()),a.setAttribute("y",e.toString()),a.setAttribute("fill",s),a.setAttribute("font-size",r),a.setAttribute("font-family","Arial, sans-serif"),a.setAttribute("text-anchor",n),a.setAttribute("dominant-baseline","middle"),a.textContent=i,this.svg.appendChild(a),a}createArc(t,e,i,s,r,n,a,p){const c=document.createElementNS("http://www.w3.org/2000/svg","path"),u=s*Math.PI/180,g=r*Math.PI/180,y=t+i*Math.cos(u),C=e+i*Math.sin(u),A=t+i*Math.cos(g),v=e+i*Math.sin(g),w=Math.abs(r-s)>180?1:0,x=`M ${y} ${C} A ${i} ${i} 0 ${w} 1 ${A} ${v}`;return c.setAttribute("d",x),c.setAttribute("stroke",n),c.setAttribute("stroke-width",a.toString()),c.setAttribute("fill","none"),p&&c.setAttribute("title",p),this.svg.appendChild(c),c}get value(){if(this.p===0)return 0;const t=this.A,e=this.B,i=e.x-t.x,s=e.y-t.y,r=Math.sqrt(i*i+s*s),n=this.p/this.n*(r/this.pixelsParCm);return parseFloat(n.toFixed(3))}getLengthAB(){const t=this.A,e=this.B,s=Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)/this.pixelsParCm;return parseFloat(s.toFixed(2))}createSVG(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("width","800"),this.svg.setAttribute("height","400"),this.svg.setAttribute("viewBox","0 0 800 400"),this.svg.style.width="100%",this.svg.style.height="100%",this.appendChild(this.svg)}connectedCallback(){this.parseDataAttributes(),this.createSVG(),this.createLengthDisplay(),this.setupDragListeners(),this.redraw()}disconnectedCallback(){this.removeEventListeners()}parseDataAttributes(){try{const t=this.getAttribute("data");if(t){const e=JSON.parse(t);if(typeof e.alpha=="number"&&e.alpha>=10&&e.alpha<=80&&(this.alpha=e.alpha),e.A&&typeof e.A.x=="number"&&typeof e.A.y=="number"&&(this.A={x:e.A.x,y:e.A.y}),this.B={x:this.A.x+1*this.pixelsParCm,y:this.A.y},typeof e.n=="number"&&e.n>=1&&e.n<=10&&(this.n=e.n),this.C=this.calculateInitialC(),typeof e.p=="number"&&e.p>=0&&e.p<this.n?this.p=e.p:typeof e.p=="number"&&(this.p=Math.max(0,Math.min(this.n-1,e.p))),typeof e.lengthAB=="number"&&e.lengthAB>0&&(this.lengthAB=e.lengthAB),typeof e.targetFraction=="string"&&(this.targetFraction=e.targetFraction),typeof e.printAD=="boolean"&&(this.printAD=e.printAD),typeof e.printRatio=="boolean"&&(this.printRatio=e.printRatio),typeof e.fractionToDecimalAD=="boolean"&&(this.fractionToDecimalAD=e.fractionToDecimalAD),typeof e.displayTargetOn=="boolean"&&(this.displayTargetOn=e.displayTargetOn),typeof e.target=="number"&&e.target>0&&(this.target=e.target),e.id&&(this.id=e.id),typeof e.onTargetReached=="string"){const i=e.onTargetReached;window[i]&&typeof window[i]=="function"&&(this.onTargetReached=window[i])}}}catch(t){window.notify("Erreur lors du parsing des attributs data:",t)}}setupDragListeners(){this.listenersAdded||(this.mouseDownHandler=t=>this.onMouseDown(t),this.mouseMoveHandler=t=>this.onMouseMove(t),this.mouseUpHandler=()=>this.onMouseUp(),this.touchStartHandler=t=>this.onTouchStart(t),this.touchMoveHandler=t=>this.onTouchMove(t),this.touchEndHandler=()=>this.onTouchEnd(),this.svg.addEventListener("mousedown",this.mouseDownHandler),this.svg.addEventListener("mousemove",this.mouseMoveHandler),window.addEventListener("mouseup",this.mouseUpHandler),this.svg.addEventListener("touchstart",this.touchStartHandler,{passive:!1}),this.svg.addEventListener("touchmove",this.touchMoveHandler,{passive:!1}),window.addEventListener("touchend",this.touchEndHandler),this.listenersAdded=!0)}removeEventListeners(){if(!(!this.listenersAdded||!this.svg))try{this.mouseDownHandler&&this.svg.removeEventListener("mousedown",this.mouseDownHandler),this.mouseMoveHandler&&this.svg.removeEventListener("mousemove",this.mouseMoveHandler),this.mouseUpHandler&&window.removeEventListener("mouseup",this.mouseUpHandler),this.touchStartHandler&&this.svg.removeEventListener("touchstart",this.touchStartHandler),this.touchMoveHandler&&this.svg.removeEventListener("touchmove",this.touchMoveHandler),this.touchEndHandler&&window.removeEventListener("touchend",this.touchEndHandler),this.mouseDownHandler=void 0,this.mouseMoveHandler=void 0,this.mouseUpHandler=void 0,this.touchStartHandler=void 0,this.touchMoveHandler=void 0,this.touchEndHandler=void 0,this.listenersAdded=!1}catch(t){console.warn("Erreur lors de la suppression des listeners:",t)}}onMouseDown(t){const e=t.target,i=e.getAttribute("data-draggable");i&&(this.isDragging=!0,this.dragTarget=i,t.preventDefault(),e.style.cursor="ew-resize")}onMouseMove(t){if(!this.isDragging||!this.dragTarget)return;const e=this.screenToSVG(t.clientX,t.clientY);if(this.dragTarget==="B"){let i=e.x,s=this.A.y;const r=i-this.A.x,n=Math.round(r/this.pixelsParCm);i=this.A.x+n*this.pixelsParCm,this.updatePointPosition(i,s)}else if(this.dragTarget==="C"){const i=this.constrainCOnRay(e.x,e.y);this.updatePointPosition(i.x,i.y)}else if(this.dragTarget==="Dp"){const i=this.constrainDpOnSegment(e.x,e.y);this.p=i.p,this.updatePointPosition(i.x,i.y)}}onMouseUp(){this.isDragging&&this.dragTarget&&this.svg.querySelectorAll("[data-draggable]").forEach(e=>{e.style.cursor="ew-resize"}),this.isDragging=!1,this.dragTarget=null}onTouchStart(t){t.preventDefault(),t.touches[0];const i=t.target.getAttribute("data-draggable");i&&(this.isDragging=!0,this.dragTarget=i)}onTouchMove(t){if(t.preventDefault(),!this.isDragging||!this.dragTarget)return;const e=t.touches[0],i=this.screenToSVG(e.clientX,e.clientY);if(this.dragTarget==="B"){let s=i.x,r=this.A.y;const n=s-this.A.x,a=Math.round(n/this.pixelsParCm);s=this.A.x+a*this.pixelsParCm,this.updatePointPosition(s,r)}else if(this.dragTarget==="C"){const s=this.constrainCOnRay(i.x,i.y);this.updatePointPosition(s.x,s.y)}else if(this.dragTarget==="Dp"){const s=this.constrainDpOnSegment(i.x,i.y);this.p=s.p,this.updatePointPosition(s.x,s.y)}}onTouchEnd(){this.isDragging=!1,this.dragTarget=null}screenToSVG(t,e){const i=this.svg.getBoundingClientRect(),s=this.svg.viewBox.baseVal.width/i.width,r=this.svg.viewBox.baseVal.height/i.height;return{x:(t-i.left)*s,y:(e-i.top)*r}}updatePointPosition(t,e){if(this.dragTarget==="B")this.B.x=Math.max(0,Math.min(800,t)),this.B.y=Math.max(0,Math.min(400,e));else if(this.dragTarget==="C"){const i=this.constrainCOnRay(t,e);this.C.x=i.x,this.C.y=i.y}this.redraw()}checkTargetReached(){if(this.target===null)return;const t=this.value,e=.02,i=this.targetReached;this.targetReached=Math.abs(t-this.target)<=e,this.targetReached&&!i&&(this.onTargetReached&&this.onTargetReached(),this.dispatchEvent(new CustomEvent("targetReached",{detail:{currentValue:t,target:this.target,difference:Math.abs(t-this.target)}})))}setTarget(t){this.target=t,this.targetReached=!1,this.redraw()}isTargetReached(){return this.targetReached}createLengthDisplay(){this.lengthDisplay=document.createElement("div"),this.lengthDisplay.style.position="absolute",this.lengthDisplay.style.top="10px",this.lengthDisplay.style.left="10px",this.lengthDisplay.style.background="rgba(255, 255, 255, 0.9)",this.lengthDisplay.style.padding="8px",this.lengthDisplay.style.borderRadius="4px",this.lengthDisplay.style.fontSize="14px",this.lengthDisplay.style.fontFamily="monospace",this.lengthDisplay.style.border="1px solid #ccc",this.appendChild(this.lengthDisplay)}formatADValue(t){if(this.p===0)return"AD = 0 cm (A et D confondus)";if(this.fractionToDecimalAD){const e=Math.round(this.getLengthAB()),i=this.p*e/this.n,s=Math.round(i*100)/100;return Math.abs(i-s)<.001?`AD = $${Number.isInteger(s)?s.toString():s.toString().replace(".","{,}")}$ cm`:`AD = $\\dfrac{${this.p*e}}{${this.n}}$ cm`}else return`AD = ${H(t)} cm`}updateLengthDisplay(){const t=this.value,e=this.getLengthAB();let i="";if(this.displayTargetOn&&this.target!==null){const r=Math.abs(t-this.target),n=this.targetReached?"‚úÖ":"‚ùå",a=document.createElement("div"),p=this.lengthAB||e;a.innerHTML=`AD: $${this.targetFraction}\\times ${p}\\text{ cm}$`;try{R(a);const c=a.innerHTML;i=`
          <div style="font-size: 12px; color: ${this.targetReached?"green":"red"};">
            ${c} ${n}
            ${this.targetReached?"":`(√©cart: ${r.toFixed(3)} cm)`}
          </div>
        `}catch(c){window.notify("Erreur lors du rendu KaTeX:",c),i=`
          <div style="font-size: 12px; color: ${this.targetReached?"green":"red"};">
            AD: ${this.targetFraction} √ó ${p} cm ${n}
            ${this.targetReached?"":`(√©cart: ${r.toFixed(3)} cm)`}
          </div>
        `}}let s="";this.printAD&&(s=this.formatADValue(t)),this.lengthDisplay.innerHTML=`
      ${this.printAD?`<div>${s}</div>`:""}
      <div style="font-size: 12px; color: #666;">AB = ${H(e)} cm</div>
      ${i}
    `;try{R(this.lengthDisplay)}catch(r){window.notify("Erreur lors du rendu KaTeX final:",r)}}}customElements.define("guide-ane",et);function it(o={}){const h={n:1,p:0,alpha:o.alpha??45,targetAB:o.targetAB,A:o.A,width:o.width??"800px",height:o.height??"400px",id:o.id,className:o.className,targetValue:o.targetValue??null,printAD:o.printAD??!1,printRatio:o.printRatio??!1,fractionToDecimalAD:o.fractionToDecimalAD??!1,targetFraction:o.targetFraction??"0/1",displayTargetOn:o.displayTargetOn??!1},t={n:h.n,p:h.p,alpha:h.alpha,printAD:h.printAD,printRatio:h.printRatio,fractionToDecimalAD:h.fractionToDecimalAD};h.targetAB!==void 0&&(t.lengthAB=h.targetAB),h.A&&(t.A=h.A);const e=[];h.id&&e.push(`id="${h.id}"`),h.className&&e.push(`class="${h.className}"`),h.targetValue!==null&&(t.target=h.targetValue),h.targetFraction&&(t.targetFraction=h.targetFraction),h.displayTargetOn&&(t.displayTargetOn=h.displayTargetOn);const i=[`width: ${h.width}`,`height: ${h.height}`];e.push(`style="${i.join("; ")}"`);const s=JSON.stringify(t).replace(/"/g,"&quot;");return e.push(`data="${s}"`),`<guide-ane${e.length>0?` ${e.join(" ")}`:""}></guide-ane>`}const Te="Utiliser le guide-√¢ne pour construire un segment de longueur donn√©e",Be="327f2",Le=!0,Pe="custom",Ee={"fr-fr":["4G30-0"],"fr-ch":[]},Re="30/12/2025";class Se extends j{constructor(){super();l(this,"correctionInteractive",t=>{const e=document.querySelector(`#resultatCheckEx${this.numeroExercice}Q${t}`),i=document.querySelector(`#feedbackEx${this.numeroExercice}Q${t}`);let s=!1;const r=document.getElementById(`guideAneEx${this.numeroExercice}Q${t}`);if(r==null)return window.notify(`Pas trouv√© le guide-√¢ne dans cet exercice pour i=${t}`,{}),"KO";s=r.isTargetReached();let n="";if(!s){const a=r.getLengthABValue(),p=r.getN(),c=r.getP();n=`Votre segment $[AB]$ mesure $${a}$ cm.<br>
      Le segment $[AD]$ doit mesurer $\\dfrac{${c}}{${p}}\\times ${a}${G(c*a/p,2)}$ cm pour que le rapport $\\dfrac{AD}{AB}$ soit √©gal √† $\\dfrac{${c}}{${p}}$.`}return e&&(s?e.innerHTML="üòé":e.innerHTML="‚òπÔ∏è"),i&&n!==""&&(i.innerHTML=n),s?"OK":"KO"});this.nbQuestions=1,this.besoinFormulaireCaseACocher=["Affichage de la longueur AD"],this.besoinFormulaire2CaseACocher=["Affichage du rapport AD/AB"]}nouvelleVersion(){for(let t=0,e=0;t<this.nbQuestions&&e<50;){const i=z([30,45,60]),s=B(5,16,10),r=B(3,8),n=B(1,r-1),a=`\\dfrac{${n}}{${r}}`,p=s*n/r;let c=`Repr√©senter en rouge un segment de longueur $${a}\\times AB$`;if(U.isHtml){const u={id:`guideAneEx${this.numeroExercice}Q${t}`,alpha:i,targetAB:s,targetFraction:a,targetValue:p,printAD:this.sup,printRatio:this.sup2,fractionToDecimalAD:!0,displayTargetOn:!1};c+=`.<br>Utilisez les points draggables pour ajuster la construction du guide-√¢ne.<br>
       ${it(u)}<span id="resultatCheckEx${this.numeroExercice}Q0"></span><br>
       ${X(this,t)}`}else{c+=" sans utiliser les graduations de la r√®gle.<br>";const u=[],g=S(0,0,"A","below left"),y=S(s,0,"B","below right"),C=J(y,g,30,1),A=q(g,C);for(let x=1;x<11;x++){const $=W(C,g,x/10,`C_${x}`,"above"),M=Y($,A,"gray");u.push(M)}u.push(K(g,y));const v=Q(g,y,"black"),w=N(g,C,"gray");u.push(v,w),c+=Z(Object.assign({},I(u)),u)}this.questionJamaisPosee(t,s,r,n)&&(this.listeQuestions.push(c),t++),e++}}}export{Re as dateDePublication,Se as default,Le as interactifReady,Pe as interactifType,Ee as refs,Te as titre,Be as uuid};
//# sourceMappingURL=4G30-0-CZ6MQeJ0.js.map
