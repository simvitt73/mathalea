{"version":3,"file":"5G40-BMHJ5rpb.js","sources":["../../src/exercices/5e/5G40.ts"],"sourcesContent":["import { cercle, cercleCentrePoint } from '../../lib/2d/cercle'\nimport { cibleCarree, dansLaCibleCarree } from '../../lib/2d/cibles'\nimport { codageSegments } from '../../lib/2d/CodageSegment'\nimport { droite } from '../../lib/2d/droites'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { polygone, polygoneAvecNom } from '../../lib/2d/polygones'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint, texteParPoint } from '../../lib/2d/textes'\nimport { traceCompas } from '../../lib/2d/traceCompas'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { rotation, similitude } from '../../lib/2d/transformations'\nimport {\n  pointAdistance,\n  pointIntersectionCC,\n} from '../../lib/2d/utilitairesPoint'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre, numAlpha } from '../../lib/outils/outilString'\nimport Alea2iep from '../../modules/Alea2iep'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Construire des parallélogrammes'\nexport const dateDeModifImportante = '18/04/2024'\nexport const dateDePublication = '30/11/2020'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * Terminer la construction d'un parallélogramme\n * @author Jean-Claude Lhote (exercice) et Rémi Angot (animations)\n * Ajout de la possibilité de choisir le nombre de questions par Guillaume Valmont le 08/05/2022\n */\nexport const uuid = 'b611a'\n\nexport const refs = {\n  'fr-fr': ['5G40'],\n  'fr-ch': ['9ES4-4'],\n}\nexport default class ConstructionsParallelogrammes extends Exercice {\n  /** Type de question */\n  sup: 1 | 2 | 3 | 4 | 5\n  /** Taille des cases de la grille */\n  sup2: number\n  /** Indique si la cible pour la correction est activée */\n  sup3: boolean\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de questions',\n      'Nombres séparés par des tirets :\\n1 : Deux côtés consécutifs\\n2 : Trois sommets consécutifs\\n3 : Deux sommets consécutifs et le centre\\n4 : Un angle et le centre\\n5 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Taille des cases de la grille',\n      3,\n      '1 : taille 0,4cm\\n2 : taille 0,6 cm\\n3 : taille 0,8cm',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Cibles pour la correction']\n    this.nbQuestions = 1\n    this.sup = 5\n    this.sup2 = 2\n    this.sup3 = true\n    this.spacingCorr = 2\n    this.correctionDetaillee = false\n    this.correctionDetailleeDisponible = true\n  }\n\n  nouvelleVersion(numeroExercice: number) {\n    const tailleGrille = 0.2 + this.sup2 * 0.2\n    const listeTypeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n    }).map(Number)\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const celluleAlea = function (rang: number) {\n        const lettre = lettreDepuisChiffre(randint(1, rang))\n        const chiffre = Number(randint(1, rang)).toString()\n        return lettre + chiffre\n      }\n      // On prépare la figure...\n      const noms = choisitLettresDifferentes(5, 'QO', true) // on choisit 5 lettres, les 4 premières sont les sommets, la 5e est le centre\n      const nom = `${noms[0] + noms[1] + noms[2] + noms[3]}`\n      const objetsEnonce = []\n      const objetsCorrection = []\n      // Préparation de la figure aléatoire et des objets 2d utiles\n      const O = point(0, 0, noms[4])\n      const A = rotation(\n        pointAdistance(O, arrondi(randint(50, 70) / 10)),\n        O,\n        randint(0, 179) * choice([-1, 1]),\n        noms[0],\n      )\n      const C = rotation(A, O, 180, noms[2])\n      const B = similitude(\n        A,\n        O,\n        randint(50, 80) * choice([-1, 1]),\n        (randint(6, 7) * choice([-1, 1])) / 5,\n        noms[1],\n      )\n      const D = rotation(B, O, 180, noms[3])\n      const p = polygoneAvecNom(A, B, C, D)\n      const d1 = segment(O, A)\n      const d2 = segment(O, B)\n      const d3 = segment(O, C)\n      const d4 = segment(O, D)\n      const c1 = segment(A, B)\n      const c4 = segment(D, A)\n      const dd1 = droite(A, B)\n      const dd2 = droite(A, D)\n      const dd3 = droite(C, D)\n      const dd4 = droite(C, B)\n      const cellule = celluleAlea(5)\n      const cellule2 = celluleAlea(5)\n      const cellule3 = celluleAlea(5)\n      const polygoneInvisible = polygone(A, B, C, D)\n      polygoneInvisible.opacite = 0 // Pour qu'il y ait la place du 4e sommet\n      objetsEnonce.push(polygoneInvisible)\n\n      const result = dansLaCibleCarree(C.x, C.y, 5, tailleGrille, cellule)\n      const result2 = dansLaCibleCarree(D.x, D.y, 5, tailleGrille, cellule2)\n      const result3 = dansLaCibleCarree(B.x, B.y, 5, tailleGrille, cellule3)\n\n      const cible = cibleCarree({\n        x: result[0],\n        y: result[1],\n        rang: 5,\n        num: listeTypeQuestions[i] > 2 ? 1 : 0,\n        taille: tailleGrille,\n        color: 'gray',\n        opacite: 0.7,\n      })\n      const cible2 = cibleCarree({\n        x: result2[0],\n        y: result2[1],\n        rang: 5,\n        num: 2,\n        taille: tailleGrille,\n        color: 'gray',\n        opacite: 0.7,\n      })\n      const cible3 = cibleCarree({\n        x: result3[0],\n        y: result3[1],\n        rang: 5,\n        num: 3,\n        taille: tailleGrille,\n        color: 'gray',\n        opacite: 0.7,\n      })\n      const xMin = Math.min(A.x, B.x, C.x, D.x) - 3\n      const yMin = Math.min(A.y, B.y, C.y, D.y) - 4\n      const xMax = Math.max(A.x, B.x, C.x, D.x) + 4\n      const yMax = Math.max(A.y, B.y, C.y, D.y) + 3\n\n      let P\n      const animIEP = new Alea2iep()\n      animIEP.recadre(xMin, yMax) // Il faut recadrer en première étape pour bien calculer les coordonnées des points\n      animIEP.taille((xMax - xMin) * 30, (yMax - yMin) * 30)\n      const reponseLettres = ['A', 'B', 'C', 'D', 'E']\n      const reponseChiffres = ['1', '2', '3', '4', '5']\n      switch (listeTypeQuestions[i]) {\n        case 1: // deux côtés consécutifs\n          texte = `Construire le parallélogramme $${nom}$`\n          texte +=\n            ' et le coder afin de faire comprendre par quelle méthode ce parallélogramme a été construit.'\n          texteCorr = 'Plusieurs constructions sont possibles'\n          if (this.correctionDetaillee) {\n            texteCorr += ' :<br>'\n            texteCorr += `- En utilisant l'égalité des longueurs : $${noms[0] + noms[1]}=${noms[3] + noms[2]}$ et $${noms[2] + noms[1]}=${noms[3] + noms[0]}$.<br>`\n            texteCorr += `- En traçant la parallèle à $(${noms[0] + noms[1]})$ passant par $${noms[3]}$ et la parallèle à $(${noms[3] + noms[0]})$ passant par $${noms[1]}$.<br>`\n            texteCorr +=\n              '- En utilisant la propriété des diagonales qui se coupent en leur milieu.<br>'\n            texteCorr +=\n              'Nous avons choisi la première méthode qui nous semble la plus efficace ici.<br>'\n          } else {\n            texteCorr += '.<br>'\n            texteCorr += `En voici une utilisant l'égalité des longueurs : $${noms[0] + noms[1]}=${noms[3] + noms[2]}$ et $${noms[2] + noms[1]}=${noms[3] + noms[0]}$.<br>`\n          }\n\n          c1.styleExtremites = '-|'\n          c4.styleExtremites = '|-'\n          P = polygoneAvecNom(D, A, B)\n          objetsEnonce.push(c1, c4, P[1])\n          objetsCorrection.push(\n            p[0],\n            p[1],\n            traceCompas(D, C, 30),\n            traceCompas(B, C, 30),\n            codageSegments('||', 'red', A, B, D, C),\n            codageSegments('///', 'blue', A, D, B, C),\n          )\n          animIEP.parallelogramme3sommetsConsecutifs(D, A, B, C.nom)\n          if (this.sup3) {\n            texteCorr += `Le point $${noms[2]}$ se trouve dans la case ${cellule} de la cible.<br>`\n            objetsEnonce.push(cible)\n            objetsCorrection.push(cible)\n          }\n\n          break\n        case 2: // trois sommets consécutifs\n          texte = `Construire le parallélogramme $${nom}$`\n          texte +=\n            ' et le coder afin de faire comprendre par quelle méthode ce parallélogramme a été construit.'\n          texteCorr = 'Plusieurs constructions sont possibles :<br>'\n          if (this.correctionDetaillee) {\n            texteCorr += `- En utilisant l'égalité des longueurs : $${noms[0] + noms[1]}=${noms[3] + noms[2]}$ et $${noms[2] + noms[1]}=${noms[3] + noms[0]}$.<br>`\n            texteCorr += `- En traçant la parallèle à $(${noms[0] + noms[1]})$ passant par $${noms[3]}$ et la parallèle à $(${noms[3] + noms[0]})$ passant par $${noms[1]}$.<br>`\n            texteCorr +=\n              '- En utilisant la propriété des diagonales qui se coupent en leur milieu.<br>'\n            texteCorr +=\n              'Nous avons choisi la première méthode qui nous semble la plus efficace ici.<br>'\n          } else {\n            texteCorr += `En voici une utilisant l'égalité des longueurs : $${noms[0] + noms[1]}=${noms[3] + noms[2]}$ et $${noms[2] + noms[1]}=${noms[3] + noms[0]}$.<br>`\n          }\n          P = polygoneAvecNom(D, A, B)\n          animIEP.pointCreer(D)\n          animIEP.pointCreer(A)\n          animIEP.pointCreer(B)\n          animIEP.regleSegment(D, A)\n          animIEP.regleSegment(A, B)\n          animIEP.regleMasquer()\n          animIEP.crayonMasquer()\n          animIEP.parallelogramme3sommetsConsecutifs(D, A, B, C.nom)\n          objetsEnonce.push(tracePoint(A, B, D), P[1])\n          objetsCorrection.push(\n            p[0],\n            p[1],\n            traceCompas(D, C, 30),\n            traceCompas(B, C, 30),\n            codageSegments('||', 'red', A, B, D, C),\n            codageSegments('///', 'blue', A, D, B, C),\n          )\n          if (this.sup3) {\n            texteCorr += `Le point $${noms[2]}$ se trouve dans la case ${cellule} de la cible.<br>`\n            objetsEnonce.push(cible)\n            objetsCorrection.push(cible)\n          }\n\n          break\n        case 3: // deux sommets consécutifs plus le centre\n          texte = `Construire le parallélogramme $${nom}$ de centre $${noms[4]}$`\n          texte +=\n            ' et le coder afin de faire comprendre par quelle méthode ce parallélogramme a été construit.'\n          texteCorr = `O est le centre de symétrie du parallélogramme $${nom}$.<br>`\n          if (this.correctionDetaillee) {\n            texteCorr += `Le point $${noms[3]}$ est le symétrique du point $${noms[1]}$ par rapport à $${noms[4]}$.<br>`\n            texteCorr += `Le point $${noms[2]}$ est le symétrique du point $${noms[0]}$ par rapport à $${noms[4]}$.<br>`\n          }\n          P = polygoneAvecNom(O, A, B)\n          animIEP.parallelogramme2sommetsConsecutifsCentre(A, B, O)\n          objetsEnonce.push(tracePoint(A, B, O), P[1])\n          objetsCorrection.push(\n            p[0],\n            p[1],\n            labelPoint(O),\n            d1,\n            d2,\n            d3,\n            d4,\n            codageSegments('||', 'red', A, O, O, C),\n            codageSegments('|||', 'blue', B, O, O, D),\n          )\n          if (this.sup3) {\n            texteCorr += `Le point $${noms[2]}$ se trouve dans la case ${cellule} de la cible 1.<br>`\n            texteCorr += `Le point $${noms[3]}$ se trouve dans la case ${cellule2} de la cible 2.<br>`\n            objetsEnonce.push(cible, cible2)\n            objetsCorrection.push(cible, cible2)\n          }\n\n          break\n        case 4: // Un angle formé par deux demi-droites et le centre\n        default:\n          texte = `Construire le parallélogramme $${nom}$ de centre ${noms[4]}`\n          texte +=\n            ' et le coder afin de faire comprendre par quelle méthode ce parallélogramme a été construit.'\n          texte += ` Le point $${noms[3]}$ est sur la demi-droite $[${noms[0]}x)$ et le point $${noms[1]}$ est sur la demi-droite $[${noms[0]}y)$.<br>`\n          texteCorr = ''\n          if (this.correctionDetaillee) {\n            texteCorr += `Le point $${noms[2]}$ est le symétrique du point $${noms[0]}$ par rapport à $${noms[4]}$.<br>`\n            texteCorr += `La symétrique de la droite $(${noms[0] + noms[1]})$ par rapport à $${noms[4]}$ est la droite passant par $${noms[2]}$ parallèle à $(${noms[0] + noms[1]})$.<br>`\n            texteCorr += `La symétrique de la droite $(${noms[0] + noms[3]})$ par rapport à $${noms[4]}$ est la droite passant par $${noms[2]}$ parallèle à $(${noms[0] + noms[3]})$.<br>`\n          }\n\n          animIEP.regleZoom(200)\n          animIEP.equerreZoom(200)\n          animIEP.parallelogrammeAngleCentre(D, A, B, O)\n          objetsEnonce.push(\n            dd1,\n            dd2,\n            tracePoint(O),\n            labelPoint(O, A),\n            texteParPoint(\n              'x',\n              pointIntersectionCC(\n                cercleCentrePoint(A, D),\n                cercle(D, 0.5),\n                '',\n                1,\n              ),\n            ),\n            texteParPoint('y', similitude(B, A, 4, 1.3)),\n          )\n          objetsCorrection.push(\n            dd1,\n            dd2,\n            dd3,\n            dd4,\n            p[0],\n            p[1],\n            tracePoint(O),\n            labelPoint(O),\n            d1,\n            d3,\n            codageSegments('||', 'red', A, O, O, C),\n          )\n          if (this.sup3) {\n            texteCorr += `Le point $${noms[2]}$ se trouve dans la case ${cellule} de la cible 1.<br>`\n            texteCorr += `Le point $${noms[3]}$ se trouve dans la case ${cellule2} de la cible 2.<br>`\n            texteCorr += `Le point $${noms[1]}$ se trouve dans la case ${cellule3} de la cible 3.<br>`\n            objetsEnonce.push(cible, cible2, cible3)\n            objetsCorrection.push(cible, cible2, cible3)\n          }\n          break\n      }\n      let texteAMC = texte + '<br><br>'\n      texteAMC +=\n        listeTypeQuestions[i] > 2\n          ? 'Les sommets manquants devraient se trouver respectivement dans les cibles ci-dessous.'\n          : 'Le sommet manquant devrait se trouver dans la cible ci-dessous.'\n      texteAMC +=\n        '<br>Une fois la construction terminée et afin de vérifier votre soin, noircir, ci-contre,'\n      texteAMC += listeTypeQuestions[i] > 2 ? ' pour chacune des cibles,' : ''\n      texteAMC +=\n        ' la lettre et le chiffre correspondants à la case dans laquelle se trouve le sommet construit.'\n      texte +=\n        '<br>' +\n        mathalea2d(\n          Object.assign(\n            { pixelsParCm: 20, scale: 0.5 },\n            fixeBordures(objetsEnonce),\n          ),\n          objetsEnonce,\n        )\n      texteCorr += mathalea2d(\n        Object.assign(\n          { pixelsParCm: 20, scale: 0.5 },\n          fixeBordures(objetsCorrection),\n        ),\n        objetsCorrection,\n      )\n      texteCorr += animIEP.htmlBouton(numeroExercice, i)\n\n      if (context.isAmc) {\n        // Construction des QCM valables en AMC\n        const propositionsQcm1 = []\n        for (let ee = 0; ee < 5; ee++) {\n          propositionsQcm1.push({\n            texte: reponseLettres[ee],\n            statut: cellule[0] === reponseLettres[ee],\n          })\n        }\n\n        const propositionsQcm2 = []\n        for (let ee = 0; ee < 5; ee++) {\n          propositionsQcm2.push({\n            texte: ee + 1,\n            statut: cellule[1] === reponseChiffres[ee],\n          })\n        }\n\n        this.autoCorrection[i] = {}\n        this.autoCorrection[i].options = {\n          ordered: true,\n          barreseparation: true,\n          multicolsAll: true,\n        }\n        this.autoCorrection[i].enonce = '' // texte\n        this.autoCorrection[i].propositions = [\n          {\n            type: 'AMCOpen',\n            propositions: [\n              {\n                texte: texteCorr,\n                enonce:\n                  texteAMC +\n                  '<br>' +\n                  mathalea2d(\n                    {\n                      xmin: xMin,\n                      ymin: yMin,\n                      xmax: xMax,\n                      ymax: yMax,\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    objetsEnonce,\n                  ),\n                statut: 0,\n                sanscadre: true,\n              },\n            ],\n          },\n          {\n            type: 'qcmMono',\n            propositions: propositionsQcm1,\n            enonce:\n              (listeTypeQuestions[i] > 2\n                ? numAlpha(0) + 'Pour la cible 1 : <br>'\n                : '') +\n              'Lettre de la case du sommet construit, dans la cible' +\n              (listeTypeQuestions[i] > 2 ? ' 1' : ''),\n          },\n          {\n            type: 'qcmMono',\n            // @ts-expect-error\n            propositions: propositionsQcm2,\n            enonce:\n              'Chiffre de la case du sommet construit, dans la cible' +\n              (listeTypeQuestions[i] > 2 ? ' 1' : ''),\n          },\n        ]\n\n        if (listeTypeQuestions[i] > 2) {\n          const propositionsQcm3 = []\n          for (let ee = 0; ee < 5; ee++) {\n            propositionsQcm3.push({\n              texte: reponseLettres[ee],\n              statut: cellule2[0] === reponseLettres[ee],\n            })\n          }\n\n          const propositionsQcm4 = []\n          for (let ee = 0; ee < 5; ee++) {\n            propositionsQcm4.push({\n              texte: (ee + 1).toString(),\n              statut: cellule2[1] === reponseChiffres[ee],\n            })\n          }\n          // @ts-expect-error\n          this.autoCorrection[i].propositions.push(\n            {\n              type: 'qcmMono',\n              propositions: propositionsQcm3,\n              enonce:\n                '\\\\vspace{1cm}' +\n                numAlpha(1) +\n                'Pour la cible 2 : <br>Lettre de la case du sommet construit, dans la cible 2',\n            },\n            {\n              type: 'qcmMono',\n              propositions: propositionsQcm4,\n              enonce: 'Chiffre de la case du sommet construit, dans la cible 2',\n            },\n          )\n        }\n        if (listeTypeQuestions[i] === 4) {\n          const propositionsQcm5 = []\n          for (let ee = 0; ee < 5; ee++) {\n            propositionsQcm5.push({\n              texte: reponseLettres[ee],\n              statut: cellule3[0] === reponseLettres[ee],\n            })\n          }\n\n          const propositionsQcm6 = []\n          for (let ee = 0; ee < 5; ee++) {\n            propositionsQcm6.push({\n              texte: (ee + 1).toString(),\n              statut: cellule3[1] === reponseChiffres[ee],\n            })\n          }\n          // @ts-expect-error\n          this.autoCorrection[i].propositions.push(\n            {\n              type: 'qcmMono',\n              propositions: propositionsQcm5,\n              enonce:\n                '\\\\vspace{1cm}' +\n                numAlpha(2) +\n                'Pour la cible 3 : <br>Lettre de la case du sommet construit, dans la cible 3',\n            },\n            {\n              type: 'qcmMono',\n              propositions: propositionsQcm6,\n              enonce: 'Chiffre de la case du sommet construit, dans la cible 3',\n            },\n          )\n        }\n      }\n\n      // Si la question n'a jamais été posée, on l'enregistre\n      if (this.questionJamaisPosee(i, texte)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        // Supprime b, c et d dans la ligne ci-dessus et remplace les par NombreAAjouter !\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDeModifImportante","dateDePublication","amcReady","amcType","uuid","refs","ConstructionsParallelogrammes","Exercice","__publicField","numeroExercice","tailleGrille","listeTypeQuestions","gestionnaireFormulaireTexte","i","texte","texteCorr","cpt","celluleAlea","rang","lettre","lettreDepuisChiffre","randint","chiffre","noms","choisitLettresDifferentes","nom","objetsEnonce","objetsCorrection","O","point","A","rotation","pointAdistance","arrondi","choice","C","B","similitude","D","p","polygoneAvecNom","d1","segment","d2","d3","d4","c1","c4","dd1","droite","dd2","dd3","dd4","cellule","cellule2","cellule3","polygoneInvisible","polygone","result","dansLaCibleCarree","result2","result3","cible","cibleCarree","cible2","cible3","xMin","yMin","xMax","yMax","P","animIEP","Alea2iep","reponseLettres","reponseChiffres","traceCompas","codageSegments","tracePoint","labelPoint","texteParPoint","pointIntersectionCC","cercleCentrePoint","cercle","texteAMC","mathalea2d","fixeBordures","context","propositionsQcm1","ee","propositionsQcm2","numAlpha","propositionsQcm3","propositionsQcm4","propositionsQcm5","propositionsQcm6","listeQuestionsToContenu"],"mappings":"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"}