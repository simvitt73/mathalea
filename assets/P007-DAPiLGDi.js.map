{"version":3,"file":"P007-DAPiLGDi.js","sources":["../../src/exercices/profs/P007.ts"],"sourcesContent":["import { texteParPosition } from '../../lib/2d/textes'\nimport { nombreAvecEspace } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { Pavage } from '../../modules/Pavage'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Fabriquer des pavages pour travailler les transformations'\n\nexport const refs = {\n  'fr-fr': ['P007'],\n  'fr-ch': [],\n}\nexport const uuid = 'ad5f8'\n\n/**\n * Outil de création de pavages pour le prof\n * @author Jean-Claude Lhote\n * Publié le 12/12/2020\n * Ref : P007\n */\nexport default class PavagesMathalea2d extends Exercice {\n  constructor() {\n    super()\n\n    this.besoinFormulaireNumerique = [\n      'Type de pavage',\n      8,\n      \"1 : Triangles équilatéraux\\n2 : Carrés\\n3 : Hexagones\\n4 : Pavage 3².4.3.4\\n5 : Pavage 8².4\\n6 : Pavage hexagonal d'écolier\\n7 : Pavage 6.3.6.3\",\n    ]\n    this.besoinFormulaire2Texte = [\n      'Nombre de répétitions du motif (2 entiers séparés par un tiret)',\n      '',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Présence de numéros']\n\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.sup = 4\n    this.sup2 = '1-1'\n    this.sup3 = true\n    this.correctionDetaillee = false\n    this.correctionDetailleeDisponible = true\n    context.isHtml ? (this.spacingCorr = 2.5) : (this.spacingCorr = 1.5)\n  }\n\n  nouvelleVersion() {\n    const objets = []\n    let Nx, Ny // nombres de dalles en x et en y\n    if (!this.sup2) {\n      // On fixe le nombre de dalles en x et en y\n      // Si aucune grandeur n'est saisie\n      ;[Nx, Ny] = [1, 1]\n    } else {\n      ;[Nx, Ny] = gestionnaireFormulaireTexte({\n        saisie: this.sup2,\n        min: 1,\n        max: 10,\n        defaut: 1,\n        melange: 1,\n        nbQuestions: 2,\n        shuffle: false,\n      }).map(Number)\n      if (isNaN(Nx) || isNaN(Ny)) {\n        Nx = 1\n        Ny = 1\n      }\n    }\n\n    const monpavage: Pavage = new Pavage() // On crée l'objet Pavage qui va s'appeler monpavage\n    const typeDePavage = this.sup > 7 ? randint(1, 7) : this.sup\n    monpavage.construit(typeDePavage, Nx, Ny, 3) // On initialise toutes les propriétés de l'objet.\n    if (this.sup3) {\n      // Doit-on afficher les Numéros ?\n      for (let i = 0; i < monpavage.nb_polygones; i++) {\n        objets.push(\n          texteParPosition(\n            nombreAvecEspace(i + 1),\n            monpavage.barycentres[i].x + 0.3,\n            monpavage.barycentres[i].y,\n            0,\n            'black',\n            0.04 * monpavage.echelle,\n            'milieu',\n            true,\n          ),\n        )\n      }\n    }\n    if (this.correctionDetaillee) {\n      // Doit-on montrer les centres des figures ?\n      for (let i = 0; i < monpavage.nb_polygones; i++) {\n        objets.push(monpavage.tracesCentres[i])\n      }\n    }\n    for (let i = 0; i < monpavage.nb_polygones; i++) {\n      // il faut afficher tous les polygones du pavage\n      objets.push(monpavage.polygones[i])\n    }\n    const texte = mathalea2d(monpavage.fenetre, objets) // monpavage.fenetre est calibrée pour faire entrer le pavage dans une feuille A4\n\n    let texteComment = 'Le premier paramètre permet de choisir le pavage.<br>'\n    texteComment +=\n      'Le deuxième permet de choisir le nombre de répétitions en x et y. Exemple : 3-2<br>'\n    texteComment +=\n      \"Le troisième permet d'afficher un Numéro distinct sur chaque figure.<br>\"\n    texteComment +=\n      'En activant la correction détaillée, on affiche les barycentres de celles-ci.'\n\n    this.listeQuestions.push(texte)\n    // this.listeCorrections.push(texteCorr)\n    this.comment = texteComment\n    listeQuestionsToContenu(this)\n  }\n} // Fin de l'exercice.\n"],"names":["titre","refs","uuid","PavagesMathalea2d","Exercice","context","objets","Nx","Ny","gestionnaireFormulaireTexte","monpavage","Pavage","typeDePavage","randint","i","texteParPosition","nombreAvecEspace","texte","mathalea2d","texteComment","listeQuestionsToContenu"],"mappings":"i3GAYO,MAAMA,GAAQ,4DAERC,GAAO,CAClB,QAAS,CAAC,MAAM,EAChB,QAAS,CAAA,CACX,EACaC,GAAO,QAQpB,MAAqBC,WAA0BC,CAAS,CACtD,aAAc,CACZ,MAAA,EAEA,KAAK,0BAA4B,CAC/B,iBACA,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,EAEF,KAAK,uBAAyB,CAC5B,kEACA,EAAA,EAEF,KAAK,6BAA+B,CAAC,qBAAqB,EAE1D,KAAK,YAAc,EACnB,KAAK,sBAAwB,GAE7B,KAAK,IAAM,EACX,KAAK,KAAO,MACZ,KAAK,KAAO,GACZ,KAAK,oBAAsB,GAC3B,KAAK,8BAAgC,GACrCC,EAAQ,OAAU,KAAK,YAAc,IAAQ,KAAK,YAAc,GAClE,CAEA,iBAAkB,CAChB,MAAMC,EAAS,CAAA,EACf,IAAIC,EAAIC,EACH,KAAK,MAKP,CAACD,EAAIC,CAAE,EAAIC,EAA4B,CACtC,OAAQ,KAAK,KACb,IAAK,EACL,IAAK,GACL,OAAQ,EACR,QAAS,EACT,YAAa,EACb,QAAS,EAAA,CACV,EAAE,IAAI,MAAM,GACT,MAAMF,CAAE,GAAK,MAAMC,CAAE,KACvBD,EAAK,EACLC,EAAK,IAbN,CAACD,EAAIC,CAAE,EAAI,CAAC,EAAG,CAAC,EAiBnB,MAAME,EAAoB,IAAIC,EACxBC,EAAe,KAAK,IAAM,EAAIC,EAAQ,EAAG,CAAC,EAAI,KAAK,IAEzD,GADAH,EAAU,UAAUE,EAAcL,EAAIC,EAAI,CAAC,EACvC,KAAK,KAEP,QAASM,EAAI,EAAGA,EAAIJ,EAAU,aAAcI,IAC1CR,EAAO,KACLS,EACEC,EAAiBF,EAAI,CAAC,EACtBJ,EAAU,YAAYI,CAAC,EAAE,EAAI,GAC7BJ,EAAU,YAAYI,CAAC,EAAE,EACzB,EACA,QACA,IAAOJ,EAAU,QACjB,SACA,EAAA,CACF,EAIN,GAAI,KAAK,oBAEP,QAASI,EAAI,EAAGA,EAAIJ,EAAU,aAAcI,IAC1CR,EAAO,KAAKI,EAAU,cAAcI,CAAC,CAAC,EAG1C,QAASA,EAAI,EAAGA,EAAIJ,EAAU,aAAcI,IAE1CR,EAAO,KAAKI,EAAU,UAAUI,CAAC,CAAC,EAEpC,MAAMG,EAAQC,EAAWR,EAAU,QAASJ,CAAM,EAElD,IAAIa,EAAe,wDACnBA,GACE,sFACFA,GACE,2EACFA,GACE,gFAEF,KAAK,eAAe,KAAKF,CAAK,EAE9B,KAAK,QAAUE,EACfC,EAAwB,IAAI,CAC9B,CACF"}