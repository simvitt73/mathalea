var x=Object.defineProperty;var y=(m,l,e)=>l in m?x(m,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[l]=e;var a=(m,l,e)=>y(m,typeof l!="symbol"?l+"":l,e);import{f as d}from"./fixeBordures-BSnKuTIe.js";import{E as D,K as h,aH as f,r as v,a0 as u,a as g,s as V,j as $,P as C,o as I,aS as c}from"./index-Dkwu26bg.js";import{m as b}from"./mathalea2d-DE7tFmfi.js";import{Rose as T}from"./_Rose-BVwdfNQB.js";/* empty css                         */import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/three-q_6hD11P.js";import"./vendors/decimal.js-BceHFVC1.js";import"./vendors/katex-BISJkeK-.js";import"./vendors/seedrandom-Cz-2rAdY.js";import"./vendors/apigeom-CvUqzk7F.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./json/uuidsToUrlFR-Cc7zu7XX.js";import"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-DByOnDAE.js";import"./json/refToUuidCH-Co2Ho8bY.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-DjDOIBSG.js";import"./json/referentiel2022FR-BT6kfVfP.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./ObjetMathalea2D-CXcNXRpD.js";import"./utilitairesGeometriques-rO8Jz15i.js";import"./PointAbstrait-Cz1GEocE.js";import"./polygonesParticuliers-jSLD4GTw.js";import"./CodageAngleDroit-lZ_78Kdc.js";import"./polygones-BMzqJQvg.js";import"./vendors/earcut-jJVragJp.js";import"./pattern-DWd8Ia-0.js";import"./segmentsVecteurs-DWWtoN_4.js";import"./vendors/roughjs-CycZv-lV.js";import"./textes-BLrhx9_h.js";import"./Polyline-CMaVFuZW.js";import"./transformations-CrKJZhMe.js";import"./droites-1cMQNrTw.js";import"./Vide2d-lYMmc9eB.js";import"./CodageSegment-Bhlkc4-p.js";import"./outilsMathjs-DghseyIt.js";import"./vendors/mathsteps-m4YnGb-n.js";const st=!0,rt="custom",it=!0,ot="AMCOpen";class nt extends D{constructor(){super();a(this,"operation");a(this,"type");a(this,"typeDonnees");a(this,"nombreDeValeurs");a(this,"valeurMax");a(this,"roses");a(this,"clavier");a(this,"indexInconnue");a(this,"correctionInteractive",e=>{this.answers===void 0&&(this.answers={});const p=this.nombreDeValeurs,t=[],r=document.querySelector(`#resultatCheckEx${this.numeroExercice}Q${e}`),n=[];if(this.type.substring(0,3)==="can")t[0]=document.getElementById(`champTexteEx${this.numeroExercice}Q${e}`),t[0]&&(this.answers[t[0].id]=t[0].value),t[0]!=null&&(n[0]=t[0].value.replace(",",".").replace(/\((\+?-?\d+)\)/,"$1"));else{const s=document.querySelector(`math-field#champTexteEx${this.numeroExercice}Q${e}`);s&&(this.answers[s.id]=s.value);for(let o=0;o<p;o++)t[o]=s.getPromptValue(`champ${o+1}`),n[o]=t[o].replace(",",".").replace(/\((\+?-?\d+)\)/,"$1")}let i;return this.saisieCoherente(n,p,e)?(r.innerHTML="üòé",i="OK"):(r.innerHTML="‚òπÔ∏è",i="KO"),i});this.besoinFormulaireNumerique=["Valeur maximale (entre 10 et 30) des facteurs",30],this.besoinFormulaire2Numerique=["Nombre de facteur entre 3 et 9 (limit√© √† 5 pour les valeurs fractionnaires ou litt√©rales)",9],this.besoinFormulaire3Numerique=["Type de questions",4,`1 : Calculer les produits
2 : Calculer les facteurs
3 : Course aux nombres 1
4 : Course aux nombres 2`],this.spacing=2,this.nbQuestions=1,this.sup=10,this.sup2=4,this.sup3=1,this.operation="multiplication",this.type="r√©sultats",this.typeDonnees="entiers",this.nombreDeValeurs=4,this.valeurMax=10,this.roses=[],this.clavier=h.clavierDeBase,this.indexInconnue=[]}nouvelleVersion(){switch(this.valeurMax=f(10,30,this.sup,10),this.nombreDeValeurs=f(3,9,this.sup2,5),this.sup3=f(1,4,this.sup3,1),this.sup3){case 1:this.type="r√©sultats",(this.typeDonnees.substring(0,4)==="frac"||this.typeDonnees==="litteraux")&&this.nombreDeValeurs>5&&(this.nombreDeValeurs=5);break;case 2:this.type="valeurs";break;case 3:(this.typeDonnees.substring(0,4)==="frac"||this.typeDonnees==="litteraux")&&this.nombreDeValeurs>5&&(this.nombreDeValeurs=5),this.type="can1";break;case 4:this.type="can2",(this.typeDonnees.substring(0,4)==="frac"||this.typeDonnees==="litteraux")&&this.nombreDeValeurs>5&&(this.nombreDeValeurs=5);break}this.typeDonnees==="litteraux"?this.clavier=h.clavierDeBaseAvecVariable:this.typeDonnees.includes("frac")?this.clavier=h.clavierDeBaseAvecFraction:this.clavier=h.clavierDeBase;for(let e=0,p,t,r,n,i=0;e<this.nbQuestions&&i<50;){switch(this.indexInconnue[e]=v(0,this.nombreDeValeurs-1),this.operation==="multiplication"?this.introduction="Les nombres situ√©s √† l'extr√©mit√© des fl√®ches sont les produits des nombres dont les fl√®ches sont issues.":this.introduction="Les nombres situ√©s √† l'extr√©mit√© des fl√®ches sont les sommes des nombres dont les fl√®ches sont issues.",this.type){case"r√©sultats":this.operation==="multiplication"?r="Calculer les produits √† l'extr√©mit√© des fl√®ches.<br>":r="Calculer les sommes √† l'extr√©mit√© des fl√®ches.<br>";break;case"valeurs":this.operation==="multiplication"?r="Retrouver les facteurs √† l'origine des fl√®ches.<br>":r="Retrouver les termes √† l'origine des fl√®ches.<br>";break;case"can1":this.typeDonnees.includes("entiers")?r=`Trouver le nombre de la case ${u(this.indexInconnue[e]+1)}.<br>`:r=`Trouver l'expression de la case ${u(this.indexInconnue[e]+1)}.<br>`;break;default:this.typeDonnees.includes("entiers")?r=`Trouver le nombre de la case ${u(this.indexInconnue[e]+1)}.<br>`:r=`Trouver l'expression de la case ${u(this.indexInconnue[e]+1)}.<br>`;break}if(this.roses[e]=new T({nombreDeValeurs:this.nombreDeValeurs,type:this.type,operation:this.operation,valeurMax:this.valeurMax,typeDonnees:this.typeDonnees,indexInconnue:this.indexInconnue[e]}),p=this.roses[e].representation(),this.roses[e].type="solutions",t=this.roses[e].representation(),r+=b(Object.assign({scale:.6},d(p)),p),this.interactif)if(this.type.substring(0,3)==="can")r+=g(this,e,this.clavier,{texteAvant:`${u(this.indexInconnue[e]+1)}=`});else{let s="";for(let o=0;o<this.nombreDeValeurs;o++)s+=`${u(o+1)}=%{champ${o+1}}${V(3)}`;r+=$(this,e,s,this.clavier,"\\ldots")}n=b(Object.assign({scale:.6},d(t)),t),this.questionJamaisPosee(e,...this.roses[e].values)&&(this.listeQuestions[e]=r,this.listeCorrections[e]=n,C.isAmc&&(this.autoCorrection[e]={enonce:this.introduction+"<br>"+r,propositions:[{texte:"",statut:this.type==="can1"||this.type==="can2"?1:Math.ceil(this.sup2/4),sanscadre:!1}]}),e++),i++}I(this)}saisieCoherente(e,p,t){let r=!0,n=e[0],i;if(this.type==="can2"){i=this.roses[t].typeDonnees.substring(0,4)==="frac"?this.roses[t].resultats[this.indexInconnue[t]].replace("dfrac","frac"):this.roses[t].resultats[this.indexInconnue[t]].toString();const s=c.parse(i);return s===null?!1:s.isSame(c.parse(n))}else{if(this.type==="can1")return n=e[0],i=this.roses[t].typeDonnees.substring(0,4)==="frac"?this.roses[t].values[this.indexInconnue[t]].toLatex().replace("dfrac","frac"):this.roses[t].values[this.indexInconnue[t]].toString(),c.parse(n).isSame(c.parse(i));for(let s=0;s<p;s++){n=e[s],this.type==="r√©sultats"?i=this.roses[t].typeDonnees.substring(0,4)==="frac"?this.roses[t].resultats[s].replace("dfrac","frac"):String(this.roses[t].resultats[s]):(i=this.roses[t].typeDonnees.substring(0,4)==="frac"?this.roses[t].resultats[s].replace("dfrac","frac"):String(this.roses[t].resultats[s]),n=this.roses[t].typeDonnees.substring(0,4)==="frac"?`${e[s]}${this.roses[t].operation==="addition"?"+":"\\times "}${e[(s+1)%this.nombreDeValeurs]}`:this.roses[t].operate(e[s],e[(s+1)%this.nombreDeValeurs]));const o=c.parse(n.replace("dfrac","frac"));r=!!(r&&(o!=null&&o.isEqual(c.parse(i)??c.parse("NaN"))))}return r}}}export{it as amcReady,ot as amcType,nt as default,st as interactifReady,rt as interactifType};
//# sourceMappingURL=_Roses-B_awa7VV.js.map
