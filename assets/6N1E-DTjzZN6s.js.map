{"version":3,"file":"6N1E-DTjzZN6s.js","sources":["../../src/exercices/6e/6N1E.ts"],"sourcesContent":["import { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { AddTabDbleEntryMathlive } from '../../lib/interactif/tableaux/AjouteTableauMathlive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi, rangeMinMax } from '../../lib/outils/nombres'\nimport { sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Lier nombre décimal, fraction décimale et pourcentage'\nexport const dateDePublication = '04/06/2025'\nexport const interactifType = 'mathLive'\nexport const interactifReady = true\n\n/**\n * Lier nombre décimal, fraction décimale et pourcentage\n * @author Eric Elter\n */\n\nexport const uuid = '2359a'\n\nexport const refs = {\n  'fr-fr': ['6N1E', '3AutoN06-1'],\n  'fr-2016': ['6N23-10'],\n  'fr-ch': [''],\n}\nexport default class DecimalFractionPourcentage extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Choix du chiffre des centièmes',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Avoir un chiffre des centièmes jamais nul',\n        '2 : Avoir un chiffre des centièmes toujours nul',\n        '3 : Mélange',\n      ].join('\\n'),\n    ]\n\n    this.sup = 1\n    this.nbQuestions = 1\n    this.consigne =\n      'Dans chaque colonne de ce tableau, il y a un unique nombre exprimé sous 3 formes différentes.<br>Compléter ce tableau.'\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? 'Dans chaque colonne de ce tableau, il y a un unique nombre exprimé sous 3 formes différentes.<br>Compléter ce tableau.'\n        : 'Dans chaque colonne de ces tableaux, il y a un unique nombre exprimé sous 3 formes différentes.<br>Compléter les tableaux suivants.'\n    const typesDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 2,\n      melange: 3,\n      defaut: 3,\n      nbQuestions: 6 * this.nbQuestions,\n    })\n    const tableauDeDizaines = combinaisonListes(\n      [20, 30, 40, 50, 60, 70, 80, 90],\n      6,\n    )\n    const tableauDeNombres = combinaisonListes(\n      rangeMinMax(11, 99, tableauDeDizaines),\n      6,\n    )\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const nbfractionDecimaleEtPourcentage = function (i: number) {\n        const numerateur =\n          Number(typesDeQuestionsDisponibles[i]) === 1\n            ? tableauDeNombres[i]\n            : tableauDeDizaines[i]\n        return {\n          decimal: texNombre(arrondi(numerateur / 100)),\n          fractionDecimale: new FractionEtendue(numerateur, 100).texFraction,\n          pourcentage: numerateur,\n        }\n      }\n\n      const nbDecimal = []\n      const nbDecimalCorr = []\n      const nbDecimalCorrNu = []\n      const pourcentage = []\n      const pourcentageCorr = []\n      const pourcentageCorrNu = []\n      const fractionDecimale = []\n      const fractionDecimaleCorr = []\n      const fractionDecimaleCorrNu = []\n      const typeLignes = combinaisonListes([0, 1, 2], 6)\n      for (let k = 0; k < 6; k++) {\n        const nb = nbfractionDecimaleEtPourcentage(k)\n        const lig = typeLignes[k]\n        nbDecimalCorrNu.push(nb.decimal)\n        pourcentageCorrNu.push(nb.pourcentage + sp() + '\\\\%')\n        fractionDecimaleCorrNu.push(nb.fractionDecimale)\n        if (lig === 0) {\n          nbDecimal.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          nbDecimalCorr.push(miseEnEvidence(nb.decimal))\n          pourcentage.push(nb.pourcentage + sp() + '\\\\%')\n          pourcentageCorr.push(nb.pourcentage + sp() + '\\\\%')\n          fractionDecimale.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          fractionDecimaleCorr.push(miseEnEvidence(nb.fractionDecimale))\n        } else if (lig === 1) {\n          nbDecimal.push(nb.decimal)\n          nbDecimalCorr.push(nb.decimal)\n          pourcentage.push(this.interactif ? '' : '\\\\phantom{rrrrr}\\\\%')\n          pourcentageCorr.push(miseEnEvidence(nb.pourcentage) + sp() + '\\\\%')\n          fractionDecimale.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          fractionDecimaleCorr.push(miseEnEvidence(nb.fractionDecimale))\n        } else {\n          nbDecimal.push(this.interactif ? '' : '\\\\phantom{rrrrr}')\n          nbDecimalCorr.push(miseEnEvidence(nb.decimal))\n          fractionDecimale.push(nb.fractionDecimale)\n          fractionDecimaleCorr.push(nb.fractionDecimale)\n          pourcentage.push(this.interactif ? '' : '\\\\phantom{rrrrr}\\\\%')\n          pourcentageCorr.push(miseEnEvidence(nb.pourcentage) + sp() + '\\\\%')\n        }\n      }\n\n      const enonces = []\n      enonces.push({\n        tabEntetesColonnes: [],\n        tabEntetesLignes: [\n          '\\\\text{Nombre décimal}',\n          '\\\\text{Fraction décimale}',\n          '\\\\text{Pourcentage}',\n        ],\n        tabLines: nbDecimal.concat(fractionDecimale).concat(pourcentage),\n        tabLinesCorr: nbDecimalCorrNu\n          .concat(fractionDecimaleCorrNu)\n          .concat(pourcentageCorrNu),\n        enonce: `${tableauColonneLigne(\n          [], \n          ['\\\\text{Nombre décimal}', '\\\\text{Fraction décimale}', '\\\\text{Pourcentage}'], \n          nbDecimal.concat(fractionDecimale).concat(pourcentage),\n        2.5,\n        true\n        )}`,\n        correction: `${tableauColonneLigne(\n          [], ['\\\\text{Nombre décimal}', '\\\\text{Fraction décimale}', '\\\\text{Pourcentage}'], \n          nbDecimalCorr.concat(fractionDecimaleCorr).concat(pourcentageCorr),\n        2.5,\n        true\n        )},`,\n      })\n      let objetReponse = {}\n      for (let i = 0; i < enonces[0].tabLines.length; i++) {\n        if (enonces[0].tabLines[i] === '') {\n          const ligne = Math.floor(i / 6)\n          const colonne = i % 6\n          const ref = `L${ligne + 1}C${colonne + 1}`\n          const valeur = Object.assign(\n            {},\n            {\n              value:\n                ligne === 2\n                  ? `${enonces[0].tabLinesCorr[i]}`.slice(0, 2)\n                  : `${enonces[0].tabLinesCorr[i]}`,\n              options:\n                ligne === 1\n                  ? { fractionDecimale: true }\n                  : { nombreDecimalSeulement: true },\n            },\n          )\n          const cellule = Object.fromEntries([[ref, valeur]])\n          objetReponse = Object.assign(objetReponse, cellule)\n        }\n      }\n\n      objetReponse = Object.assign(objetReponse, {\n        bareme: (listePoints: number[]) => {\n          return [\n            Math.floor(listePoints.reduce((a, b) => a + b / 2, 0)),\n            listePoints.length / 2,\n          ]\n        },\n      })\n      handleAnswers(this, i, objetReponse)\n\n      if (this.interactif) {\n        const tableau = AddTabDbleEntryMathlive.convertTclToTableauMathlive(\n          enonces[0].tabEntetesColonnes,\n          enonces[0].tabEntetesLignes,\n          enonces[0].tabLines,\n        )\n        for (let j = 0; j < tableau.raws[2].length; j++) {\n          if (tableau.raws[2][j].texte === '')\n            Object.assign(tableau.raws[2][j], {\n              options: { texteApres: '$~\\\\%$' },\n            })\n        }\n        const leTableau = AddTabDbleEntryMathlive.create(\n          this.numeroExercice ?? 0,\n          i,\n          tableau,\n          `tableauMathlive ${KeyboardType.clavierDeBaseAvecFraction}`,\n          true,\n          {},\n        )\n        texte = leTableau.output\n      } else {\n        texte = `${enonces[0].enonce}`\n      }\n      texteCorr = `${enonces[0].correction}`\n\n      if (this.questionJamaisPosee(i, JSON.stringify(objetReponse))) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifType","interactifReady","uuid","refs","DecimalFractionPourcentage","Exercice","typesDeQuestionsDisponibles","gestionnaireFormulaireTexte","tableauDeDizaines","combinaisonListes","tableauDeNombres","rangeMinMax","i","texte","texteCorr","cpt","nbfractionDecimaleEtPourcentage","numerateur","texNombre","arrondi","FractionEtendue","nbDecimal","nbDecimalCorr","nbDecimalCorrNu","pourcentage","pourcentageCorr","pourcentageCorrNu","fractionDecimale","fractionDecimaleCorr","fractionDecimaleCorrNu","typeLignes","k","nb","lig","sp","miseEnEvidence","enonces","tableauColonneLigne","objetReponse","ligne","colonne","ref","valeur","cellule","listePoints","a","b","handleAnswers","tableau","AddTabDbleEntryMathlive","j","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}