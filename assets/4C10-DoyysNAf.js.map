{"version":3,"file":"4C10-DoyysNAf.js","sources":["../../src/exercices/4e/4C10.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\n\nexport const titre =\n  'Calculer des produits et des quotients de nombres relatifs'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '23/09/2022'\n\nexport const uuid = '745ba'\n\nexport const refs = {\n  'fr-fr': ['4C10'],\n  'fr-ch': ['10NO4-1'],\n}\n/**\n * @author ???\n */\nexport default class ProduitsEtQuotientRelatifs extends Exercice {\n  constructor() {\n    super()\n\n    this.consigne = 'Calculer.'\n    this.sup = 1\n    this.sup2 = 1\n\n    this.besoinFormulaireNumerique = [\n      'Opérations',\n      3,\n      '1 : Multiplication\\n2 : Division\\n3 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Opérandes',\n      4,\n      '1 : Entiers relatifs (quotient exact)\\n2 : Un entier et un décimal (quotient décimal simple)\\n3 : Rationnels\\n4 : Mélange',\n    ]\n  }\n\n  nouvelleVersion() {\n    this.sup = contraindreValeur(1, 3, this.sup, 3)\n    this.sup2 = contraindreValeur(1, 4, this.sup2, 1)\n    const typesDeQuestions = []\n    if (this.sup % 2 === 1) typesDeQuestions.push('multiplication')\n    if (this.sup > 1) typesDeQuestions.push('division')\n    const typesDeNombre = this.sup2 < 4 ? [this.sup2] : [1, 2, 3]\n    const listeTypesDeQuestion = combinaisonListes(\n      typesDeQuestions,\n      this.nbQuestions,\n    )\n    const listeTypesDeNombre = combinaisonListes(\n      typesDeNombre,\n      this.nbQuestions,\n    )\n    const ponderation = [\n      ['-', '-'],\n      ['-', '-'],\n      ['-', '-'],\n      ['-', '+'],\n      ['+', '-'],\n      ['-', '+'],\n      ['+', '-'],\n      ['+', '+'],\n    ]\n    for (\n      let i = 0, texte, texteCorr, a, b, c, num1, num2, den1, den2, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const signes = choice(ponderation)\n      switch (listeTypesDeNombre[i]) {\n        case 1: // entiers\n          a = new Decimal(randint(2, 9) * (signes[0] === '-' ? -1 : 1))\n          b = new Decimal(randint(2, 9) * (signes[1] === '-' ? -1 : 1))\n          break\n\n        case 2: // un entier un décimal\n          if (choice([true, false])) {\n            a = new Decimal(randint(2, 9) * (signes[0] === '-' ? -1 : 1))\n            b = new Decimal(randint(11, 29) * (signes[1] === '-' ? -1 : 1)).div(\n              10,\n            )\n          } else {\n            a = new Decimal(randint(11, 29) * (signes[0] === '-' ? -1 : 1)).div(\n              10,\n            )\n            b = new Decimal(randint(2, 9) * (signes[1] === '-' ? -1 : 1))\n          }\n          break\n        case 3: // rationnels\n        default:\n          den1 = randint(2, 9)\n          num1 = randint(2, 15, [\n            den1,\n            2 * den1,\n            3 * den1,\n            4 * den1,\n            5 * den1,\n            6 * den1,\n            7 * den1,\n          ]) // on évite les fractions réductibles\n          den2 = randint(2, 9)\n          num2 = randint(2, 15, [\n            den2,\n            2 * den2,\n            3 * den2,\n            4 * den2,\n            5 * den2,\n            6 * den2,\n            7 * den2,\n          ]) // on évite les fractions réductibles\n          a = new FractionEtendue(num1 * (signes[0] === '-' ? -1 : 1), den1)\n          b = new FractionEtendue(num2 * (signes[1] === '-' ? -1 : 1), den2)\n          break\n      }\n      const fois = function (\n        a: Decimal | FractionEtendue,\n        b: Decimal | FractionEtendue,\n      ): typeof a {\n        if (a instanceof Decimal) return a.mul(b as Decimal) as Decimal\n        return a.produitFraction(b as FractionEtendue)\n      }\n      switch (listeTypesDeQuestion[i]) {\n        case 'multiplication':\n          if (listeTypesDeNombre[i] < 3) {\n            texte = `$${texNombre(a, 1)}\\\\times ${ecritureParentheseSiNegatif(b)} = $${ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)}`\n            texteCorr =\n              texte.split('=')[0] + ' = ' + texNombre(fois(a, b), 1) + '$'\n            if (context.isAmc) {\n              setReponse(this, i, fois(a, b))\n            } else {\n              handleAnswers(this, i, {\n                reponse: {\n                  value: fois(a, b),\n                  options: { nombreDecimalSeulement: true },\n                },\n              })\n            }\n          } else {\n            const aF = a as FractionEtendue\n            const bF = b as FractionEtendue\n            texte = `$${aF.texFSD}\\\\times ${bF.texFSP} = $${ajouteChampTexteMathLive(this, i, KeyboardType.clavierFullOperations)}`\n            texteCorr =\n              texte.split('=')[0] +\n              ' = ' +\n              aF.texProduitFraction(bF, true) +\n              '$'\n            // setReponse(this, i, a.produitFraction(b), { formatInteractif: 'fractionEgale' })\n            if (context.isAmc) {\n              setReponse(this, i, aF.produitFraction(bF).texFraction, {\n                formatInteractif: 'fractionEgale',\n              })\n            } else {\n              handleAnswers(this, i, {\n                reponse: {\n                  value: aF.produitFraction(bF).texFraction,\n                  options: { nombreDecimalSeulement: true },\n                },\n              })\n            }\n          }\n          break\n\n        case 'division':\n        default:\n          if (listeTypesDeNombre[i] < 3) {\n            c = fois(a, b)\n            texte = `$\\\\dfrac{${texNombre(c, 1)}}{${texNombre(a, 1)}} = $${ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)}`\n            texteCorr = texte.split('=')[0] + ' = ' + texNombre(b, 1) + '$'\n            setReponse(this, i, b)\n          } else {\n            const aF = a as FractionEtendue\n            const bF = b as FractionEtendue\n            c = aF.produitFraction(bF)\n            texte = `$\\\\dfrac{${c.texFraction}}{${aF.texFraction}} = $${ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)}`\n            texteCorr = texte.split('=')[0]\n            b = c.produitFraction(aF.inverse())\n            texteCorr += ` = ${c.texProduitFraction(aF.inverse(), true)}$`\n            setReponse(this, i, bF.simplifie(), {\n              formatInteractif: 'fractionEgale',\n            })\n          }\n          break\n      }\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      if (this.questionJamaisPosee(i, a, b, listeTypesDeQuestion[i])) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","ProduitsEtQuotientRelatifs","Exercice","contraindreValeur","typesDeQuestions","typesDeNombre","listeTypesDeQuestion","combinaisonListes","listeTypesDeNombre","ponderation","i","texte","texteCorr","a","b","c","num1","num2","den1","den2","cpt","signes","choice","Decimal","randint","FractionEtendue","fois","texNombre","ecritureParentheseSiNegatif","ajouteChampTexteMathLive","KeyboardType","context","setReponse","handleAnswers","aF","bF","textCorrSplit","aRemplacer","ee","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}