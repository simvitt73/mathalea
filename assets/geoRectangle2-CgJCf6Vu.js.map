{"version":3,"file":"geoRectangle2-CgJCf6Vu.js","sources":["../../src/exercices/geodyn/geoRectangle2.ts"],"sourcesContent":["import ExerciceSimple from '../ExerciceSimple'\nimport Figure from 'apigeom'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { randint } from '../../modules/outils'\n\nexport const titre = 'Tracer un rectangle de dimensions données'\nexport const dateDePublication = '4/11/2023'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\n/**\n * Tracer un rectangle\n * @author Rémi Angot\n\n */\n\nexport const refs = {\n  'fr-fr': ['rectangle2'],\n  'fr-ch': ['9ES4-14'],\n}\nexport const uuid = '1d6ca'\n\nclass ConstructionRectangleDimensions extends ExerciceSimple {\n  // On déclare des propriétés supplémentaires pour cet exercice afin de pouvoir les réutiliser dans la correction\n  figure!: Figure\n  L!: number\n  l!: number\n  constructor() {\n    super()\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n    this.reponse = ''\n    this.formatChampTexte = 'none' // Pas de champ texte pour cet exercice simple de géométrie dynamique\n    this.exoCustomResultat = true\n  }\n\n  nouvelleVersion(): void {\n    this.figure = new Figure({\n      xMin: -7,\n      yMin: -7,\n      width: 800,\n      height: 500,\n      border: true,\n    })\n    this.figure.options.labelAutomaticBeginsWith = 'A'\n    this.L = randint(4, 10)\n    this.l = randint(2, this.L - 1)\n    const enonce = `Tracer un rectangle $ABCD$ tel que $AB=${this.L}$ et $BC=${this.l}$.`\n    this.figure.setToolbar({\n      tools: [\n        'POINT',\n        'POINT_ON',\n        'POINT_INTERSECTION',\n        'SEGMENT',\n        'LINE_PERPENDICULAR',\n        'LINE_PARALLEL',\n        'POLYGON',\n        'CIRCLE_CENTER_POINT',\n        'CIRCLE_RADIUS',\n        'NAME_POINT',\n        'DRAG',\n        'HIDE',\n        'REMOVE',\n        'UNDO',\n        'REDO',\n        'SHAKE',\n      ],\n      position: 'top',\n    })\n    const emplacementPourFigure = figureApigeom({\n      exercice: this,\n      i: 0,\n      figure: this.figure,\n    })\n    let texteCorr = 'Un rectangle est un quadrilatère qui a 4 angles droits.'\n    texteCorr += '<br>On peut tracer un rectangle de différentes façons.'\n    texteCorr +=\n      \"<br>Dans cette animation, on va tracer un quadrilatère avec 3 angles droits mais on n'aurait pu aussi ne faire qu'un angle droit et tracer des côtés opposés parallèles.\"\n    texteCorr +=\n      '<br>Pour faire un segment de longueur donnée, il faut obligatoirement un tracer un cercle de centre un point et de rayon la longueur du segment.'\n    const figureCorrection = createAnimationConstructionRectangle(\n      this.L,\n      this.l,\n    )\n    const emplacementPourFigureCorrection = figureApigeom({\n      animation: true,\n      exercice: this,\n      i: 0,\n      idAddendum: 'Correction',\n      figure: figureCorrection,\n    })\n    this.question = enonce + emplacementPourFigure\n    this.correction = texteCorr + emplacementPourFigureCorrection\n  }\n\n  correctionInteractive = () => {\n    if (this.answers == null) this.answers = {}\n    // Sauvegarde de la réponse pour Capytale\n    this.answers[this.figure.id] = this.figure.json\n    const resultat = []\n    let feedback = ''\n    // 1 point par angle droit + 1 point si tout est correct (on ne vérifie pas que le triangle est tracé)\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${0}`,\n    ) as HTMLDivElement\n    const { isValid, message } = this.figure.checkAngle({\n      angle: 90,\n      label1: 'A',\n      label2: 'B',\n      label3: 'C',\n    })\n    resultat.push(isValid ? 'OK' : 'KO')\n    if (message !== '') {\n      feedback += message + '<br>'\n    }\n    const { isValid: isValid2, message: message2 } = this.figure.checkAngle({\n      angle: 90,\n      label1: 'B',\n      label2: 'C',\n      label3: 'D',\n    })\n    resultat.push(isValid2 ? 'OK' : 'KO')\n    if (message2 !== '') {\n      feedback += message2 + '<br>'\n    }\n    const { isValid: isValid3, message: message3 } = this.figure.checkAngle({\n      angle: 90,\n      label1: 'C',\n      label2: 'D',\n      label3: 'A',\n    })\n    resultat.push(isValid3 ? 'OK' : 'KO')\n    if (message3 !== '') {\n      feedback += message3 + '<br>'\n    }\n    const { isValid: isValid4, message: message4 } = this.figure.checkDistance({\n      label1: 'A',\n      label2: 'B',\n      distance: this.L,\n    })\n    resultat.push(isValid4 ? 'OK' : 'KO')\n    if (message4 !== '') {\n      feedback += message4 + '<br>'\n    }\n    const { isValid: isValid5, message: message5 } = this.figure.checkDistance({\n      label1: 'B',\n      label2: 'C',\n      distance: this.l,\n    })\n    resultat.push(isValid5 ? 'OK' : 'KO')\n    if (message5 !== '') {\n      feedback += message5 + '<br>'\n    }\n    if (isValid && isValid2 && isValid3 && isValid4) {\n      feedback += 'Bravo !'\n    }\n    if (divFeedback) divFeedback.innerHTML = feedback\n    this.figure.setToolbar({ position: 'top', tools: ['DRAG', 'DESCRIPTION'] })\n    this.figure.buttons.get('SHAKE')?.click()\n    return resultat\n  }\n}\n\nexport default ConstructionRectangleDimensions\n\nfunction createAnimationConstructionRectangle(L: number, l: number): Figure {\n  const figure = new Figure({\n    xMin: 0,\n    yMin: 0,\n    width: 800,\n    height: 500,\n    border: true,\n  })\n  figure.setToolbar({\n    position: 'top',\n    tools: ['RESTART', 'PLAY_SKIP_BACK', 'PLAY', 'PLAY_SKIP_FORWARD', 'PAUSE'],\n  })\n  const description = figure.create('TextByPosition', {\n    anchor: 'bottomLeft',\n    backgroundColor: 'white',\n    text: `$AB=${L}$ donc le point $B$ est sur le cercle de centre $A$ et de rayon ${L}.`,\n    x: 10,\n    y: 15,\n  })\n  const A = figure.create('Point', { x: 3, y: 3, label: 'A' })\n  const cAL = figure.create('Circle', { center: A, radius: L })\n  const B = figure.create('PointOnCircle', {\n    circle: cAL,\n    angleWithHorizontal: 0.1,\n    label: 'B',\n  })\n  const sAB = figure.create('Segment', { point1: A, point2: B })\n  figure.saveState()\n  description.text = 'On peut cacher le cercle'\n  cAL.hide()\n  figure.saveState()\n  description.text =\n    'On trace la droite perpendiculaire à $(AB)$ passant par $B$.'\n  const dBC = figure.create('LinePerpendicular', { line: sAB, point: B })\n  figure.saveState()\n  description.text = `$BC=${l}$ donc le point $C$ est à une intersection de cette droite et du cercle de centre $B$ et de rayon ${l}.`\n  const cBl = figure.create('Circle', { center: B, radius: l })\n  const C = figure.create('PointIntersectionLC', {\n    line: dBC,\n    circle: cBl,\n    shape: 'x',\n    label: 'C',\n  })\n  figure.saveState()\n  description.text =\n    'On trace la droite perpendiculaire à $(BC)$ passant par $C$.'\n  const dCD = figure.create('LinePerpendicular', { line: dBC, point: C })\n  figure.saveState()\n  description.text =\n    'On trace la perpendiculaire à la droite $(AB)$ passant par $A$.'\n  const dAD = figure.create('LinePerpendicular', { line: sAB, point: A })\n  figure.saveState()\n  description.text =\n    \"On place un point $D$ à l'intersection de ces deux dernières droites en utilisant le bouton « Point à l'intersection » et non « Point libre ».\"\n  const D = figure.create('PointIntersectionLL', {\n    line1: dAD,\n    line2: dCD,\n    label: 'D',\n  })\n  figure.saveState()\n  description.text = 'On peut cacher le segment et les droites.'\n  sAB.hide()\n  dBC.hide()\n  dCD.hide()\n  dAD.hide()\n  figure.saveState()\n  description.text =\n    \"On peut tracer le quadrilatère $ABCD$. Comme il a 3 angles droits, c'est obligatoirement un rectangle.\"\n  figure.create('Polygon', { points: [A, B, C, D] })\n  figure.saveState()\n  return figure\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","refs","uuid","ConstructionRectangleDimensions","ExerciceSimple","__publicField","resultat","feedback","divFeedback","isValid","message","isValid2","message2","isValid3","message3","isValid4","message4","isValid5","message5","_a","Figure","randint","enonce","emplacementPourFigure","figureApigeom","texteCorr","figureCorrection","createAnimationConstructionRectangle","emplacementPourFigureCorrection","L","l","figure","description","A","cAL","B","sAB","dBC","cBl","C","dCD","dAD","D"],"mappings":"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"}