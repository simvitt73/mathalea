{"version":3,"file":"can1S09-C-Xp2Ie-.js","sources":["../../src/exercices/can/1e/can1S09.ts"],"sourcesContent":["import { choice } from '../../../lib/outils/arrayOutils'\nimport { texFractionFromString } from '../../../lib/outils/deprecatedFractions'\nimport { sp } from '../../../lib/outils/outilString'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport { listeQuestionsToContenu, randint } from '../../../modules/outils'\nimport Exercice from '../../Exercice'\n\nimport { remplisLesBlancs } from '../../../lib/interactif/questionMathLive'\nimport { arrondi } from '../../../lib/outils/nombres'\nimport { handleAnswers } from '../../../lib/interactif/gestionInteractif'\n\nexport const titre = 'Déterminer une relation de récurrence'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n// Les exports suivants sont optionnels mais au moins la date de publication semble essentielle\nexport const dateDePublication = '18/02/2022' // La date de publication initiale au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n\n/**\n * Modèle d'exercice très simple pour la course aux nombres\n * @author Gilles Mora\n\n */\nexport const uuid = '1eb6e'\n\nexport const refs = {\n  'fr-fr': ['can1S09'],\n  'fr-ch': ['autres-12'],\n}\nexport default class RelationRec extends Exercice {\n  constructor() {\n    super()\n\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const nomSuite = ['u', 'v', 'w']\n    const s = choice(nomSuite)\n    for (\n      let i = 0, texte, texteCorr, a, b, c, T, proportion, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      switch (\n        choice([1, 1, 2, 3, 4]) //\n      ) {\n        case 1: // magazine arithmetico-geo\n          a = randint(1, 30)\n          b = randint(1, 10) * 100\n          c = randint(5, 20) * 1000\n          texte = `Chaque année, un magazine perd $${a}${sp(1)}\\\\%$  de ses abonnés mais en gagne $${b}$ nouveaux.<br>\n          En $2020$, ce magazine compte $${texNombre(c)}$ abonnés.\n\n          On note, pour tout $n\\\\in\\\\mathbb{N}$, $${s}_{n}$ le nombre d'abonnés en $2020+n$.<br>`\n          if (this.interactif) {\n            texte += `On a alors  : $${s}_{n+1} = a~${s}_{n} + b$<br>avec `\n            texte += remplisLesBlancs(this, i, `a~=~%{champ1}~\\\\text{ et }~b~=~%{champ2}`)\n          } else {\n            texte += ` Donner le premier terme de cette suite et l'expression de $${s}_{n+1}$ en fonction de $${s}_{n}$.  `\n          }\n          texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-${texNombre(a / 100)}${s}_{n}}_{\\\\text{Perte de } ${a}${sp(1)}\\\\%} +${b}=${texNombre(1 - a / 100)}${s}_{n}+${b}$.<br>\n\n\n          Le premier terme de la suite est $${s}_{0}=${texNombre(c)}$ et  $${s}_{n+1}=${texNombre(1 - a / 100)}${s}_{n}+${b}$.<br>`\n          handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: arrondi(1 - a / 100) }, champ2: { value: b }})\n          this.canEnonce = texte\n          this.canReponseACompleter = ''\n          break\n\n        case 2: // magazine geo\n          a = randint(1, 15)\n          b = randint(1, 10) * 100\n          c = randint(5, 20) * 1000\n\n          texte = `Chaque année, un magazine perd $${a}${sp()} \\\\%$  de ses abonnés.<br>\n          En $2020$, ce magazine compte $${texNombre(c)}$ abonnés.\n          On note, pour tout $n\\\\in\\\\mathbb{N}$, $${s}_{n}$ le nombre d'abonnés en $2020+n$.<br>`\n          if (this.interactif) {\n           texte += `On a alors  : $${s}_{n+1} = a~${s}_{n} + b$<br>avec `\n           texte += remplisLesBlancs(this, i, `a~=~%{champ1}~\\\\text{ et }~b~=~%{champ2}`)\n          } else {\n            texte += ` Donner le premier terme de cette suite et l'expression de $${s}_{n+1}$ en fonction de $${s}_{n}$.  `\n          }\n\n          texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-${texNombre(a / 100)}${s}_{n}}_{\\\\text{Perte de } ${a}${sp(1)}\\\\%} =${texNombre(1 - a / 100)}${s}_{n}$.<br>\n\n\n          Le premier terme de la suite est $${s}_{0}=${texNombre(c)}$ et  $${s}_{n+1}=${texNombre(1 - a / 100)}${s}_{n}$.<br>`\n          handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: arrondi(1 - a / 100) }, champ2: { value: 0 }})\n\n          this.canEnonce = texte\n          this.canReponseACompleter = ''\n          break\n\n        case 3: // magazine arith\n          a = randint(1, 15) * 100\n          b = randint(1, 10) * 100\n          c = randint(5, 20) * 1000\n          texte = `Chaque année, un magazine perd $${a}$ abonnés.<br>\n          En $2020$, ce magazine compte $${texNombre(c)}$ abonnés.\n          On note, pour tout $n\\\\in\\\\mathbb{N}$, $${s}_{n}$ le nombre d'abonnés en $2020+n$.<br>`\n          if (this.interactif) {\n           texte += `On a alors  : $${s}_{n+1} = a~${s}_{n} + b$<br>avec `\n           texte += remplisLesBlancs(this, i, `a~=~%{champ1}~\\\\text{ et }~b~=~%{champ2}`)\n          } else {\n            texte += ` Donner le premier terme de cette suite et l'expression de $${s}_{n+1}$ en fonction de $${s}_{n}$.  `\n          }\n\n          texteCorr = `On a $${s}_{n+1}=${s}_{n}-${a}$.<br>\n          Le premier terme de la suite est $${s}_{0}=${texNombre(c)}$ et  $${s}_{n+1}=${s}_{n}-${a}$.<br>`\n          handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: 1 }, champ2: { value: -a }})\n\n          this.canEnonce = texte\n          this.canReponseACompleter = ''\n          break\n        case 4:\n        default: // magazine arith/geo avec tiers....\n          proportion = [\n            'le quart',\n            'le tiers',\n            'le dixième',\n            'le cinquième',\n            'la moitié',\n          ] //\n          a = randint(1, 15) * 100\n          b = randint(1, 10) * 100\n          c = randint(5, 20) * 1000\n          T = choice(proportion)\n          texte = `Chaque année, un magazine perd ${T}  de ses abonnés mais en gagne $${b}$ nouveaux.<br>\n          En $2020$, ce magazine compte $${texNombre(c)}$ abonnés.\n          On note, pour tout $n\\\\in\\\\mathbb{N}$, $${s}_{n}$ le nombre d'abonnés en $2020+n$.<br>`\n          if (this.interactif) {\n           texte += `On a alors  : $${s}_{n+1} = a~${s}_{n} + b$<br>avec `\n           texte += remplisLesBlancs(this, i, `a~=~%{champ1}~\\\\text{ et }~b~=~%{champ2}`)\n          } else {\n            texte += ` Donner le premier terme de cette suite et l'expression de $${s}_{n+1}$ en fonction de $${s}_{n}$.  `\n          }\n          if (T === 'le quart') {\n            texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-\\\\dfrac{1}{4}${s}_{n}}_{\\\\text{Perte du quart }} +${b}=0,75${s}_{n}+${b}$.<br>\n\n          Le premier terme de la suite est $${s}_{0}=${c}$ et  $${s}_{n+1}=0,75${s}_{n}+${b}$.<br>`\n          } else if (T === 'le tiers') {\n            texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-\\\\dfrac{1}{3}${s}_{n}}_{\\\\text{Perte du tiers }} +${b}=\\\\dfrac{2}{3}${s}_{n}+${b}$.<br>\n\n          Le premier terme de la suite est $${s}_{0}=${c}$ et  $${s}_{n+1}=\\\\dfrac{2}{3}${s}_{n}+${b}$.<br>`\n          } else if (T === 'le cinquième') {\n            texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-\\\\dfrac{1}{5}${s}_{n}}_{\\\\text{Perte du cinquième }} +${b}=0,8${s}_{n}+${b}$.<br>\n\n          Le premier terme de la suite est $${s}_{0}=${c}$ et  $${s}_{n+1}=0,8${s}_{n}+${b}$.<br>`\n          } else if (T === 'le dixième') {\n            texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-\\\\dfrac{1}{10}${s}_{n}}_{\\\\text{Perte du dixième }} +${b}=0,9${s}_{n}+${b}$.<br>\n\n          Le premier terme de la suite est $${s}_{0}=${c}$ et  $${s}_{n+1}=0,9${s}_{n}+${b}$.<br>`\n          } else {\n            texteCorr = `On a $${s}_{n+1}=\\\\underbrace{${s}_{n}-\\\\dfrac{1}{2}${s}_{n}}_{\\\\text{Perte de la moitié }} +${b}=0,5${s}_{n}+${b}$.<br>\n\n          Le premier terme de la suite est $${s}_{0}=${c}$ et  $${s}_{n+1}=0,5${s}_{n}+${b}$.<br>`\n          }\n\n          if (T === 'la moitié') {\n            handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: ['0,5', `${texFractionFromString(1, 2)}`] }, champ2: { value: b }})\n          }\n\n          if (T === 'le quart') {\n            handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: ['0,75', `${texFractionFromString(3, 4)}`] }, champ2: { value: b }})\n\n          }\n          if (T === 'le tiers') {\n            handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: [`${texFractionFromString(2, 3)}`] }, champ2: { value: b }})\n          }\n          if (T === 'le cinquième') {\n            handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: ['0,8', `${texFractionFromString(4, 5)}`] }, champ2: { value: b }})\n          }\n          if (T === 'le dixième') {\n            handleAnswers(this, i, { bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1], champ1: { value: ['0,9', `${texFractionFromString(9, 10)}`] }, champ2: { value: b }})\n          }\n\n          this.canEnonce = texte\n          this.canReponseACompleter = ''\n          break\n      }\n\n      if (this.questionJamaisPosee(i, a, b)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","RelationRec","Exercice","s","choice","texte","texteCorr","a","b","c","T","proportion","cpt","randint","sp","texNombre","remplisLesBlancs","handleAnswers","listePoints","arrondi","texFractionFromString","listeQuestionsToContenu"],"mappings":"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"}