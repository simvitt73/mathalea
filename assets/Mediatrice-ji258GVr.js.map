{"version":3,"file":"Mediatrice-ji258GVr.js","sources":["../../src/lib/2d/Mediatrice.ts"],"sourcesContent":["import { codageMediatrice } from './CodageMediatrice'\nimport { codageSegments } from './CodageSegment'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { Droite } from './droites'\nimport type { IDroite } from './Interfaces'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { traceCompas } from './traceCompas'\nimport { rotation } from './transformations'\nimport { longueur } from './utilitairesGeometriques'\nimport { milieu, pointSurSegment } from './utilitairesPoint'\n\n/**\n * Trace la médiatrice d'un segment, en laissant éventuellement apparents les traits de construction au compas\n * @param {PointAbstrait} A Première extrémité du segment\n * @param {PointAbstrait} B Seconde extrémité du segment\n * @param {string} [nom = ''] Nom affiché de la droite\n * @param {string} [couleurMediatrice = 'red'] Couleur de la médiatrice : du type 'blue' ou du type '#f15929'\n * @param {string} [color='blue'] Couleur du codage : du type 'blue' ou du type '#f15929'.\n * @param {string} [couleurConstruction = 'black'] Couleur des traits de construction : du type 'blue' ou du type '#f15929'.\n * @param {boolean} [construction = false] Si construction est true, alors on affiche le codage et aussi les coups de compas utiles à la construction.\n * @param {boolean} [detail = false] Si detail est true, alors on affiche aussi en pointillés les rayons utiles à la construction.\n * @param {string} [markmilieu = 'x'] Symbole posé sur les deux parties du segment\n * @param {string} [markrayons = '||'] Symbole posé sur les quatre rayons (si détail est true)\n * @param {number} [epaisseurMediatrice = 1] Epaisseur de la médiatrice\n * @param {number} [opaciteMediatrice = 1] Taux d'opacité de la médiatrice\n * @param {number} [pointillesMediatrice = 0] Si cette valeur est entre 1 et 5, la médiatrice est en pointillés\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} svgml Sortie, à main levée, au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {string} tikzml Sortie, à main levée, au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {string} color Couleur du codage. À associer obligatoirement à colorToLatexOrHTML().\n * @property {string} couleurMediatrice Couleur de la médiatrice : du type 'blue' ou du type '#f15929'\n * @property {number} epaisseurMediatrice Epaisseur de la médiatrice\n * @property {number} opaciteMediatrice Taux d'opacité de la médiatrice\n * @property {number} pointillesMediatrice Si cette valeur est entre 1 et 5, la médiatrice est en pointillés\n * @property {string} couleurConstruction Couleur des traits de construction : du type 'blue' ou du type '#f15929'.\n * @return {Mediatrice|Droite}\n * @class\n */\n// JSDOC Validee par EE Juin 2022\n\nexport class Mediatrice extends ObjetMathalea2D implements IDroite {\n  couleurMediatrice?: string\n  epaisseurMediatrice?: number\n  opaciteMediatrice?: number\n  pointillesMediatrice?: number\n  couleurConstruction?: string\n  x1: number\n  y1: number\n  x2: number\n  y2: number\n  a: number\n  b: number\n  c: number\n  pente: number\n  angleAvecHorizontale: number\n  nom: string\n\n  constructor(\n    A: PointAbstrait,\n    B: PointAbstrait,\n    nom = '',\n    couleurMediatrice = 'red',\n    color = 'blue',\n    couleurConstruction = 'black',\n    construction = false,\n    detail = false,\n    markmilieu = '×',\n    markrayons = '||',\n    epaisseurMediatrice = 1,\n    opaciteMediatrice = 1,\n    pointillesMediatrice = 0,\n  ) {\n    super()\n    const O = milieu(A, B)\n    const m = rotation(A, O, 90)\n    const n = rotation(A, O, -90)\n    const M = pointSurSegment(O, m, longueur(A, B) * 0.785)\n    const N = pointSurSegment(O, n, longueur(A, B) * 0.785)\n    const d = new Droite(M, N, nom, couleurMediatrice)\n    this.x1 = d.x1\n    this.y1 = d.y1\n    this.x2 = d.x2\n    this.y2 = d.y2\n    this.a = d.a\n    this.b = d.b\n    this.c = d.c\n    this.pente = d.pente\n    this.nom = d.nom\n    this.angleAvecHorizontale = d.angleAvecHorizontale\n    if (arguments.length < 5) {\n      // Si on n'a que 2 arguments, on retourne juste une Droite\n      this.color = colorToLatexOrHTML(couleurMediatrice)\n      this.pointilles = pointillesMediatrice\n      this.opacite = opaciteMediatrice\n      this.epaisseur = epaisseurMediatrice\n      return d // Si il n'y a pas s'objets supplémentaires, il faut créer un objet Droite\n    } else {\n      if (longueur(A, B) < 0.1) {\n        window.notify(\n          'ConstructionMediatrice : Points trop rapprochés pour créer cet objet',\n          {\n            A,\n            B,\n          },\n        )\n      }\n      this.color = colorToLatexOrHTML(color)\n      this.couleurMediatrice = couleurMediatrice\n      this.epaisseurMediatrice = epaisseurMediatrice\n      this.opaciteMediatrice = opaciteMediatrice\n      this.pointillesMediatrice = pointillesMediatrice\n      this.couleurConstruction = couleurConstruction\n      this.epaisseur = 1\n      d.epaisseur = this.epaisseurMediatrice\n      d.opacite = this.opaciteMediatrice\n      d.pointilles = this.pointillesMediatrice\n      if (!construction && !detail) return d // Si il n'y a pas s'objets supplémentaires, il faut créer un objet Droite\n      this.objets = [d]\n      if (construction) {\n        const arcm1 = traceCompas(A, M, 20, this.couleurConstruction)\n        const arcm2 = traceCompas(B, M, 20, this.couleurConstruction)\n        const arcn1 = traceCompas(A, N, 20, this.couleurConstruction)\n        const arcn2 = traceCompas(B, N, 20, this.couleurConstruction)\n        const codage = codageMediatrice(\n          A,\n          B,\n          this.couleurMediatrice,\n          markmilieu,\n        )\n        this.objets.push(arcm1, arcm2, arcn1, arcn2, d, codage)\n      }\n      if (detail) {\n        const sAM = segment(A, M, this.couleurConstruction)\n        sAM.pointilles = 5\n        const sBM = segment(B, M, this.couleurConstruction)\n        sBM.pointilles = 5\n        const sAN = segment(A, N, this.couleurConstruction)\n        sAN.pointilles = 5\n        const sBN = segment(B, N, this.couleurConstruction)\n        sBN.pointilles = 5\n        const codes = codageSegments(\n          markrayons,\n          this.couleurConstruction,\n          A,\n          M,\n          B,\n          M,\n          A,\n          N,\n          B,\n          N,\n        )\n        this.objets.push(sAM, sBM, sAN, sBN, codes)\n      }\n    }\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    code = `<g id=\"${this.id}\">${code}</g>`\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n\n  svgml(coeff: number, amp: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      if (typeof objet.svgml === 'undefined') code += '\\n\\t' + objet.svg(coeff)\n      else code += '\\n\\t' + objet.svgml(coeff, amp)\n    }\n    return code\n  }\n\n  tikzml(amp: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      if (typeof objet.tikzml === 'undefined') code += '\\n\\t' + objet.tikz()\n      else code += '\\n\\t' + objet.tikzml(amp)\n    }\n    return code\n  }\n}\n/**\n * Trace la médiatrice d'un segment, en laissant éventuellement apparents les traits de construction au compas\n * @param {Point} A Première extrémité du segment\n * @param {Point} B Seconde extrémité du segment\n * @param {string} [nom=''] Nom affiché de la droite\n * @param {string} [couleurMediatrice = 'red'] Couleur de la médiatrice : du type 'blue' ou du type '#f15929'\n * @param {string} [color='blue'] Couleur du codage : du type 'blue' ou du type '#f15929'.\n * @param {string} [couleurConstruction='black'] Couleur des traits de construction : du type 'blue' ou du type '#f15929'.\n * @param {boolean} [construction=false] Si construction est true, alors on affiche le codage et aussi les coups de compas utiles à la construction.\n * @param {boolean} [detail=false] Si detail est true, alors on affiche aussi en pointillés les rayons utiles à la construction.\n * @param {string} [markmilieu='x'] Symbole posé sur les deux parties du segment\n * @param {string} [markrayons='||'] Symbole posé sur les quatre rayons (si détail est true)\n * @param {number} [epaisseurMediatrice = 1] Epaisseur de la médiatrice\n * @param {number} [opaciteMediatrice = 1] Taux d'opacité de la médiatrice\n * @param {number} [pointillesMediatrice = 0] Si cette valeur est entre 1 et 5, la médiatrice est en pointillés\n * @example mediatrice(M,N)\n * // Trace, en rouge, la médiatrice du segment[MN], d'épaisseur 1, avec une opacité de 100 % sans autre option\n * @example mediatrice(M,N,'d','blue')\n * // Trace, en bleu, la médiatrice du segment[MN], d'épaisseur 1, avec une opacité de 100 % et qui s'appelle 'd'\n * @example mediatrice(M,N,'','blue','red','green',true,true,'OO','XX',2,0.5,3)\n * // Trace, en bleu, la médiatrice du segment[MN], d'épaisseur 2, avec une opacité de 50 % sans nom\n * // Les traits de construction sont dessinés en vert avec la marque 'OO' pour le segment initial et la marque 'XX' pour les rayons, toutes ces marques étant rouge.\n * @author Rémi Angot {amendée par Eric Elter en juin 2022}\n * @return {Mediatrice|Droite}\n */\n// JSDOC Validee par EE Juin 2022\n\nexport function mediatrice(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  nom = '',\n  couleurMediatrice = 'red',\n  color = 'blue',\n  couleurConstruction = 'black',\n  construction = false,\n  detail = false,\n  markmilieu = '×',\n  markrayons = '||',\n  epaisseurMediatrice = 1,\n  opaciteMediatrice = 1,\n  pointillesMediatrice = 0,\n) {\n  if (arguments.length < 5) return new Mediatrice(A, B, nom, couleurMediatrice)\n  else\n    return new Mediatrice(\n      A,\n      B,\n      nom,\n      couleurMediatrice,\n      color,\n      couleurConstruction,\n      construction,\n      detail,\n      markmilieu,\n      markrayons,\n      epaisseurMediatrice,\n      opaciteMediatrice,\n      pointillesMediatrice,\n    )\n}\n"],"names":["Mediatrice","ObjetMathalea2D","A","B","nom","couleurMediatrice","color","couleurConstruction","construction","detail","markmilieu","markrayons","epaisseurMediatrice","opaciteMediatrice","pointillesMediatrice","__publicField","O","milieu","m","rotation","n","M","pointSurSegment","longueur","N","d","Droite","colorToLatexOrHTML","arcm1","traceCompas","arcm2","arcn1","arcn2","codage","codageMediatrice","sAM","segment","sBM","sAN","sBN","codes","codageSegments","coeff","code","objet","amp","mediatrice"],"mappings":"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"}