{"version":3,"file":"TSA5-07-o5DpCtC-.js","sources":["../../src/exercices/TSpe/TSA5-07.ts"],"sourcesContent":["import Exercice from '../Exercice'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { pgcd } from '../../lib/outils/primalite'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { sp } from '../../lib/outils/outilString'\n\nexport const titre = \"Résolution d'équations du type $x^a = b$\"\nexport const dateDePublication = '28/08/2024'\nexport const dateDeModifImportante = '28/08/2024'\nexport const uuid = '364dd'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const refs = {\n  'fr-fr': ['TSA5-07'],\n  'fr-ch': [],\n}\n\n/**\n *  : Résolution d'équations du type x^a = b\n * @author Claire Rousset\n\n */\nexport default class EquationsLog extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 5\n    if (this.nbQuestions === 1) {\n      this.consigne = \"Résoudre dans $\\\\R$ l'équation suivante.\"\n    } else {\n      this.consigne = 'Résoudre dans $\\\\R$ les équations suivantes.'\n    }\n    this.spacingCorr = 3\n    this.besoinFormulaireTexte = [\n      'Type de correction',\n      '1 : Correction avec la racine \\n2 : Correction avec le log  \\n3 : Correction avec le ln',\n    ]\n    this.sup = '1'\n  }\n\n  estRationnel(\n    a: number,\n    b: number,\n    tolerance: number = 1e-5,\n  ): number | [number, number] | null {\n    const racinenieme = b ** (1 / a)\n    const maxDenominator = 100 // Précision\n    let bestNumerator = 0\n    let bestDenominator = 1\n    let minError = Math.abs(racinenieme - bestNumerator / bestDenominator)\n    for (let denominator = 1; denominator <= maxDenominator; denominator++) {\n      const numerator = Math.round(racinenieme * denominator)\n      const currentError = Math.abs(racinenieme - numerator / denominator)\n      if (currentError < minError) {\n        bestNumerator = numerator\n        bestDenominator = denominator\n        minError = currentError\n      }\n      if (currentError < tolerance) {\n        break\n      }\n    }\n    if (minError < tolerance) {\n      // Simplifie la fraction\n      const commonDivisor = pgcd(bestNumerator, bestDenominator)\n      if (bestDenominator === 1) {\n        return bestNumerator // Retourne le numérateur si le dénominateur est 1\n      } else {\n        return [bestNumerator / commonDivisor, bestDenominator / commonDivisor]\n      }\n    }\n    return null // N'est pas une fraction selon la tolérance\n  }\n\n  nouvelleVersion() {\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let racinenieme = ''\n      let strResult1 = ''\n      // const a = randint(2, 9) en attendant que la fonction de comparaison soit réparée.\n      const a = randint(3, 9)\n      const b = randint(1, 9, a)\n      const result1 = this.estRationnel(a, b)\n      let typeLog = ''\n      let answer = ''\n      let reponse = ''\n\n      // Définition de l'écriture en racine\n      if (a === 2) {\n        racinenieme = `\\\\sqrt{${b}}`\n      } else {\n        racinenieme = `\\\\sqrt[${a}]{${b}}`\n      }\n\n      // Définition du résultat\n      if (this.sup === '1') {\n        if (result1 != null) {\n          strResult1 = `${result1}`\n        } else {\n          strResult1 = `${racinenieme}`\n        }\n      } else {\n        if (result1 == null && a !== 2) {\n          strResult1 = `${b}^{\\\\frac{1}{${a}}}`\n        } else if (result1 === null && a === 2) {\n          strResult1 = `${racinenieme}`\n        } else {\n          strResult1 = `${result1}`\n        }\n      }\n\n      // Définition du type de logarithme\n      if (this.sup === '2') {\n        typeLog = '$log$'\n      }\n      if (this.sup === '3') {\n        typeLog = '$ln$'\n      }\n\n      const justification1 = `pour tout réel $a$ strictement positif et pour tout entier $n$, ${sp()} $${typeLog}\\\\left(a^n\\\\right)=n \\\\times ${typeLog}\\\\left(a\\\\right)$`\n      texte = `$x^${a} = ${b}$`\n\n      // Définition de answer\n      if (a % 2 === 0) {\n        reponse = `${miseEnEvidence('\\\\{-')} ${miseEnEvidence(`${strResult1} ;`)}  ${miseEnEvidence(`${strResult1}\\\\}`)} `\n        answer = `\\\\{-${strResult1};${strResult1}\\\\}`\n      } else {\n        reponse = `${miseEnEvidence(`\\\\{${strResult1}\\\\}`)}`\n        answer = `\\\\{${strResult1}\\\\}`\n      }\n\n      if (this.sup === '1') {\n        if (a % 2 === 0) {\n          texteCorr =\n            \"Pour tous réels $a$ et $b$ strictement positifs, on sait que, si $a$ est pair, alors l'équation $x^a=b$ admet deux solutions : $\\\\sqrt[a]{b}$ et $-\\\\sqrt[a]{b}$ .\"\n          if (a === 2) {\n            texteCorr += `<br> Ainsi, $x^${a} = ${b} \\\\iff x=- \\\\sqrt{${b}}$ ou $x=\\\\sqrt{${b}}$`\n          } else {\n            texteCorr += `<br> Ainsi, ${sp()} $x^${a} = ${b} \\\\iff x=-${racinenieme}$ ou $x= ${racinenieme}$`\n          }\n          texteCorr +=\n            result1 == null\n              ? ''\n              : `<br> Or, ${sp()} $-${racinenieme} = - ${strResult1} $ et $ ${racinenieme}= ${strResult1} $`\n          texteCorr += `<br> D'où, ${sp()} $S=${reponse}$`\n        } else {\n          texteCorr =\n            \"Pour tous réels $a$ et $b$ strictement positifs, on sait que, si $a$ est impair, alors l'équation $x^a=b$ admet une unique solution qui est $\\\\sqrt[a]{b}$.\"\n          texteCorr += `<br> Ainsi, ${sp()} $x^${a} = ${b} \\\\iff x=${racinenieme}$`\n          texteCorr +=\n            result1 == null\n              ? ''\n              : `<br> Or, ${sp()} $${racinenieme} = ${strResult1}. $`\n          texteCorr += `<br> D'où, ${sp()} $S=${reponse}$`\n        }\n      } else {\n        texteCorr = `On sait que, pour tous réels $a$ et $b$ strictement positifs, $a=b$ si, et seulement si, $${typeLog}(a)=${sp()} ${typeLog}(b)$ et que ${justification1}.`\n        texteCorr += '<br>Ainsi, pour tout $x$ strictement positif, on a :'\n        texteCorr += `<br> $x^${a} = ${b} \\\\iff ${typeLog}(x^${a})=${sp()} ${typeLog}(${b})$`\n        texteCorr += `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff ${a} ${typeLog}(x) = ${sp()} ${typeLog}(${b})$ `\n        texteCorr += `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff ${typeLog}(x) = \\\\dfrac{1}{${a}}${typeLog}(${b})$`\n        texteCorr += `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff ${typeLog}(x) = ${sp()} ${typeLog}(${b}^{\\\\frac{1}{${a}}})$`\n        texteCorr += `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff x = ${b}^{\\\\frac{1}{${a}}}$`\n        if (a === 2) {\n          texteCorr +=\n            result1 == null\n              ? ''\n              : `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff x = ${strResult1}$ ${sp()} car ${sp()} $${b}^{\\\\frac{1}{${a}}} = ${racinenieme} =${strResult1}$.`\n        } else {\n          texteCorr +=\n            result1 == null\n              ? ''\n              : `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff x = ${strResult1}$ ${sp()} car ${sp()} $${b}^{\\\\frac{1}{${a}}} = ${strResult1}$.`\n        }\n        if (result1 === null && a === 2) {\n          texteCorr += `<br> $\\\\phantom{x^${a} = ${b}} \\\\iff x = ${strResult1}$`\n        }\n        if (a % 2 === 0) {\n          texteCorr += `<br>De plus, $${a}$ est pair, donc l'équation admet deux solutions dans $\\\\R$ : $- ${strResult1}$ et $${strResult1}$`\n        } else {\n          texteCorr += `<br>De plus, $${a}$ est impair, donc l'équation admet une unique solution dans $\\\\R$ : $${strResult1}$. `\n        }\n        texteCorr += `<br> D'où, ${sp()} $S=${reponse}$`\n      }\n\n      if (this.interactif) {\n        handleAnswers(this, i, {\n          reponse: { value: answer, options: { ensembleDeNombres: true } },\n        })\n        texte += '<br>'\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFonctionsTerminales,\n          { texteAvant: '$S=$' },\n        )\n      }\n      if (this.questionJamaisPosee(i, a, b)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","uuid","interactifReady","interactifType","refs","EquationsLog","Exercice","b","tolerance","racinenieme","maxDenominator","bestNumerator","bestDenominator","minError","denominator","numerator","currentError","commonDivisor","pgcd","i","cpt","texte","texteCorr","strResult1","a","randint","result1","typeLog","answer","reponse","justification1","sp","miseEnEvidence","handleAnswers","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}