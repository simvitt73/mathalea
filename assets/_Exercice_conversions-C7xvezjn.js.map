{"version":3,"file":"_Exercice_conversions-C7xvezjn.js","sources":["../../src/exercices/6e/_Exercice_conversions.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { texTexte } from '../../lib/format/texTexte'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  choice,\n  combinaisonListes,\n  compteOccurences,\n} from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { rangeMinMax } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { fraction } from '../../modules/fractions'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDeModifImportante = '28/07/2025' // Rajout du paramètre this.sup3  et de la correction détaillée\n\n/**\n * Conversions  mètres, litres, grammes, octets (et euros pour la version LaTeX) en utilisant le préfixe pour déterminer la multiplication ou division à faire.\n *\n * * 1 : De da, h, k vers l'unité de référence\n * * 2 : De d, c, m vers l'unité de référence\n * * 3 : Multiplications ou divisions vers l'unité de référence\n * * 4 : Conversions d'octets\n * * 5 : Un mélange de toutes les conversions\n * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)\n * @author Rémi Angot\n * Relecture : Novembre 2021 par EE\n */\n\ntype Unite = 'm' | 'g' | '€' | 'L' | 'o' | 'octets' | 'ko' | 'Mo' | 'Go' | 'To'\n\ninterface Traduction {\n  singulier: string\n  pluriel: string\n}\n\n/**\n * Traduit un symbole d'unité en ses équivalents français au singulier et au pluriel.\n *\n * @param symbole - Le symbole de l’unité à traduire : `'m'` pour mètre, `'g'` pour gramme, `'€'` pour euro, ou `'L'` pour litre.\n * @returns Un objet contenant les formes singulière et plurielle en français.\n * @author Eric Elter\n * @throws {Error} Si le symbole fourni n’est pas pris en charge.\n *\n * @example\n * unit = traduireUnite('€');\n * // unit.singulier --> \"euro\"\n * // unit.pluriel --> \"euros\"\n */\nfunction traduireUnite(symbole: Unite): Traduction {\n  switch (symbole) {\n    case 'm':\n      return { singulier: 'mètre', pluriel: 'mètres' }\n    case 'g':\n      return { singulier: 'gramme', pluriel: 'grammes' }\n    case '€':\n      return { singulier: 'euro', pluriel: 'euros' }\n    case 'L':\n      return { singulier: 'litre', pluriel: 'litres' }\n    case 'o':\n      return { singulier: 'octet', pluriel: 'octets' }\n    default:\n      throw new Error(`Symbole inconnu : ${symbole}`)\n  }\n}\n\nexport default class ExerciceConversions extends Exercice {\n  correction_avec_des_fractions: boolean\n  valUnitaire: boolean\n  constructor(niveau = 1) {\n    super()\n    this.sup = niveau // Niveau de difficulté de l'exercice\n    this.sup2 = false // Avec des nombres décimaux ou pas\n    this.titre =\n      'Convertir des longueurs, masses, contenance, prix ou unités informatiques'\n    this.consigne = 'Compléter.'\n    this.spacing = 2\n    this.correction_avec_des_fractions = false\n    this.valUnitaire = false\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      5,\n      \"1 : De da, h, k vers l'unité de référence\\n2 : De d, c, m vers l'unité de référence\\n3 : Multiplications ou divisions vers l'unité de référence\\n4 : Conversions avec les octets\\n5 : Mélange\",\n    ]\n    this.besoinFormulaire2CaseACocher = ['Avec des nombres décimaux']\n    this.besoinFormulaire3CaseACocher = [\"Qu'avec des unités de longueurs\"]\n    this.sup3 = false\n    this.besoinFormulaire4CaseACocher = [\n      'Avec possiblement des fractions dans la correction',\n    ]\n    this.sup4 = false\n    this.correctionDetaillee = true\n    this.correctionDetailleeDisponible = false\n    this.comment =\n      'Le paramètre qui permet de ne choisir que des unités de longueurs devient caduque si, à un paramètre précédent, on choisit de convertir des unités de stockage informatique.'\n  }\n\n  nouvelleVersion() {\n    this.correction_avec_des_fractions = this.sup4\n\n    const prefixeMulti = [\n      ['da', 10, 'déca', 'une dizaine de'],\n      ['h', 100, 'hecto', 'une centaine de'],\n      ['k', 1000, 'kilo', 'un millier de'],\n    ]\n    const prefixeDiv = [\n      ['d', 10, 'déci', 'un dixième de'],\n      ['c', 100, 'centi', 'un centième de'],\n      ['m', 1000, 'milli', 'un millième de'],\n    ]\n    let listeDesProblemes = []\n    listeDesProblemes[0] = this.sup\n    if (compteOccurences(listeDesProblemes, 5) > 0)\n      listeDesProblemes = rangeMinMax(1, 4) // Teste si l'utilisateur a choisi tout\n    listeDesProblemes = combinaisonListes(listeDesProblemes, this.nbQuestions)\n    const listeDesOperations = combinaisonListes(\n      [true, false],\n      this.nbQuestions,\n    )\n    for (\n      let i = 0,\n        val,\n        k,\n        div,\n        resultat,\n        texte,\n        texteCorr,\n        listeUniteInfo: Unite[] = [],\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      // On limite le nombre d'essais pour chercher des valeurs nouvelles\n      k = randint(0, 2) // Choix du préfixe\n      texteCorr = ''\n      switch (listeDesProblemes[i]) {\n        case 2:\n          div = true // Avec des divisions\n          break\n        case 3:\n          div = listeDesOperations[i] // Avec des multiplications ou des divisions\n          break\n        case 4:\n          listeUniteInfo = ['octets', 'ko', 'Mo', 'Go', 'To']\n          break\n        case 1:\n        default:\n          div = false // Il n'y aura pas de division\n          break\n      }\n      let nbChiffreArrondi = 0\n      if (this.valUnitaire) val = new Decimal(1)\n      else if (this.sup2) {\n        // Si la case pour les nombres décimaux est cochée\n        nbChiffreArrondi = 2\n        val = choice([\n          new Decimal(randint(1, 9)).div(10).add(randint(1, 19)),\n          new Decimal(randint(1, 9)).div(10),\n          new Decimal(randint(1, 9)).div(100),\n          new Decimal(\n            randint(1, 9) * 100 + randint(1, 9) * 10 + randint(1, 9),\n          ).div(100),\n        ])\n        // XX,X 0,X 0,0X X,XX\n      } else {\n        nbChiffreArrondi = 0\n        val = new Decimal(\n          choice([\n            randint(1, 9),\n            randint(1, 9) * 10,\n            randint(1, 9) * 100,\n            randint(1, 9) * 10 + randint(1, 9),\n          ]),\n        )\n        // X, X0, X00, XX\n      }\n      let unite: Unite = this.sup3 ? 'm' : choice(['m', 'L', 'g'])\n      if (!div && listeDesProblemes[i] < 4) {\n        // S'il faut multiplier pour convertir\n        // Choix de l'unité spécifique\n        if (k === 2) {\n          unite = this.sup3 ? 'm' : choice(['m', 'g', '€']) // on supprime les kL mais on accepte les k€.\n        } else if (k > 2) {\n          unite = 'o'\n        }\n\n        resultat = val.mul(prefixeMulti[k][1])\n        texte =\n          '$ ' +\n          texNombre(val, nbChiffreArrondi) +\n          texTexte(prefixeMulti[k][0] + unite) +\n          ' = ' +\n          (this.interactif && context.isHtml\n            ? `$ ${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: '$' + texTexte(unite) + '$' })}`\n            : `\\\\dotfill ${texTexte(unite)}$`)\n\n        texteCorr =\n          '$ ' +\n          texNombre(val, nbChiffreArrondi) +\n          texTexte(prefixeMulti[k][0] + unite) +\n          ' =  ' +\n          texNombre(val, nbChiffreArrondi) +\n          '\\\\times' +\n          texNombre(Number(prefixeMulti[k][1]), nbChiffreArrondi) +\n          texTexte(unite) +\n          ' = ' +\n          texNombre(resultat, Math.max(0, nbChiffreArrondi - k - 1)) +\n          texTexte(unite) +\n          '$'\n      } else if (\n        div &&\n        listeDesProblemes[i] < 4 &&\n        this.correction_avec_des_fractions\n      ) {\n        resultat = val.div(prefixeDiv[k][1])\n        texte =\n          '$ ' +\n          texNombre(val, nbChiffreArrondi) +\n          texTexte(prefixeDiv[k][0] + unite) +\n          ' = ' +\n          (this.interactif && context.isHtml\n            ? `$ ${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: ' $' + texTexte(unite) + '$' })}`\n            : ` \\\\dotfill ${texTexte(unite)}$`)\n        texteCorr =\n          '$ ' +\n          texNombre(val, nbChiffreArrondi) +\n          texTexte(prefixeDiv[k][0] + unite) +\n          ' =  ' +\n          fraction(val.toNumber(), Number(prefixeDiv[k][1])).texFraction +\n          texTexte(unite) +\n          ' = ' +\n          texNombre(resultat, nbChiffreArrondi + 3) +\n          texTexte(unite) +\n          '$'\n      } else if (div && listeDesProblemes[i] < 4) {\n        resultat = val.div(prefixeDiv[k][1])\n        texte =\n          '$ ' +\n          texNombre(val, nbChiffreArrondi) +\n          texTexte(prefixeDiv[k][0] + unite) +\n          ' = ' +\n          (this.interactif && context.isHtml\n            ? `$ ${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: ' $' + texTexte(unite) + '$' })}`\n            : ` \\\\dotfill ${texTexte(unite)}$`)\n        texteCorr =\n          '$ ' +\n          texNombre(val, nbChiffreArrondi) +\n          texTexte(prefixeDiv[k][0] + unite) +\n          ' =  ' +\n          texNombre(val, nbChiffreArrondi) +\n          '\\\\div' +\n          texNombre(Number(prefixeDiv[k][1]), 0) +\n          texTexte(unite) +\n          ' = ' +\n          texNombre(resultat, nbChiffreArrondi + k + 1) +\n          texTexte(unite) +\n          '$'\n      } else {\n        // pour type de question = 4\n        if (!Array.isArray(listeUniteInfo)) {\n          listeUniteInfo = ['octets', 'ko', 'Mo', 'Go', 'To']\n        }\n        div = !this.sup2 ? false : listeDesOperations[i] // Pas de décimaux ? Alors que des multiplications\n        let unite1 // unité de résultat\n        let unite2 // unité du départ\n        if (!div) {\n          unite2 = randint(1, 4)\n          unite1 = randint(0, unite2 - 1)\n        } else {\n          unite1 = randint(1, 4)\n          unite2 = randint(0, unite1 - 1)\n        }\n        const ecart = unite2 - unite1 // nombre de multiplication par 1000 pour passer de l'un à l'autre\n        if (unite1 === 0 && val.toNumber() % 1 !== 0)\n          val = new Decimal(randint(3, 100)) // Pas de nombre d'octets non entiers\n        const uniteOctets = listeUniteInfo[unite1]\n        unite = listeUniteInfo[unite1]\n        if (!div) {\n          resultat = val.mul(Math.pow(10, 3 * ecart))\n          texte =\n            '$ ' +\n            texNombre(val, nbChiffreArrondi) +\n            texTexte(listeUniteInfo[unite2]) +\n            ' = ' +\n            (this.interactif && context.isHtml\n              ? `$ ${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: ' $' + texTexte(unite) + '$' })}`\n              : ` \\\\dotfill ${texTexte(unite)}$`)\n          texteCorr =\n            '$ ' +\n            texNombre(val, nbChiffreArrondi) +\n            texTexte(listeUniteInfo[unite2]) +\n            ' =  ' +\n            texNombre(val, nbChiffreArrondi) +\n            '\\\\times' +\n            texNombre(Math.pow(10, 3 * ecart), 0) +\n            texTexte(uniteOctets) +\n            ' = ' +\n            texNombre(resultat, 0) +\n            texTexte(uniteOctets) +\n            '$'\n        } else {\n          val = val.div(Math.pow(10, randint(3 * ecart - 1, 3 * ecart + 1)))\n          resultat = val.mul(Math.pow(10, 3 * ecart))\n          texte =\n            '$ ' +\n            texNombre(val, nbChiffreArrondi + 3 * ecart) +\n            texTexte(listeUniteInfo[unite2]) +\n            ' = ' +\n            (this.interactif && context.isHtml\n              ? `$ ${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: ' $' + texTexte(unite) + '$' })}`\n              : ` \\\\dotfill ${texTexte(unite)}$`)\n          texteCorr =\n            '$ ' +\n            texNombre(val, nbChiffreArrondi + 3 * ecart) +\n            texTexte(listeUniteInfo[unite2]) +\n            ' =  ' +\n            texNombre(val, nbChiffreArrondi + 3 * ecart) +\n            '\\\\div' +\n            texNombre(Math.pow(10, -3 * ecart), 3 * ecart) +\n            texTexte(uniteOctets) +\n            ' = ' +\n            texNombre(resultat) +\n            texTexte(uniteOctets) +\n            '$'\n        }\n      }\n\n      // EE : Mise en couleur de la réponse interactive\n      const aMettreEnCouleur: string =\n        miseEnEvidence((texteCorr.split('=').pop() ?? '').replaceAll('$', '')) +\n        '$'\n      texteCorr =\n        texteCorr.replace(String(texteCorr.split('=').pop()), '') +\n        aMettreEnCouleur.replace(texTexte(unite), '') +\n        '$' +\n        texTexte(unite) +\n        '$'\n      if (this.correctionDetaillee && listeDesProblemes[i] !== 4) {\n        texteCorr =\n          `Un ${div ? prefixeDiv[k][2] : prefixeMulti[k][2]}${traduireUnite(unite).singulier} est ${div ? prefixeDiv[k][3] : prefixeMulti[k][3]} ${div ? traduireUnite(unite).singulier : traduireUnite(unite).pluriel} donc :<br>` +\n          texteCorr +\n          '.'\n      }\n\n      if (this.questionJamaisPosee(i, val, resultat.toString())) {\n        handleAnswers(this, i, {\n          reponse: {\n            value: resultat.toString(),\n            options: { nombreDecimalSeulement: true, fractionDecimale: true },\n          },\n        })\n        // Si la question n'a jamais été posée, on en crée une autre\n        if (context.vue === 'diap') {\n          texte = texte.replace('= \\\\dotfill', '\\\\text{ en }')\n        }\n        if (context.isHtml) {\n          texte = texte.replace(\n            '\\\\dotfill',\n            '................................................',\n          )\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","traduireUnite","symbole","ExerciceConversions","Exercice","niveau","__publicField","prefixeMulti","prefixeDiv","listeDesProblemes","compteOccurences","rangeMinMax","combinaisonListes","listeDesOperations","i","val","k","div","resultat","texte","texteCorr","listeUniteInfo","cpt","randint","nbChiffreArrondi","Decimal","choice","unite","texNombre","texTexte","context","ajouteChampTexteMathLive","KeyboardType","fraction","unite1","unite2","ecart","uniteOctets","aMettreEnCouleur","miseEnEvidence","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}