{"version":3,"file":"6N3I-3-uKqCbwJL.js","sources":["../../src/exercices/6e/6N3I-3.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport {\n  choice,\n  combinaisonListes,\n  enleveElement,\n} from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { obtenirListeFractionsIrreductibles } from '../../modules/fractions'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const titre = 'Comparer deux fractions (dénominateurs multiples)'\n\n/**\n * Comparer deux fractions dont les dénominateurs sont multiples (avec un coefficient paramétrable qui est par défaut inférieur à 11)\n * @author Rémi Angot\n * Ajout du paramètre d'inclusion de nombres négatifs le 14/08/2021 : Guillaume Valmont\n * rendu interactif + AMC par Jean-Claude Lhote\n */\nexport const uuid = '234a7'\n\nexport const refs = {\n  'fr-fr': ['6N3I-3', 'BP2AutoG6'],\n  'fr-2016': ['5N14', 'BP2AutoG6'],\n  'fr-ch': ['9NO12-5'],\n}\nexport default class ExerciceComparerDeuxFractions extends Exercice {\n  constructor(max = 11) {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Valeur maximale du coefficient multiplicateur',\n      99999,\n    ]\n    this.besoinFormulaire2CaseACocher = ['Inclure des nombres négatifs']\n    this.sup = max // Correspond au facteur commun\n    this.consigne = 'Comparer les fractions suivantes.'\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 5\n\n    this.sup2 = false\n  }\n\n  nouvelleVersion() {\n    const listeSignes = combinaisonListes([-1, 1], this.nbQuestions)\n    // On crée une liste de FractionEtendues irréductibles.\n    const listeFractions = obtenirListeFractionsIrreductibles()\n    for (\n      let i = 0, cpt = 0, positifOuNegatif, texte, texteCorr, signe, signe2;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      this.autoCorrection[i] = {}\n      if (this.sup2 === true) positifOuNegatif = listeSignes[i]\n      else positifOuNegatif = 1\n      const fractionAbsolue = choice(listeFractions)\n      const k = randint(2, this.sup)\n      let ecart = choice(\n        [-4, -3, -2, -1, 1, 2, 3, 4],\n        [-k * fractionAbsolue.num, k * fractionAbsolue.num],\n      ) // On exclut -k * a pour ne pas avoir une fraction nulle\n      if (k * fractionAbsolue.num + ecart <= 0) {\n        ecart = ecart * -1\n      }\n      if (ecart > 0) {\n        signe = '<'\n        signe2 = '>'\n      } else {\n        signe = '>'\n        signe2 = '<'\n      }\n      enleveElement(listeFractions, fractionAbsolue) // Il n'y aura pas 2 fois la même réponse\n      const fraction = fractionAbsolue.multiplieEntier(positifOuNegatif)\n      const autreFraction = new FractionEtendue(\n        k * fraction.num + ecart,\n        k * fraction.den,\n      )\n      const ordreDesFractions = Math.random() < 0.5\n      if (ordreDesFractions) {\n        texte = remplisLesBlancs(\n          this,\n          i,\n          `${fraction.texFSD}\\\\quad%{champ1}\\\\quad${autreFraction.texFSD}`,\n          'clavierCompare',\n          '\\\\quad\\\\ldots\\\\quad',\n        )\n      } else {\n        texte = remplisLesBlancs(\n          this,\n          i,\n          `${autreFraction.texFSD}\\\\quad%{champ1}\\\\quad${fraction.texFSD}`,\n          'clavierCompare',\n          '\\\\quad\\\\ldots\\\\quad',\n        )\n      }\n      if (!context.isHtml) {\n        texte = texte.replace('\\\\quad$ et $\\\\quad', '\\\\ldots\\\\ldots\\\\ldots')\n      }\n      let signeAsurB\n      if (fraction.signe < 0) signeAsurB = '-'\n      else signeAsurB = ''\n      texteCorr = `$${fraction.texFSD}= ${signeAsurB} \\\\dfrac{${Math.abs(fractionAbsolue.num).toString() + miseEnEvidence('\\\\times  ' + k.toString())}}{${Math.abs(fractionAbsolue.den).toString() + miseEnEvidence('\\\\times  ' + k.toString())}}=${fraction.reduire(k).texFSD}\\\\quad$`\n      if (ordreDesFractions) {\n        texteCorr += `  et   $\\\\quad${fraction.reduire(k).texFSD} ${signe} ${autreFraction.texFSD} \\\\quad$ donc $\\\\quad ${fraction.texFSD} ${signe} ${autreFraction.texFSD}$.`\n      } else {\n        texteCorr += `  et   $\\\\quad${autreFraction.texFSD} ${signe2} ${fraction.reduire(k).texFSD} \\\\quad$ donc $\\\\quad ${autreFraction.texFSD} ${signe2} ${fraction.texFSD} $.`\n      }\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce:\n            'comparer les fractions suivantes : ' +\n            (ordreDesFractions\n              ? `$${fraction.texFSD} \\\\quad$ et $\\\\quad ${autreFraction.texFSD}$`\n              : `$${autreFraction.texFSD} \\\\quad$ et $\\\\quad ${fraction.texFSD}$`),\n          propositions: [\n            {\n              texte: ordreDesFractions\n                ? `$${fraction.texFSD} < ${autreFraction.texFSD}$`\n                : `$${autreFraction.texFSD} < ${fraction.texFSD}$`,\n              statut: ordreDesFractions ? ecart > 0 : ecart < 0,\n            },\n            {\n              texte: ordreDesFractions\n                ? `$${fraction.texFSD} > ${autreFraction.texFSD}$`\n                : `$${autreFraction.texFSD} >${fraction.texFSD}$`,\n              statut: ordreDesFractions ? ecart < 0 : ecart > 0,\n            },\n          ],\n          options: { ordered: false },\n        }\n      } else {\n        handleAnswers(\n          this,\n          i,\n          {\n            champ1: {\n              value: ordreDesFractions ? signe : signe2,\n              options: { texteSansCasse: true },\n            },\n          },\n          { formatInteractif: 'fillInTheBlank' },\n        )\n      }\n\n      if (\n        this.questionJamaisPosee(i, fractionAbsolue.num, fractionAbsolue.den, k)\n      ) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      if (!context.isHtml) {\n        this.canEnonce = 'Compléter avec $>$ ou $<$.<br>'\n        this.correction = this.listeCorrections[0]\n        if (ordreDesFractions) {\n          this.canReponseACompleter = `$${fraction.texFSD}\\\\ldots${autreFraction.texFSD}$`\n        } else {\n          this.canReponseACompleter = `$${autreFraction.texFSD} \\\\ldots${fraction.texFSD}$`\n        }\n      }\n      cpt++\n      if (listeFractions.length === 0) cpt = 50\n    }\n    listeQuestionsToContenu(this) // Espacement de 2 em entre chaque questions.\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","uuid","refs","ExerciceComparerDeuxFractions","Exercice","max","listeSignes","combinaisonListes","listeFractions","obtenirListeFractionsIrreductibles","cpt","positifOuNegatif","texte","texteCorr","signe","signe2","fractionAbsolue","choice","k","randint","ecart","enleveElement","fraction","autreFraction","FractionEtendue","ordreDesFractions","remplisLesBlancs","context","signeAsurB","miseEnEvidence","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}