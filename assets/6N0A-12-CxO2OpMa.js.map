{"version":3,"file":"6N0A-12-CxO2OpMa.js","sources":["../../src/exercices/6e/6N0A-12.ts"],"sourcesContent":["import { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { toutPourUnPoint } from '../../lib/interactif/mathLive'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { AddTabDbleEntryMathlive } from '../../lib/interactif/tableaux/AjouteTableauMathlive'\nimport { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { rangeMinMax } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre = 'Multiplier deux entiers grâce à la distributivité'\nexport const dateDePublication = '10/01/2026'\n// export const dateDeModifImportante = '04/01/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n/**\n * Développer des expressions de simple distributivité à l'aide d'un tableau de  multiplication\n * @author Jean-Claude Lhote\n */\n\nexport const uuid = 'de189'\n\nexport const refs = {\n  'fr-fr': ['6N0A-12'],\n  'fr-ch': [''],\n}\nexport default class TableSimpleDistributivite extends Exercice {\n  constructor() {\n    super()\n\n    this.spacing = context.isHtml ? 1 : 2\n    this.spacingCorr = context.isHtml ? 1 : 2\n    this.nbQuestions = 4\n\n    this.exoCustomResultat = true\n    this.besoinFormulaireTexte = [\n      'Nombre de chiffres du second facteur',\n      'Nombres de 2 à 4 séparés par des tirets',\n    ]\n    this.sup = '3'\n    this.listeAvecNumerotation = false\n  }\n\n  nouvelleVersion() {\n    this.answers = {}\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Dans chaque cas, compléter les tables de multiplication puis écrire le résultat de la multiplication.'\n        : 'Compléter la table de multiplication puis écrire le résultat de la multiplication.'\n    const nbChiffresSecondFacteur = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      nbQuestions: this.nbQuestions,\n      min: 2,\n      max: 4,\n      melange: 0,\n      defaut: 3,\n    }).map(Number)\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const nbChiffres = nbChiffresSecondFacteur[i]\n\n      const chiffres = shuffle(rangeMinMax(1, 9)).slice(0, nbChiffres)\n      const a = randint(2, 9)\n      const produits = [\n        chiffres[0] || 0,\n        chiffres[1] || 0,\n        chiffres[2] || 0,\n        chiffres[3] || 0,\n      ]\n        .map((x) => x * Math.pow(10, chiffres.indexOf(x)))\n        .reverse()\n        .filter((x) => x !== 0)\n      const b = produits.reduce((acc, val) => acc + val, 0)\n      let texte = ''\n      let texteCorr = ''\n\n      let tableau: TableauData = {\n        entetesCol: [],\n        entetesLgn: [],\n        contenu: [],\n        L1C1txt: '',\n        L1C2txt: '',\n        L1C3txt: '',\n        L1C4txt: '',\n      }\n\n      this.autoCorrection[2 * i] = {}\n      this.autoCorrection[2 * i + 1] = {}\n\n      texte =\n        `$${lettreDepuisChiffre(i + 1)} = ${choice([true, false]) ? `${a}\\\\times ${b}` : `${b}\\\\times ${a}`}=$` +\n        ajouteChampTexteMathLive(this, 2 * i + 1, KeyboardType.clavierDeBase)\n      texte += '<br><br>'\n      texteCorr = texte\n      // developpements = faitDeveloppement(a1, a0, b, c)\n      tableau = faitTableau(a, produits)\n      // texte += context.isHtml ? '<br>' : '\\\\par\\\\medskip'\n\n      if (this.interactif) {\n        const tableauVide = AddTabDbleEntryMathlive.convertTclToTableauMathlive(\n          tableau.entetesCol,\n          tableau.entetesLgn,\n          produits.map(() => ''),\n        )\n        // const NumEx = this.numeroExercice ? this.numeroExercice : 1\n        // OM:  fonctionne pas\n        const tabMathlive = AddTabDbleEntryMathlive.create(\n          this.numeroExercice ?? 0,\n          2 * i,\n          tableauVide,\n          `tableauMathlive`, // ` ${KeyboardType.clavierDeBaseAvecVariable}`,\n          true,\n          { L0C0: 'red' },\n        )\n        texte += tabMathlive.output\n      } else {\n        texte += tableauColonneLigne(\n          tableau.entetesCol,\n          tableau.entetesLgn,\n          tableau.contenu,\n          1.7,\n          true,\n          this.numeroExercice,\n          2 * i,\n          false,\n          { L0C0: 'red' },\n        )\n      }\n\n      texteCorr += tableauColonneLigne(\n        tableau.entetesCol,\n        tableau.entetesLgn,\n        produits.map((x) => miseEnEvidence(texNombre(a * x, 0))),\n        1,\n        true,\n        this.numeroExercice,\n        2 * i,\n        false,\n        { L0C0: 'red' },\n      )\n\n      texteCorr += `<br><br>$${lettreDepuisChiffre(i + 1)} =${produits.map((x) => texNombre(a * x, 0)).join('+')} =${miseEnEvidence(a * b)}$`\n      const champs = produits.map((x, index) => [\n        `L1C${index + 1}`,\n        { value: texNombre(a * x, 0) },\n      ])\n      handleAnswers(this, 2 * i, {\n        bareme: toutPourUnPoint,\n        ...Object.fromEntries(champs),\n      })\n      handleAnswers(this, 2 * i + 1, {\n        reponse: {\n          value: (a * b).toString(),\n          options: {\n            avecSigneMultiplier: false,\n          },\n        },\n      })\n\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n\ninterface TableauData {\n  entetesCol: string[]\n  entetesLgn: string[]\n  contenu: string[]\n  L1C1txt: string\n  L1C2txt: string\n  L1C3txt: string\n  L1C4txt?: string\n}\n\nfunction faitTableau(a: number, chiffres: number[]): TableauData {\n  const entetesCol: string[] = ['\\\\phantom{A.}\\\\times\\\\phantom{E.}']\n  const chiffresNonNuls = chiffres.filter((x) => x !== 0)\n  const nbChiffres = chiffresNonNuls.length\n  for (let i = 0; i < chiffresNonNuls.length; i++) {\n    entetesCol.push(texNombre(chiffres[i], 0))\n  }\n  const tableau: TableauData = {\n    entetesCol,\n    entetesLgn: [texNombre(a, 0)],\n    contenu: chiffresNonNuls.map((x) => '\\\\phantom{E.}'),\n    L1C1txt: texNombre(chiffres[0] * a, 0),\n    L1C2txt: texNombre(chiffres[1] * a, 0),\n    L1C3txt: nbChiffres > 2 ? texNombre(chiffres[2] * a, 0) : '',\n    L1C4txt: nbChiffres > 3 ? texNombre(chiffres[3] * a, 0) : '',\n  }\n  return tableau\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","TableSimpleDistributivite","Exercice","context","nbChiffresSecondFacteur","gestionnaireFormulaireTexte","i","cpt","nbChiffres","chiffres","shuffle","rangeMinMax","a","randint","produits","x","b","acc","val","texte","texteCorr","tableau","lettreDepuisChiffre","choice","ajouteChampTexteMathLive","KeyboardType","faitTableau","tableauVide","AddTabDbleEntryMathlive","tabMathlive","tableauColonneLigne","miseEnEvidence","texNombre","champs","index","handleAnswers","toutPourUnPoint","listeQuestionsToContenuSansNumero","entetesCol","chiffresNonNuls"],"mappings":"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"}