{"version":3,"file":"4S12-BPIaakKz.js","sources":["../../src/exercices/4e/4S12.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre =\n  \"Déterminer la moyenne et la médiane d'une série statistique\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '6/1/2022'\n\nexport const uuid = '9a574'\nexport const refs = {\n  'fr-fr': ['4S12'],\n  'fr-ch': [],\n}\n\n/**\n * @author Rémi Angot\n */\nexport default class MoyenneEtMediane extends Exercice {\n  onlyMoyenne = false\n  constructor() {\n    super()\n    this.nbQuestionsModifiable = false\n    this.sup = 1\n    this.besoinFormulaireNumerique = [\n      'Effectif total',\n      2,\n      '1 : Impair\\n2 : Pair',\n    ]\n  }\n\n  nouvelleVersion() {\n    const nbTemperatures = 2 * randint(3, 5) + this.sup\n    const temperatures = generateTemperatures(nbTemperatures)\n    this.consigne = `Voici les températures, en degré Celsius, relevées sur une période de ${nbTemperatures} jours : ${stringList(temperatures)}.`\n    const moyenne = getMoyenne(temperatures)\n    let isExact = false\n    if ((moyenne * 10) % 1 === 0) {\n      isExact = true\n    }\n    let question1 = `Calculer la température moyenne ${isExact ? '' : ', au dixième près, '} de cette série.`\n    if (this.interactif) {\n      question1 +=\n        '<br>' +\n        ajouteChampTexteMathLive(this, 0, KeyboardType.clavierDeBase, {\n          texteAvant: `$M ${isExact ? '=' : '\\\\approx'} $`,\n          texteApres: '°C',\n        })\n      handleAnswers(this, 0, {\n        reponse: {\n          value: arrondi(moyenne, 1),\n          options: { nombreDecimalSeulement: true },\n        },\n      })\n    }\n    let correction1 = stringCalculMoyenne(temperatures)\n    correction1 += `<br><br> La température moyenne est de $${texNombre(getMoyenne(temperatures), 1)}$°C.`\n\n    let question2 = ''\n    let correction2 = ''\n    if (this.onlyMoyenne === false) {\n      question2 += 'Quelle est la température médiane de cette série ?'\n      correction2 = `On réordonne les températures par ordre croissant : ${sortedStringList(temperatures)}.<br>`\n      const mediane = getMedianne(temperatures)\n      correction2 +=\n        stringCalculMediane(temperatures) + `$${texNombre(mediane)}$°C.`\n      if (this.interactif) {\n        question2 +=\n          '<br>' +\n          ajouteChampTexteMathLive(this, 1, KeyboardType.clavierDeBase, {\n            texteAvant: 'Médiane : ',\n            texteApres: '°C',\n          })\n        const sortedList = temperatures.sort((a, b) => a - b)\n        const n = sortedList.length\n        if (n % 2 === 0) {\n          if (sortedList[n / 2 - 1] !== sortedList[n / 2]) {\n            handleAnswers(this, 1, {\n              reponse: {\n                value: `]${sortedList[n / 2 - 1]};${sortedList[n / 2]}[`,\n                options: { estDansIntervalle: true },\n              },\n            })\n          } else {\n            handleAnswers(this, 1, {\n              reponse: {\n                value: mediane,\n                options: { nombreDecimalSeulement: true },\n              },\n            })\n          }\n        } else {\n          handleAnswers(this, 1, {\n            reponse: {\n              value: mediane,\n              options: { nombreDecimalSeulement: true },\n            },\n          })\n        }\n      }\n    }\n\n    if (this.onlyMoyenne) {\n      this.listeQuestions = [question1]\n      this.listeCorrections = [correction1]\n      this.nbQuestions = 1\n    } else {\n      this.nbQuestions = 2\n      this.listeQuestions.push(question1, question2)\n      this.listeCorrections.push(correction1, correction2)\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n\nfunction generateTemperatures(nbTemperatures: number): number[] {\n  const temperatures = [randint(0, 20)]\n  for (let i = 1; i < nbTemperatures; i++) {\n    temperatures.push(temperatures[i - 1] + randint(-3, 3))\n  }\n  return temperatures\n}\n\nfunction stringList(list: number[]): string {\n  let result = ''\n  for (const item of list) {\n    result += `$${item}$ ; `\n  }\n  return result.slice(0, -3)\n}\n\nfunction sortedStringList(list: number[]): string {\n  const sortedList = list.sort((a, b) => a - b)\n  return stringList(sortedList)\n}\n\nfunction stringCalculMoyenne(list: number[], arrondi = 1): string {\n  let result = '$M = \\\\dfrac{'\n  for (const item of list) {\n    result += `${ecritureParentheseSiNegatif(item)} + `\n  }\n  result = result.slice(0, -3)\n  result += `}{${list.length}}`\n  const m = getMoyenne(list)\n  if ((m * 10 ** arrondi) % 1 === 0) {\n    result += ` = ${texNombre(m, arrondi)}$`\n  } else {\n    result += ` \\\\approx ${texNombre(m, arrondi)}$`\n  }\n  return result\n}\n\nfunction getMoyenne(list: number[]): number {\n  return list.reduce((a, b) => a + b, 0) / list.length\n}\n\nfunction stringCalculMediane(list: number[]): string {\n  const sortedList = list.sort((a, b) => a - b)\n  const n = sortedList.length\n  let result = `L'effectif total est de ${list.length}, `\n  if (n % 2 === 0) {\n    result += `la médiane est donc une valeur comprise entre le ${n / 2}e et le ${n / 2 + 1}e élément de la série ordonnée soit, par exemple  `\n  } else {\n    result += `la médiane est donc le ${Math.ceil(n / 2)}e élément de la série ordonnée soit `\n  }\n  return result\n}\n\nfunction getMedianne(list: number[]): number {\n  const sortedList = list.sort((a, b) => a - b)\n  const n = sortedList.length\n  if (n % 2 === 0) {\n    return (sortedList[n / 2 - 1] + sortedList[n / 2]) / 2\n  } else {\n    return sortedList[Math.ceil(n / 2) - 1]\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","MoyenneEtMediane","Exercice","__publicField","nbTemperatures","randint","temperatures","generateTemperatures","stringList","moyenne","getMoyenne","isExact","question1","ajouteChampTexteMathLive","KeyboardType","handleAnswers","arrondi","correction1","stringCalculMoyenne","texNombre","question2","correction2","sortedStringList","mediane","getMedianne","stringCalculMediane","sortedList","a","b","n","listeQuestionsToContenu","i","list","result","item","ecritureParentheseSiNegatif","m"],"mappings":"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"}