{"version":3,"file":"6N0A-10-B2lOKtJ6.js","sources":["../../src/exercices/6e/6N0A-10.ts"],"sourcesContent":["import { bleuMathalea } from '../../lib/colors'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport {\n  combinaisonListes,\n  enleveDoublonNum,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\nimport { arrondi, range1 } from '../../lib/outils/nombres'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Ranger des nombres entiers'\nexport const dateDeModifImportante = '13/05/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * * Ranger une liste de nombres dans l'ordre croissant ou décroissant\n * @author Eric Elter\n */\n\nexport const uuid = '3bba9'\n\nexport const refs = {\n  'fr-fr': ['6N0A-10'],\n  'fr-2016': ['6N11-4'],\n  'fr-ch': ['9NO2-4'],\n}\n// une fonction pour gérer l'ordre\nfunction myOrdre(ordre: 'croissant' | 'décroissant', tab: number[]) {\n  tab.sort((a, b) => a - b)\n  switch (ordre) {\n    case 'croissant':\n      return tab\n    case 'décroissant':\n      return tab.reverse()\n  }\n}\n\n// Fonctions from EE\nfunction generateNumbers(\n  niveaux: Number[] = [1, 2, 3],\n  proximite: boolean = true,\n): number[] {\n  let numbers: number[] = []\n  do {\n    numbers = []\n    // Chiffres pour la partie entière\n    const c1 = randint(1, 9)\n    const c2 = randint(1, 9, [c1])\n    const baseEntier = Number(`${c1}${c2}`)\n    const alternateEntier = Number(`${c2}${c1}`)\n\n    // Chiffres pour la partie décimale\n    const c3 = randint(1, 9, [c1, c2])\n    const c4 = randint(1, 9, [c1, c2, c3])\n    const c5 = randint(1, 9, [c1, c2, c3, c4])\n\n    // Création des decimales décimaux selon les niveaux\n    const decimales: number[][] = []\n    if (niveaux.includes(1)) decimales.push([c3]) // dixième\n    if (niveaux.includes(2)) decimales.push([c3, c4]) // centième\n    if (niveaux.includes(3)) {\n      decimales.push([c3, c4, c5]) // millième\n      decimales.push([c3, (c4 + 1) % 10, c5])\n      decimales.push([c3, 0, (c5 + 1) % 10])\n      decimales.push([0, 0, c5])\n    }\n    if (decimales.length !== 6) {\n      // Cas où on n'a pas choisi les trois ensemble : dixième, centième et millième\n      const decimaleAAjouter = shuffle(range1(9))\n      if (niveaux.length === 1) {\n        // Cas où on a choisi qu'en seul des trois parmi : dixième, centième et millième\n        if (niveaux[0] === 1) {\n          // Que des dixièmes\n          let d3: number\n          for (let indiceTableau = 1; indiceTableau < 6; indiceTableau++) {\n            d3 = (c3 + decimaleAAjouter[indiceTableau]) % 10\n            decimales.push([d3])\n          }\n        } else if (niveaux[0] === 2) {\n          // Que des centièmes\n          decimales.push([c4, c3])\n          decimales.push([0, c3])\n          decimales.push([c4, 0])\n          decimales.push([randint(1, 9, [c3]), c4])\n          decimales.push([randint(1, 9, [c4, 0]), c3])\n        } else {\n          // Que des millièmes\n          decimales.push([c3, c4, (c5 + 1) % 10])\n          decimales.push([(c3 + 1) % 10, c4, c5])\n        }\n      } else {\n        // Cas où on a choisi que deux parmi : dixième, centième et millième\n        if (!niveaux.includes(3)) {\n          // Pas de millième\n          decimales.push([c4])\n          decimales.push([c4, c3])\n          decimales.push([0, c4])\n          decimales.push([0, c3])\n        } else if (!niveaux.includes(2)) {\n          // Pas de centième\n          decimales.push([c4])\n          decimales.push([(c3 + 1) % 10, c4, c5])\n        } else {\n          // Pas de dixième\n          decimales.push([c4, c3])\n          decimales.push([(c3 + 1) % 10, c4, c5])\n        }\n      }\n    }\n\n    // Mélange des decimales\n    const melangeDecimales = shuffle(decimales)\n\n    for (let indiceTableau = 0; indiceTableau < 6; indiceTableau++) {\n      const decimal = melangeDecimales[indiceTableau]\n      const entier = proximite\n        ? baseEntier\n        : numbers.length % 2 === 0\n          ? baseEntier\n          : alternateEntier\n\n      // On construit le nombre\n      const value = Number(`${entier}.${decimal.join('')}`)\n      numbers.push(value)\n    }\n    numbers = enleveDoublonNum(numbers)\n  } while (numbers.length !== 6)\n  return numbers\n}\n\n// Fonction pour obtenir une fraction décimale avec dénominateur 1000 (ou 10^n)\nfunction getDecimalFraction(\n  n: number,\n  digits: number,\n): { num: number; den: number } {\n  const str = n.toString()\n  const decimalPart = str.includes('.') ? str.split('.')[1] : ''\n  const numerator = Number(decimalPart.padEnd(digits, '0')) // Normalise sur 3 chiffres\n  const denominator = 10 ** digits\n  return { num: numerator, den: denominator }\n}\n\n// Fonction pour mettre en couleur la partie entière de nombres\nfunction formatterPartieEntiere(nombres: number[]): string {\n  const uniques = [...new Set(nombres.map((n) => Math.floor(n)))]\n  const len = uniques.length\n\n  if (len === 0) return ''\n  if (len === 1) return `$${miseEnEvidence(uniques[0], bleuMathalea)}$`\n  if (len === 2)\n    return `$${miseEnEvidence(uniques[0], bleuMathalea)}$ et $${miseEnEvidence(uniques[1], bleuMathalea)}$`\n\n  const debut = uniques\n    .slice(0, -1)\n    .map((n) => `$${miseEnEvidence(n, bleuMathalea)}$`)\n    .join(', ')\n\n  const fin = `$${miseEnEvidence(uniques[len - 1], bleuMathalea)}$`\n\n  return `${debut} et ${fin}`\n}\n// Retourner le nombre maximal de décimales parmi les nombres d'un tableau.\nfunction getMaxDecimals(nombres: number[]): number {\n  // Calculer le nombre de décimales pour chaque nombre\n  const decimalCount = nombres.map((n) => {\n    const decimalPart = arrondi(n - Math.floor(n), 3)\n    // Si la partie décimale est 0, il n'y a pas de décimales\n    return decimalPart === 0 ? 0 : decimalPart.toString().split('.')[1].length\n  })\n\n  // Retourner le nombre maximal de décimales\n  return Math.max(...decimalCount)\n}\n\nexport default class RangerOrdreCroissantDecroissant extends Exercice {\n  constructor() {\n    super()\n    this.sup = 1\n    this.sup2 = '4'\n    this.sup3 = false\n    this.sup4 = false\n    this.nbQuestions = 2\n\n    this.spacing = context.isHtml ? 3 : 1.5\n    this.spacingCorr = context.isHtml ? 2.5 : 1.5\n\n    this.besoinFormulaireNumerique = [\n      'Type du rangement',\n      3,\n      '1 : Ordre croissant\\n2 : Ordre décroissant\\n3 : Mélange',\n    ]\n    this.correctionDetailleeDisponible = false\n    this.correctionDetaillee = true\n  }\n\n  nouvelleVersion() {\n    let listeTypeDeQuestions = this.sup === 3 ? [1, 2] : [this.sup]\n    listeTypeDeQuestions = combinaisonListes(\n      listeTypeDeQuestions,\n      this.nbQuestions,\n    )\n\n    const typesDeNombres = gestionnaireFormulaireTexte({\n      max: 3,\n      defaut: 4,\n      melange: 4,\n      nbQuestions: 99,\n      saisie: this.sup2,\n    })\n\n    let typesDeNombresEntiers = typesDeNombres.map((value) =>\n      parseInt(value.toString(), 10),\n    )\n    typesDeNombresEntiers = enleveDoublonNum(typesDeNombresEntiers)\n\n    for (let i = 0, texte, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // les chiffres\n      const croissant = listeTypeDeQuestions[i] === 1\n      const ordre = croissant ? 'croissant' : 'décroissant'\n      const symbole = croissant ? '~<~' : '~>~'\n\n      let nombres\n      if (this.sup3) {\n        nombres = generateNumbers(typesDeNombresEntiers, this.sup4)\n      } else {\n        // EE : Cette partie sur les entiers date d'un ancien exo et j'ai choisi de laisser ainsi.\n        const c1 = randint(1, 9)\n        const c2 = randint(1, 9, [c1])\n        const c3 = randint(1, 9, [c1, c2])\n        const c4 = randint(1, 9, [c1, c2, c3])\n        const c5 = randint(1, 9, [c1, c2, c3, c4])\n        const n1 = Number([c1, c2, c3, c4, c5].map(String).join(''))\n        const n2 = Number([c1, c3, c3, c4, c5].map(String).join(''))\n        const n3 = Number([c1, c2, c5, c4, c3].map(String).join(''))\n        const n4 = Number(\n          [c1, randint(0, 9), randint(0, 9), randint(0, 9)]\n            .map(String)\n            .join(''),\n        )\n        const n5 = Number(\n          [\n            1,\n            randint(0, 9),\n            randint(0, 9),\n            randint(0, 9),\n            randint(0, 9),\n            randint(0, 9),\n          ]\n            .map(String)\n            .join(''),\n        )\n        const n6 = Number(\n          [c1, c2, 0, randint(0, 9), randint(0, 9)].map(String).join(''),\n        )\n        nombres = shuffle([n1, n2, n3, n4, n5, n6])\n      }\n      const nombresRanges = myOrdre(ordre, nombres.slice())\n\n      // Autant de cas que d'elements dans le tableau des situations\n      texte = `Classer les nombres suivants dans l'ordre ${ordre} :<br>$${nombres.map((nb) => texNombre(nb, Math.max(...typesDeNombresEntiers), typesDeNombresEntiers.length === 1)).join('\\\\text{  ; \\\\ \\\\  }')}$.<br>`\n      texte += remplisLesBlancs(\n        this,\n        i,\n        `%{champ1}${symbole}%{champ2}${symbole}%{champ3}${symbole}%{champ4}${symbole}%{champ5}${symbole}%{champ6}`,\n        ` ${KeyboardType.clavierNumbers}`,\n        '\\\\ldots\\\\ldots',\n      )\n\n      let texteCorr = ''\n      if (this.correctionDetaillee && this.sup3) {\n        texteCorr +=\n          'Pour ranger les nombres dans l’ordre croissant, on procède en deux temps.<br>'\n\n        // Étape 1 : Classement des parties entières\n        texteCorr +=\n          texteEnCouleurEtGras('Comparons les parties entières', bleuMathalea) +\n          ' :<br>'\n        if ([...new Set(nombres.map((n) => Math.floor(n)))].length === 1) {\n          // Recherche des parties entières des nombres à classer\n          texteCorr += `Les nombres à classer ont toutes la même partie entière : ${formatterPartieEntiere(nombres)}.<br>`\n        } else {\n          texteCorr += `Les parties entières des nombres à classer sont : ${formatterPartieEntiere(nombres)}.<br>`\n          texteCorr += `On classe d’abord ces parties entières selon leur ordre ${ordre} : `\n          const partiesEntieres = [\n            ...new Set(nombres.map((n) => Math.floor(n))),\n          ].sort((a, b) => (ordre === 'croissant' ? a - b : b - a))\n          texteCorr += `$${partiesEntieres.map((nb) => `${miseEnEvidence(texNombre(nb, 3), bleuMathalea)}`).join(symbole)}$.<br>`\n        }\n        // Étape 2 : Comparaison des décimales\n        texteCorr +=\n          texteEnCouleurEtGras(\n            'Comparons les parties décimales lorsque les parties entières sont identiques',\n            bleuMathalea,\n          ) + ' :<br>'\n        const nbDeDecimales = getMaxDecimals(nombres)\n        const numerateurCommun = Math.pow(10, nbDeDecimales)\n        texteCorr += `On compare alors les parties décimales sous forme de fractions décimales avec le même dénominateur commun (ici $${texNombre(numerateurCommun)}$).<br>`\n\n        const groupesParEntier: { [k: number]: number[] } = {}\n        for (const n of nombres) {\n          const entier = Math.floor(n)\n          if (!groupesParEntier[entier]) groupesParEntier[entier] = []\n          groupesParEntier[entier].push(n)\n        }\n        let numeroGroupe = -1\n        for (const entier of Object.keys(groupesParEntier)\n          .map(Number)\n          .sort((a, b) => a - b)) {\n          const groupe = groupesParEntier[entier]\n          if (groupe.length > 1) {\n            numeroGroupe++\n            if (!this.sup4)\n              texteCorr +=\n                numAlpha(numeroGroupe) +\n                ` Parmi les nombres ayant pour partie entière $${miseEnEvidence(entier, bleuMathalea)}$, on va comparer les parties décimales :<br>`\n            const numerateurs = []\n            for (const n of groupe) {\n              const frac = getDecimalFraction(n, nbDeDecimales)\n              numerateurs.push(frac.num)\n              texteCorr += `  • $${texNombre(n)}$ → partie décimale : $${new FractionEtendue(frac.num, frac.den).texFraction}$<br>`\n            }\n            const partiesDécimales = groupe.sort((a, b) =>\n              ordre === 'croissant' ? a - b : b - a,\n            )\n            const numerateursClasses = numerateurs.sort((a, b) =>\n              ordre === 'croissant' ? a - b : b - a,\n            )\n            texteCorr += `  → On classe les numérateurs de ces fractions décimales qui ont le même dénominateur commun ($${texNombre(numerateurCommun)}$) : `\n            texteCorr += ` : $${numerateursClasses.map((nb) => `${miseEnEvidence(texNombre(nb, 3), bleuMathalea)}`).join(symbole)}$.<br>`\n\n            texteCorr +=\n              '  → On classe ensuite les nombres en comparant leurs fractions décimales respectives'\n            texteCorr += this.sup4\n              ? '.<br>'\n              : ` : $${partiesDécimales.map((nb) => `${miseEnEvidence(texNombre(nb, 3), bleuMathalea)}`).join(symbole)}$.<br>`\n          }\n        }\n      }\n      texteCorr += `Les nombres sont maintenant rangés dans l'ordre ${ordre} : $${nombresRanges.map((nb) => `${miseEnEvidence(texNombre(nb, 3))}`).join(symbole)}$.`\n      handleAnswers(this, i, {\n        bareme: (listePoints) => [\n          Math.ceil(\n            (listePoints[0] * listePoints[1] +\n              listePoints[2] +\n              listePoints[3] +\n              listePoints[4] +\n              listePoints[5]) /\n              2,\n          ),\n          3,\n        ],\n        champ1: { value: nombresRanges[0] },\n        champ2: { value: nombresRanges[1] },\n        champ3: { value: nombresRanges[2] },\n        champ4: { value: nombresRanges[3] },\n        champ5: { value: nombresRanges[4] },\n        champ6: { value: nombresRanges[5] },\n      })\n\n      if (this.questionJamaisPosee(i, ...nombresRanges)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDeModifImportante","interactifReady","interactifType","uuid","refs","myOrdre","ordre","tab","b","generateNumbers","niveaux","proximite","numbers","c1","randint","c2","baseEntier","alternateEntier","c3","c4","c5","decimales","decimaleAAjouter","shuffle","range1","d3","indiceTableau","melangeDecimales","decimal","value","enleveDoublonNum","getDecimalFraction","n","digits","str","decimalPart","numerator","denominator","formatterPartieEntiere","nombres","uniques","len","miseEnEvidence","bleuMathalea","debut","fin","getMaxDecimals","decimalCount","arrondi","RangerOrdreCroissantDecroissant","Exercice","context","listeTypeDeQuestions","combinaisonListes","typesDeNombresEntiers","gestionnaireFormulaireTexte","i","texte","cpt","croissant","symbole","n1","n2","n3","n4","n5","n6","nombresRanges","nb","texNombre","remplisLesBlancs","KeyboardType","texteCorr","texteEnCouleurEtGras","partiesEntieres","a","nbDeDecimales","numerateurCommun","groupesParEntier","entier","numeroGroupe","groupe","numAlpha","numerateurs","frac","FractionEtendue","partiesDécimales","numerateursClasses","handleAnswers","listePoints","listeQuestionsToContenu"],"mappings":"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"}