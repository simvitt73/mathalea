{"version":3,"file":"noteLaCouleur-AWshH4ho.js","sources":["../../src/modules/noteLaCouleur.ts"],"sourcesContent":["/**\n * Classe NoteLaCouleur (objet Pion)\n * this.plateau est le tableau des couleurs de cases.\n * this.currentPos est {x,y} les coordonnées courantes du pion\n * this.currentOrientation est l'orientation courante du pion\n * this.codeScratch est le programme en code Latex du pion.\n * this.currentIndex est l'index qui parcourt le codeScratch...\n * this.nlc() retourne la couleur de la case sur laquelle est le pion\n * this.tesCoords(x,y) est une méthode qui dit si le point de coordonnées (x,y) est bien dans le plateau de jeu.\n */\n\nimport { BoiteBuilder } from '../lib/2d/BoiteBuilder'\nimport { ObjetMathalea2D } from '../lib/2d/ObjetMathalea2D'\nimport { segment } from '../lib/2d/segmentsVecteurs'\nimport { texteParPositionEchelle } from '../lib/2d/textes'\nimport { avance, ObjetLutin, tournerD, tournerG } from './2dLutin'\nimport { randint } from './outils'\n\nexport const thePlateau: CouleurNLC[][] = [\n  [\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Noir',\n    'Jaune',\n    'Bleu',\n    'Vert',\n    'Orange',\n    'Rouge',\n    'Orange',\n    'Noir',\n    'Jaune',\n    'Gris',\n    'Vert',\n    'Rose',\n    'Noir',\n    'Jaune',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Rouge',\n    'Bleu',\n    'Orange',\n    'Jaune',\n    'Rose',\n    'Gris',\n    'Jaune',\n    'Rose',\n    'Gris',\n    'Jaune',\n    'Bleu',\n    'Rouge',\n    'Gris',\n    'Rouge',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Rose',\n    'Vert',\n    'Gris',\n    'Rouge',\n    'Noir',\n    'Bleu',\n    'Vert',\n    'Noir',\n    'Vert',\n    'Bleu',\n    'Rose',\n    'Gris',\n    'Vert',\n    'Orange',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Vert',\n    'Bleu',\n    'Rose',\n    'Vert',\n    'Bleu',\n    'Orange',\n    'Gris',\n    'Rouge',\n    'Orange',\n    'Jaune',\n    'Gris',\n    'Rouge',\n    'Rose',\n    'Bleu',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Noir',\n    'Orange',\n    'Rouge',\n    'Orange',\n    'Jaune',\n    'Rouge',\n    'Blanc',\n    'Blanc',\n    'Noir',\n    'Gris',\n    'Orange',\n    'Noir',\n    'Jaune',\n    'Rose',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Rose',\n    'Gris',\n    'Noir',\n    'Bleu',\n    'Vert',\n    'Bleu',\n    'Blanc',\n    'Blanc',\n    'Rouge',\n    'Bleu',\n    'Gris',\n    'Vert',\n    'Rouge',\n    'Noir',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Noir',\n    'Rouge',\n    'Rose',\n    'Vert',\n    'Orange',\n    'Rose',\n    'Noir',\n    'Orange',\n    'Vert',\n    'Jaune',\n    'Rose',\n    'Noir',\n    'Rose',\n    'Vert',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Orange',\n    'Gris',\n    'Rouge',\n    'Jaune',\n    'Noir',\n    'Vert',\n    'Rouge',\n    'Rose',\n    'Noir',\n    'Bleu',\n    'Vert',\n    'Jaune',\n    'Orange',\n    'Gris',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Bleu',\n    'Jaune',\n    'Orange',\n    'Vert',\n    'Gris',\n    'Jaune',\n    'Gris',\n    'Orange',\n    'Gris',\n    'Rose',\n    'Bleu',\n    'Rouge',\n    'Bleu',\n    'Orange',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Rose',\n    'Bleu',\n    'Jaune',\n    'Rose',\n    'Orange',\n    'Rouge',\n    'Bleu',\n    'Noir',\n    'Jaune',\n    'Gris',\n    'Vert',\n    'Jaune',\n    'Noir',\n    'Rouge',\n    'Blanc',\n  ],\n  [\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n    'Blanc',\n  ],\n]\n\nexport type CouleurNLC =\n  | 'Blanc'\n  | 'Noir'\n  | 'Rouge'\n  | 'Bleu'\n  | 'Orange'\n  | 'Rose'\n  | 'Jaune'\n  | 'Vert'\n  | 'Gris'\n  | '(0) Blanc'\n  | '(1) Noir'\n  | '(2) Rouge'\n  | '(3) Bleu'\n  | '(4) Orange'\n  | '(5) Rose'\n  | '(6) Jaune'\n  | '(7) Vert'\n  | '(8) Gris'\n/**\n *\n * @param {number} repetitions\n * @param {string[]} codes la séquence d'instructions à répéter\n * @returns {boolean} true si la boucle n'a à aucun moment fait sortir le lutin du plateau, false sinon\n */\nexport function testBoucle(\n  repetitions: number,\n  codes: string[],\n  nlc: NoteLaCouleur,\n) {\n  let sortiboucle = false\n  let test\n  const pionfantome = noteLaCouleur({\n    x: 0,\n    y: 0,\n    orientation: 0,\n    plateau: nlc.plateauNLC,\n    relatif: nlc.relatif,\n    nx: nlc.nx,\n    ny: nlc.ny,\n    pas: nlc.pas,\n  })\n  pionfantome.currentPos.x = nlc.currentPos.x\n  pionfantome.currentPos.y = nlc.currentPos.y\n  pionfantome.currentOrientation = nlc.currentOrientation\n  for (let i = 0; i < repetitions; i++) {\n    test = testSequence(codes, pionfantome)\n    if (!test[0]) {\n      // si le lutin est sorti pendant la séquence alors la boucle n'est pas valide.\n      sortiboucle = true\n      break\n    } else {\n      // il n'est pas sorti, on continue le test à partir de la nouvelle position\n      pionfantome.currentPos.x = test[1] as number\n      pionfantome.currentPos.y = test[2] as number\n      pionfantome.currentOrientation = test[3] as number\n    }\n  }\n  // Si il est sorti, alors on retourne false en premier argument, sinon, on retourne true.\n  return [\n    !sortiboucle,\n    pionfantome.currentPos.x,\n    pionfantome.currentPos.y,\n    pionfantome.currentOrientation,\n  ]\n}\n/**\n * Pour tester une instruction : retourne un tableau dont le premier élément indique si l'instruction est valide.\n * c'est à dire qu'elle n'entraine pas une sortie de plateau.\n * true -> l'instruction maintient le lutin sur le plateau\n * false -> l'instruction le fait sortir du plateau\n * Les autres éléments du tableau sont dans cet ordre :\n * - les positions x et y du pion après l'instruction\n * - son orientation après l'instruction\n * - le code Latex de l'instruction\n */\nexport function testInstruction(\n  code: string,\n  lutin: ObjetLutin,\n  nlc: NoteLaCouleur,\n): [boolean, number, number, number, string, ObjetLutin] {\n  const avancepion = function (d: number, x: number, y: number, s: number) {\n    switch (s) {\n      case 0:\n      case 360:\n        y += d\n        break\n      case 90:\n      case -270:\n        x += d\n        break\n      case 180:\n      case -180:\n        y -= d\n        break\n      case 270:\n      case -90:\n        x -= d\n        break\n    }\n    return [x, y]\n  }\n  let x = nlc.currentPos.x\n  let y = nlc.currentPos.y\n  let orientation = nlc.currentOrientation\n  let latex\n  switch (code) {\n    case 'AV20':\n      ;[x, y] = avancepion(20, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{20} pas}'\n      if (lutin !== undefined) {\n        avance(20, lutin)\n      }\n      break\n    case 'AV30':\n      ;[x, y] = avancepion(30, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{30} pas}'\n      if (lutin !== undefined) {\n        avance(30, lutin)\n      }\n      break\n    case 'AV40':\n      ;[x, y] = avancepion(40, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{40} pas}'\n      if (lutin !== undefined) {\n        avance(40, lutin)\n      }\n      break\n    case 'AV60':\n      ;[x, y] = avancepion(60, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{60} pas}'\n      if (lutin !== undefined) {\n        avance(60, lutin)\n      }\n      break\n    case 'AV80':\n      ;[x, y] = avancepion(80, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{80} pas}'\n      if (lutin !== undefined) {\n        avance(80, lutin)\n      }\n      break\n    case 'AV90':\n      ;[x, y] = avancepion(90, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{90} pas}'\n      if (lutin !== undefined) {\n        avance(90, lutin)\n      }\n      break\n    case 'AV100':\n      ;[x, y] = avancepion(100, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{100} pas}'\n      if (lutin !== undefined) {\n        avance(100, lutin)\n      }\n      break\n    case 'AV120':\n      ;[x, y] = avancepion(120, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{120} pas}'\n      if (lutin !== undefined) {\n        avance(120, lutin)\n      }\n      break\n    case 'AV150':\n      ;[x, y] = avancepion(150, x, y, orientation)\n      latex = '\\\\blockmove{avancer de \\\\ovalnum{150} pas}'\n      if (lutin !== undefined) {\n        avance(150, lutin)\n      }\n      break\n\n    case 'TD90':\n      if (orientation === 180) orientation = -90\n      else orientation += 90\n      latex = '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{90} degrés}'\n      if (lutin !== undefined) {\n        tournerD(90, lutin)\n      }\n      break\n    case 'TG90':\n      if (orientation === -90) orientation = 180\n      else orientation -= 90\n      latex = '\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{90} degrés}'\n      if (lutin !== undefined) {\n        tournerG(90, lutin)\n      }\n      break\n    case 'TD180':\n    case 'TG180':\n      if (orientation === 0) orientation = 180\n      else if (orientation === -90) orientation = 90\n      else if (orientation === 90) orientation = -90\n      else orientation = 0\n      latex = '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{180} degrés}'\n      if (lutin !== undefined) {\n        tournerD(180, lutin)\n      }\n      break\n    case 'NLC':\n    default:\n      latex = '\\\\blocklist{Note la couleur}'\n      break\n  }\n  if (nlc.testCoords(x, y)) {\n    return [true, x, y, orientation, latex, lutin]\n  } else\n    return [\n      false,\n      nlc.currentPos.x,\n      nlc.currentPos.y,\n      nlc.currentOrientation,\n      latex,\n      lutin,\n    ]\n}\n\n/**\n * Pour tester une séquence : retourne\n *\n * [true,x,y,orientation] si la séquence reste dans le jeu\n * [false,x,y,orientation] en cas de sortie de plateau.\n */\nexport function testSequence(\n  codes: string[],\n  nlc: NoteLaCouleur,\n): [boolean, number, number, number] {\n  let sorti = false\n  let test\n  const pionfantome = noteLaCouleur({\n    x: 0,\n    y: 0,\n    orientation: 0,\n    plateau: nlc.plateauNLC,\n    relatif: nlc.relatif,\n    nx: nlc.nx,\n    ny: nlc.ny,\n    pas: nlc.pas,\n  })\n  pionfantome.currentPos.x = nlc.currentPos.x\n  pionfantome.currentPos.y = nlc.currentPos.y\n  pionfantome.currentOrientation = nlc.currentOrientation\n  for (let i = 0; i < codes.length; i++) {\n    test = testInstruction(codes[i], pionfantome.objetLutin, pionfantome)\n    if (!test[0]) {\n      // si le lutin est sorti du plateau pendant l'instruction\n      sorti = true\n      break\n    } else {\n      pionfantome.currentPos.x = test[1] as number\n      pionfantome.currentPos.y = test[2] as number\n      pionfantome.currentOrientation = test[3] as number\n    }\n  }\n  // si il est sorti, alors la séquence est false, sinon, elle est true.\n  return [\n    !sorti,\n    pionfantome.currentPos.x,\n    pionfantome.currentPos.y,\n    pionfantome.currentOrientation,\n  ]\n}\nexport function traducColor(couleur: CouleurNLC) {\n  switch (couleur) {\n    case 'Blanc':\n      return 'white'\n    case 'Bleu':\n      return 'DodgerBlue'\n    case 'Noir':\n      return 'black'\n    case 'Rouge':\n      return 'red'\n    case 'Jaune':\n      return 'yellow'\n    case 'Rose':\n      return 'HotPink'\n    case 'Vert':\n      return 'green'\n    case 'Orange':\n      return 'DarkOrange'\n    case 'Gris':\n      return 'gray'\n  }\n}\n\nexport function traducNum(couleur: CouleurNLC) {\n  switch (couleur) {\n    case 'Blanc':\n      return '0'\n    case 'Bleu':\n      return '3'\n    case 'Noir':\n      return '1'\n    case 'Rouge':\n      return '2'\n    case 'Jaune':\n      return '6'\n    case 'Rose':\n      return '5'\n    case 'Vert':\n      return '7'\n    case 'Orange':\n      return '4'\n    case 'Gris':\n      return '8'\n  }\n}\n\nclass NoteLaCouleur {\n  objetLutin: ObjetLutin\n  plateauNLC: CouleurNLC[][]\n  currentPos: { x: number; y: number }\n  currentOrientation: number\n  codeScratch: string\n  currentIndex: number\n  relatif: boolean\n  pas: number\n  nx: number\n  ny: number\n  constructor({\n    x = 15,\n    y = 15,\n    orientation = 90,\n    relatif = true,\n    nx = 16,\n    ny = 12,\n    pas = 30,\n    plateau = thePlateau,\n  }: {\n    x?: number\n    y?: number\n    orientation?: number\n    relatif?: boolean\n    nx?: number\n    ny?: number\n    pas?: number\n    plateau?: CouleurNLC[][]\n  }) {\n    this.plateauNLC = plateau\n    this.currentPos = { x, y }\n    this.currentOrientation = orientation\n    this.codeScratch = ''\n    this.currentIndex = 0\n    this.relatif = relatif\n    this.pas = pas\n    this.nx = nx\n    this.ny = ny\n    this.objetLutin = new ObjetLutin()\n    this.objetLutin.x = x\n    this.objetLutin.y = y\n    this.objetLutin.orientation = orientation\n  }\n\n  nlc(): CouleurNLC {\n    return this.plateauNLC[\n      Math.ceil(\n        ((this.relatif\n          ? ((this.ny - 1) * this.pas) >> 1\n          : (this.ny - 1) * this.pas) -\n          this.currentPos.y) /\n          this.pas,\n      )\n    ][\n      Math.ceil(\n        ((this.relatif ? ((this.nx - 1) * this.pas) >> 1 : -this.pas >> 1) +\n          this.currentPos.x) /\n          this.pas,\n      )\n    ] as CouleurNLC\n  }\n\n  testCoords(x: number, y: number) {\n    if (\n      x < (this.relatif ? ((1 - this.nx) * this.pas) >> 1 : this.pas >> 1) ||\n      x >\n        (this.relatif\n          ? (this.nx * this.pas) >> 1\n          : (this.nx - 0.5) * this.pas) ||\n      y < (this.relatif ? ((1 - this.ny) * this.pas) >> 1 : this.pas >> 1) ||\n      y >\n        (this.relatif ? (this.ny * this.pas) >> 1 : (this.ny - 0.5) * this.pas)\n    )\n      return false\n    return true\n  }\n}\n\n/**\n *\n * @param {NoteLaCouleurParams} param0\n * @returns\n */\nexport function noteLaCouleur({\n  x = 15,\n  y = 15,\n  orientation = 90,\n  plateau = thePlateau,\n  relatif = true,\n  nx = 16,\n  ny = 12,\n  pas = 30,\n}: {\n  x?: number\n  y?: number\n  orientation?: number\n  plateau?: CouleurNLC[][]\n  relatif?: boolean\n  nx?: number\n  ny?: number\n  pas?: number\n} = {}) {\n  return new NoteLaCouleur({ x, y, orientation, relatif, plateau, nx, ny, pas })\n}\n\nexport class Plateau2dNLC extends ObjetMathalea2D {\n  relatif: boolean\n  pas: number\n  type: number\n  scale: number\n  nx: number\n  ny: number\n  plateauNLC: CouleurNLC[][]\n  objets: ObjetMathalea2D[]\n  constructor({\n    type = 1,\n    melange = false,\n    scale = 0.5,\n    relatif = true,\n    pas = 30,\n    nx = 16,\n    ny = 12,\n    plateau = thePlateau,\n  } = {}) {\n    super()\n    this.relatif = relatif\n    this.pas = pas\n    this.type = 1\n    this.scale = scale\n    this.nx = nx\n    this.ny = ny\n    this.plateauNLC = plateau\n    this.objets = []\n    if (melange) {\n      for (let i = 0, x1, x2, y1, y2, kase; i < 20; i++) {\n        y1 = randint(1, this.ny - 2)\n        y2 = randint(1, this.ny - 2, y1)\n        x1 = randint(1, this.nx - 2)\n        x2 = randint(1, this.nx - 2)\n        kase = this.plateauNLC[y1][x1] // case est un mot réservé\n        this.plateauNLC[y1][x1] = this.plateauNLC[y2][x2]\n        this.plateauNLC[y2][x2] = kase\n      }\n    }\n\n    this.objets = []\n    let b: BoiteBuilder\n    for (let X = 0; X < this.nx; X++) {\n      for (let Y = 0; Y < this.ny; Y++) {\n        switch (type) {\n          case 1: // plateau couleur classique\n            b = new BoiteBuilder({\n              xMin: X * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMin: Y * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n              xMax: (X + 1) * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMax: (Y + 1) * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n            }).addColor({\n              color: 'black',\n              opacity: 0.8,\n              backgroudOpacity: 0.7,\n              colorBackground: traducColor(\n                this.plateauNLC[ny - 1 - Y][X] as\n                  | 'Blanc'\n                  | 'Bleu'\n                  | 'Noir'\n                  | 'Rouge'\n                  | 'Jaune'\n                  | 'Rose'\n                  | 'Vert'\n                  | 'Orange'\n                  | 'Gris',\n              ),\n            })\n            break\n          case 2: // plateau couleur avec numéros\n            b = new BoiteBuilder({\n              xMin: X * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMin: Y * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n              xMax: (X + 1) * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMax: (Y + 1) * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n            })\n              .addColor({\n                color: 'black',\n                opacity: 0.8,\n                backgroudOpacity: 0.7,\n                colorBackground: traducColor(\n                  this.plateauNLC[ny - 1 - Y][X] as\n                    | 'Blanc'\n                    | 'Bleu'\n                    | 'Noir'\n                    | 'Rouge'\n                    | 'Jaune'\n                    | 'Rose'\n                    | 'Vert'\n                    | 'Orange'\n                    | 'Gris',\n                ),\n              })\n              .addTextIn({\n                size: 1.2,\n                textIn:\n                  traducNum(this.plateauNLC[ny - 1 - Y][X] as CouleurNLC) ?? '',\n                color: 'black',\n                opacity: 0.8,\n              })\n            break\n          case 3: // plateau N&B avec nom des couleurs\n            b = new BoiteBuilder({\n              xMin: X * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMin: Y * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n              xMax: (X + 1) * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMax: (Y + 1) * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n            })\n              .addColor({\n                color: 'black',\n                opacity: 0.8,\n                backgroudOpacity: 1,\n                colorBackground: 'white',\n              })\n              .addTextIn({\n                color: 'black',\n                opacity: 0.9,\n                textIn: this.plateauNLC[ny - 1 - Y][X],\n                size: 0.9,\n              })\n            break\n          case 4: // Plateau N&B avec numéros des couleurs\n          default:\n            b = new BoiteBuilder({\n              xMin: X * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMin: Y * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n              xMax: (X + 1) * 1.5 + (nx >> 1) * (relatif ? -1.5 : 0),\n              yMax: (Y + 1) * 1.5 + (ny >> 1) * (relatif ? -1.5 : 0),\n            })\n              .addColor({\n                color: 'black',\n                backgroudOpacity: 1,\n                colorBackground: 'white',\n                opacity: 0.8,\n              })\n              .addTextIn({\n                size: 1.2,\n                color: 'black',\n                opacity: 0.9,\n                textIn:\n                  traducNum(this.plateauNLC[ny - 1 - Y][X] as CouleurNLC) ?? '',\n              })\n            break\n        }\n        const rendered = b.render()\n        this.objets.push(...(Array.isArray(rendered) ? rendered : [rendered]))\n      }\n    }\n    if (this.relatif)\n      this.objets.push(\n        texteParPositionEchelle(\n          `-${this.pas}`,\n          -1.6,\n          -0.4,\n          0,\n          'black',\n          1.2,\n          'milieu',\n          true,\n          scale,\n        ),\n      )\n    this.objets.push(\n      texteParPositionEchelle(\n        `${this.pas}`,\n        1.5,\n        -0.4,\n        0,\n        'black',\n        1.2,\n        'milieu',\n        true,\n        scale,\n      ),\n    )\n    this.objets.push(\n      texteParPositionEchelle(\n        '0',\n        -0.3,\n        -0.4,\n        0,\n        'black',\n        1.2,\n        'milieu',\n        true,\n        scale,\n      ),\n    )\n    if (this.relatif)\n      this.objets.push(\n        texteParPositionEchelle(\n          `-${this.pas}`,\n          -0.5,\n          -1.5,\n          0,\n          'black',\n          1.2,\n          'milieu',\n          true,\n          scale,\n        ),\n      )\n    this.objets.push(\n      texteParPositionEchelle(\n        `${this.pas}`,\n        -0.5,\n        1.5,\n        0,\n        'black',\n        1.2,\n        'milieu',\n        true,\n        scale,\n      ),\n    )\n    this.objets.push(\n      texteParPositionEchelle(\n        'x',\n        this.nx * (this.relatif ? 0.75 : 1.5) + 0.7,\n        -(this.relatif ? 0.6 : 0.6),\n        0,\n        'purple',\n        1.2,\n        'milieu',\n        true,\n        scale,\n      ),\n    )\n    this.objets.push(\n      texteParPositionEchelle(\n        'y',\n        -0.4,\n        this.ny * (this.relatif ? 0.75 : 1.5) + 0.7,\n        0,\n        'purple',\n        1.2,\n        'milieu',\n        true,\n        scale,\n      ),\n    )\n    if (this.relatif) {\n      this.objets.push(\n        texteParPositionEchelle(\n          '+',\n          (this.nx >> 1) * 1.5 + 0.8,\n          0,\n          0,\n          'purple',\n          1.2,\n          'milieu',\n          true,\n          scale,\n        ),\n      )\n      this.objets.push(\n        texteParPositionEchelle(\n          '-',\n          -(this.nx >> 1) * 1.5 - 0.5,\n          0.2,\n          0,\n          'purple',\n          1.2,\n          'milieu',\n          true,\n          scale,\n        ),\n      )\n      this.objets.push(\n        texteParPositionEchelle(\n          '+',\n          0,\n          (this.ny >> 1) * 1.5 + 0.8,\n          0,\n          'purple',\n          1.2,\n          'milieu',\n          true,\n          scale,\n        ),\n      )\n      this.objets.push(\n        texteParPositionEchelle(\n          '-',\n          0,\n          -(this.ny >> 1) * 1.5 - 0.5,\n          0,\n          'purple',\n          1.2,\n          'milieu',\n          true,\n          scale,\n        ),\n      )\n    }\n    const flechey = segment(\n      0,\n      (this.ny >> 1) * (this.relatif ? -1.5 : 0),\n      0,\n      (this.ny >> 1) * (this.relatif ? 1.5 : 3) + 0.5,\n      'purple',\n    )\n    flechey.styleExtremites = '->'\n    const flechex = segment(\n      (this.nx >> 1) * (this.relatif ? -1.5 : 0),\n      0,\n      (this.nx >> 1) * (this.relatif ? 1.5 : 3) + 0.5,\n      0,\n      'purple',\n    )\n    flechex.styleExtremites = '->'\n    this.objets.push(flechey)\n    this.objets.push(flechex)\n  }\n}\n\nexport function plateau2dNLC({\n  type = 1,\n  melange = false,\n  scale = 0.5,\n  relatif = true,\n  pas = 30,\n  nx = 16,\n  ny = 12,\n  plateau,\n}: {\n  type?: number\n  melange?: boolean\n  scale?: number\n  relatif?: boolean\n  pas?: number\n  nx?: number\n  ny?: number\n  plateau?: CouleurNLC[][]\n} = {}) {\n  if (plateau !== undefined) {\n    return new Plateau2dNLC({\n      type,\n      melange,\n      scale,\n      relatif,\n      pas,\n      nx,\n      ny,\n      plateau,\n    })\n  }\n  return new Plateau2dNLC({\n    type,\n    melange,\n    scale,\n    relatif,\n    pas,\n    nx,\n    ny,\n  })\n}\n"],"names":["thePlateau","testBoucle","repetitions","codes","nlc","sortiboucle","test","pionfantome","noteLaCouleur","i","testSequence","testInstruction","code","lutin","avancepion","d","x","y","s","orientation","latex","avance","tournerD","tournerG","sorti","traducColor","couleur","traducNum","NoteLaCouleur","relatif","nx","ny","pas","plateau","__publicField","ObjetLutin","Plateau2dNLC","ObjetMathalea2D","type","melange","scale","x1","x2","y1","y2","kase","randint","b","X","Y","BoiteBuilder","rendered","texteParPositionEchelle","flechey","segment","flechex","plateau2dNLC"],"mappings":"wcAkBO,MAAMA,EAA6B,CACxC,CACE,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OAAA,EAEF,CACE,QACA,OACA,QACA,OACA,OACA,SACA,QACA,SACA,OACA,QACA,OACA,OACA,OACA,OACA,QACA,OAAA,EAEF,CACE,QACA,QACA,OACA,SACA,QACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,QACA,OACA,QACA,OAAA,EAEF,CACE,QACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,OAAA,EAEF,CACE,QACA,OACA,OACA,OACA,OACA,OACA,SACA,OACA,QACA,SACA,QACA,OACA,QACA,OACA,OACA,OAAA,EAEF,CACE,QACA,OACA,SACA,QACA,SACA,QACA,QACA,QACA,QACA,OACA,OACA,SACA,OACA,QACA,OACA,OAAA,EAEF,CACE,QACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,OACA,OACA,OACA,QACA,OACA,OAAA,EAEF,CACE,QACA,OACA,QACA,OACA,OACA,SACA,OACA,OACA,SACA,OACA,QACA,OACA,OACA,OACA,OACA,OAAA,EAEF,CACE,QACA,SACA,OACA,QACA,QACA,OACA,OACA,QACA,OACA,OACA,OACA,OACA,QACA,SACA,OACA,OAAA,EAEF,CACE,QACA,OACA,QACA,SACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,OACA,QACA,OACA,SACA,OAAA,EAEF,CACE,QACA,OACA,OACA,QACA,OACA,SACA,QACA,OACA,OACA,QACA,OACA,OACA,QACA,OACA,QACA,OAAA,EAEF,CACE,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,OAAA,CAEJ,EA2BO,SAASC,EACdC,EACAC,EACAC,EACA,CACA,IAAIC,EAAc,GACdC,EACJ,MAAMC,EAAcC,EAAc,CAChC,EAAG,EACH,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"}