{"version":3,"file":"auto6N2D-1-DRosjVVv.js","sources":["../../src/exercices/6e/auto6N2D-1.ts"],"sourcesContent":["import { glisseNombreInteractif } from '../../lib/apps/glisse_nombre_interactif'\nimport { bleuMathalea } from '../../lib/colors'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  coloreUnSeulChiffre,\n  miseEnEvidence,\n} from '../../lib/outils/embellissements'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieDecimale,\n  nombreDeChiffresDansLaPartieEntiere,\n} from '../../lib/outils/nombres'\nimport { sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const titre = 'Multiplier un nombre décimal par 10, 100 ou 1 000'\nexport const dateDePublication = '20/09/2025'\n\n/**\n * Multiplication d'un nombre décimal dans différentes écritures par 10, 100, 1000\n * @author Eric Elter et IA_Claude (basé sur auto6N2D)\n */\nexport const uuid = '5ec3c'\n\nexport const refs = {\n  'fr-fr': ['auto6N2D-1'],\n  'fr-2016': [''],\n  'fr-ch': [],\n}\n\nexport function donneNomClasse(valeur: number): string[] {\n  switch (valeur) {\n    case 1:\n      return ['unités', 'unités']\n    case 10:\n      return ['dixièmes', 'dizaines']\n    case 100:\n      return ['centièmes', 'centaines']\n    case 1000:\n      return ['millièmes', 'milliers']\n    default:\n      throw new Error('Valeur non prise en charge. Utilise 10, 100 ou 1000.')\n  }\n}\n\nexport function chiffreAPositionDecimale(\n  nombre: number,\n  position: number,\n): number {\n  // Convertir le nombre en chaîne pour extraire les chiffres\n  const nombreStr = Math.abs(nombre).toString()\n  const partieDecimale = nombreStr.split('.')[1] || ''\n\n  // Calculer l'index dans la partie décimale\n  const indexDecimal = Math.log10(position)\n\n  if (indexDecimal >= 0 && indexDecimal < partieDecimale.length) {\n    return parseInt(partieDecimale[indexDecimal]) || 0\n  }\n  return 0\n}\n\nexport function analyserNombre(nombre: number): {\n  estEntier: boolean\n  doublonUnites: boolean\n} {\n  const estEntier = Math.floor(nombre) === nombre\n  // Étape 1 : récupérer le chiffre des unités\n  const chiffreUnites = Math.abs(Math.floor(nombre)) % 10\n\n  // Étape 2 : transformer le nombre en chaîne, sans le signe\n  const chiffres = Math.abs(nombre).toString().replace('.', '')\n\n  // Étape 3 : compter combien de fois le chiffre des unités apparaît\n  const occurrences = chiffres\n    .split('')\n    .filter((chiffre, index, arr) => parseInt(chiffre) === chiffreUnites)\n\n  // Il y a un doublon si le chiffre des unités apparaît au moins deux fois\n  const doublonUnites = occurrences.length > 1\n\n  return { estEntier, doublonUnites }\n}\n\nexport default class MultiplierDecimauxPar101001000 extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Nombre à trouver',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Produit',\n        '2 : Premier facteur',\n        '3 : Deuxième facteur',\n        '4 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire2Texte = [\n      'Type du premier facteur',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Entiers',\n        '2 : Décimaux',\n        '3 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire3Texte = [\n      'Taille du premier facteur',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Plus petit que la puissance de 10',\n        '2 : Plus grand que la puissance de 10',\n        '3 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire4CaseACocher = ['Avec glisse-nombres']\n    this.sup = '1-2'\n    this.sup2 = '3'\n    this.sup3 = '3'\n    this.sup4 = true\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 8\n    this.comment =\n      'Le premier paramètre permet de déterminer le nombre à rechercher dans chaque multiplication.<br><br>'\n    this.comment +=\n      'Le deuxième paramètre permet de choisir si le premier facteur est un nombre entier, un nombre décimal ou un mélange des deux.<br><br>'\n    this.comment +=\n      'Le troisième paramètre permet de choisir si le premier facteur est inférieur ou supérieur à la puissance de 10 utilisée.<br><br>'\n    this.comment +=\n      \"Le quatrième paramètre permet de choisir si cet exercice dispose d'un glisse-nombre.<br><br>\"\n    this.comment +=\n      'Le cinquième paramètre permet de choisir si cet exercice propose une correction sèche ou une correction détaillée.'\n    this.correctionDetaillee = false\n    this.correctionDetailleeDisponible = true\n    this.consigne = 'Compléter.'\n  }\n\n  nouvelleVersion() {\n    const typesDeNombresCherches = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: this.nbQuestions,\n    })\n    const typesDeNombres = combinaisonListes(\n      typesDeNombresCherches,\n      this.nbQuestions,\n    )\n\n    const typesDeFacteursDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      max: 2,\n      melange: 3,\n      defaut: 3,\n      nbQuestions: this.nbQuestions,\n    })\n\n    const typesDeResultatsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup3,\n      max: 2,\n      melange: 3,\n      defaut: 3,\n      nbQuestions: this.nbQuestions,\n    })\n\n    if (context.isHtml && this.sup4) {\n      this.consigne = 'Compléter.'\n      this.consigne += '<br>Un glisse-nombre est à disposition pour répondre '\n      this.consigne +=\n        this.nbQuestions === 1 ? 'à la question.' : 'aux questions.'\n      this.consigne += glisseNombreInteractif({ number: 2.025 })\n    } else {\n      this.consigne = 'Compléter.'\n    }\n\n    const puissances = combinaisonListes([1, 2, 3], this.nbQuestions)\n\n    for (\n      let i = 0, texte, cpt = 0, a, b, choixPuissance10, aEntier;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      aEntier = choice([randint(11, 99), randint(101, 999)])\n      b = puissances[i]\n\n      // D'abord, générer a selon la comparaison avec la puissance de 10\n      if (typesDeResultatsDisponibles[i] === 1) {\n        // a plus petit que la puissance de 10\n        if (Math.pow(10, b) === 10) {\n          // Pour ×10, a doit être < 10\n          a = arrondi(randint(1, 9) + Math.random())\n        } else if (Math.pow(10, b) === 100) {\n          // Pour ×100, a doit être < 100\n          a = arrondi(randint(1, 99) + Math.random())\n        } else {\n          // Pour ×1000, a doit être < 1000\n          a = arrondi(randint(1, 999) + Math.random())\n        }\n      } else if (typesDeResultatsDisponibles[i] === 2) {\n        // a plus grand que la puissance de 10\n        if (Math.pow(10, b) === 10) {\n          // Pour ×10, a doit être > 10\n          a = arrondi(randint(11, 999) + Math.random())\n        } else if (Math.pow(10, b) === 100) {\n          // Pour ×100, a doit être > 100\n          a = arrondi(randint(101, 999) + Math.random())\n        } else {\n          // Pour ×1000, a doit être > 1000\n          a = arrondi(randint(1001, 9999) + Math.random())\n        }\n      } else {\n        // Mélange : générer normalement\n        choixPuissance10 = Math.pow(10, randint(-3, -1))\n        a = arrondi(aEntier * choixPuissance10)\n      }\n\n      // Ensuite, ajuster selon le type de facteur demandé\n      if (typesDeFacteursDisponibles[i] === 1) {\n        // Pour avoir un entier\n        a = Math.floor(a)\n        if (a === 0) a = aEntier // Sécurité\n      } else {\n        // Pour avoir un décimal avec variété\n        // 1. Partie entière : 1 à 4 chiffres avec variété\n        let partieEntiere = Math.floor(a)\n        if (partieEntiere >= 1000) {\n          // Parfois réduire pour avoir moins de chiffres\n          if (Math.random() < 0.3) partieEntiere = randint(1, 999)\n          else if (Math.random() < 0.5) partieEntiere = randint(100, 999)\n        } else if (partieEntiere >= 100) {\n          // Parfois réduire pour avoir moins de chiffres\n          if (Math.random() < 0.4) partieEntiere = randint(1, 99)\n        }\n\n        // 2. Partie décimale : 1 à 3 chiffres avec variété\n        const nbDecimales = choice([1, 2, 3])\n        let partieDecimale = 0\n\n        if (nbDecimales === 1) {\n          partieDecimale = randint(1, 9) / 10\n        } else if (nbDecimales === 2) {\n          partieDecimale = randint(1, 99) / 100\n        } else {\n          partieDecimale = randint(1, 999) / 1000\n        }\n\n        a = arrondi(partieEntiere + partieDecimale)\n\n        // Vérifier encore la contrainte de taille si nécessaire\n        if (typesDeResultatsDisponibles[i] === 1 && a >= Math.pow(10, b)) {\n          // Réduire la partie entière\n          partieEntiere = randint(1, Math.pow(10, b) - 1)\n          a = arrondi(partieEntiere + partieDecimale)\n        } else if (\n          typesDeResultatsDisponibles[i] === 2 &&\n          a <= Math.pow(10, b)\n        ) {\n          // Augmenter la partie entière\n          partieEntiere = randint(Math.pow(10, b) + 1, Math.pow(10, b) * 10)\n          a = arrondi(partieEntiere + partieDecimale)\n        }\n      }\n\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n\n        const choixClasseEntiere = donneNomClasse(Math.pow(10, b))[0]\n        const choixClasseDecimale = donneNomClasse(Math.pow(10, b))[1]\n        const chiffreDesUnites = Math.abs(Math.floor(a)) % 10\n\n        // Pour identifier correctement le chiffre qui se déplace et sa destination\n        const nombreStr = a.toString()\n        const partieDecimale = nombreStr.split('.')[1] || ''\n        let chiffreQuiSeDeplace = chiffreDesUnites\n        let positionOriginale = 'unités'\n        let positionDestination = choixClasseDecimale\n\n        // Si a < 1, le chiffre significatif est dans la partie décimale\n        if (a < 1 && partieDecimale.length > 0) {\n          // Trouver le premier chiffre non nul dans la partie décimale\n          for (let i = 0; i < partieDecimale.length; i++) {\n            const chiffre = parseInt(partieDecimale[i])\n            if (chiffre !== 0) {\n              chiffreQuiSeDeplace = chiffre\n              if (i === 0) {\n                positionOriginale = 'dixièmes'\n                // dixièmes × 10 = unités, × 100 = dizaines, × 1000 = centaines\n                if (b === 1) positionDestination = 'unités'\n                else if (b === 2) positionDestination = 'dizaines'\n                else if (b === 3) positionDestination = 'centaines'\n              } else if (i === 1) {\n                positionOriginale = 'centièmes'\n                // centièmes × 10 = dixièmes, × 100 = unités, × 1000 = dizaines\n                if (b === 1) positionDestination = 'dixièmes'\n                else if (b === 2) positionDestination = 'unités'\n                else if (b === 3) positionDestination = 'dizaines'\n              } else if (i === 2) {\n                positionOriginale = 'millièmes'\n                // millièmes × 10 = centièmes, × 100 = dixièmes, × 1000 = unités\n                if (b === 1) positionDestination = 'centièmes'\n                else if (b === 2) positionDestination = 'dixièmes'\n                else if (b === 3) positionDestination = 'unités'\n              }\n              break\n            }\n          }\n        } else {\n          // Pour les nombres ≥ 1, le chiffre des unités devient la position donnée par choixClasseDecimale\n          positionOriginale = 'unités'\n          positionDestination = choixClasseDecimale\n        }\n\n        let texteCorr = ''\n        let reponse = 0\n\n        switch (typesDeNombres[i]) {\n          case 1: // Recherche du produit\n            texte = `$${texNombre(a)}\\\\times${texNombre(Math.pow(10, b))}=$`\n\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(\n                this,\n                i,\n                KeyboardType.clavierDeBaseAvecFraction,\n              )\n            } else texte += sp() + '$ \\\\ldots$'\n\n            if (this.correctionDetaillee) {\n              texteCorr = `Quand on multiplie par $${texNombre(Math.pow(10, b))}$, tous les chiffres prennent une position $${texNombre(Math.pow(10, b))}$ fois plus grande.<br>`\n              texteCorr += `En particulier, quand on multiplie $${texNombre(a)}$ par $${texNombre(Math.pow(10, b))}$, alors `\n              texteCorr += `le chiffre des ${positionOriginale} de $${texNombre(a)}$ (${analyserNombre(a).doublonUnites ? 'ce ' : ''}chiffre $${miseEnEvidence(chiffreQuiSeDeplace, bleuMathalea)}$ dans $${coloreUnSeulChiffre(texNombre(a), bleuMathalea, 1)}$) devient le chiffre des ${positionDestination}.<br>`\n            }\n            texteCorr += `$${texNombre(a)} \\\\times ${texNombre(\n              Math.pow(10, b),\n            )} = ${miseEnEvidence(texNombre(a * Math.pow(10, b)))}$`\n            reponse = arrondi(a * Math.pow(10, b))\n            // Important laisser ici les deux options de comparaison\n            handleAnswers(this, i, {\n              reponse: {\n                value: reponse,\n                options: { fractionEgale: true, nombreDecimalSeulement: true },\n              },\n            })\n\n            break\n          case 2: // Recherche du premier facteur\n            texte = `$\\\\times${texNombre(Math.pow(10, b))}=${texNombre(a * Math.pow(10, b))}$`\n\n            if (this.interactif) {\n              texte = ajouteChampTexteMathLive(\n                this,\n                i,\n                KeyboardType.clavierDeBaseAvecFraction,\n                { texteApres: texte },\n              )\n            } else texte = '$ \\\\ldots$' + texte\n\n            if (this.correctionDetaillee) {\n              texteCorr = `Quand on multiplie par $${texNombre(Math.pow(10, b))}$, tous les chiffres prennent une position $${texNombre(Math.pow(10, b))}$ fois plus grande.<br>`\n              const produit = a * Math.pow(10, b)\n              if (produit >= 10) {\n                texteCorr += `Notamment, le chiffre des ${choixClasseEntiere} devient le chiffre des ${choixClasseDecimale}.<br>`\n                texteCorr += `Dans $${coloreUnSeulChiffre(texNombre(produit), bleuMathalea, Math.pow(10, b))}$ (le résultat du calcul), le chiffre des ${choixClasseDecimale} est $${miseEnEvidence(chiffreDesUnites, bleuMathalea)}$`\n                texteCorr += ` donc le chiffre des ${choixClasseEntiere} du nombre recherché est $${miseEnEvidence(chiffreDesUnites, bleuMathalea)}$.<br>`\n              } else {\n                texteCorr += `Notamment, le chiffre des unités devient le chiffre des ${choixClasseDecimale}.<br>`\n                texteCorr += `Dans $${coloreUnSeulChiffre(texNombre(produit), bleuMathalea, Math.pow(10, b))}$ (le résultat du calcul), le chiffre des ${choixClasseDecimale} est $${miseEnEvidence(chiffreQuiSeDeplace, bleuMathalea)}$`\n                texteCorr += ` donc le chiffre des unités du nombre recherché est $${miseEnEvidence(chiffreQuiSeDeplace, bleuMathalea)}$.<br>`\n              }\n            }\n            texteCorr += `$${miseEnEvidence(texNombre(a))} \\\\times ${texNombre(\n              Math.pow(10, b),\n            )} = ${texNombre(a * Math.pow(10, b))}$`\n            reponse = a\n            // Important laisser ici les deux options de comparaison\n            handleAnswers(this, i, {\n              reponse: {\n                value: reponse,\n                options: { fractionEgale: true, nombreDecimalSeulement: true },\n              },\n            })\n            break\n          case 3: // Recherche de la puissance de 10\n          default:\n            texte = `$${texNombre(a)}~\\\\times$`\n\n            if (this.interactif) {\n              texte += ajouteChampTexteMathLive(\n                this,\n                i,\n                KeyboardType.clavierDeBaseAvecFraction,\n                { texteApres: `$=${texNombre(a * Math.pow(10, b))}$` },\n              )\n            } else {\n              texte +=\n                sp() +\n                '$ \\\\ldots$' +\n                sp() +\n                `$=${texNombre(a * Math.pow(10, b))}$`\n            }\n\n            if (this.correctionDetaillee) {\n              texteCorr = `Quand on multiplie par $${texNombre(Math.pow(10, b))}$, tous les chiffres prennent une position $${texNombre(Math.pow(10, b))}$ fois plus grande.<br>`\n              const produit = a * Math.pow(10, b)\n              if (a < 1) {\n                texteCorr += `Le chiffre des ${positionOriginale} de $${texNombre(a)}$ (${analyserNombre(arrondi(produit)).doublonUnites ? 'ce ' : ''}chiffre $${miseEnEvidence(chiffreQuiSeDeplace, bleuMathalea)}$ dans $${coloreUnSeulChiffre(texNombre(a), bleuMathalea, Math.pow(10, -b))}$`\n                texteCorr += `) devient le chiffre des ${positionDestination} (dans $${coloreUnSeulChiffre(texNombre(produit), bleuMathalea, Math.pow(10, b))}$).<br>`\n              } else {\n                texteCorr += `Le chiffre des unités de $${texNombre(a)}$ (${analyserNombre(arrondi(a)).doublonUnites ? 'ce ' : ''}chiffre $${miseEnEvidence(chiffreDesUnites, bleuMathalea)}$ dans $${coloreUnSeulChiffre(texNombre(a), bleuMathalea, 1)}$`\n                texteCorr += `) devient le chiffre des ${positionDestination} (dans $${coloreUnSeulChiffre(texNombre(produit), bleuMathalea, Math.pow(10, b))}$).<br>`\n              }\n              texteCorr += `Tous les chiffres prennent donc une position $${texNombre(Math.pow(10, b))}$ fois plus grande.<br>`\n            }\n\n            texteCorr += `$${texNombre(a)} \\\\times ${miseEnEvidence(\n              texNombre(Math.pow(10, b)),\n            )} = ${texNombre(a * Math.pow(10, b))}$`\n            reponse = Math.pow(10, b)\n\n            handleAnswers(this, i, {\n              reponse: {\n                value: reponse,\n                options: { nombreDecimalSeulement: true },\n              },\n            })\n            break\n        }\n\n        if (this.sup4) {\n          texteCorr += glisseNombreInteractif({ number: a, animation: b })\n        }\n\n        if (context.isAmc) {\n          this.autoCorrection[i].enonce = texte\n          this.autoCorrection[i].propositions = [{ texte: texteCorr }]\n          // @ts-expect-error trop compliqué à typer\n          this.autoCorrection[i].reponse.param = {\n            digits:\n              nombreDeChiffresDansLaPartieEntiere(reponse) +\n              nombreDeChiffresDansLaPartieDecimale(reponse) +\n              2,\n            decimals: nombreDeChiffresDansLaPartieDecimale(reponse) + 1,\n            signe: false,\n            exposantNbChiffres: 0,\n          }\n        }\n        this.listeQuestions[i] = texte.replaceAll('$$', '')\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["amcReady","amcType","interactifReady","interactifType","titre","dateDePublication","uuid","refs","donneNomClasse","valeur","chiffreAPositionDecimale","nombre","position","partieDecimale","indexDecimal","analyserNombre","estEntier","chiffreUnites","doublonUnites","chiffre","index","arr","MultiplierDecimauxPar101001000","Exercice","typesDeNombresCherches","gestionnaireFormulaireTexte","typesDeNombres","combinaisonListes","typesDeFacteursDisponibles","typesDeResultatsDisponibles","context","glisseNombreInteractif","puissances","i","texte","cpt","a","b","choixPuissance10","aEntier","choice","randint","arrondi","partieEntiere","nbDecimales","choixClasseEntiere","choixClasseDecimale","chiffreDesUnites","chiffreQuiSeDeplace","positionOriginale","positionDestination","texteCorr","reponse","texNombre","ajouteChampTexteMathLive","KeyboardType","sp","miseEnEvidence","bleuMathalea","coloreUnSeulChiffre","handleAnswers","produit","nombreDeChiffresDansLaPartieEntiere","nombreDeChiffresDansLaPartieDecimale","listeQuestionsToContenu"],"mappings":"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"}