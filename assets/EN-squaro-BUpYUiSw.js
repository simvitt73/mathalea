var y=Object.defineProperty;var v=(p,l,n)=>l in p?y(p,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):p[l]=n;var a=(p,l,n)=>v(p,typeof l!="symbol"?l+"":l,n);import{S as k,o as C,t as P,v as A,E as M}from"./vendors/apigeom-CvUqzk7F.js";import{f as S}from"./figureApigeom-CfRhVzx4.js";import{E,r as L,a1 as q,p as T,P as B}from"./index-Bl1vqpvV.js";import"./vendors/katex-BISJkeK-.js";import"./vendors/seedrandom-Cz-2rAdY.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/decimal.js-BceHFVC1.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";/* empty css                         */import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/three-q_6hD11P.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./json/uuidsToUrlFR-Cc7zu7XX.js";import"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-B10GlhlX.js";import"./json/refToUuidCH-CKb1Gq_b.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-BM0iwKz4.js";import"./json/referentiel2022FR-DRcEqmJS.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";const D="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3ccircle%20id='circle1225'%20style='fill:blue;stroke:blue;stroke-width:0.9375'%20cx='482.85648'%20cy='369.90331'%20r='17.21113'/%3e%3c/g%3e%3c/svg%3e",F="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3cpath%20id='rect1225'%20style='fill:red;stroke:red;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20494.9404,357.8194%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e",We="15/07/2024",je="Résoudre une grille de SquarO",Ne=!0,Ke="custom",Qe="e2024",Xe={"fr-fr":["EN-SquarO"],"fr-ch":[]};class Ye extends E{constructor(){super();a(this,"figure");a(this,"figureCorrection");a(this,"goodAnswers");a(this,"nbSommets");a(this,"longueur");a(this,"largeur");a(this,"blueButton");a(this,"correctionInteractive",()=>{var u;this.answers==null&&(this.answers={}),this.answers[this.figure.id]=this.figure.json;const n=document.querySelector(`#feedbackEx${this.numeroExercice}Q0`);let d=!0,h=!0,g=0;for(let s=0;s<this.largeur;s++)for(let r=0;r<this.longueur;r++)h=(this.figure.checkCoords({x:r,y:this.largeur-s,color:"blue"}).isValid?1:0)+(this.figure.checkCoords({x:r,y:this.largeur-s-1,color:"blue"}).isValid?1:0)+(this.figure.checkCoords({x:r+1,y:this.largeur-s,color:"blue"}).isValid?1:0)+(this.figure.checkCoords({x:r+1,y:this.largeur-s-1,color:"blue"}).isValid?1:0)===this.nbSommets[r+s*this.longueur],h&&g++,d&&(d=h);this.figure.isDynamic=!1,this.figure.divButtons.style.display="none",this.figure.divUserMessage.style.display="none",(u=this.figure.buttons.get("SHAKE"))==null||u.click();const o=[...this.figure.elements.values()].filter(s=>s.type!=="pointer"&&s.type==="Point"&&s.color==="blue").length;d&&(d=o===this.goodAnswers.length);let c;return d?(n.innerHTML="Bravo !",["OK"]):(o===this.goodAnswers.length?c="Le nombre de points placés est correct mais "+(g===1?"seul 1 est bien placé.":`seuls ${g} sont bien placés.`):o>this.goodAnswers.length?c="Le nombre de points placés est trop important par rapport à ce qui est attendu.":c="Le nombre de points placés n'est pas assez important par rapport à ce qui est attendu.",n.innerHTML=c,["KO"])});this.goodAnswers=[],this.nbSommets=[],this.nbQuestions=1,this.nbQuestionsModifiable=!1,this.exoCustomResultat=!0,this.besoinFormulaireTexte=["Longueur de la grille","Choisir un nombre entier entre 2 et 15."],this.besoinFormulaire2Texte=["Hauteur de la grille","Choisir un nombre entier entre 2 et 15."],this.besoinFormulaire3CaseACocher=["Aide sur le nombre total de points bleus"],this.besoinFormulaire4Texte=["Nombre de points bleus déjà affichés",`1 : Un seul point
2 : Deux points
3 : Trois points
4 : Le quart des points
5 : Le tiers des points
6 : La moitié des points
7 : Aucun`],this.sup=5,this.sup2=5,this.sup3=!0,this.sup4=7,this.longueur=this.sup,this.largeur=this.sup2}nouvelleVersion(){this.consigne="Cette grille de SquarO est à compléter en plaçant un certain nombre de points bleus dans les ronds vides qui sont sur les sommets des cases. ",this.consigne+="Le chiffre présent dans chaque case indique le nombre de points bleus qui l’entourent parmi les 4 sommets.",this.consigne+=this.interactif?"<br>Si vous le souhaitez, vous pouvez placer les points rouges en forme de croix pour signaler des positions impossibles des points bleus.":"",this.comment="Grâce au choix de la longueur et de la hauteur de la grille et grâce à l'aide ci-dessus sur des points initialement affichés, vous pouvez graduer la difficulté des grilles SquarO proposées.",this.longueur=Math.max(2,Math.min(parseInt(this.sup),15))||2,this.largeur=Math.max(2,Math.min(parseInt(this.sup2),15))||2,this.figure=new k({xMin:-.25,yMin:-.25,width:this.longueur*30+20,height:this.largeur*30+20,border:!1}),this.figure.create("Grid",{strokeWidthGrid:1,color:"black",yMin:0,yMax:this.largeur,xMax:this.longueur,xMin:0,axeX:!1,axeY:!1,labelX:!1,labelY:!1}),this.figure.snapGrid=!0,this.figure.options.color="blue",this.figure.options.shape="o",this.figure.options.labelIsVisible=!1,this.figure.setToolbar({tools:["DRAG","REMOVE"],position:"top"}),this.figureCorrection=new k({xMin:-.25,yMin:-.25,width:this.longueur*30+20,height:this.largeur*30+20,border:!1}),this.figureCorrection.create("Grid",{strokeWidthGrid:1,color:"black",yMin:0,yMax:this.largeur,xMax:this.longueur,xMin:0,axeX:!1,axeY:!1,labelX:!1,labelY:!1}),this.figureCorrection.snapGrid=!0,this.figureCorrection.options.color=C,this.figureCorrection.options.shape="o",this.figureCorrection.options.labelIsVisible=!1,this.figure.options.gridWithTwoPointsOnSamePosition=!1;const n=()=>{var e;this.figure.options.shape="o",this.figure.options.color="blue",(e=this.figure.ui)==null||e.send({type:"POINT"})},d=()=>{var e;this.figure.options.shape="x",this.figure.options.color="red",(e=this.figure.ui)==null||e.send({type:"POINT"})},h=()=>{for(const e of this.figure.elements.values())e.type==="Point"&&e instanceof M&&e.isVisible&&e.remove();this.figure.saveState(),setTimeout(()=>{this.blueButton!=null&&this.blueButton.click()},500)};this.blueButton=this.figure.addCustomButton({action:n,tooltip:"Placer un point bleu",userMessage:"Cliquer pour placer un point bleu",url:D}),this.figure.addCustomButton({action:d,tooltip:"Placer une croix rouge",userMessage:"Cliquer pour placer une croix rouge",url:F}),this.figure.addCustomButton({action:h,tooltip:"Effacer tous les points",url:P});const g=S({exercice:this,i:0,figure:this.figure});this.goodAnswers=[];const o=[];for(let e=0;e<=this.largeur;e++)for(let i=0;i<=this.longueur;i++){const t=L(0,1);o.push(t),t===0&&(this.goodAnswers.push({x:i,y:this.largeur-e}),this.figureCorrection.create("Point",{x:i,y:this.largeur-e}))}let c=`Cette grille doit contenir ${q(this.goodAnswers.length.toString(),"blue")} `;c+=this.goodAnswers.length===1?"point bleu.":"points bleus.",this.nbSommets=[];for(let e=0;e<this.largeur;e++)for(let i=0;i<this.longueur;i++){const t=4-(o[i+e*(this.longueur+1)]+o[i+1+e*(this.longueur+1)]+o[i+(e+1)*(this.longueur+1)]+o[i+1+(e+1)*(this.longueur+1)]);this.nbSommets.push(t),this.figure.create("TextByPosition",{anchor:"middleCenter",text:t.toString(),x:i+.5,y:this.largeur-e-.5,isDeletable:!1}),this.figureCorrection.create("TextByPosition",{anchor:"middleCenter",text:t.toString(),x:i+.5,y:this.largeur-e-.5,isDeletable:!1})}for(let e=0;e<=this.largeur;e++)for(let i=0;i<=this.longueur;i++){const t=this.figure.create("Point",{x:i,y:e,isVisible:!1,color:"white",isSelectable:!1});this.figure.create("Circle",{center:t,radius:.2,fillColor:"white",color:"black",fillOpacity:1,isSelectable:!1})}this.figure.elements.forEach(e=>{e instanceof A&&(e.isDeletable=!1)});let u=0;switch(this.sup4){case"1":case"2":case"3":u=parseInt(this.sup4);break;case"4":u=this.goodAnswers.length/4;break;case"5":u=this.goodAnswers.length/3;break;case"6":u=this.goodAnswers.length/2;break}let s=this.goodAnswers.slice();for(let e=0;e<u;e++){const i=T(s);this.figure.create("Point",{x:i.x,y:i.y,color:"blue"}),s=s.filter(t=>!(t.x===i.x&&t.y===i.y))}if(this.interactif){this.figure.divUserMessage.style.textAlign="left";const e=document.createElement("div"),i=document.createElement("div"),t=document.createElement("input");t.type="checkbox",t.id=`${this.numeroExercice}checkboxAide`,t.checked=!0,t.onchange=()=>{e.style.display=t.checked?"block":"none"};const f=document.createElement("label");f.htmlFor=`${this.numeroExercice}checkboxAide`,f.textContent="Afficher le nombre de points bleus présents sur la grille",f.classList.add("m-2"),i.classList.add("mt-4","text-coopmaths-struct"),e.classList.add("mt-4","text-coopmaths-struct"),this.figure.divFigureAndUserMessage.appendChild(i),i.appendChild(t),i.appendChild(f),this.figure.divFigureAndUserMessage.appendChild(e),this.figure.onChange(()=>{const b=[...this.figure.elements.values()].filter(w=>w.type==="Point"&&w.color==="blue").length;e.innerHTML=`Cette grille contient actuellement ${b} point${b===1?"":"s"} bleu${b===1?"":"s"}.`});const x=()=>{this.blueButton.click(),document.removeEventListener("exercicesAffiches",x)};document.addEventListener("exercicesAffiches",x)}else this.figure.isDynamic=!1,this.figure.divButtons.style.display="none",this.figure.divUserMessage.style.display="none";let r="Voici une solution possible :<br>"+this.figureCorrection.getStaticHtml(),m=(this.sup3?c:"")+g;if(!B.isHtml){let e="";for(let i=0;i<o.length-1;i++)e+=o[i]+",";e+=o[o.length-1],m=(this.sup3?"<br>"+c:"")+`<br><br>\\SquarO[Largeur=${this.largeur},Longueur=${this.longueur},Perso]{`,m+=e,m+="}",r=`Voici une solution possible :<br>\\SquarO[Largeur=${this.largeur},Longueur=${this.longueur},Perso,Solution]{`,r+=e,r+="}"}this.listeQuestions.push(m),this.listeCorrections.push(r)}}export{We as dateDePublication,Ye as default,Ne as interactifReady,Ke as interactifType,Xe as refs,je as titre,Qe as uuid};
//# sourceMappingURL=EN-squaro-BUpYUiSw.js.map
