{"version":3,"file":"Trinome-Bgft5BJC.js","sources":["../../src/modules/Trinome.ts"],"sourcesContent":["import { extraireRacineCarree } from '../lib/outils/calculs'\nimport FractionEtendue from './FractionEtendue'\n\ntype numberOrFraction = number | FractionEtendue\n\n/**\n * Gère les polynômes du second degré\n *  - Définition depuis la forme développée, canonique ou factorisée\n *  - Calcul du discriminant, des racines, des coordonnées du sommet\n *  - Compatible avec la classe FractionEtendue pour la gestion du calcul exact avec les rationnels\n *  - this.x1 est toujours la plus petite des deux racines et this.x2 la plus grande indépendemment des valeurs x1 et x2 passées à defFormeFactorisee()\n *  - this.texX1, this.texCalculRacine1 sont relatifs à la plus petite des deux racines, this.texX2 et this.texCalculRacine2 à la plus grande.\n * @author Rémi Angot\n */\nexport default class Trinome {\n  a: FractionEtendue\n  b: FractionEtendue\n  c: FractionEtendue\n  _discriminant: FractionEtendue | undefined // J'ai viré false le 06/02/2025 : il n'y a aucun cas où _discriminant serait false (JCL)\n  /** Définit un trinôme de la forme ax^2 + bx + c */\n  constructor(a: numberOrFraction, b: numberOrFraction, c: numberOrFraction) {\n    if (typeof a === 'number') this.a = new FractionEtendue(a, 1)\n    else this.a = a\n    if (typeof b === 'number') this.b = new FractionEtendue(b, 1)\n    else this.b = b\n    if (typeof c === 'number') this.c = new FractionEtendue(c, 1)\n    else this.c = c\n    this._discriminant = undefined\n  }\n\n  /** Modifie le polynome pour qu'il soit égal à a(x-x1)(x-x2) */\n  defFormeFactorisee(\n    a: numberOrFraction,\n    x1: numberOrFraction,\n    x2: numberOrFraction,\n  ) {\n    if (a instanceof FractionEtendue === false) a = new FractionEtendue(a, 1)\n    if (x1 instanceof FractionEtendue === false) x1 = new FractionEtendue(x1, 1)\n    if (x2 instanceof FractionEtendue === false) x2 = new FractionEtendue(x2, 1)\n    this.a = a\n    this.b = x1.oppose().sommeFraction(x2.oppose()).produitFraction(a)\n    this.c = x1.produitFraction(x2).produitFraction(a)\n  }\n\n  /** Modifie le polynome pour qu'il soit égal à k(ax+b)(cx+d) */\n  defFormeFactorisee2(\n    k: numberOrFraction,\n    a: numberOrFraction,\n    b: numberOrFraction,\n    c: numberOrFraction,\n    d: numberOrFraction,\n  ) {\n    if (k instanceof FractionEtendue === false) k = new FractionEtendue(k, 1)\n    if (a instanceof FractionEtendue === false) a = new FractionEtendue(a, 1)\n    if (b instanceof FractionEtendue === false) b = new FractionEtendue(b, 1)\n    if (c instanceof FractionEtendue === false) c = new FractionEtendue(c, 1)\n    if (d instanceof FractionEtendue === false) d = new FractionEtendue(d, 1)\n    this.a = k.produitFraction(a).produitFraction(c)\n    this.b = k\n      .produitFraction(a)\n      .produitFraction(d)\n      .sommeFraction(k.produitFraction(b).produitFraction(c))\n    this.c = k.produitFraction(b).produitFraction(d)\n  }\n\n  /** Modifie le polynome pour qu'il soit égal à a(x - alpha)^2 + beta */\n  defFormeCanonique(\n    a: numberOrFraction,\n    alpha: numberOrFraction,\n    beta: numberOrFraction,\n  ) {\n    if (a instanceof FractionEtendue === false) a = new FractionEtendue(a, 1)\n    if (alpha instanceof FractionEtendue === false)\n      alpha = new FractionEtendue(alpha, 1)\n    if (beta instanceof FractionEtendue === false)\n      beta = new FractionEtendue(beta, 1)\n    this.a = a\n    this.b = a.produitFraction(alpha).multiplieEntier(-2)\n    this.c = a.produitFraction(alpha).produitFraction(alpha).sommeFraction(beta)\n  }\n\n  get derivee() {\n    return new Trinome(0, this.a.produitFraction(2), this.b)\n  }\n\n  /** Renvoie la somme de ce trinome et d'un autre trinome */\n  add(trinome: Trinome) {\n    return new Trinome(\n      this.a.sommeFraction(trinome.a),\n      this.b.sommeFraction(trinome.b),\n      this.c.sommeFraction(trinome.c),\n    )\n  }\n\n  /** Renvoie ce trinome moins celui passé en argument */\n  sub(trinome: Trinome) {\n    return new Trinome(\n      this.a.differenceFraction(trinome.a),\n      this.b.differenceFraction(trinome.b),\n      this.c.differenceFraction(trinome.c),\n    )\n  }\n\n  /** Renvoie ce trinome multiplié par un scalaire */\n  mul(k: number | FractionEtendue) {\n    return new Trinome(\n      this.a.produitFraction(k),\n      this.b.produitFraction(k),\n      this.c.produitFraction(k),\n    )\n  }\n\n  /** Renvoie true si les deux trinomes sont identiques  */\n  isEqual(trinome: Trinome) {\n    return (\n      this.a.isEqual(trinome.a) &&\n      this.b.isEqual(trinome.b) &&\n      this.c.isEqual(trinome.c)\n    )\n  }\n\n  /** Nombre de chiffres après la virgule pour les valeurs approchées (dans les calculs des racines) */\n  precision = 3\n\n  /** Chaine de caractères de la forme développée ax^2+bx+c */\n  get tex() {\n    let result = ''\n    if (Math.abs(this.a.valeurDecimale) === 1) {\n      if (this.a.s === -1) result += '-'\n      result += 'x^2'\n    } else if (this.a.valeurDecimale === 0) {\n      result += ''\n    } else {\n      result += `${this.a.texFSD}x^2`\n    }\n\n    if (Math.abs(this.b.valeurDecimale) === 1) {\n      if (result === '') {\n        result = this.b.valeurDecimale === 1 ? 'x' : '-x'\n      } else {\n        result += `${this.b.signeString}x`\n      }\n    } else if (this.b.valeurDecimale === 0) {\n      result += ''\n    } else {\n      if (result !== '' && this.b.s === 1) result += '+'\n      result += `${this.b.texFSD}x`\n    }\n\n    if (this.c.valeurDecimale === 0) {\n      result += ''\n    } else {\n      if (result && this.c.s === 1) result += '+'\n      result += `${this.c.texFSD}`\n    }\n    return result\n  }\n\n  /** Chaine de caractères de la forme développée ax^2+bx+c ou (ax^2+bx+c) avec le paramètre parentheses */\n  toString({ parentheses = false } = {}) {\n    if (parentheses) return `(${this.tex})`\n    return this.tex\n  }\n\n  /** Renvoie true si le trinome est une fonction constante */\n  get isConstant() {\n    return this.a.valeurDecimale === 0 && this.b.valeurDecimale === 0\n  }\n\n  /** Discriminant du trinome */\n  get discriminant(): FractionEtendue {\n    if (this._discriminant === undefined) {\n      const b2 = this.b.produitFraction(this.b)\n      let ac = this.a.produitFraction(this.c)\n      ac = ac.multiplieEntier(-4)\n      this._discriminant = b2.sommeFraction(ac).simplifie()\n    }\n    return this._discriminant\n  }\n\n  /** Renvoie l'image de x par la fonction définie par le trinome */\n  image(x: numberOrFraction) {\n    if (x instanceof FractionEtendue === false) x = new FractionEtendue(x, 1)\n    return this.a\n      .produitFraction(x)\n      .produitFraction(x)\n      .sommeFraction(this.b.produitFraction(x))\n      .sommeFraction(this.c)\n  }\n\n  /** Calcul détaillé de l'image d'un nombre */\n  texCalculImage(x: numberOrFraction) {\n    if (x instanceof FractionEtendue === false) x = new FractionEtendue(x, 1)\n    let result = ''\n    if (this.a.valeurDecimale === -1) result = '-'\n    else if (this.a.valeurDecimale !== 1) result = `${this.a.texFSD} \\\\times `\n\n    if (x.s === -1 || !x.estEntiere) {\n      result += `\\\\left(${x.texFSD} \\\\right)^2 `\n    } else {\n      result += `${x.texFSD}^2 `\n    }\n\n    if (this.b.valeurDecimale !== 0) {\n      if (this.b.valeurDecimale === 1)\n        result += `${x.simplifie().texFractionSignee} `\n      else if (this.b.valeurDecimale === -1) result += `- ${x.texFSP} `\n      else\n        result += `${this.b.simplifie().texFractionSignee} \\\\times ${x.texFSP} `\n    }\n\n    if (this.c.valeurDecimale !== 0) result += `${this.c.texFractionSignee}`\n\n    result += ` = ${this.image(x).simplifie().texFractionSimplifiee}`\n    return result\n  }\n\n  /**\n   * Calcul sur une ligne du discriminant du polynome\n   * @example\n   * const p = new Trinome(2, 3, 1)\n   * p.texCalculDiscriminantSansResultat\n   * // 3^2-4\\\\times2\\\\times1 = 1\n   * @type {string}\n   * @type {string}\n   */\n  get texCalculDiscriminant() {\n    if (this.b.valeurDecimale === 0)\n      return `-4\\\\times${this.a.texFSP}\\\\times${this.c.texFSP} = ${this.discriminant.texFractionSimplifiee}`\n    else if (this.b.estEntiere && this.b.s === 1)\n      return `${this.b.texFSD}^2-4\\\\times${this.a.texFSP}\\\\times${this.c.texFSP} = ${this.discriminant.texFractionSimplifiee}`\n    return `\\\\left(${this.b.texFSD}\\\\right)^2-4\\\\times${this.a.texFSP}\\\\times${this.c.texFSP} = ${this.discriminant.texFractionSimplifiee}`\n  }\n\n  /**\n   * Calcul sous la forme d'une égalité sans le résultat\n   * @example\n   * const p = new Trinome(2, 3, 1)\n   * p.texCalculDiscriminantSansResultat\n   * // 3^2-4\\\\times2\\\\times1\n   * @type {string}\n   */\n  get texCalculDiscriminantSansResultat() {\n    if (this.b.valeurDecimale === 0)\n      return `-4\\\\times${this.a.texFSP}\\\\times${this.c.texFSP}`\n    else if (this.b.estEntiere && this.b.s === 1)\n      return `${this.b.texFSD}^2-4\\\\times${this.a.texFSP}\\\\times${this.c.texFSP}`\n    return `\\\\left(${this.b.texFSD}\\\\right)^2-4\\\\times${this.a.texFSP}\\\\times${this.c.texFSP}`\n  }\n\n  /** Calcul détaillée de la première racine avec résultat exact si l'option est true et valeur approchée sinon */\n  texCalculRacine1(exact = false) {\n    if (this.discriminant.s === -1) return ''\n    if (this.discriminant.valeurDecimale === 0)\n      return this.texCalculRacineDouble\n    let result = 'x_1 = '\n    if (this.a.valeurDecimale > 0) {\n      const discriminantRacineCarree =\n        this.discriminant.racineCarree() as FractionEtendue\n      if (this.b.valeurDecimale === 0) {\n        result += `\\\\dfrac{-b-\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{-\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += `=\\\\dfrac{${this.a.s === -1 ? '' : '-'}${this.discriminant.estParfaite ? discriminantRacineCarree.texFractionSimplifiee : `\\\\sqrt{${this.discriminant.texFractionSimplifiee}}`}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      } else {\n        result += `\\\\dfrac{-b-\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{${this.b.oppose().texFractionSimplifiee}-\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += this.discriminant.estParfaite\n          ? `=\\\\dfrac{${this.a.s === -1 ? this.b.sommeFraction(discriminantRacineCarree).texFractionSimplifiee : this.b.oppose().differenceFraction(discriminantRacineCarree).texFractionSimplifiee}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n          : `=\\\\dfrac{${this.a.s === -1 ? this.b.texFractionSimplifiee : this.b.oppose().texFractionSimplifiee}${this.a.s === -1 ? '+' : '-'}\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      }\n      if (this.x1 instanceof FractionEtendue)\n        result += `=${this.x1.texFractionSimplifiee}`\n      else if (!exact) {\n        result += `\\\\approx${this.x1.toString().replace('.', '{,}')}`\n      } else {\n        if (this.discriminant.estEntiere) {\n          const [r0, r1] = extraireRacineCarree(\n            this.discriminant.valeurDecimale,\n          )\n          if (\n            r0 !== 1 &&\n            Math.abs(this.b.valeurDecimale) % r0 === 0 &&\n            Math.abs(2 * this.a.valeurDecimale) % r0 === 0\n          ) {\n            // On peut simplifier par r0\n            if (this.a.valeurDecimale > 0) {\n              const num =\n                this.b.entierDivise(r0).simplifie().oppose().texFraction +\n                `- \\\\sqrt{${r1}}`\n              const den = (2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `=${num}` : `=\\\\dfrac{${num}}{${den}}`\n            } else {\n              const num =\n                this.b.entierDivise(r0).simplifie().texFraction +\n                `- \\\\sqrt{${r1}}`\n              const den = (-2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `=${num}` : `=\\\\dfrac{${num}}{${den}}`\n            }\n          }\n        }\n      }\n      return result\n    } else {\n      const discriminantRacineCarree =\n        this.discriminant.racineCarree() as FractionEtendue\n      if (this.b.valeurDecimale === 0) {\n        result += `\\\\dfrac{-b+\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += `=\\\\dfrac{${this.a.s === -1 ? '-' : ''}${this.discriminant.estParfaite ? discriminantRacineCarree.texFractionSimplifiee : `\\\\sqrt{${this.discriminant.texFractionSimplifiee}}`}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      } else {\n        result += `\\\\dfrac{-b+\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{${this.b.oppose().texFractionSimplifiee}+\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += this.discriminant.estParfaite\n          ? `=\\\\dfrac{${this.a.s === -1 ? this.b.differenceFraction(discriminantRacineCarree).texFractionSimplifiee : this.b.oppose().sommeFraction(discriminantRacineCarree).texFractionSimplifiee}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n          : `=\\\\dfrac{${this.a.s === -1 ? this.b.texFractionSimplifiee : this.b.oppose().texFractionSimplifiee}${this.a.s === -1 ? '-' : '+'}${this.discriminant.estParfaite ? discriminantRacineCarree.texFractionSimplifiee : `\\\\sqrt{${this.discriminant.texFractionSimplifiee}}`}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      }\n      if (this.x1 instanceof FractionEtendue)\n        result += `=${this.x1.texFraction}`\n      else if (!exact) {\n        result += `\\\\approx${this.x1.toString().replace('.', '{,}')}`\n      } else {\n        if (this.discriminant.estEntiere) {\n          const [r0, r1] = extraireRacineCarree(\n            this.discriminant.valeurDecimale,\n          )\n          if (\n            r0 !== 1 &&\n            Math.abs(this.b.valeurDecimale) % r0 === 0 &&\n            Math.abs(2 * this.a.valeurDecimale) % r0 === 0\n          ) {\n            // On peut simplifier par r0\n            if (this.a.valeurDecimale > 0) {\n              const num =\n                this.b.entierDivise(r0).simplifie().oppose().texFraction +\n                `- \\\\sqrt{${r1}}`\n              const den = (2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `=${num}` : `=\\\\dfrac{${num}}{${den}}`\n            } else {\n              const num =\n                this.b.entierDivise(r0).simplifie().texFraction +\n                `- \\\\sqrt{${r1}}`\n              const den = (-2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `=${num}` : `=\\\\dfrac{${num}}{${den}}`\n            }\n          }\n        }\n      }\n      return result\n    }\n  }\n\n  /**\n   * Calcul détaillée de la deuxième racine avec résultat exact si l'option est true et valeur approchée sinon\n   * @type {string}\n   */\n  texCalculRacine2(exact = false) {\n    if (this.discriminant.s === -1) return ''\n    let result = 'x_2 = '\n    if (this.a.valeurDecimale > 0) {\n      const discriminantRacineCarree =\n        this.discriminant.racineCarree() as FractionEtendue\n      if (this.b.valeurDecimale === 0) {\n        result += `\\\\dfrac{-b+\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += `=\\\\dfrac{${this.a.s === -1 ? '-' : ''}${this.discriminant.estParfaite ? discriminantRacineCarree.texFractionSimplifiee : `\\\\sqrt{${this.discriminant.texFractionSimplifiee}}`}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      } else {\n        result += `\\\\dfrac{-b+\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{${this.b.oppose().texFractionSimplifiee}+\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += this.discriminant.estParfaite\n          ? `=\\\\dfrac{${this.a.s === -1 ? this.b.differenceFraction(discriminantRacineCarree).texFractionSimplifiee : this.b.oppose().sommeFraction(discriminantRacineCarree).texFractionSimplifiee}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n          : `=\\\\dfrac{${this.a.s === -1 ? this.b.texFractionSimplifiee : this.b.oppose().texFractionSimplifiee}${this.a.s === -1 ? '-' : '+'}${this.discriminant.estParfaite ? discriminantRacineCarree.texFractionSimplifiee : `\\\\sqrt{${this.discriminant.texFractionSimplifiee}}`}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      }\n\n      if (this.x2 instanceof FractionEtendue)\n        result += `=${this.x2.texFractionSimplifiee}`\n      else if (!exact) {\n        result += `\\\\approx${this.x2.toString().replace('.', '{,}')}`\n      } else {\n        if (this.discriminant.estEntiere) {\n          const [r0, r1] = extraireRacineCarree(\n            this.discriminant.valeurDecimale,\n          )\n          if (\n            r0 !== 1 &&\n            Math.abs(this.b.valeurDecimale) % r0 === 0 &&\n            Math.abs(2 * this.a.valeurDecimale) % r0 === 0\n          ) {\n            // On peut simplifier par r0\n            if (this.a.valeurDecimale > 0) {\n              const num =\n                this.b.entierDivise(r0).simplifie().oppose().texFraction +\n                `+ \\\\sqrt{${r1}}`\n              const den = (2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `=${num}` : `=\\\\dfrac{${num}}{${den}}`\n            } else {\n              const num =\n                this.b.entierDivise(r0).simplifie().texFraction +\n                `+ \\\\sqrt{${r1}}`\n              const den = (-2 * this.a.valeurDecimale) / r0\n              result = den === 1 ? `${num}` : `=\\\\dfrac{${num}}{${den}}`\n            }\n          }\n        }\n      }\n      return result\n    } else {\n      const discriminantRacineCarree =\n        this.discriminant.racineCarree() as FractionEtendue\n      if (this.b.valeurDecimale === 0) {\n        result += `\\\\dfrac{-b-\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{-\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += `=\\\\dfrac{${this.a.s === -1 ? '' : '-'}${this.discriminant.estParfaite ? discriminantRacineCarree.texFractionSimplifiee : `\\\\sqrt{${this.discriminant.texFractionSimplifiee}}`}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      } else {\n        result += `\\\\dfrac{-b-\\\\sqrt{\\\\Delta}}{2a}=\\\\dfrac{${this.b.oppose().texFractionSimplifiee}-\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{2\\\\times${this.a.s === -1 ? this.a.texFSP : this.a.texFractionSimplifiee}}`\n        result += this.discriminant.estParfaite\n          ? `=\\\\dfrac{${this.a.s === -1 ? this.b.sommeFraction(discriminantRacineCarree).texFractionSimplifiee : this.b.oppose().differenceFraction(discriminantRacineCarree).texFractionSimplifiee}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n          : `=\\\\dfrac{${this.a.s === -1 ? this.b.texFractionSimplifiee : this.b.oppose().texFractionSimplifiee}${this.a.s === -1 ? '+' : '-'}\\\\sqrt{${this.discriminant.texFractionSimplifiee}}}{${this.a.s === -1 ? this.a.multiplieEntier(2).oppose().texFractionSimplifiee : this.a.multiplieEntier(2).texFractionSimplifiee}}`\n      }\n\n      if (this.x2 instanceof FractionEtendue)\n        result += `=${this.x2.texFractionSimplifiee}`\n      else if (!exact) {\n        result += `\\\\approx${this.x2.toString().replace('.', '{,}')}`\n      } else {\n        if (this.discriminant.estEntiere) {\n          const [r0, r1] = extraireRacineCarree(\n            this.discriminant.valeurDecimale,\n          )\n          if (\n            r0 !== 1 &&\n            Math.abs(this.b.valeurDecimale) % r0 === 0 &&\n            Math.abs(2 * this.a.valeurDecimale) % r0 === 0\n          ) {\n            // On peut simplifier par r0\n            if (this.a.valeurDecimale > 0) {\n              const num =\n                this.b.entierDivise(r0).simplifie().oppose().texFraction +\n                `+ \\\\sqrt{${r1}}`\n              const den = (2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `=${num}` : `=\\\\dfrac{${num}}{${den}}`\n            } else {\n              const num =\n                this.b.entierDivise(r0).simplifie().texFraction +\n                `+ \\\\sqrt{${r1}}`\n              const den = (-2 * this.a.valeurDecimale) / r0\n              result += den === 1 ? `${num}` : `=\\\\dfrac{${num}}{${den}}`\n            }\n          }\n        }\n      }\n      return result\n    }\n  }\n\n  /** Calcul détaillé de la racine unique pour un discriminant nul */\n  get texCalculRacineDouble() {\n    if (this.discriminant.valeurDecimale !== 0)\n      throw Error('Le discriminant doit être nul pour avoir une racine double')\n    let result = ''\n    result += '\\\\dfrac{-b}{2a} = '\n    if (this.b.valeurDecimale > 0) {\n      result += `\\\\dfrac{${this.b.oppose().texFSD}}{2\\\\times${this.a.texFSP}}`\n    } else {\n      result += `\\\\dfrac{${this.b.oppose().texFSD}}{2\\\\times\\\\left(${this.a.texFSP}\\\\right)}`\n    }\n    const x1 = this.x1 as FractionEtendue\n    result += `=${x1.texFractionSimplifiee}`\n    return result\n  }\n\n  /**\n   * Tableau avec 2 étapes pour le développement puis le résultat\n   * @return {string[]} [Étape 1, Étape 2, this.tex]\n   */\n  get arrayTexDevelopperFormeCanonique() {\n    const alpha = this.alpha\n    const beta = this.beta\n    let result1 = ''\n    if (this.a.valeurDecimale === -1) result1 += '-'\n    else if (this.a.valeurDecimale !== 1) result1 += this.a.simplifie().texFSD\n    result1 += `\\\\left(x^2 ${alpha.multiplieEntier(-2).simplifie().texFractionSignee} x ${alpha.produitFraction(alpha).simplifie().texFractionSignee} \\\\right) ${beta.simplifie().texFractionSignee}`\n    let result2 = ''\n    if (this.a.valeurDecimale === -1) result2 += '-x^2'\n    else if (this.a.valeurDecimale !== 1)\n      result2 += `${this.a.simplifie().texFSD} x^2`\n    if (this.b.valeurDecimale === -1) result2 += '-x'\n    else if (this.b.valeurDecimale === 1) result2 += 'x'\n    else\n      result2 += `${this.b.simplifie().texFractionSignee}x ${this.a.produitFraction(alpha).produitFraction(alpha).simplifie().texFractionSignee} ${beta.simplifie().texFractionSignee}`\n\n    return [result1, result2, this.tex]\n  }\n\n  /**\n   * Tableau avec 2 étapes pour le développement puis le résultat\n   * On considère que a est différent de 1, x1 et x2 sont non nuls\n   */\n  get arrayTexDevelopperFormeFactorisee() {\n    const [untypedA, untypedX1, untypedX2] = [this.a, this.x1, this.x2]\n    if (\n      typeof untypedX1 === 'boolean' ||\n      typeof untypedX2 === 'boolean' ||\n      typeof untypedA === 'boolean'\n    )\n      throw Error\n    const x1 =\n      typeof untypedX1 === 'number'\n        ? new FractionEtendue(untypedX1, 1)\n        : untypedX1\n    const x2 =\n      typeof untypedX2 === 'number'\n        ? new FractionEtendue(untypedX2, 1)\n        : untypedX2\n    const a =\n      typeof untypedA === 'number' ? new FractionEtendue(untypedA, 1) : untypedA\n    const result1 = `${a.simplifie().texFractionSaufUn}\\\\left(x^2 ${x2.oppose().simplifie().texFractionSaufUnSignee}x ${x1.oppose().simplifie().texFractionSaufUnSignee}x ${x1.produitFraction(x2).simplifie().texFractionSignee} \\\\right)`\n    const result2 = `${a.simplifie().texFractionSaufUn}x^2 ${a.produitFraction(x2).oppose().simplifie().texFractionSaufUnSignee}x ${a.produitFraction(x1).oppose().simplifie().texFractionSaufUnSignee}x ${a.produitFraction(x1).produitFraction(x2).simplifie().texFractionSignee}`\n    return [result1, result2, this.tex]\n  }\n\n  /** Première racine du trinome */\n  get x1() {\n    if (this.discriminant.s === -1) return false\n    if (this.discriminant.isEqual(0))\n      return this.b\n        .oppose()\n        .diviseFraction(this.a.multiplieEntier(2))\n        .simplifie()\n    if (this.discriminant.estParfaite) {\n      const racineDeDelta = this.discriminant.racineCarree() as FractionEtendue\n      const unSurDeuxA = this.a.multiplieEntier(2).inverse() as FractionEtendue\n      if (this.a.valeurDecimale > 0) {\n        return this.b\n          .oppose()\n          .differenceFraction(racineDeDelta)\n          .produitFraction(unSurDeuxA)\n          .simplifie()\n      }\n      return this.b\n        .oppose()\n        .sommeFraction(racineDeDelta)\n        .produitFraction(unSurDeuxA)\n        .simplifie()\n    }\n    let result: number\n    if (this.a.valeurDecimale > 0) {\n      result =\n        Math.round(\n          ((-this.b.valeurDecimale -\n            Math.sqrt(this.discriminant.valeurDecimale)) /\n            (2 * this.a.valeurDecimale)) *\n            10 ** this.precision,\n        ) /\n        10 ** this.precision\n    } else {\n      result =\n        Math.round(\n          ((-this.b.valeurDecimale +\n            Math.sqrt(this.discriminant.valeurDecimale)) /\n            (2 * this.a.valeurDecimale)) *\n            10 ** this.precision,\n        ) /\n        10 ** this.precision\n    }\n    return result\n  }\n\n  /** Deuxième racine du trinome */\n  get x2() {\n    if (this.discriminant.s === -1) return false\n    if (this.discriminant.isEqual(0))\n      return this.b\n        .oppose()\n        .diviseFraction(this.a.multiplieEntier(2))\n        .simplifie()\n    if (this.discriminant.estParfaite) {\n      const racineDeDelta = this.discriminant.racineCarree() as FractionEtendue\n      const unSurDeuxA = this.a.multiplieEntier(2).inverse()\n      if (this.a.valeurDecimale > 0) {\n        return this.b\n          .oppose()\n          .sommeFraction(racineDeDelta)\n          .produitFraction(unSurDeuxA)\n          .simplifie()\n      }\n      return this.b\n        .oppose()\n        .differenceFraction(racineDeDelta)\n        .produitFraction(unSurDeuxA)\n        .simplifie()\n    }\n    let result: number\n    if (this.a.valeurDecimale > 0) {\n      result =\n        Math.round(\n          ((-this.b.valeurDecimale +\n            Math.sqrt(this.discriminant.valeurDecimale)) /\n            (2 * this.a.valeurDecimale)) *\n            10 ** this.precision,\n        ) /\n        10 ** this.precision\n    } else {\n      result =\n        Math.round(\n          ((-this.b.valeurDecimale -\n            Math.sqrt(this.discriminant.valeurDecimale)) /\n            (2 * this.a.valeurDecimale)) *\n            10 ** this.precision,\n        ) /\n        10 ** this.precision\n    }\n    return result\n  }\n\n  /**\n   * Écriture LaTeX de la valeur exacte première racine\n   * @type {string}\n   */\n  get texX1() {\n    if (this.x1 instanceof FractionEtendue)\n      return this.x1.simplifie().texFraction\n    else {\n      if (this.discriminant.s === -1) return ''\n      if (\n        this.discriminant.estEntiere &&\n        this.discriminant.superieurstrict(0)\n      ) {\n        const [r0, r1] = extraireRacineCarree(this.discriminant.valeurDecimale)\n        if (\n          r0 !== 1 &&\n          Math.abs(this.b.valeurDecimale) % r0 === 0 &&\n          Math.abs(2 * this.a.valeurDecimale) % r0 === 0\n        ) {\n          // On peut simplifier par r0\n          if (this.a.valeurDecimale > 0) {\n            const num =\n              (this.b.valeurDecimale !== 0\n                ? this.b.entierDivise(r0).simplifie().oppose().texFraction\n                : '') + `-\\\\sqrt{${r1}}`\n            const den = (2 * this.a.valeurDecimale) / r0\n            return den === 1 ? num : `\\\\dfrac{${num}}{${den}}`\n          } else {\n            const num =\n              (this.b.valeurDecimale !== 0\n                ? this.b.entierDivise(r0).simplifie().texFraction\n                : '') + `-\\\\sqrt{${r1}}`\n            const den = (-2 * this.a.valeurDecimale) / r0\n            return den === 1 ? num : `\\\\dfrac{${num}}{${den}}`\n          }\n        }\n      }\n      if (this.a.valeurDecimale > 0) {\n        const num =\n          (this.b.valeurDecimale !== 0 ? this.b.oppose().texFraction : '') +\n          (this.discriminant.valeurDecimale > 0\n            ? `-\\\\sqrt{${this.discriminant.texFraction}}`\n            : '')\n        const den = 2 * this.a.valeurDecimale\n        return `\\\\dfrac{${num}}{${den}}`\n      } else {\n        const num =\n          (this.b.valeurDecimale !== 0 ? this.b.texFraction : '') +\n          (this.discriminant.valeurDecimale > 0\n            ? `-\\\\sqrt{${this.discriminant.texFraction}}`\n            : '')\n        const den = -2 * this.a.valeurDecimale\n        return `\\\\dfrac{${num}}{${den}}`\n      }\n    }\n  }\n\n  /**\n   * Écriture LaTeX de la valeur exacte première racine\n   * @type {string}\n   */\n  get texX2() {\n    if (this.x2 instanceof FractionEtendue)\n      return this.x2.simplifie().texFraction\n    else {\n      if (\n        this.discriminant.estEntiere &&\n        this.discriminant.superieurstrict(0)\n      ) {\n        const [r0, r1] = extraireRacineCarree(this.discriminant.valeurDecimale)\n        if (\n          r0 !== 1 &&\n          Math.abs(this.b.valeurDecimale) % r0 === 0 &&\n          Math.abs(2 * this.a.valeurDecimale) % r0 === 0\n        ) {\n          // On peut simplifier par r0\n          if (this.a.valeurDecimale > 0) {\n            const num =\n              (this.b.valeurDecimale !== 0\n                ? `${this.b.entierDivise(r0).simplifie().oppose().texFraction}+`\n                : '') + `\\\\sqrt{${r1}}`\n            const den = (2 * this.a.valeurDecimale) / r0\n            return den === 1 ? num : `\\\\dfrac{${num}}{${den}}`\n          } else {\n            const num =\n              (this.b.valeurDecimale !== 0\n                ? `${this.b.entierDivise(r0).simplifie().texFraction}+`\n                : '') + `\\\\sqrt{${r1}}`\n            const den = (-2 * this.a.valeurDecimale) / r0\n            return den === 1 ? num : `\\\\dfrac{${num}}{${den}}`\n          }\n        }\n      }\n      if (this.a.valeurDecimale > 0) {\n        const num =\n          (this.b.valeurDecimale !== 0\n            ? `${this.b.oppose().texFraction}+`\n            : '') +\n          (this.discriminant.valeurDecimale > 0\n            ? `\\\\sqrt{${this.discriminant.texFraction}}`\n            : '')\n        const den = 2 * this.a.valeurDecimale\n        return `\\\\dfrac{${num}}{${den}}`\n      } else {\n        const num =\n          (this.b.valeurDecimale !== 0 ? `${this.b.texFraction}+` : '') +\n          (this.discriminant.valeurDecimale > 0\n            ? `\\\\sqrt{${this.discriminant.texFraction}}`\n            : '')\n        const den = -2 * this.a.valeurDecimale\n        return `\\\\dfrac{${num}}{${den}}`\n      }\n    }\n  }\n\n  /**\n   * a(x-x1)(x-x2)\n   * @type {string}\n   */\n  get texFormeFactorisee() {\n    if (\n      typeof this.x1 === 'boolean' ||\n      typeof this.x1 === 'number' ||\n      typeof this.x2 === 'number' ||\n      typeof this.x2 === 'boolean' ||\n      typeof this.a === 'boolean'\n    )\n      throw Error\n    if (this.discriminant.valeurDecimale === 0) {\n      if (this.a.valeurDecimale === 1)\n        return `(x${this.x1.oppose().simplifie().texFractionSignee})^2`\n      else if (this.a.valeurDecimale === -1)\n        return `-(x${this.x1.oppose().simplifie().texFractionSignee})^2`\n      else if (this.a.den === 1)\n        return `${this.a.num}(x${this.x1.oppose().simplifie().texFractionSignee})^2`\n      else\n        return `${this.a.texFractionSimplifiee}(x${this.x1.oppose().simplifie().texFractionSignee})^2`\n    }\n    if (this.x1 instanceof FractionEtendue) {\n      if (this.x1.valeurDecimale === 0) {\n        if (this.a.valeurDecimale === 1)\n          return `x(x${this.x2.oppose().simplifie().texFractionSignee})`\n        else if (this.a.valeurDecimale === -1)\n          return `-x(x${this.x2.oppose().simplifie().texFractionSignee})`\n        else if (this.a.den === 1)\n          return `${this.a.num}x(x${this.x2.oppose().simplifie().texFractionSignee})`\n        else\n          return `${this.a.texFractionSimplifiee}x(x${this.x2.oppose().simplifie().texFractionSignee})`\n      } else if (this.x2.valeurDecimale === 0) {\n        if (this.a.valeurDecimale === 1)\n          return `x(x${this.x1.oppose().simplifie().texFractionSignee})`\n        else if (this.a.valeurDecimale === -1)\n          return `-x(x${this.x1.oppose().simplifie().texFractionSignee})`\n        else if (this.a.den === 1)\n          return `${this.a.num}x(x${this.x1.oppose().simplifie().texFractionSignee})`\n        else\n          return `${this.a.texFractionSimplifiee}x(x${this.x1.oppose().simplifie().texFractionSignee})`\n      }\n      if (this.a.valeurDecimale === 1)\n        return `(x${this.x1.oppose().simplifie().texFractionSignee})(x${this.x2.oppose().simplifie().texFractionSignee})`\n      else if (this.a.valeurDecimale === -1)\n        return `-(x${this.x1.oppose().simplifie().texFractionSignee})(x${this.x2.oppose().simplifie().texFractionSignee})`\n      else if (this.a.den === 1)\n        return `${this.a.num}(x${this.x1.oppose().simplifie().texFractionSignee})(x${this.x2.oppose().simplifie().texFractionSignee})`\n      else\n        return `${this.a.texFractionSimplifiee}(x${this.x1.oppose().simplifie().texFractionSignee})(x${this.x2.oppose().simplifie().texFractionSignee})`\n    } else {\n      throw Error(\n        'x1 et x2 doivent être des fractions pour obtenir la forme factorisée',\n      )\n    }\n  }\n\n  /** Renvoie -b/2a */\n  get alpha() {\n    return this.b.diviseFraction(this.a.multiplieEntier(2)).oppose()\n  }\n\n  /** Renvoie f(-b/2a) */\n  get beta() {\n    return this.image(this.alpha)\n  }\n\n  /** Renvoie la forme canonique du trinome */\n  get texFormeCanonique() {\n    let result = ''\n    if (this.a.valeurDecimale === -1) result = '-'\n    else if (this.a.valeurDecimale !== 1) {\n      if (this.a.den === 1) result = `${this.a.num}`\n      else result = this.a.texFractionSimplifiee\n    }\n    if (this.alpha.valeurDecimale === 0) result += 'x^2'\n    else\n      result += `\\\\left(x ${this.alpha.oppose().simplifie().texFractionSignee}\\\\right)^2`\n    if (this.beta.valeurDecimale !== 0) {\n      result += ` ${this.beta.simplifie().texFractionSignee}`\n    }\n    return result\n  }\n}\n"],"names":["Trinome","a","b","c","__publicField","FractionEtendue","x1","x2","k","d","alpha","beta","trinome","result","parentheses","b2","ac","x","exact","discriminantRacineCarree","r0","r1","extraireRacineCarree","num","den","result1","result2","untypedA","untypedX1","untypedX2","racineDeDelta","unSurDeuxA"],"mappings":"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"}