{"version":3,"file":"can5a-2026-Q16-DmhqPzUO.js","sources":["../../src/exercices/can/can5a-2026/can5a-2026-Q16.ts"],"sourcesContent":["import type { MathfieldElement } from 'mathlive'\nimport { fixeBordures } from '../../../lib/2d/fixeBordures'\nimport { plot } from '../../../lib/2d/Plot'\nimport { pointAbstrait } from '../../../lib/2d/PointAbstrait'\nimport { segment } from '../../../lib/2d/segmentsVecteurs'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { toutPourUnPoint } from '../../../lib/interactif/mathLive'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport type { IExercice } from '../../../lib/types'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport ExerciceCan from '../../ExerciceCan'\nimport { pgcd } from '../../../lib/outils/primalite'\n\nexport const titre = 'Calculer la proportion de boules blanches dans un sac'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'jjs2e'\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': [],\n}\n\n/**\n * @author Gilles Mora\n\n*/\nexport default class Can52026Q16 extends ExerciceCan {\n  enonce(nbBlanches?: number, nbNoires?: number) {\n    if (nbBlanches == null || nbNoires == null) {\n      const listeCas = [\n        [3, 5],\n        [5, 4],\n        [2, 6],\n        [5, 3],\n        [3, 6],\n        [4, 5],\n        [2, 5],\n        [3, 4],\n        [4, 6],\n        [3, 4],\n      ]\n      const cas = choice(listeCas)\n      nbBlanches = cas[0]\n      nbNoires = cas[1]\n    }\n\n    const total = nbBlanches + nbNoires\n    const fraction = new FractionEtendue(nbBlanches, total)\n    const fractionSimplifiee = fraction.simplifie()\n\n    const callback = (exercice: IExercice, question: number) => {\n      const mfe = document.querySelector(\n        `#champTexteEx${exercice.numeroExercice}Q${question}`,\n      ) as MathfieldElement\n      if (mfe == null)\n        return {\n          isOk: false,\n          feedback: '',\n          score: { nbBonnesReponses: 0, nbReponses: 0 },\n        }\n      const num = Number(mfe.getPromptValue('champ1') || 0)\n      const den = Number(mfe.getPromptValue('champ2') || 0)\n      const isOk = num * total === nbBlanches * den\n      if (isOk) {\n        mfe.setPromptState('champ1', 'correct', true)\n        mfe.setPromptState('champ2', 'correct', true)\n      }\n      const spanReponseLigne = document.querySelector(\n        `#resultatCheckEx${exercice.numeroExercice}Q${question}`,\n      )\n      if (spanReponseLigne != null) {\n        spanReponseLigne.innerHTML = isOk ? 'üòé' : '‚òπÔ∏è'\n      }\n      return {\n        isOk,\n        feedback: '',\n        score: { nbBonnesReponses: isOk ? 1 : 0, nbReponses: 1 },\n      }\n    }\n    const objets = []\n\n    // Cr√©ation du sac (contour)\n    const boiteGauche = 0\n    const boiteDroite = 2.5\n    const boiteBas = 0\n    const boiteHaut = 2.5\n\n    const coinBasGauche = pointAbstrait(boiteGauche, boiteBas)\n    const coinBasDroit = pointAbstrait(boiteDroite, boiteBas)\n    const coinHautGauche = pointAbstrait(boiteGauche, boiteHaut)\n    const coinHautDroit = pointAbstrait(boiteDroite, boiteHaut)\n\n    const coteGauche = segment(coinBasGauche, coinHautGauche)\n    const coteBas = segment(coinBasGauche, coinBasDroit)\n    const coteDroit = segment(coinBasDroit, coinHautDroit)\n\n    objets.push(coteGauche, coteBas, coteDroit)\n\n    // Cr√©ation des boules avec plot() - POSITIONN√âES EN BAS\n    const k = 4 // nombre de boules par ligne maximum\n\n    for (let n = 0; n < total; n++) {\n      const x = n % k\n      const y = Math.floor(n / k)\n\n      // Position depuis le bas de la bo√Æte\n      const posX = x * 0.6 + 0.3\n      const posY = y * 0.6 + 0.3\n\n      if (n < nbBlanches) {\n        // Boule blanche : contour noir, pas de remplissage\n        objets.push(\n          plot(posX, posY, {\n            rayon: 0.2,\n            couleur: 'black',\n            couleurDeRemplissage: 'white',\n          }),\n        )\n      } else {\n        // Boule noire : contour noir, remplissage noir\n        objets.push(\n          plot(posX, posY, {\n            rayon: 0.2,\n            couleur: 'black',\n            couleurDeRemplissage: 'black',\n          }),\n        )\n      }\n    }\n\n    this.consigne =\n      mathalea2d(Object.assign({ scale: 0.5 }, fixeBordures(objets)), objets) +\n      'La proportion de boules blanches dans cette bo√Æte est :'\n    this.question = '\\\\dfrac{%{champ1}}{%{champ2}}'\n\n    this.correction = `Il y a $${nbBlanches}$ boules blanches sur un total de $${total}$ boules.<br>\nLa proportion de boules blanches est donc : ${pgcd(nbBlanches, total)!==1 ? `$\\\\dfrac{${nbBlanches}}{${total}}=${miseEnEvidence(fractionSimplifiee.texFraction)}$`: `$${miseEnEvidence(`\\\\dfrac{${nbBlanches}}{${total}}`)}$`}.`\n    this.formatChampTexte = KeyboardType.clavierDeBase\n\n    this.reponse = {\n      bareme: toutPourUnPoint,\n      callback,\n    }\n    this.canReponseACompleter = '$\\\\dfrac{\\\\ldots}{\\\\ldots}$'\n  }\n\n  nouvelleVersion() {\n    this.formatInteractif = 'fillInTheBlank'\n    this.canOfficielle ? this.enonce(3, 4) : this.enonce()\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","Can52026Q16","ExerciceCan","nbBlanches","nbNoires","cas","choice","total","fractionSimplifiee","FractionEtendue","callback","exercice","question","mfe","num","den","isOk","spanReponseLigne","objets","boiteGauche","boiteDroite","boiteBas","boiteHaut","coinBasGauche","pointAbstrait","coinBasDroit","coinHautGauche","coinHautDroit","coteGauche","segment","coteBas","coteDroit","k","n","x","y","posX","posY","plot","mathalea2d","fixeBordures","pgcd","miseEnEvidence","KeyboardType","toutPourUnPoint"],"mappings":"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"}