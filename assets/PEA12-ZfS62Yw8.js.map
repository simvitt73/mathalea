{"version":3,"file":"PEA12-ZfS62Yw8.js","sources":["../../src/exercices/PE/PEA12.ts"],"sourcesContent":["import { base10VersBaseN } from '../../lib/mathFonctions/baseConversions'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport operation from '../../modules/operations'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre = \"Additions et soustractions dans d'autres bases\"\nexport const dateDePublication = '31/10/2021'\n\n/**\n* Passer d'une écriture en base 10 à l'écriture dans une autre base ou inversement\n\n* * soustraction en base n\n* *\n* *\n*\n* @author Jean-Claude Lhote pour les opérations posées et Rémi Angot pour la correction détaillée\n*/\nexport const uuid = '3441e'\n\nexport const refs = {\n  'fr-fr': ['PEA12'],\n  'fr-ch': [],\n}\nexport default class AdditionSoustractionBaseN extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Opérations',\n      3,\n      '1 : Uniquement des additions\\n2 : Uniquement des soustractions\\n3 Additions et soustractions',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Choix des bases',\n      3,\n      '1 : Bases 2 à 5\\n2 : Bases 12 et 16\\n3 Bases 2 à base 16',\n    ]\n    this.consigne = 'Poser et effectuer les calculs suivants :'\n    this.video = '-bIvS95dmYw'\n    this.nbQuestions = 4\n\n    this.pasDeVersionLatex = true\n    this.spacingCorr = context.isHtml ? 2 : 1\n    this.sup = 3\n    this.sup2 = 3\n  }\n\n  nouvelleVersion() {\n    let listeOperations = []\n    let listeBases: number[] = []\n    if (this.sup === 1) {\n      listeOperations = Array(this.nbQuestions).fill('+')\n    }\n    if (this.sup === 2) {\n      listeOperations = Array(this.nbQuestions).fill('-')\n    }\n    if (this.sup === 3) {\n      for (let i = 0; i < this.nbQuestions; i++) {\n        listeOperations[i] = i < this.nbQuestions / 2 ? '+' : '-'\n      }\n    }\n    if (this.sup2 === 1) {\n      listeBases = combinaisonListes([2, 3, 4, 5], this.nbQuestions)\n    }\n    if (this.sup2 === 2) {\n      listeBases = combinaisonListes([12, 16], this.nbQuestions)\n    }\n    if (this.sup2 === 3) {\n      if (this.nbQuestions < 5) {\n        listeBases = combinaisonListes([3, 4, 12, 16], this.nbQuestions)\n      } else {\n        listeBases = combinaisonListes([3, 4, 5, 6, 12, 16], this.nbQuestions)\n      }\n    }\n    for (\n      let i = 0, texte, texteCorr, m, n, mb, nb, base, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      base = listeBases[i]\n      if (listeOperations[i] === '+') {\n        m = randint(base ** 2, base ** 4)\n        n = randint(base ** 2, base ** 4)\n        mb = base10VersBaseN(m, base)\n        nb = base10VersBaseN(n, base)\n        texte = `$(${mb})_{${base}} + (${nb})_{${base}}$`\n        texteCorr =\n          `En base ${base} :<br>` +\n          operation({ operande1: m, operande2: n, type: 'addition', base })\n        const retenue = []\n        for (let rang = 0; rang < Math.max(mb.length, nb.length); rang++) {\n          const somme: number =\n            parseInt(mb[mb.length - 1 - rang] || '0', base) +\n            parseInt(nb[nb.length - 1 - rang] || '0', base) +\n            parseInt(retenue[rang - 1] || '0', base)\n          texteCorr += `<br> Au rang des $${base}^${rang}$ :  $${mb[mb.length - 1 - rang] || '0'} + ${nb[nb.length - 1 - rang] || '0'} ${retenue[rang - 1] ? '+' + retenue[rang - 1] : ''}`\n          if (\n            parseInt(mb[mb.length - 1 - rang] || '0', base) > 9 ||\n            parseInt(nb[nb.length - 1 - rang] || '0', base) > 9\n          ) {\n            // Si un chiffre est un lettre\n            texteCorr += ` = ${parseInt(mb[mb.length - 1 - rang] || '0', base)} + ${parseInt(nb[nb.length - 1 - rang] || '0', base)}`\n          }\n          texteCorr += `= ${somme}`\n          if (somme >= base) {\n            texteCorr += `= (${base10VersBaseN(somme, base)})_{${base}}$ donc on écrit ${base10VersBaseN(somme, base)[1]} et on retient ${base10VersBaseN(somme, base)[0]}. `\n            retenue[rang] = base10VersBaseN(somme, base)[0]\n          } else if (somme >= 10) {\n            texteCorr += `= (${base10VersBaseN(somme, base)})_{${base}}$`\n          } else {\n            texteCorr += '$'\n          }\n        }\n      } else {\n        m = randint(base ** 3, base ** 4)\n        n = randint(base ** 2, m)\n        mb = base10VersBaseN(m, base)\n        nb = base10VersBaseN(n, base)\n        texte = `$(${mb})_{${base}} - (${nb})_{${base}}$`\n        texteCorr =\n          `En base ${base} :<br>` +\n          operation({ operande1: m, operande2: n, type: 'soustraction', base })\n        const retenue = []\n        for (let rang = 0; rang < Math.max(mb.length, nb.length); rang++) {\n          let difference =\n            parseInt(mb[mb.length - 1 - rang] || '0', base) -\n            (parseInt(nb[nb.length - 1 - rang] || '0', base) +\n              parseInt(String(retenue[rang - 1] || '0'), base))\n          if (difference < 0) difference += base\n          if (retenue[rang - 1]) {\n            texteCorr += `<br> Au rang des $${base}^${rang}$ :  $${mb[mb.length - 1 - rang] || '0'} - (${nb[nb.length - 1 - rang] || '0'} + 1)`\n          } else {\n            texteCorr += `<br> Au rang des $${base}^${rang}$ :  $${mb[mb.length - 1 - rang] || '0'} - ${nb[nb.length - 1 - rang] || '0'}`\n          }\n          if (\n            parseInt(mb[mb.length - 1 - rang] || '0', base) > 9 ||\n            parseInt(nb[nb.length - 1 - rang] || '0', base) > 9\n          ) {\n            // Si un chiffre est un lettre\n            if (retenue[rang - 1]) {\n              texteCorr += ` = ${parseInt(mb[mb.length - 1 - rang] || '0', base)} - (${parseInt(nb[nb.length - 1 - rang] || '0', base)} + 1)`\n            } else {\n              texteCorr += ` = ${parseInt(mb[mb.length - 1 - rang] || '0', base)} - ${parseInt(nb[nb.length - 1 - rang] || '0', base)}`\n            }\n          }\n          if (\n            parseInt(mb[mb.length - 1 - rang] || '0', base) <\n            parseInt(nb[nb.length - 1 - rang] || '0', base)\n          ) {\n            texteCorr += `$ la soustraction est impossible donc on récupère un paquet de ${base} au rang supérieur.`\n            if (retenue[rang - 1]) {\n              texteCorr += `<br> $${base} + ${parseInt(mb[mb.length - 1 - rang] || '0', base)} - (${parseInt(nb[nb.length - 1 - rang] || '0', base)} + 1)`\n            } else {\n              texteCorr += `<br> $${base} + ${parseInt(mb[mb.length - 1 - rang] || '0', base)} - ${parseInt(nb[nb.length - 1 - rang] || '0', base)}`\n            }\n            retenue[rang] = 1\n          }\n          texteCorr += `= ${difference}$`\n        }\n      }\n\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","refs","AdditionSoustractionBaseN","Exercice","context","listeOperations","listeBases","i","combinaisonListes","texte","texteCorr","m","n","mb","nb","base","cpt","randint","base10VersBaseN","operation","retenue","rang","somme","difference","listeQuestionsToContenu"],"mappings":"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"}