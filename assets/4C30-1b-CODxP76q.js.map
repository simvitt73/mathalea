{"version":3,"file":"4C30-1b-CODxP76q.js","sources":["../../src/exercices/4e/4C30-1b.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '08/09/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const titre =\n  'Encadrer des nombres positifs avec des puissances de 10 à coefficients'\n\n/**\n * Encadrer par des puissances de 10 avec coefficients entiers consécutifs\n * @author Eric Elter (d'après 4C30-1)\n */\nexport const uuid = '4068b'\n\nexport const refs = {\n  'fr-fr': ['4C30-1b'],\n  'fr-ch': [''],\n}\n\nexport default class PuissancesEncadrementCoefficients extends Exercice {\n  classe = 4\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Niveau de difficulté',\n      'Nombres séparés par des tirets :\\n1 : Nombre entier naturel\\n2 : Nombre décimal positif supérieur à 1 \\n3 : Nombre décimal positif inférieur à 1\\n4 : Mélange',\n    ]\n    this.sup = 4\n    this.nbQuestions = 5\n\n    this.classe = 4\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestions = []\n    let signeChange\n    this.consigne =\n      this.nbQuestions === 1\n        ? 'Encadrer le nombre suivant '\n        : 'Encadrer les nombres suivants '\n    this.consigne +=\n      'par deux expressions respectivement de la forme $k\\\\times10^n$ et $(k+1)\\\\times10^n$ où $k$ est un entier, non nul, à un chiffre et $n$ est un entier relatif.'\n\n    signeChange = this.classe === 2\n\n    const typeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: this.classe === 4 ? 3 : 4,\n      melange: this.classe === 4 ? 4 : 5,\n      defaut: 1,\n      nbQuestions: this.nbQuestions,\n    })\n\n    for (let ee = 0; ee < this.nbQuestions; ee++) {\n      switch (typeDeQuestions[ee]) {\n        case 1: // nombre entier positif\n          listeTypeDeQuestions.push(\n            choice(this.classe === 2 ? [1, 2, 3, 4, 5, 6] : [1, 2, 3, 4, 5]),\n          )\n          break\n        case 2: // nombre décimal positif\n          listeTypeDeQuestions.push(\n            choice(this.classe === 2 ? [7, 8, 9, 10] : [7, 8, 9]),\n          )\n          break\n        case 3: // nombre décimal positif inférieur à 1\n          listeTypeDeQuestions.push(\n            choice(this.classe === 2 ? [11, 12, 13, 14] : [11, 12, 13]),\n          )\n          break\n        case 4: // Mélange\n          listeTypeDeQuestions.push(\n            choice([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]),\n          )\n          signeChange = true\n          break\n      }\n    }\n\n    // Fonction pour calculer l'encadrement avec coefficients\n    const calculerEncadrement = (nombre: number) => {\n      const abs = Math.abs(nombre)\n      const signe = nombre >= 0 ? 1 : -1\n\n      // Trouver l'ordre de grandeur\n      let exposant = Math.floor(Math.log10(abs))\n      let puissanceDix = Math.pow(10, exposant)\n\n      // Calculer le coefficient pour la borne inférieure\n      let coeffInf = Math.floor(abs / puissanceDix)\n\n      // Si le coefficient est >= 10, ajuster\n      if (coeffInf >= 10) {\n        exposant++\n        puissanceDix *= 10\n        coeffInf = Math.floor(abs / puissanceDix)\n      }\n\n      const coeffSup = coeffInf + 1\n\n      // Gérer le cas des nombres négatifs\n      if (signe === -1) {\n        return {\n          coeffInf: -coeffSup,\n          coeffSup: -coeffInf,\n          exposant,\n          borneInf: -coeffSup * puissanceDix,\n          borneSup: -coeffInf * puissanceDix,\n        }\n      } else {\n        return {\n          coeffInf,\n          coeffSup,\n          exposant,\n          borneInf: coeffInf * puissanceDix,\n          borneSup: coeffSup * puissanceDix,\n        }\n      }\n    }\n\n    for (\n      let i = 0,\n        signe,\n        texte,\n        texteCorr,\n        consigneAMC,\n        nombre,\n        encadrement,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      // Générer un nombre selon le type de question\n      if (listeTypeDeQuestions[i] < 7) {\n        // nombre entier positif\n        const j = listeTypeDeQuestions[i] - 1\n        signe = signeChange ? choice([-1, 1]) : 1\n        nombre = signe * randint(10 ** j + 1, 9 * 10 ** j - 1)\n      } else if (listeTypeDeQuestions[i] < 11) {\n        // nombre décimal positif\n        const j = listeTypeDeQuestions[i] - 7\n        signe = signeChange ? choice([-1, 1]) : 1\n        nombre = (signe * randint(10001, 89999)) / 10 ** (4 - j)\n      } else {\n        // nombre décimal positif inférieur à 1\n        const j = listeTypeDeQuestions[i] - 11\n        signe = signeChange ? choice([-1, 1]) : 1\n        nombre =\n          (signe * randint(10 ** (4 - j - 1) + 1, 9 * 10 ** (4 - j - 1) - 1)) /\n          10000\n      }\n\n      encadrement = calculerEncadrement(nombre)\n      const nombreTexte = texNombre(nombre, 4)\n\n      // Construire les expressions des bornes\n      const borneInfExpr =\n        encadrement.coeffInf === 1\n          ? `10^{${encadrement.exposant}}`\n          : encadrement.coeffInf === -1\n            ? `-10^{${encadrement.exposant}}`\n            : `${encadrement.coeffInf}\\\\times10^{${encadrement.exposant}}`\n\n      const borneSupExpr =\n        encadrement.coeffSup === 1\n          ? `10^{${encadrement.exposant}}`\n          : encadrement.coeffSup === -1\n            ? `-10^{${encadrement.exposant}}`\n            : `${encadrement.coeffSup}\\\\times10^{${encadrement.exposant}}`\n\n      consigneAMC = `$\\\\dots\\\\dots\\\\dots${sp(1)}\\\\leqslant ${nombreTexte}\\\\leqslant${sp(1)}\\\\dots\\\\dots\\\\dots$`\n\n      texte = this.interactif\n        ? ajouteChampTexteMathLive(\n            this,\n            2 * i,\n            KeyboardType.clavierDeBaseAvecFractionPuissanceCrochets,\n          ) +\n          `$\\\\leqslant ${nombreTexte}\\\\leqslant $` +\n          ajouteChampTexteMathLive(\n            this,\n            2 * i + 1,\n            KeyboardType.clavierDeBaseAvecFractionPuissanceCrochets,\n          )\n        : consigneAMC\n\n      // Définir les réponses pour l'interactif\n      handleAnswers(this, 2 * i, {\n        reponse: {\n          value: borneInfExpr,\n          options: { ecritureScientifique: true },\n        },\n      })\n      handleAnswers(this, 2 * i + 1, {\n        reponse: {\n          value: borneSupExpr,\n          options: { ecritureScientifique: true },\n        },\n      })\n\n      texteCorr = `$${miseEnEvidence(borneInfExpr)} \\\\leqslant ${nombreTexte} \\\\leqslant ${miseEnEvidence(borneSupExpr)}$`\n      texteCorr += ` car $${borneInfExpr} = ${texNombre(encadrement.borneInf, 4)}$ et $${borneSupExpr} = ${texNombre(encadrement.borneSup, 4)}.$`\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce:\n            'Encadrer le nombre suivant par deux expressions de la forme $k\\\\times10^n$ et $(k+1)\\\\times10^n$ où $k$ est un entier non nul : ' +\n            consigneAMC,\n          enonceAvant: false,\n          enonceApresNumQuestion: true,\n          options: { barreseparation: true },\n          propositions: [\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  multicolsBegin: true,\n                  reponse: {\n                    texte: 'Coefficient de la borne inférieure',\n                    valeur: encadrement.coeffInf,\n                    param: {\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'Exposant commun',\n                    valeur: encadrement.exposant,\n                    param: {\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  multicolsEnd: true,\n                  reponse: {\n                    texte: 'Coefficient de la borne supérieure',\n                    valeur: encadrement.coeffSup,\n                    param: {\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        }\n      }\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","interactifReady","interactifType","amcReady","amcType","titre","uuid","refs","PuissancesEncadrementCoefficients","Exercice","__publicField","listeTypeDeQuestions","signeChange","typeDeQuestions","gestionnaireFormulaireTexte","ee","choice","calculerEncadrement","nombre","abs","signe","exposant","puissanceDix","coeffInf","coeffSup","i","texte","texteCorr","consigneAMC","encadrement","cpt","j","randint","nombreTexte","texNombre","borneInfExpr","borneSupExpr","sp","ajouteChampTexteMathLive","KeyboardType","handleAnswers","miseEnEvidence","context","listeQuestionsToContenu"],"mappings":"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"}