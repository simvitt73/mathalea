{"version":3,"file":"6G3B-1-Omq8BeKB.js","sources":["../../src/exercices/6e/6G3B-1.ts"],"sourcesContent":["import { codageMediatrice } from '../../lib/2d/CodageMediatrice'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { vecteur } from '../../lib/2d/Vecteur'\nimport { cercle } from '../../lib/2d/cercle'\nimport { cibleCarree, dansLaCibleCarree } from '../../lib/2d/cibles'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport {\n  droite,\n  droiteParPointEtPerpendiculaire,\n  positionLabelDroite,\n} from '../../lib/2d/droites'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { segmentAvecExtremites } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint, texteParPoint } from '../../lib/2d/textes'\nimport {\n  homothetie,\n  similitude,\n  symetrieAxiale,\n  translation,\n} from '../../lib/2d/transformations'\nimport { norme } from '../../lib/2d/utilitairesGeometriques'\nimport {\n  pointAdistance,\n  pointIntersectionLC,\n} from '../../lib/2d/utilitairesPoint'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '30/11/2020'\nexport const dateDeModifImportante = '06/09/2024'\nexport const titre = 'Construire des médiatrices avec cible auto-corrective'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n/**\n * Construction de médiatrices avec dispositif d'auto-correction aléatoire\n * @author Jean-Claude Lhote (Ajout AMC par Eric Elter)\n */\nexport const uuid = 'd7052'\n\nexport const refs = {\n  'fr-fr': ['6G3B-1'],\n  'fr-2016': ['6G25'],\n  'fr-ch': ['9ES3-5'],\n}\n\nconst celluleAlea = function (rang: number) {\n  const lettre = lettreDepuisChiffre(randint(1, rang))\n  const chiffre = Number(randint(1, rang)).toString()\n  return lettre + chiffre\n}\n\nexport default class ConstruireMediatrices6e extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    for (let ee = 0, cpt = 0; ee < this.nbQuestions && cpt < 50; ) {\n      let result = [0, 0]\n      let texteCorr = ''\n      let texte = ''\n\n      // On prépare la figure...\n      const noms = choisitLettresDifferentes(4, 'QI', true)\n      texte = `Construire la médiatrice $(d)$ du segment $[${noms[0]}${noms[1]}]$ et la médiatrice $(d')$ du segment $[${noms[2]}${noms[3]}]$.<br>`\n      texte +=\n        \"Prolonger les droites $(d)$ et $(d')$ pour obtenir leur point d'intersection.<br>\"\n      const marks = ['/', '//', '///', 'x', 'o', 'S', 'V']\n      const I = point(0, 0, 'I')\n      const A = pointAdistance(I, randint(3, 6))\n      const B = similitude(A, I, randint(65, 150), randint(8, 15) / 10)\n      const medA = droite(I, A)\n      const medB = droite(I, B)\n\n      const dA = droiteParPointEtPerpendiculaire(A, medA)\n      const dB = droiteParPointEtPerpendiculaire(B, medB)\n      medA.color = colorToLatexOrHTML('blue')\n      medB.color = colorToLatexOrHTML('green')\n      const cA = cercle(A, arrondi(randint(25, 40) / 20))\n      const cB = cercle(B, arrondi(randint(45, 60) / 20))\n      const A1 = pointIntersectionLC(dA, cA, noms[0], 1)\n      const A2 = symetrieAxiale(A1, medA, noms[1])\n      const B1 = pointIntersectionLC(dB, cB, noms[2], 1)\n      const B2 = symetrieAxiale(B1, medB, noms[3])\n      const sA = segmentAvecExtremites(A1, A2)\n      const sB = segmentAvecExtremites(B1, B2)\n      sA.color = colorToLatexOrHTML('black')\n      sB.color = colorToLatexOrHTML('black')\n\n      const objetsEnonce = []\n      const objetsCorrection = []\n      const nomA1 = texteParPoint(\n        noms[0],\n        translation(\n          A1,\n          homothetie(vecteur(A2, A1), A, 0.5 / norme(vecteur(A2, A1))),\n        ),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      const nomA2 = texteParPoint(\n        noms[1],\n        translation(\n          A2,\n          homothetie(vecteur(A1, A2), A, 0.5 / norme(vecteur(A2, A1))),\n        ),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      const nomB1 = texteParPoint(\n        noms[2],\n        translation(\n          B1,\n          homothetie(vecteur(B2, B1), A, 0.5 / norme(vecteur(B2, B1))),\n        ),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      const nomB2 = texteParPoint(\n        noms[3],\n        translation(\n          B2,\n          homothetie(vecteur(B1, B2), A, 0.5 / norme(vecteur(B2, B1))),\n        ),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n\n      const cellule = celluleAlea(6)\n      result = dansLaCibleCarree(I.x, I.y, 6, 0.6, cellule)\n      const cible = cibleCarree({\n        x: result[0],\n        y: result[1],\n        rang: 6,\n        taille: 0.6,\n        color: '#f15929',\n      })\n      cible.opacite = 0.7\n\n      objetsEnonce.push(cible, sA, sB, nomA1, nomA2, nomB1, nomB2)\n      objetsCorrection.push(\n        cible,\n        sA,\n        sB,\n        tracePoint(I),\n        labelPoint(I),\n        nomA1,\n        nomA2,\n        nomB1,\n        nomB2,\n      )\n      objetsCorrection.push(\n        medA,\n        medB,\n        codageMediatrice(A1, A2, 'blue', marks[1]),\n        codageMediatrice(B1, B2, 'green', marks[2]),\n      )\n\n      texteCorr += `Le point $I$ d'intersection des deux médiatrices est dans la case ${cellule} de la grille.<br>`\n\n      // On appelle la fonction fixBordures qui va déterminer la fenêtre Mathalea2d.\n      // Ici, la cible était un objet centré sur (cible.x, cible.y) et de taille 4, on crée deux points en diagonale\n      // afin qu'elle soit prise en compte dans son intégralité avec les entêtes de lignes et de colonnes.\n      const params = fixeBordures([\n        nomA1,\n        nomA2,\n        nomB1,\n        nomB2,\n        point(cible.x - 2.5, cible.y - 2.5),\n        point(cible.x + 2.5, cible.y + 2.5),\n      ])\n      const { xmin, xmax, ymin, ymax } = params\n      objetsCorrection.push(\n        texteParPoint(\n          '(d)',\n          positionLabelDroite(medA, { xmin, ymin, xmax, ymax }),\n          0,\n          'black',\n          1,\n          'milieu',\n          true,\n        ),\n      )\n      objetsCorrection.push(\n        texteParPoint(\n          \"(d')\",\n          positionLabelDroite(medB, { xmin, ymin, xmax, ymax }),\n          0,\n          'black',\n          1,\n          'milieu',\n          true,\n        ),\n      )\n      Object.assign(params, { pixelsParCm: 20, scale: 0.7 })\n\n      this.autoCorrection[ee] = {\n        enonce: texte + mathalea2d(params, objetsEnonce),\n        propositions: [\n          {\n            texte: texteCorr + mathalea2d(params, objetsCorrection),\n            statut: 3, // (ici c'est le nombre de lignes du cadre pour la réponse de l'élève sur AMC)\n            feedback: '',\n            enonce: 'Texte écrit au dessus ou avant les cases à cocher', // EE : ce champ est facultatif et fonctionnel qu'en mode hybride (en mode normal, il n'y a pas d'intérêt)\n            sanscadre: true, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la réponse de l'élève\n          },\n        ],\n      }\n\n      if (this.questionJamaisPosee(ee, A.x, A.y, B.x, B.y)) {\n        this.listeQuestions[ee] = texte + mathalea2d(params, objetsEnonce)\n        this.listeCorrections[ee] =\n          texteCorr + mathalea2d(params, objetsCorrection)\n        ee++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","dateDeModifImportante","titre","amcReady","amcType","uuid","refs","celluleAlea","rang","lettre","lettreDepuisChiffre","randint","chiffre","ConstruireMediatrices6e","Exercice","ee","cpt","result","texteCorr","texte","noms","choisitLettresDifferentes","marks","I","point","A","pointAdistance","B","similitude","medA","droite","medB","dA","droiteParPointEtPerpendiculaire","dB","colorToLatexOrHTML","cA","cercle","arrondi","cB","A1","pointIntersectionLC","A2","symetrieAxiale","B1","B2","sA","segmentAvecExtremites","sB","objetsEnonce","objetsCorrection","nomA1","texteParPoint","translation","homothetie","vecteur","norme","nomA2","nomB1","nomB2","cellule","dansLaCibleCarree","cible","cibleCarree","tracePoint","labelPoint","codageMediatrice","params","fixeBordures","xmin","xmax","ymin","ymax","positionLabelDroite","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}