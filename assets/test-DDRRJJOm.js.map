{"version":3,"file":"test-DDRRJJOm.js","sources":["../../src/exercices/profs/test.ts"],"sourcesContent":["import { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { ComputeEngine } from '@cortex-js/compute-engine'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { texNombre } from '../../lib/outils/texNombre'\n\nexport const titre = 'Eric fait ses tests interactifs.'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': ['NR'],\n}\n\nexport const uuid = 'testEE'\n\nconst engine = new ComputeEngine()\nconst saisie = engine.parse('(x+5)^2', { canonical: true })\nconst saisieDev = engine\n  .box(['ExpandAll', saisie])\n  .evaluate()\n  .simplify().canonical\nconst reponseParsed = engine.parse('(x+5)(x+5)', { canonical: true })\nconst reponseDev = engine\n  .box(['ExpandAll', reponseParsed])\n  .evaluate()\n  .simplify().canonical\nconsole.info(saisieDev.isEqual(reponseDev))\n/* const result = fonctionComparaison('3.1\\\\times10^{3}', '3100', {\n  ecritureScientifique: true,\n})\n\nconst result = fonctionComparaison(\n  '0.90\\\\times c_{n}+50',\n  '20+30+0.90\\\\times c_{n}',\n  {\n    calculFormel: true,\n  },\n)\n\n\n*/\nconst expr1 = engine.parse('(15 \\\\div 3) - 3', { canonical: true })\nconst expr2 = engine.parse('10 \\\\times (9-4)', {\n  canonical: false,\n})\nconsole.info(expr1.latex) // -> false but should be true\n// console.info(expr1.simplify().json) // -> false but should be true\nconsole.info(expr2.latex) // -> false but should be true\n\nconsole.info('comparaison', expr1.isEqual(expr2)) // -> true OK of course\nconsole.info(expr1.isSame(expr2)) // -> true OK of course\n\nconsole.info(expr1.latex)\nconsole.info(JSON.stringify(expr2.json))\n\n/* console.info(engine.parse('2^6').isEqual(engine.parse('-2^6'))) // -> false OK\nconsole.info(engine.parse('(-2)^6').isEqual(engine.parse('2^6'))) // -> true\nconsole.info(engine.parse('(-2)^6').isSame(engine.parse('-2^6'))) // -> false\n*/\n\n/* console.info('-\\\\dfrac12'.replace(/^-\\\\dfrac(?:(\\d)(\\d)|{(-?\\d+)}{(-?\\d+)})$/i, function (match, p1, p2, p3, p4) {\n  return '\\\\dfrac{' + ((p1 || p3) * (p2 || p4) > 0 ? '-' : '') + Math.abs(p1 || p3) + '}{' + Math.abs(p2 || p4) + '}'\n}))\nconsole.info('\\\\dfrac{-12}{-13}'.replace(/^-\\\\dfrac(?:(\\d)(\\d)|{(-?\\d+)}{(-?\\d+)})$/i, function (match, p1, p2, p3, p4) {\n  return '\\\\dfrac{' + ((p1 || p3) * (p2 || p4) > 0 ? '-' : '') + Math.abs(p1 || p3) + '}{' + Math.abs(p2 || p4) + '}'\n}))\nconsole.info('-\\\\dfrac{-12}{-13}'.replace(/^-\\\\dfrac(?:(\\d)(\\d)|{(-?\\d+)}{(-?\\d+)})$/i, function (match, p1, p2, p3, p4) {\n  return '\\\\dfrac{' + ((p1 || p3) * (p2 || p4) > 0 ? '-' : '') + Math.abs(p1 || p3) + '}{' + Math.abs(p2 || p4) + '}'\n}))\nconsole.info('-\\\\dfrac{-12}{-13}'.replace(/^\\\\dfrac(?:(\\d)(\\d)|{(-?\\d+)}{(-?\\d+)})$/i, function (match, p1, p2, p3, p4) {\n  return '\\\\dfrac{' + ((p1 || p3) * (p2 || p4) < 0 ? '-' : '') + Math.abs(p1 || p3) + '}{' + Math.abs(p2 || p4) + '}'\n}))\n*/\n\nexport default class desTestsPourInteractivité extends Exercice {\n  constructor() {\n    super()\n\n    // this.consigne = 'Quel est le résultat des calculs suivants ?'\n    this.consigne = `Écrire une expression égale à celle proposée.`\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0, texte, texteCorr, cpt = 0, a, b;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      a = randint(1, 12)\n      b = randint(2, 12)\n\n      // console.info(fonctionComparaison('16^1', '16', { sansExposantUn: true }).isOk)\n\n      const reponse = `${texNombre(0.93)}\\\\times c_{n}+20`\n      // const reponse = new FractionEtendue(-20, 50).valeurDecimale\n      // const enonce = '$Donner l\\'ensemble des nombres entiers non nuls positifs inférieurs à 4 +' + reponse + '$ : $'\n      // const enonce = '$Donner l\\'ensemble des nombres entiers non nuls positifs inférieurs à 4 :$'\n      // const enonce =\n      //  '\\\\dfrac{-3+\\\\sqrt{41}}{4} + -\\\\dfrac34+\\\\dfrac{\\\\sqrt{41}}{4}'\n      const enonce = `${texNombre(0.93)}\\\\times c_{n}+20`\n      // const enonce = '$Donner une valeur numér égale à 0.4 : $'\n      // reponse = reponse.toString()\n      texteCorr = ''\n      // texte = `$${enonce}=$` + ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBaseAvecFraction)\n      texte =\n        `$${enonce}$` +\n        ajouteChampTexteMathLive(this, i, KeyboardType.clavierSuite)\n      // texte += `$${enonce}$` + ajouteChampTexteMathLive(this, i + 1,  KeyboardType.clavierDeBaseAvecFraction)\n      // texte += ajouteFeedback(this, i + 1)\n      // handleAnswers(this, i, { reponse: { value: reponse, compare: expressionDeveloppeeEtNonReduiteCompare } })\n      // handleAnswers(this, i, { reponse: { value: reponse } })\n      handleAnswers(this, i, {\n        reponse: {\n          value: reponse,\n          options: { calculFormel: true },\n        },\n      })\n      // handleAnswers(this, i, { reponse: { value: reponse } })\n\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","refs","uuid","engine","ComputeEngine","saisie","saisieDev","reponseParsed","reponseDev","expr1","expr2","desTestsPourInteractivité","Exercice","i","texte","texteCorr","cpt","a","b","randint","reponse","texNombre","enonce","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"ymFASO,MAAMA,GAAQ,mCACRC,GAAkB,GAClBC,GAAiB,WAEjBC,GAAO,CAClB,QAAS,CAAA,EACT,QAAS,CAAC,IAAI,CAChB,EAEaC,GAAO,SAEdC,EAAS,IAAIC,EAAAA,cACbC,EAASF,EAAO,MAAM,UAAW,CAAE,UAAW,GAAM,EACpDG,EAAYH,EACf,IAAI,CAAC,YAAaE,CAAM,CAAC,EACzB,SAAA,EACA,SAAA,EAAW,UACRE,EAAgBJ,EAAO,MAAM,aAAc,CAAE,UAAW,GAAM,EAC9DK,EAAaL,EAChB,IAAI,CAAC,YAAaI,CAAa,CAAC,EAChC,SAAA,EACA,SAAA,EAAW,UACd,QAAQ,KAAKD,EAAU,QAAQE,CAAU,CAAC,EAe1C,MAAMC,EAAQN,EAAO,MAAM,mBAAoB,CAAE,UAAW,GAAM,EAC5DO,EAAQP,EAAO,MAAM,mBAAoB,CAC7C,UAAW,EACb,CAAC,EACD,QAAQ,KAAKM,EAAM,KAAK,EAExB,QAAQ,KAAKC,EAAM,KAAK,EAExB,QAAQ,KAAK,cAAeD,EAAM,QAAQC,CAAK,CAAC,EAChD,QAAQ,KAAKD,EAAM,OAAOC,CAAK,CAAC,EAEhC,QAAQ,KAAKD,EAAM,KAAK,EACxB,QAAQ,KAAK,KAAK,UAAUC,EAAM,IAAI,CAAC,EAqBvC,MAAqBC,WAAkCC,CAAS,CAC9D,aAAc,CACZ,MAAA,EAGA,KAAK,SAAW,+CAClB,CAEA,iBAAkB,CAChB,QACMC,EAAI,EAAGC,EAAOC,EAAWC,EAAM,EAAGC,EAAGC,EACzCL,EAAI,KAAK,aAAeG,EAAM,IAC9B,CACAC,EAAIE,EAAQ,EAAG,EAAE,EACjBD,EAAIC,EAAQ,EAAG,EAAE,EAIjB,MAAMC,EAAU,GAAGC,EAAU,GAAI,CAAC,mBAM5BC,EAAS,GAAGD,EAAU,GAAI,CAAC,mBAGjCN,EAAY,GAEZD,EACE,IAAIQ,CAAM,IACVC,EAAyB,KAAMV,EAAGW,EAAa,YAAY,EAK7DC,EAAc,KAAMZ,EAAG,CACrB,QAAS,CACP,MAAOO,EACP,QAAS,CAAE,aAAc,EAAA,CAAK,CAChC,CACD,EAGG,KAAK,oBAAoBP,EAAGI,EAAGC,CAAC,IAElC,KAAK,eAAeL,CAAC,EAAIC,EACzB,KAAK,iBAAiBD,CAAC,EAAIE,EAC3BF,KAEFG,GACF,CACAU,EAAwB,IAAI,CAC9B,CACF"}