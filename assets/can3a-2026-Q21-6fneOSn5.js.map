{"version":3,"file":"can3a-2026-Q21-6fneOSn5.js","sources":["../../src/exercices/can/can3a-2026/can3a-2026-Q21.ts"],"sourcesContent":["import { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { pgcd, ppcm } from '../../../lib/outils/primalite'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { obtenirListeFractionsIrreductibles } from '../../../modules/fractions'\nimport { randint } from '../../../modules/outils'\nimport ExerciceCan from '../../ExerciceCan'\n\nexport const titre = 'Additionner deux fractions à dénominateurs différents'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'yizcy'\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': [],\n}\n\n/**\n * @author Gilles Mora\n\n*/\nexport default class Can32026Q21 extends ExerciceCan {\n   enonce(n1?: number, d1?: number, n2?: number, d2?: number) {\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n    this.optionsDeComparaison = { fractionEgale: true }\n\n    let frac1: FractionEtendue\n    let frac2: FractionEtendue\n    let resultat: FractionEtendue\n    let p: number\n\n    if (n1 == null || d1 == null || n2 == null || d2 == null) {\n      // Version aléatoire : génération de deux fractions irréductibles\n      do {\n        frac1 = choice(obtenirListeFractionsIrreductibles())\n\n        // Générer un dénominateur non multiple de frac1.den\n        let den2: number\n        do {\n          den2 = randint(2, 7)\n        } while (\n          den2 === frac1.den ||\n          den2 % frac1.den === 0 ||\n          frac1.den % den2 === 0\n        )\n\n        const num2 = randint(1, den2 - 1)\n        frac2 = new FractionEtendue(num2, den2)\n\n        p = ppcm(frac1.den, frac2.den)\n        const num1Adapte = frac1.num * (p / frac1.den)\n        const num2Adapte = frac2.num * (p / frac2.den)\n\n        resultat = new FractionEtendue(num1Adapte + num2Adapte, p)\n      } while (resultat.num === resultat.den) // éviter que ça fasse 1\n    } else {\n      // Version avec paramètres explicites\n      frac1 = new FractionEtendue(n1, d1)\n      frac2 = new FractionEtendue(n2, d2)\n      \n      p = ppcm(d1, d2)\n      const num1Adapte = n1 * (p / d1)\n      const num2Adapte = n2 * (p / d2)\n      \n      resultat = new FractionEtendue(num1Adapte + num2Adapte, p)\n    }\n\n    this.question = this.interactif\n      ? `$${frac1.texFraction} + ${frac2.texFraction} = $`\n      : `$${frac1.texFraction} + ${frac2.texFraction}$`\n\n    this.correction = `On cherche un dénominateur commun (ici $${p}$), puis on additionne les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} + ${frac2.texFraction} &= \\\\dfrac{${frac1.num}\\\\times ${texNombre(p / frac1.den, 0)}}{${frac1.den}\\\\times ${texNombre(p / frac1.den, 0)}} + \\\\dfrac{${frac2.num}\\\\times ${texNombre(p / frac2.den, 0)}}{${frac2.den}\\\\times ${texNombre(p / frac2.den, 0)}} \\\\\\\\\n&= \\\\dfrac{${(frac1.num * p) / frac1.den}}{${resultat.den}} + \\\\dfrac{${(frac2.num * p) / frac2.den}}{${resultat.den}} \\\\\\\\[0.7em]\n&= ${miseEnEvidence(resultat.texFraction)}${\n      pgcd(resultat.num, resultat.den) !== 1\n        ? ` = ${miseEnEvidence(resultat.texFractionSimplifiee)}`\n        : ''\n    }\n\\\\end{aligned}$`\n\n    this.reponse = resultat\n    this.canEnonce = this.question\n    this.canReponseACompleter = ''\n  }\n\n  nouvelleVersion() {\n    this.canOfficielle ? this.enonce(1, 3, 5, 2) : this.enonce()\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","Can32026Q21","ExerciceCan","n1","d1","n2","d2","KeyboardType","frac1","frac2","resultat","p","choice","obtenirListeFractionsIrreductibles","den2","randint","num2","FractionEtendue","ppcm","num1Adapte","num2Adapte","texNombre","miseEnEvidence","pgcd"],"mappings":"upFAUO,MAAMA,GAAQ,wDACRC,GAAkB,GAClBC,GAAiB,WACjBC,GAAO,QACPC,GAAO,CAClB,QAAS,CAAA,EACT,QAAS,CAAA,CACX,EAMA,MAAqBC,WAAoBC,CAAY,CAClD,OAAOC,EAAaC,EAAaC,EAAaC,EAAa,CAC1D,KAAK,iBAAmBC,EAAa,0BACrC,KAAK,qBAAuB,CAAE,cAAe,EAAA,EAE7C,IAAIC,EACAC,EACAC,EACAC,EAEJ,GAAIR,GAAM,MAAQC,GAAM,MAAQC,GAAM,MAAQC,GAAM,KAElD,EAAG,CACDE,EAAQI,EAAOC,GAAoC,EAGnD,IAAIC,EACJ,GACEA,EAAOC,EAAQ,EAAG,CAAC,QAEnBD,IAASN,EAAM,KACfM,EAAON,EAAM,MAAQ,GACrBA,EAAM,IAAMM,IAAS,GAGvB,MAAME,EAAOD,EAAQ,EAAGD,EAAO,CAAC,EAChCL,EAAQ,IAAIQ,EAAgBD,EAAMF,CAAI,EAEtCH,EAAIO,EAAKV,EAAM,IAAKC,EAAM,GAAG,EAC7B,MAAMU,EAAaX,EAAM,KAAOG,EAAIH,EAAM,KACpCY,EAAaX,EAAM,KAAOE,EAAIF,EAAM,KAE1CC,EAAW,IAAIO,EAAgBE,EAAaC,EAAYT,CAAC,CAC3D,OAASD,EAAS,MAAQA,EAAS,SAC9B,CAELF,EAAQ,IAAIS,EAAgBd,EAAIC,CAAE,EAClCK,EAAQ,IAAIQ,EAAgBZ,EAAIC,CAAE,EAElCK,EAAIO,EAAKd,EAAIE,CAAE,EACf,MAAMa,EAAahB,GAAMQ,EAAIP,GACvBgB,EAAaf,GAAMM,EAAIL,GAE7BI,EAAW,IAAIO,EAAgBE,EAAaC,EAAYT,CAAC,CAC3D,CAEA,KAAK,SAAW,KAAK,WACjB,IAAIH,EAAM,WAAW,MAAMC,EAAM,WAAW,OAC5C,IAAID,EAAM,WAAW,MAAMC,EAAM,WAAW,IAEhD,KAAK,WAAa,2CAA2CE,CAAC;AAAA;AAAA,EAEhEH,EAAM,WAAW,MAAMC,EAAM,WAAW,eAAeD,EAAM,GAAG,WAAWa,EAAUV,EAAIH,EAAM,IAAK,CAAC,CAAC,KAAKA,EAAM,GAAG,WAAWa,EAAUV,EAAIH,EAAM,IAAK,CAAC,CAAC,eAAeC,EAAM,GAAG,WAAWY,EAAUV,EAAIF,EAAM,IAAK,CAAC,CAAC,KAAKA,EAAM,GAAG,WAAWY,EAAUV,EAAIF,EAAM,IAAK,CAAC,CAAC;AAAA,aAChQD,EAAM,IAAMG,EAAKH,EAAM,GAAG,KAAKE,EAAS,GAAG,eAAgBD,EAAM,IAAME,EAAKF,EAAM,GAAG,KAAKC,EAAS,GAAG;AAAA,KAC/GY,EAAeZ,EAAS,WAAW,CAAC,GACnCa,EAAKb,EAAS,IAAKA,EAAS,GAAG,IAAM,EACjC,MAAMY,EAAeZ,EAAS,qBAAqB,CAAC,GACpD,EACN;AAAA,iBAGA,KAAK,QAAUA,EACf,KAAK,UAAY,KAAK,SACtB,KAAK,qBAAuB,EAC9B,CAEA,iBAAkB,CAChB,KAAK,cAAgB,KAAK,OAAO,EAAG,EAAG,EAAG,CAAC,EAAI,KAAK,OAAA,CACtD,CACF"}