{"version":3,"file":"6N3Q-WXWPq8VP.js","sources":["../../src/exercices/6e/6N3Q.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { texFractionFromString } from '../../lib/outils/deprecatedFractions'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const titre = \"Calculer mentalement le pourcentage d'un nombre\"\n\n/**\n * Calculer 10, 20, 30, 40 ou 50% d'un nombre\n * @author Rémi Angot + Jean-Claude Lhote\n * Ajout niveau 2 + 1 correction différente cgrolleau 03/2021\n */\nexport const uuid = '66756'\n\nexport const refs = {\n  'fr-fr': ['6N3Q'],\n  'fr-2016': ['6N33-1'],\n  'fr-ch': ['9NO14-3'],\n}\nexport default class PourcentageDunNombre extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 5\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n    this.spacingCorr = 3.5\n    this.nbCols = 2\n\n    this.sup = true\n    this.interactif = false\n    this.sup2 = '1-2-4-5'\n    this.besoinFormulaireCaseACocher = ['Plusieurs méthodes']\n    this.besoinFormulaire2Texte = [\n      'Choix des pourcentages',\n      `Nombres séparés par des tirets\n1 : 10%\n2 : 20%\n3 : 25%\n4 : 30%\n5 : 40%\n6 : 50%\n7 : 60%\n8 : 75%\n9 : 90%\n10 : Mélange`,\n    ]\n  }\n\n  nouvelleVersion() {\n    const pourcentages = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 9,\n      defaut: 10,\n      melange: 10,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: [10, 20, 25, 30, 40, 50, 60, 75, 90],\n    }).map(Number)\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      const p = pourcentages[i]\n      let n = choice([\n        randint(2, 9),\n        randint(2, 9) * 10,\n        randint(1, 9) * 10 + randint(1, 2),\n      ])\n      if (p === 25 || p === 75) {\n        n = randint(1, 10) * choice([4, 40])\n      }\n      texte = `$${p}~\\\\%~\\\\text{de }${n}$`\n      switch (p) {\n        case 50:\n          texteCorr = `$${p}~\\\\%~\\\\text{de }${n}=${n}\\\\div${2} = ${texNombre(n / 2)}$` // calcul de n/2 si p = 50%\n          break\n        case 25:\n          texteCorr = `$${p}~\\\\%~\\\\text{de }${n}=${n}\\\\div${4} = ${texNombre(n / 4)}$` // calcul de n/4 si p = 25%\n          break\n        case 75:\n          texteCorr = `$${p}~\\\\%~\\\\text{de }${n}=${n}\\\\div 4\\\\times 3 = ${texNombre(n / 4)} \\\\times 3 = ${texNombre((n / 4) * 3)}$` // calcul de n/4 * 3 si p = 75%\n          break\n        default:\n          texteCorr = `$${p}~\\\\%~\\\\text{de }${n}=${texFractionFromString(p, 100)}\\\\times${n}=(${p}\\\\times${n})\\\\div100=${texNombre(p * n)}\\\\div100=${texNombre((p * n) / 100)}$`\n          if (this.sup2) {\n            texteCorr += `<br>$${p}~\\\\%~\\\\text{de }${n}=${texFractionFromString(p, 100)}\\\\times${n}=(${n}\\\\div100)\\\\times${p}=${texNombre(n / 100)}\\\\times${p}=${texNombre((p * n) / 100)}$`\n            texteCorr += `<br>$${p}~\\\\%~\\\\text{de }${n}=${texFractionFromString(p, 100)}\\\\times${n}=${texNombre(p / 100)}\\\\times${n}=${texNombre((p * n) / 100)}$`\n            if (p === 60) {\n              texteCorr += `<br>$${p}~\\\\%~\\\\text{de }${n}$, c'est $50~\\\\%~\\\\text{de }${n}$\nplus $10 ~\\\\%~\\\\text{de }${n} $ soit la moitié de $ ${n} \\\\text{ plus } 10 ~\\\\%~\\\\text{de }${n} $ :\n$${p}~\\\\%~\\\\text{de }${n}=${n}\\\\div${2} + ${n}\\\\div${10} =  ${texNombre(n * 0.6)}$`\n            } else if (p === 90) {\n              texteCorr += `<br>$${p}~\\\\%~\\\\text{de }${n}$, c'est $${n}$\nmoins $10 ~\\\\%~\\\\text{de }${n} $ :\n$${p}~\\\\%~\\\\text{de }${n}=${n} - ${n}\\\\div${10} =  ${texNombre(n * 0.9)}$`\n            } else if (p > 10) {\n              texteCorr += `<br>$${p}~\\\\%~\\\\text{de }${n}$, c'est $ ${p / 10} $ fois $ 10 ~\\\\%~\\\\text{de }${n} $ :\n$${p}~\\\\%~\\\\text{de }${n}= ${p / 10} \\\\times ${n}\\\\div${10} =  ${texNombre((p * n) / 100)}$`\n            }\n          }\n      }\n      if (context.isHtml && this.interactif)\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers)\n      setReponse(this, i, (n * p) / 100)\n      if (context.isAmc) {\n        this.autoCorrection[i].enonce = texte + '='\n        this.autoCorrection[i].propositions = [\n          { texte: texteCorr, statut: false },\n        ]\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.param.digits = 3\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.param.decimals = 1\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      if (this.questionJamaisPosee(i, p, n)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      } else cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["amcReady","amcType","interactifReady","interactifType","titre","uuid","refs","PourcentageDunNombre","Exercice","pourcentages","gestionnaireFormulaireTexte","i","texte","texteCorr","cpt","p","n","choice","randint","texNombre","texFractionFromString","context","ajouteChampTexteMathLive","KeyboardType","setReponse","textCorrSplit","aRemplacer","ee","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}