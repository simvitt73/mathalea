{"version":3,"file":"6N3L-uTVJcRwz.js","sources":["../../src/exercices/6e/6N3L.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport {\n  simplificationDeFractionAvecEtapes,\n  texFractionFromString,\n} from '../../lib/outils/deprecatedFractions'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Calculer la fraction d'un nombre\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * Calculer la fracton d'un nombre divisible par le dénominateur ... ou pas.\n *\n * Par défaut la division du nombre par le dénominateur est inférieure à 11\n * @author Rémi Angot + Jean-Claude Lhote\n */\nexport const uuid = 'ddb83'\n\nexport const refs = {\n  'fr-fr': ['6N3L'],\n  'fr-2016': ['6N33'],\n  'fr-ch': ['9NO14-1'],\n}\nexport default class FractionDUnNombre extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Forcer résultat entier', true]\n    this.besoinFormulaire2CaseACocher = ['Plusieurs méthodes', false]\n    this.nbQuestions = 5\n    this.consigne = 'Calculer.'\n    context.isHtml ? (this.spacingCorr = 3.5) : (this.spacingCorr = 2)\n    context.isHtml ? (this.spacing = 2) : (this.spacing = 2)\n    this.sup = true\n    this.sup2 = false\n    this.nbCols = 2\n  }\n\n  nouvelleVersion() {\n    const listeFractions = [\n      [1, 2],\n      [1, 3],\n      [2, 3],\n      [1, 4],\n      [3, 4],\n      [1, 5],\n      [2, 5],\n      [3, 5],\n      [4, 5],\n      [1, 6],\n      [5, 6],\n      [1, 7],\n      [2, 7],\n      [3, 7],\n      [4, 7],\n      [5, 7],\n      [6, 7],\n      [1, 8],\n      [3, 8],\n      [5, 8],\n      [7, 8],\n      [1, 9],\n      [2, 9],\n      [4, 9],\n      [5, 9],\n      [7, 9],\n      [8, 9],\n      [1, 10],\n      [3, 10],\n      [7, 10],\n      [9, 10],\n    ] // Couples de nombres premiers entre eux\n\n    for (\n      let i = 0, a, b, k, n, j, fraction, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      fraction = choice(listeFractions)\n      a = fraction[0]\n      b = fraction[1]\n      k = randint(1, 11)\n      j = false\n      if (this.sup || context.isAmc) n = b * k\n      else if (randint(0, 1) === 0) n = b * k\n      else n = randint(10, b * 11)\n      texte = `$${texFractionFromString(a, b)}\\\\times${n}$`\n      texteCorr = ''\n      if (a === 1) {\n        // Si n * 1/b\n        if (n / b - arrondi(n / b, 4) === 0) {\n          texteCorr += `$${texFractionFromString(\n            a,\n            miseEnEvidence(b, 'blue'),\n          )}\\\\times${n}=${n}\\\\div${miseEnEvidence(b, 'blue')}=${texNombre(\n            n / b,\n          )}$`\n        } else {\n          // si résultat décimal\n          texteCorr += `$${texFractionFromString(a, b)}\\\\times${n}=${texFractionFromString(\n            n,\n            b,\n          )}${simplificationDeFractionAvecEtapes(n, b)}$`\n        } // si résultat non décimal\n      } else {\n        if (n / b - arrondi(n / b, 4) === 0) {\n          // si n/b décimal calcul (n/b)*a\n          texteCorr += `$${texFractionFromString(\n            a,\n            miseEnEvidence(b, 'blue'),\n          )}\\\\times${n}=(${n}\\\\div${miseEnEvidence(\n            b,\n            'blue',\n          )})\\\\times${a}=${texNombre(\n            n / b,\n          )}\\\\times${a}=${texNombre((n / b) * a)}$<br>`\n        } else {\n          if ((n * a) / b - arrondi((n * a) / b, 4) === 0) {\n            // si n/b non décimal, alors on se rabat sur (n*a)/b\n            texteCorr += ` $${texFractionFromString(\n              a,\n              miseEnEvidence(b, 'blue'),\n            )}\\\\times${n}=(${n}\\\\times${a})\\\\div${miseEnEvidence(\n              b,\n              'blue',\n            )}=${n * a}\\\\div${miseEnEvidence(\n              b,\n              'blue',\n            )}=${texNombre((n / b) * a)}$<br>`\n          } else {\n            // si autre méthode et résultat fractionnaire calcul (n*a)/b\n            texteCorr += ` $${texFractionFromString(\n              a,\n              miseEnEvidence(b, 'blue'),\n            )}\\\\times${n}=(${n}\\\\times${a})\\\\div${miseEnEvidence(\n              b,\n              'blue',\n            )}=${n * a}\\\\div${miseEnEvidence(\n              b,\n              'blue',\n            )}=${texFractionFromString(n * a, miseEnEvidence(b, 'blue'))}$<br>`\n          }\n          j = true\n        }\n        if ((n * a) / b - arrondi((n * a) / b, 4) === 0 && this.sup2 && !j) {\n          // Si autres méthodes et si (a*n)/b décimal calcul (n*a)/b\n          texteCorr += ` $${texFractionFromString(\n            a,\n            miseEnEvidence(b, 'blue'),\n          )}\\\\times${n}=(${n}\\\\times${a})\\\\div${miseEnEvidence(\n            b,\n            'blue',\n          )}=${n * a}\\\\div${miseEnEvidence(b, 'blue')}=${texNombre(\n            (n / b) * a,\n          )}$<br>`\n        } else {\n          // si autre méthode et résultat fractionnaire calcul (n*a)/b\n          if (this.sup2 && !j) {\n            texteCorr += ` $${texFractionFromString(\n              a,\n              miseEnEvidence(b, 'blue'),\n            )}\\\\times${n}=(${n}\\\\times${a})\\\\div${miseEnEvidence(\n              b,\n              'blue',\n            )}=${n * a}\\\\div${miseEnEvidence(\n              b,\n              'blue',\n            )}=${texFractionFromString(n * a, miseEnEvidence(b, 'blue'))}$<br>`\n          }\n        }\n        // si autre méthode et a/b décimal calcul (a/b)*n\n        if (\n          (b === 2 || b === 4 || b === 5 || b === 8 || b === 10) &&\n          this.sup2\n        ) {\n          texteCorr += ` $${texFractionFromString(\n            a,\n            miseEnEvidence(b, 'blue'),\n          )}\\\\times${n}=(${a}\\\\div${miseEnEvidence(\n            b,\n            'blue',\n          )})\\\\times${n}=${texNombre(\n            a / b,\n          )}\\\\times${n}=${texNombre((n / b) * a)}$`\n        }\n      }\n\n      setReponse(this, i, (n * a) / b)\n      if ((n * a) % b !== 0 && !context.isAmc) {\n        setReponse(this, i, [(n * a) / b, texFractionFromString(n * a, b)])\n      }\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecFraction,\n        { texteAvant: sp() + '$=$' },\n      )\n      if (context.isAmc) {\n        this.autoCorrection[i].enonce = texte\n        this.autoCorrection[i].propositions = [\n          { texte: texteCorr, statut: false },\n        ]\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.param.digits = 2\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.param.decimals = 0\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","FractionDUnNombre","Exercice","context","listeFractions","i","a","b","k","n","j","fraction","texte","texteCorr","cpt","choice","randint","texFractionFromString","arrondi","miseEnEvidence","texNombre","simplificationDeFractionAvecEtapes","setReponse","ajouteChampTexteMathLive","KeyboardType","sp","textCorrSplit","aRemplacer","ee","listeQuestionsToContenu"],"mappings":"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"}