{"version":3,"file":"5A12-2-B-S8tsnm.js","sources":["../../src/exercices/5e/5A12-2.ts"],"sourcesContent":["import { propositionsQcm } from '../../lib/interactif/qcm'\nimport { combinaisonListes, shuffle } from '../../lib/outils/arrayOutils'\nimport { egalOuApprox, lister } from '../../lib/outils/ecritures'\nimport {\n  listeNombresPremiersStrictJusqua,\n  obtenirListeNombresPremiers,\n  obtenirSemiPremier,\n  premiersEntreBornes,\n} from '../../lib/outils/primalite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const interactifReady = true\nexport const interactifType = 'qcm'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\n\nexport const titre = 'Reconnaitre un nombre premier'\nexport const dateDePublication = '11/07/2022'\nexport const dateDeModifImportante = '13/11/2025'\n\n/**\n * Verifier qu'un nombre est premier par divisions succesives des premiers nombres premiers\n * ou connaisance des nombres premiers inférieurs à 30\n * @author Guillaume Valmont ; Olivier Mimeau : Interactivité\n */\n\nexport const uuid = '03d65'\nexport const refs = {\n  'fr-fr': ['5A12-2'],\n  'fr-ch': ['9NO4-14'],\n}\nexport default class ReconnaitreNombrePremier extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 4\n    this.besoinFormulaireNumerique = ['Maximum', 10000] // 10000 car listeNombresPremiersStrictJusqua renvoie un tableau de premiers inférieurs à 10000\n    this.sup = 500\n    this.besoinFormulaire2CaseACocher = ['Avec calcul de la racine carrée']\n    this.sup2 = false\n    this.comment =\n      \"Maximum : Il s'agit du nombre maximum utilisé dans les questions. Si il est trop petit, ce nombre est adapté au nombre de questions.\"\n  }\n\n  nouvelleVersion() {\n    const typeQuestionsDisponibles = ['premier', 'non premier']\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    // Il faut qu'il y ait nbQuestions / 2 nombres premiers strictement inférieurs au max\n    const premiers = obtenirListeNombresPremiers() // (this.nbQuestions) inutile la function revoit de toute facon la liste jusqu'à 297\n    const max = contraindreValeur(\n      Math.max(premiers[Math.floor((this.nbQuestions + 1) / 2)], 10),\n      10000,\n      this.sup,\n      500,\n    ) /* Math.max(maxp, 11) */\n    // on est certain qu'il y a  la moitié des questions qui sont de type 'premier', le but est d'eviter le randint de a = listePremiers...\n    const listePremiersDansLordre = listeNombresPremiersStrictJusqua(max + 1)\n    const listePremiers = shuffle(listePremiersDansLordre)\n    let indexPremiers = 0\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texteCorr = ''\n      let texte = ''\n      let a = 0\n      switch (listeTypeQuestions[i]) {\n        case 'premier':\n          // a = listePremiers[randint(0, listePremiers.length - 1)]\n          a = listePremiers[indexPremiers]\n          indexPremiers++\n          this.autoCorrection[i] = {}\n          this.autoCorrection[i].enonce =\n            `Le nombre $${texNombre(a)}$ est-il un nombre premier ?`\n          this.autoCorrection[i].propositions = [\n            {\n              texte: 'Oui',\n              statut: true,\n            },\n            {\n              texte: 'Non',\n              statut: false,\n            },\n          ]\n          break\n        case 'non premier':\n          a = obtenirSemiPremier(max)\n          this.autoCorrection[i] = {}\n          this.autoCorrection[i].enonce =\n            `Le nombre $${texNombre(a)}$ est-il un nombre premier ?`\n          this.autoCorrection[i].propositions = [\n            {\n              texte: 'Oui',\n              statut: false,\n            },\n            {\n              texte: 'Non',\n              statut: true,\n            },\n          ]\n          break\n      }\n      this.autoCorrection[i].options = {\n        ordered: true,\n        radio: true,\n      }\n      texte += this.interactif\n        ? `Le nombre $${texNombre(a)}$ est-il un nombre premier ?`\n        : `Vérifier si $${texNombre(a)}$ est un nombre premier.`\n      texteCorr = rediger(a, this.sup2)\n      const monQcm = propositionsQcm(this, i)\n      if (this.interactif) {\n        texte += monQcm.texte\n        texteCorr += monQcm.texteCorr\n      }\n\n      if (this.questionJamaisPosee(i, a)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\nfunction rediger(a: number, avecCalculDeRacine: boolean): string {\n  if (a === 1) {\n    return \"1 n'est pas un nombre premier (il n'a qu'un seul diviseur).\"\n  }\n  if (premiersEntreBornes(2, 30).includes(a)) {\n    return `$${texNombre(a)}$ est un nombre premier. Il fait partie des nombres premiers à connaitre : ${lister(premiersEntreBornes(2, 30).map((t) => `$${t}$`))}.`\n  }\n  const premiersATester = premiersEntreBornes(2, Math.floor(Math.sqrt(a)))\n  let redaction = ''\n  if (avecCalculDeRacine) {\n    redaction = `$\\\\sqrt{${a}} \\\\approx ${texNombre(Math.sqrt(a), 2)}$<br>\n    On vérifie si $${texNombre(a)}$ est divisible par tous les nombres premiers inférieurs ou égaux à $${Math.floor(Math.sqrt(a))}$, c'est-à-dire ${lister(premiersATester.map((t) => `$${t}$`))}.<br>`\n  } else {\n    redaction = `On essaie de diviser $${texNombre(a)}$ par tous les nombres premiers jusqu'à ce que le quotient soit inférieur au diviseur.<br>`\n  }\n  let i = 0\n  while (i < premiersATester.length && a % premiersATester[i] !== 0) {\n    redaction += `$${a} \\\\div ${premiersATester[i]} ${egalOuApprox(a / premiersATester[i], 2)} ${texNombre(a / premiersATester[i], 2)}$<br>`\n    i++\n  }\n  if (a % premiersATester[i] === 0) {\n    redaction += `$${a} \\\\div ${premiersATester[i]} = ${texNombre(a / premiersATester[i], 2)}$<br>`\n    redaction += `$${texNombre(a)}$ est divisible par $${premiersATester[i]}$, donc $${texNombre(a)}$ n'est pas un nombre premier.`\n  } else {\n    if (avecCalculDeRacine) {\n      redaction += `$${texNombre(a)}$ n'est divisible par aucun des nombres premiers inférieurs ou égaux à $${Math.floor(Math.sqrt(a))}$, donc $${texNombre(a)}$ est un nombre premier.`\n    } else {\n      const premierSuivant = premiersEntreBornes(2, a * 2).slice(\n        premiersATester.length,\n      )[0]\n      redaction += `$${a} \\\\div ${premierSuivant} ${egalOuApprox(a / premierSuivant, 2)} ${texNombre(a / premierSuivant, 2)}$<br>`\n      redaction += `$${texNombre(a / premierSuivant, 2)} < ${premierSuivant}$, donc peut s'arrêter.<br>`\n      redaction += `$${texNombre(a)}$ est un nombre premier.`\n    }\n  }\n  return redaction\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","dateDePublication","dateDeModifImportante","uuid","refs","ReconnaitreNombrePremier","Exercice","listeTypeQuestions","combinaisonListes","premiers","obtenirListeNombresPremiers","max","contraindreValeur","listePremiersDansLordre","listeNombresPremiersStrictJusqua","listePremiers","shuffle","indexPremiers","i","cpt","texteCorr","texte","a","texNombre","obtenirSemiPremier","rediger","monQcm","propositionsQcm","listeQuestionsToContenu","avecCalculDeRacine","premiersEntreBornes","lister","t","premiersATester","redaction","egalOuApprox","premierSuivant"],"mappings":"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"}