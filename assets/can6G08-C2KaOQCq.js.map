{"version":3,"file":"can6G08-C2KaOQCq.js","sources":["../../src/exercices/can/6e/can6G08.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../../lib/2d/colorToLatexOrHtml'\nimport { droite } from '../../../lib/2d/droites'\nimport { pointAbstrait } from '../../../lib/2d/PointAbstrait'\nimport { latex2d, type Latex2d } from '../../../lib/2d/textes'\nimport { TracePoint } from '../../../lib/2d/TracePoint'\nimport { symetrieAxiale } from '../../../lib/2d/transformations'\nimport { ajouteQuestionMathlive } from '../../../lib/interactif/questionMathLive'\nimport { choisitNombresEntreMetN } from '../../../lib/outils/aleatoires'\nimport { shuffle } from '../../../lib/outils/arrayOutils'\nimport { range } from '../../../lib/outils/nombres'\nimport { context } from '../../../modules/context'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../../types/2d'\nimport Exercice from '../../Exercice'\n\nexport const titre = 'Trouver le symétrique'\nexport const dateDePublication = '03/05/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * Symétrie axiale sur papier pointé\n * Ref can6G08\n * @author Jean-Claude Lhote\n * Publié le 03/05/2025\n */\nexport const uuid = '85dfc'\n\nexport const refs = {\n  'fr-fr': ['can6G08', '6G7B-flash3'],\n  'fr-ch': [],\n}\n\nexport default class TrouverLeSym extends Exercice {\n  croix: TracePoint[] = []\n\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.besoinFormulaireTexte = [\n      'Axes de symétrie',\n      'Nombres séparé par des tirets :\\n1 : Vertical\\n2 : Horizontal\\n3 : Oblique 1\\n4 : Oblique 2\\n:Mélange',\n    ]\n    this.sup = '1'\n    this.besoinFormulaire2Numerique = ['Nombre de points à afficher', 3]\n    this.sup2 = 1\n    this.besoinFormulaire3CaseACocher = ['Numéros dans le désordre', false]\n    this.sup3 = false\n    this.croix = []\n    for (let i = 0; i < 49; i++) {\n      const x = i % 7\n      const y = Math.floor(i / 7)\n      const trace = new TracePoint(pointAbstrait(x, y))\n      trace.taille = context.isHtml ? 2 : 1\n      this.croix.push(trace)\n    }\n  }\n\n  nouvelleVersion() {\n    const typeAxe = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      nbQuestions: this.nbQuestions,\n      defaut: 1,\n    }).map(Number)\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // on remet à vide tous les tableaux utilisés pour la question suivante\n      let indexNumerosChoisis: number[] = []\n      const numerosAEviter =\n        typeAxe[i] === 1\n          ? [\n              3, 10, 17, 24, 31, 38, 45, 0, 7, 14, 21, 28, 35, 42, 6, 13, 20,\n              27, 34, 41, 48,\n            ]\n          : typeAxe[i] === 2\n            ? [\n                21, 22, 23, 24, 25, 26, 27, 0, 1, 2, 3, 4, 5, 6, 42, 43, 44, 45,\n                46, 47, 48,\n              ]\n            : typeAxe[i] === 3\n              ? [35, 42, 43, 5, 6, 13]\n              : [0, 1, 7, 41, 47, 48]\n\n      indexNumerosChoisis = choisitNombresEntreMetN(\n        0,\n        48,\n        this.sup2,\n        numerosAEviter,\n      )\n      const numeros = this.sup3 ? shuffle(range(49)) : range(49)\n      const nums: Latex2d[] = []\n      for (let j = 0; j < 49; j++) {\n        nums.push(\n          latex2d(`${numeros[j]}`, (j % 7) - 0.2, Math.floor(j / 7) - 0.2, {\n            letterSize: 'scriptsize',\n          }),\n        )\n      }\n      const numerosChoisis = indexNumerosChoisis.map((n) => numeros[n])\n      const d =\n        typeAxe[i] === 1\n          ? droite(pointAbstrait(3, 0), pointAbstrait(3, 6))\n          : typeAxe[i] === 2\n            ? droite(pointAbstrait(0, 3), pointAbstrait(6, 3))\n            : typeAxe[i] === 3\n              ? droite(pointAbstrait(0, 0), pointAbstrait(6, 6))\n              : droite(pointAbstrait(0, 6), pointAbstrait(6, 0))\n      d.color = colorToLatexOrHTML('blue')\n      d.epaisseur = 2\n      const numerosSymChoisis: number[] = []\n      for (let j = 0; j < this.sup2; j++) {\n        const n = indexNumerosChoisis[j]\n        let m: number\n        if (typeAxe[i] === 1) {\n          const milieu = 3 + Math.floor(n / 7) * 7\n          m = 2 * milieu - n\n          numerosSymChoisis.push(numeros[m])\n        } else if (typeAxe[i] === 2) {\n          const milieu = 21 + (n % 7)\n          m = 2 * milieu - n\n          numerosSymChoisis.push(numeros[m])\n        } else if (typeAxe[i] === 3) {\n          const x = n % 7\n          const y = Math.floor(n / 7)\n          const yy = x\n          const xx = y\n          m = 7 * yy + xx\n          numerosSymChoisis.push(numeros[m])\n        } else {\n          const x = n % 7\n          const y = Math.floor(n / 7)\n          const yy = 6 - x\n          const xx = 6 - y\n          m = 7 * yy + xx\n          numerosSymChoisis.push(numeros[m])\n        }\n      }\n      let questionInteractive = ''\n      for (let j = 0; j < this.sup2; j++) {\n        questionInteractive += `Quel est le numéro du symétrique du point ${numerosChoisis[j]} par rapport à $(d)$ ? ${ajouteQuestionMathlive({ exercice: this, question: this.sup * i + j, typeInteractivite: 'mathlive', objetReponse: { reponse: { value: numerosSymChoisis[j] } } })}<br>`\n      }\n      let texte = this.interactif\n        ? questionInteractive\n        : `Donner ${this.sup2 > 1 ? 'les' : 'le'} symétrique${this.sup2 > 1 ? 's' : ''} ${this.sup2 > 1 ? 'des' : 'du'} point${this.sup2 > 1 ? 's' : ''} ${numerosChoisis.map(String).join(', ')} par rapport à $(d)$.<br>`\n      const objetsEnonce: NestedObjetMathalea2dArray = [this.croix, nums, d]\n      const objetsCorrection: NestedObjetMathalea2dArray = [this.croix, nums, d]\n      const pointsChoisis = []\n      for (let j = 0; j < this.sup2; j++) {\n        const n = indexNumerosChoisis[j]\n        const x = n % 7\n        const y = Math.floor(n / 7)\n        const p = pointAbstrait(x, y)\n        const pSym = symetrieAxiale(p, d)\n        pointsChoisis.push([x, y])\n        const pAffiche = new TracePoint(p)\n        pAffiche.epaisseur = 3\n        pAffiche.taille = context.isHtml ? 3 : 2\n        pAffiche.color = colorToLatexOrHTML('black')\n        objetsEnonce.push(pAffiche)\n        objetsCorrection.push(pAffiche)\n        const pSymAffiche = new TracePoint(pSym)\n        pSymAffiche.epaisseur = 3\n        pSymAffiche.taille = context.isHtml ? 3 : 2\n        pSymAffiche.color = colorToLatexOrHTML('orange')\n        objetsCorrection.push(pSymAffiche)\n      }\n      texte += mathalea2d(\n        {\n          xmin: -0.5,\n          ymin: -0.5,\n          xmax: 6.5,\n          ymax: 6.5,\n          scale: 1,\n          pixelsParCm: 40,\n        },\n        ...objetsEnonce,\n      )\n      let texteCorr = `${this.sup2 > 1 ? 'Les' : 'Le'} symétrique${this.sup2 > 1 ? 's' : ''} ${this.sup2 > 1 ? 'des' : 'du'} point${this.sup2 > 1 ? 's' : ''} ${numerosChoisis.map(String).join(', ')} par rapport à $(d)$ ${this.sup2 > 1 ? 'sont' : 'est'} ${numerosSymChoisis.map((el) => String(numeros[el])).join(', ')}.<br>`\n      texteCorr += mathalea2d(\n        {\n          xmin: -0.5,\n          ymin: -0.5,\n          xmax: 6.5,\n          ymax: 6.5,\n          scale: 1,\n          pixelsParCm: 40,\n        },\n        ...objetsEnonce,\n        ...objetsCorrection,\n      )\n      if (\n        this.questionJamaisPosee(\n          i,\n          numerosChoisis.sort((a, b) => a - b).join('-'),\n        )\n      ) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","TrouverLeSym","Exercice","__publicField","x","y","trace","TracePoint","pointAbstrait","context","typeAxe","gestionnaireFormulaireTexte","i","cpt","indexNumerosChoisis","numerosAEviter","choisitNombresEntreMetN","numeros","shuffle","range","nums","j","latex2d","numerosChoisis","n","d","droite","colorToLatexOrHTML","numerosSymChoisis","m","yy","xx","questionInteractive","ajouteQuestionMathlive","texte","objetsEnonce","objetsCorrection","p","pSym","symetrieAxiale","pAffiche","pSymAffiche","mathalea2d","texteCorr","el","a","b","listeQuestionsToContenu"],"mappings":"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"}