{"version":3,"file":"6M3B-BYNejHjq.js","sources":["../../src/exercices/6e/6M3B.ts"],"sourcesContent":["import {\n  canvasEnonceCorrection,\n  empilementCubes,\n} from '../../lib/3d/3d_dynamique/empilementsCube'\nimport {\n  createCubesProjections,\n  projectionCubesIso2d,\n} from '../../lib/3d/3dProjectionMathalea2d/CubeIso'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { listeDesDiviseurs } from '../../lib/outils/primalite'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '08/08/2025'\nexport const titre = 'Comparer les volumes de deux empilements de cubes'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcType = 'AMCNum'\nexport const amcReady = true\n\n/**\n * Comparer des volumes d'empilements de cubes\n * @author Jean-Claude Lhote\n */\n\nexport const uuid = '5f117'\n\nexport const refs = {\n  'fr-fr': ['6M3B'],\n  'fr-2016': ['6G43-1'],\n  'fr-ch': [],\n}\n\nfunction trouvePave(volume: number): [number, number, number] {\n  // Trouve un pavé dont le volume est proche de volume\n  let divisors: number[] = []\n  let volumeCible = 0\n  let divisorsSurface: number[] = []\n  let hauteur = 0\n  let surface = 0\n  do {\n    // On choisit un volume aléatoire proche de volume\n    volumeCible = randint(volume - 5, volume + 5, divisors)\n    divisors = listeDesDiviseurs(volumeCible)\n    divisors = divisors.filter((div) => div > 1 && div < volumeCible) // On enlève 1 et le volume lui-même\n    if (divisors.length < 3) continue\n    hauteur = choice(divisors)\n    surface = volumeCible / hauteur\n    divisorsSurface = listeDesDiviseurs(surface).filter(\n      (div) => div > 1 && div < surface,\n    ) // On enlève 1 et la surface elle-même\n  } while (divisorsSurface.length < 2)\n  const larg = choice(divisorsSurface)\n  const long = surface / larg\n  return [larg, long, hauteur]\n}\n\nexport default class DenombrerCubes extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaire2Numerique = [\n      \"Taille de l'empilement\",\n      3,\n      'De taille 3\\nDe taille 4\\nDe taille 5',\n    ]\n    this.besoinFormulaire3CaseACocher = ['3D dynamique', false]\n    this.sup3 = false\n    this.nbQuestions = 3 // Ici le nombre de questions\n    this.sup2 = 1 // A décommenter : valeur par défaut d'un deuxième paramètre\n    // c'est ici que commence le code de l'exercice cette fonction crée une copie de l'exercice\n  }\n\n  nouvelleVersion() {\n    const longueur = 2 + parseInt(this.sup2) // longueur de l'empilement\n    const largeur = longueur // largeur de l'empilement\n    const hauteur = Math.min(longueur, 4) // hauteur de l'empilement\n\n    for (\n      let q = 0, texte, texteCorr, cpt = 0;\n      q < this.nbQuestions && cpt < 50;\n\n    ) {\n      const L1 = empilementCubes(longueur, largeur, hauteur) as [\n        number,\n        number,\n        number,\n      ][] // crée un empilement aléatoire\n      const volume1 = L1.length\n      const [larg, long, haut] = trouvePave(volume1)\n      const L2: [number, number, number][] = []\n      texte = ''\n      texteCorr = ''\n      for (let i = larg - 1; i > -1; i--) {\n        for (let j = long - 1; j > -1; j--) {\n          for (let k = 0; k < haut; k++) {\n            L2.push([i, j, k])\n          }\n        }\n      }\n\n      if (this.sup3 && context.isHtml) {\n        // 3d dynamique avec Canvas3DElement\n        texte +=\n          'Un empilement de cubes et un pavé droit sont représentés ci-dessous.<br>' // Nous utilisons souvent cette variable pour construire le texte de la question.\n        const { canvasEnonce, canvasCorrection } = canvasEnonceCorrection(\n          L1,\n          `scene3dEx${this.numeroExercice}Q${q}-1`,\n        )\n        const {\n          canvasEnonce: canvasEnonce2,\n          canvasCorrection: canvasCorrection2,\n        } = canvasEnonceCorrection(L2, `scene3dEx${this.numeroExercice}Q${q}-2`)\n        texte += canvasEnonce\n        texte += canvasEnonce2\n        texteCorr += canvasCorrection\n        texteCorr += canvasCorrection2\n      } else {\n        // 3d Iso avec Mathalea2d\n        texte +=\n          'Ci-dessous, un empilement de cubes est représenté sous deux angles différents et un pavé droit est représenté à côté.<br>'\n        const { figure, figureCorrection } = createCubesProjections(\n          L1,\n          largeur,\n          longueur,\n          hauteur,\n        )\n        const { objets: pave, params } = projectionCubesIso2d(\n          L2,\n          35,\n          -20,\n          false,\n        )\n        const { objets: objets2, params: params2 } = projectionCubesIso2d(\n          L2,\n          35,\n          -20,\n          true,\n        )\n        params.xmin -= 2\n        params2.xmin -= 2\n        texte += figure + mathalea2d(params, pave)\n        texteCorr += figureCorrection + mathalea2d(params2, objets2)\n      }\n\n      texte +=\n        '<br>Quel est celui qui a le plus petit volume (en nombre de cubes identiques) ?'\n      if (context.isHtml && this.sup3) {\n        texte +=\n          \"<br>Les petits cubes sont tous identiques. Le zoom peut changer d'un solide à l'autre.\"\n      }\n      texteCorr += `<br>Le premier solide est un empilement de ${volume1} cubes.<br>`\n      texteCorr += `Le deuxième solide est un pavé droit de dimensions $${larg} \\\\times ${long} \\\\times ${haut}$, son volume est de $${larg * long * haut}$.<br>`\n\n      if (\n        this.questionJamaisPosee(q, JSON.stringify(L1) + JSON.stringify(L2))\n      ) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n        q++\n      }\n\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","titre","interactifReady","interactifType","amcType","amcReady","uuid","refs","trouvePave","volume","divisors","volumeCible","divisorsSurface","hauteur","surface","randint","listeDesDiviseurs","div","choice","larg","long","DenombrerCubes","Exercice","longueur","largeur","q","texte","texteCorr","cpt","L1","empilementCubes","volume1","haut","L2","i","j","k","context","canvasEnonce","canvasCorrection","canvasEnonceCorrection","canvasEnonce2","canvasCorrection2","figure","figureCorrection","createCubesProjections","pave","params","projectionCubesIso2d","objets2","params2","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}