{"version":3,"file":"can3a-2025-Q17-DZsYWFTw.js","sources":["../../src/exercices/can/can3a-2025/can3a-2025-Q17.ts"],"sourcesContent":["import type { MathfieldElement } from 'mathlive'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { toutPourUnPoint } from '../../../lib/interactif/mathLive'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport type { IExercice } from '../../../lib/types'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre = 'Additionner un entier et une fraction'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'e12d9'\nexport const refs = {\n  'fr-fr': [''],\n  'fr-ch': [],\n}\n/**\n * Mod√®le d'exercice tr√®s simple pour la course aux nombres\n * @author Gilles Mora\n\n*/\nexport default class SommeEntierFraction extends ExerciceSimple {\n  constructor() {\n    super()\n\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.formatInteractif = 'fillInTheBlank'\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n    this.canOfficielle = true\n    this.optionsChampTexte = { texteAvant: ' $=$' }\n  }\n\n  nouvelleVersion() {\n    const listeFraction = this.canOfficielle\n      ? [[1, 4]]\n      : [\n          [1, 3],\n          [2, 3],\n          [1, 4],\n          [3, 4],\n          [1, 5],\n          [2, 5],\n          [3, 5],\n          [4, 5],\n        ]\n    const maFraction = choice(listeFraction)\n    const a = this.canOfficielle ? 2 : randint(1, 4)\n    const b = maFraction[0]\n    const c = maFraction[1]\n    const f = new FractionEtendue(b, c)\n    const d = new FractionEtendue(a * c + b, c)\n    const e = new FractionEtendue(a * c - b, c)\n    const choix = this.canOfficielle ? true : choice([true, false])\n    const numD = choix ? d.num : e.num\n    const denD = choix ? d.den : e.den\n\n    const callback = (exercice: IExercice, question: number) => {\n      const mfe = document.querySelector(\n        `#champTexteEx${exercice.numeroExercice}Q${question}`,\n      ) as MathfieldElement\n      if (mfe == null)\n        return {\n          isOk: false,\n          feedback: '',\n          score: { nbBonnesReponses: 0, nbReponses: 0 },\n        }\n      const num = Number(mfe.getPromptValue('champ1') || 0)\n      const den = Number(mfe.getPromptValue('champ2') || 0)\n      const isOk = num * denD === numD * den\n      if (isOk) {\n        mfe.setPromptState('champ1', 'correct', true)\n        mfe.setPromptState('champ2', 'correct', true)\n      }\n      const spanReponseLigne = document.querySelector(\n        `#resultatCheckEx${exercice.numeroExercice}Q${question}`,\n      )\n      if (spanReponseLigne != null) {\n        spanReponseLigne.innerHTML = isOk ? 'üòé' : '‚òπÔ∏è'\n      }\n      return {\n        isOk,\n        feedback: '',\n        score: { nbBonnesReponses: isOk ? 1 : 0, nbReponses: 1 },\n      }\n    }\n    if (choix === true) {\n      this.question = `${a}+${f.texFraction}=\\\\dfrac{%{champ1}}{%{champ2}}`\n      this.correction = `$${a}+${f.texFraction} = \\\\dfrac{${a} \\\\times ${c}}{${c}} + \\\\dfrac{${b}}{${c}} = \\\\dfrac{${a * c}}{${c}} + \\\\dfrac{${b}}{${c}}  =${miseEnEvidence(d.texFraction)}$`\n      this.reponse = { bareme: toutPourUnPoint, callback }\n    } else {\n      this.question = `${a}-${f.texFraction}=\\\\dfrac{%{champ1}}{%{champ2}}`\n      this.correction = `$${a}-${f.texFraction} = \\\\dfrac{${a} \\\\times ${c}}{${c}} - \\\\dfrac{${b}}{${c}} = \\\\dfrac{${a * c}}{${c}} - \\\\dfrac{${b}}{${c}}  =${miseEnEvidence(e.texFraction)}$`\n      this.reponse = { bareme: toutPourUnPoint, callback }\n    }\n\n    this.canEnonce = `${choix ? `$${a}+${f.texFraction}$` : `$${a}-${f.texFraction}$`}`\n    this.canReponseACompleter = '$\\\\dfrac{\\\\ldots}{\\\\ldots}$'\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","SommeEntierFraction","ExerciceSimple","KeyboardType","listeFraction","maFraction","choice","a","randint","b","c","f","FractionEtendue","d","e","choix","numD","denD","callback","exercice","question","mfe","num","den","isOk","spanReponseLigne","miseEnEvidence","toutPourUnPoint"],"mappings":"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"}