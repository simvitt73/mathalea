var it=Object.defineProperty;var rt=(u,s,t)=>s in u?it(u,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[s]=t;var y=(u,s,t)=>rt(u,typeof s!="symbol"?s+"":s,t);import{d as F}from"./style-BhlYPPkx.js";import{O as lt,ad as nt,B as S,cm as ht}from"./index-Dkwu26bg.js";import{a as $}from"./Arc-Wr83utPC.js";import{f as J}from"./fixeBordures-BSnKuTIe.js";import{O as R}from"./ObjetMathalea2D-CXcNXRpD.js";import{p as m}from"./PointAbstrait-Cz1GEocE.js";import{s as G}from"./segmentsVecteurs-DWWtoN_4.js";import{b as T,t as tt,f as B}from"./textes-BLrhx9_h.js";import{c as at}from"./cercle--vv8Y2l-.js";import{c as z}from"./utilitairesGeometriques-rO8Jz15i.js";import{m as ut}from"./pattern-DWd8Ia-0.js";import{p as st,P as K}from"./polygones-BMzqJQvg.js";import{c as A}from"./polygonesParticuliers-jSLD4GTw.js";import{p as ct}from"./Polyline-CMaVFuZW.js";import{a as bt}from"./reperes-DYK4Mtmm.js";import{t as ft}from"./TracePoint-bp5vgHPG.js";import{t as D,r as pt,s as I}from"./transformations-CrKJZhMe.js";import{v as O}from"./droites-1cMQNrTw.js";import{v as et}from"./Vide2d-lYMmc9eB.js";import{o as Y}from"./vendors/mathjs-DKCMnljp.js";class mt extends R{constructor(s=-2,t=5,e=.2,n=1,o=2,r="black",i=2,h=""){super(),this.objets=[],h!==""&&this.objets.push(T(h,m(-1-e-.1,t),0,r,1,"milieu",!1,1));const a=G(-1,s.valueOf(),-1,t.valueOf(),r);a.styleExtremites="->",a.epaisseur=o,this.objets.push(a);for(let l=s;l<t;l=l+n){const f=G(-1-e,l.valueOf(),-1,l.valueOf(),r);f.epaisseur=o,this.objets.push(f)}for(let l=s;l<t;l=l+n/i){const f=G(-1-e/2,l.valueOf(),-1,l.valueOf(),r);f.epaisseur=o,this.objets.push(f)}this.bordures=[1e3,1e3,-1e3,-1e3];for(const l of this.objets)l.bordures!==void 0&&(this.bordures=[Math.min(this.bordures[0],l.bordures[0]),Math.min(this.bordures[1],l.bordures[1]),Math.max(this.bordures[2],l.bordures[2]),Math.max(this.bordures[3],l.bordures[3])])}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}}function dt(u=-2,s=5,t=.2,e=1,n=2,o="black",r=2,i=""){return new mt(u,s,t,e,n,o,r,i)}class xt extends R{constructor(s=1,t=20,e=1,n="black",o=-.6,r=1){super(),this.objets=[];for(let h=Math.ceil(s/r);h*r<=t;h=h+e)this.objets.push(T(lt(h*r,3),m(o,h),0,n,1,"gauche",!0));const i=J(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[i.xmin,i.ymin,i.xmax,i.ymax]}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}}function jt(u=1,s=20,t=1,e="black",n=-.6,o=1){return new xt(u,s,t,e,n,o)}class kt extends R{constructor(s,t,{couleurDesPoints:e="red",couleurDuTrait:n="blue",styleDuTrait:o="",epaisseurDuTrait:r=2,styleDesPoints:i="x",tailleDesPoints:h=3}){super(),this.objets=[];const a=[];for(const[f,c]of s){const j=bt(f,c,t);a.push(j);const k=ft(j,e);k.style=i,k.taille=h,this.objets.push(k)}const l=ct(...a);l.epaisseur=r,l.color=z(n),o==="pointilles"&&(l.pointilles=5),this.objets.push(l),this.bordures=t.bordures}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}svgml(s,t){let e="";if(this.objets==null)return e;for(const n of this.objets)typeof n.svgml>"u"?e+=`
	`+n.svg(s):e+=`
	`+n.svgml(s,t);return e}tikzml(s){let t="";if(this.objets==null)return t;for(const e of this.objets)typeof e.tikzml>"u"?t+=`
	`+e.tikz():t+=`
	`+e.tikzml(s);return t}}function Ut(u,s,{couleurDesPoints:t="red",couleurDuTrait:e="blue",styleDuTrait:n="",epaisseurDuTrait:o=2,styleDesPoints:r="x",tailleDesPoints:i=3}){return new kt(u,s,{couleurDesPoints:t,couleurDuTrait:e,styleDuTrait:n,epaisseurDuTrait:o,styleDesPoints:r,tailleDesPoints:i})}class gt extends R{constructor(t,e,n="",{epaisseur:o=.6,couleurDeRemplissage:r="blue",color:i="black",opaciteDeRemplissage:h=.3,angle:a=66,unite:l=1,hachures:f=!1}){super();y(this,"p");y(this,"texte");this.p=e===0?et(t,0):st([m(t-o/2,0),m(t-o/2,e*l),m(t+o/2,e*l),m(t+o/2,0)]),this.p instanceof K&&(this.p.couleurDeRemplissage=z(r),this.p.opaciteDeRemplissage=h,this.p.color=z(i),f&&(this.p.hachures=f));let c;this.texte=tt(n,t,-.2,a,"black",1,"gauche"),this.p instanceof K?c=J([this.p,this.texte],{rxmin:0,rxmax:0,rymin:0,rymax:0}):c=J([this.texte],{rxmin:0,rxmax:0,rymin:0,rymax:0}),this.bordures=[c.xmin,c.ymin,c.xmax,c.ymax]}tikz(){return this.p.tikz()+`
`+this.texte.tikz()}svg(t){return this.p.svg(t)+`
`+this.texte.svg(t)}}function vt(u,s,t="",{epaisseur:e=.6,couleurDeRemplissage:n="blue",color:o="black",opaciteDeRemplissage:r=.3,angle:i=66,unite:h=1,hachures:a=!1}){return new gt(u,s,t,{epaisseur:e,couleurDeRemplissage:n,color:o,opaciteDeRemplissage:r,angle:i,unite:h,hachures:a})}class zt extends R{constructor(t,e,n="",{epaisseur:o=.6,couleurDeRemplissage:r="blue",color:i="black",opaciteDeRemplissage:h=.3,unite:a=1,angle:l=0,hachures:f=!1}){super();y(this,"p");y(this,"texte");this.p=t===0?et(0,e):st([m(0,e-o/2),m(0,e+o/2),m(a*t,e+o/2),m(a*t,e-o/2)]),this.p instanceof K&&(this.p.couleurDeRemplissage=z(r),this.p.opaciteDeRemplissage=h,this.p.color=z(i),f&&(this.p.hachures=f)),this.texte=tt(n,-.2,e,l,"black",1,"gauche")}tikz(){return this.p.tikz()+`
`+this.texte.tikz()}svg(t){return this.p.svg(t)+`
`+this.texte.svg(t)}}function Vt(u,s,t="",{epaisseur:e=.6,couleurDeRemplissage:n="blue",color:o="black",opaciteDeRemplissage:r=.3,unite:i=1,angle:h=0,hachures:a=!1}){return new zt(u,s,t,{epaisseur:e,couleurDeRemplissage:n,color:o,opaciteDeRemplissage:r,unite:i,angle:h,hachures:a})}class Mt extends R{constructor(s,t,{reperageTraitPointille:e=!1,couleurDeRemplissage:n="blue",titreAxeVertical:o="",titre:r="",hauteurDiagramme:i=5,coeff:h=2,axeVertical:a=!1,etiquetteValeur:l=!0,labelAxeVert:f=!1}){super(),this.objets=[];for(let c=0;c<s.length;c++){const j=c*h,k=s[c]*i/Y(s);if(this.objets.push(vt(j,k,t[c],{couleurDeRemplissage:n})),e){const q=G(-1,k,j,k);q.pointilles=5,q.epaisseur=.2,this.objets.push(q)}l&&s[c]!==0&&this.objets.push(T(ht(s[c]),m(j,k+.5)));const N=[1,2,5,10,20],Q=[1,2,5,5,5];let x=1,p=1,g=1;for(;Y(s)/p>5&&x<5;)x+=1,p=N[x-1],g=Q[x-1];for(x===5&&(x=2);Y(s)/p>5;)x=x+1,p=x*10,g=5;f&&this.objets.push(jt(0,Y(s),p*i/Math.max(...s),"black",-3,Math.max(...s)/i)),a&&this.objets.push(dt(0,i+1,.2,p*i/Math.max(...s),.2,"black",g,o))}r!==""&&this.objets.push(T(r,m(-3,i+1),0,"black",1,"droite",!1,1)),this.bordures=[1e3,1e3,-1e3,-1e3];for(const c of this.objets)c.bordures!==void 0&&(this.bordures=[Math.min(this.bordures[0],c.bordures[0]),Math.min(this.bordures[1],c.bordures[1]),Math.max(this.bordures[2],c.bordures[2]),Math.max(this.bordures[3],c.bordures[3])])}svg(s){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.svg(s);return t}tikz(){let s="";if(this.objets==null)return s;for(const t of this.objets)s+=`
	`+t.tikz();return s}}function Wt(u,s,{reperageTraitPointille:t=!1,couleurDeRemplissage:e="blue",titreAxeVertical:n="",titre:o="",hauteurDiagramme:r=5,coeff:i=2,axeVertical:h=!1,etiquetteValeur:a=!0,labelAxeVert:l=!1}={}){return new Mt(u,s,{reperageTraitPointille:t,couleurDeRemplissage:e,titreAxeVertical:n,titre:o,hauteurDiagramme:r,coeff:i,axeVertical:h,etiquetteValeur:a,labelAxeVert:l})}class wt extends R{constructor({effectifs:t=[],x:e=0,y:n=0,rayon:o=4,labels:r=[],semi:i=!1,legendeAffichage:h=!0,legendePosition:a="droite",mesures:l=[],visibles:f=[],pourcents:c=[],valeurs:j=[],hachures:k=[],remplissage:N=[]}={}){super();y(this,"x");y(this,"y");this.objets=[];const x=nt([0,1,3,4,5,6,7,8,9,10],t.length);this.bordures=[1e3,1e3,-1e3,-1e3],this.x=e,this.y=n;const p=m(this.x+o,this.y+(i?0:o)),g=m(this.x+2*o,i?this.y:this.y+o),q=i?$(D(p,O(o,0)),p,180,!0,"white","black"):at(p,o,"black");let C;switch(a){case"droite":C={x:this.x+2*o+1,y:this.y};break;case"dessus":C={x:this.x,y:this.y+(i?o+1:2*o+1)};break;default:C={x:this.x,y:this.y-1.5};break}let v=m(C.x,C.y);const ot=i?180:360,U=t.reduce((b,d)=>b+d,0),V=[],W=[],X=[],Z=[],_=[];let L=0,H=0;for(let b=0,d,M,w,E,P;b<t.length;b++)M=ot*t[b]/U,d=$(pt(g,p,L),p,M,!0),k[b]?(P=ut(x[b]),d.hachures=P,d.couleurDesHachures=z(F(b+1)),d.couleurDeRemplissage=z(F(b+2))):(P="",d.hachures=""),d.opaciteDeRemplissage=.7,N[b]&&(d.couleurDeRemplissage=z(F(b+1))),f[b]&&V.push(d),j[b]&&X.push(B(S(t[b]),I(g,p,L+M*3/4,.8),"black",20,12,"yellow",8)),c[b]&&Z.push(B(S(100*t[b]/U,0)+"\\%",I(g,p,L+M/4,.8),"black",20,12,"yellow",8)),l[b]&&_.push(B(S(M,0)+"^\\circ",I(g,p,L+M/2,.6),"black",20,12,"yellow",8)),L+=M,a==="droite"?(w=A(D(v,O(0,1.5*b)),D(v,O(1,1.5*b)),"black"),E=T(r[b],D(v,O(1.2,b*1.5+.5)),0,"black",1.5,"gauche",!1),H=Math.max(H,r[b].length*.6)):(w=A(v,D(v,O(1,0)),"black"),E=T(r[b],D(v,O(1.2,.5)),0,"black",1.5,"gauche",!1),v=D(v,O(r[b].length*.6+1,0)),H=H+r[b].length*.6+2.2),w.couleurDeRemplissage=d.couleurDeRemplissage,w.couleurDesHachures=d.couleurDesHachures,w.hachures=P,w.opaciteDeRemplissage=.7,W.push(w,E);this.objets.push(q),this.objets.push(...V),h&&this.objets.push(...W),this.objets.push(...X,...Z,..._),this.bordures[0]=this.x-.5,this.bordures[1]=this.y-.5-(h&&a==="dessous"?2:0),this.bordures[2]=this.x+o*2+1+(h?a==="droite"?H:Math.max(H,this.x+o*2+1)-(this.x+o*2+1):0),this.bordures[3]=this.y+(i?o:o*2)+(h?a==="dessus"?2:a==="droite"?Math.max(this.y+(i?o:o*2),t.length*1.5)-(this.y+(i?o:o*2)):0:0)}svg(t){let e="";if(this.objets==null)return e;for(const n of this.objets)e+=`
	`+n.svg(t);return e}ttikz(){let t="";if(this.objets==null)return t;for(const e of this.objets)t+=`
	`+e.tikz();return t}}function Xt({effectifs:u,x:s=0,y:t=0,rayon:e=4,labels:n=[],semi:o=!1,legendeAffichage:r=!0,legendePosition:i="droite",mesures:h=[],visibles:a=[],pourcents:l=[],valeurs:f=[],hachures:c=[],remplissage:j=[]}={}){return new wt({effectifs:u,x:s,y:t,rayon:e,labels:n,semi:o,legendeAffichage:r,legendePosition:i,mesures:h,visibles:a,pourcents:l,valeurs:f,hachures:c,remplissage:j})}export{Vt as a,Ut as b,Wt as c,Xt as d,vt as t};
//# sourceMappingURL=diagrammes-BX4jIIoJ.js.map
