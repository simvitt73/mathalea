{"version":3,"file":"CM2N4B-4-qxOUet-4.js","sources":["../../src/exercices/CM2/CM2N4B-4.ts"],"sourcesContent":["import { combinaisonListes, shuffle } from '../../lib/outils/arrayOutils'\nimport { arrondi, range1 } from '../../lib/outils/nombres'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Jouer au \"compte est bon\" original'\n\n/**\n * Un \"Le compte est bon\" avec des solutions \"formatées\" pour travailler certains incontournables du calcul mental\n *  @author Jean-Claude Lhote\n\n */\nexport const uuid = 'bd6ff'\n\nexport const refs = {\n  'fr-fr': ['CM2N4B-4'],\n  'fr-2016': ['CM021'],\n  'fr-ch': [],\n}\nexport default class CompteEstBon extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Niveaux de difficultés nombres de 1 à 3 séparés par des tirets :',\n      '1: Avec 10 et 100\\n2 : Avec 10 et de quoi faire facilement 100\\n3 : Avec des calculs imbriqués\\n4 : Mélange',\n    ] // Texte, tooltip\n    this.consigne =\n      'Trouver le résultat en utilisant les quatre opérations et les nombres du tirage (une seule fois).'\n    this.nbQuestions = 5\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.sup = 1 // niveau de calcul souhaité\n  }\n\n  nouvelleVersion() {\n    let a, b, c, d, cible, tirage\n    const typesDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      max: 3,\n      defaut: 4,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n    })\n    const choix = combinaisonListes(range1(5), this.nbQuestions)\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      switch (typesDeQuestions[i]) {\n        case 1:\n          a = randint(2, 9)\n          b = randint(2, 8, a)\n          c = randint(1, 9, [a, b])\n          d = randint(1, 9, [a, b, c])\n          switch (choix[i]) {\n            case 1:\n              cible = arrondi(a * 100 + b * 10 + c + d)\n              tirage = shuffle([100, 10, a, b, c, d])\n              texteCorr = `Le compte est bon : $${cible}=100\\\\times${a}+10\\\\times${b}+${c}+${d}$`\n              break\n            case 2:\n              cible = arrondi(a * 100 + b * 10 + c - d)\n              tirage = shuffle([100, 10, a, b, c, d])\n              texteCorr = `Le compte est bon : $${cible}=100\\\\times${a}+10\\\\times${b}+${c}-${d}$`\n              break\n            case 3:\n              cible = arrondi(a * 100 - b * 10 + c + d)\n              tirage = shuffle([100, 10, a, b, c, d])\n              texteCorr = `Le compte est bon : $${cible}=100\\\\times${a}-10\\\\times${b}+${c}+${d}$`\n              break\n            case 4:\n              cible = arrondi(a * 100 - b * 10 + c - d)\n              tirage = shuffle([100, 10, a, b, c, d])\n              texteCorr = `Le compte est bon : $${cible}=100\\\\times${a}-10\\\\times${b}+${c}-${d}$`\n              break\n            default:\n              cible = arrondi(a * 100 + (b + c) * 10 + d)\n              tirage = shuffle([100, 10, a, b, c, d])\n              texteCorr = `Le compte est bon : $${cible}=100\\\\times${a}+10\\\\times(${b}+${c})+${d}$`\n          }\n          break\n\n        case 2:\n          a = randint(3, 9)\n          b = randint(3, 8, a)\n          c = randint(3, 9, [a, b])\n          switch (choix[i]) {\n            case 1:\n              cible = arrondi(a * 100 + b * 10 + c)\n              tirage = shuffle([50, 50, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=(50+50)\\\\times${a}+10\\\\times${b}+${c}$`\n              break\n            case 2:\n              cible = arrondi(a * 100 + b * 10 - c)\n              tirage = shuffle([50, 50, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=(50+50)\\\\times${a}+10\\\\times${b}-${c}$`\n              break\n            case 3:\n              cible = arrondi(a * 100 - b * 10 + c)\n              tirage = shuffle([50, 50, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=(50+50)\\\\times${a}-10\\\\times${b}+${c}$`\n              break\n            case 4:\n              cible = arrondi(a * 100 - b * 10 - c)\n              tirage = shuffle([50, 2, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=2\\\\times50\\\\times${a}-10\\\\times${b}-${c}$`\n              break\n            default:\n              cible = arrondi(a * 100 + b * 10 - c)\n              tirage = shuffle([25, 4, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=4\\\\times25\\\\times${a}+10\\\\times${b}-${c}$`\n          }\n          break\n        case 3:\n        default:\n          a = randint(2, 5)\n          b = randint(3, 8, a)\n          c = randint(3, 9, [a, b])\n          switch (choix[i]) {\n            case 1:\n              cible = arrondi(a * (100 + b * 10) + c)\n              tirage = shuffle([50, 2, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=${a}\\\\times(50\\\\times2+10\\\\times${b})+${c}$`\n              break\n            case 2:\n              cible = arrondi(a * (100 + b * 10) - c)\n              tirage = shuffle([50, 2, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=${a}\\\\times(50\\\\times2+10\\\\times${b})-${c}$`\n              break\n            case 3:\n              cible = arrondi(a * (100 + b * 10) + c)\n              tirage = shuffle([25, 4, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=${a}\\\\times(25\\\\times4+10\\\\times${b})+${c}$`\n              break\n            case 4:\n              cible = arrondi(a * (100 + b * 10) - c)\n              tirage = shuffle([25, 4, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=${a}\\\\times(25\\\\times4+10\\\\times${b})-${c}$`\n              break\n            default:\n              cible = arrondi(a * (100 + b * 10) + c)\n              tirage = shuffle([25, 75, 10, a, b, c])\n              texteCorr = `Le compte est bon : $${cible}=${a}\\\\times((25+75)+10\\\\times${b})+${c}$`\n          }\n          break\n      }\n      texte = 'Voici le tirage : '\n      for (let i = 0; i < 5; i++) {\n        texte += `${tirage[i]} ; `\n      }\n      texte += `${tirage[5]}.<br>`\n      texte += `Et le nombre à trouver est : ${cible}.`\n\n      if (this.questionJamaisPosee(i, choix[i], a, b, c)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","uuid","refs","CompteEstBon","Exercice","a","b","c","d","cible","tirage","typesDeQuestions","gestionnaireFormulaireTexte","choix","combinaisonListes","range1","i","texte","texteCorr","cpt","randint","arrondi","shuffle","listeQuestionsToContenu"],"mappings":"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"}