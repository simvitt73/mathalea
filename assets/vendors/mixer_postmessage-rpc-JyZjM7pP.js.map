{"version":3,"file":"mixer_postmessage-rpc-JyZjM7pP.js","sources":["../../../node_modules/.pnpm/@mixer+postmessage-rpc@1.1.4/node_modules/@mixer/postmessage-rpc/dist/error.js","../../../node_modules/.pnpm/@mixer+postmessage-rpc@1.1.4/node_modules/@mixer/postmessage-rpc/dist/reorder.js","../../../node_modules/.pnpm/@mixer+postmessage-rpc@1.1.4/node_modules/@mixer/postmessage-rpc/dist/types.js","../../../node_modules/.pnpm/@mixer+postmessage-rpc@1.1.4/node_modules/@mixer/postmessage-rpc/dist/rpc.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An RPCError can be thrown in socket.call() if bad input is\n * passed to the service.\n */\nvar RPCError = /** @class */ (function (_super) {\n    __extends(RPCError, _super);\n    function RPCError(code, message, path) {\n        var _this = _super.call(this, \"Error #\" + code + \": \" + message) || this;\n        _this.code = code;\n        _this.message = message;\n        _this.path = path;\n        // Patch for ES5 compilation target errors:\n        Object.setPrototypeOf(_this, RPCError.prototype);\n        return _this;\n    }\n    RPCError.prototype.toReplyError = function () {\n        return {\n            code: this.code,\n            message: this.message,\n            path: this.path,\n        };\n    };\n    return RPCError;\n}(Error));\nexports.RPCError = RPCError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Reorder is a utility responsible for reording incoming messages.\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder() {\n        /**\n         * Last call we got which was in sequence..\n         */\n        this.lastSequentialCall = -1;\n        /**\n         * Queue of messages to send out once reordered data comes back.\n         */\n        this.queue = [];\n    }\n    /**\n     * Resets the queue and call counter to the given value.\n     */\n    Reorder.prototype.reset = function (counter) {\n        this.lastSequentialCall = counter - 1;\n        this.queue = [];\n    };\n    /**\n     * Appends a message to the reorder queue. Returns all messages which\n     * are good to send out.\n     */\n    Reorder.prototype.append = function (packet) {\n        if (packet.counter <= this.lastSequentialCall + 1) {\n            var list = [packet];\n            this.lastSequentialCall = packet.counter;\n            this.replayQueue(list);\n            return list;\n        }\n        for (var i = 0; i < this.queue.length; i++) {\n            if (this.queue[i].counter > packet.counter) {\n                this.queue.splice(i, 0, packet);\n                return [];\n            }\n        }\n        this.queue.push(packet);\n        return [];\n    };\n    Reorder.prototype.replayQueue = function (list) {\n        while (this.queue.length) {\n            var next = this.queue[0];\n            if (next.counter > this.lastSequentialCall + 1) {\n                return;\n            }\n            list.push(this.queue.shift());\n            this.lastSequentialCall = next.counter;\n        }\n    };\n    return Reorder;\n}());\nexports.Reorder = Reorder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Checks whether the message duck-types into an Interactive message.\n * This is needed to distinguish between postmessages that we get,\n * and postmessages from other sources.\n */\nfunction isRPCMessage(data) {\n    return (data.type === 'method' || data.type === 'reply') && typeof data.counter === 'number';\n}\nexports.isRPCMessage = isRPCMessage;\n/**\n * Default `IRecievable` implementation that listens on the window.\n */\nexports.defaultRecievable = {\n    readMessages: function (callback) {\n        window.addEventListener('message', callback);\n        return function () { return window.removeEventListener('message', callback); };\n    },\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar eventemitter3_1 = require(\"eventemitter3\");\nvar error_1 = require(\"./error\");\nvar reorder_1 = require(\"./reorder\");\nvar types_1 = require(\"./types\");\nfunction objToError(obj) {\n    return new error_1.RPCError(obj.code, obj.message, obj.path);\n}\n/**\n * Magic ID used for the \"ready\" call.\n */\nvar magicReadyCallId = -1;\n/**\n * Primitive postMessage based RPC.\n */\nvar RPC = /** @class */ (function (_super) {\n    __extends(RPC, _super);\n    /**\n     * Creates a new RPC instance. Note: you should use the `rpc` singleton,\n     * rather than creating this class directly, in your controls.\n     */\n    function RPC(options) {\n        var _this = _super.call(this) || this;\n        _this.options = options;\n        /**\n         * A map of IDs to callbacks we'll fire whenever the remote frame responds.\n         */\n        _this.calls = Object.create(null);\n        /**\n         * Counter to track the sequence number of our calls for reordering.\n         * Incremented each time we send a message.\n         */\n        _this.callCounter = 0;\n        /**\n         * Reorder utility for incoming messages.\n         */\n        _this.reorder = new reorder_1.Reorder();\n        _this.listener = function (ev) {\n            // If we got data that wasn't a string or could not be parsed, or was\n            // from a different remote, it's not for us.\n            if (_this.options.origin && _this.options.origin !== '*' && ev.origin !== _this.options.origin) {\n                return;\n            }\n            var packet;\n            try {\n                packet = JSON.parse(ev.data);\n            }\n            catch (e) {\n                return;\n            }\n            if (!types_1.isRPCMessage(packet) || packet.serviceID !== _this.options.serviceId) {\n                return;\n            }\n            // postMessage does not guarantee message order, reorder messages as needed.\n            // Reset the call counter when we get a \"ready\" so that the other end sees\n            // calls starting from 0.\n            if (_this.isReadySignal(packet)) {\n                var params = packet.type === 'method' ? packet.params : packet.result;\n                if (params && params.protocolVersion) {\n                    _this.remoteProtocolVersion = params.protocolVersion;\n                }\n                else {\n                    _this.remoteProtocolVersion = _this.remoteProtocolVersion;\n                }\n                _this.callCounter = 0;\n                _this.reorder.reset(packet.counter);\n                _this.emit('isReady', true);\n            }\n            for (var _i = 0, _a = _this.reorder.append(packet); _i < _a.length; _i++) {\n                var p = _a[_i];\n                _this.emit('recvData', p);\n                _this.dispatchIncoming(p);\n            }\n        };\n        _this.unsubscribeCallback = (options.receiver || types_1.defaultRecievable).readMessages(_this.listener);\n        // Both sides will fire \"ready\" when they're set up. When either we get\n        // a ready or the other side successfully responds that they're ready,\n        // resolve the \"ready\" promise.\n        _this.isReady = new Promise(function (resolve) {\n            var response = { protocolVersion: options.protocolVersion || '1.0' };\n            _this.expose('ready', function () {\n                resolve();\n                return response;\n            });\n            _this.call('ready', response)\n                .then(resolve)\n                .catch(resolve);\n        });\n        return _this;\n    }\n    /**\n     * Create instantiates a new RPC instance and waits until it's ready\n     * before returning.\n     */\n    RPC.prototype.create = function (options) {\n        var rpc = new RPC(options);\n        return rpc.isReady.then(function () { return rpc; });\n    };\n    /**\n     * Attaches a method callable by the other window, to this one. The handler\n     * function will be invoked with whatever the other window gives us. Can\n     * return a Promise, or the results directly.\n     *\n     * @param {string} method\n     * @param {function(params: any): Promise.<*>|*} handler\n     */\n    RPC.prototype.expose = function (method, handler) {\n        var _this = this;\n        this.on(method, function (data) {\n            if (data.discard) {\n                handler(data.params);\n                return;\n            }\n            // tslint:disable-next-line\n            new Promise(function (resolve) { return resolve(handler(data.params)); })\n                .then(function (result) {\n                return ({\n                    type: 'reply',\n                    serviceID: _this.options.serviceId,\n                    id: data.id,\n                    result: result,\n                });\n            })\n                .catch(function (err) {\n                return ({\n                    type: 'reply',\n                    serviceID: _this.options.serviceId,\n                    id: data.id,\n                    error: err instanceof error_1.RPCError\n                        ? err.toReplyError()\n                        : { code: 0, message: err.stack || err.message },\n                });\n            })\n                .then(function (packet) {\n                _this.emit('sendReply', packet);\n                _this.post(packet);\n            });\n        });\n        return this;\n    };\n    /**\n     * Makes an RPC call out to the target window.\n     *\n     * @param {string} method\n     * @param {*} params\n     * @param {boolean} [waitForReply=true]\n     * @return {Promise.<object> | undefined} If waitForReply is true, a\n     * promise is returned that resolves once the server responds.\n     */\n    RPC.prototype.call = function (method, params, waitForReply) {\n        var _this = this;\n        if (waitForReply === void 0) { waitForReply = true; }\n        var id = method === 'ready' ? magicReadyCallId : this.callCounter;\n        var packet = {\n            type: 'method',\n            serviceID: this.options.serviceId,\n            id: id,\n            params: params,\n            method: method,\n            discard: !waitForReply,\n        };\n        this.emit('sendMethod', packet);\n        this.post(packet);\n        if (!waitForReply) {\n            return;\n        }\n        return new Promise(function (resolve, reject) {\n            _this.calls[id] = function (err, res) {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(res);\n                }\n            };\n        });\n    };\n    /**\n     * Tears down resources associated with the RPC client.\n     */\n    RPC.prototype.destroy = function () {\n        this.emit('destroy');\n        this.unsubscribeCallback();\n    };\n    /**\n     * Returns the protocol version that the remote client implements. This\n     * will return `undefined` until we get a `ready` event.\n     * @return {string | undefined}\n     */\n    RPC.prototype.remoteVersion = function () {\n        return this.remoteProtocolVersion;\n    };\n    RPC.prototype.handleReply = function (packet) {\n        var handler = this.calls[packet.id];\n        if (!handler) {\n            return;\n        }\n        if (packet.error) {\n            handler(objToError(packet.error), null);\n        }\n        else {\n            handler(null, packet.result);\n        }\n        delete this.calls[packet.id];\n    };\n    RPC.prototype.post = function (message) {\n        message.counter = this.callCounter++;\n        this.options.target.postMessage(JSON.stringify(message), this.options.origin || '*');\n    };\n    RPC.prototype.isReadySignal = function (packet) {\n        if (packet.type === 'method' && packet.method === 'ready') {\n            return true;\n        }\n        if (packet.type === 'reply' && packet.id === magicReadyCallId) {\n            return true;\n        }\n        return false;\n    };\n    RPC.prototype.dispatchIncoming = function (packet) {\n        switch (packet.type) {\n            case 'method':\n                this.emit('recvMethod', packet);\n                if (this.listeners(packet.method).length > 0) {\n                    this.emit(packet.method, packet);\n                    return;\n                }\n                this.post({\n                    type: 'reply',\n                    serviceID: this.options.serviceId,\n                    id: packet.id,\n                    error: { code: 4003, message: \"Unknown method name \\\"\" + packet.method + \"\\\"\" },\n                    result: null,\n                });\n                break;\n            case 'reply':\n                this.emit('recvReply', packet);\n                this.handleReply(packet);\n                break;\n            default:\n            // Ignore\n        }\n    };\n    return RPC;\n}(eventemitter3_1.EventEmitter));\nexports.RPC = RPC;\n"],"names":["__extends","this","extendStatics","d","b","p","__","error","RPCError","_super","code","message","path","_this","reorder","Reorder","counter","packet","list","i","next","types","isRPCMessage","data","callback","rpc","eventemitter3_1","require$$0","error_1","require$$1","reorder_1","require$$2","types_1","require$$3","objToError","obj","magicReadyCallId","RPC","options","ev","params","_i","_a","resolve","response","method","handler","result","err","waitForReply","id","reject","res"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}