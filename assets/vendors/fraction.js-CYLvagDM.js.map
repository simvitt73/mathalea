{"version":3,"file":"fraction.js-CYLvagDM.js","sources":["../../../node_modules/.pnpm/fraction.js@5.3.4/node_modules/fraction.js/dist/fraction.mjs","../../../node_modules/.pnpm/fraction.js@5.3.4/node_modules/fraction.js/dist/fraction.js"],"sourcesContent":["'use strict';\n\n/**\n *\n * This class offers the possibility to calculate fractions.\n * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.\n *\n * Array/Object form\n * [ 0 => <numerator>, 1 => <denominator> ]\n * { n => <numerator>, d => <denominator> }\n *\n * Integer form\n * - Single integer value as BigInt or Number\n *\n * Double form\n * - Single double value as Number\n *\n * String form\n * 123.456 - a simple double\n * 123/456 - a string fraction\n * 123.'456' - a double with repeating decimal places\n * 123.(456) - synonym\n * 123.45'6' - a double with repeating last place\n * 123.45(6) - synonym\n *\n * Example:\n * let f = new Fraction(\"9.4'31'\");\n * f.mul([-4, 3]).div(4.9);\n *\n */\n\n// Set Identity function to downgrade BigInt to Number if needed\nif (typeof BigInt === 'undefined') BigInt = function (n) { if (isNaN(n)) throw new Error(\"\"); return n; };\n\nconst C_ZERO = BigInt(0);\nconst C_ONE = BigInt(1);\nconst C_TWO = BigInt(2);\nconst C_THREE = BigInt(3);\nconst C_FIVE = BigInt(5);\nconst C_TEN = BigInt(10);\nconst MAX_INTEGER = BigInt(Number.MAX_SAFE_INTEGER);\n\n// Maximum search depth for cyclic rational numbers. 2000 should be more than enough.\n// Example: 1/7 = 0.(142857) has 6 repeating decimal places.\n// If MAX_CYCLE_LEN gets reduced, long cycles will not be detected and toString() only gets the first 10 digits\nconst MAX_CYCLE_LEN = 2000;\n\n// Parsed data to avoid calling \"new\" all the time\nconst P = {\n  \"s\": C_ONE,\n  \"n\": C_ZERO,\n  \"d\": C_ONE\n};\n\nfunction assign(n, s) {\n\n  try {\n    n = BigInt(n);\n  } catch (e) {\n    throw InvalidParameter();\n  }\n  return n * s;\n}\n\nfunction ifloor(x) {\n  return typeof x === 'bigint' ? x : Math.floor(x);\n}\n\n// Creates a new Fraction internally without the need of the bulky constructor\nfunction newFraction(n, d) {\n\n  if (d === C_ZERO) {\n    throw DivisionByZero();\n  }\n\n  const f = Object.create(Fraction.prototype);\n  f[\"s\"] = n < C_ZERO ? -C_ONE : C_ONE;\n\n  n = n < C_ZERO ? -n : n;\n\n  const a = gcd(n, d);\n\n  f[\"n\"] = n / a;\n  f[\"d\"] = d / a;\n  return f;\n}\n\nconst FACTORSTEPS = [C_TWO * C_TWO, C_TWO, C_TWO * C_TWO, C_TWO, C_TWO * C_TWO, C_TWO * C_THREE, C_TWO, C_TWO * C_THREE]; // repeats\nfunction factorize(n) {\n\n  const factors = Object.create(null);\n  if (n <= C_ONE) {\n    factors[n] = C_ONE;\n    return factors;\n  }\n\n  const add = (p) => { factors[p] = (factors[p] || C_ZERO) + C_ONE; };\n\n  while (n % C_TWO === C_ZERO) { add(C_TWO); n /= C_TWO; }\n  while (n % C_THREE === C_ZERO) { add(C_THREE); n /= C_THREE; }\n  while (n % C_FIVE === C_ZERO) { add(C_FIVE); n /= C_FIVE; }\n\n  // 30-wheel trial division: test only residues coprime to 2*3*5\n  // Residue step pattern after 5: 7,11,13,17,19,23,29,31, ...\n  for (let si = 0, p = C_TWO + C_FIVE; p * p <= n;) {\n    while (n % p === C_ZERO) { add(p); n /= p; }\n    p += FACTORSTEPS[si];\n    si = (si + 1) & 7; // fast modulo 8\n  }\n  if (n > C_ONE) add(n);\n  return factors;\n}\n\nconst parse = function (p1, p2) {\n\n  let n = C_ZERO, d = C_ONE, s = C_ONE;\n\n  if (p1 === undefined || p1 === null) { // No argument\n    /* void */\n  } else if (p2 !== undefined) { // Two arguments\n\n    if (typeof p1 === \"bigint\") {\n      n = p1;\n    } else if (isNaN(p1)) {\n      throw InvalidParameter();\n    } else if (p1 % 1 !== 0) {\n      throw NonIntegerParameter();\n    } else {\n      n = BigInt(p1);\n    }\n\n    if (typeof p2 === \"bigint\") {\n      d = p2;\n    } else if (isNaN(p2)) {\n      throw InvalidParameter();\n    } else if (p2 % 1 !== 0) {\n      throw NonIntegerParameter();\n    } else {\n      d = BigInt(p2);\n    }\n\n    s = n * d;\n\n  } else if (typeof p1 === \"object\") {\n    if (\"d\" in p1 && \"n\" in p1) {\n      n = BigInt(p1[\"n\"]);\n      d = BigInt(p1[\"d\"]);\n      if (\"s\" in p1)\n        n *= BigInt(p1[\"s\"]);\n    } else if (0 in p1) {\n      n = BigInt(p1[0]);\n      if (1 in p1)\n        d = BigInt(p1[1]);\n    } else if (typeof p1 === \"bigint\") {\n      n = p1;\n    } else {\n      throw InvalidParameter();\n    }\n    s = n * d;\n  } else if (typeof p1 === \"number\") {\n\n    if (isNaN(p1)) {\n      throw InvalidParameter();\n    }\n\n    if (p1 < 0) {\n      s = -C_ONE;\n      p1 = -p1;\n    }\n\n    if (p1 % 1 === 0) {\n      n = BigInt(p1);\n    } else {\n\n      let z = 1;\n\n      let A = 0, B = 1;\n      let C = 1, D = 1;\n\n      let N = 10000000;\n\n      if (p1 >= 1) {\n        z = 10 ** Math.floor(1 + Math.log10(p1));\n        p1 /= z;\n      }\n\n      // Using Farey Sequences\n\n      while (B <= N && D <= N) {\n        let M = (A + C) / (B + D);\n\n        if (p1 === M) {\n          if (B + D <= N) {\n            n = A + C;\n            d = B + D;\n          } else if (D > B) {\n            n = C;\n            d = D;\n          } else {\n            n = A;\n            d = B;\n          }\n          break;\n\n        } else {\n\n          if (p1 > M) {\n            A += C;\n            B += D;\n          } else {\n            C += A;\n            D += B;\n          }\n\n          if (B > N) {\n            n = C;\n            d = D;\n          } else {\n            n = A;\n            d = B;\n          }\n        }\n      }\n      n = BigInt(n) * BigInt(z);\n      d = BigInt(d);\n    }\n\n  } else if (typeof p1 === \"string\") {\n\n    let ndx = 0;\n\n    let v = C_ZERO, w = C_ZERO, x = C_ZERO, y = C_ONE, z = C_ONE;\n\n    let match = p1.replace(/_/g, '').match(/\\d+|./g);\n\n    if (match === null)\n      throw InvalidParameter();\n\n    if (match[ndx] === '-') {// Check for minus sign at the beginning\n      s = -C_ONE;\n      ndx++;\n    } else if (match[ndx] === '+') {// Check for plus sign at the beginning\n      ndx++;\n    }\n\n    if (match.length === ndx + 1) { // Check if it's just a simple number \"1234\"\n      w = assign(match[ndx++], s);\n    } else if (match[ndx + 1] === '.' || match[ndx] === '.') { // Check if it's a decimal number\n\n      if (match[ndx] !== '.') { // Handle 0.5 and .5\n        v = assign(match[ndx++], s);\n      }\n      ndx++;\n\n      // Check for decimal places\n      if (ndx + 1 === match.length || match[ndx + 1] === '(' && match[ndx + 3] === ')' || match[ndx + 1] === \"'\" && match[ndx + 3] === \"'\") {\n        w = assign(match[ndx], s);\n        y = C_TEN ** BigInt(match[ndx].length);\n        ndx++;\n      }\n\n      // Check for repeating places\n      if (match[ndx] === '(' && match[ndx + 2] === ')' || match[ndx] === \"'\" && match[ndx + 2] === \"'\") {\n        x = assign(match[ndx + 1], s);\n        z = C_TEN ** BigInt(match[ndx + 1].length) - C_ONE;\n        ndx += 3;\n      }\n\n    } else if (match[ndx + 1] === '/' || match[ndx + 1] === ':') { // Check for a simple fraction \"123/456\" or \"123:456\"\n      w = assign(match[ndx], s);\n      y = assign(match[ndx + 2], C_ONE);\n      ndx += 3;\n    } else if (match[ndx + 3] === '/' && match[ndx + 1] === ' ') { // Check for a complex fraction \"123 1/2\"\n      v = assign(match[ndx], s);\n      w = assign(match[ndx + 2], s);\n      y = assign(match[ndx + 4], C_ONE);\n      ndx += 5;\n    }\n\n    if (match.length <= ndx) { // Check for more tokens on the stack\n      d = y * z;\n      s = /* void */\n        n = x + d * v + z * w;\n    } else {\n      throw InvalidParameter();\n    }\n\n  } else if (typeof p1 === \"bigint\") {\n    n = p1;\n    s = p1;\n    d = C_ONE;\n  } else {\n    throw InvalidParameter();\n  }\n\n  if (d === C_ZERO) {\n    throw DivisionByZero();\n  }\n\n  P[\"s\"] = s < C_ZERO ? -C_ONE : C_ONE;\n  P[\"n\"] = n < C_ZERO ? -n : n;\n  P[\"d\"] = d < C_ZERO ? -d : d;\n};\n\nfunction modpow(b, e, m) {\n\n  let r = C_ONE;\n  for (; e > C_ZERO; b = (b * b) % m, e >>= C_ONE) {\n\n    if (e & C_ONE) {\n      r = (r * b) % m;\n    }\n  }\n  return r;\n}\n\nfunction cycleLen(n, d) {\n\n  for (; d % C_TWO === C_ZERO;\n    d /= C_TWO) {\n  }\n\n  for (; d % C_FIVE === C_ZERO;\n    d /= C_FIVE) {\n  }\n\n  if (d === C_ONE) // Catch non-cyclic numbers\n    return C_ZERO;\n\n  // If we would like to compute really large numbers quicker, we could make use of Fermat's little theorem:\n  // 10^(d-1) % d == 1\n  // However, we don't need such large numbers and MAX_CYCLE_LEN should be the capstone,\n  // as we want to translate the numbers to strings.\n\n  let rem = C_TEN % d;\n  let t = 1;\n\n  for (; rem !== C_ONE; t++) {\n    rem = rem * C_TEN % d;\n\n    if (t > MAX_CYCLE_LEN)\n      return C_ZERO; // Returning 0 here means that we don't print it as a cyclic number. It's likely that the answer is `d-1`\n  }\n  return BigInt(t);\n}\n\nfunction cycleStart(n, d, len) {\n\n  let rem1 = C_ONE;\n  let rem2 = modpow(C_TEN, len, d);\n\n  for (let t = 0; t < 300; t++) { // s < ~log10(Number.MAX_VALUE)\n    // Solve 10^s == 10^(s+t) (mod d)\n\n    if (rem1 === rem2)\n      return BigInt(t);\n\n    rem1 = rem1 * C_TEN % d;\n    rem2 = rem2 * C_TEN % d;\n  }\n  return 0;\n}\n\nfunction gcd(a, b) {\n\n  if (!a)\n    return b;\n  if (!b)\n    return a;\n\n  while (1) {\n    a %= b;\n    if (!a)\n      return b;\n    b %= a;\n    if (!b)\n      return a;\n  }\n}\n\n/**\n * Module constructor\n *\n * @constructor\n * @param {number|Fraction=} a\n * @param {number=} b\n */\nfunction Fraction(a, b) {\n\n  parse(a, b);\n\n  if (this instanceof Fraction) {\n    a = gcd(P[\"d\"], P[\"n\"]); // Abuse a\n    this[\"s\"] = P[\"s\"];\n    this[\"n\"] = P[\"n\"] / a;\n    this[\"d\"] = P[\"d\"] / a;\n  } else {\n    return newFraction(P['s'] * P['n'], P['d']);\n  }\n}\n\nconst DivisionByZero = function () { return new Error(\"Division by Zero\"); };\nconst InvalidParameter = function () { return new Error(\"Invalid argument\"); };\nconst NonIntegerParameter = function () { return new Error(\"Parameters must be integer\"); };\n\nFraction.prototype = {\n\n  \"s\": C_ONE,\n  \"n\": C_ZERO,\n  \"d\": C_ONE,\n\n  /**\n   * Calculates the absolute value\n   *\n   * Ex: new Fraction(-4).abs() => 4\n   **/\n  \"abs\": function () {\n\n    return newFraction(this[\"n\"], this[\"d\"]);\n  },\n\n  /**\n   * Inverts the sign of the current fraction\n   *\n   * Ex: new Fraction(-4).neg() => 4\n   **/\n  \"neg\": function () {\n\n    return newFraction(-this[\"s\"] * this[\"n\"], this[\"d\"]);\n  },\n\n  /**\n   * Adds two rational numbers\n   *\n   * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => 467 / 30\n   **/\n  \"add\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * this[\"n\"] * P[\"d\"] + P[\"s\"] * this[\"d\"] * P[\"n\"],\n      this[\"d\"] * P[\"d\"]\n    );\n  },\n\n  /**\n   * Subtracts two rational numbers\n   *\n   * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => -427 / 30\n   **/\n  \"sub\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * this[\"d\"] * P[\"n\"],\n      this[\"d\"] * P[\"d\"]\n    );\n  },\n\n  /**\n   * Multiplies two rational numbers\n   *\n   * Ex: new Fraction(\"-17.(345)\").mul(3) => 5776 / 111\n   **/\n  \"mul\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"n\"],\n      this[\"d\"] * P[\"d\"]\n    );\n  },\n\n  /**\n   * Divides two rational numbers\n   *\n   * Ex: new Fraction(\"-17.(345)\").inverse().div(3)\n   **/\n  \"div\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"d\"],\n      this[\"d\"] * P[\"n\"]\n    );\n  },\n\n  /**\n   * Clones the actual object\n   *\n   * Ex: new Fraction(\"-17.(345)\").clone()\n   **/\n  \"clone\": function () {\n    return newFraction(this['s'] * this['n'], this['d']);\n  },\n\n  /**\n   * Calculates the modulo of two rational numbers - a more precise fmod\n   *\n   * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)\n   * Ex: new Fraction(20, 10).mod().equals(0) ? \"is Integer\"\n   **/\n  \"mod\": function (a, b) {\n\n    if (a === undefined) {\n      return newFraction(this[\"s\"] * this[\"n\"] % this[\"d\"], C_ONE);\n    }\n\n    parse(a, b);\n    if (C_ZERO === P[\"n\"] * this[\"d\"]) {\n      throw DivisionByZero();\n    }\n\n    /**\n     * I derived the rational modulo similar to the modulo for integers\n     *\n     * https://raw.org/book/analysis/rational-numbers/\n     *\n     *    n1/d1 = (n2/d2) * q + r, where 0 ≤ r < n2/d2\n     * => d2 * n1 = n2 * d1 * q + d1 * d2 * r\n     * => r = (d2 * n1 - n2 * d1 * q) / (d1 * d2)\n     *      = (d2 * n1 - n2 * d1 * floor((d2 * n1) / (n2 * d1))) / (d1 * d2)\n     *      = ((d2 * n1) % (n2 * d1)) / (d1 * d2)\n     */\n    return newFraction(\n      this[\"s\"] * (P[\"d\"] * this[\"n\"]) % (P[\"n\"] * this[\"d\"]),\n      P[\"d\"] * this[\"d\"]);\n  },\n\n  /**\n   * Calculates the fractional gcd of two rational numbers\n   *\n   * Ex: new Fraction(5,8).gcd(3,7) => 1/56\n   */\n  \"gcd\": function (a, b) {\n\n    parse(a, b);\n\n    // https://raw.org/book/analysis/rational-numbers/\n    // gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)\n\n    return newFraction(gcd(P[\"n\"], this[\"n\"]) * gcd(P[\"d\"], this[\"d\"]), P[\"d\"] * this[\"d\"]);\n  },\n\n  /**\n   * Calculates the fractional lcm of two rational numbers\n   *\n   * Ex: new Fraction(5,8).lcm(3,7) => 15\n   */\n  \"lcm\": function (a, b) {\n\n    parse(a, b);\n\n    // https://raw.org/book/analysis/rational-numbers/\n    // lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)\n\n    if (P[\"n\"] === C_ZERO && this[\"n\"] === C_ZERO) {\n      return newFraction(C_ZERO, C_ONE);\n    }\n    return newFraction(P[\"n\"] * this[\"n\"], gcd(P[\"n\"], this[\"n\"]) * gcd(P[\"d\"], this[\"d\"]));\n  },\n\n  /**\n   * Gets the inverse of the fraction, means numerator and denominator are exchanged\n   *\n   * Ex: new Fraction([-3, 4]).inverse() => -4 / 3\n   **/\n  \"inverse\": function () {\n    return newFraction(this[\"s\"] * this[\"d\"], this[\"n\"]);\n  },\n\n  /**\n   * Calculates the fraction to some integer exponent\n   *\n   * Ex: new Fraction(-1,2).pow(-3) => -8\n   */\n  \"pow\": function (a, b) {\n\n    parse(a, b);\n\n    // Trivial case when exp is an integer\n\n    if (P['d'] === C_ONE) {\n\n      if (P['s'] < C_ZERO) {\n        return newFraction((this['s'] * this[\"d\"]) ** P['n'], this[\"n\"] ** P['n']);\n      } else {\n        return newFraction((this['s'] * this[\"n\"]) ** P['n'], this[\"d\"] ** P['n']);\n      }\n    }\n\n    // Negative roots become complex\n    //     (-a/b)^(c/d) = x\n    // ⇔ (-1)^(c/d) * (a/b)^(c/d) = x\n    // ⇔ (cos(pi) + i*sin(pi))^(c/d) * (a/b)^(c/d) = x\n    // ⇔ (cos(c*pi/d) + i*sin(c*pi/d)) * (a/b)^(c/d) = x       # DeMoivre's formula\n    // From which follows that only for c=0 the root is non-complex\n    if (this['s'] < C_ZERO) return null;\n\n    // Now prime factor n and d\n    let N = factorize(this['n']);\n    let D = factorize(this['d']);\n\n    // Exponentiate and take root for n and d individually\n    let n = C_ONE;\n    let d = C_ONE;\n    for (let k in N) {\n      if (k === '1') continue;\n      if (k === '0') {\n        n = C_ZERO;\n        break;\n      }\n      N[k] *= P['n'];\n\n      if (N[k] % P['d'] === C_ZERO) {\n        N[k] /= P['d'];\n      } else return null;\n      n *= BigInt(k) ** N[k];\n    }\n\n    for (let k in D) {\n      if (k === '1') continue;\n      D[k] *= P['n'];\n\n      if (D[k] % P['d'] === C_ZERO) {\n        D[k] /= P['d'];\n      } else return null;\n      d *= BigInt(k) ** D[k];\n    }\n\n    if (P['s'] < C_ZERO) {\n      return newFraction(d, n);\n    }\n    return newFraction(n, d);\n  },\n\n  /**\n   * Calculates the logarithm of a fraction to a given rational base\n   *\n   * Ex: new Fraction(27, 8).log(9, 4) => 3/2\n   */\n  \"log\": function (a, b) {\n\n    parse(a, b);\n\n    if (this['s'] <= C_ZERO || P['s'] <= C_ZERO) return null;\n\n    const allPrimes = Object.create(null);\n\n    const baseFactors = factorize(P['n']);\n    const T1 = factorize(P['d']);\n\n    const numberFactors = factorize(this['n']);\n    const T2 = factorize(this['d']);\n\n    for (const prime in T1) {\n      baseFactors[prime] = (baseFactors[prime] || C_ZERO) - T1[prime];\n    }\n    for (const prime in T2) {\n      numberFactors[prime] = (numberFactors[prime] || C_ZERO) - T2[prime];\n    }\n\n    for (const prime in baseFactors) {\n      if (prime === '1') continue;\n      allPrimes[prime] = true;\n    }\n    for (const prime in numberFactors) {\n      if (prime === '1') continue;\n      allPrimes[prime] = true;\n    }\n\n    let retN = null;\n    let retD = null;\n\n    // Iterate over all unique primes to determine if a consistent ratio exists\n    for (const prime in allPrimes) {\n\n      const baseExponent = baseFactors[prime] || C_ZERO;\n      const numberExponent = numberFactors[prime] || C_ZERO;\n\n      if (baseExponent === C_ZERO) {\n        if (numberExponent !== C_ZERO) {\n          return null; // Logarithm cannot be expressed as a rational number\n        }\n        continue; // Skip this prime since both exponents are zero\n      }\n\n      // Calculate the ratio of exponents for this prime\n      let curN = numberExponent;\n      let curD = baseExponent;\n\n      // Simplify the current ratio\n      const gcdValue = gcd(curN, curD);\n      curN /= gcdValue;\n      curD /= gcdValue;\n\n      // Check if this is the first ratio; otherwise, ensure ratios are consistent\n      if (retN === null && retD === null) {\n        retN = curN;\n        retD = curD;\n      } else if (curN * retD !== retN * curD) {\n        return null; // Ratios do not match, logarithm cannot be rational\n      }\n    }\n\n    return retN !== null && retD !== null\n      ? newFraction(retN, retD)\n      : null;\n  },\n\n  /**\n   * Check if two rational numbers are the same\n   *\n   * Ex: new Fraction(19.6).equals([98, 5]);\n   **/\n  \"equals\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] === P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is less than another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"lt\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] < P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is less than or equal another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"lte\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] <= P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is greater than another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"gt\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] > P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is greater than or equal another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"gte\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] >= P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Compare two rational numbers\n   * < 0 iff this < that\n   * > 0 iff this > that\n   * = 0 iff this = that\n   *\n   * Ex: new Fraction(19.6).compare([98, 5]);\n   **/\n  \"compare\": function (a, b) {\n\n    parse(a, b);\n    let t = this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * P[\"n\"] * this[\"d\"];\n\n    return (C_ZERO < t) - (t < C_ZERO);\n  },\n\n  /**\n   * Calculates the ceil of a rational number\n   *\n   * Ex: new Fraction('4.(3)').ceil() => (5 / 1)\n   **/\n  \"ceil\": function (places) {\n\n    places = C_TEN ** BigInt(places || 0);\n\n    return newFraction(ifloor(this[\"s\"] * places * this[\"n\"] / this[\"d\"]) +\n      (places * this[\"n\"] % this[\"d\"] > C_ZERO && this[\"s\"] >= C_ZERO ? C_ONE : C_ZERO),\n      places);\n  },\n\n  /**\n   * Calculates the floor of a rational number\n   *\n   * Ex: new Fraction('4.(3)').floor() => (4 / 1)\n   **/\n  \"floor\": function (places) {\n\n    places = C_TEN ** BigInt(places || 0);\n\n    return newFraction(ifloor(this[\"s\"] * places * this[\"n\"] / this[\"d\"]) -\n      (places * this[\"n\"] % this[\"d\"] > C_ZERO && this[\"s\"] < C_ZERO ? C_ONE : C_ZERO),\n      places);\n  },\n\n  /**\n   * Rounds a rational numbers\n   *\n   * Ex: new Fraction('4.(3)').round() => (4 / 1)\n   **/\n  \"round\": function (places) {\n\n    places = C_TEN ** BigInt(places || 0);\n\n    /* Derivation:\n\n    s >= 0:\n      round(n / d) = ifloor(n / d) + (n % d) / d >= 0.5 ? 1 : 0\n                   = ifloor(n / d) + 2(n % d) >= d ? 1 : 0\n    s < 0:\n      round(n / d) =-ifloor(n / d) - (n % d) / d > 0.5 ? 1 : 0\n                   =-ifloor(n / d) - 2(n % d) > d ? 1 : 0\n\n    =>:\n\n    round(s * n / d) = s * ifloor(n / d) + s * (C + 2(n % d) > d ? 1 : 0)\n        where C = s >= 0 ? 1 : 0, to fix the >= for the positve case.\n    */\n\n    return newFraction(ifloor(this[\"s\"] * places * this[\"n\"] / this[\"d\"]) +\n      this[\"s\"] * ((this[\"s\"] >= C_ZERO ? C_ONE : C_ZERO) + C_TWO * (places * this[\"n\"] % this[\"d\"]) > this[\"d\"] ? C_ONE : C_ZERO),\n      places);\n  },\n\n  /**\n    * Rounds a rational number to a multiple of another rational number\n    *\n    * Ex: new Fraction('0.9').roundTo(\"1/8\") => 7 / 8\n    **/\n  \"roundTo\": function (a, b) {\n\n    /*\n    k * x/y ≤ a/b < (k+1) * x/y\n    ⇔ k ≤ a/b / (x/y) < (k+1)\n    ⇔ k = floor(a/b * y/x)\n    ⇔ k = floor((a * y) / (b * x))\n    */\n\n    parse(a, b);\n\n    const n = this['n'] * P['d'];\n    const d = this['d'] * P['n'];\n    const r = n % d;\n\n    // round(n / d) = ifloor(n / d) + 2(n % d) >= d ? 1 : 0\n    let k = ifloor(n / d);\n    if (r + r >= d) {\n      k++;\n    }\n    return newFraction(this['s'] * k * P['n'], P['d']);\n  },\n\n  /**\n   * Check if two rational numbers are divisible\n   *\n   * Ex: new Fraction(19.6).divisible(1.5);\n   */\n  \"divisible\": function (a, b) {\n\n    parse(a, b);\n    if (P['n'] === C_ZERO) return false;\n    return (this['n'] * P['d']) % (P['n'] * this['d']) === C_ZERO;\n  },\n\n  /**\n   * Returns a decimal representation of the fraction\n   *\n   * Ex: new Fraction(\"100.'91823'\").valueOf() => 100.91823918239183\n   **/\n  'valueOf': function () {\n    //if (this['n'] <= MAX_INTEGER && this['d'] <= MAX_INTEGER) {\n    return Number(this['s'] * this['n']) / Number(this['d']);\n    //}\n  },\n\n  /**\n   * Creates a string representation of a fraction with all digits\n   *\n   * Ex: new Fraction(\"100.'91823'\").toString() => \"100.(91823)\"\n   **/\n  'toString': function (dec = 15) {\n\n    let N = this[\"n\"];\n    let D = this[\"d\"];\n\n    let cycLen = cycleLen(N, D); // Cycle length\n    let cycOff = cycleStart(N, D, cycLen); // Cycle start\n\n    let str = this['s'] < C_ZERO ? \"-\" : \"\";\n\n    // Append integer part\n    str += ifloor(N / D);\n\n    N %= D;\n    N *= C_TEN;\n\n    if (N)\n      str += \".\";\n\n    if (cycLen) {\n\n      for (let i = cycOff; i--;) {\n        str += ifloor(N / D);\n        N %= D;\n        N *= C_TEN;\n      }\n      str += \"(\";\n      for (let i = cycLen; i--;) {\n        str += ifloor(N / D);\n        N %= D;\n        N *= C_TEN;\n      }\n      str += \")\";\n    } else {\n      for (let i = dec; N && i--;) {\n        str += ifloor(N / D);\n        N %= D;\n        N *= C_TEN;\n      }\n    }\n    return str;\n  },\n\n  /**\n   * Returns a string-fraction representation of a Fraction object\n   *\n   * Ex: new Fraction(\"1.'3'\").toFraction() => \"4 1/3\"\n   **/\n  'toFraction': function (showMixed = false) {\n\n    let n = this[\"n\"];\n    let d = this[\"d\"];\n    let str = this['s'] < C_ZERO ? \"-\" : \"\";\n\n    if (d === C_ONE) {\n      str += n;\n    } else {\n      const whole = ifloor(n / d);\n      if (showMixed && whole > C_ZERO) {\n        str += whole;\n        str += \" \";\n        n %= d;\n      }\n\n      str += n;\n      str += '/';\n      str += d;\n    }\n    return str;\n  },\n\n  /**\n   * Returns a latex representation of a Fraction object\n   *\n   * Ex: new Fraction(\"1.'3'\").toLatex() => \"\\frac{4}{3}\"\n   **/\n  'toLatex': function (showMixed = false) {\n\n    let n = this[\"n\"];\n    let d = this[\"d\"];\n    let str = this['s'] < C_ZERO ? \"-\" : \"\";\n\n    if (d === C_ONE) {\n      str += n;\n    } else {\n      const whole = ifloor(n / d);\n      if (showMixed && whole > C_ZERO) {\n        str += whole;\n        n %= d;\n      }\n\n      str += \"\\\\frac{\";\n      str += n;\n      str += '}{';\n      str += d;\n      str += '}';\n    }\n    return str;\n  },\n\n  /**\n   * Returns an array of continued fraction elements\n   *\n   * Ex: new Fraction(\"7/8\").toContinued() => [0,1,7]\n   */\n  'toContinued': function () {\n\n    let a = this['n'];\n    let b = this['d'];\n    const res = [];\n\n    while (b) {\n      res.push(ifloor(a / b));\n      const t = a % b;\n      a = b;\n      b = t;\n    }\n    return res;\n  },\n\n  \"simplify\": function (eps = 1e-3) {\n\n    // Continued fractions give best approximations for a max denominator,\n    // generally outperforming mediants in denominator–accuracy trade-offs.\n    // Semiconvergents can further reduce the denominator within tolerance.\n\n    const ieps = BigInt(Math.ceil(1 / eps));\n\n    const thisABS = this['abs']();\n    const cont = thisABS['toContinued']();\n\n    for (let i = 1; i < cont.length; i++) {\n\n      let s = newFraction(cont[i - 1], C_ONE);\n      for (let k = i - 2; k >= 0; k--) {\n        s = s['inverse']()['add'](cont[k]);\n      }\n\n      let t = s['sub'](thisABS);\n      if (t['n'] * ieps < t['d']) { // More robust than Math.abs(t.valueOf()) < eps\n        return s['mul'](this['s']);\n      }\n    }\n    return this;\n  }\n};\nexport {\n  Fraction as default, Fraction\n};\n","'use strict';\n\n/**\n *\n * This class offers the possibility to calculate fractions.\n * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.\n *\n * Array/Object form\n * [ 0 => <numerator>, 1 => <denominator> ]\n * { n => <numerator>, d => <denominator> }\n *\n * Integer form\n * - Single integer value as BigInt or Number\n *\n * Double form\n * - Single double value as Number\n *\n * String form\n * 123.456 - a simple double\n * 123/456 - a string fraction\n * 123.'456' - a double with repeating decimal places\n * 123.(456) - synonym\n * 123.45'6' - a double with repeating last place\n * 123.45(6) - synonym\n *\n * Example:\n * let f = new Fraction(\"9.4'31'\");\n * f.mul([-4, 3]).div(4.9);\n *\n */\n\n// Set Identity function to downgrade BigInt to Number if needed\nif (typeof BigInt === 'undefined') BigInt = function (n) { if (isNaN(n)) throw new Error(\"\"); return n; };\n\nconst C_ZERO = BigInt(0);\nconst C_ONE = BigInt(1);\nconst C_TWO = BigInt(2);\nconst C_THREE = BigInt(3);\nconst C_FIVE = BigInt(5);\nconst C_TEN = BigInt(10);\nconst MAX_INTEGER = BigInt(Number.MAX_SAFE_INTEGER);\n\n// Maximum search depth for cyclic rational numbers. 2000 should be more than enough.\n// Example: 1/7 = 0.(142857) has 6 repeating decimal places.\n// If MAX_CYCLE_LEN gets reduced, long cycles will not be detected and toString() only gets the first 10 digits\nconst MAX_CYCLE_LEN = 2000;\n\n// Parsed data to avoid calling \"new\" all the time\nconst P = {\n  \"s\": C_ONE,\n  \"n\": C_ZERO,\n  \"d\": C_ONE\n};\n\nfunction assign(n, s) {\n\n  try {\n    n = BigInt(n);\n  } catch (e) {\n    throw InvalidParameter();\n  }\n  return n * s;\n}\n\nfunction ifloor(x) {\n  return typeof x === 'bigint' ? x : Math.floor(x);\n}\n\n// Creates a new Fraction internally without the need of the bulky constructor\nfunction newFraction(n, d) {\n\n  if (d === C_ZERO) {\n    throw DivisionByZero();\n  }\n\n  const f = Object.create(Fraction.prototype);\n  f[\"s\"] = n < C_ZERO ? -C_ONE : C_ONE;\n\n  n = n < C_ZERO ? -n : n;\n\n  const a = gcd(n, d);\n\n  f[\"n\"] = n / a;\n  f[\"d\"] = d / a;\n  return f;\n}\n\nconst FACTORSTEPS = [C_TWO * C_TWO, C_TWO, C_TWO * C_TWO, C_TWO, C_TWO * C_TWO, C_TWO * C_THREE, C_TWO, C_TWO * C_THREE]; // repeats\nfunction factorize(n) {\n\n  const factors = Object.create(null);\n  if (n <= C_ONE) {\n    factors[n] = C_ONE;\n    return factors;\n  }\n\n  const add = (p) => { factors[p] = (factors[p] || C_ZERO) + C_ONE; };\n\n  while (n % C_TWO === C_ZERO) { add(C_TWO); n /= C_TWO; }\n  while (n % C_THREE === C_ZERO) { add(C_THREE); n /= C_THREE; }\n  while (n % C_FIVE === C_ZERO) { add(C_FIVE); n /= C_FIVE; }\n\n  // 30-wheel trial division: test only residues coprime to 2*3*5\n  // Residue step pattern after 5: 7,11,13,17,19,23,29,31, ...\n  for (let si = 0, p = C_TWO + C_FIVE; p * p <= n;) {\n    while (n % p === C_ZERO) { add(p); n /= p; }\n    p += FACTORSTEPS[si];\n    si = (si + 1) & 7; // fast modulo 8\n  }\n  if (n > C_ONE) add(n);\n  return factors;\n}\n\nconst parse = function (p1, p2) {\n\n  let n = C_ZERO, d = C_ONE, s = C_ONE;\n\n  if (p1 === undefined || p1 === null) { // No argument\n    /* void */\n  } else if (p2 !== undefined) { // Two arguments\n\n    if (typeof p1 === \"bigint\") {\n      n = p1;\n    } else if (isNaN(p1)) {\n      throw InvalidParameter();\n    } else if (p1 % 1 !== 0) {\n      throw NonIntegerParameter();\n    } else {\n      n = BigInt(p1);\n    }\n\n    if (typeof p2 === \"bigint\") {\n      d = p2;\n    } else if (isNaN(p2)) {\n      throw InvalidParameter();\n    } else if (p2 % 1 !== 0) {\n      throw NonIntegerParameter();\n    } else {\n      d = BigInt(p2);\n    }\n\n    s = n * d;\n\n  } else if (typeof p1 === \"object\") {\n    if (\"d\" in p1 && \"n\" in p1) {\n      n = BigInt(p1[\"n\"]);\n      d = BigInt(p1[\"d\"]);\n      if (\"s\" in p1)\n        n *= BigInt(p1[\"s\"]);\n    } else if (0 in p1) {\n      n = BigInt(p1[0]);\n      if (1 in p1)\n        d = BigInt(p1[1]);\n    } else if (typeof p1 === \"bigint\") {\n      n = p1;\n    } else {\n      throw InvalidParameter();\n    }\n    s = n * d;\n  } else if (typeof p1 === \"number\") {\n\n    if (isNaN(p1)) {\n      throw InvalidParameter();\n    }\n\n    if (p1 < 0) {\n      s = -C_ONE;\n      p1 = -p1;\n    }\n\n    if (p1 % 1 === 0) {\n      n = BigInt(p1);\n    } else {\n\n      let z = 1;\n\n      let A = 0, B = 1;\n      let C = 1, D = 1;\n\n      let N = 10000000;\n\n      if (p1 >= 1) {\n        z = 10 ** Math.floor(1 + Math.log10(p1));\n        p1 /= z;\n      }\n\n      // Using Farey Sequences\n\n      while (B <= N && D <= N) {\n        let M = (A + C) / (B + D);\n\n        if (p1 === M) {\n          if (B + D <= N) {\n            n = A + C;\n            d = B + D;\n          } else if (D > B) {\n            n = C;\n            d = D;\n          } else {\n            n = A;\n            d = B;\n          }\n          break;\n\n        } else {\n\n          if (p1 > M) {\n            A += C;\n            B += D;\n          } else {\n            C += A;\n            D += B;\n          }\n\n          if (B > N) {\n            n = C;\n            d = D;\n          } else {\n            n = A;\n            d = B;\n          }\n        }\n      }\n      n = BigInt(n) * BigInt(z);\n      d = BigInt(d);\n    }\n\n  } else if (typeof p1 === \"string\") {\n\n    let ndx = 0;\n\n    let v = C_ZERO, w = C_ZERO, x = C_ZERO, y = C_ONE, z = C_ONE;\n\n    let match = p1.replace(/_/g, '').match(/\\d+|./g);\n\n    if (match === null)\n      throw InvalidParameter();\n\n    if (match[ndx] === '-') {// Check for minus sign at the beginning\n      s = -C_ONE;\n      ndx++;\n    } else if (match[ndx] === '+') {// Check for plus sign at the beginning\n      ndx++;\n    }\n\n    if (match.length === ndx + 1) { // Check if it's just a simple number \"1234\"\n      w = assign(match[ndx++], s);\n    } else if (match[ndx + 1] === '.' || match[ndx] === '.') { // Check if it's a decimal number\n\n      if (match[ndx] !== '.') { // Handle 0.5 and .5\n        v = assign(match[ndx++], s);\n      }\n      ndx++;\n\n      // Check for decimal places\n      if (ndx + 1 === match.length || match[ndx + 1] === '(' && match[ndx + 3] === ')' || match[ndx + 1] === \"'\" && match[ndx + 3] === \"'\") {\n        w = assign(match[ndx], s);\n        y = C_TEN ** BigInt(match[ndx].length);\n        ndx++;\n      }\n\n      // Check for repeating places\n      if (match[ndx] === '(' && match[ndx + 2] === ')' || match[ndx] === \"'\" && match[ndx + 2] === \"'\") {\n        x = assign(match[ndx + 1], s);\n        z = C_TEN ** BigInt(match[ndx + 1].length) - C_ONE;\n        ndx += 3;\n      }\n\n    } else if (match[ndx + 1] === '/' || match[ndx + 1] === ':') { // Check for a simple fraction \"123/456\" or \"123:456\"\n      w = assign(match[ndx], s);\n      y = assign(match[ndx + 2], C_ONE);\n      ndx += 3;\n    } else if (match[ndx + 3] === '/' && match[ndx + 1] === ' ') { // Check for a complex fraction \"123 1/2\"\n      v = assign(match[ndx], s);\n      w = assign(match[ndx + 2], s);\n      y = assign(match[ndx + 4], C_ONE);\n      ndx += 5;\n    }\n\n    if (match.length <= ndx) { // Check for more tokens on the stack\n      d = y * z;\n      s = /* void */\n        n = x + d * v + z * w;\n    } else {\n      throw InvalidParameter();\n    }\n\n  } else if (typeof p1 === \"bigint\") {\n    n = p1;\n    s = p1;\n    d = C_ONE;\n  } else {\n    throw InvalidParameter();\n  }\n\n  if (d === C_ZERO) {\n    throw DivisionByZero();\n  }\n\n  P[\"s\"] = s < C_ZERO ? -C_ONE : C_ONE;\n  P[\"n\"] = n < C_ZERO ? -n : n;\n  P[\"d\"] = d < C_ZERO ? -d : d;\n};\n\nfunction modpow(b, e, m) {\n\n  let r = C_ONE;\n  for (; e > C_ZERO; b = (b * b) % m, e >>= C_ONE) {\n\n    if (e & C_ONE) {\n      r = (r * b) % m;\n    }\n  }\n  return r;\n}\n\nfunction cycleLen(n, d) {\n\n  for (; d % C_TWO === C_ZERO;\n    d /= C_TWO) {\n  }\n\n  for (; d % C_FIVE === C_ZERO;\n    d /= C_FIVE) {\n  }\n\n  if (d === C_ONE) // Catch non-cyclic numbers\n    return C_ZERO;\n\n  // If we would like to compute really large numbers quicker, we could make use of Fermat's little theorem:\n  // 10^(d-1) % d == 1\n  // However, we don't need such large numbers and MAX_CYCLE_LEN should be the capstone,\n  // as we want to translate the numbers to strings.\n\n  let rem = C_TEN % d;\n  let t = 1;\n\n  for (; rem !== C_ONE; t++) {\n    rem = rem * C_TEN % d;\n\n    if (t > MAX_CYCLE_LEN)\n      return C_ZERO; // Returning 0 here means that we don't print it as a cyclic number. It's likely that the answer is `d-1`\n  }\n  return BigInt(t);\n}\n\nfunction cycleStart(n, d, len) {\n\n  let rem1 = C_ONE;\n  let rem2 = modpow(C_TEN, len, d);\n\n  for (let t = 0; t < 300; t++) { // s < ~log10(Number.MAX_VALUE)\n    // Solve 10^s == 10^(s+t) (mod d)\n\n    if (rem1 === rem2)\n      return BigInt(t);\n\n    rem1 = rem1 * C_TEN % d;\n    rem2 = rem2 * C_TEN % d;\n  }\n  return 0;\n}\n\nfunction gcd(a, b) {\n\n  if (!a)\n    return b;\n  if (!b)\n    return a;\n\n  while (1) {\n    a %= b;\n    if (!a)\n      return b;\n    b %= a;\n    if (!b)\n      return a;\n  }\n}\n\n/**\n * Module constructor\n *\n * @constructor\n * @param {number|Fraction=} a\n * @param {number=} b\n */\nfunction Fraction(a, b) {\n\n  parse(a, b);\n\n  if (this instanceof Fraction) {\n    a = gcd(P[\"d\"], P[\"n\"]); // Abuse a\n    this[\"s\"] = P[\"s\"];\n    this[\"n\"] = P[\"n\"] / a;\n    this[\"d\"] = P[\"d\"] / a;\n  } else {\n    return newFraction(P['s'] * P['n'], P['d']);\n  }\n}\n\nconst DivisionByZero = function () { return new Error(\"Division by Zero\"); };\nconst InvalidParameter = function () { return new Error(\"Invalid argument\"); };\nconst NonIntegerParameter = function () { return new Error(\"Parameters must be integer\"); };\n\nFraction.prototype = {\n\n  \"s\": C_ONE,\n  \"n\": C_ZERO,\n  \"d\": C_ONE,\n\n  /**\n   * Calculates the absolute value\n   *\n   * Ex: new Fraction(-4).abs() => 4\n   **/\n  \"abs\": function () {\n\n    return newFraction(this[\"n\"], this[\"d\"]);\n  },\n\n  /**\n   * Inverts the sign of the current fraction\n   *\n   * Ex: new Fraction(-4).neg() => 4\n   **/\n  \"neg\": function () {\n\n    return newFraction(-this[\"s\"] * this[\"n\"], this[\"d\"]);\n  },\n\n  /**\n   * Adds two rational numbers\n   *\n   * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => 467 / 30\n   **/\n  \"add\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * this[\"n\"] * P[\"d\"] + P[\"s\"] * this[\"d\"] * P[\"n\"],\n      this[\"d\"] * P[\"d\"]\n    );\n  },\n\n  /**\n   * Subtracts two rational numbers\n   *\n   * Ex: new Fraction({n: 2, d: 3}).add(\"14.9\") => -427 / 30\n   **/\n  \"sub\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * this[\"d\"] * P[\"n\"],\n      this[\"d\"] * P[\"d\"]\n    );\n  },\n\n  /**\n   * Multiplies two rational numbers\n   *\n   * Ex: new Fraction(\"-17.(345)\").mul(3) => 5776 / 111\n   **/\n  \"mul\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"n\"],\n      this[\"d\"] * P[\"d\"]\n    );\n  },\n\n  /**\n   * Divides two rational numbers\n   *\n   * Ex: new Fraction(\"-17.(345)\").inverse().div(3)\n   **/\n  \"div\": function (a, b) {\n\n    parse(a, b);\n    return newFraction(\n      this[\"s\"] * P[\"s\"] * this[\"n\"] * P[\"d\"],\n      this[\"d\"] * P[\"n\"]\n    );\n  },\n\n  /**\n   * Clones the actual object\n   *\n   * Ex: new Fraction(\"-17.(345)\").clone()\n   **/\n  \"clone\": function () {\n    return newFraction(this['s'] * this['n'], this['d']);\n  },\n\n  /**\n   * Calculates the modulo of two rational numbers - a more precise fmod\n   *\n   * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)\n   * Ex: new Fraction(20, 10).mod().equals(0) ? \"is Integer\"\n   **/\n  \"mod\": function (a, b) {\n\n    if (a === undefined) {\n      return newFraction(this[\"s\"] * this[\"n\"] % this[\"d\"], C_ONE);\n    }\n\n    parse(a, b);\n    if (C_ZERO === P[\"n\"] * this[\"d\"]) {\n      throw DivisionByZero();\n    }\n\n    /**\n     * I derived the rational modulo similar to the modulo for integers\n     *\n     * https://raw.org/book/analysis/rational-numbers/\n     *\n     *    n1/d1 = (n2/d2) * q + r, where 0 ≤ r < n2/d2\n     * => d2 * n1 = n2 * d1 * q + d1 * d2 * r\n     * => r = (d2 * n1 - n2 * d1 * q) / (d1 * d2)\n     *      = (d2 * n1 - n2 * d1 * floor((d2 * n1) / (n2 * d1))) / (d1 * d2)\n     *      = ((d2 * n1) % (n2 * d1)) / (d1 * d2)\n     */\n    return newFraction(\n      this[\"s\"] * (P[\"d\"] * this[\"n\"]) % (P[\"n\"] * this[\"d\"]),\n      P[\"d\"] * this[\"d\"]);\n  },\n\n  /**\n   * Calculates the fractional gcd of two rational numbers\n   *\n   * Ex: new Fraction(5,8).gcd(3,7) => 1/56\n   */\n  \"gcd\": function (a, b) {\n\n    parse(a, b);\n\n    // https://raw.org/book/analysis/rational-numbers/\n    // gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)\n\n    return newFraction(gcd(P[\"n\"], this[\"n\"]) * gcd(P[\"d\"], this[\"d\"]), P[\"d\"] * this[\"d\"]);\n  },\n\n  /**\n   * Calculates the fractional lcm of two rational numbers\n   *\n   * Ex: new Fraction(5,8).lcm(3,7) => 15\n   */\n  \"lcm\": function (a, b) {\n\n    parse(a, b);\n\n    // https://raw.org/book/analysis/rational-numbers/\n    // lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)\n\n    if (P[\"n\"] === C_ZERO && this[\"n\"] === C_ZERO) {\n      return newFraction(C_ZERO, C_ONE);\n    }\n    return newFraction(P[\"n\"] * this[\"n\"], gcd(P[\"n\"], this[\"n\"]) * gcd(P[\"d\"], this[\"d\"]));\n  },\n\n  /**\n   * Gets the inverse of the fraction, means numerator and denominator are exchanged\n   *\n   * Ex: new Fraction([-3, 4]).inverse() => -4 / 3\n   **/\n  \"inverse\": function () {\n    return newFraction(this[\"s\"] * this[\"d\"], this[\"n\"]);\n  },\n\n  /**\n   * Calculates the fraction to some integer exponent\n   *\n   * Ex: new Fraction(-1,2).pow(-3) => -8\n   */\n  \"pow\": function (a, b) {\n\n    parse(a, b);\n\n    // Trivial case when exp is an integer\n\n    if (P['d'] === C_ONE) {\n\n      if (P['s'] < C_ZERO) {\n        return newFraction((this['s'] * this[\"d\"]) ** P['n'], this[\"n\"] ** P['n']);\n      } else {\n        return newFraction((this['s'] * this[\"n\"]) ** P['n'], this[\"d\"] ** P['n']);\n      }\n    }\n\n    // Negative roots become complex\n    //     (-a/b)^(c/d) = x\n    // ⇔ (-1)^(c/d) * (a/b)^(c/d) = x\n    // ⇔ (cos(pi) + i*sin(pi))^(c/d) * (a/b)^(c/d) = x\n    // ⇔ (cos(c*pi/d) + i*sin(c*pi/d)) * (a/b)^(c/d) = x       # DeMoivre's formula\n    // From which follows that only for c=0 the root is non-complex\n    if (this['s'] < C_ZERO) return null;\n\n    // Now prime factor n and d\n    let N = factorize(this['n']);\n    let D = factorize(this['d']);\n\n    // Exponentiate and take root for n and d individually\n    let n = C_ONE;\n    let d = C_ONE;\n    for (let k in N) {\n      if (k === '1') continue;\n      if (k === '0') {\n        n = C_ZERO;\n        break;\n      }\n      N[k] *= P['n'];\n\n      if (N[k] % P['d'] === C_ZERO) {\n        N[k] /= P['d'];\n      } else return null;\n      n *= BigInt(k) ** N[k];\n    }\n\n    for (let k in D) {\n      if (k === '1') continue;\n      D[k] *= P['n'];\n\n      if (D[k] % P['d'] === C_ZERO) {\n        D[k] /= P['d'];\n      } else return null;\n      d *= BigInt(k) ** D[k];\n    }\n\n    if (P['s'] < C_ZERO) {\n      return newFraction(d, n);\n    }\n    return newFraction(n, d);\n  },\n\n  /**\n   * Calculates the logarithm of a fraction to a given rational base\n   *\n   * Ex: new Fraction(27, 8).log(9, 4) => 3/2\n   */\n  \"log\": function (a, b) {\n\n    parse(a, b);\n\n    if (this['s'] <= C_ZERO || P['s'] <= C_ZERO) return null;\n\n    const allPrimes = Object.create(null);\n\n    const baseFactors = factorize(P['n']);\n    const T1 = factorize(P['d']);\n\n    const numberFactors = factorize(this['n']);\n    const T2 = factorize(this['d']);\n\n    for (const prime in T1) {\n      baseFactors[prime] = (baseFactors[prime] || C_ZERO) - T1[prime];\n    }\n    for (const prime in T2) {\n      numberFactors[prime] = (numberFactors[prime] || C_ZERO) - T2[prime];\n    }\n\n    for (const prime in baseFactors) {\n      if (prime === '1') continue;\n      allPrimes[prime] = true;\n    }\n    for (const prime in numberFactors) {\n      if (prime === '1') continue;\n      allPrimes[prime] = true;\n    }\n\n    let retN = null;\n    let retD = null;\n\n    // Iterate over all unique primes to determine if a consistent ratio exists\n    for (const prime in allPrimes) {\n\n      const baseExponent = baseFactors[prime] || C_ZERO;\n      const numberExponent = numberFactors[prime] || C_ZERO;\n\n      if (baseExponent === C_ZERO) {\n        if (numberExponent !== C_ZERO) {\n          return null; // Logarithm cannot be expressed as a rational number\n        }\n        continue; // Skip this prime since both exponents are zero\n      }\n\n      // Calculate the ratio of exponents for this prime\n      let curN = numberExponent;\n      let curD = baseExponent;\n\n      // Simplify the current ratio\n      const gcdValue = gcd(curN, curD);\n      curN /= gcdValue;\n      curD /= gcdValue;\n\n      // Check if this is the first ratio; otherwise, ensure ratios are consistent\n      if (retN === null && retD === null) {\n        retN = curN;\n        retD = curD;\n      } else if (curN * retD !== retN * curD) {\n        return null; // Ratios do not match, logarithm cannot be rational\n      }\n    }\n\n    return retN !== null && retD !== null\n      ? newFraction(retN, retD)\n      : null;\n  },\n\n  /**\n   * Check if two rational numbers are the same\n   *\n   * Ex: new Fraction(19.6).equals([98, 5]);\n   **/\n  \"equals\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] === P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is less than another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"lt\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] < P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is less than or equal another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"lte\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] <= P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is greater than another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"gt\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] > P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Check if this rational number is greater than or equal another\n   *\n   * Ex: new Fraction(19.6).lt([98, 5]);\n   **/\n  \"gte\": function (a, b) {\n\n    parse(a, b);\n    return this[\"s\"] * this[\"n\"] * P[\"d\"] >= P[\"s\"] * P[\"n\"] * this[\"d\"];\n  },\n\n  /**\n   * Compare two rational numbers\n   * < 0 iff this < that\n   * > 0 iff this > that\n   * = 0 iff this = that\n   *\n   * Ex: new Fraction(19.6).compare([98, 5]);\n   **/\n  \"compare\": function (a, b) {\n\n    parse(a, b);\n    let t = this[\"s\"] * this[\"n\"] * P[\"d\"] - P[\"s\"] * P[\"n\"] * this[\"d\"];\n\n    return (C_ZERO < t) - (t < C_ZERO);\n  },\n\n  /**\n   * Calculates the ceil of a rational number\n   *\n   * Ex: new Fraction('4.(3)').ceil() => (5 / 1)\n   **/\n  \"ceil\": function (places) {\n\n    places = C_TEN ** BigInt(places || 0);\n\n    return newFraction(ifloor(this[\"s\"] * places * this[\"n\"] / this[\"d\"]) +\n      (places * this[\"n\"] % this[\"d\"] > C_ZERO && this[\"s\"] >= C_ZERO ? C_ONE : C_ZERO),\n      places);\n  },\n\n  /**\n   * Calculates the floor of a rational number\n   *\n   * Ex: new Fraction('4.(3)').floor() => (4 / 1)\n   **/\n  \"floor\": function (places) {\n\n    places = C_TEN ** BigInt(places || 0);\n\n    return newFraction(ifloor(this[\"s\"] * places * this[\"n\"] / this[\"d\"]) -\n      (places * this[\"n\"] % this[\"d\"] > C_ZERO && this[\"s\"] < C_ZERO ? C_ONE : C_ZERO),\n      places);\n  },\n\n  /**\n   * Rounds a rational numbers\n   *\n   * Ex: new Fraction('4.(3)').round() => (4 / 1)\n   **/\n  \"round\": function (places) {\n\n    places = C_TEN ** BigInt(places || 0);\n\n    /* Derivation:\n\n    s >= 0:\n      round(n / d) = ifloor(n / d) + (n % d) / d >= 0.5 ? 1 : 0\n                   = ifloor(n / d) + 2(n % d) >= d ? 1 : 0\n    s < 0:\n      round(n / d) =-ifloor(n / d) - (n % d) / d > 0.5 ? 1 : 0\n                   =-ifloor(n / d) - 2(n % d) > d ? 1 : 0\n\n    =>:\n\n    round(s * n / d) = s * ifloor(n / d) + s * (C + 2(n % d) > d ? 1 : 0)\n        where C = s >= 0 ? 1 : 0, to fix the >= for the positve case.\n    */\n\n    return newFraction(ifloor(this[\"s\"] * places * this[\"n\"] / this[\"d\"]) +\n      this[\"s\"] * ((this[\"s\"] >= C_ZERO ? C_ONE : C_ZERO) + C_TWO * (places * this[\"n\"] % this[\"d\"]) > this[\"d\"] ? C_ONE : C_ZERO),\n      places);\n  },\n\n  /**\n    * Rounds a rational number to a multiple of another rational number\n    *\n    * Ex: new Fraction('0.9').roundTo(\"1/8\") => 7 / 8\n    **/\n  \"roundTo\": function (a, b) {\n\n    /*\n    k * x/y ≤ a/b < (k+1) * x/y\n    ⇔ k ≤ a/b / (x/y) < (k+1)\n    ⇔ k = floor(a/b * y/x)\n    ⇔ k = floor((a * y) / (b * x))\n    */\n\n    parse(a, b);\n\n    const n = this['n'] * P['d'];\n    const d = this['d'] * P['n'];\n    const r = n % d;\n\n    // round(n / d) = ifloor(n / d) + 2(n % d) >= d ? 1 : 0\n    let k = ifloor(n / d);\n    if (r + r >= d) {\n      k++;\n    }\n    return newFraction(this['s'] * k * P['n'], P['d']);\n  },\n\n  /**\n   * Check if two rational numbers are divisible\n   *\n   * Ex: new Fraction(19.6).divisible(1.5);\n   */\n  \"divisible\": function (a, b) {\n\n    parse(a, b);\n    if (P['n'] === C_ZERO) return false;\n    return (this['n'] * P['d']) % (P['n'] * this['d']) === C_ZERO;\n  },\n\n  /**\n   * Returns a decimal representation of the fraction\n   *\n   * Ex: new Fraction(\"100.'91823'\").valueOf() => 100.91823918239183\n   **/\n  'valueOf': function () {\n    //if (this['n'] <= MAX_INTEGER && this['d'] <= MAX_INTEGER) {\n    return Number(this['s'] * this['n']) / Number(this['d']);\n    //}\n  },\n\n  /**\n   * Creates a string representation of a fraction with all digits\n   *\n   * Ex: new Fraction(\"100.'91823'\").toString() => \"100.(91823)\"\n   **/\n  'toString': function (dec = 15) {\n\n    let N = this[\"n\"];\n    let D = this[\"d\"];\n\n    let cycLen = cycleLen(N, D); // Cycle length\n    let cycOff = cycleStart(N, D, cycLen); // Cycle start\n\n    let str = this['s'] < C_ZERO ? \"-\" : \"\";\n\n    // Append integer part\n    str += ifloor(N / D);\n\n    N %= D;\n    N *= C_TEN;\n\n    if (N)\n      str += \".\";\n\n    if (cycLen) {\n\n      for (let i = cycOff; i--;) {\n        str += ifloor(N / D);\n        N %= D;\n        N *= C_TEN;\n      }\n      str += \"(\";\n      for (let i = cycLen; i--;) {\n        str += ifloor(N / D);\n        N %= D;\n        N *= C_TEN;\n      }\n      str += \")\";\n    } else {\n      for (let i = dec; N && i--;) {\n        str += ifloor(N / D);\n        N %= D;\n        N *= C_TEN;\n      }\n    }\n    return str;\n  },\n\n  /**\n   * Returns a string-fraction representation of a Fraction object\n   *\n   * Ex: new Fraction(\"1.'3'\").toFraction() => \"4 1/3\"\n   **/\n  'toFraction': function (showMixed = false) {\n\n    let n = this[\"n\"];\n    let d = this[\"d\"];\n    let str = this['s'] < C_ZERO ? \"-\" : \"\";\n\n    if (d === C_ONE) {\n      str += n;\n    } else {\n      const whole = ifloor(n / d);\n      if (showMixed && whole > C_ZERO) {\n        str += whole;\n        str += \" \";\n        n %= d;\n      }\n\n      str += n;\n      str += '/';\n      str += d;\n    }\n    return str;\n  },\n\n  /**\n   * Returns a latex representation of a Fraction object\n   *\n   * Ex: new Fraction(\"1.'3'\").toLatex() => \"\\frac{4}{3}\"\n   **/\n  'toLatex': function (showMixed = false) {\n\n    let n = this[\"n\"];\n    let d = this[\"d\"];\n    let str = this['s'] < C_ZERO ? \"-\" : \"\";\n\n    if (d === C_ONE) {\n      str += n;\n    } else {\n      const whole = ifloor(n / d);\n      if (showMixed && whole > C_ZERO) {\n        str += whole;\n        n %= d;\n      }\n\n      str += \"\\\\frac{\";\n      str += n;\n      str += '}{';\n      str += d;\n      str += '}';\n    }\n    return str;\n  },\n\n  /**\n   * Returns an array of continued fraction elements\n   *\n   * Ex: new Fraction(\"7/8\").toContinued() => [0,1,7]\n   */\n  'toContinued': function () {\n\n    let a = this['n'];\n    let b = this['d'];\n    const res = [];\n\n    while (b) {\n      res.push(ifloor(a / b));\n      const t = a % b;\n      a = b;\n      b = t;\n    }\n    return res;\n  },\n\n  \"simplify\": function (eps = 1e-3) {\n\n    // Continued fractions give best approximations for a max denominator,\n    // generally outperforming mediants in denominator–accuracy trade-offs.\n    // Semiconvergents can further reduce the denominator within tolerance.\n\n    const ieps = BigInt(Math.ceil(1 / eps));\n\n    const thisABS = this['abs']();\n    const cont = thisABS['toContinued']();\n\n    for (let i = 1; i < cont.length; i++) {\n\n      let s = newFraction(cont[i - 1], C_ONE);\n      for (let k = i - 2; k >= 0; k--) {\n        s = s['inverse']()['add'](cont[k]);\n      }\n\n      let t = s['sub'](thisABS);\n      if (t['n'] * ieps < t['d']) { // More robust than Math.abs(t.valueOf()) < eps\n        return s['mul'](this['s']);\n      }\n    }\n    return this;\n  }\n};\n\nObject.defineProperty(Fraction, \"__esModule\", { 'value': true });\nFraction['default'] = Fraction;\nFraction['Fraction'] = Fraction;\nmodule['exports'] = Fraction;\n"],"names":["C_ZERO","C_ONE","C_TWO","C_THREE","C_FIVE","C_TEN","MAX_CYCLE_LEN","P","assign","s","InvalidParameter","ifloor","x","newFraction","d","DivisionByZero","f","Fraction","a","gcd","FACTORSTEPS","factorize","factors","add","p","si","parse","p1","p2","n","NonIntegerParameter","z","A","B","C","D","N","M","ndx","v","w","y","match","modpow","b","e","m","cycleLen","rem","t","cycleStart","len","rem1","rem2","k","allPrimes","baseFactors","T1","numberFactors","T2","prime","retN","retD","baseExponent","numberExponent","curN","curD","gcdValue","places","r","dec","cycLen","cycOff","str","i","showMixed","whole","res","eps","ieps","thisABS","cont","module"],"mappings":"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","x_google_ignoreList":[0,1]}