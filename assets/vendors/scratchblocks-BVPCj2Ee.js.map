{"version":3,"file":"scratchblocks-BVPCj2Ee.js","sources":["../../../node_modules/.pnpm/scratchblocks@3.6.4/node_modules/scratchblocks/build/scratchblocks.min.es.js"],"sourcesContent":["/**\n * scratchblocks v3.6.3\n * https://scratchblocks.github.io/\n * Render scratchblocks code to SVG images.\n *\n * Copyright 2013–2023, Tim Radvan\n * @license MIT\n */\n\n/*\n    When a new extension is added:\n    1) Add it to extensions object\n    2) Add its blocks to commands.js\n    3) Add icon width/height to scratch3/blocks.js IconView\n    4) Add icon to scratch3/style.js\n*/\n\n// Moved extensions: key is scratch3, value is scratch2\nconst movedExtensions = {\n  pen: \"pen\",\n  video: \"sensing\",\n  music: \"sound\",\n};\n\nconst extensions = {\n  ...movedExtensions,\n  tts: \"tts\",\n  translate: \"translate\",\n  microbit: \"microbit\",\n  wedo: \"wedo\",\n  makeymakey: \"makeymakey\",\n  ev3: \"ev3\",\n  boost: \"boost\",\n  gdxfor: \"gdxfor\",\n};\n\n// Alias extensions: unlike movedExtensions, this is handled for both scratch2 and scratch3.\n// Key is alias, value is real extension name\nconst aliasExtensions = {\n  wedo2: \"wedo\",\n  text2speech: \"tts\",\n};\n\nvar scratchCommands = [\n  {\n    id: \"MOTION_MOVESTEPS\",\n    selector: \"forward:\",\n    spec: \"move %1 steps\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_TURNRIGHT\",\n    selector: \"turnRight:\",\n    spec: \"turn @turnRight %1 degrees\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_TURNLEFT\",\n    selector: \"turnLeft:\",\n    spec: \"turn @turnLeft %1 degrees\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_POINTINDIRECTION\",\n    selector: \"heading:\",\n    spec: \"point in direction %1\",\n    inputs: [\"%d.direction\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_POINTTOWARDS\",\n    selector: \"pointTowards:\",\n    spec: \"point towards %1\",\n    inputs: [\"%m.spriteOrMouse\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GOTOXY\",\n    selector: \"gotoX:y:\",\n    spec: \"go to x:%1 y:%2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GOTO\",\n    selector: \"gotoSpriteOrMouse:\",\n    spec: \"go to %1\",\n    inputs: [\"%m.location\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GLIDESECSTOXY\",\n    selector: \"glideSecs:toX:y:elapsed:from:\",\n    spec: \"glide %1 secs to x:%2 y:%3\",\n    inputs: [\"%n\", \"%n\", \"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_GLIDETO\",\n    spec: \"glide %1 secs to %2\",\n    inputs: [\"%n\", \"%m.location\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_CHANGEXBY\",\n    selector: \"changeXposBy:\",\n    spec: \"change x by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_SETX\",\n    selector: \"xpos:\",\n    spec: \"set x to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_CHANGEYBY\",\n    selector: \"changeYposBy:\",\n    spec: \"change y by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_SETY\",\n    selector: \"ypos:\",\n    spec: \"set y to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"MOTION_SETROTATIONSTYLE\",\n    selector: \"setRotationStyle\",\n    spec: \"set rotation style %1\",\n    inputs: [\"%m.rotationStyle\"],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"LOOKS_SAYFORSECS\",\n    selector: \"say:duration:elapsed:from:\",\n    spec: \"say %1 for %2 seconds\",\n    inputs: [\"%s\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SAY\",\n    selector: \"say:\",\n    spec: \"say %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_THINKFORSECS\",\n    selector: \"think:duration:elapsed:from:\",\n    spec: \"think %1 for %2 seconds\",\n    inputs: [\"%s\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_THINK\",\n    selector: \"think:\",\n    spec: \"think %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SHOW\",\n    selector: \"show\",\n    spec: \"show\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_HIDE\",\n    selector: \"hide\",\n    spec: \"hide\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SWITCHCOSTUMETO\",\n    selector: \"lookLike:\",\n    spec: \"switch costume to %1\",\n    inputs: [\"%m.costume\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_NEXTCOSTUME\",\n    selector: \"nextCostume\",\n    spec: \"next costume\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_NEXTBACKDROP_BLOCK\",\n    selector: \"nextScene\",\n    spec: \"next backdrop\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SWITCHBACKDROPTO\",\n    selector: \"startScene\",\n    spec: \"switch backdrop to %1\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SWITCHBACKDROPTOANDWAIT\",\n    selector: \"startSceneAndWait\",\n    spec: \"switch backdrop to %1 and wait\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_CHANGEEFFECTBY\",\n    selector: \"changeGraphicEffect:by:\",\n    spec: \"change %1 effect by %2\",\n    inputs: [\"%m.effect\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SETEFFECTTO\",\n    selector: \"setGraphicEffect:to:\",\n    spec: \"set %1 effect to %2\",\n    inputs: [\"%m.effect\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_CLEARGRAPHICEFFECTS\",\n    selector: \"filterReset\",\n    spec: \"clear graphic effects\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_CHANGESIZEBY\",\n    selector: \"changeSizeBy:\",\n    spec: \"change size by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_SETSIZETO\",\n    selector: \"setSizeTo:\",\n    spec: \"set size to %1%\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    selector: \"comeToFront\",\n    spec: \"go to front\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_GOTOFRONTBACK\",\n    spec: \"go to %1 layer\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    selector: \"goBackByLayers:\",\n    spec: \"go back %1 layers\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_GOFORWARDBACKWARDLAYERS\",\n    spec: \"go %1 %2 layers\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"looks\",\n  },\n  {\n    id: \"SOUND_PLAY\",\n    selector: \"playSound:\",\n    spec: \"start sound %1\",\n    inputs: [\"%m.sound\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_CHANGEEFFECTBY\",\n    spec: \"change %1 effect by %2\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_SETEFFECTO\", // sic\n    spec: \"set %1 effect to %2\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_CLEAREFFECTS\",\n    spec: \"clear sound effects\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_PLAYUNTILDONE\",\n    selector: \"doPlaySoundAndWait\",\n    spec: \"play sound %1 until done\",\n    inputs: [\"%m.sound\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_STOPALLSOUNDS\",\n    selector: \"stopAllSounds\",\n    spec: \"stop all sounds\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.playDrumForBeats\",\n    selector: \"playDrum\",\n    spec: \"play drum %1 for %2 beats\",\n    inputs: [\"%d.drum\", \"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"music.restForBeats\",\n    selector: \"rest:elapsed:from:\",\n    spec: \"rest for %1 beats\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"music.playNoteForBeats\",\n    selector: \"noteOn:duration:elapsed:from:\",\n    spec: \"play note %1 for %2 beats\",\n    inputs: [\"%d.note\", \"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"music.setInstrument\",\n    selector: \"instrument:\",\n    spec: \"set instrument to %1\",\n    inputs: [\"%d.instrument\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"SOUND_CHANGEVOLUMEBY\",\n    selector: \"changeVolumeBy:\",\n    spec: \"change volume by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"SOUND_SETVOLUMETO\",\n    selector: \"setVolumeTo:\",\n    spec: \"set volume to %1%\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.changeTempo\",\n    selector: \"changeTempoBy:\",\n    spec: \"change tempo by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    selector: \"setTempoTo:\",\n    spec: \"set tempo to %1 bpm\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.setTempo\",\n    selector: \"setTempoTo:\",\n    spec: \"set tempo to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"music\",\n  },\n  {\n    id: \"pen.clear\",\n    selector: \"clearPenTrails\",\n    spec: \"erase all\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.stamp\",\n    selector: \"stampCostume\",\n    spec: \"stamp\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.penDown\",\n    selector: \"putPenDown\",\n    spec: \"pen down\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.penUp\",\n    selector: \"putPenUp\",\n    spec: \"pen up\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setColor\",\n    selector: \"penColor:\",\n    spec: \"set pen color to %1\",\n    inputs: [\"%c\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeHue\",\n    selector: \"changePenHueBy:\",\n    spec: \"change pen color by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setColorParam\",\n    spec: \"set pen %1 to %2\",\n    inputs: [\"%m.color\", \"%c\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeColorParam\",\n    spec: \"change pen %1 by %2\",\n    inputs: [\"%m.color\", \"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setHue\",\n    selector: \"setPenHueTo:\",\n    spec: \"set pen color to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeShade\",\n    selector: \"changePenShadeBy:\",\n    spec: \"change pen shade by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setShade\",\n    selector: \"setPenShadeTo:\",\n    spec: \"set pen shade to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.changeSize\",\n    selector: \"changePenSizeBy:\",\n    spec: \"change pen size by %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"pen.setSize\",\n    selector: \"penSize:\",\n    spec: \"set pen size to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"pen\",\n  },\n  {\n    id: \"EVENT_WHENFLAGCLICKED\",\n    selector: \"whenGreenFlag\",\n    spec: \"when @greenFlag clicked\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENKEYPRESSED\",\n    selector: \"whenKeyPressed\",\n    spec: \"when %1 key pressed\",\n    inputs: [\"%m.key\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENTHISSPRITECLICKED\",\n    selector: \"whenClicked\",\n    spec: \"when this sprite clicked\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENSTAGECLICKED\",\n    spec: \"when stage clicked\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENBACKDROPSWITCHESTO\",\n    selector: \"whenSceneStarts\",\n    spec: \"when backdrop switches to %1\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENGREATERTHAN\",\n    selector: \"whenSensorGreaterThan\",\n    spec: \"when %1 > %2\",\n    inputs: [\"%m.triggerSensor\", \"%n\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_WHENBROADCASTRECEIVED\",\n    selector: \"whenIReceive\",\n    spec: \"when I receive %1\",\n    inputs: [\"%m.broadcast\"],\n    shape: \"hat\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_BROADCAST\",\n    selector: \"broadcast:\",\n    spec: \"broadcast %1\",\n    inputs: [\"%m.broadcast\"],\n    shape: \"stack\",\n    category: \"events\",\n  },\n  {\n    id: \"EVENT_BROADCASTANDWAIT\",\n    selector: \"doBroadcastAndWait\",\n    spec: \"broadcast %1 and wait\",\n    inputs: [\"%m.broadcast\"],\n    shape: \"stack\",\n    category: \"events\",\n  },\n  {\n    id: \"CONTROL_WAIT\",\n    selector: \"wait:elapsed:from:\",\n    spec: \"wait %1 seconds\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_REPEAT\",\n    selector: \"doRepeat\",\n    spec: \"repeat %1\",\n    inputs: [\"%n\"],\n    shape: \"c-block\",\n    category: \"control\",\n    hasLoopArrow: true,\n  },\n  {\n    id: \"CONTROL_FOREVER\",\n    selector: \"doForever\",\n    spec: \"forever\",\n    inputs: [],\n    shape: \"c-block cap\",\n    category: \"control\",\n    hasLoopArrow: true,\n  },\n  {\n    id: \"CONTROL_IF\",\n    selector: \"doIf\",\n    spec: \"if %1 then\",\n    inputs: [\"%b\"],\n    shape: \"c-block\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_WAITUNTIL\",\n    selector: \"doWaitUntil\",\n    spec: \"wait until %1\",\n    inputs: [\"%b\"],\n    shape: \"stack\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_REPEATUNTIL\",\n    selector: \"doUntil\",\n    spec: \"repeat until %1\",\n    inputs: [\"%b\"],\n    shape: \"c-block\",\n    category: \"control\",\n    hasLoopArrow: true,\n  },\n  {\n    id: \"CONTROL_STOP\",\n    selector: \"stopScripts\",\n    spec: \"stop %1\",\n    inputs: [\"%m.stop\"],\n    shape: \"cap\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_STARTASCLONE\",\n    selector: \"whenCloned\",\n    spec: \"when I start as a clone\",\n    inputs: [],\n    shape: \"hat\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_CREATECLONEOF\",\n    selector: \"createCloneOf\",\n    spec: \"create clone of %1\",\n    inputs: [\"%m.spriteOnly\"],\n    shape: \"stack\",\n    category: \"control\",\n  },\n  {\n    id: \"CONTROL_DELETETHISCLONE\",\n    selector: \"deleteClone\",\n    spec: \"delete this clone\",\n    inputs: [],\n    shape: \"cap\",\n    category: \"control\",\n  },\n  {\n    id: \"SENSING_ASKANDWAIT\",\n    selector: \"doAsk\",\n    spec: \"ask %1 and wait\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"sensing\",\n  },\n  {\n    id: \"videoSensing.videoToggle\",\n    selector: \"setVideoState\",\n    spec: \"turn video %1\",\n    inputs: [\"%m.videoState\"],\n    shape: \"stack\",\n    category: \"video\",\n  },\n  {\n    id: \"videoSensing.setVideoTransparency\",\n    selector: \"setVideoTransparency\",\n    spec: \"set video transparency to %1%\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"video\",\n  },\n  {\n    id: \"videoSensing.whenMotionGreaterThan\",\n    spec: \"when video motion > %1\",\n    inputs: [\"%n\"],\n    shape: \"hat\",\n    category: \"video\",\n  },\n  {\n    id: \"SENSING_RESETTIMER\",\n    selector: \"timerReset\",\n    spec: \"reset timer\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"sensing\",\n  },\n  {\n    id: \"DATA_SETVARIABLETO\",\n    selector: \"setVar:to:\",\n    spec: \"set %1 to %2\",\n    inputs: [\"%m.var\", \"%s\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_CHANGEVARIABLEBY\",\n    selector: \"changeVar:by:\",\n    spec: \"change %1 by %2\",\n    inputs: [\"%m.var\", \"%n\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_SHOWVARIABLE\",\n    selector: \"showVariable:\",\n    spec: \"show variable %1\",\n    inputs: [\"%m.var\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_HIDEVARIABLE\",\n    selector: \"hideVariable:\",\n    spec: \"hide variable %1\",\n    inputs: [\"%m.var\"],\n    shape: \"stack\",\n    category: \"variables\",\n  },\n  {\n    id: \"DATA_ADDTOLIST\",\n    selector: \"append:toList:\",\n    spec: \"add %1 to %2\",\n    inputs: [\"%s\", \"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_DELETEOFLIST\",\n    selector: \"deleteLine:ofList:\",\n    spec: \"delete %1 of %2\",\n    inputs: [\"%d.listDeleteItem\", \"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_DELETEALLOFLIST\",\n    spec: \"delete all of %1\",\n    inputs: [\"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"MOTION_IFONEDGEBOUNCE\",\n    selector: \"bounceOffEdge\",\n    spec: \"if on edge, bounce\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"motion\",\n  },\n  {\n    id: \"DATA_INSERTATLIST\",\n    selector: \"insert:at:ofList:\",\n    spec: \"insert %1 at %2 of %3\",\n    inputs: [\"%s\", \"%d.listItem\", \"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_REPLACEITEMOFLIST\",\n    selector: \"setLine:ofList:to:\",\n    spec: \"replace item %1 of %2 with %3\",\n    inputs: [\"%d.listItem\", \"%m.list\", \"%s\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_SHOWLIST\",\n    selector: \"showList:\",\n    spec: \"show list %1\",\n    inputs: [\"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_HIDELIST\",\n    selector: \"hideList:\",\n    spec: \"hide list %1\",\n    inputs: [\"%m.list\"],\n    shape: \"stack\",\n    category: \"list\",\n  },\n  {\n    id: \"SENSING_OF_XPOSITION\",\n    selector: \"xpos\",\n    spec: \"x position\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"motion\",\n  },\n  {\n    id: \"SENSING_OF_YPOSITION\",\n    selector: \"ypos\",\n    spec: \"y position\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"motion\",\n  },\n  {\n    id: \"SENSING_OF_DIRECTION\",\n    selector: \"heading\",\n    spec: \"direction\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"motion\",\n  },\n  {\n    id: \"SENSING_OF_COSTUMENUMBER\",\n    selector: \"costumeIndex\",\n    spec: \"costume #\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_COSTUMENUMBERNAME\",\n    selector: \"LOOKS_COSTUMENUMBERNAME\",\n    spec: \"costume %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SENSING_OF_SIZE\",\n    selector: \"scale\",\n    spec: \"size\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SENSING_OF_BACKDROPNAME\",\n    selector: \"sceneName\",\n    spec: \"backdrop name\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"LOOKS_BACKDROPNUMBERNAME\",\n    spec: \"backdrop %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SENSING_OF_BACKDROPNUMBER\",\n    selector: \"backgroundIndex\",\n    spec: \"backdrop #\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"looks\",\n  },\n  {\n    id: \"SOUND_VOLUME\",\n    selector: \"volume\",\n    spec: \"volume\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sound\",\n  },\n  {\n    id: \"music.getTempo\",\n    selector: \"tempo\",\n    spec: \"tempo\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"music\",\n  },\n  {\n    id: \"SENSING_TOUCHINGOBJECT\",\n    selector: \"touching:\",\n    spec: \"touching %1?\",\n    inputs: [\"%m.touching\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_TOUCHINGCOLOR\",\n    selector: \"touchingColor:\",\n    spec: \"touching color %1?\",\n    inputs: [\"%c\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_COLORISTOUCHINGCOLOR\",\n    selector: \"color:sees:\",\n    spec: \"color %1 is touching %2?\",\n    inputs: [\"%c\", \"%c\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_DISTANCETO\",\n    selector: \"distanceTo:\",\n    spec: \"distance to %1\",\n    inputs: [\"%m.spriteOrMouse\"],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_ANSWER\",\n    selector: \"answer\",\n    spec: \"answer\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_KEYPRESSED\",\n    selector: \"keyPressed:\",\n    spec: \"key %1 pressed?\",\n    inputs: [\"%m.key\"],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_MOUSEDOWN\",\n    selector: \"mousePressed\",\n    spec: \"mouse down?\",\n    inputs: [],\n    shape: \"boolean\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_MOUSEX\",\n    selector: \"mouseX\",\n    spec: \"mouse x\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_MOUSEY\",\n    selector: \"mouseY\",\n    spec: \"mouse y\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_SETDRAGMODE\",\n    spec: \"set drag mode %1\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_LOUDNESS\",\n    selector: \"soundLevel\",\n    spec: \"loudness\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"videoSensing.videoOn\",\n    selector: \"senseVideoMotion\",\n    spec: \"video %1 on %2\",\n    inputs: [\"%m.videoMotionType\", \"%m.stageOrThis\"],\n    shape: \"reporter\",\n    category: \"video\",\n  },\n  {\n    id: \"SENSING_TIMER\",\n    selector: \"timer\",\n    spec: \"timer\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_OF\",\n    selector: \"getAttribute:of:\",\n    spec: \"%1 of %2\",\n    inputs: [\"%m.attribute\", \"%m.spriteOrStage\"],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_CURRENT\",\n    selector: \"timeAndDate\",\n    spec: \"current %1\",\n    inputs: [\"%m.timeAndDate\"],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_DAYSSINCE2000\",\n    selector: \"timestamp\",\n    spec: \"days since 2000\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"SENSING_USERNAME\",\n    selector: \"getUserName\",\n    spec: \"username\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"sensing\",\n  },\n  {\n    id: \"OPERATORS_ADD\",\n    selector: \"+\",\n    spec: \"%1 + %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_SUBTRACT\",\n    selector: \"-\",\n    spec: \"%1 - %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_MULTIPLY\",\n    selector: \"*\",\n    spec: \"%1 * %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_DIVIDE\",\n    selector: \"/\",\n    spec: \"%1 / %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_RANDOM\",\n    selector: \"randomFrom:to:\",\n    spec: \"pick random %1 to %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_LT\",\n    selector: \"<\",\n    spec: \"%1 < %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_EQUALS\",\n    selector: \"=\",\n    spec: \"%1 = %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_GT\",\n    selector: \">\",\n    spec: \"%1 > %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_AND\",\n    selector: \"&\",\n    spec: \"%1 and %2\",\n    inputs: [\"%b\", \"%b\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_OR\",\n    selector: \"|\",\n    spec: \"%1 or %2\",\n    inputs: [\"%b\", \"%b\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_NOT\",\n    selector: \"not\",\n    spec: \"not %1\",\n    inputs: [\"%b\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_JOIN\",\n    selector: \"concatenate:with:\",\n    spec: \"join %1 %2\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_LETTEROF\",\n    selector: \"letter:of:\",\n    spec: \"letter %1 of %2\",\n    inputs: [\"%n\", \"%s\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_LENGTH\",\n    selector: \"stringLength:\",\n    spec: \"length of %1\",\n    inputs: [\"%s\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_MOD\",\n    selector: \"%\",\n    spec: \"%1 mod %2\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_ROUND\",\n    selector: \"rounded\",\n    spec: \"round %1\",\n    inputs: [\"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_MATHOP\",\n    selector: \"computeFunction:of:\",\n    spec: \"%1 of %2\",\n    inputs: [\"%m.mathOp\", \"%n\"],\n    shape: \"reporter\",\n    category: \"operators\",\n  },\n  {\n    id: \"OPERATORS_CONTAINS\",\n    spec: \"%1 contains %2?\",\n    inputs: [\"%s\", \"%s\"],\n    shape: \"boolean\",\n    category: \"operators\",\n  },\n  {\n    id: \"DATA_ITEMOFLIST\",\n    selector: \"getLine:ofList:\",\n    spec: \"item %1 of %2\",\n    inputs: [\"%d.listItem\", \"%m.list\"],\n    shape: \"reporter\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_ITEMNUMOFLIST\",\n    spec: \"item # of %1 in %2\",\n    inputs: [\"%s\", \"%m.list\"],\n    shape: \"reporter\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_LENGTHOFLIST\",\n    selector: \"lineCountOfList:\",\n    spec: \"length of %1\",\n    inputs: [\"%m.list\"],\n    shape: \"reporter\",\n    category: \"list\",\n  },\n  {\n    id: \"DATA_LISTCONTAINSITEM\",\n    selector: \"list:contains:\",\n    spec: \"%1 contains %2?\",\n    inputs: [\"%m.list\", \"%s\"],\n    shape: \"boolean\",\n    category: \"list\",\n  },\n  {\n    id: \"CONTROL_ELSE\",\n    spec: \"else\",\n    inputs: [],\n    shape: \"celse\",\n    category: \"control\",\n  },\n  {\n    id: \"scratchblocks:end\",\n    spec: \"end\",\n    inputs: [],\n    shape: \"cend\",\n    category: \"control\",\n  },\n  {\n    id: \"scratchblocks:ellipsis\",\n    spec: \". . .\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"grey\",\n  },\n  {\n    id: \"scratchblocks:addInput\",\n    spec: \"%1 @addInput\",\n    inputs: [\"%n\"],\n    shape: \"ring\",\n    category: \"grey\",\n  },\n  {\n    id: \"SENSING_USERID\",\n    spec: \"user id\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"doIf\",\n    spec: \"if %1\",\n    inputs: [\"%b\"],\n    shape: \"c-block\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"doForeverIf\",\n    spec: \"forever if %1\",\n    inputs: [\"%b\"],\n    shape: \"c-block cap\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"doReturn\",\n    spec: \"stop script\",\n    inputs: [],\n    shape: \"cap\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"stopAll\",\n    spec: \"stop all\",\n    inputs: [],\n    shape: \"cap\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"lookLike:\",\n    spec: \"switch to costume %1\",\n    inputs: [\"%m.costume\"],\n    shape: \"stack\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"nextScene\",\n    spec: \"next background\",\n    inputs: [],\n    shape: \"stack\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"startScene\",\n    spec: \"switch to background %1\",\n    inputs: [\"%m.backdrop\"],\n    shape: \"stack\",\n    category: \"obsolete\",\n  },\n  {\n    selector: \"backgroundIndex\",\n    spec: \"background #\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"obsolete\",\n  },\n  {\n    id: \"SENSING_LOUD\",\n    selector: \"isLoud\",\n    spec: \"loud?\",\n    inputs: [],\n    shape: \"boolean\",\n    category: \"obsolete\",\n  },\n  // TODO define\n  {\n    id: \"text2speech.speakAndWaitBlock\",\n    spec: \"speak %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"tts\",\n  },\n  {\n    id: \"text2speech.setVoiceBlock\",\n    spec: \"set voice to %1\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"tts\",\n  },\n  {\n    id: \"text2speech.setLanguageBlock\",\n    spec: \"set language to %1\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"tts\",\n  },\n  {\n    id: \"translate.translateBlock\",\n    spec: \"translate %1 to %2\",\n    inputs: [\"%s\", \"%m\"],\n    shape: \"reporter\",\n    category: \"translate\",\n  },\n  {\n    id: \"translate.viewerLanguage\",\n    spec: \"language\",\n    shape: \"reporter\",\n    category: \"translate\",\n  },\n  {\n    id: \"makeymakey.whenKeyPressed\",\n    spec: \"when %1 key pressed\",\n    inputs: [\"%m\"], // this is not %m.key\n    shape: \"hat\",\n    category: \"makeymakey\",\n  },\n  {\n    id: \"makeymakey.whenKeysPressedInOrder\",\n    spec: \"when %1 pressed in order\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"makeymakey\",\n  },\n  {\n    id: \"microbit.whenButtonPressed\",\n    spec: \"when %1 button pressed\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.isButtonPressed\",\n    spec: \"%1 button pressed?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.whenGesture\",\n    spec: \"when %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.displaySymbol\",\n    spec: \"display %1\",\n    inputs: [\"%m\"], // TODO add matrix support\n    shape: \"stack\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.displayText\",\n    spec: \"display text %1\",\n    inputs: [\"%s\"],\n    shape: \"stack\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.clearDisplay\",\n    spec: \"clear display\",\n    shape: \"stack\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.isTilted\",\n    spec: \"tilted %1?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.tiltAngle\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"microbit\",\n  },\n  {\n    id: \"microbit.whenPinConnected\",\n    spec: \"when pin %1 connected\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"microbit\",\n  },\n  {\n    id: \"ev3.motorTurnClockwise\",\n    spec: \"motor %1 turn this way for %2 seconds\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.motorTurnCounterClockwise\",\n    spec: \"motor %1 turn that way for %2 seconds\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.motorSetPower\",\n    spec: \"motor %1 set power %2%\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.getMotorPosition\",\n    spec: \"motor %1 position\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.whenButtonPressed\",\n    spec: \"when button %1 pressed\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.whenDistanceLessThan\",\n    spec: \"when distance < %1\",\n    inputs: [\"%n\"],\n    shape: \"hat\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.whenBrightnessLessThan\",\n    spec: \"when brightness < %1\",\n    inputs: [\"%n\"],\n    shape: \"hat\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.buttonPressed\",\n    spec: \"button %1 pressed?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.getDistance\",\n    spec: \"distance\",\n    shape: \"reporter\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.getBrightness\",\n    spec: \"brightness\",\n    shape: \"reporter\",\n    category: \"ev3\",\n  },\n  {\n    id: \"ev3.beepNote\",\n    spec: \"beep note %1 for %2 secs\",\n    inputs: [\"%d.note\", \"%n\"], // we can use %d.note here\n    shape: \"stack\",\n    category: \"ev3\",\n  },\n  {\n    id: \"wedo2.motorOn\",\n    spec: \"turn %1 on\",\n    inputs: [\"%m.motor\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.motorOff\",\n    spec: \"turn %1 off\",\n    inputs: [\"%m.motor\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.startMotorPower\",\n    spec: \"set %1 power to %2\",\n    inputs: [\"%m.motor\", \"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.setMotorDirection\",\n    spec: \"set %1 direction to %2\",\n    inputs: [\"%m.motor2\", \"%m.motorDirection\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.whenDistance\",\n    spec: \"when distance %1 %2\",\n    inputs: [\"%m.lessMore\", \"%n\"],\n    shape: \"hat\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.getDistance\",\n    spec: \"distance\",\n    inputs: [],\n    shape: \"reporter\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.motorOnFor\",\n    spec: \"turn %1 on for %2 seconds\",\n    inputs: [\"%m.motor\", \"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.setLightHue\",\n    spec: \"set light color to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.playNoteFor\",\n    spec: \"play note %1 for %2 seconds\",\n    inputs: [\"%n\", \"%n\"],\n    shape: \"stack\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m.xxx\"],\n    shape: \"hat\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.isTilted\",\n    spec: \"tilted %1?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"wedo\",\n  },\n  {\n    id: \"wedo2.getTiltAngle\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m.xxx\"],\n    shape: \"reporter\",\n    category: \"wedo\",\n  },\n  {\n    id: \"gdxfor.whenGesture\",\n    spec: \"when %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.whenForcePushedOrPulled\",\n    spec: \"when force sensor %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getForce\",\n    spec: \"force\",\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.isTilted\",\n    spec: \"tilted %1?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getTilt\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.isFreeFalling\",\n    spec: \"falling?\",\n    shape: \"boolean\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getSpin\",\n    spec: \"spin speed %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"gdxfor.getAcceleration\",\n    spec: \"acceleration %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"gdxfor\",\n  },\n  {\n    id: \"boost.motorOnFor\",\n    spec: \"turn motor %1 for %2 seconds\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.motorOnForRotation\",\n    spec: \"turn motor %1 for %2 rotations\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.motorOn\",\n    spec: \"turn motor %1 on\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.motorOff\",\n    spec: \"turn motor %1 off\",\n    inputs: [\"%m\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.setMotorPower\",\n    spec: \"set motor %1 speed to %2%\",\n    inputs: [\"%m\", \"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.setMotorDirection\",\n    spec: \"set motor %1 direction %2\",\n    inputs: [\"%m\", \"%m\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.getMotorPosition\",\n    spec: \"motor %1 position\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.whenColor\",\n    spec: \"when %1 brick seen\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.seeingColor\",\n    spec: \"seeing %1 brick?\",\n    inputs: [\"%m\"],\n    shape: \"boolean\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.whenTilted\",\n    spec: \"when tilted %1\",\n    inputs: [\"%m\"],\n    shape: \"hat\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.getTiltAngle\",\n    spec: \"tilt angle %1\",\n    inputs: [\"%m\"],\n    shape: \"reporter\",\n    category: \"boost\",\n  },\n  {\n    id: \"boost.setLightHue\",\n    spec: \"set light color to %1\",\n    inputs: [\"%n\"],\n    shape: \"stack\",\n    category: \"boost\",\n  },\n];\n\n// List of classes we're allowed to override.\n\nconst overrideCategories = [\n  \"motion\",\n  \"looks\",\n  \"sound\",\n  \"variables\",\n  \"list\",\n  \"events\",\n  \"control\",\n  \"sensing\",\n  \"operators\",\n  \"custom\",\n  \"custom-arg\",\n  \"extension\",\n  \"grey\",\n  \"obsolete\",\n  ...Object.keys(extensions),\n  ...Object.keys(aliasExtensions),\n];\n\nconst overrideShapes = [\n  \"hat\",\n  \"cap\",\n  \"stack\",\n  \"boolean\",\n  \"reporter\",\n  \"ring\",\n  \"cat\",\n];\n\n// languages that should be displayed right to left\nconst rtlLanguages = [\"ar\", \"ckb\", \"fa\", \"he\"];\n\nconst inputNumberPat = /%([0-9]+)/;\nconst inputPat = /(%[a-zA-Z0-9](?:\\.[a-zA-Z0-9]+)?)/;\nconst inputPatGlobal = new RegExp(inputPat.source, \"g\");\nconst iconPat = /(@[a-zA-Z]+)/;\nconst splitPat = new RegExp(`${inputPat.source}|${iconPat.source}| +`, \"g\");\n\nconst hexColorPat = /^#(?:[0-9a-fA-F]{3}){1,2}?$/;\n\nfunction parseInputNumber(part) {\n  const m = inputNumberPat.exec(part);\n  return m ? +m[1] : 0\n}\n\n// used for procDefs\nfunction parseSpec(spec) {\n  const parts = spec.split(splitPat).filter(x => x);\n  const inputs = parts.filter(p => inputPat.test(p));\n  return {\n    spec: spec,\n    parts: parts,\n    inputs: inputs,\n    hash: hashSpec(spec),\n  }\n}\n\nfunction hashSpec(spec) {\n  return minifyHash(spec.replace(inputPatGlobal, \" _ \"))\n}\n\nfunction minifyHash(hash) {\n  return hash\n    .replace(/_/g, \" _ \")\n    .replace(/ +/g, \" \")\n    .replace(/[,%?:]/g, \"\")\n    .replace(/ß/g, \"ss\")\n    .replace(/ä/g, \"a\")\n    .replace(/ö/g, \"o\")\n    .replace(/ü/g, \"u\")\n    .replace(\". . .\", \"...\")\n    .replace(/^…$/, \"...\")\n    .trim()\n    .toLowerCase()\n}\n\nconst blocksById = {};\nconst allBlocks = scratchCommands.map(def => {\n  if (!def.id) {\n    if (!def.selector) {\n      throw new Error(`Missing ID: ${def.spec}`)\n    }\n    def.id = `sb2:${def.selector}`;\n  }\n  if (!def.spec) {\n    throw new Error(`Missing spec: ${def.id}`)\n  }\n\n  const info = {\n    id: def.id, // Used for Scratch 3 translations\n    spec: def.spec, // Used for Scratch 2 translations\n    parts: def.spec.split(splitPat).filter(x => x),\n    selector: def.selector || `sb3:${def.id}`, // Used for JSON marshalling\n    inputs: def.inputs == null ? [] : def.inputs,\n    shape: def.shape,\n    category: def.category,\n    hasLoopArrow: !!def.hasLoopArrow,\n  };\n  if (blocksById[info.id]) {\n    throw new Error(`Duplicate ID: ${info.id}`)\n  }\n  blocksById[info.id] = info;\n  return info\n});\n\nconst unicodeIcons = {\n  \"@greenFlag\": \"⚑\",\n  \"@turnRight\": \"↻\",\n  \"@turnLeft\": \"↺\",\n  \"@addInput\": \"▸\",\n  \"@delInput\": \"◂\",\n};\n\nconst allLanguages = {};\nfunction loadLanguage(code, language) {\n  const blocksByHash = (language.blocksByHash = {});\n\n  Object.keys(language.commands).forEach(blockId => {\n    const nativeSpec = language.commands[blockId];\n    const block = blocksById[blockId];\n\n    const nativeHash = hashSpec(nativeSpec);\n    if (!blocksByHash[nativeHash]) {\n      blocksByHash[nativeHash] = [];\n    }\n    blocksByHash[nativeHash].push(block);\n\n    // fallback image replacement, for languages without aliases\n    const m = iconPat.exec(block.spec);\n    if (m) {\n      const image = m[0];\n      const hash = nativeHash.replace(hashSpec(image), unicodeIcons[image]);\n      if (!blocksByHash[hash]) {\n        blocksByHash[hash] = [];\n      }\n      blocksByHash[hash].push(block);\n    }\n  });\n\n  language.nativeAliases = {};\n  Object.keys(language.aliases).forEach(alias => {\n    const blockId = language.aliases[alias];\n    const block = blocksById[blockId];\n    if (block === undefined) {\n      throw new Error(`Invalid alias '${blockId}'`)\n    }\n    const aliasHash = hashSpec(alias);\n    if (!blocksByHash[aliasHash]) {\n      blocksByHash[aliasHash] = [];\n    }\n    blocksByHash[aliasHash].push(block);\n\n    if (!language.nativeAliases[blockId]) {\n      language.nativeAliases[blockId] = [];\n    }\n    language.nativeAliases[blockId].push(alias);\n  });\n\n  // Some English blocks were renamed between Scratch 2 and Scratch 3. Wire them\n  // into language.blocksByHash\n  Object.keys(language.renamedBlocks || {}).forEach(alt => {\n    const id = language.renamedBlocks[alt];\n    if (!blocksById[id]) {\n      throw new Error(`Unknown ID: ${id}`)\n    }\n    const block = blocksById[id];\n    const hash = hashSpec(alt);\n    if (!english.blocksByHash[hash]) {\n      english.blocksByHash[hash] = [];\n    }\n    english.blocksByHash[hash].push(block);\n  });\n\n  language.nativeDropdowns = {};\n  Object.keys(language.dropdowns).forEach(name => {\n    const nativeName = language.dropdowns[name];\n    language.nativeDropdowns[nativeName] = name;\n  });\n\n  language.code = code;\n  allLanguages[code] = language;\n}\nfunction loadLanguages(languages) {\n  Object.keys(languages).forEach(code => loadLanguage(code, languages[code]));\n}\n\nconst english = {\n  aliases: {\n    \"turn ccw %1 degrees\": \"MOTION_TURNLEFT\",\n    \"turn left %1 degrees\": \"MOTION_TURNLEFT\",\n    \"turn cw %1 degrees\": \"MOTION_TURNRIGHT\",\n    \"turn right %1 degrees\": \"MOTION_TURNRIGHT\",\n    \"when flag clicked\": \"EVENT_WHENFLAGCLICKED\",\n    \"when gf clicked\": \"EVENT_WHENFLAGCLICKED\",\n    \"when green flag clicked\": \"EVENT_WHENFLAGCLICKED\",\n  },\n\n  renamedBlocks: {\n    \"say %1 for %2 secs\": \"LOOKS_SAYFORSECS\",\n    \"think %1 for %2 secs\": \"LOOKS_THINKFORSECS\",\n    \"play sound %1\": \"SOUND_PLAY\",\n    \"wait %1 secs\": \"CONTROL_WAIT\",\n    clear: \"pen.clear\",\n  },\n\n  definePrefix: [\"define\"],\n  defineSuffix: [],\n\n  // For ignoring the lt sign in the \"when distance < _\" block\n  ignorelt: [\"when distance\"],\n\n  // Valid arguments to \"of\" dropdown, for resolving ambiguous situations\n  math: [\n    \"abs\",\n    \"floor\",\n    \"ceiling\",\n    \"sqrt\",\n    \"sin\",\n    \"cos\",\n    \"tan\",\n    \"asin\",\n    \"acos\",\n    \"atan\",\n    \"ln\",\n    \"log\",\n    \"e ^\",\n    \"10 ^\",\n  ],\n\n  // Valid arguments to \"sound effect\" dropdown, for resolving ambiguous situations\n  soundEffects: [\"pitch\", \"pan left/right\"],\n\n  // Valid arguments to \"microbit when\" dropdown\n  microbitWhen: [\"moved\", \"shaken\", \"jumped\"],\n\n  // For detecting the \"stop\" cap / stack block\n  osis: [\"other scripts in sprite\", \"other scripts in stage\"],\n\n  dropdowns: {},\n\n  commands: {},\n};\nallBlocks.forEach(info => {\n  english.commands[info.id] = info.spec;\n});\nloadLanguages({\n  en: english,\n});\n\n/*****************************************************************************/\n\nfunction registerCheck(id, func) {\n  if (!blocksById[id]) {\n    throw new Error(`Unknown ID: ${id}`)\n  }\n  blocksById[id].accepts = func;\n}\n\nfunction specialCase(id, func) {\n  if (!blocksById[id]) {\n    throw new Error(`Unknown ID: ${id}`)\n  }\n  blocksById[id].specialCase = func;\n}\n\nfunction disambig(id1, id2, test) {\n  registerCheck(id1, (_, children, lang) => {\n    return test(children, lang)\n  });\n  registerCheck(id2, (_, children, lang) => {\n    return !test(children, lang)\n  });\n}\n\ndisambig(\"OPERATORS_MATHOP\", \"SENSING_OF\", (children, lang) => {\n  // Operators if math function, otherwise sensing \"attribute of\" block\n  const first = children[0];\n  if (!first.isInput) {\n    return\n  }\n  const name = first.value;\n  return lang.math.includes(name)\n});\n\ndisambig(\"SOUND_CHANGEEFFECTBY\", \"LOOKS_CHANGEEFFECTBY\", (children, lang) => {\n  // Sound if sound effect, otherwise default to graphic effect\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      const name = child.value;\n      for (const effect of lang.soundEffects) {\n        if (minifyHash(effect) === minifyHash(name)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n});\n\ndisambig(\"SOUND_SETEFFECTO\", \"LOOKS_SETEFFECTTO\", (children, lang) => {\n  // Sound if sound effect, otherwise default to graphic effect\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      const name = child.value;\n      for (const effect of lang.soundEffects) {\n        if (minifyHash(effect) === minifyHash(name)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n});\n\ndisambig(\"DATA_LENGTHOFLIST\", \"OPERATORS_LENGTH\", (children, _lang) => {\n  // List block if dropdown, otherwise operators\n  const last = children[children.length - 1];\n  if (!last.isInput) {\n    return\n  }\n  return last.shape === \"dropdown\"\n});\n\ndisambig(\"DATA_LISTCONTAINSITEM\", \"OPERATORS_CONTAINS\", (children, _lang) => {\n  // List block if dropdown, otherwise operators\n  const first = children[0];\n  if (!first.isInput) {\n    return\n  }\n  return first.shape === \"dropdown\"\n});\n\ndisambig(\"pen.setColor\", \"pen.setHue\", (children, _lang) => {\n  // Color block if color input, otherwise numeric\n  const last = children[children.length - 1];\n  // If variable, assume color input, since the RGBA hack is common.\n  // TODO fix Scratch :P\n  return (last.isInput && last.isColor) || last.isBlock\n});\n\ndisambig(\"microbit.whenGesture\", \"gdxfor.whenGesture\", (children, lang) => {\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      const name = child.value;\n      // Yes, \"when shaken\" gdxfor block exists. But microbit is more common.\n      for (const effect of lang.microbitWhen) {\n        if (minifyHash(effect) === minifyHash(name)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n});\n\n// This block does not need disambiguation in English;\n// however, many other languages do require that.\ndisambig(\"ev3.buttonPressed\", \"microbit.isButtonPressed\", (children, _lang) => {\n  for (const child of children) {\n    if (child.shape === \"dropdown\") {\n      // EV3 \"button pressed\" block uses numeric identifier\n      // and does not support \"any\".\n      switch (minifyHash(child.value)) {\n        case \"1\":\n        case \"2\":\n        case \"3\":\n        case \"4\":\n          return true\n      }\n    }\n  }\n  return false\n});\n\nspecialCase(\"CONTROL_STOP\", (_, children, lang) => {\n  // Cap block unless argument is \"other scripts in sprite\"\n  const last = children[children.length - 1];\n  if (!last.isInput) {\n    return\n  }\n  const value = last.value;\n  if (lang.osis.includes(value)) {\n    return { ...blocksById.CONTROL_STOP, shape: \"stack\" }\n  }\n});\n\nfunction lookupHash(hash, info, children, languages) {\n  for (const lang of languages) {\n    if (Object.prototype.hasOwnProperty.call(lang.blocksByHash, hash)) {\n      const collisions = lang.blocksByHash[hash];\n      for (let block of collisions) {\n        if (\n          info.shape === \"reporter\" &&\n          block.shape !== \"reporter\" &&\n          block.shape !== \"ring\"\n        ) {\n          continue\n        }\n        if (info.shape === \"boolean\" && block.shape !== \"boolean\") {\n          continue\n        }\n        if (collisions.length > 1) {\n          // Only check in case of collision;\n          // perform \"disambiguation\"\n          if (block.accepts && !block.accepts(info, children, lang)) {\n            continue\n          }\n        }\n        if (block.specialCase) {\n          block = block.specialCase(info, children, lang) || block;\n        }\n        return { type: block, lang: lang }\n      }\n    }\n  }\n}\n\nfunction lookupDropdown(name, languages) {\n  for (const lang of languages) {\n    if (Object.prototype.hasOwnProperty.call(lang.nativeDropdowns, name)) {\n      return lang.nativeDropdowns[name]\n    }\n  }\n}\n\nfunction applyOverrides(info, overrides) {\n  for (const name of overrides) {\n    if (hexColorPat.test(name)) {\n      info.color = name;\n      info.category = \"\";\n      info.categoryIsDefault = false;\n    } else if (overrideCategories.includes(name)) {\n      info.category = name;\n      info.categoryIsDefault = false;\n    } else if (overrideShapes.includes(name)) {\n      info.shape = name;\n    } else if (name === \"loop\") {\n      info.hasLoopArrow = true;\n    } else if (name === \"+\" || name === \"-\") {\n      info.diff = name;\n    }\n  }\n}\n\nfunction blockName(block) {\n  const words = [];\n  for (const child of block.children) {\n    if (!child.isLabel) {\n      return\n    }\n    words.push(child.value);\n  }\n  return words.join(\" \")\n}\n\nfunction assert$2(bool, message) {\n  if (!bool) {\n    throw new Error(`Assertion failed! ${message || \"\"}`)\n  }\n}\n\nfunction indent(text) {\n  return text\n    .split(\"\\n\")\n    .map(line => {\n      return `  ${line}`\n    })\n    .join(\"\\n\")\n}\n\nclass Label {\n  constructor(value, cls) {\n    this.value = value;\n    this.cls = cls || \"\";\n    this.el = null;\n    this.height = 12;\n    this.metrics = null;\n    this.x = 0;\n  }\n  get isLabel() {\n    return true\n  }\n\n  stringify() {\n    if (this.value === \"<\" || this.value === \">\") {\n      return this.value\n    }\n    return this.value.replace(/([<>[\\](){}])/g, \"\\\\$1\")\n  }\n}\n\nclass Icon {\n  constructor(name) {\n    this.name = name;\n    this.isArrow = name === \"loopArrow\";\n\n    assert$2(Icon.icons[name], `no info for icon ${name}`);\n  }\n  get isIcon() {\n    return true\n  }\n\n  static get icons() {\n    return {\n      greenFlag: true,\n      stopSign: true,\n      turnLeft: true,\n      turnRight: true,\n      loopArrow: true,\n      addInput: true,\n      delInput: true,\n      list: true,\n    }\n  }\n\n  stringify() {\n    return unicodeIcons[`@${this.name}`] || \"\"\n  }\n}\n\nclass Input {\n  constructor(shape, value, menu) {\n    this.shape = shape;\n    this.value = value;\n    this.menu = menu || null;\n\n    this.isRound = shape === \"number\" || shape === \"number-dropdown\";\n    this.isBoolean = shape === \"boolean\";\n    this.isStack = shape === \"stack\";\n    this.isInset =\n      shape === \"boolean\" || shape === \"stack\" || shape === \"reporter\";\n    this.isColor = shape === \"color\";\n    this.hasArrow = shape === \"dropdown\" || shape === \"number-dropdown\";\n    this.isDarker =\n      shape === \"boolean\" || shape === \"stack\" || shape === \"dropdown\";\n    this.isSquare =\n      shape === \"string\" || shape === \"color\" || shape === \"dropdown\";\n\n    this.hasLabel = !(this.isColor || this.isInset);\n    this.label = this.hasLabel\n      ? new Label(value, `literal-${this.shape}`)\n      : null;\n    this.x = 0;\n  }\n  get isInput() {\n    return true\n  }\n\n  stringify() {\n    if (this.isColor) {\n      assert$2(this.value[0] === \"#\");\n      return `[${this.value}]`\n    }\n    // Order sensitive; see #439\n    let text = (this.value ? String(this.value) : \"\")\n      .replace(/([\\]\\\\])/g, \"\\\\$1\")\n      .replace(/ v$/, \" \\\\v\");\n    if (this.hasArrow) {\n      text += \" v\";\n    }\n    return this.isRound\n      ? `(${text})`\n      : this.isSquare\n      ? `[${text}]`\n      : this.isBoolean\n      ? \"<>\"\n      : this.isStack\n      ? \"{}\"\n      : text\n  }\n\n  translate(_lang) {\n    if (this.hasArrow) {\n      const value = this.menu || this.value;\n      this.value = value; // TODO translate dropdown value\n      this.label = new Label(this.value, `literal-${this.shape}`);\n    }\n  }\n}\n\nclass Block {\n  constructor(info, children, comment) {\n    assert$2(info);\n    this.info = { ...info };\n    this.children = children;\n    this.comment = comment || null;\n    this.diff = null;\n\n    const shape = this.info.shape;\n    this.isHat = shape === \"hat\" || shape === \"cat\" || shape === \"define-hat\";\n    this.hasPuzzle =\n      shape === \"stack\" ||\n      shape === \"hat\" ||\n      shape === \"cat\" ||\n      shape === \"c-block\";\n    this.isFinal = /cap/.test(shape);\n    this.isCommand = shape === \"stack\" || shape === \"cap\" || /block/.test(shape);\n    this.isOutline = shape === \"outline\";\n    this.isReporter = shape === \"reporter\";\n    this.isBoolean = shape === \"boolean\";\n\n    this.isRing = shape === \"ring\";\n    this.hasScript = /block/.test(shape);\n    this.isElse = shape === \"celse\";\n    this.isEnd = shape === \"cend\";\n  }\n  get isBlock() {\n    return true\n  }\n\n  stringify(extras) {\n    let firstInput = null;\n    let checkAlias = false;\n    let text = this.children\n      .map(child => {\n        if (child.isIcon) {\n          checkAlias = true;\n        }\n        if (!firstInput && !(child.isLabel || child.isIcon)) {\n          firstInput = child;\n        }\n        return child.isScript\n          ? `\\n${indent(child.stringify())}\\n`\n          : child.stringify().trim() + \" \"\n      })\n      .join(\"\")\n      .trim();\n\n    const lang = this.info.language;\n    if (checkAlias && lang && this.info.selector) {\n      const aliases = lang.nativeAliases[this.info.id];\n      if (aliases && aliases.length) {\n        let alias = aliases[0];\n        // TODO make translate() not in-place, and use that\n        if (inputPat.test(alias) && firstInput) {\n          alias = alias.replace(inputPat, firstInput.stringify());\n        }\n        return alias\n      }\n    }\n\n    let overrides = extras || \"\";\n    if (\n      this.info.categoryIsDefault === false ||\n      (this.info.category === \"custom-arg\" &&\n        (this.isReporter || this.isBoolean)) ||\n      (this.info.category === \"custom\" && this.info.shape === \"stack\")\n    ) {\n      if (overrides) {\n        overrides += \" \";\n      }\n      overrides += this.info.category;\n    }\n    if (overrides) {\n      text += ` :: ${overrides}`;\n    }\n    return this.hasScript\n      ? text + \"\\nend\"\n      : this.info.shape === \"reporter\"\n      ? `(${text})`\n      : this.info.shape === \"boolean\"\n      ? `<${text}>`\n      : text\n  }\n\n  translate(lang, isShallow) {\n    if (!lang) {\n      throw new Error(\"Missing language\")\n    }\n\n    const id = this.info.id;\n    if (!id) {\n      return\n    }\n\n    if (id === \"PROCEDURES_DEFINITION\") {\n      // Find the first 'outline' child (there should be exactly one).\n      const outline = this.children.find(child => child.isOutline);\n\n      this.children = [];\n      for (const word of lang.definePrefix) {\n        this.children.push(new Label(word));\n      }\n      this.children.push(outline);\n      for (const word of lang.defineSuffix) {\n        this.children.push(new Label(word));\n      }\n      return\n    }\n\n    const oldSpec = this.info.language.commands[id];\n\n    const nativeSpec = lang.commands[id];\n    if (!nativeSpec) {\n      return\n    }\n    const nativeInfo = parseSpec(nativeSpec);\n\n    const rawArgs = this.children.filter(\n      child => !child.isLabel && !child.isIcon,\n    );\n\n    if (!isShallow) {\n      rawArgs.forEach(child => child.translate(lang));\n    }\n\n    // Work out indexes of existing children\n    const oldParts = parseSpec(oldSpec).parts;\n    const oldInputOrder = oldParts\n      .map(part => parseInputNumber(part))\n      .filter(x => x);\n\n    let highestNumber = 0;\n    const args = oldInputOrder.map(number => {\n      highestNumber = Math.max(highestNumber, number);\n      return rawArgs[number - 1]\n    });\n    const remainingArgs = rawArgs.slice(highestNumber);\n\n    // Get new children by index\n    this.children = nativeInfo.parts\n      .map(part => {\n        part = part.trim();\n        if (!part) {\n          return\n        }\n        const number = parseInputNumber(part);\n        if (number) {\n          return args[number - 1]\n        }\n        return iconPat.test(part) ? new Icon(part.slice(1)) : new Label(part)\n      })\n      .filter(x => x);\n\n    // Push any remaining children, so we pick up C block bodies\n    remainingArgs.forEach((arg, index) => {\n      if (index === 1 && this.info.id === \"CONTROL_IF\") {\n        this.children.push(new Label(lang.commands.CONTROL_ELSE));\n      }\n      this.children.push(arg);\n    });\n\n    this.info.language = lang;\n    this.info.isRTL = rtlLanguages.includes(lang.code);\n    this.info.categoryIsDefault = true;\n  }\n}\n\nclass Comment {\n  constructor(value, hasBlock) {\n    this.label = new Label(value, \"comment-label\");\n    this.width = null;\n    this.hasBlock = hasBlock;\n  }\n  get isComment() {\n    return true\n  }\n\n  stringify() {\n    return `// ${this.label.value}`\n  }\n}\n\nclass Glow {\n  constructor(child) {\n    assert$2(child);\n    this.child = child;\n    if (child.isBlock) {\n      this.shape = child.info.shape;\n      this.info = child.info;\n    } else {\n      this.shape = \"stack\";\n    }\n  }\n  get isGlow() {\n    return true\n  }\n\n  stringify() {\n    if (this.child.isBlock) {\n      return this.child.stringify(\"+\")\n    }\n    const lines = this.child.stringify().split(\"\\n\");\n    return lines.map(line => `+ ${line}`).join(\"\\n\")\n  }\n\n  translate(lang) {\n    this.child.translate(lang);\n  }\n}\n\nclass Script {\n  constructor(blocks) {\n    this.blocks = blocks;\n    this.isEmpty = !blocks.length;\n    this.isFinal = !this.isEmpty && blocks[blocks.length - 1].isFinal;\n  }\n  get isScript() {\n    return true\n  }\n\n  stringify() {\n    return this.blocks\n      .map(block => {\n        let line = block.stringify();\n        if (block.comment) {\n          line += ` ${block.comment.stringify()}`;\n        }\n        return line\n      })\n      .join(\"\\n\")\n  }\n\n  translate(lang) {\n    this.blocks.forEach(block => block.translate(lang));\n  }\n}\n\nclass Document {\n  constructor(scripts) {\n    this.scripts = scripts;\n  }\n\n  stringify() {\n    return this.scripts.map(script => script.stringify()).join(\"\\n\\n\")\n  }\n\n  translate(lang) {\n    this.scripts.forEach(script => script.translate(lang));\n  }\n}\n\nfunction assert$1(bool, message) {\n  if (!bool) {\n    throw new Error(`Assertion failed! ${message || \"\"}`)\n  }\n}\n\nfunction paintBlock(info, children, languages) {\n  let overrides = [];\n  if (Array.isArray(children[children.length - 1])) {\n    overrides = children.pop();\n  }\n\n  // build hash\n  const words = [];\n  for (const child of children) {\n    if (child.isLabel) {\n      words.push(child.value);\n    } else if (child.isIcon) {\n      words.push(`@${child.name}`);\n    } else {\n      words.push(\"_\");\n    }\n  }\n  const string = words.join(\" \");\n  const shortHash = (info.hash = minifyHash(string));\n\n  // paint\n  const o = lookupHash(shortHash, info, children, languages);\n  let lang;\n  let type;\n  if (o) {\n    lang = o.lang;\n    type = o.type;\n    info.language = lang;\n    info.isRTL = rtlLanguages.includes(lang.code);\n\n    if (\n      type.shape === \"ring\" ? info.shape === \"reporter\" : info.shape === \"stack\"\n    ) {\n      info.shape = type.shape;\n    }\n    info.category = type.category;\n    info.categoryIsDefault = true;\n    // store selector, used for translation among other things\n    if (type.selector) {\n      info.selector = type.selector;\n    }\n    if (type.id) {\n      info.id = type.id;\n    }\n    info.hasLoopArrow = type.hasLoopArrow;\n\n    // ellipsis block\n    if (type.spec === \". . .\") {\n      children = [new Label(\". . .\")];\n    }\n  } else {\n    // The block was not recognised, so we check if it's a define block.\n    //\n    // We check for built-in blocks first to avoid ambiguity, e.g. the\n    // `defina o tamanho como (100) %` block in pt_BR.\n    for (const lang of languages) {\n      if (!isDefineBlock(children, lang)) {\n        continue\n      }\n\n      // Setting the shape also triggers some logic in recogniseStuff.\n      info.shape = \"define-hat\";\n      info.category = \"custom\";\n\n      // Move the children of the define block into an \"outline\", transforming\n      // () and [] shapes as we go.\n      const outlineChildren = children\n        .splice(\n          lang.definePrefix.length,\n          children.length - lang.defineSuffix.length,\n        )\n        .map(child => {\n          if (child.isInput && child.isBoolean) {\n            // Convert empty boolean slot to empty boolean argument.\n            child = paintBlock(\n              {\n                shape: \"boolean\",\n                argument: \"boolean\",\n                category: \"custom-arg\",\n              },\n              [new Label(\"\")],\n              languages,\n            );\n          } else if (\n            child.isInput &&\n            (child.shape === \"string\" || child.shape === \"number\")\n          ) {\n            // Convert string inputs to string arguments, number inputs to number arguments.\n            const labels = child.value.split(/ +/g).map(word => new Label(word));\n            child = paintBlock(\n              {\n                shape: \"reporter\",\n                argument: child.shape === \"string\" ? \"string\" : \"number\",\n                category: \"custom-arg\",\n              },\n              labels,\n              languages,\n            );\n          } else if (child.isReporter || child.isBoolean) {\n            // Convert variables to number arguments, predicates to boolean arguments.\n            if (child.info.categoryIsDefault) {\n              child.info.category = \"custom-arg\";\n              child.info.argument = child.isBoolean ? \"boolean\" : \"number\";\n            }\n          }\n          return child\n        });\n\n      const outlineInfo = {\n        shape: \"outline\",\n        category: \"custom\",\n        categoryIsDefault: true,\n        hasLoopArrow: false,\n      };\n      const outline = new Block(outlineInfo, outlineChildren);\n      children.splice(lang.definePrefix.length, 0, outline);\n      break\n    }\n  }\n\n  // Apply overrides.\n  applyOverrides(info, overrides);\n\n  // loop arrows\n  if (info.hasLoopArrow) {\n    children.push(new Icon(\"loopArrow\"));\n  }\n\n  const block = new Block(info, children);\n\n  // image replacement\n  if (type && iconPat.test(type.spec)) {\n    block.translate(lang, true);\n  }\n\n  // diffs\n  if (info.diff === \"+\") {\n    return new Glow(block)\n  }\n  block.diff = info.diff;\n\n  return block\n}\n\nfunction isDefineBlock(children, lang) {\n  if (children.length < lang.definePrefix.length) {\n    return false\n  }\n  if (children.length < lang.defineSuffix.length) {\n    return false\n  }\n\n  for (let i = 0; i < lang.definePrefix.length; i++) {\n    const defineWord = lang.definePrefix[i];\n    const child = children[i];\n    if (!child.isLabel || minifyHash(child.value) !== minifyHash(defineWord)) {\n      return false\n    }\n  }\n\n  for (let i = 1; i <= lang.defineSuffix.length; i++) {\n    const defineWord = lang.defineSuffix[lang.defineSuffix.length - i];\n    const child = children[children.length - i];\n    if (!child.isLabel || minifyHash(child.value) !== minifyHash(defineWord)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction parseLines(code, languages) {\n  let tok = code[0];\n  let index = 0;\n  function next() {\n    tok = code[++index];\n  }\n  function peek() {\n    return code[index + 1]\n  }\n  function peekNonWs() {\n    for (let i = index + 1; i < code.length; i++) {\n      if (code[i] !== \" \") {\n        return code[i]\n      }\n    }\n  }\n  let sawNL;\n\n  let define = [];\n  languages.map(lang => {\n    define = define.concat(lang.define);\n  });\n\n  function makeBlock(shape, children) {\n    const hasInputs = children.filter(x => !x.isLabel).length;\n\n    const info = {\n      shape: shape,\n      category: shape === \"reporter\" && !hasInputs ? \"variables\" : \"obsolete\",\n      categoryIsDefault: true,\n      hasLoopArrow: false,\n    };\n\n    return paintBlock(info, children, languages)\n  }\n\n  function makeMenu(shape, value) {\n    const menu = lookupDropdown(value, languages) || value;\n    return new Input(shape, value, menu)\n  }\n\n  function pParts(end) {\n    const children = [];\n    let label;\n    while (tok && tok !== \"\\n\") {\n      // So that comparison operators `<()<()>` and `<()>()>` don't need the\n      // central <> escaped, we interpret it as a label if particular\n      // conditions are met.\n      if (\n        (tok === \"<\" || tok === \">\") &&\n        end === \">\" && // We're parsing a predicate.\n        children.length === 1 && // There's exactly one AST node behind us.\n        !children[children.length - 1].isLabel // That node is not a label.\n      ) {\n        const c = peekNonWs();\n        // The next token starts some kind of input.\n        if (c === \"[\" || c === \"(\" || c === \"<\" || c === \"{\") {\n          label = null;\n          children.push(new Label(tok));\n          next();\n          continue\n        }\n      }\n      if (tok === end) {\n        break\n      }\n      if (tok === \"/\" && peek() === \"/\" && !end) {\n        break\n      }\n\n      switch (tok) {\n        case \"[\":\n          label = null;\n          children.push(pString());\n          break\n        case \"(\":\n          label = null;\n          children.push(pReporter());\n          break\n        case \"<\":\n          label = null;\n          children.push(pPredicate());\n          break\n        case \"{\":\n          label = null;\n          children.push(pEmbedded());\n          break\n        case \" \":\n        case \"\\t\":\n          next(); // Skip over whitespace.\n          label = null;\n          break\n        case \"◂\":\n        case \"▸\":\n          children.push(pIcon());\n          label = null;\n          break\n        case \"@\": {\n          next();\n          let name = \"\";\n          while (tok && /[a-zA-Z]/.test(tok)) {\n            name += tok;\n            next();\n          }\n          if (name === \"cloud\") {\n            children.push(new Label(\"☁\"));\n          } else {\n            children.push(\n              Object.prototype.hasOwnProperty.call(Icon.icons, name)\n                ? new Icon(name)\n                : new Label(`@${name}`),\n            );\n          }\n          label = null;\n          break\n        }\n        case \"\\\\\":\n          next(); // escape character\n        // fallthrough\n        case \":\":\n          if (tok === \":\" && peek() === \":\") {\n            children.push(pOverrides(end));\n            return children\n          }\n        // fallthrough\n        default:\n          if (!label) {\n            children.push((label = new Label(\"\")));\n          }\n          label.value += tok;\n          next();\n      }\n    }\n    return children\n  }\n\n  function pString() {\n    next(); // '['\n    let s = \"\";\n    let escapeV = false;\n    while (tok && tok !== \"]\" && tok !== \"\\n\") {\n      if (tok === \"\\\\\") {\n        next();\n        if (tok === \"v\") {\n          escapeV = true;\n        }\n        if (!tok) {\n          break\n        }\n      } else {\n        escapeV = false;\n      }\n      s += tok;\n      next();\n    }\n    if (tok === \"]\") {\n      next();\n    }\n    if (hexColorPat.test(s)) {\n      return new Input(\"color\", s)\n    }\n    return !escapeV && / v$/.test(s)\n      ? makeMenu(\"dropdown\", s.slice(0, s.length - 2))\n      : new Input(\"string\", s)\n  }\n\n  function pBlock(end) {\n    const children = pParts(end);\n    if (tok && tok === \"\\n\") {\n      sawNL = true;\n      next();\n    }\n    if (children.length === 0) {\n      return\n    }\n\n    // standalone reporters\n    if (children.length === 1) {\n      const child = children[0];\n      if (\n        child.isBlock &&\n        (child.isReporter || child.isBoolean || child.isRing)\n      ) {\n        return child\n      }\n    }\n\n    return makeBlock(\"stack\", children)\n  }\n\n  function pReporter() {\n    next(); // '('\n\n    // empty number-dropdown\n    if (tok === \" \") {\n      next();\n      if (tok === \"v\" && peek() === \")\") {\n        next();\n        next();\n        return new Input(\"number-dropdown\", \"\")\n      }\n    }\n\n    const children = pParts(\")\");\n    if (tok && tok === \")\") {\n      next();\n    }\n\n    // empty numbers\n    if (children.length === 0) {\n      return new Input(\"number\", \"\")\n    }\n\n    // number\n    if (children.length === 1 && children[0].isLabel) {\n      const value = children[0].value;\n      if (/^[0-9e.-]*$/.test(value)) {\n        return new Input(\"number\", value)\n      }\n      if (hexColorPat.test(value)) {\n        return new Input(\"color\", value)\n      }\n    }\n\n    // number-dropdown\n    if (children.length > 1 && children.every(child => child.isLabel)) {\n      const last = children[children.length - 1];\n      if (last.value === \"v\") {\n        children.pop();\n        const value = children.map(l => l.value).join(\" \");\n        return makeMenu(\"number-dropdown\", value)\n      }\n    }\n\n    const block = makeBlock(\"reporter\", children);\n\n    // rings\n    if (block.info && block.info.shape === \"ring\") {\n      const first = block.children[0];\n      if (\n        first &&\n        first.isInput &&\n        first.shape === \"number\" &&\n        first.value === \"\"\n      ) {\n        block.children[0] = new Input(\"reporter\");\n      } else if (\n        (first && first.isScript && first.isEmpty) ||\n        (first && first.isBlock && !first.children.length)\n      ) {\n        block.children[0] = new Input(\"stack\");\n      }\n    }\n\n    return block\n  }\n\n  function pPredicate() {\n    next(); // '<'\n    const children = pParts(\">\");\n    if (tok && tok === \">\") {\n      next();\n    }\n    if (children.length === 0) {\n      return new Input(\"boolean\")\n    }\n    return makeBlock(\"boolean\", children)\n  }\n\n  function pEmbedded() {\n    next(); // '{'\n\n    sawNL = false;\n    const f = function () {\n      while (tok && tok !== \"}\") {\n        const block = pBlock(\"}\");\n        if (block) {\n          return block\n        }\n      }\n    };\n    const scripts = parseScripts(f);\n    let blocks = [];\n    scripts.forEach(script => {\n      blocks = blocks.concat(script.blocks);\n    });\n\n    if (tok === \"}\") {\n      next();\n    }\n    if (!sawNL) {\n      assert$1(blocks.length <= 1);\n      return blocks.length ? blocks[0] : makeBlock(\"stack\", [])\n    }\n    return new Script(blocks)\n  }\n\n  function pIcon() {\n    const c = tok;\n    next();\n    switch (c) {\n      case \"▸\":\n        return new Icon(\"addInput\")\n      case \"◂\":\n        return new Icon(\"delInput\")\n      default:\n        return\n    }\n  }\n\n  function pOverrides(end) {\n    next();\n    next();\n    const overrides = [];\n    let override = \"\";\n    while (tok && tok !== \"\\n\" && tok !== end) {\n      if (tok === \" \") {\n        if (override) {\n          overrides.push(override);\n          override = \"\";\n        }\n      } else if (tok === \"/\" && peek() === \"/\") {\n        break\n      } else {\n        override += tok;\n      }\n      next();\n    }\n    if (override) {\n      overrides.push(override);\n    }\n    return overrides\n  }\n\n  function pComment(end) {\n    next();\n    next();\n    let comment = \"\";\n    while (tok && tok !== \"\\n\" && tok !== end) {\n      comment += tok;\n      next();\n    }\n    if (tok && tok === \"\\n\") {\n      next();\n    }\n    return new Comment(comment, true)\n  }\n\n  function pLine() {\n    let diff;\n    if (tok === \"+\" || tok === \"-\") {\n      diff = tok;\n      next();\n    }\n    const block = pBlock();\n    if (tok === \"/\" && peek() === \"/\") {\n      const comment = pComment();\n      comment.hasBlock = block && block.children.length;\n      if (!comment.hasBlock) {\n        return comment\n      }\n      block.comment = comment;\n    }\n    if (block) {\n      block.diff = diff;\n    }\n    return block\n  }\n\n  return () => {\n    if (!tok) {\n      return undefined\n    }\n    const line = pLine();\n    return line || \"NL\"\n  }\n}\n\n/* * */\n\nfunction parseScripts(getLine) {\n  let line = getLine();\n  function next() {\n    line = getLine();\n  }\n\n  function pFile() {\n    while (line === \"NL\") {\n      next();\n    }\n    const scripts = [];\n    while (line) {\n      let blocks = [];\n      while (line && line !== \"NL\") {\n        let b = pLine();\n        const isGlow = b.diff === \"+\";\n        if (isGlow) {\n          b.diff = null;\n        }\n\n        if (b.isElse || b.isEnd) {\n          b = new Block({ ...b.info, shape: \"stack\" }, b.children);\n        }\n\n        if (isGlow) {\n          const last = blocks[blocks.length - 1];\n          let children = [];\n          if (last && last.isGlow) {\n            blocks.pop();\n            children = last.child.isScript ? last.child.blocks : [last.child];\n          }\n          children.push(b);\n          blocks.push(new Glow(new Script(children)));\n        } else if (b.isHat) {\n          if (blocks.length) {\n            scripts.push(new Script(blocks));\n          }\n          blocks = [b];\n        } else if (b.isFinal) {\n          blocks.push(b);\n          break\n        } else if (b.isCommand) {\n          blocks.push(b);\n        } else {\n          // reporter or predicate\n          if (blocks.length) {\n            scripts.push(new Script(blocks));\n          }\n          scripts.push(new Script([b]));\n          blocks = [];\n          break\n        }\n      }\n      if (blocks.length) {\n        scripts.push(new Script(blocks));\n      }\n      while (line === \"NL\") {\n        next();\n      }\n    }\n    return scripts\n  }\n\n  function pLine() {\n    const b = line;\n    next();\n\n    if (b.hasScript) {\n      while (true) {\n        const blocks = pMouth();\n        b.children.push(new Script(blocks));\n        if (line && line.isElse) {\n          for (const child of line.children) {\n            b.children.push(child);\n          }\n          next();\n          continue\n        }\n        if (line && line.isEnd) {\n          next();\n        }\n        break\n      }\n    }\n    return b\n  }\n\n  function pMouth() {\n    const blocks = [];\n    while (line) {\n      if (line === \"NL\") {\n        next();\n        continue\n      }\n      if (!line.isCommand) {\n        return blocks\n      }\n\n      const b = pLine();\n      const isGlow = b.diff === \"+\";\n      if (isGlow) {\n        b.diff = null;\n      }\n\n      if (isGlow) {\n        const last = blocks[blocks.length - 1];\n        let children = [];\n        if (last && last.isGlow) {\n          blocks.pop();\n          children = last.child.isScript ? last.child.blocks : [last.child];\n        }\n        children.push(b);\n        blocks.push(new Glow(new Script(children)));\n      } else {\n        blocks.push(b);\n      }\n    }\n    return blocks\n  }\n\n  return pFile()\n}\n\n/* * */\n\nfunction eachBlock(x, cb) {\n  if (x.isScript) {\n    x.blocks = x.blocks.map(block => {\n      eachBlock(block, cb);\n      return cb(block) || block\n    });\n  } else if (x.isBlock) {\n    x.children = x.children.map(child => {\n      eachBlock(child, cb);\n      return cb(child) || child\n    });\n  } else if (x.isGlow) {\n    eachBlock(x.child, cb);\n  }\n}\n\nconst listBlocks = {\n  \"append:toList:\": 1,\n  \"deleteLine:ofList:\": 1,\n  \"insert:at:ofList:\": 2,\n  \"setLine:ofList:to:\": 1,\n  \"showList:\": 0,\n  \"hideList:\": 0,\n};\n\nfunction recogniseStuff(scripts) {\n  const customBlocksByHash = Object.create(null);\n  const listNames = new Set();\n\n  scripts.forEach(script => {\n    const customArgs = new Set();\n\n    eachBlock(script, block => {\n      if (!block.isBlock) {\n        return\n      }\n\n      // custom blocks\n      if (block.info.shape === \"define-hat\") {\n        // There should be exactly one `outline` child, added in paintBlock.\n        const outline = block.children.find(child => child.isOutline);\n        if (!outline) {\n          return\n        }\n\n        const names = [];\n        const parts = [];\n        for (const child of outline.children) {\n          if (child.isLabel) {\n            parts.push(child.value);\n          } else if (child.isBlock) {\n            if (!child.info.argument) {\n              return\n            }\n            parts.push(\n              {\n                number: \"%n\",\n                string: \"%s\",\n                boolean: \"%b\",\n              }[child.info.argument],\n            );\n\n            const name = blockName(child);\n            names.push(name);\n            customArgs.add(name);\n          }\n        }\n        const spec = parts.join(\" \");\n        const hash = hashSpec(spec);\n\n        const info = {\n          spec: spec,\n          names: names,\n        };\n        if (!customBlocksByHash[hash]) {\n          customBlocksByHash[hash] = info;\n        }\n        block.info.id = \"PROCEDURES_DEFINITION\";\n        block.info.selector = \"procDef\";\n        block.info.call = info.spec;\n        block.info.names = info.names;\n        block.info.category = \"custom\";\n\n        // custom arguments\n      } else if (\n        block.info.categoryIsDefault &&\n        (block.isReporter || block.isBoolean)\n      ) {\n        const name = blockName(block);\n        if (customArgs.has(name)) {\n          block.info.category = \"custom-arg\";\n          block.info.categoryIsDefault = false;\n          block.info.selector = \"getParam\";\n        }\n\n        // list names\n      } else if (\n        Object.prototype.hasOwnProperty.call(listBlocks, block.info.selector)\n      ) {\n        const argIndex = listBlocks[block.info.selector];\n        const inputs = block.children.filter(child => !child.isLabel);\n        const input = inputs[argIndex];\n        if (input && input.isInput) {\n          listNames.add(input.value);\n        }\n      }\n    });\n  });\n\n  scripts.forEach(script => {\n    eachBlock(script, block => {\n      if (\n        block.info &&\n        block.info.categoryIsDefault &&\n        block.info.category === \"obsolete\"\n      ) {\n        // custom blocks\n        const info = customBlocksByHash[block.info.hash];\n        if (info) {\n          block.info.selector = \"call\";\n          block.info.call = info.spec;\n          block.info.names = info.names;\n          block.info.category = \"custom\";\n        }\n        return\n      }\n\n      let name, info;\n      if (\n        block.isReporter &&\n        block.info.category === \"variables\" &&\n        block.info.categoryIsDefault\n      ) {\n        // We set the selector here for some reason\n        block.info.selector = \"readVariable\";\n        name = blockName(block);\n        info = block.info;\n      }\n      if (!name) {\n        return\n      }\n\n      // list reporters\n      if (listNames.has(name)) {\n        info.category = \"list\";\n        info.categoryIsDefault = false;\n        info.selector = \"contentsOfList:\";\n      }\n\n      return // already done\n    });\n  });\n}\n\nfunction parse(code, options) {\n  options = {\n    inline: false,\n    languages: [\"en\"],\n    ...options,\n  };\n\n  if (options.dialect) {\n    throw new Error(\"Option 'dialect' no longer supported\")\n  }\n\n  code = code.replace(/&lt;/g, \"<\");\n  code = code.replace(/&gt;/g, \">\");\n  if (options.inline) {\n    code = code.replace(/\\n/g, \" \");\n  }\n\n  const languages = options.languages.map(code => {\n    const lang = allLanguages[code];\n    if (!lang) {\n      throw new Error(`Unknown language: '${code}'`)\n    }\n    return lang\n  });\n\n  /* * */\n\n  const f = parseLines(code, languages);\n  const scripts = parseScripts(f);\n  recogniseStuff(scripts);\n  return new Document(scripts)\n}\n\n/* for constructing SVGs */\n\nfunction assert(bool, message) {\n  if (!bool) {\n    throw new Error(`Assertion failed! ${message || \"\"}`)\n  }\n}\n\n// set by SVG.init\nlet document$1;\nlet xml$1;\n\nconst directProps$1 = {\n  textContent: true,\n};\n\nlet SVG$1 = class SVG {\n  static init(window) {\n    document$1 = window.document;\n    const DOMParser = window.DOMParser;\n    xml$1 = new DOMParser().parseFromString(\"<xml></xml>\", \"application/xml\");\n    SVG.XMLSerializer = window.XMLSerializer;\n  }\n\n  static makeCanvas() {\n    return document$1.createElement(\"canvas\")\n  }\n\n  static cdata(content) {\n    return xml$1.createCDATASection(content)\n  }\n\n  static el(name, props) {\n    const el = document$1.createElementNS(\"http://www.w3.org/2000/svg\", name);\n    return SVG.setProps(el, props)\n  }\n\n  static setProps(el, props) {\n    for (const key in props) {\n      const value = String(props[key]);\n      if (directProps$1[key]) {\n        el[key] = value;\n      } else if (\n        props[key] != null &&\n        Object.prototype.hasOwnProperty.call(props, key)\n      ) {\n        el.setAttributeNS(null, key, value);\n      }\n    }\n    return el\n  }\n\n  static withChildren(el, children) {\n    for (const child of children) {\n      el.appendChild(child);\n    }\n    return el\n  }\n\n  static group(children) {\n    return SVG.withChildren(SVG.el(\"g\"), children)\n  }\n\n  static newSVG(width, height, scale) {\n    return SVG.el(\"svg\", {\n      version: \"1.1\",\n      width: width * scale,\n      height: height * scale,\n      viewBox: `0 0 ${width} ${height}`,\n    })\n  }\n\n  static polygon(props) {\n    return SVG.el(\"polygon\", { ...props, points: props.points.join(\" \") })\n  }\n\n  static path(props) {\n    return SVG.el(\"path\", { ...props, path: null, d: props.path.join(\" \") })\n  }\n\n  static text(x, y, content, props) {\n    const text = SVG.el(\"text\", { ...props, x: x, y: y, textContent: content });\n    return text\n  }\n\n  static symbol(href) {\n    return SVG.el(\"use\", {\n      href: href,\n    })\n  }\n\n  static move(dx, dy, el) {\n    SVG.setProps(el, {\n      transform: `translate(${dx} ${dy})`,\n    });\n    return el\n  }\n\n  // translatePath takes a path string such as \"M 0 0 L 0 10 L 10 0 Z\", fins\n  // the individual X/Y components, and translates them by dx/dy, so as to\n  // \"move\" the path.\n  //\n  // This is not a particularly good way of doing this, but given we control\n  // the inputs to it it works well enough I guess?\n  static translatePath(dx, dy, path) {\n    let isX = true;\n    const parts = path.split(/\\s+/);\n    const out = [];\n    for (let i = 0; i < parts.length; i++) {\n      let part = parts[i];\n      if (part === \"A\") {\n        const j = i + 5;\n        out.push(\"A\");\n        while (i < j) {\n          out.push(parts[++i]);\n        }\n        continue\n      } else if (/[A-Za-z]/.test(part)) {\n        // This assertion means the path was not a valid sequence of\n        // [operation, X coordinate, Y coordinate, ...].\n        //\n        // It could indicate missing whitespace between the coordinates and the\n        // operation.\n        assert(isX, \"translatePath: invalid argument\");\n      } else {\n        part = +part;\n        part += isX ? dx : dy;\n        isX = !isX;\n      }\n      out.push(part);\n    }\n    return out.join(\" \")\n  }\n\n  /* shapes */\n\n  static rect(w, h, props) {\n    return SVG.el(\"rect\", { ...props, x: 0, y: 0, width: w, height: h })\n  }\n\n  static ellipse(w, h, props) {\n    return SVG.el(\"ellipse\", {\n      ...props,\n      cx: w / 2,\n      cy: h / 2,\n      rx: w / 2,\n      ry: h / 2,\n    })\n  }\n\n  static arc(p1x, p1y, p2x, p2y, rx, ry) {\n    return `L ${p1x} ${p1y} A ${rx} ${ry} 0 0 1 ${p2x} ${p2y}`\n  }\n\n  static arcw(p1x, p1y, p2x, p2y, rx, ry) {\n    return `L ${p1x} ${p1y} A ${rx} ${ry} 0 0 0 ${p2x} ${p2y}`\n  }\n\n  static roundedPath(w, h) {\n    const r = h / 2;\n    return [\n      \"M\",\n      r,\n      0,\n      SVG.arc(w - r, 0, w - r, h, r, r),\n      SVG.arc(r, h, r, 0, r, r),\n      \"Z\",\n    ]\n  }\n\n  static roundedRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.roundedPath(w, h) })\n  }\n\n  static pointedPath(w, h) {\n    const r = h / 2;\n    return [\n      \"M\",\n      r,\n      0,\n      \"L\",\n      w - r,\n      0,\n      w,\n      r,\n      \"L\",\n      w,\n      r,\n      w - r,\n      h,\n      \"L\",\n      r,\n      h,\n      0,\n      r,\n      \"L\",\n      0,\n      r,\n      r,\n      0,\n      \"Z\",\n    ]\n  }\n\n  static pointedRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.pointedPath(w, h) })\n  }\n\n  static getTop(w) {\n    return `M 0 3\n      L 3 0\n      L 13 0\n      L 16 3\n      L 24 3\n      L 27 0\n      L ${w - 3} 0\n      L ${w} 3`\n  }\n\n  static getRingTop(w) {\n    return `M 0 3\n      L 3 0\n      L 7 0\n      L 10 3\n      L 16 3\n      L 19 0\n      L ${w - 3} 0\n      L ${w} 3`\n  }\n\n  static getRightAndBottom(w, y, hasNotch, inset) {\n    if (typeof inset === \"undefined\") {\n      inset = 0;\n    }\n    let arr = [\"L\", w, y - 3, \"L\", w - 3, y];\n    if (hasNotch) {\n      arr = arr.concat([\n        \"L\",\n        inset + 27,\n        y,\n        \"L\",\n        inset + 24,\n        y + 3,\n        \"L\",\n        inset + 16,\n        y + 3,\n        \"L\",\n        inset + 13,\n        y,\n      ]);\n    }\n    if (inset > 0) {\n      arr = arr.concat([\"L\", inset + 2, y, \"L\", inset, y + 2]);\n    } else {\n      arr = arr.concat([\"L\", inset + 3, y, \"L\", 0, y - 3]);\n    }\n    return arr.join(\" \")\n  }\n\n  static getArm(w, armTop) {\n    return `L 15 ${armTop - 2}\n      L 17 ${armTop}\n      L ${w - 3} ${armTop}\n      L ${w} ${armTop + 3}`\n  }\n\n  static stackRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static capPath(w, h) {\n    return [SVG.getTop(w), SVG.getRightAndBottom(w, h, false, 0), \"Z\"]\n  }\n\n  static capRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.capPath(w, h) })\n  }\n\n  static hatRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [\n        \"M\",\n        0,\n        12,\n        SVG.arc(0, 12, 80, 10, 80, 80),\n        \"L\",\n        w - 3,\n        10,\n        \"L\",\n        w,\n        10 + 3,\n        SVG.getRightAndBottom(w, h, true),\n        \"Z\",\n      ],\n    })\n  }\n\n  static curve(p1x, p1y, p2x, p2y, roundness) {\n    roundness = roundness || 0.42;\n    const midX = (p1x + p2x) / 2.0;\n    const midY = (p1y + p2y) / 2.0;\n    const cx = Math.round(midX + roundness * (p2y - p1y));\n    const cy = Math.round(midY - roundness * (p2x - p1x));\n    return `${cx} ${cy} ${p2x} ${p2y}`\n  }\n\n  static procHatBase(w, h, archRoundness, props) {\n    // TODO use arc()\n    archRoundness = Math.min(0.2, 35 / w);\n    return SVG.path({\n      ...props,\n      path: [\n        \"M\",\n        0,\n        15,\n        \"Q\",\n        SVG.curve(0, 15, w, 15, archRoundness),\n        SVG.getRightAndBottom(w, h, true),\n        \"M\",\n        -1,\n        13,\n        \"Q\",\n        SVG.curve(-1, 13, w + 1, 13, archRoundness),\n        \"Q\",\n        SVG.curve(w + 1, 13, w, 16, 0.6),\n        \"Q\",\n        SVG.curve(w, 16, 0, 16, -archRoundness),\n        \"Q\",\n        SVG.curve(0, 16, -1, 13, 0.6),\n        \"Z\",\n      ],\n    })\n  }\n\n  static procHatCap(w, h, archRoundness) {\n    // TODO use arc()\n    // TODO this doesn't look quite right\n    return SVG.path({\n      path: [\n        \"M\",\n        -1,\n        13,\n        \"Q\",\n        SVG.curve(-1, 13, w + 1, 13, archRoundness),\n        \"Q\",\n        SVG.curve(w + 1, 13, w, 16, 0.6),\n        \"Q\",\n        SVG.curve(w, 16, 0, 16, -archRoundness),\n        \"Q\",\n        SVG.curve(0, 16, -1, 13, 0.6),\n        \"Z\",\n      ],\n      class: \"sb-define-hat-cap\",\n    })\n  }\n\n  static procHatRect(w, h, props) {\n    const q = 52;\n    const y = h - q;\n\n    const archRoundness = Math.min(0.2, 35 / w);\n\n    return SVG.move(\n      0,\n      y,\n      SVG.group([\n        SVG.procHatBase(w, q, archRoundness, props),\n        SVG.procHatCap(w, q, archRoundness),\n      ]),\n    )\n  }\n\n  static mouthRect(w, h, isFinal, lines, props) {\n    let y = lines[0].height;\n    const p = [SVG.getTop(w), SVG.getRightAndBottom(w, y, true, 15)];\n    for (let i = 1; i < lines.length; i += 2) {\n      const isLast = i + 2 === lines.length;\n\n      y += lines[i].height - 3;\n      p.push(SVG.getArm(w, y));\n\n      const hasNotch = !(isLast && isFinal);\n      const inset = isLast ? 0 : 15;\n      y += lines[i + 1].height + 3;\n      p.push(SVG.getRightAndBottom(w, y, hasNotch, inset));\n    }\n    return SVG.path({ ...props, path: p })\n  }\n\n  static ringRect(w, h, cy, cw, ch, shape, props) {\n    const r = 8;\n    const func =\n      shape === \"reporter\"\n        ? SVG.roundedPath\n        : shape === \"boolean\"\n        ? SVG.pointedPath\n        : SVG.capPath;\n    return SVG.path({\n      ...props,\n      path: [\n        \"M\",\n        r,\n        0,\n        SVG.arcw(r, 0, 0, r, r, r),\n        SVG.arcw(0, h - r, r, h, r, r),\n        SVG.arcw(w - r, h, w, h - r, r, r),\n        SVG.arcw(w, r, w - r, 0, r, r),\n        \"Z\",\n        SVG.translatePath(4, cy || 4, func(cw, ch).join(\" \")),\n      ],\n      \"fill-rule\": \"even-odd\",\n    })\n  }\n\n  static commentRect(w, h, props) {\n    const r = 6;\n    return SVG.path({\n      ...props,\n      class: \"sb-comment\",\n      path: [\n        \"M\",\n        r,\n        0,\n        SVG.arc(w - r, 0, w, r, r, r),\n        SVG.arc(w, h - r, w - r, h, r, r),\n        SVG.arc(r, h, 0, h - r, r, r),\n        SVG.arc(0, r, r, 0, r, r),\n        \"Z\",\n      ],\n    })\n  }\n\n  static commentLine(width, props) {\n    return SVG.move(\n      -width,\n      9,\n      SVG.rect(width, 2, { ...props, class: \"sb-comment-line\" }),\n    )\n  }\n\n  static strikethroughLine(w, props) {\n    return SVG.path({\n      ...props,\n      path: [\"M\", 0, 0, \"L\", w, 0],\n      class: \"sb-diff sb-diff-del\",\n    })\n  }\n};\n\nclass Filter {\n  constructor(id, props) {\n    this.el = SVG$1.el(\"filter\", {\n      ...props,\n      id: id,\n      x0: \"-50%\",\n      y0: \"-50%\",\n      width: \"200%\",\n      height: \"200%\",\n    });\n    this.highestId = 0;\n  }\n\n  fe(name, props, children) {\n    const shortName = name.toLowerCase().replace(/gaussian|osite/, \"\");\n    const id = `${shortName}-${++this.highestId}`;\n    this.el.appendChild(\n      SVG$1.withChildren(\n        SVG$1.el(`fe${name}`, { ...props, result: id }),\n        children || [],\n      ),\n    );\n    return id\n  }\n\n  comp(op, in1, in2, props) {\n    return this.fe(\"Composite\", { ...props, operator: op, in: in1, in2: in2 })\n  }\n\n  subtract(in1, in2) {\n    return this.comp(\"arithmetic\", in1, in2, { k2: +1, k3: -1 })\n  }\n\n  offset(dx, dy, in1) {\n    return this.fe(\"Offset\", {\n      in: in1,\n      dx: dx,\n      dy: dy,\n    })\n  }\n\n  flood(color, opacity, in1) {\n    return this.fe(\"Flood\", {\n      in: in1,\n      \"flood-color\": color,\n      \"flood-opacity\": opacity,\n    })\n  }\n\n  blur(dev, in1) {\n    return this.fe(\"GaussianBlur\", {\n      in: in1,\n      stdDeviation: `${dev} ${dev}`,\n    })\n  }\n\n  colorMatrix(in1, values) {\n    return this.fe(\"ColorMatrix\", {\n      in: in1,\n      type: \"matrix\",\n      values: values.join(\" \"),\n    })\n  }\n\n  merge(children) {\n    this.fe(\n      \"Merge\",\n      {},\n      children.map(name =>\n        SVG$1.el(\"feMergeNode\", {\n          in: name,\n        }),\n      ),\n    );\n  }\n}\n\nvar cssContent$1 = \"\\n.sb-label {\\n  font-family: Lucida Grande, Verdana, Arial, DejaVu Sans, sans-serif;\\n  font-weight: bold;\\n  fill: #fff;\\n  font-size: 10px;\\n  word-spacing: +1px;\\n}\\n\\n.sb-obsolete {\\n  fill: #d42828;\\n}\\n.sb-motion {\\n  fill: #4a6cd4;\\n}\\n.sb-looks {\\n  fill: #8a55d7;\\n}\\n.sb-sound {\\n  fill: #bb42c3;\\n}\\n.sb-pen {\\n  fill: #0e9a6c;\\n}\\n.sb-events {\\n  fill: #c88330;\\n}\\n.sb-control {\\n  fill: #e1a91a;\\n}\\n.sb-sensing {\\n  fill: #2ca5e2;\\n}\\n.sb-operators {\\n  fill: #5cb712;\\n}\\n.sb-variables {\\n  fill: #ee7d16;\\n}\\n.sb-list {\\n  fill: #cc5b22;\\n}\\n.sb-custom {\\n  fill: #632d99;\\n}\\n.sb-custom-arg {\\n  fill: #5947b1;\\n}\\n.sb-extension {\\n  fill: #4b4a60;\\n}\\n.sb-grey {\\n  fill: #969696;\\n}\\n\\n.sb-bevel {\\n  filter: url(#bevelFilter);\\n}\\n\\n.sb-input {\\n  filter: url(#inputBevelFilter);\\n}\\n.sb-input-number,\\n.sb-input-string,\\n.sb-input-number-dropdown {\\n  fill: #fff;\\n}\\n.sb-literal-number,\\n.sb-literal-string,\\n.sb-literal-number-dropdown,\\n.sb-literal-dropdown {\\n  font-weight: normal;\\n  font-size: 9px;\\n  word-spacing: 0;\\n}\\n.sb-literal-number,\\n.sb-literal-string,\\n.sb-literal-number-dropdown {\\n  fill: #000;\\n}\\n\\n.sb-darker {\\n  filter: url(#inputDarkFilter);\\n}\\n\\n.sb-outline {\\n  stroke: #fff;\\n  stroke-opacity: 0.2;\\n  stroke-width: 2;\\n  fill: none;\\n}\\n\\n.sb-define-hat-cap {\\n  stroke: #632d99;\\n  stroke-width: 1;\\n  fill: #8e2ec2;\\n}\\n\\n.sb-comment {\\n  fill: #ffffa5;\\n  stroke: #d0d1d2;\\n  stroke-width: 1;\\n}\\n.sb-comment-line {\\n  fill: #ffff80;\\n}\\n.sb-comment-label {\\n  font-family: Helvetica, Arial, DejaVu Sans, sans-serif;\\n  font-weight: bold;\\n  fill: #5c5d5f;\\n  word-spacing: 0;\\n  font-size: 12px;\\n}\\n\\n.sb-diff {\\n  fill: none;\\n  stroke: #000;\\n}\\n.sb-diff-ins {\\n  stroke-width: 2px;\\n}\\n.sb-diff-del {\\n  stroke-width: 3px;\\n}\\n\";\n\nlet Style$1 = class Style {\n  static get cssContent() {\n    return cssContent$1\n  }\n\n  static makeIcons() {\n    return [\n      SVG$1.el(\"path\", {\n        d: \"M1.504 21L0 19.493 4.567 0h1.948l-.5 2.418s1.002-.502 3.006 0c2.006.503 3.008 2.01 6.517 2.01 3.508 0 4.463-.545 4.463-.545l-.823 9.892s-2.137 1.005-5.144.696c-3.007-.307-3.007-2.007-6.014-2.51-3.008-.502-4.512.503-4.512.503L1.504 21z\",\n        fill: \"#3f8d15\",\n        id: \"greenFlag\",\n      }),\n      SVG$1.el(\"polygon\", {\n        points:\n          \"6.3,0.4725 12.516,0.4725 18.585,6.3 18.585,12.495 12.495,18.585 6.3,18.585 0.483,12.495 0.483,6.3  \",\n        fill: \"#bb0010\",\n        id: \"stopSign\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M6.724 0C3.01 0 0 2.91 0 6.5c0 2.316 1.253 4.35 3.14 5.5H5.17v-1.256C3.364 10.126 2.07 8.46 2.07 6.5 2.07 4.015 4.152 2 6.723 2c1.14 0 2.184.396 2.993 1.053L8.31 4.13c-.45.344-.398.826.11 1.08L15 8.5 13.858.992c-.083-.547-.514-.714-.963-.37l-1.532 1.172A6.825 6.825 0 0 0 6.723 0z\",\n        fill: \"#fff\",\n        id: \"turnRight\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M3.637 1.794A6.825 6.825 0 0 1 8.277 0C11.99 0 15 2.91 15 6.5c0 2.316-1.253 4.35-3.14 5.5H9.83v-1.256c1.808-.618 3.103-2.285 3.103-4.244 0-2.485-2.083-4.5-4.654-4.5-1.14 0-2.184.396-2.993 1.053L6.69 4.13c.45.344.398.826-.11 1.08L0 8.5 1.142.992c.083-.547.514-.714.963-.37l1.532 1.172z\",\n        fill: \"#fff\",\n        id: \"turnLeft\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M0 0L4 4L0 8Z\",\n        fill: \"#111\",\n        id: \"addInput\",\n      }),\n      SVG$1.el(\"path\", {\n        d: \"M4 0L4 8L0 4Z\",\n        fill: \"#111\",\n        id: \"delInput\",\n      }),\n      SVG$1.setProps(\n        SVG$1.group([\n          SVG$1.el(\"path\", {\n            d: \"M8 0l2 -2l0 -3l3 0l-4 -5l-4 5l3 0l0 3l-8 0l0 2\",\n            fill: \"#000\",\n            opacity: \"0.3\",\n          }),\n          SVG$1.move(\n            -1,\n            -1,\n            SVG$1.el(\"path\", {\n              d: \"M8 0l2 -2l0 -3l3 0l-4 -5l-4 5l3 0l0 3l-8 0l0 2\",\n              fill: \"#fff\",\n              opacity: \"0.9\",\n            }),\n          ),\n        ]),\n        {\n          id: \"loopArrow\",\n        },\n      ),\n      SVG$1.setProps(\n        SVG$1.group([\n          SVG$1.el(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: \"12\",\n            height: \"14\",\n            fill: \"#000\",\n            opacity: \"0.25\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"1\",\n            y: \"1\",\n            width: \"1\",\n            height: \"13\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"11\",\n            y: \"1\",\n            width: \"1\",\n            height: \"13\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"1\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"5\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"9\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"13\",\n            width: \"9\",\n            height: \"1\",\n            fill: \"#fff\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"2\",\n            width: \"9\",\n            height: \"2\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"6\",\n            width: \"9\",\n            height: \"2\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"2\",\n            y: \"10\",\n            width: \"9\",\n            height: \"2\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"11\",\n            y: \"0\",\n            width: \"1\",\n            height: \"1\",\n            fill: \"#ea8d1c\",\n          }),\n          SVG$1.el(\"rect\", {\n            x: \"0\",\n            y: \"13\",\n            width: \"1\",\n            height: \"1\",\n            fill: \"#ea8d1c\",\n          }),\n        ]),\n        {\n          id: \"list\",\n        },\n      ),\n    ]\n  }\n\n  static makeStyle() {\n    const style = SVG$1.el(\"style\");\n    style.appendChild(SVG$1.cdata(Style.cssContent));\n    return style\n  }\n\n  static bevelFilter(id, inset) {\n    const f = new Filter(id);\n\n    const alpha = \"SourceAlpha\";\n    const s = inset ? -1 : 1;\n    const blur = f.blur(1, alpha);\n\n    f.merge([\n      \"SourceGraphic\",\n      f.comp(\n        \"in\",\n        f.flood(\"#fff\", 0.15),\n        f.subtract(alpha, f.offset(+s, +s, blur)),\n      ),\n      f.comp(\n        \"in\",\n        f.flood(\"#000\", 0.7),\n        f.subtract(alpha, f.offset(-s, -s, blur)),\n      ),\n    ]);\n\n    return f.el\n  }\n\n  static darkFilter(id) {\n    const f = new Filter(id);\n\n    f.merge([\n      \"SourceGraphic\",\n      f.comp(\"in\", f.flood(\"#000\", 0.2), \"SourceAlpha\"),\n    ]);\n\n    return f.el\n  }\n\n  static darkRect(w, h, category, el) {\n    return SVG$1.setProps(\n      SVG$1.group([\n        SVG$1.setProps(el, {\n          class: `sb-${category} sb-darker`,\n        }),\n      ]),\n      { width: w, height: h },\n    )\n  }\n\n  static get defaultFontFamily() {\n    return \"Lucida Grande, Verdana, Arial, DejaVu Sans, sans-serif\"\n  }\n};\n\nconst {\n  defaultFontFamily,\n  makeStyle: makeStyle$3,\n  makeIcons,\n  darkRect,\n  bevelFilter,\n  darkFilter,\n} = Style$1;\n\nlet LabelView$1 = class LabelView {\n  constructor(label) {\n    Object.assign(this, label);\n\n    this.el = null;\n    this.height = 12;\n    this.metrics = null;\n    this.x = 0;\n  }\n\n  get isLabel() {\n    return true\n  }\n\n  draw() {\n    return this.el\n  }\n\n  get width() {\n    return this.metrics.width\n  }\n\n  measure() {\n    const value = this.value;\n    const cls = `sb-${this.cls}`;\n    this.el = SVG$1.text(0, 10, value, {\n      class: `sb-label ${cls}`,\n    });\n\n    let cache = LabelView.metricsCache[cls];\n    if (!cache) {\n      cache = LabelView.metricsCache[cls] = Object.create(null);\n    }\n\n    if (Object.hasOwnProperty.call(cache, value)) {\n      this.metrics = cache[value];\n    } else {\n      const font = /comment-label/.test(this.cls)\n        ? \"bold 12px Helvetica, Arial, DejaVu Sans, sans-serif\"\n        : /literal/.test(this.cls)\n        ? `normal 9px ${defaultFontFamily}`\n        : `bold 10px ${defaultFontFamily}`;\n      this.metrics = cache[value] = LabelView.measure(value, font);\n      // TODO: word-spacing? (fortunately it seems to have no effect!)\n    }\n  }\n\n  static measure(value, font) {\n    const context = LabelView.measuring;\n    context.font = font;\n    const textMetrics = context.measureText(value);\n    const width = (textMetrics.width + 0.5) | 0;\n    return { width: width }\n  }\n};\n\nLabelView$1.metricsCache = {};\nLabelView$1.toMeasure = [];\n\nlet IconView$1 = class IconView {\n  constructor(icon) {\n    Object.assign(this, icon);\n\n    const info = IconView.icons[this.name];\n    if (!info) {\n      throw new Error(`no info for icon: ${this.name}`)\n    }\n    Object.assign(this, info);\n  }\n\n  get isIcon() {\n    return true\n  }\n\n  draw() {\n    return SVG$1.symbol(`#${this.name}`, {\n      width: this.width,\n      height: this.height,\n    })\n  }\n\n  static get icons() {\n    return {\n      greenFlag: { width: 20, height: 21, dy: -2 },\n      stopSign: { width: 20, height: 20 },\n      turnLeft: { width: 15, height: 12, dy: +1 },\n      turnRight: { width: 15, height: 12, dy: +1 },\n      loopArrow: { width: 14, height: 11 },\n      addInput: { width: 4, height: 8 },\n      delInput: { width: 4, height: 8 },\n      list: { width: 12, height: 14 },\n    }\n  }\n};\n\nlet InputView$1 = class InputView {\n  constructor(input) {\n    Object.assign(this, input);\n    if (input.label) {\n      this.label = newView$1(input.label);\n    }\n\n    this.x = 0;\n  }\n\n  measure() {\n    if (this.hasLabel) {\n      this.label.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      string: SVG$1.rect,\n      number: SVG$1.roundedRect,\n      \"number-dropdown\": SVG$1.roundedRect,\n      color: SVG$1.rect,\n      dropdown: SVG$1.rect,\n\n      boolean: SVG$1.pointedRect,\n      stack: SVG$1.stackRect,\n      reporter: SVG$1.roundedRect,\n    }\n  }\n\n  draw(parent) {\n    let w;\n    let label;\n    if (this.hasLabel) {\n      label = this.label.draw();\n      w = Math.max(\n        14,\n        this.label.width +\n          (this.shape === \"string\" || this.shape === \"number-dropdown\" ? 6 : 9),\n      );\n    } else {\n      w = this.isInset ? 30 : this.isColor ? 13 : null;\n    }\n    if (this.hasArrow) {\n      w += 10;\n    }\n    this.width = w;\n\n    const h = (this.height = this.isRound || this.isColor ? 13 : 14);\n\n    let el = InputView.shapes[this.shape](w, h);\n    if (this.isColor) {\n      SVG$1.setProps(el, {\n        fill: this.value,\n      });\n    } else if (this.isDarker) {\n      el = darkRect(w, h, parent.info.category, el);\n      if (parent.info.color) {\n        SVG$1.setProps(el, {\n          fill: parent.info.color,\n        });\n      }\n    }\n\n    const result = SVG$1.group([\n      SVG$1.setProps(el, {\n        class: `sb-input sb-input-${this.shape}`,\n      }),\n    ]);\n    if (this.hasLabel) {\n      const x = this.isRound ? 5 : 4;\n      result.appendChild(SVG$1.move(x, 0, label));\n    }\n    if (this.hasArrow) {\n      const y = this.shape === \"dropdown\" ? 5 : 4;\n      result.appendChild(\n        SVG$1.move(\n          w - 10,\n          y,\n          SVG$1.polygon({\n            points: [7, 0, 3.5, 4, 0, 0],\n            fill: \"#000\",\n            opacity: \"0.6\",\n          }),\n        ),\n      );\n    }\n    return result\n  }\n};\n\nlet BlockView$1 = class BlockView {\n  constructor(block) {\n    Object.assign(this, block);\n    this.children = block.children.map(newView$1);\n    this.comment = this.comment ? newView$1(this.comment) : null;\n\n    if (\n      Object.prototype.hasOwnProperty.call(aliasExtensions, this.info.category)\n    ) {\n      // handle aliases first\n      this.info.category = aliasExtensions[this.info.category];\n    }\n    if (\n      Object.prototype.hasOwnProperty.call(movedExtensions, this.info.category)\n    ) {\n      this.info.category = movedExtensions[this.info.category];\n    } else if (\n      Object.prototype.hasOwnProperty.call(extensions, this.info.category)\n    ) {\n      this.info.category = \"extension\";\n    }\n\n    this.x = 0;\n    this.width = null;\n    this.height = null;\n    this.firstLine = null;\n    this.innerWidth = null;\n  }\n\n  get isBlock() {\n    return true\n  }\n\n  measure() {\n    for (const child of this.children) {\n      if (child.measure) {\n        child.measure();\n      }\n    }\n    if (this.comment) {\n      this.comment.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      stack: SVG$1.stackRect,\n      \"c-block\": SVG$1.stackRect,\n      \"if-block\": SVG$1.stackRect,\n      celse: SVG$1.stackRect,\n      cend: SVG$1.stackRect,\n\n      cap: SVG$1.capRect,\n      reporter: SVG$1.roundedRect,\n      boolean: SVG$1.pointedRect,\n      hat: SVG$1.hatRect,\n      cat: SVG$1.hatRect,\n      \"define-hat\": SVG$1.procHatRect,\n      ring: SVG$1.roundedRect,\n    }\n  }\n\n  drawSelf(w, h, lines) {\n    // mouths\n    if (lines.length > 1) {\n      return SVG$1.mouthRect(w, h, this.isFinal, lines, {\n        class: `sb-${this.info.category} sb-bevel`,\n      })\n    }\n\n    // outlines\n    if (this.info.shape === \"outline\") {\n      return SVG$1.setProps(SVG$1.stackRect(w, h), {\n        class: \"sb-outline\",\n      })\n    }\n\n    // rings\n    if (this.isRing) {\n      const child = this.children[0];\n      // We use isStack for InputView; isBlock for BlockView; isScript for ScriptView.\n      if (child && (child.isStack || child.isBlock || child.isScript)) {\n        const shape = child.isScript\n          ? \"stack\"\n          : child.isStack\n          ? child.shape\n          : child.info.shape;\n        return SVG$1.ringRect(w, h, child.y, child.width, child.height, shape, {\n          class: `sb-${this.info.category} sb-bevel`,\n        })\n      }\n    }\n\n    const func = BlockView.shapes[this.info.shape];\n    if (!func) {\n      throw new Error(`no shape func: ${this.info.shape}`)\n    }\n    return func(w, h, {\n      class: `sb-${this.info.category} sb-bevel`,\n    })\n  }\n\n  minDistance(child) {\n    if (this.isBoolean) {\n      return child.isReporter\n        ? (4 + child.height / 4) | 0\n        : child.isLabel\n        ? (5 + child.height / 2) | 0\n        : child.isBoolean || child.shape === \"boolean\"\n        ? 5\n        : (2 + child.height / 2) | 0\n    }\n    if (this.isReporter) {\n      return (child.isInput && child.isRound) ||\n        ((child.isReporter || child.isBoolean) && !child.hasScript)\n        ? 0\n        : child.isLabel\n        ? (2 + child.height / 2) | 0\n        : (-2 + child.height / 2) | 0\n    }\n    return 0\n  }\n\n  static get padding() {\n    return {\n      hat: [15, 6, 2],\n      cat: [15, 6, 2],\n      \"define-hat\": [21, 8, 9],\n      reporter: [3, 4, 1],\n      boolean: [3, 4, 2],\n      cap: [6, 6, 2],\n      \"c-block\": [3, 6, 2],\n      \"if-block\": [3, 6, 2],\n      ring: [4, 4, 2],\n      null: [4, 6, 2],\n    }\n  }\n\n  draw() {\n    const isDefine = this.info.shape === \"define-hat\";\n    let children = this.children;\n\n    const padding = BlockView.padding[this.info.shape] || BlockView.padding.null;\n    let pt = padding[0];\n    const px = padding[1];\n    const pb = padding[2];\n\n    let y = 0;\n    const Line = function (y) {\n      this.y = y;\n      this.width = 0;\n      this.height = y ? 13 : 16;\n      this.children = [];\n    };\n\n    let innerWidth = 0;\n    let scriptWidth = 0;\n    let line = new Line(y);\n    const pushLine = isLast => {\n      if (lines.length === 0) {\n        line.height += pt + pb;\n      } else {\n        line.height += isLast ? 0 : +2;\n        line.y -= 1;\n      }\n      y += line.height;\n      lines.push(line);\n    };\n\n    if (this.info.isRTL) {\n      let start = 0;\n      const flip = () => {\n        children = children\n          .slice(0, start)\n          .concat(children.slice(start, i).reverse())\n          .concat(children.slice(i));\n      };\n      let i;\n      for (i = 0; i < children.length; i++) {\n        if (children[i].isScript) {\n          flip();\n          start = i + 1;\n        }\n      }\n      if (start < i) {\n        flip();\n      }\n    }\n\n    const lines = [];\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      child.el = child.draw(this);\n\n      if (child.isScript && this.isCommand) {\n        this.hasScript = true;\n        pushLine();\n        child.y = y;\n        lines.push(child);\n        scriptWidth = Math.max(scriptWidth, Math.max(1, child.width));\n        child.height = Math.max(12, child.height) + 3;\n        y += child.height;\n        line = new Line(y);\n      } else if (child.isArrow) {\n        line.children.push(child);\n      } else {\n        const cmw = i > 0 ? 30 : 0; // 27\n        const md = this.isCommand ? 0 : this.minDistance(child);\n        const mw = this.isCommand\n          ? child.isBlock || child.isInput\n            ? cmw\n            : 0\n          : md;\n        if (mw && !lines.length && line.width < mw - px) {\n          line.width = mw - px;\n        }\n        child.x = line.width;\n        line.width += child.width;\n        innerWidth = Math.max(innerWidth, line.width + Math.max(0, md - px));\n        line.width += 4;\n        if (!child.isLabel) {\n          line.height = Math.max(line.height, child.height);\n        }\n        line.children.push(child);\n      }\n    }\n    pushLine(true);\n\n    innerWidth = Math.max(\n      innerWidth + px * 2,\n      this.isHat || this.hasScript\n        ? 83\n        : this.isCommand || this.isOutline || this.isRing\n        ? 39\n        : 20,\n    );\n    this.height = y;\n    this.width = scriptWidth\n      ? Math.max(innerWidth, 15 + scriptWidth)\n      : innerWidth;\n    if (isDefine) {\n      const p = Math.min(26, (3.5 + 0.13 * innerWidth) | 0) - 18;\n      this.height += p;\n      pt += 2 * p;\n    }\n    this.firstLine = lines[0];\n    this.innerWidth = innerWidth;\n\n    const objects = [];\n\n    for (const line of lines) {\n      if (line.isScript) {\n        objects.push(SVG$1.move(15, line.y, line.el));\n        continue\n      }\n\n      const h = line.height;\n\n      for (const child of line.children) {\n        if (child.isArrow) {\n          objects.push(SVG$1.move(innerWidth - 15, this.height - 3, child.el));\n          continue\n        }\n\n        let y = pt + (h - child.height - pt - pb) / 2 - 1;\n        if (isDefine && child.isLabel) {\n          y += 3;\n        } else if (child.isIcon) {\n          y += child.dy | 0;\n        }\n        if (this.isRing) {\n          child.y = (line.y + y) | 0;\n          if (child.isInset) {\n            continue\n          }\n        }\n        objects.push(SVG$1.move(px + child.x, (line.y + y) | 0, child.el));\n\n        if (child.diff === \"+\") {\n          const ellipse = SVG$1.insEllipse(child.width, child.height);\n          objects.push(SVG$1.move(px + child.x, (line.y + y) | 0, ellipse));\n        }\n      }\n    }\n\n    const el = this.drawSelf(innerWidth, this.height, lines);\n    objects.splice(0, 0, el);\n    if (this.info.color) {\n      SVG$1.setProps(el, {\n        fill: this.info.color,\n      });\n    }\n\n    return SVG$1.group(objects)\n  }\n};\n\nlet CommentView$1 = class CommentView {\n  constructor(comment) {\n    Object.assign(this, comment);\n    this.label = newView$1(comment.label);\n\n    this.width = null;\n  }\n\n  get isComment() {\n    return true\n  }\n\n  static get lineLength() {\n    return 12\n  }\n\n  get height() {\n    return 20\n  }\n\n  measure() {\n    this.label.measure();\n  }\n\n  draw() {\n    const labelEl = this.label.draw();\n\n    this.width = this.label.width + 16;\n    return SVG$1.group([\n      SVG$1.commentLine(this.hasBlock ? CommentView.lineLength : 0, 6),\n      SVG$1.commentRect(this.width, this.height, {\n        class: \"sb-comment\",\n      }),\n      SVG$1.move(8, 4, labelEl),\n    ])\n  }\n};\n\nlet GlowView$1 = class GlowView {\n  constructor(glow) {\n    Object.assign(this, glow);\n    this.child = newView$1(glow.child);\n\n    this.width = null;\n    this.height = null;\n    this.y = 0;\n  }\n\n  get isGlow() {\n    return true\n  }\n\n  measure() {\n    this.child.measure();\n  }\n\n  drawSelf() {\n    const c = this.child;\n    let el;\n    const w = this.width;\n    const h = this.height - 1;\n    if (c.isScript) {\n      if (!c.isEmpty && c.blocks[0].isHat) {\n        el = SVG$1.hatRect(w, h);\n      } else if (c.isFinal) {\n        el = SVG$1.capRect(w, h);\n      } else {\n        el = SVG$1.stackRect(w, h);\n      }\n    } else {\n      el = c.drawSelf(w, h, []);\n    }\n    return SVG$1.setProps(el, {\n      class: \"sb-diff sb-diff-ins\",\n    })\n  }\n  // TODO how can we always raise Glows above their parents?\n\n  draw() {\n    const c = this.child;\n    const el = c.isScript ? c.draw(true) : c.draw();\n\n    this.width = c.width;\n    this.height = (c.isBlock && c.firstLine.height) || c.height;\n\n    // encircle\n    return SVG$1.group([el, this.drawSelf()])\n  }\n};\n\nlet ScriptView$1 = class ScriptView {\n  constructor(script) {\n    Object.assign(this, script);\n    this.blocks = script.blocks.map(newView$1);\n\n    this.y = 0;\n  }\n\n  get isScript() {\n    return true\n  }\n\n  measure() {\n    for (const block of this.blocks) {\n      block.measure();\n    }\n  }\n\n  draw(inside) {\n    const children = [];\n    let y = 0;\n    this.width = 0;\n    for (const block of this.blocks) {\n      const x = inside ? 0 : 2;\n      const child = block.draw();\n      children.push(SVG$1.move(x, y, child));\n      this.width = Math.max(this.width, block.width);\n\n      const diff = block.diff;\n      if (diff === \"-\") {\n        const dw = block.width;\n        const dh = block.firstLine.height || block.height;\n        children.push(SVG$1.move(x, y + dh / 2 + 1, SVG$1.strikethroughLine(dw)));\n        this.width = Math.max(this.width, block.width);\n      }\n\n      y += block.height;\n\n      const comment = block.comment;\n      if (comment) {\n        const line = block.firstLine;\n        const cx = block.innerWidth + 2 + CommentView$1.lineLength;\n        const cy = y - block.height + line.height / 2;\n        const el = comment.draw();\n        children.push(SVG$1.move(cx, cy - comment.height / 2, el));\n        this.width = Math.max(this.width, cx + comment.width);\n      }\n    }\n    this.height = y;\n    if (!inside && !this.isFinal) {\n      this.height += 3;\n    }\n    const lastBlock = this.blocks[this.blocks.length - 1];\n    if (!inside && lastBlock.isGlow) {\n      this.height += 2; // TODO unbreak this\n    }\n    return SVG$1.group(children)\n  }\n};\n\nlet DocumentView$1 = class DocumentView {\n  constructor(doc, options) {\n    Object.assign(this, doc);\n    this.scripts = doc.scripts.map(newView$1);\n\n    this.width = null;\n    this.height = null;\n    this.el = null;\n    this.defs = null;\n    this.scale = options.scale;\n  }\n\n  measure() {\n    this.scripts.forEach(script => script.measure());\n  }\n\n  render(cb) {\n    if (typeof cb === \"function\") {\n      throw new Error(\"render() no longer takes a callback\")\n    }\n\n    // measure strings\n    this.measure();\n\n    // TODO: separate layout + render steps.\n    // render each script\n    let width = 0;\n    let height = 0;\n    const elements = [];\n    for (const script of this.scripts) {\n      if (height) {\n        height += 10;\n      }\n      script.y = height;\n      elements.push(SVG$1.move(0, height, script.draw()));\n      height += script.height;\n      width = Math.max(width, script.width + 4);\n    }\n    this.width = width;\n    this.height = height;\n\n    // return SVG\n    const svg = SVG$1.newSVG(width, height, this.scale);\n    svg.appendChild(\n      (this.defs = SVG$1.withChildren(SVG$1.el(\"defs\"), [\n        bevelFilter(\"bevelFilter\", false),\n        bevelFilter(\"inputBevelFilter\", true),\n        darkFilter(\"inputDarkFilter\"),\n        ...makeIcons(),\n      ])),\n    );\n\n    svg.appendChild(SVG$1.group(elements));\n    this.el = svg;\n    return svg\n  }\n\n  /* Export SVG image as XML string */\n  exportSVGString() {\n    if (this.el == null) {\n      throw new Error(\"call draw() first\")\n    }\n\n    const style = makeStyle$3();\n    this.defs.appendChild(style);\n    const xml = new SVG$1.XMLSerializer().serializeToString(this.el);\n    this.defs.removeChild(style);\n    return xml\n  }\n\n  /* Export SVG image as data URI */\n  exportSVG() {\n    const xml = this.exportSVGString();\n    return `data:image/svg+xml;utf8,${xml.replace(/[#]/g, encodeURIComponent)}`\n  }\n\n  toCanvas(cb, exportScale) {\n    exportScale = exportScale || 1.0;\n\n    const canvas = SVG$1.makeCanvas();\n    canvas.width = Math.max(1, this.width * exportScale * this.scale);\n    canvas.height = Math.max(1, this.height * exportScale * this.scale);\n    const context = canvas.getContext(\"2d\");\n\n    const image = new Image();\n    image.src = this.exportSVG();\n    image.onload = () => {\n      context.save();\n      context.scale(exportScale, exportScale);\n      context.drawImage(image, 0, 0);\n      context.restore();\n\n      cb(canvas);\n    };\n  }\n\n  exportPNG(cb, scale) {\n    this.toCanvas(canvas => {\n      if (URL && URL.createObjectURL && Blob && canvas.toBlob) {\n        canvas.toBlob(blob => {\n          cb(URL.createObjectURL(blob));\n        }, \"image/png\");\n      } else {\n        cb(canvas.toDataURL(\"image/png\"));\n      }\n    }, scale);\n  }\n};\n\nconst viewFor$1 = node => {\n  switch (node.constructor) {\n    case Label:\n      return LabelView$1\n    case Icon:\n      return IconView$1\n    case Input:\n      return InputView$1\n    case Block:\n      return BlockView$1\n    case Comment:\n      return CommentView$1\n    case Glow:\n      return GlowView$1\n    case Script:\n      return ScriptView$1\n    case Document:\n      return DocumentView$1\n    default:\n      throw new Error(`no view for ${node.constructor.name}`)\n  }\n};\n\nconst newView$1 = (node, options) => new (viewFor$1(node))(node, options);\n\nfunction init$2(window) {\n  SVG$1.init(window);\n\n  LabelView$1.measuring = SVG$1.makeCanvas().getContext(\"2d\");\n}\n\nconst makeStyle$2 = Style$1.makeStyle;\n\n/* for constructing SVGs */\n\n// set by SVG.init\nlet document;\nlet xml;\n\nconst directProps = {\n  textContent: true,\n};\n\nclass SVG {\n  static init(window) {\n    document = window.document;\n    const DOMParser = window.DOMParser;\n    xml = new DOMParser().parseFromString(\"<xml></xml>\", \"application/xml\");\n    SVG.XMLSerializer = window.XMLSerializer;\n  }\n\n  static makeCanvas() {\n    return document.createElement(\"canvas\")\n  }\n\n  static cdata(content) {\n    return xml.createCDATASection(content)\n  }\n\n  static el(name, props) {\n    const el = document.createElementNS(\"http://www.w3.org/2000/svg\", name);\n    return SVG.setProps(el, props)\n  }\n\n  static setProps(el, props) {\n    for (const key in props) {\n      const value = String(props[key]);\n      if (directProps[key]) {\n        el[key] = value;\n      } else if (\n        props[key] != null &&\n        Object.prototype.hasOwnProperty.call(props, key)\n      ) {\n        el.setAttributeNS(null, key, value);\n      }\n    }\n    return el\n  }\n\n  static withChildren(el, children) {\n    for (const child of children) {\n      el.appendChild(child);\n    }\n    return el\n  }\n\n  static group(children) {\n    return SVG.withChildren(SVG.el(\"g\"), children)\n  }\n\n  static newSVG(width, height, scale) {\n    return SVG.el(\"svg\", {\n      version: \"1.1\",\n      width: width * scale,\n      height: height * scale,\n      viewBox: `0 0 ${width * scale} ${height * scale}`,\n    })\n  }\n\n  static polygon(props) {\n    return SVG.el(\"polygon\", { ...props, points: props.points.join(\" \") })\n  }\n\n  static path(props) {\n    return SVG.el(\"path\", { ...props, path: null, d: props.path.join(\" \") })\n  }\n\n  static text(x, y, content, props) {\n    const text = SVG.el(\"text\", { ...props, x: x, y: y, textContent: content });\n    return text\n  }\n\n  static symbol(href) {\n    return SVG.el(\"use\", {\n      href: href,\n    })\n  }\n\n  static move(dx, dy, el) {\n    SVG.setProps(el, {\n      transform: `translate(${dx} ${dy})`,\n    });\n    return el\n  }\n\n  /* shapes */\n\n  static rect(w, h, props) {\n    return SVG.el(\"rect\", { ...props, x: 0, y: 0, width: w, height: h })\n  }\n\n  static roundRect(w, h, props) {\n    return SVG.rect(w, h, { ...props, rx: 4, ry: 4 })\n  }\n\n  static pillRect(w, h, props) {\n    const r = h / 2;\n    return SVG.rect(w, h, { ...props, rx: r, ry: r })\n  }\n\n  static pointedPath(w, h) {\n    const r = h / 2;\n    return [\n      `M ${r} 0`,\n      `L ${w - r} 0 ${w} ${r}`,\n      `L ${w} ${r} ${w - r} ${h}`,\n      `L ${r} ${h} 0 ${r}`,\n      `L 0 ${r} ${r} 0`,\n      \"Z\",\n    ]\n  }\n\n  static pointedRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.pointedPath(w, h) })\n  }\n\n  static topNotch(w, y) {\n    return `c 2 0 3 1 4 2\n      l 4 4\n      c 1 1 2 2 4 2\n      h 12\n      c 2 0 3 -1 4 -2\n      l 4 -4\n      c 1 -1 2 -2 4 -2\n      L ${w - 4} ${y}\n      a 4 4 0 0 1 4 4`\n  }\n\n  static getTop(w) {\n    return `M 0 4\n      A 4 4 0 0 1 4 0\n      H 12 ${SVG.topNotch(w, 0)}`\n  }\n\n  static getRingTop(w) {\n    return `M 0 3\n      L 3 0\n      L 7 0\n      L 10 3\n      L 16 3\n      L 19 0\n      L ${w - 3} 0\n      L ${w} 3`\n  }\n\n  static getRightAndBottom(w, y, hasNotch, inset) {\n    if (typeof inset === \"undefined\") {\n      inset = 0;\n    }\n\n    let arr = [`L ${w} ${y - 4}`, `a 4 4 0 0 1 -4 4`];\n\n    if (hasNotch) {\n      arr = arr.concat([\n        `L ${inset + 48} ${y}`,\n        \"c -2 0 -3 1 -4 2\",\n        \"l -4 4\",\n        \"c -1 1 -2 2 -4 2\",\n        \"h -12\",\n        \"c -2 0 -3 -1 -4 -2\",\n        \"l -4 -4\",\n        \"c -1 -1 -2 -2 -4 -2\",\n      ]);\n    }\n    if (inset === 0) {\n      arr.push(\"L\", inset + 4, y);\n      arr.push(\"a 4 4 0 0 1 -4 -4\");\n    } else {\n      arr.push(\"L\", inset + 4, y);\n      arr.push(\"a 4 4 0 0 0 -4 4\");\n    }\n    return arr.join(\" \")\n  }\n\n  static getArm(w, armTop) {\n    return `L 16 ${armTop - 4}\n      a 4 4 0 0 0 4 4\n      L 28 ${armTop} ${SVG.topNotch(w, armTop)}`\n  }\n\n  static getArmNoNotch(w, armTop) {\n    return `L 16 ${armTop - 4}\n      a 4 4 0 0 0 4 4\n      L 28 ${armTop} L ${w - 4} ${armTop}\n      a 4 4 0 0 1 4 4`\n  }\n\n  static stackRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static capPath(w, h) {\n    return [SVG.getTop(w), SVG.getRightAndBottom(w, h, false, 0), \"Z\"]\n  }\n\n  static capRect(w, h, props) {\n    return SVG.path({ ...props, path: SVG.capPath(w, h) })\n  }\n\n  static getHatTop(w) {\n    return `M 0 16 c 25,-22 71,-22 96,0 L ${w - 4} 16 a 4 4 0 0 1 4 4`\n  }\n\n  static getCatTop(w) {\n    return `M 0 32\n      c2.6,-2.3 5.5,-4.3 8.5,-6.2c-1,-12.5 5.3,-23.3 8.4,-24.8c3.7,-1.8 16.5,13.1 18.4,15.4c8.4,-1.3 17,-1.3 25.4,0c1.9,-2.3 14.7,-17.2 18.4,-15.4c3.1,1.5 9.4,12.3 8.4,24.8c3,1.8 5.9,3.9 8.5,6.1\n      L ${w - 4} 32\n      a 4 4 0 0 1 4 4`\n  }\n\n  static hatRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getHatTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static catHat(w, h, props) {\n    return SVG.group([\n      SVG.path({\n        ...props,\n        path: [SVG.getCatTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n      }),\n      SVG.move(\n        0,\n        32,\n        SVG.setProps(\n          SVG.group([\n            SVG.el(\"circle\", {\n              cx: 29.1,\n              cy: -3.3,\n              r: 3.4,\n            }),\n            SVG.el(\"circle\", {\n              cx: 59.2,\n              cy: -3.3,\n              r: 3.4,\n            }),\n            SVG.el(\"path\", {\n              d: \"M45.6,0.1c-0.9,0-1.7-0.3-2.3-0.9c-0.6,0.6-1.3,0.9-2.2,0.9c-0.9,0-1.8-0.3-2.3-0.9c-1-1.1-1.1-2.6-1.1-2.8c0-0.5,0.5-1,1-1l0,0c0.6,0,1,0.5,1,1c0,0.4,0.1,1.7,1.4,1.7c0.5,0,0.7-0.2,0.8-0.3c0.3-0.3,0.4-1,0.4-1.3c0-0.1,0-0.1,0-0.2c0-0.5,0.5-1,1-1l0,0c0.5,0,1,0.4,1,1c0,0,0,0.1,0,0.2c0,0.3,0.1,0.9,0.4,1.2C44.8-2.2,45-2,45.5-2s0.7-0.2,0.8-0.3c0.3-0.4,0.4-1.1,0.3-1.3c0-0.5,0.4-1,0.9-1.1c0.5,0,1,0.4,1.1,0.9c0,0.2,0.1,1.8-0.8,2.8C47.5-0.4,46.8,0.1,45.6,0.1z\",\n            }),\n          ]),\n          {\n            fill: \"#000\",\n            \"fill-opacity\": 0.6,\n          },\n        ),\n      ),\n      SVG.move(\n        0,\n        32,\n        SVG.el(\"path\", {\n          d: \"M73.1-15.6c1.7-4.2,4.5-9.1,5.8-8.5c1.6,0.8,5.4,7.9,5,15.4c0,0.6-0.7,0.7-1.1,0.5c-3-1.6-6.4-2.8-8.6-3.6C72.8-12.3,72.4-13.7,73.1-15.6z\",\n          fill: \"#FFD5E6\",\n          transform: \"translate(0, 32)\",\n        }),\n      ),\n      SVG.move(\n        0,\n        32,\n        SVG.el(\"path\", {\n          d: \"M22.4-15.6c-1.7-4.2-4.5-9.1-5.8-8.5c-1.6,0.8-5.4,7.9-5,15.4c0,0.6,0.7,0.7,1.1,0.5c3-1.6,6.4-2.8,8.6-3.6C22.8-12.3,23.2-13.7,22.4-15.6z\",\n          fill: \"#FFD5E6\",\n          transform: \"translate(0, 32)\",\n        }),\n      ),\n    ])\n  }\n\n  static getProcHatTop(w) {\n    return `M 0 20 a 20 20 0 0 1 20 -20 L ${w - 20} 0 a 20,20 0 0,1 20,20`\n  }\n\n  static procHatRect(w, h, props) {\n    return SVG.path({\n      ...props,\n      path: [SVG.getProcHatTop(w), SVG.getRightAndBottom(w, h, true, 0), \"Z\"],\n    })\n  }\n\n  static mouthRect(w, h, isFinal, lines, props) {\n    let y = lines[0].height;\n    const p = [SVG.getTop(w), SVG.getRightAndBottom(w, y, true, 16)];\n    for (let i = 1; i < lines.length; i += 2) {\n      const isLast = i + 2 === lines.length;\n\n      const line = lines[i];\n      y += line.height - 3;\n\n      if (line.isFinal) {\n        p.push(SVG.getArmNoNotch(w, y));\n      } else {\n        p.push(SVG.getArm(w, y));\n      }\n\n      const hasNotch = !(isLast && isFinal);\n      const inset = isLast ? 0 : 16;\n      y += lines[i + 1].height + 3;\n      p.push(SVG.getRightAndBottom(w, y, hasNotch, inset));\n    }\n    p.push(\"Z\");\n    return SVG.path({ ...props, path: p })\n  }\n\n  static commentRect(w, h, props) {\n    return SVG.roundRect(w, h, { ...props, class: \"sb3-comment\" })\n  }\n\n  static commentLine(width, props) {\n    return SVG.move(\n      -width,\n      9,\n      SVG.rect(width, 2, { ...props, class: \"sb3-comment-line\" }),\n    )\n  }\n\n  static strikethroughLine(w, props) {\n    return SVG.path({\n      ...props,\n      path: [\"M\", 0, 0, \"L\", w, 0],\n      class: \"sb3-diff sb3-diff-del\",\n    })\n  }\n}\n\nvar cssContent = \"\\n.sb3-label {\\n  font: 500 12pt Helvetica Neue, Helvetica, sans-serif;\\n  word-spacing: +1pt;\\n}\\n\\n.sb3-literal-number,\\n.sb3-literal-string,\\n.sb3-literal-number-dropdown,\\n.sb3-literal-dropdown {\\n  word-spacing: 0;\\n}\\n\\n/* Note: comment colors are different from Scratch. */\\n\\n.sb3-comment {\\n  fill: #ffffa5;\\n  stroke: #d0d1d2;\\n  stroke-width: 1;\\n}\\n.sb3-comment-line {\\n  fill: #ffff80;\\n}\\n.sb3-comment-label {\\n  font: 400 12pt Helvetica Neue, Helvetica, sans-serif;\\n  fill: #000;\\n  word-spacing: 0;\\n}\\n\\n.sb3-diff {\\n  fill: none;\\n  stroke: #000;\\n}\\n.sb3-diff-ins {\\n  stroke-width: 2px;\\n}\\n.sb3-diff-del {\\n  stroke-width: 3px;\\n}\\n\\n\\nsvg .sb3-motion {\\n  fill: #4c97ff;\\n  stroke: #3373cc;\\n}\\nsvg .sb3-motion-alt {\\n  fill: #4280d7;\\n}\\nsvg .sb3-motion-dark {\\n  fill: #3373cc;\\n}\\n\\n\\nsvg .sb3-looks {\\n  fill: #9966ff;\\n  stroke: #774dcb;\\n}\\nsvg .sb3-looks-alt {\\n  fill: #855cd6;\\n}\\nsvg .sb3-looks-dark {\\n  fill: #774dcb;\\n}\\n\\n\\nsvg .sb3-sound {\\n  fill: #cf63cf;\\n  stroke: #bd42bd;\\n}\\nsvg .sb3-sound-alt {\\n  fill: #c94fc9;\\n}\\nsvg .sb3-sound-dark {\\n  fill: #bd42bd;\\n}\\n\\n\\nsvg .sb3-control {\\n  fill: #ffab19;\\n  stroke: #cf8b17;\\n}\\nsvg .sb3-control-alt {\\n  fill: #ec9c13;\\n}\\nsvg .sb3-control-dark {\\n  fill: #cf8b17;\\n}\\n\\n\\nsvg .sb3-events {\\n  fill: #ffbf00;\\n  stroke: #cc9900;\\n}\\nsvg .sb3-events-alt {\\n  fill: #e6ac00;\\n}\\nsvg .sb3-events-dark {\\n  fill: #cc9900;\\n}\\n\\n\\nsvg .sb3-sensing {\\n  fill: #5cb1d6;\\n  stroke: #2e8eb8;\\n}\\nsvg .sb3-sensing-alt {\\n  fill: #47a8d1;\\n}\\nsvg .sb3-sensing-dark {\\n  fill: #2e8eb8;\\n}\\n\\n\\nsvg .sb3-operators {\\n  fill: #59c059;\\n  stroke: #389438;\\n}\\nsvg .sb3-operators-alt {\\n  fill: #46b946;\\n}\\nsvg .sb3-operators-dark {\\n  fill: #389438;\\n}\\n\\n\\nsvg .sb3-variables {\\n  fill: #ff8c1a;\\n  stroke: #db6e00;\\n}\\nsvg .sb3-variables-alt {\\n  fill: #ff8000;\\n}\\nsvg .sb3-variables-dark {\\n  fill: #db6e00;\\n}\\n\\n\\nsvg .sb3-list {\\n  fill: #ff661a;\\n  stroke: #e64d00;\\n}\\nsvg .sb3-list-alt {\\n  fill: #ff5500;\\n}\\nsvg .sb3-list-dark {\\n  fill: #e64d00;\\n}\\n\\n\\nsvg .sb3-custom {\\n  fill: #ff6680;\\n  stroke: #ff3355;\\n}\\nsvg .sb3-custom-alt {\\n  fill: #ff4d6a;\\n}\\nsvg .sb3-custom-dark {\\n  fill: #ff3355;\\n}\\n\\n\\nsvg .sb3-extension {\\n  fill: #0fbd8c;\\n  stroke: #0b8e69;\\n}\\nsvg .sb3-extension-alt {\\n  fill: #0da57a;\\n}\\nsvg .sb3-extension-dark {\\n  fill: #0b8e69;\\n}\\n\\n\\nsvg .sb3-obsolete {\\n  fill: #ed4242;\\n  stroke: #ca2b2b;\\n}\\nsvg .sb3-obsolete-alt {\\n  fill: #db3333;\\n}\\nsvg .sb3-obsolete-dark {\\n  fill: #ca2b2b;\\n}\\n\\n\\nsvg .sb3-grey {\\n  fill: #bfbfbf;\\n  stroke: #909090;\\n}\\nsvg .sb3-grey-alt {\\n  fill: #b2b2b2;\\n}\\nsvg .sb3-grey-dark {\\n  fill: #909090;\\n}\\n\\n\\nsvg .sb3-label {\\n  fill: #fff;\\n}\\n\\nsvg .sb3-input-color {\\n  stroke: #fff;\\n}\\n\\nsvg .sb3-input-number,\\nsvg .sb3-input-string {\\n  fill: #fff;\\n}\\nsvg .sb3-literal-number,\\nsvg .sb3-literal-string {\\n  fill: #575e75;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-motion {\\n  fill: #80b5ff;\\n  stroke: #3373cc;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-motion-alt {\\n  fill: #b3d2ff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-motion-dark {\\n  fill: #3373cc;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-looks {\\n  fill: #ccb3ff;\\n  stroke: #774dcb;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-looks-alt {\\n  fill: #ddccff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-looks-dark {\\n  fill: #774dcb;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sound {\\n  fill: #e19de1;\\n  stroke: #bd42bd;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sound-alt {\\n  fill: #ffb3ff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sound-dark {\\n  fill: #bd42bd;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-control {\\n  fill: #ffbe4c;\\n  stroke: #cf8b17;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-control-alt {\\n  fill: #ffda99;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-control-dark {\\n  fill: #cf8b17;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-events {\\n  fill: #ffd966;\\n  stroke: #cc9900;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-events-alt {\\n  fill: #ffecb3;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-events-dark {\\n  fill: #cc9900;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sensing {\\n  fill: #85c4e0;\\n  stroke: #2e8eb8;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sensing-alt {\\n  fill: #aed8ea;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-sensing-dark {\\n  fill: #2e8eb8;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-operators {\\n  fill: #7ece7e;\\n  stroke: #389438;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-operators-alt {\\n  fill: #b5e3b5;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-operators-dark {\\n  fill: #389438;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-variables {\\n  fill: #ffa54c;\\n  stroke: #db6e00;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-variables-alt {\\n  fill: #ffcc99;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-variables-dark {\\n  fill: #db6e00;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-list {\\n  fill: #ff9966;\\n  stroke: #e64d00;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-list-alt {\\n  fill: #ffcab0;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-list-dark {\\n  fill: #e64d00;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-custom {\\n  fill: #ff99aa;\\n  stroke: #e64d00;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-custom-alt {\\n  fill: #ffccd5;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-custom-dark {\\n  fill: #e64d00;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-extension {\\n  fill: #13ecaf;\\n  stroke: #0b8e69;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-extension-alt {\\n  fill: #75f0cd;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-extension-dark {\\n  fill: #0b8e69;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-obsolete {\\n  fill: #fc6666;\\n  stroke: #d32121;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-obsolete-alt {\\n  fill: #fcb0b0;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-obsolete-dark {\\n  fill: #d32121;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-grey {\\n  fill: #bfbfbf;\\n  stroke: #959595;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-grey-alt {\\n  fill: #b2b2b2;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-grey-dark {\\n  fill: #959595;\\n}\\n\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-label {\\n  fill: #000;\\n}\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-input-color {\\n  stroke: #fff;\\n}\\n\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-input-number,\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-input-string {\\n  fill: #fff;\\n}\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-literal-number,\\nsvg.scratchblocks-style-scratch3-high-contrast .sb3-literal-string {\\n  fill: #000;\\n}\\n\";\n\n// Need to define here, as we cannot reference Style#makeNewIcons\n// during JS loading phase.\nconst highContrastIcons = new Set([\n  \"dropdownArrow\",\n  \"turnRight\",\n  \"turnLeft\",\n  \"loopArrow\",\n  \"musicBlock\",\n  \"penBlock\",\n  \"videoBlock\",\n  \"ttsBlock\",\n  \"translationBlock\",\n]);\n\nclass Style {\n  static get cssContent() {\n    return cssContent\n  }\n\n  static makeCommonIcons() {\n    return [\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M20.8 3.7c-.4-.2-.9-.1-1.2.2-2 1.6-4.8 1.6-6.8 0-2.3-1.9-5.6-2.3-8.3-1v-.4c0-.6-.5-1-1-1s-1 .4-1 1v18.8c0 .5.5 1 1 1h.1c.5 0 1-.5 1-1v-6.4c1-.7 2.1-1.2 3.4-1.3 1.2 0 2.4.4 3.4 1.2 2.9 2.3 7 2.3 9.8 0 .3-.2.4-.5.4-.9V4.7c0-.5-.3-.9-.8-1zm-.3 10.2C18 16 14.4 16 11.9 14c-1.1-.9-2.5-1.4-4-1.4-1.2.1-2.3.5-3.4 1.1V4c2.5-1.4 5.5-1.1 7.7.6 2.4 1.9 5.7 1.9 8.1 0h.2l.1.1-.1 9.2z\",\n            fill: \"#45993d\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M20.6 4.8l-.1 9.1v.1c-2.5 2-6.1 2-8.6 0-1.1-.9-2.5-1.4-4-1.4-1.2.1-2.3.5-3.4 1.1V4c2.5-1.4 5.5-1.1 7.7.6 2.4 1.9 5.7 1.9 8.1 0h.2c0 .1.1.1.1.2z\",\n            fill: \"#4cbf56\",\n          }),\n        ]),\n        {\n          id: \"sb3-greenFlag\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.el(\"polygon\", {\n          points:\n            \"6.6,0.5 13.12,0.5 19.5,6.6 19.5,13.12 13.12,19.5 6.6,19.5 0.5,13.12 0.5,6.6 \",\n          fill: \"#ec5959\",\n          stroke: \"#b84848\",\n          \"stroke-linejoin\": \"round\",\n          \"stroke-linecap\": \"round\",\n        }),\n        {\n          id: \"sb3-stopSign\",\n        },\n      ),\n\n      SVG.el(\"path\", {\n        d: \"M0 0L4 4L0 8Z\",\n        fill: \"#111\",\n        id: \"sb3-addInput\",\n      }),\n      SVG.el(\"path\", {\n        d: \"M4 0L4 8L0 4Z\",\n        fill: \"#111\",\n        id: \"sb3-delInput\",\n      }),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"rect\", {\n            x: \"0\",\n            y: \"0\",\n            width: \"15\",\n            height: \"18\",\n            fill: \"#fff\",\n          }),\n          SVG.el(\"rect\", {\n            x: \"1\",\n            y: \"1\",\n            width: \"13\",\n            height: \"4\",\n            fill: \"#ff920f\",\n          }),\n          SVG.el(\"rect\", {\n            x: \"1\",\n            y: \"7\",\n            width: \"13\",\n            height: \"4\",\n            fill: \"#ff920f\",\n          }),\n          SVG.el(\"rect\", {\n            x: \"1\",\n            y: \"13\",\n            width: \"13\",\n            height: \"4\",\n            fill: \"#ff920f\",\n          }),\n        ]),\n        {\n          id: \"sb3-list\",\n        },\n      ),\n\n      SVG.el(\"image\", {\n        id: \"sb3-microbitBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,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\",\n      }),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M23.513 11.17h-.73c-.319 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M24.91 11.17h-.73c-.319 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M9.54 11.17h-.728c-.32 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.257-.479-.577-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M10.938 11.17h-.729c-.32 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.257-.479-.577-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M26.305 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M27.702 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.101 11.17h-.73c-.318 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M30.498 11.17h-.73c-.318 0-.576.213-.576.478v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M17.925 11.17h-.73c-.319 0-.577.213-.577.478v1.08h1.883v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M19.322 11.17h-.73c-.319 0-.577.213-.577.478v1.08h1.883v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M20.717 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.883v-1.08c0-.265-.26-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M22.114 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.883v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.129 11.17H14.4c-.32 0-.576.213-.576.478v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M16.526 11.17h-.729c-.32 0-.576.213-.576.478v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M12.335 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.882v-1.08c0-.265-.26-.479-.577-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M13.732 11.17h-.73c-.319 0-.575.213-.575.478v1.08h1.883v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M31.893 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.29 11.17h-.73c-.318 0-.574.213-.574.478v1.08h1.882v-1.08c0-.265-.26-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V12.533h17.882c.52 0 .941.445.941.992v13.89c0 .547-.421.992-.94.992\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V12.533h17.882c.52 0 .941.445.941.992v13.89c0 .547-.421.992-.94.992z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V16.502c0-2.19 1.686-3.969 3.764-3.969h15.06-3.766c-2.078 0-3.764 1.778-3.764 3.969v11.905z\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V16.502c0-2.19 1.686-3.969 3.764-3.969h15.06-3.766c-2.078 0-3.764 1.778-3.764 3.969v11.905z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M12.941 12.533H11.06c-1.559 0-2.824 1.334-2.824 2.977v1.986c0 .547.422.992.941.992H12c.52 0 .941-.445.941-.992V15.51c0-1.643 1.265-2.977 2.824-2.977h.94-3.764z\",\n            fill: \"#4C97FF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M12.941 12.533H11.06c-1.559 0-2.824 1.334-2.824 2.977v1.986c0 .547.422.992.941.992H12c.52 0 .941-.445.941-.992V15.51c0-1.643 1.265-2.977 2.824-2.977h.94-3.764z\",\n            stroke: \"#3D79CC\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n            d: \"M4.47 20.474h27.961l2.157 2.974\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V16.502c0-2.19 1.686-3.969 3.764-3.969h15.06-3.766c-2.078 0-3.764 1.778-3.764 3.969v11.905z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.307 18.964h-.73c-.319 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.307 18.964h-.73c-.319 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M24.178 18.964h-.728c-.32 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M24.178 18.964h-.728c-.32 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.258-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M27.051 18.964h-.73c-.318 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.257-.479-.576-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M27.051 18.964h-.73c-.318 0-.576.214-.576.479v1.08h1.882v-1.08c0-.265-.257-.479-.576-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.923 18.964h-.729c-.32 0-.576.214-.576.479v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479\",\n            fill: \"#7C87A5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.923 18.964h-.729c-.32 0-.576.214-.576.479v1.08h1.883v-1.08c0-.265-.258-.479-.578-.479z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V20.47H32.43l2.157 2.978v3.966c0 .548-.421.993-.94.993\",\n            fill: \"#E6E7E8\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M33.647 28.407H15.765V20.47H32.43l2.157 2.978v3.966c0 .548-.421.993-.94.993z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V20.47h11.294v7.937z\",\n            fill: \"#E6E7E8\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.765 28.407H5.412c-.52 0-.941-.445-.941-.993V20.47h11.294v7.937z\",\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"#E6E7E8\",\n            d: \"M19.53 24.438h11.294V20.47H19.529z\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#7C87A5\",\n            \"stroke-width\": \".893\",\n            d: \"M19.53 24.438h11.294V20.47H19.529zm12.902-3.964l2.157-2.794\",\n          }),\n        ]),\n        {\n          id: \"sb3-wedoBlock\",\n          fill: \"none\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"rect\", {\n            stroke: \"#7C87A5\",\n            fill: \"#FFF\",\n            x: \".5\",\n            y: \"3.59\",\n            width: \"28\",\n            height: \"25.81\",\n            rx: \"1\",\n          }),\n          SVG.el(\"rect\", {\n            stroke: \"#7C87A5\",\n            fill: \"#E6E7E8\",\n            x: \"2.5\",\n            y: \".5\",\n            width: \"24\",\n            height: \"32\",\n            rx: \"1\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#7C87A5\",\n            fill: \"#FFF\",\n            d: \"M2.5 14.5h24v13h-24z\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M14.5 10.5v4\",\n            stroke: \"#7C87A5\",\n            fill: \"#E6E7E8\",\n          }),\n          SVG.el(\"rect\", {\n            fill: \"#414757\",\n            x: \"4.5\",\n            y: \"2.5\",\n            width: \"20\",\n            height: \"10\",\n            rx: \"1\",\n          }),\n          SVG.el(\"rect\", {\n            fill: \"#7C87A5\",\n            opacity: \".5\",\n            x: \"13.5\",\n            y: \"20.13\",\n            width: \"2\",\n            height: \"2\",\n            rx: \".5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M9.06 20.13h1.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1.5a1 1 0 0 1 0-2zM19.93 22.13h-1.51a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h1.5a1 1 0 0 1 .01 2zM8.23 17.5H5a.5.5 0 0 1-.5-.5v-2.5h6l-1.85 2.78a.51.51 0 0 1-.42.22zM18.15 18.85l-.5.5a.49.49 0 0 0-.15.36V20a.5.5 0 0 1-.5.5h-.5a.5.5 0 0 1-.5-.5.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5H12a.5.5 0 0 1-.5-.5v-.29a.49.49 0 0 0-.15-.36l-.5-.5a.51.51 0 0 1 0-.71l1.51-1.49a.47.47 0 0 1 .35-.15h3.58a.47.47 0 0 1 .35.15l1.51 1.49a.51.51 0 0 1 0 .71zM10.85 23.45l.5-.5a.49.49 0 0 0 .15-.36v-.29a.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h.5a.5.5 0 0 1 .5.5v.29a.49.49 0 0 0 .15.36l.5.5a.5.5 0 0 1 0 .7l-1.51 1.5a.47.47 0 0 1-.35.15h-3.58a.47.47 0 0 1-.35-.15l-1.51-1.5a.5.5 0 0 1 0-.7z\",\n            fill: \"#7C87A5\",\n            opacity: \".5\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.5 27.5h5v4a1 1 0 0 1-1 1h-4v-5z\",\n            stroke: \"#CC4C23\",\n            fill: \"#F15A29\",\n          }),\n        ]),\n        {\n          transform: \"translate(5.5 3.5)\",\n          id: \"sb3-ev3Block\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M35 28H5a1 1 0 0 1-1-1V12c0-.6.4-1 1-1h30c.5 0 1 .4 1 1v15c0 .5-.5 1-1 1z\",\n            fill: \"#fff\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"red\",\n            d: \"M4 25h32v2.7H4zm9-1h-2.2a1 1 0 0 1-1-1v-9.7c0-.6.4-1 1-1H13c.6 0 1 .4 1 1V23c0 .6-.5 1-1 1z\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"red\",\n            d: \"M6.1 19.3v-2.2c0-.5.4-1 1-1h9.7c.5 0 1 .5 1 1v2.2c0 .5-.5 1-1 1H7.1a1 1 0 0 1-1-1z\",\n          }),\n          SVG.el(\"circle\", { fill: \"red\", cx: \"22.8\", cy: \"18.2\", r: \"3.4\" }),\n          SVG.el(\"circle\", { fill: \"red\", cx: \"30.6\", cy: \"18.2\", r: \"3.4\" }),\n          SVG.el(\"path\", { fill: \"red\", d: \"M4.2 27h31.9v.7H4.2z\" }),\n          SVG.el(\"circle\", {\n            fill: \"#e0e0e0\",\n            cx: \"22.8\",\n            cy: \"18.2\",\n            r: \"2.3\",\n          }),\n          SVG.el(\"circle\", {\n            fill: \"#e0e0e0\",\n            cx: \"30.6\",\n            cy: \"18.2\",\n            r: \"2.3\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"#e0e0e0\",\n            d: \"M12.5 22.9h-1.2c-.3 0-.5-.2-.5-.5V14c0-.3.2-.5.5-.5h1.2c.3 0 .5.2.5.5v8.4c0 .3-.2.5-.5.5z\",\n          }),\n          SVG.el(\"path\", {\n            fill: \"#e0e0e0\",\n            d: \"M7.2 18.7v-1.2c0-.3.2-.5.5-.5h8.4c.3 0 .5.2.5.5v1.2c0 .3-.2.5-.5.5H7.7c-.3 0-.5-.2-.5-.5zM4 26h32v2H4z\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#666\",\n            \"stroke-width\": \".5\",\n            d: \"M35.2 27.9H4.8a1 1 0 0 1-1-1V12.1c0-.6.5-1 1-1h30.5c.5 0 1 .4 1 1V27a1 1 0 0 1-1.1.9z\",\n          }),\n          SVG.el(\"path\", {\n            stroke: \"#666\",\n            \"stroke-width\": \".5\",\n            d: \"M35.2 27.9H4.8a1 1 0 0 1-1-1V12.1c0-.6.5-1 1-1h30.5c.5 0 1 .4 1 1V27a1 1 0 0 1-1.1.9z\",\n          }),\n        ]),\n        {\n          id: \"sb3-makeymakeyBlock\",\n          fill: \"none\",\n        },\n      ),\n      SVG.el(\"image\", {\n        id: \"sb3-gdxforBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABAlBMVEUAAAABAQEAAAB9h6YAAAAAAAAAAAB8iKZ7iKaAjKvm5+h+iqhcXFxGR0d8iKbj5OV9iKZ8h6be3+Db3d19h6acnJ0AAAB7nrDh4uPh4uN9iabZ2tt9iKbX19nJycnExsZ8iKe+wMC7vL2Eka/g4ePU1dV8iKZ9iKZ9iKd+iKitra2RkZGLjo5wcHCLi7l0oqJV//9csdZ8h6WFkq//vwDm5+iEka79vgJ6iql9iaaHk6tgq9Btm71+iadmo8dzk7OCj6yAjKp/iqhiqc1qnsB4jKtgrNFwl7d1tLTgtCxpocN0krJ2j65ossWNtZSbt4LAulHWsDnasTTuvhXzvg9zk7TzqAfaAAAAMXRSTlMAJiLoFBwI8q4a+0c4M/nr3tnQwKxYDAnk2726tbGMh4J9dinXq56ddG9nT01ACwsDk/+seAAAAidJREFUWMPt2Olu2kAUhuE5NvuaBAhZm7TpvufgMXaBbmAghOzp/d9KD7RW6yaqPeL7YVV9/471aBgfCXnUH7ULNhtkF96qv1dgwwoxoM08cDsJcwfMdgwonoiJPRFjQXkscQM3Adhxk4NuJwkoDx0nSp5NDTiae958NEaBwzkvC4YYcOxx7fCoeJhnrwcBv7H9TklFm08R4JD5SEkiMg8B4IjXwsV1HgHAPu+EizsQcMbr2B0OufZz7X0NcIZSwC9+rD3nADI2/fCtrHEfAvZ8Liqp6PuIwZZO+ZmSnspcY8AZ55WU5xkElDwuK1Vm7xgFTjhfLud5AgPHAUvBGARKvYnnTXpp/gvAg9PLyykSPLt1nNszIHjuSOdAcNp1nO4UeYYXNzcX0UH62P+0AnjH8lgCgL8s/+uXzwZgrOV2JAMwxpIMwRjLHIyxzMEYyxyMWgAwYiHAzm99iLQ6eOJEul4d7Ea6WhG8W7rAE+fertHgVXp+clpB9Oet64M/wH2TKwI/FrRFTH6JIZ6NvmZpxoDtptlFULOtzGPWy+4/r//gvwKGgcC90NtTqIg2dIuyClaWDvTjKlDMLba4UaUMcIuVbd0gyiGwjGVlFuKWfkQZhEfSQnypd8mCvOHGvkA5quo6EQSs6yrlNumN3obs0KKGHJ70QD+hLOQMW7r0sFI5KJVeY+bGkr1JopKlEG0StXbrW/uvQGMookXLLPFAZYTMJju/7z6rRW1MZcnIAAAAAElFTkSuQmCC\",\n      }),\n      SVG.el(\"image\", {\n        id: \"sb3-boostBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAKlBMVEUAAAD///98h6Xm5+iVnrb/Zhq+w9L5hk73+Pnf4eSQmbLr7Ozo39vp184hSCf6AAAAAXRSTlMAQObYZgAAAOFJREFUSMftlDEOgjAUhonhAi1sLvIk7NDJDTYu0LhzBzcXruHoDTyFB/BCNi30KU3InzioSb++hAS+vPfKa5pEIpHvk7a8gpf8ISWINtlg4i7ZFOKVTBlqsUR+ItYZJG7VzQQgMqGYd7zWRArpULEAe5Q/J9JMj4rluC7uleNw7TFRXcoREDnlinjX57eUsvRTn8+AE0/6OKV0g5buYTTyWFFr/XAp3aDzed4yFJWnKbhPbtaXXohDNYlDJWz4zSxEokkkEjb496AiVtqAbIYgYNGWBmhgES+NX6SRSORfeAJMWajr95DdqQAAAABJRU5ErkJggg==\",\n      }),\n    ]\n  }\n  static makeOriginalIcons() {\n    return [\n      ...Style.makeCommonIcons(),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M12.71 2.44A2.41 2.41 0 0 1 12 4.16L8.08 8.08a2.45 2.45 0 0 1-3.45 0L.72 4.16A2.42 2.42 0 0 1 0 2.44 2.48 2.48 0 0 1 .71.71C1 .47 1.43 0 6.36 0s5.39.46 5.64.71a2.44 2.44 0 0 1 .71 1.73z\",\n            fill: \"#231f20\",\n            opacity: \".1\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M6.36 7.79a1.43 1.43 0 0 1-1-.42L1.42 3.45a1.44 1.44 0 0 1 0-2c.56-.56 9.31-.56 9.87 0a1.44 1.44 0 0 1 0 2L7.37 7.37a1.43 1.43 0 0 1-1.01.42z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-dropdownArrow\",\n          transform: \"scale(0.944)\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M22.68 12.2a1.6 1.6 0 0 1-1.27.63h-7.69a1.59 1.59 0 0 1-1.16-2.58l1.12-1.41a4.82 4.82 0 0 0-3.14-.77 4.31 4.31 0 0 0-2 .8A4.25 4.25 0 0 0 7.2 10.6a5.06 5.06 0 0 0 .54 4.62A5.58 5.58 0 0 0 12 17.74a2.26 2.26 0 0 1-.16 4.52A10.25 10.25 0 0 1 3.74 18a10.14 10.14 0 0 1-1.49-9.22 9.7 9.7 0 0 1 2.83-4.14A9.92 9.92 0 0 1 9.66 2.5a10.66 10.66 0 0 1 7.72 1.68l1.08-1.35a1.57 1.57 0 0 1 1.24-.6 1.6 1.6 0 0 1 1.54 1.21l1.7 7.37a1.57 1.57 0 0 1-.26 1.39z\",\n            fill: \"#3d79cc\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.38 11.83h-7.61a.59.59 0 0 1-.43-1l1.75-2.19a5.9 5.9 0 0 0-4.7-1.58 5.07 5.07 0 0 0-4.11 3.17A6 6 0 0 0 7 15.77a6.51 6.51 0 0 0 5 2.92 1.31 1.31 0 0 1-.08 2.62 9.3 9.3 0 0 1-7.35-3.82 9.16 9.16 0 0 1-1.4-8.37A8.51 8.51 0 0 1 5.71 5.4a8.76 8.76 0 0 1 4.11-1.92 9.71 9.71 0 0 1 7.75 2.07l1.67-2.1a.59.59 0 0 1 1 .21L22 11.08a.59.59 0 0 1-.62.75z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnRight\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M20.34 18.21a10.24 10.24 0 0 1-8.1 4.22 2.26 2.26 0 0 1-.16-4.52 5.58 5.58 0 0 0 4.25-2.53 5.06 5.06 0 0 0 .54-4.62A4.25 4.25 0 0 0 15.55 9a4.31 4.31 0 0 0-2-.8 4.82 4.82 0 0 0-3.15.8l1.12 1.41A1.59 1.59 0 0 1 10.36 13H2.67a1.56 1.56 0 0 1-1.26-.63A1.54 1.54 0 0 1 1.13 11l1.72-7.43A1.59 1.59 0 0 1 4.38 2.4a1.57 1.57 0 0 1 1.24.6L6.7 4.35a10.66 10.66 0 0 1 7.72-1.68A9.88 9.88 0 0 1 19 4.81 9.61 9.61 0 0 1 21.83 9a10.08 10.08 0 0 1-1.49 9.21z\",\n            fill: \"#3d79cc\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M19.56 17.65a9.29 9.29 0 0 1-7.35 3.83 1.31 1.31 0 0 1-.08-2.62 6.53 6.53 0 0 0 5-2.92 6.05 6.05 0 0 0 .67-5.51 5.32 5.32 0 0 0-1.64-2.16 5.21 5.21 0 0 0-2.48-1A5.86 5.86 0 0 0 9 8.84L10.74 11a.59.59 0 0 1-.43 1H2.7a.6.6 0 0 1-.6-.75l1.71-7.42a.59.59 0 0 1 1-.21l1.67 2.1a9.71 9.71 0 0 1 7.75-2.07 8.84 8.84 0 0 1 4.12 1.92 8.68 8.68 0 0 1 2.54 3.72 9.14 9.14 0 0 1-1.33 8.36z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnLeft\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M23.3 11c-.3.6-.9 1-1.5 1h-1.6c-.1 1.3-.5 2.5-1.1 3.6-.9 1.7-2.3 3.2-4.1 4.1-1.7.9-3.6 1.2-5.5.9-1.8-.3-3.5-1.1-4.9-2.3-.7-.7-.7-1.9 0-2.6.6-.6 1.6-.7 2.3-.2H7c.9.6 1.9.9 2.9.9s1.9-.3 2.7-.9c1.1-.8 1.8-2.1 1.8-3.5h-1.5c-.9 0-1.7-.7-1.7-1.7 0-.4.2-.9.5-1.2l4.4-4.4c.7-.6 1.7-.6 2.4 0L23 9.2c.5.5.6 1.2.3 1.8z\",\n            fill: \"#cf8b17\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.8 11h-2.6c0 1.5-.3 2.9-1 4.2-.8 1.6-2.1 2.8-3.7 3.6-1.5.8-3.3 1.1-4.9.8-1.6-.2-3.2-1-4.4-2.1-.4-.3-.4-.9-.1-1.2.3-.4.9-.4 1.2-.1 1 .7 2.2 1.1 3.4 1.1s2.3-.3 3.3-1c.9-.6 1.6-1.5 2-2.6.3-.9.4-1.8.2-2.8h-2.4c-.4 0-.7-.3-.7-.7 0-.2.1-.3.2-.4l4.4-4.4c.3-.3.7-.3.9 0L22 9.8c.3.3.4.6.3.9s-.3.3-.5.3z\",\n            fill: \"#fff\",\n          }),\n        ]),\n        {\n          id: \"sb3-loopArrow\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M28.456 21.675c-.009-.312-.087-.825-.256-1.702-.096-.495-.612-3.022-.753-3.73-.395-1.98-.76-3.92-1.142-6.113-.732-4.223-.693-6.05.344-6.527.502-.23 1.06-.081 1.842.35.413.227 2.181 1.365 2.07 1.296 1.993 1.243 3.463 1.775 4.928 1.549 1.527-.237 2.505-.06 2.877.618.348.635.015 1.416-.729 2.18-1.473 1.516-3.976 2.514-5.849 2.023-.822-.218-1.238-.464-2.38-1.266a9.737 9.737 0 0 0-.095-.066c.047.593.264 1.74.717 3.803.294 1.336 2.079 9.187 2.637 11.674l.002.012c.529 2.637-1.872 4.724-5.235 4.724-3.29 0-6.363-1.988-6.862-4.528-.53-2.64 1.873-4.734 5.233-4.734a8.411 8.411 0 0 1 2.65.437zM11.46 27.666c-.01-.319-.091-.84-.266-1.738-.09-.46-.595-2.937-.753-3.727-.39-1.96-.752-3.892-1.131-6.07-.732-4.224-.692-6.052.344-6.527.502-.23 1.06-.082 1.841.349.414.228 2.181 1.365 2.07 1.296 1.992 1.243 3.461 1.775 4.925 1.549 1.525-.24 2.504-.064 2.876.614.348.635.015 1.415-.728 2.18-1.474 1.517-3.977 2.513-5.847 2.017-.822-.218-1.237-.463-2.38-1.266a9.729 9.729 0 0 0-.094-.065c.047.593.264 1.74.717 3.802.294 1.337 2.078 9.19 2.636 11.675l.003.013c.517 2.638-1.884 4.732-5.234 4.732-3.286 0-6.359-1.993-6.87-4.54-.518-2.639 1.885-4.73 5.242-4.73.904 0 1.802.15 2.65.436z\",\n            stroke: \"#000\",\n            \"stroke-opacity\": \".1\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M32.18 25.874C32.636 28.157 30.512 30 27.433 30c-3.07 0-5.923-1.843-6.372-4.126-.458-2.285 1.665-4.136 4.743-4.136.647 0 1.283.084 1.89.234a7 7 0 0 1 .938.302c.87-.02-.104-2.294-1.835-12.229-2.134-12.303 3.06-1.87 8.768-2.753 5.708-.885.076 4.82-3.65 3.844-3.724-.987-4.65-7.153.263 14.738zm-16.998 5.99C15.63 34.148 13.507 36 10.439 36c-3.068 0-5.92-1.852-6.379-4.136-.448-2.284 1.674-4.135 4.751-4.135 1.002 0 1.974.197 2.854.544.822-.055-.15-2.377-1.862-12.228-2.133-12.303 3.059-1.87 8.764-2.753 5.706-.894.076 4.821-3.648 3.834-3.723-.987-4.648-7.152.263 14.738z\",\n            fill: \"#FFF\",\n          }),\n        ]),\n        {\n          id: \"sb3-musicBlock\",\n          fill: \"none\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M8.753 34.602l-4.251 1.779 1.784-4.236c1.218-2.892 2.907-5.423 5.03-7.538L31.066 4.93c.846-.842 2.65-.41 4.032.967 1.38 1.375 1.816 3.173.97 4.015L16.318 29.59c-2.123 2.116-4.664 3.799-7.565 5.012\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.41 6.111s-4.45-2.379-8.202 5.771c-1.734 3.766-4.35 1.546-4.35 1.546\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.42 8.825c0 .463-.14.873-.432 1.164l-9.335 9.301c.282-.29.41-.668.41-1.12 0-.874-.507-1.963-1.406-2.868-1.362-1.358-3.147-1.8-4.002-.99L30.99 5.01c.844-.84 2.65-.41 4.035.96.898.904 1.396 1.982 1.396 2.855M10.515 33.774a23.74 23.74 0 0 1-1.764.83L4.5 36.382l1.786-4.235c.258-.604.529-1.186.833-1.757.69.183 1.449.625 2.109 1.282.659.658 1.102 1.412 1.287 2.102\",\n            fill: \"#4C97FF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.498 8.748c0 .464-.141.874-.433 1.165l-19.742 19.68c-2.131 2.111-4.673 3.793-7.572 5.01L4.5 36.381l.974-2.317 1.925-.808c2.899-1.218 5.441-2.899 7.572-5.01l19.742-19.68c.292-.292.432-.702.432-1.165 0-.647-.27-1.4-.779-2.123.249.172.498.377.736.614.898.905 1.396 1.983 1.396 2.856\",\n            fill: \"#575E75\",\n            opacity: \".15\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M18.45 12.831a.904.904 0 1 1-1.807 0 .904.904 0 0 1 1.807 0z\",\n            fill: \"#575E75\",\n          }),\n        ]),\n        {\n          id: \"sb3-penBlock\",\n          stroke: \"#575E75\",\n          fill: \"none\",\n          \"stroke-linejoin\": \"round\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"circle\", {\n            opacity: 0.25,\n            cx: 32,\n            cy: 16,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.5,\n            cx: 32,\n            cy: 12,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.75,\n            cx: 32,\n            cy: 8,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            cx: 32,\n            cy: 4,\n            r: 4.5,\n          }),\n          SVG.el(\"path\", {\n            d: \"M22.672 4.42l-6.172 4V6.1c0-2.01-1.563-3.6-3.5-3.6H4.1C2.076 2.5.5 4.076.5 6.1V14c0 1.927 1.584 3.512 3.6 3.6H13c1.902 0 3.5-1.653 3.5-3.6v-2.283l6.257 3.754.097.075c.02.02.098.054.146.054.267 0 .5-.217.5-.5V4.8c0 .037-.056-.094-.129-.243-.145-.242-.43-.299-.7-.137z\",\n            fill: \"#4D4D4D\",\n            \"stroke-linejoin\": \"round\",\n          }),\n        ]),\n        {\n          id: \"sb3-videoBlock\",\n          stroke: \"#000\",\n          fill: \"#FFF\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M25.644 20.5c-1.667 1.937-4.539 3.429-5.977 3.429a1.25 1.25 0 0 1-.557-.137c-.372-.186-.61-.542-.61-1.03 0-.105.017-.207.05-.308.076-.236.624-.986.727-1.173.27-.484.462-1.075.566-1.865A8.5 8.5 0 0 1 24 3.5h4a8.5 8.5 0 1 1 0 17h-2.356z\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.5 21.67c0-1.016-1.494-1.586-2.387-.782l-2.7 2.163A5.958 5.958 0 0 1 6.7 24.33h-.4c-1.035 0-1.8.69-1.8 1.573v4.235c0 .883.765 1.572 1.8 1.572h.4c1.458 0 2.754.423 3.82 1.287l2.598 2.161c.908.75 2.382.188 2.382-.876V21.67z\",\n            fill: \"#4D4D4D\",\n          }),\n        ]),\n        {\n          id: \"sb3-ttsBlock\",\n          stroke: \"#000\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n\n      SVG.el(\"image\", {\n        id: \"sb3-translateBlock\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAA21BMVEUAAAAAAAAAAAAAAADS0tIAAABHR0cAAADX19cAAAAAAACkpKRqamq2traurq6WlpbV1dWEhITHx8fPz8/Ly8vDw8O9vb0AAABMTEz////Z2dlXXnVMl//g4ODu7u7m5ub4+PhPmf/x8fH09PT6+vri4uNRmv/r6+1uqv/0+P9Ynv/p8v+rrrphZ33S5f+51v9ho/+1uMKBhpfH3v+Wmqhrcoacxf+Pvv/KzNSgpLGLkKDd6/+rzf9npv/AwsuDtv98s/90rv9jpP9GieeOrtm5ubl2fI7Z4u56otk5hEFfAAAAGXRSTlMAJhgM1wYyHvIkEWpBhXhc5U+uybyhk0YvleQYgwAABDpJREFUWMPtmNl6mzAQhQMCBAYbvLX1GIwxi7e2TtosTdKk+/L+T1QBVoQtJHDby5yLROYTPzOagSM4e9az6oVUrDgKxh39//Bwb+QBkTZ2VL3hypYilKWicpY6gmWcTCbxIoSh0xHjOkZXA4m0rlGcrcBsslcSmrYq4qm2GczmE6Hms6A8W4GQHZ1BTxXweuTCErGz1TEEaTpLymML6HVq87VhIWPRs21yNu679guNXn9hOnWVMUwanzxG0yCTdYQQts195umwJmnUDSatFHQRPaVvljkl4CAuRlWrCfD9uiZEbR+ObrnjfRDhwHUtdAi0gK/vLtts+VqDVfIMjZSmLEycBuD1D4kK8MHc+Ju3/FFQaHdXc4rBU/8NiCE+OJyAIQKuz32qjA7O1xzwqMtiUETAXeRzinZcyoPgsPpDcco3q9WD729WhTI/e1itbriUzwwtqPI0Q5et4ZoA6SDj1pCWOeB44qJ88aOiIB8j/xMH5IiUJwG+jfyHPMCNH20FQEpkPGnbnBeFuI78Fd82VWJCeTyQCzHb3pMCb8VAQhxBCkPKkzf2Z9J9mR9dCxqb3tBO17EoTw4ky0f0VXSnUCGE6LDp1tvlwK0cyNQMJA1DlL3Px8TenvTjpcAN5cD7VVSsoR992c4oS+aGcuDbzxFBfVqvv5L/375DCzeUAXfnOW5TJHudffvdzg3FwPdZvnbX6/LXr+9t3ZCzAAaMNh/X9BdAWzcUm9T2vnrpk91QbqOhLEDeDZuNHkBSX94Nm7ciAJOWAkW8WZIDl1MikAD57ZwceJsDL0VAfsPJwgzzO5cHvsmBb2IJkAlhB5InntlXlJcc8MO00GMzsHTbsMJDdU+hOxIeCfKuXYQu7ZJ5oDmExwPjfAEvyZ9lGyDW9tOWMH6l1z4nLwjrQ572RRugAvMS57mq4MH7czq9Kgpz1QZoDcI4DsHrWUjw4E1JbLeTSZ5z2gLYMTTwBnaOEwBvS1Ke86UUyF7isKpLrIHkSvVGBORdUQx8nFb0KAUy38aSCO8I510hMrhrBOrGEFIYGToPZM+Fn+XwiraiAMh2Uwnb+3DAC9Z/t3TIA2W7MwZkYbH+uZIC+f0jD3z9+vXF05hIAJTtcK3TLIDnMSLnhqeZlDo8eksYqH/3UskWPz7aCuDTX3urMiA5ejHCp7+YV4W9gxBnMFJP/XRwKNT3IEhLZpIGQMp86seNY6LlutRQgrFr6dLPLyELjm44eemIWt6C+JP0A1HffCIm4GDEw2jvpNTxbIwQ0kUTUYUYkgYTSXfMBU1Ee+G6fSwkOlpA/RFcJCR2erRHkllKSjNWhdd+NQbqkJrgunyPhKBIprpeiZyLZtEeCRNWQdlUZPU8yF1yYJ1J1HGGEC5iknS8pN0tRtoDDzTSNDLpqjMu2s4b9fBZg/TcJVHjrA7GSl/JZz7rWbX6A0ZzUfwVEqfrAAAAAElFTkSuQmCC\",\n      }),\n    ]\n  }\n\n  static makeHighContrastIcons() {\n    // Make sure to update the highContrastIcons set above!\n    return [\n      ...Style.makeCommonIcons(),\n      // https://github.com/scratchfoundation/scratch-gui/tree/beta/src/lib/themes/high-contrast/blocks-media\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M12.71 2.44A2.41 2.41 0 0 1 12 4.16L8.08 8.08a2.45 2.45 0 0 1-3.45 0L.72 4.16A2.42 2.42 0 0 1 0 2.44 2.48 2.48 0 0 1 .71.71C1 .47 1.43 0 6.36 0s5.39.46 5.64.71a2.44 2.44 0 0 1 .71 1.73z\",\n            fill: \"#231f20\",\n            opacity: \".1\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M6.36 7.79a1.43 1.43 0 0 1-1-.42L1.42 3.45a1.44 1.44 0 0 1 0-2c.56-.56 9.31-.56 9.87 0a1.44 1.44 0 0 1 0 2L7.37 7.37a1.43 1.43 0 0 1-1.01.42z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-dropdownArrow-high-contrast\",\n          transform: \"scale(0.944)\",\n        },\n      ),\n\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M22.68 12.2a1.6 1.6 0 0 1-1.27.63h-7.69a1.59 1.59 0 0 1-1.16-2.58l1.12-1.41a4.82 4.82 0 0 0-3.14-.77 4.31 4.31 0 0 0-2 .8A4.25 4.25 0 0 0 7.2 10.6a5.06 5.06 0 0 0 .54 4.62A5.58 5.58 0 0 0 12 17.74a2.26 2.26 0 0 1-.16 4.52A10.25 10.25 0 0 1 3.74 18a10.14 10.14 0 0 1-1.49-9.22 9.7 9.7 0 0 1 2.83-4.14A9.92 9.92 0 0 1 9.66 2.5a10.66 10.66 0 0 1 7.72 1.68l1.08-1.35a1.57 1.57 0 0 1 1.24-.6 1.6 1.6 0 0 1 1.54 1.21l1.7 7.37a1.57 1.57 0 0 1-.26 1.39z\",\n            fill: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.38 11.83h-7.61a.59.59 0 0 1-.43-1l1.75-2.19a5.9 5.9 0 0 0-4.7-1.58 5.07 5.07 0 0 0-4.11 3.17A6 6 0 0 0 7 15.77a6.51 6.51 0 0 0 5 2.92 1.31 1.31 0 0 1-.08 2.62 9.3 9.3 0 0 1-7.35-3.82 9.16 9.16 0 0 1-1.4-8.37A8.51 8.51 0 0 1 5.71 5.4a8.76 8.76 0 0 1 4.11-1.92 9.71 9.71 0 0 1 7.75 2.07l1.67-2.1a.59.59 0 0 1 1 .21L22 11.08a.59.59 0 0 1-.62.75z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnRight-high-contrast\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M20.34 18.21a10.24 10.24 0 0 1-8.1 4.22 2.26 2.26 0 0 1-.16-4.52 5.58 5.58 0 0 0 4.25-2.53 5.06 5.06 0 0 0 .54-4.62A4.25 4.25 0 0 0 15.55 9a4.31 4.31 0 0 0-2-.8 4.82 4.82 0 0 0-3.15.8l1.12 1.41A1.59 1.59 0 0 1 10.36 13H2.67a1.56 1.56 0 0 1-1.26-.63A1.54 1.54 0 0 1 1.13 11l1.72-7.43A1.59 1.59 0 0 1 4.38 2.4a1.57 1.57 0 0 1 1.24.6L6.7 4.35a10.66 10.66 0 0 1 7.72-1.68A9.88 9.88 0 0 1 19 4.81 9.61 9.61 0 0 1 21.83 9a10.08 10.08 0 0 1-1.49 9.21z\",\n            fill: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M19.56 17.65a9.29 9.29 0 0 1-7.35 3.83 1.31 1.31 0 0 1-.08-2.62 6.53 6.53 0 0 0 5-2.92 6.05 6.05 0 0 0 .67-5.51 5.32 5.32 0 0 0-1.64-2.16 5.21 5.21 0 0 0-2.48-1A5.86 5.86 0 0 0 9 8.84L10.74 11a.59.59 0 0 1-.43 1H2.7a.6.6 0 0 1-.6-.75l1.71-7.42a.59.59 0 0 1 1-.21l1.67 2.1a9.71 9.71 0 0 1 7.75-2.07 8.84 8.84 0 0 1 4.12 1.92 8.68 8.68 0 0 1 2.54 3.72 9.14 9.14 0 0 1-1.33 8.36z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-turnLeft-high-contrast\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M23.3 11c-.3.6-.9 1-1.5 1h-1.6c-.1 1.3-.5 2.5-1.1 3.6-.9 1.7-2.3 3.2-4.1 4.1-1.7.9-3.6 1.2-5.5.9-1.8-.3-3.5-1.1-4.9-2.3-.7-.7-.7-1.9 0-2.6.6-.6 1.6-.7 2.3-.2H7c.9.6 1.9.9 2.9.9s1.9-.3 2.7-.9c1.1-.8 1.8-2.1 1.8-3.5h-1.5c-.9 0-1.7-.7-1.7-1.7 0-.4.2-.9.5-1.2l4.4-4.4c.7-.6 1.7-.6 2.4 0L23 9.2c.5.5.6 1.2.3 1.8z\",\n            fill: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M21.8 11h-2.6c0 1.5-.3 2.9-1 4.2-.8 1.6-2.1 2.8-3.7 3.6-1.5.8-3.3 1.1-4.9.8-1.6-.2-3.2-1-4.4-2.1-.4-.3-.4-.9-.1-1.2.3-.4.9-.4 1.2-.1 1 .7 2.2 1.1 3.4 1.1s2.3-.3 3.3-1c.9-.6 1.6-1.5 2-2.6.3-.9.4-1.8.2-2.8h-2.4c-.4 0-.7-.3-.7-.7 0-.2.1-.3.2-.4l4.4-4.4c.3-.3.7-.3.9 0L22 9.8c.3.3.4.6.3.9s-.3.3-.5.3z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-loopArrow-high-contrast\",\n        },\n      ),\n\n      // https://github.com/scratchfoundation/scratch-gui/tree/beta/src/lib/themes/high-contrast/extensions\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M28.456 21.675c-.009-.312-.087-.825-.256-1.702-.096-.495-.612-3.022-.753-3.73-.395-1.98-.76-3.92-1.142-6.113-.732-4.223-.693-6.05.344-6.527.502-.23 1.06-.081 1.842.35.413.227 2.181 1.365 2.07 1.296 1.993 1.243 3.463 1.775 4.928 1.549 1.527-.237 2.505-.06 2.877.618.348.635.015 1.416-.729 2.18-1.473 1.516-3.976 2.514-5.849 2.023-.822-.218-1.238-.464-2.38-1.266a9.737 9.737 0 0 0-.095-.066c.047.593.264 1.74.717 3.803.294 1.336 2.079 9.187 2.637 11.674l.002.012c.529 2.637-1.872 4.724-5.235 4.724-3.29 0-6.363-1.988-6.862-4.528-.53-2.64 1.873-4.734 5.233-4.734a8.411 8.411 0 0 1 2.65.437zM11.46 27.666c-.01-.319-.091-.84-.266-1.738-.09-.46-.595-2.937-.753-3.727-.39-1.96-.752-3.892-1.131-6.07-.732-4.224-.692-6.052.344-6.527.502-.23 1.06-.082 1.841.349.414.228 2.181 1.365 2.07 1.296 1.992 1.243 3.461 1.775 4.925 1.549 1.525-.24 2.504-.064 2.876.614.348.635.015 1.415-.728 2.18-1.474 1.517-3.977 2.513-5.847 2.017-.822-.218-1.237-.463-2.38-1.266a9.729 9.729 0 0 0-.094-.065c.047.593.264 1.74.717 3.802.294 1.337 2.078 9.19 2.636 11.675l.003.013c.517 2.638-1.884 4.732-5.234 4.732-3.286 0-6.359-1.993-6.87-4.54-.518-2.639 1.885-4.73 5.242-4.73.904 0 1.802.15 2.65.436z\",\n            stroke: \"#000\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M32.18 25.874C32.636 28.157 30.512 30 27.433 30c-3.07 0-5.923-1.843-6.372-4.126-.458-2.285 1.665-4.136 4.743-4.136.647 0 1.283.084 1.89.234a7 7 0 0 1 .938.302c.87-.02-.104-2.294-1.835-12.229-2.134-12.303 3.06-1.87 8.768-2.753 5.708-.885.076 4.82-3.65 3.844-3.724-.987-4.65-7.153.263 14.738zm-16.998 5.99C15.63 34.148 13.507 36 10.439 36c-3.068 0-5.92-1.852-6.379-4.136-.448-2.284 1.674-4.135 4.751-4.135 1.002 0 1.974.197 2.854.544.822-.055-.15-2.377-1.862-12.228-2.133-12.303 3.059-1.87 8.764-2.753 5.706-.894.076 4.821-3.648 3.834-3.723-.987-4.648-7.152.263 14.738z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-musicBlock-high-contrast\",\n          fill: \"none\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M8.753 34.602l-4.251 1.779 1.784-4.236c1.218-2.892 2.907-5.423 5.03-7.538L31.066 4.93c.846-.842 2.65-.41 4.032.967 1.38 1.375 1.816 3.173.97 4.015L16.318 29.59c-2.123 2.116-4.664 3.799-7.565 5.012\",\n            fill: \"#FFF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M29.41 6.111s-4.45-2.379-8.202 5.771c-1.734 3.766-4.35 1.546-4.35 1.546\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.42 8.825c0 .463-.14.873-.432 1.164l-9.335 9.301c.282-.29.41-.668.41-1.12 0-.874-.507-1.963-1.406-2.868-1.362-1.358-3.147-1.8-4.002-.99L30.99 5.01c.844-.84 2.65-.41 4.035.96.898.904 1.396 1.982 1.396 2.855M10.515 33.774a23.74 23.74 0 0 1-1.764.83L4.5 36.382l1.786-4.235c.258-.604.529-1.186.833-1.757.69.183 1.449.625 2.109 1.282.659.658 1.102 1.412 1.287 2.102\",\n            fill: \"#4C97FF\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M36.498 8.748c0 .464-.141.874-.433 1.165l-19.742 19.68c-2.131 2.111-4.673 3.793-7.572 5.01L4.5 36.381l.974-2.317 1.925-.808c2.899-1.218 5.441-2.899 7.572-5.01l19.742-19.68c.292-.292.432-.702.432-1.165 0-.647-.27-1.4-.779-2.123.249.172.498.377.736.614.898.905 1.396 1.983 1.396 2.856\",\n            fill: \"#0b8e69\",\n            opacity: \".15\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M18.45 12.831a.904.904 0 1 1-1.807 0 .904.904 0 0 1 1.807 0z\",\n            fill: \"#0b8e69\",\n          }),\n        ]),\n        {\n          id: \"sb3-penBlock-high-contrast\",\n          stroke: \"#0b8e69\",\n          fill: \"none\",\n          \"stroke-linejoin\": \"round\",\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"circle\", {\n            opacity: 0.25,\n            cx: 32,\n            cy: 16,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.5,\n            cx: 32,\n            cy: 12,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            opacity: 0.75,\n            cx: 32,\n            cy: 8,\n            r: 4.5,\n          }),\n          SVG.el(\"circle\", {\n            cx: 32,\n            cy: 4,\n            r: 4.5,\n          }),\n          SVG.el(\"path\", {\n            d: \"M22.672 4.42l-6.172 4V6.1c0-2.01-1.563-3.6-3.5-3.6H4.1C2.076 2.5.5 4.076.5 6.1V14c0 1.927 1.584 3.512 3.6 3.6H13c1.902 0 3.5-1.653 3.5-3.6v-2.283l6.257 3.754.097.075c.02.02.098.054.146.054.267 0 .5-.217.5-.5V4.8c0 .037-.056-.094-.129-.243-.145-.242-.43-.299-.7-.137z\",\n            fill: \"#000\",\n            \"stroke-linejoin\": \"round\",\n          }),\n        ]),\n        {\n          id: \"sb3-videoBlock-high-contrast\",\n          stroke: \"#0b8e69\",\n          fill: \"#FFF\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n      SVG.setProps(\n        SVG.group([\n          SVG.el(\"path\", {\n            d: \"M25.644 20.5c-1.667 1.937-4.539 3.429-5.977 3.429a1.25 1.25 0 0 1-.557-.137c-.372-.186-.61-.542-.61-1.03 0-.105.017-.207.05-.308.076-.236.624-.986.727-1.173.27-.484.462-1.075.566-1.865A8.5 8.5 0 0 1 24 3.5h4a8.5 8.5 0 1 1 0 17h-2.356z\",\n            fill: \"#FFF\",\n            stroke: \"#0b8e69\",\n          }),\n          SVG.el(\"path\", {\n            d: \"M15.5 21.67c0-1.016-1.494-1.586-2.387-.782l-2.7 2.163A5.958 5.958 0 0 1 6.7 24.33h-.4c-1.035 0-1.8.69-1.8 1.573v4.235c0 .883.765 1.572 1.8 1.572h.4c1.458 0 2.754.423 3.82 1.287l2.598 2.161c.908.75 2.382.188 2.382-.876V21.67z\",\n            fill: \"#000\",\n          }),\n        ]),\n        {\n          id: \"sb3-ttsBlock-high-contrast\",\n          \"stroke-opacity\": 0.15,\n        },\n      ),\n\n      // The original icon is in PNG, but the high contrast version uses SVG.\n      // For consistency we use PNG in both places.\n      // https://github.com/scratchfoundation/scratch-gui/blob/beta/src/lib/themes/high-contrast/extensions/translateIcon.svg\n      // Exported via Inkscape and compressed\n      SVG.el(\"image\", {\n        id: \"sb3-translateBlock-high-contrast\",\n        width: \"40px\",\n        height: \"40px\",\n        href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxoAAARjCAMAAADfFKLnAAABhlBMVEUAAAALjWkOj2oLjmkAAAAQj2wkmnkYlHILj2kLjmkAAAAAAABsu6VouaIJjmgimncAAAAAAAALjml0v6kAAAAAAAAAAAAATzhjt6A9pogVk28XlHAVk28ZlHEAAAAAAAAAAAANj2oAAAAJj2oAAAAAAAByvahsu6VVsZcqnXwAAAAAAAAAAAAMj2oQkWsAAAAPkGwAAABHqo4AAAAclnMcl3MKj2kXlHIXk3EAAAALj2gAAAD///8AAAB9w6+ExrONyrmHyLWrzv/3+/r8/v6Fx7VpqP/0+fh7s/9Ml//4/PvK59/4+//u9f/l8P/V5v9vrP9an/9Smv/o6OjMzMwrKysDAwPp8//e7P+w0f+axf9xrf9kpf9jpP9ho/9Nl//e3t7E5Nu+4dfT09OUzb2QzLuZmZlMrJKGhoYpnHxlZWVgYGBCQkINDQ30+P/J4P/D3P+11P+Nvf90rv9Jlvby8vLc3Nyl1cik1ce+vr6DxrKlpaWfn58xnJZBpJWJiYl+fn4fHx9PedmHAAAAPHRSTlMAd4OAxg/0wohyDv78+Tj16Ik6+ux+WAb79e7mvbCemW1rZDYXC/n39PTw39u8t7RVNvX11NLDm5qOWx0x5AFdAAAGd0lEQVR42uzbV3faQBCG4XGChMEU4wLujntv6WXXIUAwxd3Gvfea3nv+eQaBcgS5ztV8zwWMfsB7js7uiAAAAAAAAP6fgKfCwRMg1l49OBzqJgC5DLfZO+nQa7oNovq2Ia2rJwhArFZ/QpVI+Fspr57b8BKAUAEzrgpmXhSHjBmgvDGtQwQglKdWFaU27KnWQ0TekEvruvYwAYh08ym3ML0ei8V2NvlnfZofn98gorC2DBKASFYaq8md9MLW1kJ6O7lqp9Hj0qzqFgGIxGlYtjeUepPkwU6D20AZIJidRmxhZnbxtTMN8rpQBshlpzGdTL2dTzjSYJEnBCCVnYaaS++uqb9pAEhnpzGXXFycn1PZo2g0ejpiL410EYBQhTRepnZTs2vz776f+yYd/EG3QQAiWVd+s+nNV/yX+NEQVyXiDS0EIFKNmeAEZlRe9jyuysSDNQQgkrsvo4qOfOofvgoCEMloNWs/cgNTx9FT+7RqaUV/KI7PcFoFYgVG+7iMxpbK+19UwU+tfyENEC/SvK+yAw8cdxy5XO53AmmAdI8bD/qbxh13HMv67Ex/RhogXVfzvQ6DHGlc6L09fYk0AJgjjalrza7fIw2QrjtSksZXfXFycqm/IQ0QrrPK5XWmcbWylD+/vUIaIFtnldaFNjx+lbd8qNjhMq78QDQug7l6eAwE46pMxsSiCAhVpy1hYu7y9cKM300AMoXbOQ5XyEvMaAn6opbjKQ7jkw9L6SBZSOsxe66pqLSMNnIb/hG8TYFk3mqt66nMw4Gs2m+OEIBgE9zGcFtZHeNN/Qe3OwhAsu5HQ3fq2qiU0XG3Cd+GAwAAAAD8YQ8OBAAAAACA/F8bQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYQ8OBAAAAACA/F8bQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV2IMDAQAAAAAg/9dGUFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUV9uBAAAAAAADI/7URVFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWFPTgQAAAAAADyf20EVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVhDw4EAAAAAID8XxtBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXYgwMBAAAAACD/10ZQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVRX24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYU9OBAAAAAAAPJ/bQRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWEPDgQAAAAAgPxfG0FVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVdiDAwEAAAAAIP/XRlBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVFfbgQAAAAAAAyP+1EVRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVhT04EAAAAAAA8n9tBFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYQ8OBAAAAACA/F8bQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV2oNDAgAAAABB/1/7wgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMArKwCvdMdAc1YAAAAASUVORK5CYII=\",\n      }),\n    ]\n  }\n\n  /**\n   * @return the icon name with suffix, if a high contrast icon is defined\n   */\n  static iconName(name, iconStyle) {\n    if (iconStyle === \"high-contrast\" && highContrastIcons.has(name)) {\n      return `${name}-high-contrast`\n    }\n\n    return name\n  }\n\n  static makeStyle() {\n    const style = SVG.el(\"style\");\n    style.appendChild(SVG.cdata(Style.cssContent));\n    return style\n  }\n\n  static get defaultFont() {\n    return \"500 12pt Helvetica Neue, Helvetica, sans-serif\"\n  }\n  static get commentFont() {\n    return \"400 12pt Helvetica Neue, Helvetica, sans-serif\"\n  }\n}\n\nconst {\n  defaultFont,\n  commentFont,\n  makeStyle: makeStyle$1,\n  makeOriginalIcons,\n  makeHighContrastIcons,\n  iconName,\n} = Style;\n\nclass LabelView {\n  constructor(label) {\n    Object.assign(this, label);\n\n    this.el = null;\n    this.height = 12;\n    this.metrics = null;\n    this.x = 0;\n  }\n\n  get isLabel() {\n    return true\n  }\n\n  draw(_iconStyle) {\n    return this.el\n  }\n\n  get width() {\n    return this.metrics.width\n  }\n\n  measure() {\n    const value = this.value;\n    const cls = `sb3-${this.cls}`;\n    this.el = SVG.text(0, 13, value, {\n      class: `sb3-label ${cls}`,\n    });\n\n    let cache = LabelView.metricsCache[cls];\n    if (!cache) {\n      cache = LabelView.metricsCache[cls] = Object.create(null);\n    }\n\n    if (Object.hasOwnProperty.call(cache, value)) {\n      this.metrics = cache[value];\n    } else {\n      const font = /comment-label/.test(this.cls) ? commentFont : defaultFont;\n      this.metrics = cache[value] = LabelView.measure(value, font);\n      // TODO: word-spacing? (fortunately it seems to have no effect!)\n    }\n  }\n\n  static measure(value, font) {\n    const context = LabelView.measuring;\n    context.font = font;\n    const textMetrics = context.measureText(value);\n    const width = (textMetrics.width + 0.5) | 0;\n    return { width: width }\n  }\n}\n\nLabelView.metricsCache = {};\nLabelView.toMeasure = [];\n\nclass IconView {\n  constructor(icon) {\n    Object.assign(this, icon);\n\n    const info = IconView.icons[this.name];\n    if (!info) {\n      throw new Error(`no info for icon: ${this.name}`)\n    }\n    Object.assign(this, info);\n  }\n\n  get isIcon() {\n    return true\n  }\n\n  draw(iconStyle) {\n    return SVG.symbol(`#sb3-${iconName(this.name, iconStyle)}`, {\n      width: this.width,\n      height: this.height,\n    })\n  }\n\n  static get icons() {\n    return {\n      greenFlag: { width: 20, height: 21, dy: -2 },\n      stopSign: { width: 20, height: 20 },\n      turnLeft: { width: 24, height: 24 },\n      turnRight: { width: 24, height: 24 },\n      loopArrow: { width: 24, height: 24 },\n      addInput: { width: 4, height: 8 },\n      delInput: { width: 4, height: 8 },\n      list: { width: 15, height: 18 },\n      musicBlock: { width: 40, height: 40 },\n      penBlock: { width: 40, height: 40 },\n      videoBlock: { width: 40, height: 40, dy: 10 },\n      ttsBlock: { width: 40, height: 40 },\n      translateBlock: { width: 40, height: 40 },\n      wedoBlock: { width: 40, height: 40 },\n      ev3Block: { width: 40, height: 40 },\n      microbitBlock: { width: 40, height: 40 },\n      makeymakeyBlock: { width: 40, height: 40 },\n      gdxforBlock: { width: 40, height: 40 },\n      boostBlock: { width: 40, height: 40 },\n    }\n  }\n}\n\nclass LineView {\n  constructor() {\n    this.width = 1;\n    this.height = 40;\n    this.x = 0;\n  }\n\n  get isLine() {\n    return true\n  }\n\n  measure() {}\n\n  draw(_iconStyle, parent) {\n    const category = parent.info.category;\n    return SVG.el(\"line\", {\n      class: `sb3-${category}-line`,\n      \"stroke-linecap\": \"round\",\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 40,\n    })\n  }\n}\n\nclass InputView {\n  constructor(input) {\n    Object.assign(this, input);\n    if (input.label) {\n      this.label = newView(input.label);\n    }\n    this.isBoolean = this.shape === \"boolean\";\n    this.isDropdown = this.shape === \"dropdown\";\n    this.isRound = !(this.isBoolean || this.isDropdown);\n\n    this.x = 0;\n  }\n\n  get isInput() {\n    return true\n  }\n\n  measure() {\n    if (this.hasLabel) {\n      this.label.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      string: SVG.pillRect,\n      number: SVG.pillRect,\n      \"number-dropdown\": SVG.pillRect,\n      color: SVG.pillRect,\n      dropdown: SVG.roundRect,\n\n      boolean: SVG.pointedRect,\n      stack: SVG.stackRect,\n      reporter: SVG.pillRect,\n    }\n  }\n\n  draw(iconStyle, parent) {\n    let w;\n    let label;\n    if (this.isBoolean) {\n      w = 48;\n    } else if (this.isColor) {\n      w = 40;\n    } else if (this.hasLabel) {\n      label = this.label.draw(iconStyle);\n      // Minimum padding of 11\n      // Minimum width of 40, at which point we center the label\n      const px = this.label.width >= 18 ? 11 : (40 - this.label.width) / 2;\n      w = this.label.width + 2 * px;\n      label = SVG.move(px, 9, label);\n    } else {\n      w = this.isInset ? 30 : null;\n    }\n    if (this.hasArrow) {\n      w += 20;\n    }\n    this.width = w;\n\n    const h = (this.height = 32);\n\n    const el = InputView.shapes[this.shape](w, h);\n    SVG.setProps(el, {\n      class: `${\n        this.isColor ? \"\" : `sb3-${parent.info.category}`\n      } sb3-input sb3-input-${this.shape}`,\n    });\n\n    if (this.isColor) {\n      SVG.setProps(el, {\n        fill: this.value,\n      });\n    } else if (this.shape === \"dropdown\") {\n      // custom colors\n      if (parent.info.color) {\n        SVG.setProps(el, {\n          fill: parent.info.color,\n          stroke: \"rgba(0, 0, 0, 0.2)\",\n        });\n      }\n    } else if (this.shape === \"number-dropdown\") {\n      el.classList.add(`sb3-${parent.info.category}-alt`);\n\n      // custom colors\n      if (parent.info.color) {\n        SVG.setProps(el, {\n          fill: \"rgba(0, 0, 0, 0.1)\",\n          stroke: \"rgba(0, 0, 0, 0.15)\", // combines with fill...\n        });\n      }\n    } else if (this.shape === \"boolean\") {\n      el.classList.remove(`sb3-${parent.info.category}`);\n      el.classList.add(`sb3-${parent.info.category}-dark`);\n\n      // custom colors\n      if (parent.info.color) {\n        SVG.setProps(el, {\n          fill: \"rgba(0, 0, 0, 0.15)\",\n        });\n      }\n    }\n\n    const result = SVG.group([el]);\n    if (this.hasLabel) {\n      result.appendChild(label);\n    }\n    if (this.hasArrow) {\n      result.appendChild(\n        SVG.move(\n          w - 24,\n          13,\n          SVG.symbol(\n            iconStyle === \"high-contrast\"\n              ? \"#sb3-dropdownArrow-high-contrast\"\n              : \"#sb3-dropdownArrow\",\n            {},\n          ),\n        ),\n      );\n    }\n    return result\n  }\n}\n\nclass BlockView {\n  constructor(block) {\n    Object.assign(this, block);\n    this.children = block.children.map(newView);\n    this.comment = this.comment ? newView(this.comment) : null;\n    this.isRound = this.isReporter;\n\n    // Avoid accidental mutation\n    this.info = { ...block.info };\n    if (\n      Object.prototype.hasOwnProperty.call(aliasExtensions, this.info.category)\n    ) {\n      this.info.category = aliasExtensions[this.info.category];\n    }\n    if (Object.prototype.hasOwnProperty.call(extensions, this.info.category)) {\n      this.children.unshift(new LineView());\n      this.children.unshift(\n        new IconView({ name: this.info.category + \"Block\" }),\n      );\n      this.info.category = \"extension\";\n    }\n\n    this.x = 0;\n    this.width = null;\n    this.height = null;\n    this.firstLine = null;\n    this.innerWidth = null;\n  }\n\n  get isBlock() {\n    return true\n  }\n\n  measure() {\n    for (const child of this.children) {\n      if (child.measure) {\n        child.measure();\n      }\n    }\n    if (this.comment) {\n      this.comment.measure();\n    }\n  }\n\n  static get shapes() {\n    return {\n      stack: SVG.stackRect,\n      \"c-block\": SVG.stackRect,\n      \"if-block\": SVG.stackRect,\n      celse: SVG.stackRect,\n      cend: SVG.stackRect,\n\n      cap: SVG.capRect,\n      reporter: SVG.pillRect,\n      boolean: SVG.pointedRect,\n      hat: SVG.hatRect,\n      cat: SVG.catHat,\n      \"define-hat\": SVG.procHatRect,\n      ring: SVG.pillRect,\n    }\n  }\n\n  drawSelf(iconStyle, w, h, lines) {\n    // mouths\n    if (lines.length > 1) {\n      return SVG.mouthRect(w, h, this.isFinal, lines, {\n        class: `sb3-${this.info.category}`,\n      })\n    }\n\n    // outlines\n    if (this.info.shape === \"outline\") {\n      return SVG.setProps(SVG.stackRect(w, h), {\n        class: `sb3-${this.info.category} sb3-${this.info.category}-alt`,\n      })\n    }\n\n    // rings\n    if (this.isRing) {\n      const child = this.children[0];\n      if (child && (child.isInput || child.isBlock || child.isScript)) {\n        return SVG.roundRect(w, h, {\n          class: `sb3-${this.info.category}`,\n        })\n      }\n    }\n\n    const func = BlockView.shapes[this.info.shape];\n    if (!func) {\n      throw new Error(`no shape func: ${this.info.shape}`)\n    }\n    return func(w, h, {\n      class: `sb3-${this.info.category}`,\n    })\n  }\n\n  static get padding() {\n    return {\n      hat: [24, 8],\n      cat: [24, 8],\n      \"define-hat\": [20, 16],\n      null: [4, 4],\n    }\n  }\n\n  horizontalPadding(child) {\n    if (this.isRound) {\n      if (child.isIcon) {\n        return 16\n      } else if (child.isLabel) {\n        return 12 // text in circle: 3 units\n      } else if (child.isDropdown) {\n        return 12 // square in circle: 3 units\n      } else if (child.isBoolean) {\n        return 12 // hexagon in circle: 3 units\n      } else if (child.isRound) {\n        return 4 // circle in circle: 1 unit\n      }\n    } else if (this.isBoolean) {\n      if (child.isIcon) {\n        return 24 // icon in hexagon: ???\n      } else if (child.isLabel) {\n        return 20 // text in hexagon: 5 units\n      } else if (child.isDropdown) {\n        return 20 // square in hexagon: 5 units\n      } else if (child.isRound && child.isBlock) {\n        return 24 // circle in hexagon: 5 + 1 units\n      } else if (child.isRound) {\n        return 20 // circle in hexagon: 5 units\n      } else if (child.isBoolean) {\n        return 8 // hexagon in hexagon: 2 units\n      }\n    }\n    return 8 // default: 2 units\n  }\n\n  marginBetween(a, b) {\n    // Consecutive labels should be rendered as a single text element.\n    // For now, approximate the size of one space\n    if (a.isLabel && b.isLabel) {\n      return 5\n    }\n\n    return 8 // default: 2 units\n  }\n\n  draw(iconStyle) {\n    const isDefine = this.info.shape === \"define-hat\";\n    let children = this.children;\n    const isCommand = this.isCommand;\n\n    const padding = BlockView.padding[this.info.shape] || BlockView.padding.null;\n    const pt = padding[0],\n      pb = padding[1];\n\n    let y = this.info.shape === \"cat\" ? 16 : 0;\n    const Line = function (y) {\n      this.y = y;\n      this.width = 0;\n      this.height = isCommand ? 40 : 32;\n      this.children = [];\n    };\n\n    let innerWidth = 0;\n    let scriptWidth = 0;\n    let line = new Line(y);\n    const pushLine = () => {\n      if (lines.length === 0) {\n        line.height += pt + pb;\n      } else {\n        line.height -= 11;\n        line.y -= 2;\n      }\n      y += line.height;\n      lines.push(line);\n    };\n\n    if (this.info.isRTL) {\n      let start = 0;\n      const flip = () => {\n        children = children\n          .slice(0, start)\n          .concat(children.slice(start, i).reverse())\n          .concat(children.slice(i));\n      };\n      let i;\n      for (i = 0; i < children.length; i++) {\n        if (children[i].isScript) {\n          flip();\n          start = i + 1;\n        }\n      }\n      if (start < i) {\n        flip();\n      }\n    }\n\n    const lines = [];\n    let previousChild;\n    let lastChild;\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      child.el = child.draw(iconStyle, this);\n\n      if (child.isScript && this.isCommand) {\n        this.hasScript = true;\n        pushLine();\n        child.y = y - 1;\n        lines.push(child);\n        scriptWidth = Math.max(scriptWidth, Math.max(1, child.width));\n        child.height = Math.max(29, child.height + 3) - 2;\n        y += child.height;\n        line = new Line(y);\n        previousChild = null;\n      } else if (child.isArrow) {\n        line.children.push(child);\n        previousChild = child;\n      } else {\n        // Remember the last child on the first line\n        if (!lines.length) {\n          lastChild = child;\n        }\n\n        // Leave space between inputs\n        if (previousChild) {\n          line.width += this.marginBetween(previousChild, child);\n        }\n\n        // Align first input with right of notch\n        if (children[0] != null) {\n          const cmw = 48 - this.horizontalPadding(children[0]);\n          if (\n            (this.isCommand || this.isOutline) &&\n            !child.isLabel &&\n            !child.isIcon &&\n            line.width < cmw\n          ) {\n            line.width = cmw;\n          }\n        }\n\n        // Align extension category icons below notch\n        if (child.isIcon && i === 0 && this.isCommand) {\n          line.height = Math.max(line.height, child.height + 8);\n        }\n\n        child.x = line.width;\n        line.width += child.width;\n        innerWidth = Math.max(innerWidth, line.width);\n        if (!child.isLabel) {\n          line.height = Math.max(line.height, child.height);\n        }\n        line.children.push(child);\n        previousChild = child;\n      }\n    }\n    pushLine();\n\n    let padLeft = children.length ? this.horizontalPadding(children[0]) : 0;\n    const padRight = children.length ? this.horizontalPadding(lastChild) : 0;\n    innerWidth += padLeft + padRight;\n\n    // Commands have a minimum width\n    // The hat min-width is arbitrary (not sure of Scratch 3 value)\n    // Outline min-width is deliberately higher (because Scratch 3 looks silly)\n    const originalInnerWidth = innerWidth;\n    innerWidth = Math.max(\n      this.hasScript\n        ? 160\n        : this.isHat\n        ? 108\n        : this.isCommand || this.isOutline\n        ? 64\n        : this.isReporter\n        ? 48\n        : 0,\n      innerWidth,\n    );\n\n    // Center the label text inside small reporters.\n    if (this.isReporter) {\n      padLeft += (innerWidth - originalInnerWidth) / 2;\n    }\n\n    this.height = y;\n\n    this.width = scriptWidth\n      ? Math.max(innerWidth, 15 + scriptWidth)\n      : innerWidth;\n    this.firstLine = lines[0];\n    this.innerWidth = innerWidth;\n\n    const objects = [];\n\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i];\n      if (line.isScript) {\n        objects.push(SVG.move(16, line.y, line.el));\n        continue\n      }\n\n      const h = line.height;\n\n      for (let j = 0; j < line.children.length; j++) {\n        const child = line.children[j];\n        if (child.isArrow) {\n          objects.push(SVG.move(innerWidth - 32, this.height - 28, child.el));\n          continue\n        }\n\n        let y = pt + (h - child.height - pt - pb) / 2;\n        if (child.isLabel && i === 0) {\n          // We only do this for the first line so that the `else` label is\n          // correctly aligned\n          y -= 1;\n        } else if (isDefine && child.isLabel) {\n          y += 3;\n        } else if (child.isIcon) {\n          y += child.dy | 0;\n          if (this.isCommand && i === 0 && j === 0) {\n            y += 4;\n          }\n        }\n\n        let x = padLeft + child.x;\n        if (child.dx) {\n          x += child.dx;\n        }\n\n        objects.push(SVG.move(x, (line.y + y) | 0, child.el));\n      }\n    }\n\n    const el = this.drawSelf(iconStyle, innerWidth, this.height, lines);\n    objects.splice(0, 0, el);\n    if (this.info.color) {\n      SVG.setProps(el, {\n        fill: this.info.color,\n        stroke: \"rgba(0, 0, 0, 0.2)\",\n      });\n    }\n\n    return SVG.group(objects)\n  }\n}\n\nclass CommentView {\n  constructor(comment) {\n    Object.assign(this, comment);\n    this.label = newView(comment.label);\n\n    this.width = null;\n  }\n\n  get isComment() {\n    return true\n  }\n\n  static get lineLength() {\n    return 12\n  }\n\n  get height() {\n    return 20\n  }\n\n  measure() {\n    this.label.measure();\n  }\n\n  draw(iconStyle) {\n    const labelEl = this.label.draw(iconStyle);\n\n    this.width = this.label.width + 16;\n    return SVG.group([\n      SVG.commentLine(this.hasBlock ? CommentView.lineLength : 0, 6),\n      SVG.commentRect(this.width, this.height, {\n        class: \"sb3-comment\",\n      }),\n      SVG.move(8, 4, labelEl),\n    ])\n  }\n}\n\nclass GlowView {\n  constructor(glow) {\n    Object.assign(this, glow);\n    this.child = newView(glow.child);\n\n    this.width = null;\n    this.height = null;\n    this.y = 0;\n  }\n\n  get isGlow() {\n    return true\n  }\n\n  measure() {\n    this.child.measure();\n  }\n\n  drawSelf() {\n    const c = this.child;\n    let el;\n    const w = this.width;\n    const h = this.height - 1;\n    if (c.isScript) {\n      if (!c.isEmpty && c.blocks[0].isHat) {\n        el = SVG.hatRect(w, h);\n      } else if (c.isFinal) {\n        el = SVG.capRect(w, h);\n      } else {\n        el = SVG.stackRect(w, h);\n      }\n    } else {\n      el = c.drawSelf(w, h, []);\n    }\n    return SVG.setProps(el, {\n      class: \"sb3-diff sb3-diff-ins\",\n    })\n  }\n  // TODO how can we always raise Glows above their parents?\n\n  draw(iconStyle) {\n    const c = this.child;\n    const el = c.isScript ? c.draw(iconStyle, true) : c.draw(iconStyle);\n\n    this.width = c.width;\n    this.height = (c.isBlock && c.firstLine.height) || c.height;\n\n    // encircle\n    return SVG.group([el, this.drawSelf()])\n  }\n}\n\nclass ScriptView {\n  constructor(script) {\n    Object.assign(this, script);\n    this.blocks = script.blocks.map(newView);\n\n    this.y = 0;\n  }\n\n  get isScript() {\n    return true\n  }\n\n  measure() {\n    for (const block of this.blocks) {\n      block.measure();\n    }\n  }\n\n  draw(iconStyle, inside) {\n    const children = [];\n    let y = 1;\n    this.width = 0;\n    for (const block of this.blocks) {\n      const x = inside ? 0 : 2;\n      const child = block.draw(iconStyle);\n      children.push(SVG.move(x, y, child));\n      this.width = Math.max(this.width, block.width);\n\n      const diff = block.diff;\n      if (diff === \"-\") {\n        const dw = block.width;\n        const dh = block.firstLine.height || block.height;\n        children.push(SVG.move(x, y + dh / 2 + 1, SVG.strikethroughLine(dw)));\n        this.width = Math.max(this.width, block.width);\n      }\n\n      y += block.height;\n\n      const comment = block.comment;\n      if (comment) {\n        const line = block.firstLine;\n        const cx = block.innerWidth + 2 + CommentView.lineLength;\n        const cy = y - block.height + line.height / 2;\n        const el = comment.draw(iconStyle);\n        children.push(SVG.move(cx, cy - comment.height / 2, el));\n        this.width = Math.max(this.width, cx + comment.width);\n      }\n    }\n    const lastBlock = this.blocks[this.blocks.length - 1];\n    this.height = y + 1;\n    if (!inside && !this.isFinal) {\n      this.height += lastBlock.hasPuzzle ? 8 : 0;\n    }\n    if (!inside && lastBlock.isGlow) {\n      this.height += 7; // TODO unbreak this\n    }\n    return SVG.group(children)\n  }\n}\n\nclass DocumentView {\n  constructor(doc, options) {\n    Object.assign(this, doc);\n    this.scripts = doc.scripts.map(newView);\n\n    this.width = null;\n    this.height = null;\n    this.el = null;\n    this.defs = null;\n    this.scale = options.scale;\n    this.iconStyle = options.style.replace(\"scratch3-\", \"\");\n  }\n\n  measure() {\n    this.scripts.forEach(script => {\n      script.measure();\n    });\n  }\n\n  render(cb) {\n    if (typeof cb === \"function\") {\n      throw new Error(\"render() no longer takes a callback\")\n    }\n\n    // measure strings\n    this.measure();\n\n    // TODO: separate layout + render steps.\n    // render each script\n    let width = 0;\n    let height = 0;\n    const elements = [];\n    for (let i = 0; i < this.scripts.length; i++) {\n      const script = this.scripts[i];\n      if (height) {\n        height += 10;\n      }\n      script.y = height;\n      elements.push(SVG.move(0, height, script.draw(this.iconStyle)));\n      height += script.height;\n      if (i !== this.scripts.length - 1) {\n        height += 36;\n      }\n      width = Math.max(width, script.width + 4);\n    }\n    this.width = width;\n    this.height = height;\n\n    // return SVG\n    const svg = SVG.newSVG(width, height, this.scale);\n    const icons =\n      this.iconStyle === \"high-contrast\"\n        ? makeHighContrastIcons()\n        : makeOriginalIcons();\n    svg.appendChild((this.defs = SVG.withChildren(SVG.el(\"defs\"), icons)));\n\n    svg.appendChild(\n      SVG.setProps(SVG.group(elements), {\n        style: `transform: scale(${this.scale})`,\n      }),\n    );\n    this.el = svg;\n    return svg\n  }\n\n  /* Export SVG image as XML string */\n  exportSVGString() {\n    if (this.el == null) {\n      throw new Error(\"call draw() first\")\n    }\n\n    const style = makeStyle$1();\n    this.defs.appendChild(style);\n    const xml = new SVG.XMLSerializer().serializeToString(this.el);\n    this.defs.removeChild(style);\n    return xml\n  }\n\n  /* Export SVG image as data URI */\n  exportSVG() {\n    const xml = this.exportSVGString();\n    return `data:image/svg+xml;utf8,${xml.replace(/[#]/g, encodeURIComponent)}`\n  }\n\n  toCanvas(cb, exportScale) {\n    exportScale = exportScale || 1.0;\n\n    const canvas = SVG.makeCanvas();\n    canvas.width = Math.max(1, this.width * exportScale * this.scale);\n    canvas.height = Math.max(1, this.height * exportScale * this.scale);\n    const context = canvas.getContext(\"2d\");\n\n    const image = new Image();\n    image.src = this.exportSVG();\n    image.onload = () => {\n      context.save();\n      context.scale(exportScale, exportScale);\n      context.drawImage(image, 0, 0);\n      context.restore();\n\n      cb(canvas);\n    };\n  }\n\n  exportPNG(cb, scale) {\n    this.toCanvas(canvas => {\n      if (URL && URL.createObjectURL && Blob && canvas.toBlob) {\n        canvas.toBlob(blob => {\n          cb(URL.createObjectURL(blob));\n        }, \"image/png\");\n      } else {\n        cb(canvas.toDataURL(\"image/png\"));\n      }\n    }, scale);\n  }\n}\n\nconst viewFor = node => {\n  switch (node.constructor) {\n    case Label:\n      return LabelView\n    case Icon:\n      return IconView\n    case Input:\n      return InputView\n    case Block:\n      return BlockView\n    case Comment:\n      return CommentView\n    case Glow:\n      return GlowView\n    case Script:\n      return ScriptView\n    case Document:\n      return DocumentView\n    default:\n      throw new Error(`no view for ${node.constructor.name}`)\n  }\n};\n\nconst newView = (node, options) => new (viewFor(node))(node, options);\n\nfunction init$1(window) {\n  SVG.init(window);\n\n  LabelView.measuring = SVG.makeCanvas().getContext(\"2d\");\n}\n\nconst makeStyle = Style.makeStyle;\n\n/*\n * scratchblocks\n * http://scratchblocks.github.io/\n *\n * Copyright 2013-2016, Tim Radvan\n * @license MIT\n * http://opensource.org/licenses/MIT\n */\n\nfunction init (window) {\n  const document = window.document;\n\n  init$2(window);\n  init$1(window);\n\n  function appendStyles() {\n    document.head.appendChild(makeStyle$2());\n    document.head.appendChild(makeStyle());\n  }\n\n  function newView$2(doc, options) {\n    options = {\n      style: \"scratch2\",\n      ...options,\n    };\n\n    options.scale = options.scale || 1;\n\n    if (options.style === \"scratch2\") {\n      return newView$1(doc, options)\n    } else if (/^scratch3($|-)/.test(options.style)) {\n      return newView(doc, options)\n    }\n\n    throw new Error(`Unknown style: ${options.style}`)\n  }\n\n  function render(doc, options) {\n    if (typeof options === \"function\") {\n      throw new Error(\"render() no longer takes a callback\")\n    }\n    const view = newView$2(doc, options);\n    const svg = view.render();\n    // Used in high contrast theme\n    svg.classList.add(`scratchblocks-style-${options.style}`);\n    return svg\n  }\n\n  /*****************************************************************************/\n\n  /*** Render ***/\n\n  // read code from a DOM element\n  function readCode(el, options) {\n    options = {\n      inline: false,\n      ...options,\n    };\n\n    const html = el.innerHTML.replace(/<br>\\s?|\\n|\\r\\n|\\r/gi, \"\\n\");\n    const pre = document.createElement(\"pre\");\n    pre.innerHTML = html;\n    let code = pre.textContent;\n    if (options.inline) {\n      code = code.replace(\"\\n\", \"\");\n    }\n    return code\n  }\n\n  // insert 'svg' into 'el', with appropriate wrapper elements\n  function replace(el, svg, doc, options) {\n    let container;\n    if (options.inline) {\n      container = document.createElement(\"span\");\n      let cls = \"scratchblocks scratchblocks-inline\";\n      if (doc.scripts[0] && !doc.scripts[0].isEmpty) {\n        cls += ` scratchblocks-inline-${doc.scripts[0].blocks[0].shape}`;\n      }\n      container.className = cls;\n      container.style.display = \"inline-block\";\n      container.style.verticalAlign = \"middle\";\n    } else {\n      container = document.createElement(\"div\");\n      container.className = \"scratchblocks\";\n    }\n    container.appendChild(svg);\n\n    el.innerHTML = \"\";\n    el.appendChild(container);\n  }\n\n  /* Render all matching elements in page to shiny scratch blocks.\n   * Accepts a CSS selector as an argument.\n   *\n   *  scratchblocks.renderMatching(\"pre.blocks\");\n   *\n   * Like the old 'scratchblocks2.parse().\n   */\n  const renderMatching = function (selector, options) {\n    selector = selector || \"pre.blocks\";\n    options = {\n      // Default values for the options\n      style: \"scratch2\",\n      inline: false,\n      languages: [\"en\"],\n      scale: 1,\n\n      read: readCode, // function(el, options) => code\n      parse: parse, // function(code, options) => doc\n      render: render, // function(doc) => svg\n      replace: replace, // function(el, svg, doc, options)\n\n      ...options,\n    };\n\n    // find elements\n    const results = [].slice.apply(document.querySelectorAll(selector));\n    results.forEach(el => {\n      const code = options.read(el, options);\n\n      const doc = options.parse(code, options);\n\n      const svg = options.render(doc, options);\n\n      options.replace(el, svg, doc, options);\n    });\n  };\n\n  return {\n    allLanguages: allLanguages, // read-only\n    loadLanguages: loadLanguages,\n\n    stringify: function (doc) {\n      return doc.stringify()\n    },\n\n    Label,\n    Icon,\n    Input,\n    Block,\n    Comment,\n    Script,\n    Document,\n\n    newView: newView$2,\n    read: readCode,\n    parse: parse,\n    replace: replace,\n    render: render,\n    renderMatching: renderMatching,\n\n    appendStyles: appendStyles,\n  }\n}\n\nconst scratchblocks = init(window);\n\n// add our CSS to the page\nscratchblocks.appendStyles();\n\nexport { scratchblocks as default };\n//# sourceMappingURL=scratchblocks.min.es.js.map\n"],"names":["movedExtensions","extensions","aliasExtensions","scratchCommands","overrideCategories","overrideShapes","rtlLanguages","inputNumberPat","inputPat","inputPatGlobal","iconPat","splitPat","hexColorPat","parseInputNumber","part","m","parseSpec","spec","parts","x","inputs","p","hashSpec","minifyHash","hash","blocksById","allBlocks","def","info","unicodeIcons","allLanguages","loadLanguage","code","language","blocksByHash","blockId","nativeSpec","block","nativeHash","image","alias","aliasHash","alt","id","english","name","nativeName","loadLanguages","languages","registerCheck","func","specialCase","disambig","id1","id2","test","_","children","lang","first","child","effect","_lang","last","value","lookupHash","collisions","lookupDropdown","applyOverrides","overrides","blockName","words","assert$2","bool","message","indent","text","line","Label","cls","Icon","Input","shape","menu","Block","comment","extras","firstInput","checkAlias","aliases","isShallow","outline","word","oldSpec","nativeInfo","rawArgs","oldInputOrder","highestNumber","args","number","remainingArgs","arg","index","Comment","hasBlock","Glow","Script","blocks","Document","scripts","script","assert$1","paintBlock","string","shortHash","o","type","isDefineBlock","outlineChildren","labels","outlineInfo","i","defineWord","parseLines","tok","next","peek","peekNonWs","sawNL","define","makeBlock","hasInputs","makeMenu","pParts","end","label","c","pString","pReporter","pPredicate","pEmbedded","pIcon","pOverrides","s","escapeV","pBlock","l","parseScripts","override","pComment","pLine","diff","getLine","pFile","b","isGlow","pMouth","eachBlock","cb","listBlocks","recogniseStuff","customBlocksByHash","listNames","customArgs","names","argIndex","input","parse","options","f","assert","document$1","xml$1","directProps$1","SVG$1","SVG","window","DOMParser","content","props","el","key","width","height","scale","y","href","dx","dy","path","isX","out","j","w","h","p1x","p1y","p2x","p2y","rx","ry","r","hasNotch","inset","arr","armTop","roundness","midX","midY","cx","cy","archRoundness","isFinal","lines","isLast","cw","ch","Filter","op","in1","in2","color","opacity","dev","values","cssContent$1","Style$1","Style","style","alpha","blur","category","defaultFontFamily","makeStyle$3","makeIcons","darkRect","bevelFilter","darkFilter","LabelView$1","LabelView","cache","font","context","IconView$1","IconView","icon","InputView$1","InputView","newView$1","parent","result","BlockView$1","BlockView","isDefine","padding","pt","px","pb","Line","innerWidth","scriptWidth","pushLine","start","flip","cmw","md","mw","objects","ellipse","CommentView$1","CommentView","labelEl","GlowView$1","glow","ScriptView$1","inside","dw","dh","lastBlock","DocumentView$1","doc","elements","svg","xml","exportScale","canvas","blob","viewFor$1","node","init$2","makeStyle$2","document","directProps","cssContent","highContrastIcons","iconStyle","defaultFont","commentFont","makeStyle$1","makeOriginalIcons","makeHighContrastIcons","iconName","_iconStyle","LineView","newView","a","isCommand","previousChild","lastChild","padLeft","padRight","originalInnerWidth","GlowView","ScriptView","DocumentView","icons","viewFor","init$1","makeStyle","init","appendStyles","newView$2","render","readCode","html","pre","replace","container","selector","scratchblocks"],"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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","x_google_ignoreList":[0]}