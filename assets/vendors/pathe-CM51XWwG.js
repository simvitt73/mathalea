const a=/^[A-Za-z]:\//;function h(t=""){return t&&t.replace(/\\/g,"/").replace(a,n=>n.toUpperCase())}const u=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function g(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const p=function(...t){t=t.map(l=>h(l));let n="",e=!1;for(let l=t.length-1;l>=-1&&!e;l--){const s=l>=0?t[l]:g();!s||s.length===0||(n=`${s}/${n}`,e=c(s))}return n=d(n,!e),e&&!c(n)?`/${n}`:n.length>0?n:"."};function d(t,n){let e="",l=0,s=-1,o=0,r=null;for(let i=0;i<=t.length;++i){if(i<t.length)r=t[i];else{if(r==="/")break;r="/"}if(r==="/"){if(!(s===i-1||o===1))if(o===2){if(e.length<2||l!==2||e[e.length-1]!=="."||e[e.length-2]!=="."){if(e.length>2){const f=e.lastIndexOf("/");f===-1?(e="",l=0):(e=e.slice(0,f),l=e.length-1-e.lastIndexOf("/")),s=i,o=0;continue}else if(e.length>0){e="",l=0,s=i,o=0;continue}}n&&(e+=e.length>0?"/..":"..",l=2)}else e.length>0?e+=`/${t.slice(s+1,i)}`:e=t.slice(s+1,i),l=i-s-1;s=i,o=0}else r==="."&&o!==-1?++o:o=-1}return e}const c=function(t){return u.test(t)};export{p as r};
//# sourceMappingURL=pathe-CM51XWwG.js.map
