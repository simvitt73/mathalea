{"version":3,"file":"bugsnag_browser-CBi0d3dm.js","sources":["../../../node_modules/.pnpm/@bugsnag+browser@8.8.1/node_modules/@bugsnag/browser/dist/bugsnag.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Bugsnag = f()}})(function(){var define,module,exports;\nvar _$breadcrumbTypes_17 = ['navigation', 'request', 'process', 'log', 'user', 'state', 'error', 'manual'];\n\n// Array#reduce\nvar _$reduce_26 = function (arr, fn, accum) {\n  var val = accum;\n  for (var i = 0, len = arr.length; i < len; i++) val = fn(val, arr[i], i, arr);\n  return val;\n};\n\n/* removed: var _$reduce_26 = require('./reduce'); */;\n\n// Array#filter\nvar _$filter_21 = function (arr, fn) {\n  return _$reduce_26(arr, function (accum, item, i, arr) {\n    return !fn(item, i, arr) ? accum : accum.concat(item);\n  }, []);\n};\n\n/* removed: var _$reduce_26 = require('./reduce'); */;\n// Array#includes\nvar _$includes_22 = function (arr, x) {\n  return _$reduce_26(arr, function (accum, item, i, arr) {\n    return accum === true || item === x;\n  }, false);\n};\n\n// Array#isArray\nvar _$isArray_23 = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n};\n\n/* eslint-disable-next-line no-prototype-builtins */\nvar _hasDontEnumBug = !{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar _dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];\n\n// Object#keys\nvar _$keys_24 = function (obj) {\n  // stripped down version of\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/Keys\n  var result = [];\n  var prop;\n  for (prop in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, prop)) result.push(prop);\n  }\n  if (!_hasDontEnumBug) return result;\n  for (var i = 0, len = _dontEnums.length; i < len; i++) {\n    if (Object.prototype.hasOwnProperty.call(obj, _dontEnums[i])) result.push(_dontEnums[i]);\n  }\n  return result;\n};\n\nvar _$intRange_33 = function (min, max) {\n  if (min === void 0) {\n    min = 1;\n  }\n  if (max === void 0) {\n    max = Infinity;\n  }\n  return function (value) {\n    return typeof value === 'number' && parseInt('' + value, 10) === value && value >= min && value <= max;\n  };\n};\n\n/* removed: var _$filter_21 = require('../es-utils/filter'); */;\n/* removed: var _$isArray_23 = require('../es-utils/is-array'); */;\nvar _$listOfFunctions_34 = function (value) {\n  return typeof value === 'function' || _$isArray_23(value) && _$filter_21(value, function (f) {\n    return typeof f === 'function';\n  }).length === value.length;\n};\n\nvar _$stringWithLength_35 = function (value) {\n  return typeof value === 'string' && !!value.length;\n};\n\nvar _$config_14 = {};\n/* removed: var _$filter_21 = require('./lib/es-utils/filter'); */;\n/* removed: var _$reduce_26 = require('./lib/es-utils/reduce'); */;\n/* removed: var _$keys_24 = require('./lib/es-utils/keys'); */;\n/* removed: var _$isArray_23 = require('./lib/es-utils/is-array'); */;\n/* removed: var _$includes_22 = require('./lib/es-utils/includes'); */;\n/* removed: var _$intRange_33 = require('./lib/validators/int-range'); */;\n/* removed: var _$stringWithLength_35 = require('./lib/validators/string-with-length'); */;\n/* removed: var _$listOfFunctions_34 = require('./lib/validators/list-of-functions'); */;\n/* removed: var _$breadcrumbTypes_17 = require('./lib/breadcrumb-types'); */;\nvar defaultErrorTypes = function () {\n  return {\n    unhandledExceptions: true,\n    unhandledRejections: true\n  };\n};\n_$config_14.schema = {\n  apiKey: {\n    defaultValue: function () {\n      return null;\n    },\n    message: 'is required',\n    validate: _$stringWithLength_35\n  },\n  appVersion: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === undefined || _$stringWithLength_35(value);\n    }\n  },\n  appType: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === undefined || _$stringWithLength_35(value);\n    }\n  },\n  autoDetectErrors: {\n    defaultValue: function () {\n      return true;\n    },\n    message: 'should be true|false',\n    validate: function (value) {\n      return value === true || value === false;\n    }\n  },\n  enabledErrorTypes: {\n    defaultValue: function () {\n      return defaultErrorTypes();\n    },\n    message: 'should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }',\n    allowPartialObject: true,\n    validate: function (value) {\n      // ensure we have an object\n      if (typeof value !== 'object' || !value) return false;\n      var providedKeys = _$keys_24(value);\n      var defaultKeys = _$keys_24(defaultErrorTypes());\n      // ensure it only has a subset of the allowed keys\n      if (_$filter_21(providedKeys, function (k) {\n        return _$includes_22(defaultKeys, k);\n      }).length < providedKeys.length) return false;\n      // ensure all of the values are boolean\n      if (_$filter_21(_$keys_24(value), function (k) {\n        return typeof value[k] !== 'boolean';\n      }).length > 0) return false;\n      return true;\n    }\n  },\n  onError: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be a function or array of functions',\n    validate: _$listOfFunctions_34\n  },\n  onSession: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be a function or array of functions',\n    validate: _$listOfFunctions_34\n  },\n  onBreadcrumb: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be a function or array of functions',\n    validate: _$listOfFunctions_34\n  },\n  endpoints: {\n    defaultValue: function (endpoints) {\n      // only apply the default value if no endpoints have been provided, otherwise prevent delivery by setting to null\n      if (typeof endpoints === 'undefined') {\n        return {\n          notify: 'https://notify.bugsnag.com',\n          sessions: 'https://sessions.bugsnag.com'\n        };\n      } else {\n        return {\n          notify: null,\n          sessions: null\n        };\n      }\n    },\n    message: 'should be an object containing endpoint URLs { notify, sessions }',\n    validate: function (val) {\n      return (\n        // first, ensure it's an object\n        val && typeof val === 'object' &&\n        // notify and sessions must always be set\n        _$stringWithLength_35(val.notify) && _$stringWithLength_35(val.sessions) &&\n        // ensure no keys other than notify/session are set on endpoints object\n        _$filter_21(_$keys_24(val), function (k) {\n          return !_$includes_22(['notify', 'sessions'], k);\n        }).length === 0\n      );\n    }\n  },\n  autoTrackSessions: {\n    defaultValue: function (val) {\n      return true;\n    },\n    message: 'should be true|false',\n    validate: function (val) {\n      return val === true || val === false;\n    }\n  },\n  enabledReleaseStages: {\n    defaultValue: function () {\n      return null;\n    },\n    message: 'should be an array of strings',\n    validate: function (value) {\n      return value === null || _$isArray_23(value) && _$filter_21(value, function (f) {\n        return typeof f === 'string';\n      }).length === value.length;\n    }\n  },\n  releaseStage: {\n    defaultValue: function () {\n      return 'production';\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return typeof value === 'string' && value.length;\n    }\n  },\n  maxBreadcrumbs: {\n    defaultValue: function () {\n      return 25;\n    },\n    message: 'should be a number â‰¤100',\n    validate: function (value) {\n      return _$intRange_33(0, 100)(value);\n    }\n  },\n  enabledBreadcrumbTypes: {\n    defaultValue: function () {\n      return _$breadcrumbTypes_17;\n    },\n    message: \"should be null or a list of available breadcrumb types (\" + _$breadcrumbTypes_17.join(',') + \")\",\n    validate: function (value) {\n      return value === null || _$isArray_23(value) && _$reduce_26(value, function (accum, maybeType) {\n        if (accum === false) return accum;\n        return _$includes_22(_$breadcrumbTypes_17, maybeType);\n      }, true);\n    }\n  },\n  context: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be a string',\n    validate: function (value) {\n      return value === undefined || typeof value === 'string';\n    }\n  },\n  user: {\n    defaultValue: function () {\n      return {};\n    },\n    message: 'should be an object with { id, email, name } properties',\n    validate: function (value) {\n      return value === null || value && _$reduce_26(_$keys_24(value), function (accum, key) {\n        return accum && _$includes_22(['id', 'email', 'name'], key);\n      }, true);\n    }\n  },\n  metadata: {\n    defaultValue: function () {\n      return {};\n    },\n    message: 'should be an object',\n    validate: function (value) {\n      return typeof value === 'object' && value !== null;\n    }\n  },\n  logger: {\n    defaultValue: function () {\n      return undefined;\n    },\n    message: 'should be null or an object with methods { debug, info, warn, error }',\n    validate: function (value) {\n      return !value || value && _$reduce_26(['debug', 'info', 'warn', 'error'], function (accum, method) {\n        return accum && typeof value[method] === 'function';\n      }, true);\n    }\n  },\n  redactedKeys: {\n    defaultValue: function () {\n      return ['password'];\n    },\n    message: 'should be an array of strings|regexes',\n    validate: function (value) {\n      return _$isArray_23(value) && value.length === _$filter_21(value, function (s) {\n        return typeof s === 'string' || s && typeof s.test === 'function';\n      }).length;\n    }\n  },\n  plugins: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be an array of plugin objects',\n    validate: function (value) {\n      return _$isArray_23(value) && value.length === _$filter_21(value, function (p) {\n        return p && typeof p === 'object' && typeof p.load === 'function';\n      }).length;\n    }\n  },\n  featureFlags: {\n    defaultValue: function () {\n      return [];\n    },\n    message: 'should be an array of objects that have a \"name\" property',\n    validate: function (value) {\n      return _$isArray_23(value) && value.length === _$filter_21(value, function (feature) {\n        return feature && typeof feature === 'object' && typeof feature.name === 'string';\n      }).length;\n    }\n  },\n  reportUnhandledPromiseRejectionsAsHandled: {\n    defaultValue: function () {\n      return false;\n    },\n    message: 'should be true|false',\n    validate: function (value) {\n      return value === true || value === false;\n    }\n  },\n  sendPayloadChecksums: {\n    defaultValue: function () {\n      return false;\n    },\n    message: 'should be true|false',\n    validate: function (value) {\n      return value === true || value === false;\n    }\n  }\n};\n\n// extends helper from babel\n// https://github.com/babel/babel/blob/916429b516e6466fd06588ee820e40e025d7f3a3/packages/babel-helpers/src/helpers.js#L377-L393\nvar _$assign_20 = function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\n\n/* removed: var _$reduce_26 = require('./reduce'); */;\n\n// Array#map\nvar _$map_25 = function (arr, fn) {\n  return _$reduce_26(arr, function (accum, item, i, arr) {\n    return accum.concat(fn(item, i, arr));\n  }, []);\n};\n\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nvar schema = _$config_14.schema;\n/* removed: var _$map_25 = require('@bugsnag/core/lib/es-utils/map'); */;\n/* removed: var _$assign_20 = require('@bugsnag/core/lib/es-utils/assign'); */;\nvar _$config_10 = {\n  releaseStage: _$assign_20({}, schema.releaseStage, {\n    defaultValue: function () {\n      if (/^localhost(:\\d+)?$/.test(window.location.host)) return 'development';\n      return 'production';\n    }\n  }),\n  appType: _extends({}, schema.appType, {\n    defaultValue: function () {\n      return 'browser';\n    }\n  }),\n  logger: _$assign_20({}, schema.logger, {\n    defaultValue: function () {\n      return (\n        // set logger based on browser capability\n        typeof console !== 'undefined' && typeof console.debug === 'function' ? getPrefixedConsole() : undefined\n      );\n    }\n  })\n};\nvar getPrefixedConsole = function () {\n  var logger = {};\n  var consoleLog = console.log;\n  _$map_25(['debug', 'info', 'warn', 'error'], function (method) {\n    var consoleMethod = console[method];\n    logger[method] = typeof consoleMethod === 'function' ? consoleMethod.bind(console, '[bugsnag]') : consoleLog.bind(console, '[bugsnag]');\n  });\n  return logger;\n};\n\nvar Breadcrumb = /*#__PURE__*/function () {\n  function Breadcrumb(message, metadata, type, timestamp) {\n    if (timestamp === void 0) {\n      timestamp = new Date();\n    }\n    this.type = type;\n    this.message = message;\n    this.metadata = metadata;\n    this.timestamp = timestamp;\n  }\n  var _proto = Breadcrumb.prototype;\n  _proto.toJSON = function toJSON() {\n    return {\n      type: this.type,\n      name: this.message,\n      timestamp: this.timestamp,\n      metaData: this.metadata\n    };\n  };\n  return Breadcrumb;\n}();\nvar _$Breadcrumb_12 = Breadcrumb;\n\nvar _$stackframe_9 = {};\n(function (root, factory) {\n  'use strict';\n\n  // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define('stackframe', [], factory);\n  } else if (typeof _$stackframe_9 === 'object') {\n    _$stackframe_9 = factory();\n  } else {\n    root.StackFrame = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  function _isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n  function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n  }\n  function _getter(p) {\n    return function () {\n      return this[p];\n    };\n  }\n  var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n  var numericProps = ['columnNumber', 'lineNumber'];\n  var stringProps = ['fileName', 'functionName', 'source'];\n  var arrayProps = ['args'];\n  var objectProps = ['evalOrigin'];\n  var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n  function StackFrame(obj) {\n    if (!obj) return;\n    for (var i = 0; i < props.length; i++) {\n      if (obj[props[i]] !== undefined) {\n        this['set' + _capitalize(props[i])](obj[props[i]]);\n      }\n    }\n  }\n  StackFrame.prototype = {\n    getArgs: function () {\n      return this.args;\n    },\n    setArgs: function (v) {\n      if (Object.prototype.toString.call(v) !== '[object Array]') {\n        throw new TypeError('Args must be an Array');\n      }\n      this.args = v;\n    },\n    getEvalOrigin: function () {\n      return this.evalOrigin;\n    },\n    setEvalOrigin: function (v) {\n      if (v instanceof StackFrame) {\n        this.evalOrigin = v;\n      } else if (v instanceof Object) {\n        this.evalOrigin = new StackFrame(v);\n      } else {\n        throw new TypeError('Eval Origin must be an Object or StackFrame');\n      }\n    },\n    toString: function () {\n      var fileName = this.getFileName() || '';\n      var lineNumber = this.getLineNumber() || '';\n      var columnNumber = this.getColumnNumber() || '';\n      var functionName = this.getFunctionName() || '';\n      if (this.getIsEval()) {\n        if (fileName) {\n          return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n        }\n        return '[eval]:' + lineNumber + ':' + columnNumber;\n      }\n      if (functionName) {\n        return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n      }\n      return fileName + ':' + lineNumber + ':' + columnNumber;\n    }\n  };\n  StackFrame.fromString = function StackFrame$$fromString(str) {\n    var argsStartIndex = str.indexOf('(');\n    var argsEndIndex = str.lastIndexOf(')');\n    var functionName = str.substring(0, argsStartIndex);\n    var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n    var locationString = str.substring(argsEndIndex + 1);\n    if (locationString.indexOf('@') === 0) {\n      var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n      var fileName = parts[1];\n      var lineNumber = parts[2];\n      var columnNumber = parts[3];\n    }\n    return new StackFrame({\n      functionName: functionName,\n      args: args || undefined,\n      fileName: fileName,\n      lineNumber: lineNumber || undefined,\n      columnNumber: columnNumber || undefined\n    });\n  };\n  for (var i = 0; i < booleanProps.length; i++) {\n    StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n    StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n      return function (v) {\n        this[p] = Boolean(v);\n      };\n    }(booleanProps[i]);\n  }\n  for (var j = 0; j < numericProps.length; j++) {\n    StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n    StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n      return function (v) {\n        if (!_isNumber(v)) {\n          throw new TypeError(p + ' must be a Number');\n        }\n        this[p] = Number(v);\n      };\n    }(numericProps[j]);\n  }\n  for (var k = 0; k < stringProps.length; k++) {\n    StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n    StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n      return function (v) {\n        this[p] = String(v);\n      };\n    }(stringProps[k]);\n  }\n  return StackFrame;\n});\n\nvar _$stackGenerator_8 = {};\n(function (root, factory) {\n  'use strict';\n\n  // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define('stack-generator', ['stackframe'], factory);\n  } else if (typeof _$stackGenerator_8 === 'object') {\n    _$stackGenerator_8 = factory(_$stackframe_9);\n  } else {\n    root.StackGenerator = factory(root.StackFrame);\n  }\n})(this, function (StackFrame) {\n  return {\n    backtrace: function StackGenerator$$backtrace(opts) {\n      var stack = [];\n      var maxStackSize = 10;\n      if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n        maxStackSize = opts.maxStackSize;\n      }\n      var curr = arguments.callee;\n      while (curr && stack.length < maxStackSize && curr['arguments']) {\n        // Allow V8 optimizations\n        var args = new Array(curr['arguments'].length);\n        for (var i = 0; i < args.length; ++i) {\n          args[i] = curr['arguments'][i];\n        }\n        if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n          stack.push(new StackFrame({\n            functionName: RegExp.$1 || undefined,\n            args: args\n          }));\n        } else {\n          stack.push(new StackFrame({\n            args: args\n          }));\n        }\n        try {\n          curr = curr.caller;\n        } catch (e) {\n          break;\n        }\n      }\n      return stack;\n    }\n  };\n});\n\nvar _$errorStackParser_6 = {};\n(function (root, factory) {\n  'use strict';\n\n  // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define('error-stack-parser', ['stackframe'], factory);\n  } else if (typeof _$errorStackParser_6 === 'object') {\n    _$errorStackParser_6 = factory(_$stackframe_9);\n  } else {\n    root.ErrorStackParser = factory(root.StackFrame);\n  }\n})(this, function ErrorStackParser(StackFrame) {\n  'use strict';\n\n  var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n  var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n  var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n  return {\n    /**\n     * Given an Error object, extract the most information from it.\n     *\n     * @param {Error} error object\n     * @return {Array} of StackFrames\n     */\n    parse: function ErrorStackParser$$parse(error) {\n      if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n        return this.parseOpera(error);\n      } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n        return this.parseV8OrIE(error);\n      } else if (error.stack) {\n        return this.parseFFOrSafari(error);\n      } else {\n        throw new Error('Cannot parse given Error object');\n      }\n    },\n    // Separate line and column numbers from a string of the form: (URI:Line:Column)\n    extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n      // Fail-fast but return locations like \"(native)\"\n      if (urlLike.indexOf(':') === -1) {\n        return [urlLike];\n      }\n      var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n      var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n      return [parts[1], parts[2] || undefined, parts[3] || undefined];\n    },\n    parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !!line.match(CHROME_IE_STACK_REGEXP);\n      }, this);\n      return filtered.map(function (line) {\n        if (line.indexOf('(eval ') > -1) {\n          // Throw away eval information until we implement stacktrace.js/stackframe#8\n          line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n        }\n        var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n        // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n        // case it has spaces in it, as the string is split on \\s+ later on\n        var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n        // remove the parenthesized location from the line, if it was matched\n        sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n        var tokens = sanitizedLine.split(/\\s+/).slice(1);\n        // if a location was matched, pass it to extractLocation() otherwise pop the last token\n        var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n        var functionName = tokens.join(' ') || undefined;\n        var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n        return new StackFrame({\n          functionName: functionName,\n          fileName: fileName,\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2],\n          source: line\n        });\n      }, this);\n    },\n    parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n      }, this);\n      return filtered.map(function (line) {\n        // Throw away eval information until we implement stacktrace.js/stackframe#8\n        if (line.indexOf(' > eval') > -1) {\n          line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n        }\n        if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n          // Safari eval frames only have function names and nothing else\n          return new StackFrame({\n            functionName: line\n          });\n        } else {\n          var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n          var matches = line.match(functionNameRegex);\n          var functionName = matches && matches[1] ? matches[1] : undefined;\n          var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n          return new StackFrame({\n            functionName: functionName,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }\n      }, this);\n    },\n    parseOpera: function ErrorStackParser$$parseOpera(e) {\n      if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n        return this.parseOpera9(e);\n      } else if (!e.stack) {\n        return this.parseOpera10(e);\n      } else {\n        return this.parseOpera11(e);\n      }\n    },\n    parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n      var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n      var lines = e.message.split('\\n');\n      var result = [];\n      for (var i = 2, len = lines.length; i < len; i += 2) {\n        var match = lineRE.exec(lines[i]);\n        if (match) {\n          result.push(new StackFrame({\n            fileName: match[2],\n            lineNumber: match[1],\n            source: lines[i]\n          }));\n        }\n      }\n      return result;\n    },\n    parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n      var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n      var lines = e.stacktrace.split('\\n');\n      var result = [];\n      for (var i = 0, len = lines.length; i < len; i += 2) {\n        var match = lineRE.exec(lines[i]);\n        if (match) {\n          result.push(new StackFrame({\n            functionName: match[3] || undefined,\n            fileName: match[2],\n            lineNumber: match[1],\n            source: lines[i]\n          }));\n        }\n      }\n      return result;\n    },\n    // Opera 10.65+ Error.stack very similar to FF/Safari\n    parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n      }, this);\n      return filtered.map(function (line) {\n        var tokens = line.split('@');\n        var locationParts = this.extractLocation(tokens.pop());\n        var functionCall = tokens.shift() || '';\n        var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^)]*\\)/g, '') || undefined;\n        var argsRaw;\n        if (functionCall.match(/\\(([^)]*)\\)/)) {\n          argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n        }\n        var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n        return new StackFrame({\n          functionName: functionName,\n          args: args,\n          fileName: locationParts[0],\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2],\n          source: line\n        });\n      }, this);\n    }\n  };\n});\n\nvar _$errorStackParser_19 = _$errorStackParser_6;\n\nvar _$safeJsonStringify_5 = function (data, replacer, space, opts) {\n  var redactedKeys = opts && opts.redactedKeys ? opts.redactedKeys : [];\n  var redactedPaths = opts && opts.redactedPaths ? opts.redactedPaths : [];\n  return JSON.stringify(prepareObjForSerialization(data, redactedKeys, redactedPaths), replacer, space);\n};\nvar MAX_DEPTH = 20;\nvar MAX_EDGES = 25000;\nvar MIN_PRESERVED_DEPTH = 8;\nvar REPLACEMENT_NODE = '...';\nfunction isError(o) {\n  return o instanceof Error || /^\\[object (Error|(Dom)?Exception)\\]$/.test(Object.prototype.toString.call(o));\n}\nfunction throwsMessage(err) {\n  return '[Throws: ' + (err ? err.message : '?') + ']';\n}\nfunction find(haystack, needle) {\n  for (var i = 0, len = haystack.length; i < len; i++) {\n    if (haystack[i] === needle) return true;\n  }\n  return false;\n}\n\n// returns true if the string `path` starts with any of the provided `paths`\nfunction isDescendent(paths, path) {\n  for (var i = 0, len = paths.length; i < len; i++) {\n    if (path.indexOf(paths[i]) === 0) return true;\n  }\n  return false;\n}\nfunction shouldRedact(patterns, key) {\n  for (var i = 0, len = patterns.length; i < len; i++) {\n    if (typeof patterns[i] === 'string' && patterns[i].toLowerCase() === key.toLowerCase()) return true;\n    if (patterns[i] && typeof patterns[i].test === 'function' && patterns[i].test(key)) return true;\n  }\n  return false;\n}\nfunction __isArray_5(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\nfunction safelyGetProp(obj, prop) {\n  try {\n    return obj[prop];\n  } catch (err) {\n    return throwsMessage(err);\n  }\n}\nfunction prepareObjForSerialization(obj, redactedKeys, redactedPaths) {\n  var seen = []; // store references to objects we have seen before\n  var edges = 0;\n  function visit(obj, path) {\n    function edgesExceeded() {\n      return path.length > MIN_PRESERVED_DEPTH && edges > MAX_EDGES;\n    }\n    edges++;\n    if (path.length > MAX_DEPTH) return REPLACEMENT_NODE;\n    if (edgesExceeded()) return REPLACEMENT_NODE;\n    if (obj === null || typeof obj !== 'object') return obj;\n    if (find(seen, obj)) return '[Circular]';\n    seen.push(obj);\n    if (typeof obj.toJSON === 'function') {\n      try {\n        // we're not going to count this as an edge because it\n        // replaces the value of the currently visited object\n        edges--;\n        var fResult = visit(obj.toJSON(), path);\n        seen.pop();\n        return fResult;\n      } catch (err) {\n        return throwsMessage(err);\n      }\n    }\n    var er = isError(obj);\n    if (er) {\n      edges--;\n      var eResult = visit({\n        name: obj.name,\n        message: obj.message\n      }, path);\n      seen.pop();\n      return eResult;\n    }\n    if (__isArray_5(obj)) {\n      var aResult = [];\n      for (var i = 0, len = obj.length; i < len; i++) {\n        if (edgesExceeded()) {\n          aResult.push(REPLACEMENT_NODE);\n          break;\n        }\n        aResult.push(visit(obj[i], path.concat('[]')));\n      }\n      seen.pop();\n      return aResult;\n    }\n    var result = {};\n    try {\n      for (var prop in obj) {\n        if (!Object.prototype.hasOwnProperty.call(obj, prop)) continue;\n        if (isDescendent(redactedPaths, path.join('.')) && shouldRedact(redactedKeys, prop)) {\n          result[prop] = '[REDACTED]';\n          continue;\n        }\n        if (edgesExceeded()) {\n          result[prop] = REPLACEMENT_NODE;\n          break;\n        }\n        result[prop] = visit(safelyGetProp(obj, prop), path.concat(prop));\n      }\n    } catch (e) {}\n    seen.pop();\n    return result;\n  }\n  return visit(obj, []);\n}\n\n/* removed: var _$map_25 = require('./es-utils/map'); */;\n/* removed: var _$filter_21 = require('./es-utils/filter'); */;\n/* removed: var _$isArray_23 = require('./es-utils/is-array'); */;\n/* removed: var _$safeJsonStringify_5 = require('@bugsnag/safe-json-stringify'); */;\nfunction add(existingFeatures, existingFeatureKeys, name, variant) {\n  if (typeof name !== 'string') {\n    return;\n  }\n  if (variant === undefined) {\n    variant = null;\n  } else if (variant !== null && typeof variant !== 'string') {\n    variant = _$safeJsonStringify_5(variant);\n  }\n  var existingIndex = existingFeatureKeys[name];\n  if (typeof existingIndex === 'number') {\n    existingFeatures[existingIndex] = {\n      name: name,\n      variant: variant\n    };\n    return;\n  }\n  existingFeatures.push({\n    name: name,\n    variant: variant\n  });\n  existingFeatureKeys[name] = existingFeatures.length - 1;\n}\nfunction merge(existingFeatures, newFeatures, existingFeatureKeys) {\n  if (!_$isArray_23(newFeatures)) {\n    return;\n  }\n  for (var i = 0; i < newFeatures.length; ++i) {\n    var feature = newFeatures[i];\n    if (feature === null || typeof feature !== 'object') {\n      continue;\n    }\n\n    // 'add' will handle if 'name' doesn't exist & 'variant' is optional\n    add(existingFeatures, existingFeatureKeys, feature.name, feature.variant);\n  }\n  return existingFeatures;\n}\n\n// convert feature flags from a map of 'name -> variant' into the format required\n// by the Bugsnag Event API:\n//   [{ featureFlag: 'name', variant: 'variant' }, { featureFlag: 'name 2' }]\nfunction toEventApi(featureFlags) {\n  return _$map_25(_$filter_21(featureFlags, Boolean), function (_ref) {\n    var name = _ref.name,\n      variant = _ref.variant;\n    var flag = {\n      featureFlag: name\n    };\n\n    // don't add a 'variant' property unless there's actually a value\n    if (typeof variant === 'string') {\n      flag.variant = variant;\n    }\n    return flag;\n  });\n}\nfunction clear(features, featuresIndex, name) {\n  var existingIndex = featuresIndex[name];\n  if (typeof existingIndex === 'number') {\n    features[existingIndex] = null;\n    delete featuresIndex[name];\n  }\n}\nvar _$featureFlagDelegate_27 = {\n  add: add,\n  clear: clear,\n  merge: merge,\n  toEventApi: toEventApi\n};\n\n// Given `err` which may be an error, does it have a stack property which is a string?\nvar _$hasStack_28 = function (err) {\n  return !!err && (!!err.stack || !!err.stacktrace || !!err['opera#sourceloc']) && typeof (err.stack || err.stacktrace || err['opera#sourceloc']) === 'string' && err.stack !== err.name + \": \" + err.message;\n};\n\n/**\n * Expose `isError`.\n */\n\nvar _$isError_7 = __isError_7;\n\n/**\n * Test whether `value` is error object.\n *\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction __isError_7(value) {\n  switch (Object.prototype.toString.call(value)) {\n    case '[object Error]':\n      return true;\n    case '[object Exception]':\n      return true;\n    case '[object DOMException]':\n      return true;\n    default:\n      return value instanceof Error;\n  }\n}\n\nvar _$iserror_29 = _$isError_7;\n\n/* removed: var _$assign_20 = require('./es-utils/assign'); */;\nvar __add_31 = function (state, section, keyOrObj, maybeVal) {\n  var _updates;\n  if (!section) return;\n  var updates;\n\n  // addMetadata(\"section\", null) -> clears section\n  if (keyOrObj === null) return __clear_31(state, section);\n\n  // normalise the two supported input types into object form\n  if (typeof keyOrObj === 'object') updates = keyOrObj;\n  if (typeof keyOrObj === 'string') updates = (_updates = {}, _updates[keyOrObj] = maybeVal, _updates);\n\n  // exit if we don't have an updates object at this point\n  if (!updates) return;\n\n  // preventing the __proto__ property from being used as a key\n  if (section === '__proto__' || section === 'constructor' || section === 'prototype') {\n    return;\n  }\n\n  // ensure a section with this name exists\n  if (!state[section]) state[section] = {};\n\n  // merge the updates with the existing section\n  state[section] = _$assign_20({}, state[section], updates);\n};\nvar get = function (state, section, key) {\n  if (typeof section !== 'string') return undefined;\n  if (!key) {\n    return state[section];\n  }\n  if (state[section]) {\n    return state[section][key];\n  }\n  return undefined;\n};\nvar __clear_31 = function (state, section, key) {\n  if (typeof section !== 'string') return;\n\n  // clear an entire section\n  if (!key) {\n    delete state[section];\n    return;\n  }\n\n  // preventing the __proto__ property from being used as a key\n  if (section === '__proto__' || section === 'constructor' || section === 'prototype') {\n    return;\n  }\n\n  // clear a single value from a section\n  if (state[section]) {\n    delete state[section][key];\n  }\n};\nvar _$metadataDelegate_31 = {\n  add: __add_31,\n  get: get,\n  clear: __clear_31\n};\n\nfunction ___extends_15() { return ___extends_15 = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, ___extends_15.apply(null, arguments); }\n/* removed: var _$errorStackParser_19 = require('./lib/error-stack-parser'); */;\n/* removed: var _$stackGenerator_8 = require('stack-generator'); */;\n/* removed: var _$hasStack_28 = require('./lib/has-stack'); */;\n/* removed: var _$map_25 = require('./lib/es-utils/map'); */;\n/* removed: var _$reduce_26 = require('./lib/es-utils/reduce'); */;\n/* removed: var _$filter_21 = require('./lib/es-utils/filter'); */;\n/* removed: var _$assign_20 = require('./lib/es-utils/assign'); */;\n/* removed: var _$metadataDelegate_31 = require('./lib/metadata-delegate'); */;\n/* removed: var _$featureFlagDelegate_27 = require('./lib/feature-flag-delegate'); */;\n/* removed: var _$iserror_29 = require('./lib/iserror'); */;\nvar Event = /*#__PURE__*/function () {\n  function Event(errorClass, errorMessage, stacktrace, handledState, originalError) {\n    if (stacktrace === void 0) {\n      stacktrace = [];\n    }\n    if (handledState === void 0) {\n      handledState = defaultHandledState();\n    }\n    this.apiKey = undefined;\n    this.context = undefined;\n    this.groupingHash = undefined;\n    this.originalError = originalError;\n    this._handledState = handledState;\n    this.severity = this._handledState.severity;\n    this.unhandled = this._handledState.unhandled;\n    this.app = {};\n    this.device = {};\n    this.request = {};\n    this.response = {};\n    this.breadcrumbs = [];\n    this.threads = [];\n    this._metadata = {};\n    this._features = [];\n    this._featuresIndex = {};\n    this._user = {};\n    this._session = undefined;\n    this._correlation = undefined;\n    this._groupingDiscriminator = undefined;\n    this.errors = [createBugsnagError(errorClass, errorMessage, Event.__type, stacktrace)];\n\n    // Flags.\n    // Note these are not initialised unless they are used\n    // to save unnecessary bytes in the browser bundle\n\n    /* this.attemptImmediateDelivery, default: true */\n  }\n  var _proto = Event.prototype;\n  _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n    return _$metadataDelegate_31.add(this._metadata, section, keyOrObj, maybeVal);\n  }\n\n  /**\n     * Associate this event with a specific trace. This is usually done automatically when\n     * using bugsnag-js-performance, but can also be set manually if required.\n     *\n     * @param traceId the ID of the trace the event occurred within\n     * @param spanId the ID of the span that the event occurred within\n     */;\n  _proto.setTraceCorrelation = function setTraceCorrelation(traceId, spanId) {\n    if (typeof traceId === 'string') {\n      this._correlation = ___extends_15({\n        traceId: traceId\n      }, typeof spanId === 'string' ? {\n        spanId: spanId\n      } : {});\n    }\n  };\n  _proto.getGroupingDiscriminator = function getGroupingDiscriminator() {\n    return this._groupingDiscriminator;\n  };\n  _proto.setGroupingDiscriminator = function setGroupingDiscriminator(value) {\n    var previousValue = this._groupingDiscriminator;\n    if (typeof value === 'string' || value === null || value === undefined) this._groupingDiscriminator = value;\n    return previousValue;\n  };\n  _proto.getMetadata = function getMetadata(section, key) {\n    return _$metadataDelegate_31.get(this._metadata, section, key);\n  };\n  _proto.clearMetadata = function clearMetadata(section, key) {\n    return _$metadataDelegate_31.clear(this._metadata, section, key);\n  };\n  _proto.addFeatureFlag = function addFeatureFlag(name, variant) {\n    if (variant === void 0) {\n      variant = null;\n    }\n    _$featureFlagDelegate_27.add(this._features, this._featuresIndex, name, variant);\n  };\n  _proto.addFeatureFlags = function addFeatureFlags(featureFlags) {\n    _$featureFlagDelegate_27.merge(this._features, featureFlags, this._featuresIndex);\n  };\n  _proto.getFeatureFlags = function getFeatureFlags() {\n    return _$featureFlagDelegate_27.toEventApi(this._features);\n  };\n  _proto.clearFeatureFlag = function clearFeatureFlag(name) {\n    _$featureFlagDelegate_27.clear(this._features, this._featuresIndex, name);\n  };\n  _proto.clearFeatureFlags = function clearFeatureFlags() {\n    this._features = [];\n    this._featuresIndex = {};\n  };\n  _proto.getUser = function getUser() {\n    return this._user;\n  };\n  _proto.setUser = function setUser(id, email, name) {\n    this._user = {\n      id: id,\n      email: email,\n      name: name\n    };\n  };\n  _proto.toJSON = function toJSON() {\n    return {\n      payloadVersion: '4',\n      exceptions: _$map_25(this.errors, function (er) {\n        return _$assign_20({}, er, {\n          message: er.errorMessage\n        });\n      }),\n      severity: this.severity,\n      unhandled: this._handledState.unhandled,\n      severityReason: this._handledState.severityReason,\n      app: this.app,\n      device: this.device,\n      request: this.request,\n      response: this.response,\n      breadcrumbs: this.breadcrumbs,\n      context: this.context,\n      groupingHash: this.groupingHash,\n      groupingDiscriminator: this._groupingDiscriminator,\n      metaData: this._metadata,\n      user: this._user,\n      session: this._session,\n      featureFlags: this.getFeatureFlags(),\n      correlation: this._correlation\n    };\n  };\n  return Event;\n}(); // takes a stacktrace.js style stackframe (https://github.com/stacktracejs/stackframe)\n// and returns a Bugsnag compatible stackframe (https://docs.bugsnag.com/api/error-reporting/#json-payload)\nvar formatStackframe = function (frame) {\n  var f = {\n    file: frame.fileName,\n    method: normaliseFunctionName(frame.functionName),\n    lineNumber: frame.lineNumber,\n    columnNumber: frame.columnNumber,\n    code: undefined,\n    inProject: undefined\n  };\n  // Some instances result in no file:\n  // - calling notify() from chrome's terminal results in no file/method.\n  // - non-error exception thrown from global code in FF\n  // This adds one.\n  if (f.lineNumber > -1 && !f.file && !f.method) {\n    f.file = 'global code';\n  }\n  return f;\n};\nvar normaliseFunctionName = function (name) {\n  return /^global code$/i.test(name) ? 'global code' : name;\n};\nvar defaultHandledState = function () {\n  return {\n    unhandled: false,\n    severity: 'warning',\n    severityReason: {\n      type: 'handledException'\n    }\n  };\n};\nvar ensureString = function (str) {\n  return typeof str === 'string' ? str : '';\n};\nfunction createBugsnagError(errorClass, errorMessage, type, stacktrace) {\n  return {\n    errorClass: ensureString(errorClass),\n    errorMessage: ensureString(errorMessage),\n    type: type,\n    stacktrace: _$reduce_26(stacktrace, function (accum, frame) {\n      var f = formatStackframe(frame);\n      // don't include a stackframe if none of its properties are defined\n      try {\n        if (JSON.stringify(f) === '{}') return accum;\n        return accum.concat(f);\n      } catch (e) {\n        return accum;\n      }\n    }, [])\n  };\n}\nfunction getCauseStack(error) {\n  if (error.cause) {\n    return [error].concat(getCauseStack(error.cause));\n  } else {\n    return [error];\n  }\n}\n\n// Helpers\n\nEvent.getStacktrace = function (error, errorFramesToSkip, backtraceFramesToSkip) {\n  if (_$hasStack_28(error)) return _$errorStackParser_19.parse(error).slice(errorFramesToSkip);\n  // error wasn't provided or didn't have a stacktrace so try to walk the callstack\n  try {\n    return _$filter_21(_$stackGenerator_8.backtrace(), function (frame) {\n      return (frame.functionName || '').indexOf('StackGenerator$$') === -1;\n    }).slice(1 + backtraceFramesToSkip);\n  } catch (e) {\n    return [];\n  }\n};\nEvent.create = function (maybeError, tolerateNonErrors, handledState, component, errorFramesToSkip, logger) {\n  if (errorFramesToSkip === void 0) {\n    errorFramesToSkip = 0;\n  }\n  var _normaliseError = normaliseError(maybeError, tolerateNonErrors, component, logger),\n    error = _normaliseError[0],\n    internalFrames = _normaliseError[1];\n  var event;\n  try {\n    var stacktrace = Event.getStacktrace(error,\n    // if an error was created/throw in the normaliseError() function, we need to\n    // tell the getStacktrace() function to skip the number of frames we know will\n    // be from our own functions. This is added to the number of frames deep we\n    // were told about\n    internalFrames > 0 ? 1 + internalFrames + errorFramesToSkip : 0,\n    // if there's no stacktrace, the callstack may be walked to generated one.\n    // this is how many frames should be removed because they come from our library\n    1 + errorFramesToSkip);\n    event = new Event(error.name, error.message, stacktrace, handledState, maybeError);\n  } catch (e) {\n    event = new Event(error.name, error.message, [], handledState, maybeError);\n  }\n  if (error.name === 'InvalidError') {\n    event.addMetadata(\"\" + component, 'non-error parameter', makeSerialisable(maybeError));\n  }\n  if (error.cause) {\n    var _event$errors;\n    var causes = getCauseStack(error).slice(1);\n    var normalisedCauses = _$map_25(causes, function (cause) {\n      // Only get stacktrace for error causes that are a valid JS Error and already have a stack\n      var stacktrace = _$iserror_29(cause) && _$hasStack_28(cause) ? _$errorStackParser_19.parse(cause) : [];\n      var _normaliseError2 = normaliseError(cause, true, 'error cause'),\n        error = _normaliseError2[0];\n      if (error.name === 'InvalidError') event.addMetadata('error cause', makeSerialisable(cause));\n      return createBugsnagError(error.name, error.message, Event.__type, stacktrace);\n    });\n    (_event$errors = event.errors).push.apply(_event$errors, normalisedCauses);\n  }\n  return event;\n};\nvar makeSerialisable = function (err) {\n  if (err === null) return 'null';\n  if (err === undefined) return 'undefined';\n  return err;\n};\nvar normaliseError = function (maybeError, tolerateNonErrors, component, logger) {\n  var error;\n  var internalFrames = 0;\n  var createAndLogInputError = function (reason) {\n    var verb = component === 'error cause' ? 'was' : 'received';\n    if (logger) logger.warn(component + \" \" + verb + \" a non-error: \\\"\" + reason + \"\\\"\");\n    var err = new Error(component + \" \" + verb + \" a non-error. See \\\"\" + component + \"\\\" tab for more detail.\");\n    err.name = 'InvalidError';\n    return err;\n  };\n\n  // In some cases:\n  //\n  //  - the promise rejection handler (both in the browser and node)\n  //  - the node uncaughtException handler\n  //\n  // We are really limited in what we can do to get a stacktrace. So we use the\n  // tolerateNonErrors option to ensure that the resulting error communicates as\n  // such.\n  if (!tolerateNonErrors) {\n    if (_$iserror_29(maybeError)) {\n      error = maybeError;\n    } else {\n      error = createAndLogInputError(typeof maybeError);\n      internalFrames += 2;\n    }\n  } else {\n    switch (typeof maybeError) {\n      case 'string':\n      case 'number':\n      case 'boolean':\n        error = new Error(String(maybeError));\n        internalFrames += 1;\n        break;\n      case 'function':\n        error = createAndLogInputError('function');\n        internalFrames += 2;\n        break;\n      case 'object':\n        if (maybeError !== null && _$iserror_29(maybeError)) {\n          error = maybeError;\n        } else if (maybeError !== null && hasNecessaryFields(maybeError)) {\n          error = new Error(maybeError.message || maybeError.errorMessage);\n          error.name = maybeError.name || maybeError.errorClass;\n          internalFrames += 1;\n        } else {\n          error = createAndLogInputError(maybeError === null ? 'null' : 'unsupported object');\n          internalFrames += 2;\n        }\n        break;\n      default:\n        error = createAndLogInputError('nothing');\n        internalFrames += 2;\n    }\n  }\n  if (!_$hasStack_28(error)) {\n    // in IE10/11 a new Error() doesn't have a stacktrace until you throw it, so try that here\n    try {\n      throw error;\n    } catch (e) {\n      if (_$hasStack_28(e)) {\n        error = e;\n        // if the error only got a stacktrace after we threw it here, we know it\n        // will only have one extra internal frame from this function, regardless\n        // of whether it went through createAndLogInputError() or not\n        internalFrames = 1;\n      }\n    }\n  }\n  return [error, internalFrames];\n};\n\n// default value for stacktrace.type\nEvent.__type = 'browserjs';\nvar hasNecessaryFields = function (error) {\n  return (typeof error.name === 'string' || typeof error.errorClass === 'string') && (typeof error.message === 'string' || typeof error.errorMessage === 'string');\n};\nvar _$Event_15 = Event;\n\n// This is a heavily modified/simplified version of\n//   https://github.com/othiym23/async-some\n// with the logic flipped so that it is akin to the\n// synchronous \"every\" method instead of \"some\".\n\n// run the asynchronous test function (fn) over each item in the array (arr)\n// in series until:\n//   - fn(item, cb) => calls cb(null, false)\n//   - or the end of the array is reached\n// the callback (cb) will be passed (null, false) if any of the items in arr\n// caused fn to call back with false, otherwise it will be passed (null, true)\nvar _$asyncEvery_16 = function (arr, fn, cb) {\n  var index = 0;\n  var next = function () {\n    if (index >= arr.length) return cb(null, true);\n    fn(arr[index], function (err, result) {\n      if (err) return cb(err);\n      if (result === false) return cb(null, false);\n      index++;\n      next();\n    });\n  };\n  next();\n};\n\n/* removed: var _$asyncEvery_16 = require('./async-every'); */;\nvar _$callbackRunner_18 = function (callbacks, event, onCallbackError, cb) {\n  // This function is how we support different kinds of callback:\n  //  - synchronous - return value\n  //  - node-style async with callback - cb(err, value)\n  //  - promise/thenable - resolve(value)\n  // It normalises each of these into the lowest common denominator â€“ a node-style callback\n  var runMaybeAsyncCallback = function (fn, cb) {\n    if (typeof fn !== 'function') return cb(null);\n    try {\n      // if function appears syncâ€¦\n      if (fn.length !== 2) {\n        var ret = fn(event);\n        // check if it returned a \"thenable\" (promise)\n        if (ret && typeof ret.then === 'function') {\n          return ret.then(\n          // resolve\n          function (val) {\n            return setTimeout(function () {\n              return cb(null, val);\n            });\n          },\n          // reject\n          function (err) {\n            setTimeout(function () {\n              onCallbackError(err);\n              return cb(null, true);\n            });\n          });\n        }\n        return cb(null, ret);\n      }\n      // if function is asyncâ€¦\n      fn(event, function (err, result) {\n        if (err) {\n          onCallbackError(err);\n          return cb(null);\n        }\n        cb(null, result);\n      });\n    } catch (e) {\n      onCallbackError(e);\n      cb(null);\n    }\n  };\n  _$asyncEvery_16(callbacks, runMaybeAsyncCallback, cb);\n};\n\nvar _$syncCallbackRunner_32 = function (callbacks, callbackArg, callbackType, logger) {\n  var ignore = false;\n  var cbs = callbacks.slice();\n  while (!ignore) {\n    if (!cbs.length) break;\n    try {\n      ignore = cbs.pop()(callbackArg) === false;\n    } catch (e) {\n      logger.error(\"Error occurred in \" + callbackType + \" callback, continuing anyway\\u2026\");\n      logger.error(e);\n    }\n  }\n  return ignore;\n};\n\nvar _$pad_4 = function pad(num, size) {\n  var s = '000000000' + num;\n  return s.substr(s.length - size);\n};\n\n/* removed: var _$pad_4 = require('./pad.js'); */;\nvar env = typeof window === 'object' ? window : self;\nvar globalCount = 0;\nfor (var prop in env) {\n  if (Object.hasOwnProperty.call(env, prop)) globalCount++;\n}\nvar mimeTypesLength = navigator.mimeTypes ? navigator.mimeTypes.length : 0;\nvar clientId = _$pad_4((mimeTypesLength + navigator.userAgent.length).toString(36) + globalCount.toString(36), 4);\nvar _$fingerprint_2 = function fingerprint() {\n  return clientId;\n};\n\n/**\n * Check the provided value is a valid device id\n * @param {unknown} value\n * @returns\n */\nvar _$isCuid_3 = function isCuid(value) {\n  return typeof value === 'string' && /^c[a-z0-9]{20,32}$/.test(value);\n};\n\n/**\n * cuid.js\n * Collision-resistant UID generator for browsers and node.\n * Sequential for fast db lookups and recency sorting.\n * Safe for element IDs and server-side lookups.\n *\n * Extracted from CLCTR\n *\n * Copyright (c) Eric Elliott 2012\n * MIT License\n */\n\n/* removed: var _$fingerprint_2 = require('./lib/fingerprint.js'); */;\n/* removed: var _$isCuid_3 = require('./lib/is-cuid.js'); */;\n/* removed: var _$pad_4 = require('./lib/pad.js'); */;\nvar c = 0,\n  blockSize = 4,\n  base = 36,\n  discreteValues = Math.pow(base, blockSize);\nfunction randomBlock() {\n  return _$pad_4((Math.random() * discreteValues << 0).toString(base), blockSize);\n}\nfunction safeCounter() {\n  c = c < discreteValues ? c : 0;\n  c++; // this is not subliminal\n  return c - 1;\n}\nfunction cuid() {\n  // Starting with a lowercase letter makes\n  // it HTML element ID friendly.\n  var letter = 'c',\n    // hard-coded allows for sequential access\n\n    // timestamp\n    // warning: this exposes the exact date and time\n    // that the uid was created.\n    timestamp = new Date().getTime().toString(base),\n    // Prevent same-machine collisions.\n    counter = _$pad_4(safeCounter().toString(base), blockSize),\n    // A few chars to generate distinct ids for different\n    // clients (so different computers are far less\n    // likely to generate the same id)\n    print = _$fingerprint_2(),\n    // Grab some more chars from Math.random()\n    random = randomBlock() + randomBlock();\n  return letter + timestamp + counter + print + random;\n}\ncuid.fingerprint = _$fingerprint_2;\ncuid.isCuid = _$isCuid_3;\nvar _$cuid_1 = cuid;\n\n/* removed: var _$cuid_1 = require('@bugsnag/cuid'); */;\nvar Session = /*#__PURE__*/function () {\n  function Session() {\n    this.id = _$cuid_1();\n    this.startedAt = new Date();\n    this._handled = 0;\n    this._unhandled = 0;\n    this._user = {};\n    this.app = {};\n    this.device = {};\n  }\n  var _proto = Session.prototype;\n  _proto.getUser = function getUser() {\n    return this._user;\n  };\n  _proto.setUser = function setUser(id, email, name) {\n    this._user = {\n      id: id,\n      email: email,\n      name: name\n    };\n  };\n  _proto.toJSON = function toJSON() {\n    return {\n      id: this.id,\n      startedAt: this.startedAt,\n      events: {\n        handled: this._handled,\n        unhandled: this._unhandled\n      }\n    };\n  };\n  _proto._track = function _track(event) {\n    this[event._handledState.unhandled ? '_unhandled' : '_handled'] += 1;\n  };\n  return Session;\n}();\nvar _$Session_36 = Session;\n\n/* removed: var _$config_14 = require('./config'); */;\n/* removed: var _$Event_15 = require('./event'); */;\n/* removed: var _$Breadcrumb_12 = require('./breadcrumb'); */;\n/* removed: var _$Session_36 = require('./session'); */;\n/* removed: var _$map_25 = require('./lib/es-utils/map'); */;\n/* removed: var _$includes_22 = require('./lib/es-utils/includes'); */;\n/* removed: var _$filter_21 = require('./lib/es-utils/filter'); */;\n/* removed: var _$reduce_26 = require('./lib/es-utils/reduce'); */;\n/* removed: var _$keys_24 = require('./lib/es-utils/keys'); */;\n/* removed: var _$assign_20 = require('./lib/es-utils/assign'); */;\n/* removed: var _$callbackRunner_18 = require('./lib/callback-runner'); */;\n/* removed: var _$metadataDelegate_31 = require('./lib/metadata-delegate'); */;\n/* removed: var _$syncCallbackRunner_32 = require('./lib/sync-callback-runner'); */;\n/* removed: var _$breadcrumbTypes_17 = require('./lib/breadcrumb-types'); */;\nvar __add_13 = _$featureFlagDelegate_27.add,\n  __clear_13 = _$featureFlagDelegate_27.clear,\n  __merge_13 = _$featureFlagDelegate_27.merge;\nvar SECONDARY_ENDPOINT_API_KEY_PREFIX = '00000';\nvar SECONDARY_NOTIFY_ENDPOINT = 'https://notify.bugsnag.smartbear.com';\nvar SECONDARY_SESSIONS_ENDPOINT = 'https://sessions.bugsnag.smartbear.com';\nvar noop = function () {};\nvar Client = /*#__PURE__*/function () {\n  function Client(configuration, schema, internalPlugins, notifier) {\n    var _this = this;\n    if (schema === void 0) {\n      schema = _$config_14.schema;\n    }\n    if (internalPlugins === void 0) {\n      internalPlugins = [];\n    }\n    // notifier id\n    this._notifier = notifier;\n\n    // intialise opts and config\n    this._config = {};\n    this._schema = schema;\n\n    // i/o\n    this._delivery = {\n      sendSession: noop,\n      sendEvent: noop\n    };\n    this._logger = {\n      debug: noop,\n      info: noop,\n      warn: noop,\n      error: noop\n    };\n\n    // plugins\n    this._plugins = {};\n\n    // state\n    this._breadcrumbs = [];\n    this._session = null;\n    this._metadata = {};\n    this._featuresIndex = {};\n    this._features = [];\n    this._context = undefined;\n    this._user = {};\n    this._groupingDiscriminator = undefined;\n\n    // callbacks:\n    //  e: onError\n    //  s: onSession\n    //  sp: onSessionPayload\n    //  b: onBreadcrumb\n    // (note these names are minified by hand because object\n    // properties are not safe to minify automatically)\n    this._cbs = {\n      e: [],\n      s: [],\n      sp: [],\n      b: []\n    };\n\n    // expose internal constructors\n    this.Client = Client;\n    this.Event = _$Event_15;\n    this.Breadcrumb = _$Breadcrumb_12;\n    this.Session = _$Session_36;\n    this._config = this._configure(configuration, internalPlugins);\n    _$map_25(internalPlugins.concat(this._config.plugins), function (pl) {\n      if (pl) _this._loadPlugin(pl);\n    });\n\n    // when notify() is called we need to know how many frames are from our own source\n    // this inital value is 1 not 0 because we wrap notify() to ensure it is always\n    // bound to have the client as its `this` value â€“ see below.\n    this._depth = 1;\n    var self = this;\n    var notify = this.notify;\n    this.notify = function () {\n      return notify.apply(self, arguments);\n    };\n  }\n  var _proto = Client.prototype;\n  _proto.addMetadata = function addMetadata(section, keyOrObj, maybeVal) {\n    return _$metadataDelegate_31.add(this._metadata, section, keyOrObj, maybeVal);\n  };\n  _proto.getMetadata = function getMetadata(section, key) {\n    return _$metadataDelegate_31.get(this._metadata, section, key);\n  };\n  _proto.clearMetadata = function clearMetadata(section, key) {\n    return _$metadataDelegate_31.clear(this._metadata, section, key);\n  };\n  _proto.addFeatureFlag = function addFeatureFlag(name, variant) {\n    if (variant === void 0) {\n      variant = null;\n    }\n    __add_13(this._features, this._featuresIndex, name, variant);\n  };\n  _proto.addFeatureFlags = function addFeatureFlags(featureFlags) {\n    __merge_13(this._features, featureFlags, this._featuresIndex);\n  };\n  _proto.clearFeatureFlag = function clearFeatureFlag(name) {\n    __clear_13(this._features, this._featuresIndex, name);\n  };\n  _proto.clearFeatureFlags = function clearFeatureFlags() {\n    this._features = [];\n    this._featuresIndex = {};\n  };\n  _proto.getContext = function getContext() {\n    return this._context;\n  };\n  _proto.setContext = function setContext(c) {\n    this._context = c;\n  };\n  _proto.getGroupingDiscriminator = function getGroupingDiscriminator() {\n    return this._groupingDiscriminator;\n  };\n  _proto.setGroupingDiscriminator = function setGroupingDiscriminator(value) {\n    var previousValue = this._groupingDiscriminator;\n    if (typeof value === 'string' || value === null || value === undefined) this._groupingDiscriminator = value;\n    return previousValue;\n  };\n  _proto._configure = function _configure(opts, internalPlugins) {\n    var schema = _$reduce_26(internalPlugins, function (schema, plugin) {\n      if (plugin && plugin.configSchema) return _$assign_20({}, schema, plugin.configSchema);\n      return schema;\n    }, this._schema);\n\n    // sendPayloadChecksums is false by default unless custom endpoints are not specified\n    if (!opts.endpoints) {\n      opts.sendPayloadChecksums = 'sendPayloadChecksums' in opts ? opts.sendPayloadChecksums : true;\n    }\n\n    // accumulate configuration and error messages\n    var _reduce = _$reduce_26(_$keys_24(schema), function (accum, key) {\n        var defaultValue = schema[key].defaultValue(opts[key]);\n        if (opts[key] !== undefined) {\n          var valid = schema[key].validate(opts[key]);\n          if (!valid) {\n            accum.errors[key] = schema[key].message;\n            accum.config[key] = defaultValue;\n          } else {\n            if (schema[key].allowPartialObject) {\n              accum.config[key] = _$assign_20(defaultValue, opts[key]);\n            } else {\n              accum.config[key] = opts[key];\n            }\n          }\n        } else {\n          accum.config[key] = defaultValue;\n        }\n        return accum;\n      }, {\n        errors: {},\n        config: {}\n      }),\n      errors = _reduce.errors,\n      config = _reduce.config;\n    if (schema.apiKey) {\n      // missing api key is the only fatal error\n      if (!config.apiKey) throw new Error('No Bugsnag API Key set');\n      // warn about an apikey that is not of the expected format\n      if (!/^[0-9a-f]{32}$/i.test(config.apiKey)) errors.apiKey = 'should be a string of 32 hexadecimal characters';\n      if (opts.endpoints === undefined && config.apiKey.indexOf(SECONDARY_ENDPOINT_API_KEY_PREFIX) === 0) {\n        config.endpoints = {\n          notify: SECONDARY_NOTIFY_ENDPOINT,\n          sessions: SECONDARY_SESSIONS_ENDPOINT\n        };\n      }\n    }\n\n    // update and elevate some options\n    this._metadata = _$assign_20({}, config.metadata);\n    __merge_13(this._features, config.featureFlags, this._featuresIndex);\n    this._user = _$assign_20({}, config.user);\n    this._context = config.context;\n    if (config.logger) this._logger = config.logger;\n\n    // add callbacks\n    if (config.onError) this._cbs.e = this._cbs.e.concat(config.onError);\n    if (config.onBreadcrumb) this._cbs.b = this._cbs.b.concat(config.onBreadcrumb);\n    if (config.onSession) this._cbs.s = this._cbs.s.concat(config.onSession);\n\n    // finally warn about any invalid config where we fell back to the default\n    if (_$keys_24(errors).length) {\n      this._logger.warn(generateConfigErrorMessage(errors, opts));\n    }\n    return config;\n  };\n  _proto.getUser = function getUser() {\n    return this._user;\n  };\n  _proto.setUser = function setUser(id, email, name) {\n    this._user = {\n      id: id,\n      email: email,\n      name: name\n    };\n  };\n  _proto._loadPlugin = function _loadPlugin(plugin) {\n    var result = plugin.load(this);\n    // JS objects are not the safest way to store arbitrarily keyed values,\n    // so bookend the key with some characters that prevent tampering with\n    // stuff like __proto__ etc. (only store the result if the plugin had a\n    // name)\n    if (plugin.name) this._plugins[\"~\" + plugin.name + \"~\"] = result;\n  };\n  _proto.getPlugin = function getPlugin(name) {\n    return this._plugins[\"~\" + name + \"~\"];\n  };\n  _proto._setDelivery = function _setDelivery(d) {\n    this._delivery = d(this);\n  };\n  _proto.startSession = function startSession() {\n    var session = new _$Session_36();\n    session.app.releaseStage = this._config.releaseStage;\n    session.app.version = this._config.appVersion;\n    session.app.type = this._config.appType;\n    session._user = _$assign_20({}, this._user);\n\n    // run onSession callbacks\n    var ignore = _$syncCallbackRunner_32(this._cbs.s, session, 'onSession', this._logger);\n    if (ignore) {\n      this._logger.debug('Session not started due to onSession callback');\n      return this;\n    }\n    return this._sessionDelegate.startSession(this, session);\n  };\n  _proto.addOnError = function addOnError(fn, front) {\n    if (front === void 0) {\n      front = false;\n    }\n    this._cbs.e[front ? 'unshift' : 'push'](fn);\n  };\n  _proto.removeOnError = function removeOnError(fn) {\n    this._cbs.e = _$filter_21(this._cbs.e, function (f) {\n      return f !== fn;\n    });\n  };\n  _proto._addOnSessionPayload = function _addOnSessionPayload(fn) {\n    this._cbs.sp.push(fn);\n  };\n  _proto.addOnSession = function addOnSession(fn) {\n    this._cbs.s.push(fn);\n  };\n  _proto.removeOnSession = function removeOnSession(fn) {\n    this._cbs.s = _$filter_21(this._cbs.s, function (f) {\n      return f !== fn;\n    });\n  };\n  _proto.addOnBreadcrumb = function addOnBreadcrumb(fn, front) {\n    if (front === void 0) {\n      front = false;\n    }\n    this._cbs.b[front ? 'unshift' : 'push'](fn);\n  };\n  _proto.removeOnBreadcrumb = function removeOnBreadcrumb(fn) {\n    this._cbs.b = _$filter_21(this._cbs.b, function (f) {\n      return f !== fn;\n    });\n  };\n  _proto.pauseSession = function pauseSession() {\n    return this._sessionDelegate.pauseSession(this);\n  };\n  _proto.resumeSession = function resumeSession() {\n    return this._sessionDelegate.resumeSession(this);\n  };\n  _proto.leaveBreadcrumb = function leaveBreadcrumb(message, metadata, type) {\n    // coerce bad values so that the defaults get set\n    message = typeof message === 'string' ? message : '';\n    type = typeof type === 'string' && _$includes_22(_$breadcrumbTypes_17, type) ? type : 'manual';\n    metadata = typeof metadata === 'object' && metadata !== null ? metadata : {};\n\n    // if no message, discard\n    if (!message) return;\n    var crumb = new _$Breadcrumb_12(message, metadata, type);\n\n    // run onBreadcrumb callbacks\n    var ignore = _$syncCallbackRunner_32(this._cbs.b, crumb, 'onBreadcrumb', this._logger);\n    if (ignore) {\n      this._logger.debug('Breadcrumb not attached due to onBreadcrumb callback');\n      return;\n    }\n\n    // push the valid crumb onto the queue and maintain the length\n    this._breadcrumbs.push(crumb);\n    if (this._breadcrumbs.length > this._config.maxBreadcrumbs) {\n      this._breadcrumbs = this._breadcrumbs.slice(this._breadcrumbs.length - this._config.maxBreadcrumbs);\n    }\n  };\n  _proto._isBreadcrumbTypeEnabled = function _isBreadcrumbTypeEnabled(type) {\n    var types = this._config.enabledBreadcrumbTypes;\n    return types === null || _$includes_22(types, type);\n  };\n  _proto.notify = function notify(maybeError, onError, postReportCallback) {\n    if (postReportCallback === void 0) {\n      postReportCallback = noop;\n    }\n    var event = _$Event_15.create(maybeError, true, undefined, 'notify()', this._depth + 1, this._logger);\n    this._notify(event, onError, postReportCallback);\n  };\n  _proto._notify = function _notify(event, onError, postReportCallback) {\n    var _this2 = this;\n    if (postReportCallback === void 0) {\n      postReportCallback = noop;\n    }\n    event.app = _$assign_20({}, event.app, {\n      releaseStage: this._config.releaseStage,\n      version: this._config.appVersion,\n      type: this._config.appType\n    });\n    event.context = event.context || this._context;\n    event._metadata = _$assign_20({}, event._metadata, this._metadata);\n    event._user = _$assign_20({}, event._user, this._user);\n    event.breadcrumbs = this._breadcrumbs.slice();\n    event.setGroupingDiscriminator(this._groupingDiscriminator);\n    __merge_13(event._features, this._features, event._featuresIndex);\n\n    // exit early if events should not be sent on the current releaseStage\n    if (this._config.enabledReleaseStages !== null && !_$includes_22(this._config.enabledReleaseStages, this._config.releaseStage)) {\n      this._logger.warn('Event not sent due to releaseStage/enabledReleaseStages configuration');\n      return postReportCallback(null, event);\n    }\n    var originalSeverity = event.severity;\n    var onCallbackError = function (err) {\n      // errors in callbacks are tolerated but we want to log them out\n      _this2._logger.error('Error occurred in onError callback, continuing anywayâ€¦');\n      _this2._logger.error(err);\n    };\n    var callbacks = [].concat(this._cbs.e).concat(onError);\n    _$callbackRunner_18(callbacks, event, onCallbackError, function (err, shouldSend) {\n      if (err) onCallbackError(err);\n      if (!shouldSend) {\n        _this2._logger.debug('Event not sent due to onError callback');\n        return postReportCallback(null, event);\n      }\n      if (_this2._isBreadcrumbTypeEnabled('error')) {\n        // only leave a crumb for the error if actually got sent\n        Client.prototype.leaveBreadcrumb.call(_this2, event.errors[0].errorClass, {\n          errorClass: event.errors[0].errorClass,\n          errorMessage: event.errors[0].errorMessage,\n          severity: event.severity\n        }, 'error');\n      }\n      if (originalSeverity !== event.severity) {\n        event._handledState.severityReason = {\n          type: 'userCallbackSetSeverity'\n        };\n      }\n      if (event.unhandled !== event._handledState.unhandled) {\n        event._handledState.severityReason.unhandledOverridden = true;\n        event._handledState.unhandled = event.unhandled;\n      }\n      if (_this2._session) {\n        _this2._session._track(event);\n        event._session = _this2._session;\n      }\n      _this2._delivery.sendEvent({\n        apiKey: event.apiKey || _this2._config.apiKey,\n        notifier: _this2._notifier,\n        events: [event]\n      }, function (err) {\n        return postReportCallback(err, event);\n      });\n    });\n  };\n  return Client;\n}();\nvar generateConfigErrorMessage = function (errors, rawInput) {\n  var er = new Error(\"Invalid configuration\\n\" + _$map_25(_$keys_24(errors), function (key) {\n    return \"  - \" + key + \" \" + errors[key] + \", got \" + stringify(rawInput[key]);\n  }).join('\\n\\n'));\n  return er;\n};\nvar stringify = function (val) {\n  switch (typeof val) {\n    case 'string':\n    case 'number':\n    case 'object':\n      return JSON.stringify(val);\n    default:\n      return String(val);\n  }\n};\nvar _$Client_13 = Client;\n\nvar _$jsonPayload_30 = {};\n/* removed: var _$safeJsonStringify_5 = require('@bugsnag/safe-json-stringify'); */;\nvar EVENT_REDACTION_PATHS = ['events.[].metaData', 'events.[].breadcrumbs.[].metaData', 'events.[].request', 'events.[].response'];\n_$jsonPayload_30.event = function (event, redactedKeys) {\n  var payload = _$safeJsonStringify_5(event, null, null, {\n    redactedPaths: EVENT_REDACTION_PATHS,\n    redactedKeys: redactedKeys\n  });\n  if (payload.length > 10e5) {\n    event.events[0]._metadata = {\n      notifier: \"WARNING!\\nSerialized payload was \" + payload.length / 10e5 + \"MB (limit = 1MB)\\nmetadata was removed\"\n    };\n    payload = _$safeJsonStringify_5(event, null, null, {\n      redactedPaths: EVENT_REDACTION_PATHS,\n      redactedKeys: redactedKeys\n    });\n  }\n  return payload;\n};\n_$jsonPayload_30.session = function (session, redactedKeys) {\n  var payload = _$safeJsonStringify_5(session, null, null);\n  return payload;\n};\n\nvar _$delivery_37 = {};\n/* removed: var _$jsonPayload_30 = require('@bugsnag/core/lib/json-payload'); */;\n_$delivery_37 = function (client, win) {\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    sendEvent: function (event, cb) {\n      if (cb === void 0) {\n        cb = function () {};\n      }\n      if (client._config.endpoints.notify === null) {\n        var err = new Error('Event not sent due to incomplete endpoint configuration');\n        return cb(err);\n      }\n      var url = getApiUrl(client._config, 'notify', '4', win);\n      var body = _$jsonPayload_30.event(event, client._config.redactedKeys);\n      var req = new win.XDomainRequest();\n      req.onload = function () {\n        cb(null);\n      };\n      req.onerror = function () {\n        var err = new Error('Event failed to send');\n        client._logger.error('Event failed to sendâ€¦', err);\n        if (body.length > 10e5) {\n          client._logger.warn(\"Event oversized (\" + (body.length / 10e5).toFixed(2) + \" MB)\");\n        }\n        cb(err);\n      };\n      req.open('POST', url);\n      setTimeout(function () {\n        try {\n          req.send(body);\n        } catch (e) {\n          client._logger.error(e);\n          cb(e);\n        }\n      }, 0);\n    },\n    sendSession: function (session, cb) {\n      if (cb === void 0) {\n        cb = function () {};\n      }\n      if (client._config.endpoints.sessions === null) {\n        var err = new Error('Session not sent due to incomplete endpoint configuration');\n        return cb(err);\n      }\n      var url = getApiUrl(client._config, 'sessions', '1', win);\n      var req = new win.XDomainRequest();\n      req.onload = function () {\n        cb(null);\n      };\n      req.open('POST', url);\n      setTimeout(function () {\n        try {\n          req.send(_$jsonPayload_30.session(session, client._config.redactedKeys));\n        } catch (e) {\n          client._logger.error(e);\n          cb(e);\n        }\n      }, 0);\n    }\n  };\n};\nvar getApiUrl = function (config, endpoint, version, win) {\n  // IE8 doesn't support Date.prototype.toISOstring(), but it does convert a date\n  // to an ISO string when you use JSON stringify. Simply parsing the result of\n  // JSON.stringify is smaller than using a toISOstring() polyfill.\n  var isoDate = JSON.parse(JSON.stringify(new Date()));\n  var url = matchPageProtocol(config.endpoints[endpoint], win.location.protocol);\n  return url + \"?apiKey=\" + encodeURIComponent(config.apiKey) + \"&payloadVersion=\" + version + \"&sentAt=\" + encodeURIComponent(isoDate);\n};\nvar matchPageProtocol = _$delivery_37._matchPageProtocol = function (endpoint, pageProtocol) {\n  return pageProtocol === 'http:' ? endpoint.replace(/^https:/, 'http:') : endpoint;\n};\n\n/* removed: var _$jsonPayload_30 = require('@bugsnag/core/lib/json-payload'); */;\nfunction getIntegrityHeaderValue(windowOrWorkerGlobalScope, requestBody) {\n  if (windowOrWorkerGlobalScope.isSecureContext && windowOrWorkerGlobalScope.crypto && windowOrWorkerGlobalScope.crypto.subtle && windowOrWorkerGlobalScope.crypto.subtle.digest && typeof TextEncoder === 'function') {\n    var msgUint8 = new TextEncoder().encode(requestBody);\n    return windowOrWorkerGlobalScope.crypto.subtle.digest('SHA-1', msgUint8).then(function (hashBuffer) {\n      var hashArray = Array.from(new Uint8Array(hashBuffer));\n      var hashHex = hashArray.map(function (b) {\n        return b.toString(16).padStart(2, '0');\n      }).join('');\n      return 'sha1 ' + hashHex;\n    });\n  }\n  return Promise.resolve();\n}\nvar _$delivery_38 = function (client, win) {\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    sendEvent: function (event, cb) {\n      if (cb === void 0) {\n        cb = function () {};\n      }\n      try {\n        var url = client._config.endpoints.notify;\n        if (url === null) {\n          var err = new Error('Event not sent due to incomplete endpoint configuration');\n          return cb(err);\n        }\n        var req = new win.XMLHttpRequest();\n        var body = _$jsonPayload_30.event(event, client._config.redactedKeys);\n        req.onreadystatechange = function () {\n          if (req.readyState === win.XMLHttpRequest.DONE) {\n            var status = req.status;\n            if (status === 0 || status >= 400) {\n              var _err = new Error(\"Request failed with status \" + status);\n              client._logger.error('Event failed to sendâ€¦', _err);\n              if (body.length > 10e5) {\n                client._logger.warn(\"Event oversized (\" + (body.length / 10e5).toFixed(2) + \" MB)\");\n              }\n              cb(_err);\n            } else {\n              cb(null);\n            }\n          }\n        };\n        req.open('POST', url);\n        req.setRequestHeader('Content-Type', 'application/json');\n        req.setRequestHeader('Bugsnag-Api-Key', event.apiKey || client._config.apiKey);\n        req.setRequestHeader('Bugsnag-Payload-Version', '4');\n        req.setRequestHeader('Bugsnag-Sent-At', new Date().toISOString());\n        if (client._config.sendPayloadChecksums && typeof Promise !== 'undefined' && Promise.toString().indexOf('[native code]') !== -1) {\n          getIntegrityHeaderValue(win, body).then(function (integrity) {\n            if (integrity) {\n              req.setRequestHeader('Bugsnag-Integrity', integrity);\n            }\n            req.send(body);\n          })[\"catch\"](function (err) {\n            client._logger.error(err);\n            req.send(body);\n          });\n        } else {\n          req.send(body);\n        }\n      } catch (e) {\n        client._logger.error(e);\n      }\n    },\n    sendSession: function (session, cb) {\n      if (cb === void 0) {\n        cb = function () {};\n      }\n      try {\n        var url = client._config.endpoints.sessions;\n        if (url === null) {\n          var err = new Error('Session not sent due to incomplete endpoint configuration');\n          return cb(err);\n        }\n        var req = new win.XMLHttpRequest();\n        var body = _$jsonPayload_30.session(session, client._config.redactedKeys);\n        req.onreadystatechange = function () {\n          if (req.readyState === win.XMLHttpRequest.DONE) {\n            var status = req.status;\n            if (status === 0 || status >= 400) {\n              var _err2 = new Error(\"Request failed with status \" + status);\n              client._logger.error('Session failed to sendâ€¦', _err2);\n              cb(_err2);\n            } else {\n              cb(null);\n            }\n          }\n        };\n        req.open('POST', url);\n        req.setRequestHeader('Content-Type', 'application/json');\n        req.setRequestHeader('Bugsnag-Api-Key', client._config.apiKey);\n        req.setRequestHeader('Bugsnag-Payload-Version', '1');\n        req.setRequestHeader('Bugsnag-Sent-At', new Date().toISOString());\n        if (client._config.sendPayloadChecksums && typeof Promise !== 'undefined' && Promise.toString().indexOf('[native code]') !== -1) {\n          getIntegrityHeaderValue(win, body).then(function (integrity) {\n            if (integrity) {\n              req.setRequestHeader('Bugsnag-Integrity', integrity);\n            }\n            req.send(body);\n          })[\"catch\"](function (err) {\n            client._logger.error(err);\n            req.send(body);\n          });\n        } else {\n          req.send(body);\n        }\n      } catch (e) {\n        client._logger.error(e);\n      }\n    }\n  };\n};\n\nvar appStart = new Date();\nvar reset = function () {\n  appStart = new Date();\n};\nvar _$app_39 = {\n  name: 'appDuration',\n  load: function (client) {\n    client.addOnError(function (event) {\n      var now = new Date();\n      event.app.duration = now - appStart;\n    }, true);\n    return {\n      reset: reset\n    };\n  }\n};\n\n/*\n * Sets the default context to be the current URL\n */\nvar _$context_40 = function (win) {\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    load: function (client) {\n      client.addOnError(function (event) {\n        if (event.context !== undefined) return;\n        event.context = win.location.pathname;\n      }, true);\n    }\n  };\n};\n\n/* removed: var _$assign_20 = require('@bugsnag/core/lib/es-utils/assign'); */;\nvar BUGSNAG_ANONYMOUS_ID_KEY = 'bugsnag-anonymous-id';\nvar getDeviceId = function (win) {\n  try {\n    var storage = win.localStorage;\n    var id = storage.getItem(BUGSNAG_ANONYMOUS_ID_KEY);\n\n    // If we get an ID, make sure it looks like a valid cuid. The length can\n    // fluctuate slightly, so some leeway is built in\n    if (id && /^c[a-z0-9]{20,32}$/.test(id)) {\n      return id;\n    }\n    /* removed: var _$cuid_1 = require('@bugsnag/cuid'); */;\n    id = _$cuid_1();\n    storage.setItem(BUGSNAG_ANONYMOUS_ID_KEY, id);\n    return id;\n  } catch (err) {\n    // If localStorage is not available (e.g. because it's disabled) then give up\n  }\n};\n\n/*\n * Automatically detects browser device details\n */\nvar _$device_41 = function (nav, win) {\n  if (nav === void 0) {\n    nav = navigator;\n  }\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    load: function (client) {\n      var device = {\n        locale: nav.browserLanguage || nav.systemLanguage || nav.userLanguage || nav.language,\n        userAgent: nav.userAgent\n      };\n      if (win && win.screen && win.screen.orientation && win.screen.orientation.type) {\n        device.orientation = win.screen.orientation.type;\n      } else if (win && win.document) {\n        device.orientation = win.document.documentElement.clientWidth > win.document.documentElement.clientHeight ? 'landscape' : 'portrait';\n      }\n      if (client._config.generateAnonymousId) {\n        device.id = getDeviceId(win);\n      }\n      client.addOnSession(function (session) {\n        session.device = _$assign_20({}, session.device, device);\n        // only set device id if collectUserIp is false\n        if (!client._config.collectUserIp) setDefaultUserId(session);\n      });\n\n      // add time just as the event is sent\n      client.addOnError(function (event) {\n        event.device = _$assign_20({}, event.device, device, {\n          time: new Date()\n        });\n        if (!client._config.collectUserIp) setDefaultUserId(event);\n      }, true);\n    },\n    configSchema: {\n      generateAnonymousId: {\n        validate: function (value) {\n          return value === true || value === false;\n        },\n        defaultValue: function () {\n          return true;\n        },\n        message: 'should be true|false'\n      }\n    }\n  };\n};\nvar setDefaultUserId = function (eventOrSession) {\n  // device id is also used to populate the user id field, if it's not already set\n  var user = eventOrSession.getUser();\n  if (!user || !user.id) {\n    eventOrSession.setUser(eventOrSession.device.id);\n  }\n};\n\n/* removed: var _$assign_20 = require('@bugsnag/core/lib/es-utils/assign'); */;\n\n/*\n * Sets the event request: { url } to be the current href\n */\nvar _$request_42 = function (win) {\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    load: function (client) {\n      client.addOnError(function (event) {\n        if (event.request && event.request.url) return;\n        event.request = _$assign_20({}, event.request, {\n          url: win.location.href\n        });\n      }, true);\n    }\n  };\n};\n\n/* removed: var _$includes_22 = require('@bugsnag/core/lib/es-utils/includes'); */;\nvar _$session_43 = {\n  load: function (client) {\n    client._sessionDelegate = sessionDelegate;\n  }\n};\nvar sessionDelegate = {\n  startSession: function (client, session) {\n    var sessionClient = client;\n    sessionClient._session = session;\n    sessionClient._pausedSession = null;\n\n    // exit early if the current releaseStage is not enabled\n    if (sessionClient._config.enabledReleaseStages !== null && !_$includes_22(sessionClient._config.enabledReleaseStages, sessionClient._config.releaseStage)) {\n      sessionClient._logger.warn('Session not sent due to releaseStage/enabledReleaseStages configuration');\n      return sessionClient;\n    }\n    sessionClient._delivery.sendSession({\n      notifier: sessionClient._notifier,\n      device: session.device,\n      app: session.app,\n      sessions: [{\n        id: session.id,\n        startedAt: session.startedAt,\n        user: session._user\n      }]\n    });\n    return sessionClient;\n  },\n  resumeSession: function (client) {\n    // Do nothing if there's already an active session\n    if (client._session) {\n      return client;\n    }\n\n    // If we have a paused session then make it the active session\n    if (client._pausedSession) {\n      client._session = client._pausedSession;\n      client._pausedSession = null;\n      return client;\n    }\n\n    // Otherwise start a new session\n    return client.startSession();\n  },\n  pauseSession: function (client) {\n    client._pausedSession = client._session;\n    client._session = null;\n  }\n};\n\n/* removed: var _$assign_20 = require('@bugsnag/core/lib/es-utils/assign'); */;\n\n/*\n * Prevent collection of user IPs\n */\nvar _$clientIp_44 = {\n  load: function (client) {\n    if (client._config.collectUserIp) return;\n    client.addOnError(function (event) {\n      // If user.id is explicitly undefined, it will be missing from the payload. It needs\n      // removing so that the following line replaces it\n      if (event._user && typeof event._user.id === 'undefined') delete event._user.id;\n      event._user = _$assign_20({\n        id: '[REDACTED]'\n      }, event._user);\n      event.request = _$assign_20({\n        clientIp: '[REDACTED]'\n      }, event.request);\n    });\n  },\n  configSchema: {\n    collectUserIp: {\n      defaultValue: function () {\n        return true;\n      },\n      message: 'should be true|false',\n      validate: function (value) {\n        return value === true || value === false;\n      }\n    }\n  }\n};\n\nvar _$consoleBreadcrumbs_45 = {};\n/* removed: var _$map_25 = require('@bugsnag/core/lib/es-utils/map'); */;\n/* removed: var _$reduce_26 = require('@bugsnag/core/lib/es-utils/reduce'); */;\n/* removed: var _$filter_21 = require('@bugsnag/core/lib/es-utils/filter'); */;\n\n/*\n * Leaves breadcrumbs when console log methods are called\n */\n_$consoleBreadcrumbs_45.load = function (client) {\n  var isDev = /^(local-)?dev(elopment)?$/.test(client._config.releaseStage);\n  if (isDev || !client._isBreadcrumbTypeEnabled('log')) return;\n  _$map_25(CONSOLE_LOG_METHODS, function (method) {\n    var original = console[method];\n    console[method] = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      client.leaveBreadcrumb('Console output', _$reduce_26(args, function (accum, arg, i) {\n        // do the best/simplest stringification of each argument\n        var stringified = '[Unknown value]';\n        // this may fail if the input is:\n        // - an object whose [[Prototype]] is null (no toString)\n        // - an object with a broken toString or @@toPrimitive implementation\n        try {\n          stringified = String(arg);\n        } catch (e) {}\n        // if it stringifies to [object Object] attempt to JSON stringify\n        if (stringified === '[object Object]') {\n          // catch stringify errors and fallback to [object Object]\n          try {\n            stringified = JSON.stringify(arg);\n          } catch (e) {}\n        }\n        accum[\"[\" + i + \"]\"] = stringified;\n        return accum;\n      }, {\n        severity: method.indexOf('group') === 0 ? 'log' : method\n      }), 'log');\n      original.apply(console, args);\n    };\n    console[method]._restore = function () {\n      console[method] = original;\n    };\n  });\n};\nif (\"production\" !== 'production') {\n  _$consoleBreadcrumbs_45.destroy = function () {\n    return CONSOLE_LOG_METHODS.forEach(function (method) {\n      if (typeof console[method]._restore === 'function') console[method]._restore();\n    });\n  };\n}\nvar CONSOLE_LOG_METHODS = _$filter_21(['log', 'debug', 'info', 'warn', 'error'], function (method) {\n  return typeof console !== 'undefined' && typeof console[method] === 'function';\n});\n\n/* removed: var _$map_25 = require('@bugsnag/core/lib/es-utils/map'); */;\n/* removed: var _$reduce_26 = require('@bugsnag/core/lib/es-utils/reduce'); */;\n/* removed: var _$filter_21 = require('@bugsnag/core/lib/es-utils/filter'); */;\nvar MAX_LINE_LENGTH = 200;\nvar MAX_SCRIPT_LENGTH = 500000;\nvar _$inlineScriptContent_46 = function (doc, win) {\n  if (doc === void 0) {\n    doc = document;\n  }\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    load: function (client) {\n      if (!client._config.trackInlineScripts) return;\n      var originalLocation = win.location.href;\n      var html = '';\n\n      // in IE8-10 the 'interactive' state can fire too soon (before scripts have finished executing), so in those\n      // we wait for the 'complete' state before assuming that synchronous scripts are no longer executing\n      var isOldIe = !!doc.attachEvent;\n      var DOMContentLoaded = isOldIe ? doc.readyState === 'complete' : doc.readyState !== 'loading';\n      var getHtml = function () {\n        return doc.documentElement.outerHTML;\n      };\n\n      // get whatever HTML exists at this point in time\n      html = getHtml();\n      var prev = doc.onreadystatechange;\n      // then update it when the DOM content has loaded\n      doc.onreadystatechange = function () {\n        // IE8 compatible alternative to document#DOMContentLoaded\n        if (doc.readyState === 'interactive') {\n          html = getHtml();\n          DOMContentLoaded = true;\n        }\n        try {\n          prev.apply(this, arguments);\n        } catch (e) {}\n      };\n      var _lastScript = null;\n      var updateLastScript = function (script) {\n        _lastScript = script;\n      };\n      var getCurrentScript = function () {\n        var script = doc.currentScript || _lastScript;\n        if (!script && !DOMContentLoaded) {\n          var scripts = doc.scripts || doc.getElementsByTagName('script');\n          script = scripts[scripts.length - 1];\n        }\n        return script;\n      };\n      var addSurroundingCode = function (lineNumber) {\n        // get whatever html has rendered at this point\n        if (!DOMContentLoaded || !html) html = getHtml();\n        // simulate the raw html\n        var htmlLines = ['<!-- DOC START -->'].concat(html.split('\\n'));\n        var zeroBasedLine = lineNumber - 1;\n        var start = Math.max(zeroBasedLine - 3, 0);\n        var end = Math.min(zeroBasedLine + 3, htmlLines.length);\n        return _$reduce_26(htmlLines.slice(start, end), function (accum, line, i) {\n          accum[start + 1 + i] = line.length <= MAX_LINE_LENGTH ? line : line.substr(0, MAX_LINE_LENGTH);\n          return accum;\n        }, {});\n      };\n      client.addOnError(function (event) {\n        // remove any of our own frames that may be part the stack this\n        // happens before the inline script check as it happens for all errors\n        event.errors[0].stacktrace = _$filter_21(event.errors[0].stacktrace, function (f) {\n          return !/__trace__$/.test(f.method);\n        });\n        var frame = event.errors[0].stacktrace[0];\n\n        // remove hash and query string from url\n        var cleanUrl = function (url) {\n          return url.replace(/#.*$/, '').replace(/\\?.*$/, '');\n        };\n\n        // if frame.file exists and is not the original location of the page, this can't be an inline script\n        if (frame && frame.file && cleanUrl(frame.file) !== cleanUrl(originalLocation)) return;\n\n        // grab the last script known to have run\n        var currentScript = getCurrentScript();\n        if (currentScript) {\n          var content = currentScript.innerHTML;\n          event.addMetadata('script', 'content', content.length <= MAX_SCRIPT_LENGTH ? content : content.substr(0, MAX_SCRIPT_LENGTH));\n\n          // only attempt to grab some surrounding code if we have a line number\n          if (frame && frame.lineNumber) {\n            frame.code = addSurroundingCode(frame.lineNumber);\n          }\n        }\n      }, true);\n\n      // Proxy all the timer functions whose callback is their 0th argument.\n      // Keep a reference to the original setTimeout because we need it later\n      var _map = _$map_25(['setTimeout', 'setInterval', 'setImmediate', 'requestAnimationFrame'], function (fn) {\n          return __proxy(win, fn, function (original) {\n            return __traceOriginalScript(original, function (args) {\n              return {\n                get: function () {\n                  return args[0];\n                },\n                replace: function (fn) {\n                  args[0] = fn;\n                }\n              };\n            });\n          });\n        }),\n        _setTimeout = _map[0];\n\n      // Proxy all the host objects whose prototypes have an addEventListener function\n      _$map_25(['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'], function (o) {\n        if (!win[o] || !win[o].prototype || !Object.prototype.hasOwnProperty.call(win[o].prototype, 'addEventListener')) return;\n        __proxy(win[o].prototype, 'addEventListener', function (original) {\n          return __traceOriginalScript(original, eventTargetCallbackAccessor);\n        });\n        __proxy(win[o].prototype, 'removeEventListener', function (original) {\n          return __traceOriginalScript(original, eventTargetCallbackAccessor, true);\n        });\n      });\n      function __traceOriginalScript(fn, callbackAccessor, alsoCallOriginal) {\n        if (alsoCallOriginal === void 0) {\n          alsoCallOriginal = false;\n        }\n        return function () {\n          // this is required for removeEventListener to remove anything added with\n          // addEventListener before the functions started being wrapped by Bugsnag\n          var args = [].slice.call(arguments);\n          try {\n            var cba = callbackAccessor(args);\n            var cb = cba.get();\n            if (alsoCallOriginal) fn.apply(this, args);\n            if (typeof cb !== 'function') return fn.apply(this, args);\n            if (cb.__trace__) {\n              cba.replace(cb.__trace__);\n            } else {\n              var script = getCurrentScript();\n              // this function mustn't be annonymous due to a bug in the stack\n              // generation logic, meaning it gets tripped up\n              // see: https://github.com/stacktracejs/stack-generator/issues/6\n              cb.__trace__ = function __trace__() {\n                // set the script that called this function\n                updateLastScript(script);\n                // immediately unset the currentScript synchronously below, however\n                // if this cb throws an error the line after will not get run so schedule\n                // an almost-immediate aysnc update too\n                _setTimeout(function () {\n                  updateLastScript(null);\n                }, 0);\n                var ret = cb.apply(this, arguments);\n                updateLastScript(null);\n                return ret;\n              };\n              cb.__trace__.__trace__ = cb.__trace__;\n              cba.replace(cb.__trace__);\n            }\n          } catch (e) {\n            // swallow these errors on Selenium:\n            // Permission denied to access property '__trace__'\n            // WebDriverException: Message: Permission denied to access property \"handleEvent\"\n          }\n          // IE8 doesn't let you call .apply() on setTimeout/setInterval\n          if (fn.apply) return fn.apply(this, args);\n          switch (args.length) {\n            case 1:\n              return fn(args[0]);\n            case 2:\n              return fn(args[0], args[1]);\n            default:\n              return fn();\n          }\n        };\n      }\n    },\n    configSchema: {\n      trackInlineScripts: {\n        validate: function (value) {\n          return value === true || value === false;\n        },\n        defaultValue: function () {\n          return true;\n        },\n        message: 'should be true|false'\n      }\n    }\n  };\n};\nfunction __proxy(host, name, replacer) {\n  var original = host[name];\n  if (!original) return original;\n  var replacement = replacer(original);\n  host[name] = replacement;\n  return original;\n}\nfunction eventTargetCallbackAccessor(args) {\n  var isEventHandlerObj = !!args[1] && typeof args[1].handleEvent === 'function';\n  return {\n    get: function () {\n      return isEventHandlerObj ? args[1].handleEvent : args[1];\n    },\n    replace: function (fn) {\n      if (isEventHandlerObj) {\n        args[1].handleEvent = fn;\n      } else {\n        args[1] = fn;\n      }\n    }\n  };\n}\n\n/*\n * Leaves breadcrumbs when the user interacts with the DOM\n */\nvar _$interactionBreadcrumbs_47 = function (win) {\n  if (win === void 0) {\n    win = window;\n  }\n  return {\n    load: function (client) {\n      if (!('addEventListener' in win)) return;\n      if (!client._isBreadcrumbTypeEnabled('user')) return;\n      win.addEventListener('click', function (event) {\n        var targetText, targetSelector;\n        try {\n          targetText = getNodeText(event.target);\n          targetSelector = getNodeSelector(event.target, win);\n        } catch (e) {\n          targetText = '[hidden]';\n          targetSelector = '[hidden]';\n          client._logger.error('Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z');\n        }\n        client.leaveBreadcrumb('UI click', {\n          targetText: targetText,\n          targetSelector: targetSelector\n        }, 'user');\n      }, true);\n    }\n  };\n};\nvar trim = /^\\s*([^\\s][\\s\\S]{0,139}[^\\s])?\\s*/;\nfunction getNodeText(el) {\n  var text = el.textContent || el.innerText || '';\n  if (!text && (el.type === 'submit' || el.type === 'button')) {\n    text = el.value;\n  }\n  text = text.replace(trim, '$1');\n  if (text.length > 140) {\n    return text.slice(0, 135) + '(...)';\n  }\n  return text;\n}\n\n// Create a label from tagname, id and css class of the element\nfunction getNodeSelector(el, win) {\n  var parts = [el.tagName];\n  if (el.id) parts.push('#' + el.id);\n  if (el.className && el.className.length) parts.push(\".\" + el.className.split(' ').join('.'));\n  // Can't get much more advanced with the current browser\n  if (!win.document.querySelectorAll || !Array.prototype.indexOf) return parts.join('');\n  try {\n    if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('');\n  } catch (e) {\n    // Sometimes the query selector can be invalid just return it as-is\n    return parts.join('');\n  }\n  // try to get a more specific selector if this one matches more than one element\n  if (el.parentNode.childNodes.length > 1) {\n    var index = Array.prototype.indexOf.call(el.parentNode.childNodes, el) + 1;\n    parts.push(\":nth-child(\" + index + \")\");\n  }\n  if (win.document.querySelectorAll(parts.join('')).length === 1) return parts.join('');\n  // try prepending the parent node selector\n  if (el.parentNode) return getNodeSelector(el.parentNode, win) + \" > \" + parts.join('');\n  return parts.join('');\n}\n\nvar _$navigationBreadcrumbs_48 = {};\n/*\n* Leaves breadcrumbs when navigation methods are called or events are emitted\n*/\n_$navigationBreadcrumbs_48 = function (win) {\n  if (win === void 0) {\n    win = window;\n  }\n  var plugin = {\n    load: function (client) {\n      if (!('addEventListener' in win)) return;\n      if (!client._isBreadcrumbTypeEnabled('navigation')) return;\n\n      // returns a function that will drop a breadcrumb with a given name\n      var drop = function (name) {\n        return function () {\n          return client.leaveBreadcrumb(name, {}, 'navigation');\n        };\n      };\n\n      // simple drops â€“ just names, no meta\n      win.addEventListener('pagehide', drop('Page hidden'), true);\n      win.addEventListener('pageshow', drop('Page shown'), true);\n      win.addEventListener('load', drop('Page loaded'), true);\n      win.document.addEventListener('DOMContentLoaded', drop('DOMContentLoaded'), true);\n      // some browsers like to emit popstate when the page loads, so only add the popstate listener after that\n      win.addEventListener('load', function () {\n        return win.addEventListener('popstate', drop('Navigated back'), true);\n      });\n\n      // hashchange has some metadata that we care about\n      win.addEventListener('hashchange', function (event) {\n        var metadata = event.oldURL ? {\n          from: relativeLocation(event.oldURL, win),\n          to: relativeLocation(event.newURL, win),\n          state: getCurrentState(win)\n        } : {\n          to: relativeLocation(win.location.href, win)\n        };\n        client.leaveBreadcrumb('Hash changed', metadata, 'navigation');\n      }, true);\n\n      // the only way to know about replaceState/pushState is to wrap themâ€¦ >_<\n      if (win.history.pushState) wrapHistoryFn(client, win.history, 'pushState', win, true);\n      if (win.history.replaceState) wrapHistoryFn(client, win.history, 'replaceState', win);\n    }\n  };\n  if (\"production\" !== 'production') {\n    plugin.destroy = function (win) {\n      if (win === void 0) {\n        win = window;\n      }\n      win.history.replaceState._restore();\n      win.history.pushState._restore();\n    };\n  }\n  return plugin;\n};\nif (\"production\" !== 'production') {\n  _$navigationBreadcrumbs_48.destroy = function (win) {\n    if (win === void 0) {\n      win = window;\n    }\n    win.history.replaceState._restore();\n    win.history.pushState._restore();\n  };\n}\n\n// takes a full url like http://foo.com:1234/pages/01.html?yes=no#section-2 and returns\n// just the path and hash parts, e.g. /pages/01.html?yes=no#section-2\nvar relativeLocation = function (url, win) {\n  var a = win.document.createElement('A');\n  a.href = url;\n  return \"\" + a.pathname + a.search + a.hash;\n};\nvar stateChangeToMetadata = function (win, state, title, url) {\n  var currentPath = relativeLocation(win.location.href, win);\n  return {\n    title: title,\n    state: state,\n    prevState: getCurrentState(win),\n    to: url || currentPath,\n    from: currentPath\n  };\n};\nvar wrapHistoryFn = function (client, target, fn, win, resetEventCount) {\n  if (resetEventCount === void 0) {\n    resetEventCount = false;\n  }\n  var orig = target[fn];\n  target[fn] = function (state, title, url) {\n    client.leaveBreadcrumb(\"History \" + fn, stateChangeToMetadata(win, state, title, url), 'navigation');\n    // if throttle plugin is in use, reset the event sent count\n    if (resetEventCount && typeof client.resetEventCount === 'function') client.resetEventCount();\n    // Internet Explorer will convert `undefined` to a string when passed, causing an unintended redirect\n    // to '/undefined'. therefore we only pass the url if it's not undefined.\n    orig.apply(target, [state, title].concat(url !== undefined ? url : []));\n  };\n  if (\"production\" !== 'production') {\n    target[fn]._restore = function () {\n      target[fn] = orig;\n    };\n  }\n};\nvar getCurrentState = function (win) {\n  try {\n    return win.history.state;\n  } catch (e) {}\n};\n\n/**\n   * Convert Headers object to plain object\n   * @param {Headers} headers - Headers object\n   * @returns {Object} Plain object with header key-value pairs\n   */\nvar _$headersToObject_56 = function (headers) {\n  if (!headers) return {};\n  var obj = {};\n  if (typeof headers.entries === 'function') {\n    var iterator = headers.entries();\n    var entry = iterator.next();\n    while (!entry.done) {\n      var _entry$value = entry.value,\n        key = _entry$value[0],\n        value = _entry$value[1];\n      obj[key] = value;\n      entry = iterator.next();\n    }\n  } else if (headers.forEach) {\n    headers.forEach(function (value, key) {\n      obj[key] = value;\n    });\n  }\n  return obj;\n};\n\n/**\n * Singleton RequestTracker class for managing HTTP request instrumentation\n * Allows multiple plugins to register callbacks for the same requests\n */\nvar RequestTracker = /*#__PURE__*/function () {\n  function RequestTracker() {\n    this.callbacks = [];\n  }\n\n  /**\n   * Register a callback to be called when a request starts\n   * @param {Function} callback - Function to call with request context\n   */\n  var _proto = RequestTracker.prototype;\n  _proto.onStart = function onStart(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('RequestTracker onStart callback must be a function');\n    }\n    this.callbacks.push(callback);\n  }\n\n  /**\n   * Notify all registered callbacks about a request start\n   * @param {Object} context - Request start context\n   * @returns {Object} Combined result with onRequestEnd callbacks\n   */;\n  _proto.start = function start(context) {\n    var results = this.callbacks.map(function (callback) {\n      try {\n        return callback(context);\n      } catch (error) {\n        // Isolate plugin errors - don't let one plugin break others\n        console.error('RequestTracker callback error:', error);\n        return null;\n      }\n    }).filter(function (result) {\n      return result && typeof result === 'object';\n    });\n    return {\n      onRequestEnd: function (endContext) {\n        results.forEach(function (result) {\n          if (typeof result.onRequestEnd === 'function') {\n            try {\n              result.onRequestEnd(endContext);\n            } catch (error) {\n              console.error('RequestTracker onRequestEnd callback error:', error);\n            }\n          }\n        });\n      },\n      extraRequestHeaders: results.map(function (result) {\n        return result.extraRequestHeaders;\n      }).filter(function (headers) {\n        return headers && typeof headers === 'object';\n      }).reduce(function (combined, headers) {\n        return Object.assign(combined, headers);\n      }, {})\n    };\n  }\n\n  /**\n   * Reset tracker (for testing)\n   */;\n  _proto._reset = function _reset() {\n    this.callbacks = [];\n  };\n  return RequestTracker;\n}();\nvar _$RequestTracker_57 = RequestTracker;\n\n/* removed: var _$headersToObject_56 = require('./headers-to-object'); */;\n/* removed: var _$RequestTracker_57 = require('./request-tracker'); */;\n\n/**\n * Create fetch request tracker with singleton pattern\n * @param {Object} global - Global object (window or global)\n * @param {Object} options - Configuration options\n * @returns {Object} Tracker instance\n */\nfunction createFetchTracker(global, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  // only patch it if it exists and if it is not a polyfill (patching a polyfilled\n  // fetch() results in duplicate breadcrumbs for the same request because the\n  // implementation uses XMLHttpRequest which is also patched)\n  if (!('fetch' in global) || global.fetch.polyfill) return;\n\n  // Use singleton pattern - one tracker per global context\n  if (!global.__bugsnag_fetch_tracker__) {\n    var tracker = new _$RequestTracker_57();\n    var originalFetch = global.fetch;\n    global.fetch = function wrappedFetch(urlOrRequest, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var url = null;\n      var method = 'GET';\n      if (urlOrRequest && typeof urlOrRequest === 'object') {\n        url = urlOrRequest.url;\n        if (options && 'method' in options) {\n          method = options.method;\n        } else if (urlOrRequest && 'method' in urlOrRequest) {\n          method = urlOrRequest.method;\n        }\n      } else {\n        url = urlOrRequest;\n        if (options && 'method' in options) {\n          method = options.method;\n        }\n      }\n      if (method === undefined) {\n        method = 'GET';\n      }\n      var requestHeaders = {};\n      if (options && options.headers) {\n        // eslint-disable-next-line no-undef\n        if (options.headers instanceof Headers) {\n          requestHeaders = _$headersToObject_56(options.headers);\n        } else if (typeof options.headers === 'object') {\n          requestHeaders = options.headers;\n        }\n      }\n      var startTime = Date.now();\n      var context = {\n        url: String(url),\n        method: String(method),\n        startTime: startTime,\n        type: 'fetch',\n        input: urlOrRequest,\n        headers: requestHeaders,\n        body: options ? options.body : undefined\n      };\n      var _tracker$start = tracker.start(context),\n        onRequestEnd = _tracker$start.onRequestEnd;\n\n      // Call original fetch\n      return originalFetch.call.apply(originalFetch, [this].concat(Array.prototype.slice.call(arguments))).then(function (response) {\n        onRequestEnd({\n          endTime: Date.now(),\n          status: response.status,\n          state: 'success',\n          headers: _$headersToObject_56(response.headers)\n        });\n        return response;\n      }, function (error) {\n        onRequestEnd({\n          endTime: Date.now(),\n          state: 'error',\n          error: error\n        });\n        throw error;\n      });\n    };\n\n    // Store tracker and mark as active\n    global.__bugsnag_fetch_tracker__ = tracker;\n\n    // Restore function for development\n    if (\"production\" !== 'production') {\n      tracker._restore = function () {\n        global.fetch = originalFetch;\n        delete global.__bugsnag_fetch_tracker__;\n      };\n    }\n  }\n  return global.__bugsnag_fetch_tracker__;\n}\nvar _$createFetchTracker_55 = createFetchTracker;\n\n/* removed: var _$includes_22 = require('@bugsnag/core/lib/es-utils/includes'); */;\n\n/**\n * Check if a URL should be ignored for tracking\n * @param {string} url - URL to check\n * @param {Array} ignoredUrls - Array of URLs to ignore\n * @returns {boolean} True if URL should be ignored\n */\nfunction shouldIgnoreUrl(url, ignoredUrls) {\n  if (ignoredUrls === void 0) {\n    ignoredUrls = [];\n  }\n  if (!url || typeof url !== 'string') return true;\n\n  // Remove query parameters for comparison\n  var urlWithoutQuery = url.replace(/\\?.*$/, '');\n  return _$includes_22(ignoredUrls, urlWithoutQuery);\n}\n\n/**\n * Create URL filtering function for Bugsnag endpoints and custom ignored URLs\n * @param {Object} client - Bugsnag client instance\n * @param {Array} additionalIgnoredUrls - Additional URLs to ignore\n * @returns {Function} URL filtering function\n */\nfunction createUrlFilter(client, additionalIgnoredUrls) {\n  if (additionalIgnoredUrls === void 0) {\n    additionalIgnoredUrls = [];\n  }\n  var ignoredUrls = [client._config.endpoints.notify, client._config.endpoints.sessions].concat(additionalIgnoredUrls).filter(Boolean);\n  return function (url) {\n    return shouldIgnoreUrl(url, ignoredUrls);\n  };\n}\n\n/**\n * Calculate duration from start time\n * @param {number} startTime - Start timestamp\n * @returns {number} Duration in milliseconds\n */\nfunction getDuration(startTime) {\n  return startTime && Date.now() - startTime;\n}\nvar _$urlHelpers_58 = {\n  shouldIgnoreUrl: shouldIgnoreUrl,\n  createUrlFilter: createUrlFilter,\n  getDuration: getDuration\n};\n\n/**\n * Converts an XHR header string to an object\n * @param {string} headersString\n * @returns {Object}\n */\nvar _$xhrHeaderStringToObject_59 = function (headersString) {\n  if (!headersString) return {};\n  var arr = headersString.trim().split(/[\\r\\n]+/);\n  var headerMap = {};\n  arr.forEach(function (line) {\n    var parts = line.split(': ');\n    var header = parts.shift();\n    var value = parts.join(': ');\n    headerMap[header] = value;\n  });\n  return headerMap;\n};\n\n/**\n * Receives the XHR response and parses it based on the responseType\n * @param {XMLHttpRequest} xhr The XHR instance\n * @returns {string | undefined} The parsed response\n */\nvar _$xhrResponseParser_60 = function xhrResponseParser(_ref) {\n  var response = _ref.response,\n    responseType = _ref.responseType;\n  if (response === null || response === undefined) {\n    return undefined;\n  }\n  switch (responseType) {\n    case 'arraybuffer':\n    case 'blob':\n      return '[Binary Data]';\n    case 'document':\n      return '[Document]';\n    case 'json':\n      try {\n        return JSON.stringify(response);\n      } catch (e) {\n        return '[Unserializable JSON]';\n      }\n    case 'text':\n    case '':\n    default:\n      return String(response);\n  }\n};\n\n/* removed: var _$RequestTracker_57 = require('./request-tracker'); */;\n/* removed: var _$xhrHeaderStringToObject_59 = require('./xhr-header-string-to-object'); */;\n/* removed: var _$xhrResponseParser_60 = require('./xhr-response-parser'); */;\n\n/**\n * Create XHR request tracker with singleton pattern\n * @param {Object} global - Global object (window or global)\n * @param {Object} options - Configuration options\n * @returns {Object} Tracker instance\n */\nfunction createXhrTracker(global, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  if (!('addEventListener' in global.XMLHttpRequest.prototype) || !('WeakMap' in global)) return;\n\n  // Use singleton pattern - one tracker per global context\n  if (!global.__bugsnag_xhr_tracker__) {\n    var tracker = new _$RequestTracker_57();\n    var trackedRequests = new WeakMap();\n    var requestHandlers = new WeakMap();\n    var originalOpen = global.XMLHttpRequest.prototype.open;\n    var originalSend = global.XMLHttpRequest.prototype.send;\n    var originalSetRequestHeader = global.XMLHttpRequest.prototype.setRequestHeader;\n    global.XMLHttpRequest.prototype.open = function open(method, url) {\n      // it's possible for `this` to be `undefined`, which is not a valid key for a WeakMap\n      if (this) {\n        trackedRequests.set(this, {\n          method: String(method),\n          url: String(url)\n        });\n      }\n      originalOpen.apply(this, arguments);\n    };\n    global.XMLHttpRequest.prototype.setRequestHeader = function setRequestHeader(header, value) {\n      // it's possible for `this` to be `undefined`, which is not a valid key for a WeakMap\n      if (this) {\n        var requestData = trackedRequests.get(this);\n        if (requestData) {\n          requestData.headers = requestData.headers || {};\n          requestData.headers[String(header)] = (requestData.headers[String(header)] || '') + String(value);\n        }\n      }\n      originalSetRequestHeader.apply(this, arguments);\n    };\n    global.XMLHttpRequest.prototype.send = function send(body) {\n      var _this = this;\n      var requestData = trackedRequests.get(this);\n      if (requestData) {\n        // if we have already setup listeners then this request instance is being reused,\n        // so we need to remove the listeners from the previous send\n        var listeners = requestHandlers.get(this);\n        if (listeners) {\n          this.removeEventListener('load', listeners.load);\n          this.removeEventListener('error', listeners.error);\n        }\n        var startTime = Date.now();\n        var context = {\n          url: requestData.url,\n          method: requestData.method,\n          startTime: startTime,\n          type: 'xmlhttprequest',\n          body: body,\n          headers: requestData.headers\n        };\n        var _tracker$start = tracker.start(context),\n          onRequestEnd = _tracker$start.onRequestEnd;\n        var getResponseHeaders = function () {\n          return _$xhrHeaderStringToObject_59(_this.getAllResponseHeaders());\n        };\n        var handleLoad = function () {\n          onRequestEnd({\n            endTime: Date.now(),\n            status: _this.status,\n            state: 'success',\n            headers: getResponseHeaders(),\n            body: _$xhrResponseParser_60(_this)\n          });\n        };\n        var handleError = function () {\n          onRequestEnd({\n            endTime: Date.now(),\n            state: 'error',\n            headers: getResponseHeaders(),\n            body: _$xhrResponseParser_60(_this)\n          });\n        };\n        this.addEventListener('load', handleLoad);\n        this.addEventListener('error', handleError);\n\n        // it's possible for `this` to be `undefined`, which is not a valid key for a WeakMap\n        if (this) {\n          requestHandlers.set(this, {\n            load: handleLoad,\n            error: handleError\n          });\n        }\n      }\n      originalSend.apply(this, arguments);\n    };\n\n    // Store tracker and mark as active\n    global.__bugsnag_xhr_tracker__ = tracker;\n\n    // Restore function for development\n    if (\"production\" !== 'production') {\n      tracker._restore = function () {\n        global.XMLHttpRequest.prototype.open = originalOpen;\n        global.XMLHttpRequest.prototype.send = originalSend;\n        global.XMLHttpRequest.prototype.setRequestHeader = originalSetRequestHeader;\n        delete global.__bugsnag_xhr_tracker__;\n      };\n    }\n  }\n  return global.__bugsnag_xhr_tracker__;\n}\nvar _$createXhrTracker_61 = createXhrTracker;\n\n/* removed: var _$RequestTracker_57 = require('./lib/request-tracker'); */;\n/* removed: var _$createFetchTracker_55 = require('./lib/fetch-tracker'); */;\n/* removed: var _$createXhrTracker_61 = require('./lib/xhr-tracker'); */;\nvar __createUrlFilter_54 = _$urlHelpers_58.createUrlFilter,\n  __getDuration_54 = _$urlHelpers_58.getDuration;\n\n/**\n * Create an auto-loading request tracker plugin\n * @param {Array} ignoredUrls - Additional URLs to ignore\n * @param {Object} global - Global object (window or global)\n * @returns {Object} Bugsnag plugin\n */\nfunction createRequestTrackerPlugin(ignoredUrls, global) {\n  if (ignoredUrls === void 0) {\n    ignoredUrls = [];\n  }\n  if (global === void 0) {\n    global = window;\n  }\n  return {\n    name: 'requestTracker',\n    load: function (client) {\n      try {\n        var fetchTracker = _$createFetchTracker_55(global);\n        var xhrTracker = _$createXhrTracker_61(global);\n        var urlFilter = __createUrlFilter_54(client, ignoredUrls);\n        return {\n          fetchTracker: fetchTracker,\n          xhrTracker: xhrTracker,\n          urlFilter: urlFilter,\n          getDuration: __getDuration_54\n        };\n      } catch (error) {\n        client._logger.error('Failed to load request tracker:', error);\n        throw new Error('Request tracking is not available: ' + error.message);\n      }\n    }\n  };\n}\nvar _$requestTracker_54 = {\n  RequestTracker: _$RequestTracker_57,\n  createFetchTracker: _$createFetchTracker_55,\n  createXhrTracker: _$createXhrTracker_61,\n  createUrlFilter: __createUrlFilter_54,\n  getDuration: __getDuration_54,\n  createRequestTrackerPlugin: createRequestTrackerPlugin\n};\n\nvar BREADCRUMB_TYPE = 'request';\n\n/*\n * Leaves breadcrumbs when network requests occur\n */\nvar _$networkBreadcrumbs_49 = function (_ignoredUrls, win) {\n  if (_ignoredUrls === void 0) {\n    _ignoredUrls = [];\n  }\n  if (win === void 0) {\n    win = window;\n  }\n  var restoreFunctions = [];\n  var plugin = {\n    load: function (client) {\n      if (!client._isBreadcrumbTypeEnabled('request')) return;\n\n      // Try to get existing request tracker\n      var requestTrackerPlugin = client.getPlugin('requestTracker');\n\n      // Auto-load request tracker if not present\n      if (!requestTrackerPlugin) {\n        try {\n          var createRequestTrackerPlugin = _$requestTracker_54.createRequestTrackerPlugin;\n          var trackerPlugin = createRequestTrackerPlugin(_ignoredUrls, win);\n          client._loadPlugin(trackerPlugin);\n          requestTrackerPlugin = client.getPlugin('requestTracker');\n        } catch (error) {\n          client._logger.warn('Failed to auto-load request tracker, falling back to direct monkey-patching:', error.message);\n        }\n      }\n      if (requestTrackerPlugin) {\n        return useSharedRequestTracker(requestTrackerPlugin);\n      }\n      function useSharedRequestTracker(trackerPlugin) {\n        var fetchTracker = trackerPlugin.fetchTracker,\n          xhrTracker = trackerPlugin.xhrTracker,\n          urlFilter = trackerPlugin.urlFilter,\n          getDuration = trackerPlugin.getDuration;\n        var handleRequest = function (startContext) {\n          if (urlFilter(startContext.url)) return;\n          return {\n            onRequestEnd: function (response) {\n              var duration = getDuration(startContext.startTime);\n              var metadata = {\n                method: startContext.method,\n                status: response.status,\n                url: startContext.url,\n                duration: duration\n              };\n              var request = startContext.type === 'fetch' ? 'fetch()' : 'XMLHttpRequest';\n              if (response.state === 'error') {\n                client.leaveBreadcrumb(request + \" error\", {\n                  method: startContext.method,\n                  url: startContext.url,\n                  duration: duration\n                }, BREADCRUMB_TYPE);\n              } else if (response.status >= 400) {\n                client.leaveBreadcrumb(request + \" failed\", metadata, BREADCRUMB_TYPE);\n              } else {\n                client.leaveBreadcrumb(request + \" succeeded\", metadata, BREADCRUMB_TYPE);\n              }\n            }\n          };\n        };\n        if (fetchTracker) {\n          fetchTracker.onStart(handleRequest);\n          restoreFunctions.push(fetchTracker._restore);\n        }\n        if (xhrTracker) {\n          xhrTracker.onStart(handleRequest);\n          restoreFunctions.push(xhrTracker._restore);\n        }\n      }\n    }\n  };\n  if (\"production\" !== 'production') {\n    plugin.destroy = function () {\n      restoreFunctions.forEach(function (fn) {\n        return fn();\n      });\n      restoreFunctions = [];\n    };\n  }\n  return plugin;\n};\n\n/* removed: var _$intRange_33 = require('@bugsnag/core/lib/validators/int-range'); */;\n\n/*\n * Throttles and dedupes events\n */\n\nvar _$throttle_50 = {\n  load: function (client) {\n    // track sent events for each init of the plugin\n    var n = 0;\n\n    // add onError hook\n    client.addOnError(function (event) {\n      // have max events been sent already?\n      if (n >= client._config.maxEvents) {\n        client._logger.warn(\"Cancelling event send due to maxEvents per session limit of \" + client._config.maxEvents + \" being reached\");\n        return false;\n      }\n      n++;\n    });\n    client.resetEventCount = function () {\n      n = 0;\n    };\n  },\n  configSchema: {\n    maxEvents: {\n      defaultValue: function () {\n        return 10;\n      },\n      message: 'should be a positive integer â‰¤100',\n      validate: function (val) {\n        return _$intRange_33(1, 100)(val);\n      }\n    }\n  }\n};\n\nvar _$stripQueryString_51 = {};\n/*\n * Remove query strings (and fragments) from stacktraces\n */\n/* removed: var _$map_25 = require('@bugsnag/core/lib/es-utils/map'); */;\n/* removed: var _$reduce_26 = require('@bugsnag/core/lib/es-utils/reduce'); */;\n_$stripQueryString_51 = {\n  load: function (client) {\n    client.addOnError(function (event) {\n      var allFrames = _$reduce_26(event.errors, function (accum, er) {\n        return accum.concat(er.stacktrace);\n      }, []);\n      _$map_25(allFrames, function (frame) {\n        frame.file = strip(frame.file);\n      });\n    });\n  }\n};\nvar strip = _$stripQueryString_51._strip = function (str) {\n  return typeof str === 'string' ? str.replace(/\\?.*$/, '').replace(/#.*$/, '') : str;\n};\n\n/*\n * Automatically notifies Bugsnag when window.onerror is called\n */\n\nvar _$onerror_52 = function (win, component) {\n  if (win === void 0) {\n    win = window;\n  }\n  if (component === void 0) {\n    component = 'window onerror';\n  }\n  return {\n    load: function (client) {\n      if (!client._config.autoDetectErrors) return;\n      if (!client._config.enabledErrorTypes.unhandledExceptions) return;\n      function onerror(messageOrEvent, url, lineNo, charNo, error) {\n        // Ignore errors with no info due to CORS settings\n        if (lineNo === 0 && /Script error\\.?/.test(messageOrEvent)) {\n          client._logger.warn('Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z');\n        } else {\n          // any error sent to window.onerror is unhandled and has severity=error\n          var handledState = {\n            severity: 'error',\n            unhandled: true,\n            severityReason: {\n              type: 'unhandledException'\n            }\n          };\n          var event;\n\n          // window.onerror can be called in a number of ways. This big if-else is how we\n          // figure out which arguments were supplied, and what kind of values it received.\n\n          if (error) {\n            // if the last parameter (error) was supplied, this is a modern browser's\n            // way of saying \"this value was thrown and not caught\"\n            event = client.Event.create(error, true, handledState, component, 1);\n            decorateStack(event.errors[0].stacktrace, url, lineNo, charNo);\n          } else if (\n          // This complex case detects \"error\" events that are typically synthesised\n          // by jquery's trigger method (although can be created in other ways). In\n          // order to detect this:\n          // - the first argument (message) must exist and be an object (most likely it's a jQuery event)\n          // - the second argument (url) must either not exist or be something other than a string (if it\n          //    exists and is not a string, it'll be the extraParameters argument from jQuery's trigger()\n          //    function)\n          // - the third, fourth and fifth arguments must not exist (lineNo, charNo and error)\n          typeof messageOrEvent === 'object' && messageOrEvent !== null && (!url || typeof url !== 'string') && !lineNo && !charNo && !error) {\n            // The jQuery event may have a \"type\" property, if so use it as part of the error message\n            var name = messageOrEvent.type ? \"Event: \" + messageOrEvent.type : 'Error';\n            // attempt to find a message from one of the conventional properties, but\n            // default to empty string (the event will fill it with a placeholder)\n            var message = messageOrEvent.message || messageOrEvent.detail || '';\n            event = client.Event.create({\n              name: name,\n              message: message\n            }, true, handledState, component, 1);\n\n            // provide the original thing onerror received â€“ not our error-like object we passed to _notify\n            event.originalError = messageOrEvent;\n\n            // include the raw input as metadata â€“ it might contain more info than we extracted\n            event.addMetadata(component, {\n              event: messageOrEvent,\n              extraParameters: url\n            });\n          } else {\n            // Lastly, if there was no \"error\" parameter this event was probably from an old\n            // browser that doesn't support that. Instead we need to generate a stacktrace.\n            event = client.Event.create(messageOrEvent, true, handledState, component, 1);\n            decorateStack(event.errors[0].stacktrace, url, lineNo, charNo);\n          }\n          client._notify(event);\n        }\n        try {\n          prevOnError.apply(this, arguments);\n        } catch (e) {}\n      }\n      var prevOnError = win.onerror;\n      win.onerror = onerror;\n    }\n  };\n};\n\n// Sometimes the stacktrace has less information than was passed to window.onerror.\n// This function will augment the first stackframe with any useful info that was\n// received as arguments to the onerror callback.\nvar decorateStack = function (stack, url, lineNo, charNo) {\n  if (!stack[0]) stack.push({});\n  var culprit = stack[0];\n  if (!culprit.file && typeof url === 'string') culprit.file = url;\n  if (!culprit.lineNumber && isActualNumber(lineNo)) culprit.lineNumber = lineNo;\n  if (!culprit.columnNumber) {\n    if (isActualNumber(charNo)) {\n      culprit.columnNumber = charNo;\n    } else if (window.event && isActualNumber(window.event.errorCharacter)) {\n      culprit.columnNumber = window.event.errorCharacter;\n    }\n  }\n};\nvar isActualNumber = function (n) {\n  return typeof n === 'number' && String.call(n) !== 'NaN';\n};\n\n/* removed: var _$map_25 = require('@bugsnag/core/lib/es-utils/map'); */;\n/* removed: var _$iserror_29 = require('@bugsnag/core/lib/iserror'); */;\nvar _listener;\n/*\n * Automatically notifies Bugsnag when window.onunhandledrejection is called\n */\nvar _$unhandledRejection_53 = function (win) {\n  if (win === void 0) {\n    win = window;\n  }\n  var plugin = {\n    load: function (client) {\n      if (!client._config.autoDetectErrors || !client._config.enabledErrorTypes.unhandledRejections) return;\n      var listener = function (evt) {\n        var error = evt.reason;\n        var isBluebird = false;\n\n        // accessing properties on evt.detail can throw errors (see #394)\n        try {\n          if (evt.detail && evt.detail.reason) {\n            error = evt.detail.reason;\n            isBluebird = true;\n          }\n        } catch (e) {}\n\n        // Report unhandled promise rejections as handled if the user has configured it\n        var unhandled = !client._config.reportUnhandledPromiseRejectionsAsHandled;\n        var event = client.Event.create(error, false, {\n          severity: 'error',\n          unhandled: unhandled,\n          severityReason: {\n            type: 'unhandledPromiseRejection'\n          }\n        }, 'unhandledrejection handler', 1, client._logger);\n        if (isBluebird) {\n          _$map_25(event.errors[0].stacktrace, fixBluebirdStacktrace(error));\n        }\n        client._notify(event, function (event) {\n          if (_$iserror_29(event.originalError) && !event.originalError.stack) {\n            var _event$addMetadata;\n            event.addMetadata('unhandledRejection handler', (_event$addMetadata = {}, _event$addMetadata[Object.prototype.toString.call(event.originalError)] = {\n              name: event.originalError.name,\n              message: event.originalError.message,\n              code: event.originalError.code\n            }, _event$addMetadata));\n          }\n        });\n      };\n      if ('addEventListener' in win) {\n        win.addEventListener('unhandledrejection', listener);\n      } else {\n        win.onunhandledrejection = function (reason, promise) {\n          listener({\n            detail: {\n              reason: reason,\n              promise: promise\n            }\n          });\n        };\n      }\n      _listener = listener;\n    }\n  };\n  if (\"production\" !== 'production') {\n    plugin.destroy = function (win) {\n      if (win === void 0) {\n        win = window;\n      }\n      if (_listener) {\n        if ('addEventListener' in win) {\n          win.removeEventListener('unhandledrejection', _listener);\n        } else {\n          win.onunhandledrejection = null;\n        }\n      }\n      _listener = null;\n    };\n  }\n  return plugin;\n};\n\n// The stack parser on bluebird stacks in FF get a suprious first frame:\n//\n// Error: derp\n//   b@http://localhost:5000/bluebird.html:22:24\n//   a@http://localhost:5000/bluebird.html:18:9\n//   @http://localhost:5000/bluebird.html:14:9\n//\n// results in\n//   [â€¦]\n//     0: Object { file: \"Error: derp\", method: undefined, lineNumber: undefined, â€¦ }\n//     1: Object { file: \"http://localhost:5000/bluebird.html\", method: \"b\", lineNumber: 22, â€¦ }\n//     2: Object { file: \"http://localhost:5000/bluebird.html\", method: \"a\", lineNumber: 18, â€¦ }\n//     3: Object { file: \"http://localhost:5000/bluebird.html\", lineNumber: 14, columnNumber: 9, â€¦ }\n//\n// so the following reduce/accumulator function removes such frames\n//\n// Bluebird pads method names with spaces so trim that tooâ€¦\n// https://github.com/petkaantonov/bluebird/blob/b7f21399816d02f979fe434585334ce901dcaf44/src/debuggability.js#L568-L571\nvar fixBluebirdStacktrace = function (error) {\n  return function (frame) {\n    if (frame.file === error.toString()) return;\n    if (frame.method) {\n      frame.method = frame.method.replace(/^\\s+/, '');\n    }\n  };\n};\n\nvar _$notifier_11 = {};\nvar name = 'Bugsnag JavaScript';\nvar version = '8.8.1';\nvar url = 'https://github.com/bugsnag/bugsnag-js';\n/* removed: var _$Client_13 = require('@bugsnag/core/client'); */;\n/* removed: var _$Event_15 = require('@bugsnag/core/event'); */;\n/* removed: var _$Session_36 = require('@bugsnag/core/session'); */;\n/* removed: var _$Breadcrumb_12 = require('@bugsnag/core/breadcrumb'); */;\n/* removed: var _$map_25 = require('@bugsnag/core/lib/es-utils/map'); */;\n/* removed: var _$keys_24 = require('@bugsnag/core/lib/es-utils/keys'); */;\n/* removed: var _$assign_20 = require('@bugsnag/core/lib/es-utils/assign'); */;\n\n// extend the base config schema with some browser-specific options\nvar __schema_11 = _$assign_20({}, _$config_14.schema, _$config_10);\n/* removed: var _$onerror_52 = require('@bugsnag/plugin-window-onerror'); */;\n/* removed: var _$unhandledRejection_53 = require('@bugsnag/plugin-window-unhandled-rejection'); */;\n/* removed: var _$app_39 = require('@bugsnag/plugin-app-duration'); */;\n/* removed: var _$device_41 = require('@bugsnag/plugin-browser-device'); */;\n/* removed: var _$context_40 = require('@bugsnag/plugin-browser-context'); */;\n/* removed: var _$request_42 = require('@bugsnag/plugin-browser-request'); */;\n/* removed: var _$throttle_50 = require('@bugsnag/plugin-simple-throttle'); */;\n/* removed: var _$consoleBreadcrumbs_45 = require('@bugsnag/plugin-console-breadcrumbs'); */;\n/* removed: var _$networkBreadcrumbs_49 = require('@bugsnag/plugin-network-breadcrumbs'); */;\n/* removed: var _$navigationBreadcrumbs_48 = require('@bugsnag/plugin-navigation-breadcrumbs'); */;\n/* removed: var _$interactionBreadcrumbs_47 = require('@bugsnag/plugin-interaction-breadcrumbs'); */;\n/* removed: var _$inlineScriptContent_46 = require('@bugsnag/plugin-inline-script-content'); */;\n/* removed: var _$session_43 = require('@bugsnag/plugin-browser-session'); */;\n/* removed: var _$clientIp_44 = require('@bugsnag/plugin-client-ip'); */;\n/* removed: var _$stripQueryString_51 = require('@bugsnag/plugin-strip-query-string'); */;\n\n// delivery mechanisms\n/* removed: var _$delivery_37 = require('@bugsnag/delivery-x-domain-request'); */;\n/* removed: var _$delivery_38 = require('@bugsnag/delivery-xml-http-request'); */;\nvar Bugsnag = {\n  _client: null,\n  createClient: function (opts) {\n    // handle very simple use case where user supplies just the api key as a string\n    if (typeof opts === 'string') opts = {\n      apiKey: opts\n    };\n    if (!opts) opts = {};\n    var internalPlugins = [\n    // add browser-specific plugins\n    _$app_39, _$device_41(), _$context_40(), _$request_42(), _$throttle_50, _$session_43, _$clientIp_44, _$stripQueryString_51, _$onerror_52(), _$unhandledRejection_53(), _$navigationBreadcrumbs_48(), _$interactionBreadcrumbs_47(), _$networkBreadcrumbs_49(), _$consoleBreadcrumbs_45,\n    // this one added last to avoid wrapping functionality before bugsnag uses it\n    _$inlineScriptContent_46()];\n\n    // configure a client with user supplied options\n    var bugsnag = new _$Client_13(opts, __schema_11, internalPlugins, {\n      name: name,\n      version: version,\n      url: url\n    });\n\n    // set delivery based on browser capability (IE 8+9 have an XDomainRequest object)\n    bugsnag._setDelivery(window.XDomainRequest ? _$delivery_37 : _$delivery_38);\n    bugsnag._logger.debug('Loaded!');\n    bugsnag.leaveBreadcrumb('Bugsnag loaded', {}, 'state');\n    return bugsnag._config.autoTrackSessions ? bugsnag.startSession() : bugsnag;\n  },\n  start: function (opts) {\n    if (Bugsnag._client) {\n      Bugsnag._client._logger.warn('Bugsnag.start() was called more than once. Ignoring.');\n      return Bugsnag._client;\n    }\n    Bugsnag._client = Bugsnag.createClient(opts);\n    return Bugsnag._client;\n  },\n  isStarted: function () {\n    return Bugsnag._client != null;\n  }\n};\n_$map_25(['resetEventCount'].concat(_$keys_24(_$Client_13.prototype)), function (m) {\n  if (/^_/.test(m)) return;\n  Bugsnag[m] = function () {\n    if (!Bugsnag._client) return console.log(\"Bugsnag.\" + m + \"() was called before Bugsnag.start()\");\n    Bugsnag._client._depth += 1;\n    var ret = Bugsnag._client[m].apply(Bugsnag._client, arguments);\n    Bugsnag._client._depth -= 1;\n    return ret;\n  };\n});\n_$notifier_11 = Bugsnag;\n_$notifier_11.Client = _$Client_13;\n_$notifier_11.Event = _$Event_15;\n_$notifier_11.Session = _$Session_36;\n_$notifier_11.Breadcrumb = _$Breadcrumb_12;\n\n// Export a \"default\" property for compatibility with ESM imports\n_$notifier_11[\"default\"] = Bugsnag;\n\nreturn _$notifier_11;\n\n});\n//# sourceMappingURL=bugsnag.js.map\n"],"names":["f","module","_$breadcrumbTypes_17","_$reduce_26","arr","fn","accum","val","i","len","_$filter_21","item","_$includes_22","x","_$isArray_23","obj","_hasDontEnumBug","_dontEnums","_$keys_24","result","prop","_$intRange_33","min","max","value","_$listOfFunctions_34","_$stringWithLength_35","_$config_14","defaultErrorTypes","providedKeys","defaultKeys","k","endpoints","maybeType","key","method","s","p","feature","_$assign_20","target","source","_$map_25","_extends","n","e","t","r","schema","_$config_10","getPrefixedConsole","logger","consoleLog","consoleMethod","Breadcrumb","message","metadata","type","timestamp","_proto","_$Breadcrumb_12","_$stackframe_9","root","factory","_isNumber","_capitalize","str","_getter","booleanProps","numericProps","stringProps","arrayProps","objectProps","props","StackFrame","v","fileName","lineNumber","columnNumber","functionName","argsStartIndex","argsEndIndex","args","locationString","parts","j","_$stackGenerator_8","opts","stack","maxStackSize","curr","_$errorStackParser_6","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","error","urlLike","regExp","filtered","line","sanitizedLine","location","tokens","locationParts","functionNameRegex","matches","lineRE","lines","match","functionCall","argsRaw","_$errorStackParser_19","_$safeJsonStringify_5","data","replacer","space","redactedKeys","redactedPaths","prepareObjForSerialization","MAX_DEPTH","MAX_EDGES","MIN_PRESERVED_DEPTH","REPLACEMENT_NODE","isError","o","throwsMessage","err","find","haystack","needle","isDescendent","paths","path","shouldRedact","patterns","__isArray_5","safelyGetProp","seen","edges","visit","edgesExceeded","fResult","er","eResult","aResult","add","existingFeatures","existingFeatureKeys","name","variant","existingIndex","merge","newFeatures","toEventApi","featureFlags","_ref","flag","clear","features","featuresIndex","_$featureFlagDelegate_27","_$hasStack_28","_$isError_7","__isError_7","_$iserror_29","__add_31","state","section","keyOrObj","maybeVal","_updates","updates","__clear_31","get","_$metadataDelegate_31","___extends_15","Event","errorClass","errorMessage","stacktrace","handledState","originalError","defaultHandledState","createBugsnagError","traceId","spanId","previousValue","id","email","formatStackframe","frame","normaliseFunctionName","ensureString","getCauseStack","errorFramesToSkip","backtraceFramesToSkip","maybeError","tolerateNonErrors","component","_normaliseError","normaliseError","internalFrames","event","makeSerialisable","_event$errors","causes","normalisedCauses","cause","_normaliseError2","createAndLogInputError","reason","verb","hasNecessaryFields","_$Event_15","_$asyncEvery_16","cb","index","next","_$callbackRunner_18","callbacks","onCallbackError","runMaybeAsyncCallback","ret","_$syncCallbackRunner_32","callbackArg","callbackType","ignore","cbs","_$pad_4","num","size","env","globalCount","mimeTypesLength","clientId","_$fingerprint_2","_$isCuid_3","c","blockSize","base","discreteValues","randomBlock","safeCounter","cuid","letter","counter","print","random","_$cuid_1","Session","_$Session_36","__add_13","__clear_13","__merge_13","SECONDARY_ENDPOINT_API_KEY_PREFIX","SECONDARY_NOTIFY_ENDPOINT","SECONDARY_SESSIONS_ENDPOINT","noop","Client","configuration","internalPlugins","notifier","_this","pl","self","notify","plugin","_reduce","defaultValue","valid","errors","config","generateConfigErrorMessage","d","session","front","crumb","types","onError","postReportCallback","_this2","originalSeverity","shouldSend","rawInput","stringify","_$Client_13","_$jsonPayload_30","EVENT_REDACTION_PATHS","payload","_$delivery_37","client","win","url","getApiUrl","body","req","endpoint","version","isoDate","matchPageProtocol","pageProtocol","getIntegrityHeaderValue","windowOrWorkerGlobalScope","requestBody","msgUint8","hashBuffer","hashArray","hashHex","b","_$delivery_38","status","_err","integrity","_err2","appStart","reset","_$app_39","now","_$context_40","BUGSNAG_ANONYMOUS_ID_KEY","getDeviceId","storage","_$device_41","nav","device","setDefaultUserId","eventOrSession","user","_$request_42","_$session_43","sessionDelegate","sessionClient","_$clientIp_44","_$consoleBreadcrumbs_45","isDev","CONSOLE_LOG_METHODS","original","_len","_key","arg","stringified","MAX_LINE_LENGTH","MAX_SCRIPT_LENGTH","_$inlineScriptContent_46","doc","originalLocation","html","isOldIe","DOMContentLoaded","getHtml","prev","_lastScript","updateLastScript","script","getCurrentScript","scripts","addSurroundingCode","htmlLines","zeroBasedLine","start","end","cleanUrl","currentScript","content","_map","__proxy","__traceOriginalScript","_setTimeout","eventTargetCallbackAccessor","callbackAccessor","alsoCallOriginal","cba","host","replacement","isEventHandlerObj","_$interactionBreadcrumbs_47","targetText","targetSelector","getNodeText","getNodeSelector","trim","el","text","_$navigationBreadcrumbs_48","drop","relativeLocation","getCurrentState","wrapHistoryFn","a","stateChangeToMetadata","title","currentPath","resetEventCount","orig","_$headersToObject_56","headers","iterator","entry","_entry$value","RequestTracker","callback","context","results","endContext","combined","_$RequestTracker_57","createFetchTracker","global","options","tracker","originalFetch","urlOrRequest","requestHeaders","startTime","_tracker$start","onRequestEnd","response","_$createFetchTracker_55","shouldIgnoreUrl","ignoredUrls","urlWithoutQuery","createUrlFilter","additionalIgnoredUrls","getDuration","_$urlHelpers_58","_$xhrHeaderStringToObject_59","headersString","headerMap","header","_$xhrResponseParser_60","responseType","createXhrTracker","trackedRequests","requestHandlers","originalOpen","originalSend","originalSetRequestHeader","requestData","listeners","getResponseHeaders","handleLoad","handleError","_$createXhrTracker_61","__createUrlFilter_54","__getDuration_54","createRequestTrackerPlugin","fetchTracker","xhrTracker","urlFilter","_$requestTracker_54","BREADCRUMB_TYPE","_$networkBreadcrumbs_49","_ignoredUrls","restoreFunctions","requestTrackerPlugin","trackerPlugin","useSharedRequestTracker","handleRequest","startContext","duration","request","_$throttle_50","_$stripQueryString_51","allFrames","strip","_$onerror_52","onerror","messageOrEvent","lineNo","charNo","decorateStack","prevOnError","culprit","isActualNumber","_$unhandledRejection_53","listener","evt","isBluebird","unhandled","fixBluebirdStacktrace","_event$addMetadata","promise","_$notifier_11","__schema_11","Bugsnag","bugsnag","m"],"mappings":"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","x_google_ignoreList":[0]}