{"version":3,"file":"complex.js-C1JbXRlX.js","sources":["../../../node_modules/.pnpm/complex.js@2.4.3/node_modules/complex.js/dist/complex.mjs","../../../node_modules/.pnpm/complex.js@2.4.3/node_modules/complex.js/dist/complex.js"],"sourcesContent":["'use strict';\n\n/**\n *\n * This class allows the manipulation of complex numbers.\n * You can pass a complex number in different formats. Either as object, double, string or two integer parameters.\n *\n * Object form\n * { re: <real>, im: <imaginary> }\n * { arg: <angle>, abs: <radius> }\n * { phi: <angle>, r: <radius> }\n *\n * Array / Vector form\n * [ real, imaginary ]\n *\n * Double form\n * 99.3 - Single double value\n *\n * String form\n * '23.1337' - Simple real number\n * '15+3i' - a simple complex number\n * '3-i' - a simple complex number\n *\n * Example:\n *\n * const c = new Complex('99.3+8i');\n * c.mul({r: 3, i: 9}).div(4.9).sub(3, 2);\n *\n */\n\n\nconst cosh = Math.cosh || function (x) {\n  return Math.abs(x) < 1e-9 ? 1 - x : (Math.exp(x) + Math.exp(-x)) * 0.5;\n};\n\nconst sinh = Math.sinh || function (x) {\n  return Math.abs(x) < 1e-9 ? x : (Math.exp(x) - Math.exp(-x)) * 0.5;\n};\n\n/**\n * Calculates cos(x) - 1 using Taylor series if x is small (-¼π ≤ x ≤ ¼π).\n *\n * @param {number} x\n * @returns {number} cos(x) - 1\n */\nconst cosm1 = x => {\n  // cos(x) - 1 = − 2sin^2(x / 2)\n  const s = Math.sin(0.5 * x);\n  return -2 * s * s;\n};\n\nconst hypot = function (x, y) {\n\n  x = Math.abs(x);\n  y = Math.abs(y);\n\n  // Ensure `x` is the larger value\n  if (x < y) [x, y] = [y, x];\n\n  // If both are below the threshold, use straightforward Pythagoras\n  if (x < 1e8) return Math.sqrt(x * x + y * y);\n\n  // For larger values, scale to avoid overflow\n  y /= x;\n  return x * Math.sqrt(1 + y * y);\n};\n\nconst parser_exit = function () {\n  throw SyntaxError('Invalid Param');\n};\n\n/**\n * Calculates log(sqrt(a^2+b^2)) in a way to avoid overflows\n *\n * @param {number} a\n * @param {number} b\n * @returns {number}\n */\nfunction logHypot(a, b) {\n\n  const _a = Math.abs(a);\n  const _b = Math.abs(b);\n\n  if (a === 0) {\n    return Math.log(_b);\n  }\n\n  if (b === 0) {\n    return Math.log(_a);\n  }\n\n  if (_a < 3000 && _b < 3000) {\n    return Math.log(a * a + b * b) * 0.5;\n  }\n\n  /* I got 4 ideas to compute this property without overflow:\n   *\n   * Testing 1000000 times with random samples for a,b ∈ [1, 1000000000] against a big decimal library to get an error estimate\n   *\n   * 1. Only eliminate the square root: (OVERALL ERROR: 3.9122483030951116e-11)\n\n   Math.log(a * a + b * b) / 2\n\n   *\n   *\n   * 2. Try to use the non-overflowing pythagoras: (OVERALL ERROR: 8.889760039210159e-10)\n\n   const fn = function(a, b) {\n   a = Math.abs(a);\n   b = Math.abs(b);\n   let t = Math.min(a, b);\n   a = Math.max(a, b);\n   t = t / a;\n\n   return Math.log(a) + Math.log(1 + t * t) / 2;\n   };\n\n   * 3. Abuse the identity cos(atan(y/x) = x / sqrt(x^2+y^2): (OVERALL ERROR: 3.4780178737037204e-10)\n\n   Math.log(a / Math.cos(Math.atan2(b, a)))\n\n   * 4. Use 3. and apply log rules: (OVERALL ERROR: 1.2014087502620896e-9)\n\n   Math.log(a) - Math.log(Math.cos(Math.atan2(b, a)))\n\n   */\n\n  a = a * 0.5;\n  b = b * 0.5;\n\n  return 0.5 * Math.log(a * a + b * b) + Math.LN2;\n}\n\nconst P = { 're': 0, 'im': 0 };\nconst parse = function (a, b) {\n\n  const z = P;\n\n  if (a === undefined || a === null) {\n    z['re'] =\n      z['im'] = 0;\n  } else if (b !== undefined) {\n    z['re'] = a;\n    z['im'] = b;\n  } else\n    switch (typeof a) {\n\n      case 'object':\n\n        if ('im' in a && 're' in a) {\n          z['re'] = a['re'];\n          z['im'] = a['im'];\n        } else if ('abs' in a && 'arg' in a) {\n          if (!isFinite(a['abs']) && isFinite(a['arg'])) {\n            return Complex['INFINITY'];\n          }\n          z['re'] = a['abs'] * Math.cos(a['arg']);\n          z['im'] = a['abs'] * Math.sin(a['arg']);\n        } else if ('r' in a && 'phi' in a) {\n          if (!isFinite(a['r']) && isFinite(a['phi'])) {\n            return Complex['INFINITY'];\n          }\n          z['re'] = a['r'] * Math.cos(a['phi']);\n          z['im'] = a['r'] * Math.sin(a['phi']);\n        } else if (a.length === 2) { // Quick array check\n          z['re'] = a[0];\n          z['im'] = a[1];\n        } else {\n          parser_exit();\n        }\n        break;\n\n      case 'string':\n\n        z['im'] = /* void */\n          z['re'] = 0;\n\n        const tokens = a.replace(/_/g, '')\n          .match(/\\d+\\.?\\d*e[+-]?\\d+|\\d+\\.?\\d*|\\.\\d+|./g);\n        let plus = 1;\n        let minus = 0;\n\n        if (tokens === null) {\n          parser_exit();\n        }\n\n        for (let i = 0; i < tokens.length; i++) {\n\n          const c = tokens[i];\n\n          if (c === ' ' || c === '\\t' || c === '\\n') {\n            /* void */\n          } else if (c === '+') {\n            plus++;\n          } else if (c === '-') {\n            minus++;\n          } else if (c === 'i' || c === 'I') {\n\n            if (plus + minus === 0) {\n              parser_exit();\n            }\n\n            if (tokens[i + 1] !== ' ' && !isNaN(tokens[i + 1])) {\n              z['im'] += parseFloat((minus % 2 ? '-' : '') + tokens[i + 1]);\n              i++;\n            } else {\n              z['im'] += parseFloat((minus % 2 ? '-' : '') + '1');\n            }\n            plus = minus = 0;\n\n          } else {\n\n            if (plus + minus === 0 || isNaN(c)) {\n              parser_exit();\n            }\n\n            if (tokens[i + 1] === 'i' || tokens[i + 1] === 'I') {\n              z['im'] += parseFloat((minus % 2 ? '-' : '') + c);\n              i++;\n            } else {\n              z['re'] += parseFloat((minus % 2 ? '-' : '') + c);\n            }\n            plus = minus = 0;\n          }\n        }\n\n        // Still something on the stack\n        if (plus + minus > 0) {\n          parser_exit();\n        }\n        break;\n\n      case 'number':\n        z['im'] = 0;\n        z['re'] = a;\n        break;\n\n      default:\n        parser_exit();\n    }\n\n  if (isNaN(z['re']) || isNaN(z['im'])) {\n    // If a calculation is NaN, we treat it as NaN and don't throw\n    //parser_exit();\n  }\n\n  return z;\n};\n\n/**\n * @constructor\n * @returns {Complex}\n */\nfunction Complex(a, b) {\n\n  if (!(this instanceof Complex)) {\n    return new Complex(a, b);\n  }\n\n  const z = parse(a, b);\n\n  this['re'] = z['re'];\n  this['im'] = z['im'];\n}\n\nComplex.prototype = {\n\n  're': 0,\n  'im': 0,\n\n  /**\n   * Calculates the sign of a complex number, which is a normalized complex\n   *\n   * @returns {Complex}\n   */\n  'sign': function () {\n\n    const abs = hypot(this['re'], this['im']);\n\n    return new Complex(\n      this['re'] / abs,\n      this['im'] / abs);\n  },\n\n  /**\n   * Adds two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'add': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n\n    if (tInfin || zInfin) {\n\n      if (tInfin && zInfin) {\n        // Infinity + Infinity = NaN\n        return Complex['NAN'];\n      }\n      // Infinity + z = Infinity { where z != Infinity }\n      return Complex['INFINITY'];\n    }\n\n    return new Complex(\n      this['re'] + z['re'],\n      this['im'] + z['im']);\n  },\n\n  /**\n   * Subtracts two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'sub': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n\n    if (tInfin || zInfin) {\n\n      if (tInfin && zInfin) {\n        // Infinity - Infinity = NaN\n        return Complex['NAN'];\n      }\n      // Infinity - z = Infinity { where z != Infinity }\n      return Complex['INFINITY'];\n    }\n\n    return new Complex(\n      this['re'] - z['re'],\n      this['im'] - z['im']);\n  },\n\n  /**\n   * Multiplies two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'mul': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n    const tIsZero = this['re'] === 0 && this['im'] === 0;\n    const zIsZero = z['re'] === 0 && z['im'] === 0;\n\n    // Infinity * 0 = NaN\n    if (tInfin && zIsZero || zInfin && tIsZero) {\n      return Complex['NAN'];\n    }\n\n    // Infinity * z = Infinity { where z != 0 }\n    if (tInfin || zInfin) {\n      return Complex['INFINITY'];\n    }\n\n    // Shortcut for real values\n    if (z['im'] === 0 && this['im'] === 0) {\n      return new Complex(this['re'] * z['re'], 0);\n    }\n\n    return new Complex(\n      this['re'] * z['re'] - this['im'] * z['im'],\n      this['re'] * z['im'] + this['im'] * z['re']);\n  },\n\n  /**\n   * Divides two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'div': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n    const tIsZero = this['re'] === 0 && this['im'] === 0;\n    const zIsZero = z['re'] === 0 && z['im'] === 0;\n\n    // 0 / 0 = NaN and Infinity / Infinity = NaN\n    if (tIsZero && zIsZero || tInfin && zInfin) {\n      return Complex['NAN'];\n    }\n\n    // Infinity / 0 = Infinity\n    if (zIsZero || tInfin) {\n      return Complex['INFINITY'];\n    }\n\n    // 0 / Infinity = 0\n    if (tIsZero || zInfin) {\n      return Complex['ZERO'];\n    }\n\n    if (0 === z['im']) {\n      // Divisor is real\n      return new Complex(this['re'] / z['re'], this['im'] / z['re']);\n    }\n\n    if (Math.abs(z['re']) < Math.abs(z['im'])) {\n\n      const x = z['re'] / z['im'];\n      const t = z['re'] * x + z['im'];\n\n      return new Complex(\n        (this['re'] * x + this['im']) / t,\n        (this['im'] * x - this['re']) / t);\n\n    } else {\n\n      const x = z['im'] / z['re'];\n      const t = z['im'] * x + z['re'];\n\n      return new Complex(\n        (this['re'] + this['im'] * x) / t,\n        (this['im'] - this['re'] * x) / t);\n    }\n  },\n\n  /**\n   * Calculate the power of two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'pow': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tIsZero = this['re'] === 0 && this['im'] === 0;\n    const zIsZero = z['re'] === 0 && z['im'] === 0;\n\n    if (zIsZero) {\n      return Complex['ONE'];\n    }\n\n    // If the exponent is real\n    if (z['im'] === 0) {\n\n      if (this['im'] === 0 && this['re'] > 0) {\n\n        return new Complex(Math.pow(this['re'], z['re']), 0);\n\n      } else if (this['re'] === 0) { // If base is fully imaginary\n\n        switch ((z['re'] % 4 + 4) % 4) {\n          case 0:\n            return new Complex(Math.pow(this['im'], z['re']), 0);\n          case 1:\n            return new Complex(0, Math.pow(this['im'], z['re']));\n          case 2:\n            return new Complex(-Math.pow(this['im'], z['re']), 0);\n          case 3:\n            return new Complex(0, -Math.pow(this['im'], z['re']));\n        }\n      }\n    }\n\n    /* I couldn't find a good formula, so here is a derivation and optimization\n     *\n     * z_1^z_2 = (a + bi)^(c + di)\n     *         = exp((c + di) * log(a + bi)\n     *         = pow(a^2 + b^2, (c + di) / 2) * exp(i(c + di)atan2(b, a))\n     * =>...\n     * Re = (pow(a^2 + b^2, c / 2) * exp(-d * atan2(b, a))) * cos(d * log(a^2 + b^2) / 2 + c * atan2(b, a))\n     * Im = (pow(a^2 + b^2, c / 2) * exp(-d * atan2(b, a))) * sin(d * log(a^2 + b^2) / 2 + c * atan2(b, a))\n     *\n     * =>...\n     * Re = exp(c * log(sqrt(a^2 + b^2)) - d * atan2(b, a)) * cos(d * log(sqrt(a^2 + b^2)) + c * atan2(b, a))\n     * Im = exp(c * log(sqrt(a^2 + b^2)) - d * atan2(b, a)) * sin(d * log(sqrt(a^2 + b^2)) + c * atan2(b, a))\n     *\n     * =>\n     * Re = exp(c * logsq2 - d * arg(z_1)) * cos(d * logsq2 + c * arg(z_1))\n     * Im = exp(c * logsq2 - d * arg(z_1)) * sin(d * logsq2 + c * arg(z_1))\n     *\n     */\n\n    if (tIsZero && z['re'] > 0) { // Same behavior as Wolframalpha, Zero if real part is zero\n      return Complex['ZERO'];\n    }\n\n    const arg = Math.atan2(this['im'], this['re']);\n    const loh = logHypot(this['re'], this['im']);\n\n    let re = Math.exp(z['re'] * loh - z['im'] * arg);\n    let im = z['im'] * loh + z['re'] * arg;\n    return new Complex(\n      re * Math.cos(im),\n      re * Math.sin(im));\n  },\n\n  /**\n   * Calculate the complex square root\n   *\n   * @returns {Complex}\n   */\n  'sqrt': function () {\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n      // Real number case\n      if (a >= 0) {\n        return new Complex(Math.sqrt(a), 0);\n      } else {\n        return new Complex(0, Math.sqrt(-a));\n      }\n    }\n\n    const r = hypot(a, b);\n\n    let re = Math.sqrt(0.5 * (r + Math.abs(a))); // sqrt(2x) / 2 = sqrt(x / 2)\n    let im = Math.abs(b) / (2 * re);\n\n    if (a >= 0) {\n      return new Complex(re, b < 0 ? -im : im);\n    } else {\n      return new Complex(im, b < 0 ? -re : re);\n    }\n  },\n\n  /**\n   * Calculate the complex exponent\n   *\n   * @returns {Complex}\n   */\n  'exp': function () {\n\n    const er = Math.exp(this['re']);\n\n    if (this['im'] === 0) {\n      return new Complex(er, 0);\n    }\n    return new Complex(\n      er * Math.cos(this['im']),\n      er * Math.sin(this['im']));\n  },\n\n  /**\n   * Calculate the complex exponent and subtracts one.\n   *\n   * This may be more accurate than `Complex(x).exp().sub(1)` if\n   * `x` is small.\n   *\n   * @returns {Complex}\n   */\n  'expm1': function () {\n\n    /**\n     * exp(a + i*b) - 1\n     = exp(a) * (cos(b) + j*sin(b)) - 1\n     = expm1(a)*cos(b) + cosm1(b) + j*exp(a)*sin(b)\n     */\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      Math.expm1(a) * Math.cos(b) + cosm1(b),\n      Math.exp(a) * Math.sin(b));\n  },\n\n  /**\n   * Calculate the natural log\n   *\n   * @returns {Complex}\n   */\n  'log': function () {\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0 && a > 0) {\n      return new Complex(Math.log(a), 0);\n    }\n\n    return new Complex(\n      logHypot(a, b),\n      Math.atan2(b, a));\n  },\n\n  /**\n   * Calculate the magnitude of the complex number\n   *\n   * @returns {number}\n   */\n  'abs': function () {\n\n    return hypot(this['re'], this['im']);\n  },\n\n  /**\n   * Calculate the angle of the complex number\n   *\n   * @returns {number}\n   */\n  'arg': function () {\n\n    return Math.atan2(this['im'], this['re']);\n  },\n\n  /**\n   * Calculate the sine of the complex number\n   *\n   * @returns {Complex}\n   */\n  'sin': function () {\n\n    // sin(z) = ( e^iz - e^-iz ) / 2i \n    //        = sin(a)cosh(b) + i cos(a)sinh(b)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      Math.sin(a) * cosh(b),\n      Math.cos(a) * sinh(b));\n  },\n\n  /**\n   * Calculate the cosine\n   *\n   * @returns {Complex}\n   */\n  'cos': function () {\n\n    // cos(z) = ( e^iz + e^-iz ) / 2 \n    //        = cos(a)cosh(b) - i sin(a)sinh(b)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      Math.cos(a) * cosh(b),\n      -Math.sin(a) * sinh(b));\n  },\n\n  /**\n   * Calculate the tangent\n   *\n   * @returns {Complex}\n   */\n  'tan': function () {\n\n    // tan(z) = sin(z) / cos(z) \n    //        = ( e^iz - e^-iz ) / ( i( e^iz + e^-iz ) )\n    //        = ( e^2iz - 1 ) / i( e^2iz + 1 )\n    //        = ( sin(2a) + i sinh(2b) ) / ( cos(2a) + cosh(2b) )\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = Math.cos(a) + cosh(b);\n\n    return new Complex(\n      Math.sin(a) / d,\n      sinh(b) / d);\n  },\n\n  /**\n   * Calculate the cotangent\n   *\n   * @returns {Complex}\n   */\n  'cot': function () {\n\n    // cot(c) = i(e^(ci) + e^(-ci)) / (e^(ci) - e^(-ci))\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = Math.cos(a) - cosh(b);\n\n    return new Complex(\n      -Math.sin(a) / d,\n      sinh(b) / d);\n  },\n\n  /**\n   * Calculate the secant\n   *\n   * @returns {Complex}\n   */\n  'sec': function () {\n\n    // sec(c) = 2 / (e^(ci) + e^(-ci))\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = 0.5 * cosh(2 * b) + 0.5 * Math.cos(2 * a);\n\n    return new Complex(\n      Math.cos(a) * cosh(b) / d,\n      Math.sin(a) * sinh(b) / d);\n  },\n\n  /**\n   * Calculate the cosecans\n   *\n   * @returns {Complex}\n   */\n  'csc': function () {\n\n    // csc(c) = 2i / (e^(ci) - e^(-ci))\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = 0.5 * cosh(2 * b) - 0.5 * Math.cos(2 * a);\n\n    return new Complex(\n      Math.sin(a) * cosh(b) / d,\n      -Math.cos(a) * sinh(b) / d);\n  },\n\n  /**\n   * Calculate the complex arcus sinus\n   *\n   * @returns {Complex}\n   */\n  'asin': function () {\n\n    // asin(c) = -i * log(ci + sqrt(1 - c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    const t1 = new Complex(\n      b * b - a * a + 1,\n      -2 * a * b)['sqrt']();\n\n    const t2 = new Complex(\n      t1['re'] - b,\n      t1['im'] + a)['log']();\n\n    return new Complex(t2['im'], -t2['re']);\n  },\n\n  /**\n   * Calculate the complex arcus cosinus\n   *\n   * @returns {Complex}\n   */\n  'acos': function () {\n\n    // acos(c) = i * log(c - i * sqrt(1 - c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    const t1 = new Complex(\n      b * b - a * a + 1,\n      -2 * a * b)['sqrt']();\n\n    const t2 = new Complex(\n      t1['re'] - b,\n      t1['im'] + a)['log']();\n\n    return new Complex(Math.PI / 2 - t2['im'], t2['re']);\n  },\n\n  /**\n   * Calculate the complex arcus tangent\n   *\n   * @returns {Complex}\n   */\n  'atan': function () {\n\n    // atan(c) = i / 2 log((i + x) / (i - x))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (a === 0) {\n\n      if (b === 1) {\n        return new Complex(0, Infinity);\n      }\n\n      if (b === -1) {\n        return new Complex(0, -Infinity);\n      }\n    }\n\n    const d = a * a + (1.0 - b) * (1.0 - b);\n\n    const t1 = new Complex(\n      (1 - b * b - a * a) / d,\n      -2 * a / d).log();\n\n    return new Complex(-0.5 * t1['im'], 0.5 * t1['re']);\n  },\n\n  /**\n   * Calculate the complex arcus cotangent\n   *\n   * @returns {Complex}\n   */\n  'acot': function () {\n\n    // acot(c) = i / 2 log((c - i) / (c + i))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n      return new Complex(Math.atan2(1, a), 0);\n    }\n\n    const d = a * a + b * b;\n    return (d !== 0)\n      ? new Complex(\n        a / d,\n        -b / d).atan()\n      : new Complex(\n        (a !== 0) ? a / 0 : 0,\n        (b !== 0) ? -b / 0 : 0).atan();\n  },\n\n  /**\n   * Calculate the complex arcus secant\n   *\n   * @returns {Complex}\n   */\n  'asec': function () {\n\n    // asec(c) = -i * log(1 / c + sqrt(1 - i / c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (a === 0 && b === 0) {\n      return new Complex(0, Infinity);\n    }\n\n    const d = a * a + b * b;\n    return (d !== 0)\n      ? new Complex(\n        a / d,\n        -b / d).acos()\n      : new Complex(\n        (a !== 0) ? a / 0 : 0,\n        (b !== 0) ? -b / 0 : 0).acos();\n  },\n\n  /**\n   * Calculate the complex arcus cosecans\n   *\n   * @returns {Complex}\n   */\n  'acsc': function () {\n\n    // acsc(c) = -i * log(i / c + sqrt(1 - 1 / c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (a === 0 && b === 0) {\n      return new Complex(Math.PI / 2, Infinity);\n    }\n\n    const d = a * a + b * b;\n    return (d !== 0)\n      ? new Complex(\n        a / d,\n        -b / d).asin()\n      : new Complex(\n        (a !== 0) ? a / 0 : 0,\n        (b !== 0) ? -b / 0 : 0).asin();\n  },\n\n  /**\n   * Calculate the complex sinh\n   *\n   * @returns {Complex}\n   */\n  'sinh': function () {\n\n    // sinh(c) = (e^c - e^-c) / 2\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      sinh(a) * Math.cos(b),\n      cosh(a) * Math.sin(b));\n  },\n\n  /**\n   * Calculate the complex cosh\n   *\n   * @returns {Complex}\n   */\n  'cosh': function () {\n\n    // cosh(c) = (e^c + e^-c) / 2\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      cosh(a) * Math.cos(b),\n      sinh(a) * Math.sin(b));\n  },\n\n  /**\n   * Calculate the complex tanh\n   *\n   * @returns {Complex}\n   */\n  'tanh': function () {\n\n    // tanh(c) = (e^c - e^-c) / (e^c + e^-c)\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = cosh(a) + Math.cos(b);\n\n    return new Complex(\n      sinh(a) / d,\n      Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex coth\n   *\n   * @returns {Complex}\n   */\n  'coth': function () {\n\n    // coth(c) = (e^c + e^-c) / (e^c - e^-c)\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = cosh(a) - Math.cos(b);\n\n    return new Complex(\n      sinh(a) / d,\n      -Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex csch\n   *\n   * @returns {Complex}\n   */\n  'csch': function () {\n\n    // csch(c) = 2 / (e^c - e^-c)\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = Math.cos(2 * b) - cosh(2 * a);\n\n    return new Complex(\n      -2 * sinh(a) * Math.cos(b) / d,\n      2 * cosh(a) * Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex sech\n   *\n   * @returns {Complex}\n   */\n  'sech': function () {\n\n    // sech(c) = 2 / (e^c + e^-c)\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = Math.cos(2 * b) + cosh(2 * a);\n\n    return new Complex(\n      2 * cosh(a) * Math.cos(b) / d,\n      -2 * sinh(a) * Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex asinh\n   *\n   * @returns {Complex}\n   */\n  'asinh': function () {\n\n    // asinh(z) = log(z + sqrt(z^2 + 1))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      if (a === 0) {\n        return new Complex(0, 0);\n      }\n\n      // Use |a| to keep asinh(-a) = -asinh(a) and avoid cancellation for large -a\n      const x = Math.abs(a);\n      const r = Math.log(x + Math.sqrt(x * x + 1));\n\n      return new Complex(a < 0 ? -r : r, 0);\n    }\n\n    // z^2 + 1 = (a^2 - b^2 + 1) + i (2ab)\n    const re2 = a * a - b * b + 1;\n    const im2 = 2 * a * b;\n\n    const t = new Complex(re2, im2)['sqrt'](); // sqrt(z^2 + 1)\n\n    return new Complex(a + t['re'], b + t['im'])['log']();\n  },\n\n  /**\n   * Calculate the complex acosh\n   *\n   * @returns {Complex}\n   */\n  'acosh': function () {\n\n    // acosh(z)= log(z + sqrt(z^2 - 1)) = log(z + sqrt(z - 1) * sqrt(z + 1))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      // z = a is real\n      if (a > 1) {\n        // acosh(a) = log(a + sqrt(a - 1) * sqrt(a + 1)),  a > 1\n        return new Complex(\n          Math.log(a + Math.sqrt(a - 1) * Math.sqrt(a + 1)), 0);\n      }\n\n      if (a < -1) {\n        // acosh(a) = log(-a + sqrt(a^2 - 1)) + i*pi,  a < -1\n        const t = Math.sqrt(a * a - 1);\n        return new Complex(Math.log(-a + t), Math.PI);\n      }\n\n      // -1 <= a <= 1 : purely imaginary\n      // acosh(a) = i * acos(a)\n      return new Complex(0, Math.acos(a));\n    }\n\n    const t1 = new Complex(a - 1, b)['sqrt'](); // sqrt(z - 1)\n    const t2 = new Complex(a + 1, b)['sqrt'](); // sqrt(z + 1)\n\n    return new Complex(\n      a + t1['re'] * t2['re'] - t1['im'] * t2['im'],\n      b + t1['re'] * t2['im'] + t1['im'] * t2['re']\n    )['log']();\n  },\n\n  /**\n   * Calculate the complex atanh\n   *\n   * @returns {Complex}\n   */\n  'atanh': function () {\n\n    // atanh(z) = log((1 + z) / (1 - z)) / 2\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      if (a === 0) {\n        return new Complex(0, 0);\n      }\n\n      if (a === 1) {\n        // limit x -> 1^- atanh(x) = +Infinity\n        return new Complex(Infinity, 0);\n      }\n\n      if (a === -1) {\n        // limit x -> -1^+ atanh(x) = -Infinity\n        return new Complex(-Infinity, 0);\n      }\n\n      if (-1 < a && a < 1) {\n        // Purely real\n        return new Complex(\n          0.5 * Math.log((1 + a) / (1 - a)),\n          0\n        );\n      }\n\n      if (a > 1) {\n        // Our branch: Im(atanh(a)) = -π/2 for a > 1\n        const t = (a + 1) / (a - 1); // > 0\n        return new Complex(\n          0.5 * Math.log(t),\n          -Math.PI / 2\n        );\n      }\n\n      // a < -1: Im(atanh(a)) = +π/2\n      const t = (1 + a) / (1 - a); // < 0\n      return new Complex(\n        0.5 * Math.log(-t), // log((1 - a)/(1 + a))\n        Math.PI / 2\n      );\n    }\n\n    // Use atanh(z) = 0.5 * Log((1+z)/(1-z)) with principal Log.\n    const oneMinus = 1 - a;\n    const onePlus = 1 + a;\n    const d = oneMinus * oneMinus + b * b; // |1 - z|^2\n\n    if (d === 0) {\n      // (1 - z) == 0 for finite z only at z = 1+0i, already handled above.\n      // If we ever get here, just propagate infinities consistently:\n      return new Complex(\n        (a !== -1) ? (a / 0) : 0,\n        (b !== 0) ? (b / 0) : 0\n      );\n    }\n\n    // (1 + z) / (1 - z) with a single complex division\n    const xr = (onePlus * oneMinus - b * b) / d;\n    const xi = (b * oneMinus + onePlus * b) / d;\n\n    // 0.5 * log(xr + i xi)\n    return new Complex(\n      logHypot(xr, xi) / 2,\n      Math.atan2(xi, xr) / 2\n    );\n  },\n\n  /**\n   * Calculate the complex acoth\n   *\n   * @returns {Complex}\n   */\n  'acoth': function () {\n\n    // acoth(z) = log((z + 1) / (z - 1)) / 2 = atanh(1 / z)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    // z = 0 -> acoth(0) = i * π / 2  (log((1+0)/(1-0))/2 = log(-1)/2)\n    if (a === 0 && b === 0) {\n      return new Complex(0, Math.PI / 2);\n    }\n\n    const d = a * a + b * b;\n\n    if (d !== 0) {\n      // 1 / z = (a - i b) / (a^2 + b^2)\n      return new Complex(a / d, -b / d)['atanh']();\n    }\n\n    // Fallback for weird infinities/NaNs: mirror other functions' style\n    return new Complex(\n      (a !== 0) ? a / 0 : 0,\n      (b !== 0) ? -b / 0 : 0\n    )['atanh']();\n  },\n\n  /**\n   * Calculate the complex acsch\n   *\n   * @returns {Complex}\n   */\n  'acsch': function () {\n\n    // acsch(c) = log((1+sqrt(1+c^2))/c) = = asinh(1 / z)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      // z = a real\n      if (a === 0) {\n        // acsch(0) -> +/- Infinity, we keep your previous behavior\n        return new Complex(Infinity, 0);\n      }\n\n      // acsch(a) = asinh(1/a) = log(1/a + sqrt(1/a^2 + 1))\n      const inv = 1 / a;\n      return new Complex(\n        Math.log(inv + Math.sqrt(inv * inv + 1)),\n        0\n      );\n    }\n\n    const d = a * a + b * b;\n\n    if (d !== 0) {\n      // 1/z = (a - i b) / (a^2 + b^2)\n      return new Complex(a / d, -b / d)['asinh']();\n    }\n\n    // Handle 0 + 0i or infinities in the same spirit as your existing code\n    return new Complex(\n      (a !== 0) ? a / 0 : 0,\n      (b !== 0) ? -b / 0 : 0)['asinh']();\n  },\n\n  /**\n   * Calculate the complex asech\n   *\n   * @returns {Complex}\n   */\n  'asech': function () {\n\n    // asech(z) = acosh(1 / z)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (this['isZero']()) {\n      // asech(0) = acosh(∞) -> ∞\n      return Complex['INFINITY'];\n    }\n\n    const d = a * a + b * b;\n\n    if (d !== 0) {\n      // 1 / z = (a - i b) / (a^2 + b^2)\n      return new Complex(a / d, -b / d)['acosh']();\n    }\n\n    // Fallback for weird infinities/NaNs\n    return new Complex(\n      (a !== 0) ? a / 0 : 0,\n      (b !== 0) ? -b / 0 : 0)['acosh']();\n  },\n\n  /**\n   * Calculate the complex inverse 1/z\n   *\n   * @returns {Complex}\n   */\n  'inverse': function () {\n\n    // 1 / 0 = Infinity and 1 / Infinity = 0\n    if (this['isZero']()) {\n      return Complex['INFINITY'];\n    }\n\n    if (this['isInfinite']()) {\n      return Complex['ZERO'];\n    }\n\n    const a = this['re'];\n    const b = this['im'];\n\n    const d = a * a + b * b;\n\n    return new Complex(a / d, -b / d);\n  },\n\n  /**\n   * Returns the complex conjugate\n   *\n   * @returns {Complex}\n   */\n  'conjugate': function () {\n\n    return new Complex(this['re'], -this['im']);\n  },\n\n  /**\n   * Gets the negated complex number\n   *\n   * @returns {Complex}\n   */\n  'neg': function () {\n\n    return new Complex(-this['re'], -this['im']);\n  },\n\n  /**\n   * Ceils the actual complex number\n   *\n   * @returns {Complex}\n   */\n  'ceil': function (places) {\n\n    places = Math.pow(10, places || 0);\n\n    return new Complex(\n      Math.ceil(this['re'] * places) / places,\n      Math.ceil(this['im'] * places) / places);\n  },\n\n  /**\n   * Floors the actual complex number\n   *\n   * @returns {Complex}\n   */\n  'floor': function (places) {\n\n    places = Math.pow(10, places || 0);\n\n    return new Complex(\n      Math.floor(this['re'] * places) / places,\n      Math.floor(this['im'] * places) / places);\n  },\n\n  /**\n   * Ceils the actual complex number\n   *\n   * @returns {Complex}\n   */\n  'round': function (places) {\n\n    places = Math.pow(10, places || 0);\n\n    return new Complex(\n      Math.round(this['re'] * places) / places,\n      Math.round(this['im'] * places) / places);\n  },\n\n  /**\n   * Compares two complex numbers\n   *\n   * **Note:** new Complex(Infinity).equals(Infinity) === false\n   *\n   * @returns {boolean}\n   */\n  'equals': function (a, b) {\n\n    const z = parse(a, b);\n\n    return Math.abs(z['re'] - this['re']) <= Complex['EPSILON'] &&\n      Math.abs(z['im'] - this['im']) <= Complex['EPSILON'];\n  },\n\n  /**\n   * Clones the actual object\n   *\n   * @returns {Complex}\n   */\n  'clone': function () {\n\n    return new Complex(this['re'], this['im']);\n  },\n\n  /**\n   * Gets a string of the actual complex number\n   *\n   * @returns {string}\n   */\n  'toString': function () {\n\n    let a = this['re'];\n    let b = this['im'];\n    let ret = \"\";\n\n    if (this['isNaN']()) {\n      return 'NaN';\n    }\n\n    if (this['isInfinite']()) {\n      return 'Infinity';\n    }\n\n    if (Math.abs(a) < Complex['EPSILON']) {\n      a = 0;\n    }\n\n    if (Math.abs(b) < Complex['EPSILON']) {\n      b = 0;\n    }\n\n    // If is real number\n    if (b === 0) {\n      return ret + a;\n    }\n\n    if (a !== 0) {\n      ret += a;\n      ret += \" \";\n      if (b < 0) {\n        b = -b;\n        ret += \"-\";\n      } else {\n        ret += \"+\";\n      }\n      ret += \" \";\n    } else if (b < 0) {\n      b = -b;\n      ret += \"-\";\n    }\n\n    if (1 !== b) { // b is the absolute imaginary part\n      ret += b;\n    }\n    return ret + \"i\";\n  },\n\n  /**\n   * Returns the actual number as a vector\n   *\n   * @returns {Array}\n   */\n  'toVector': function () {\n\n    return [this['re'], this['im']];\n  },\n\n  /**\n   * Returns the actual real value of the current object\n   *\n   * @returns {number|null}\n   */\n  'valueOf': function () {\n\n    if (this['im'] === 0) {\n      return this['re'];\n    }\n    return null;\n  },\n\n  /**\n   * Determines whether a complex number is not on the Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isNaN': function () {\n    return isNaN(this['re']) || isNaN(this['im']);\n  },\n\n  /**\n   * Determines whether or not a complex number is at the zero pole of the\n   * Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isZero': function () {\n    return this['im'] === 0 && this['re'] === 0;\n  },\n\n  /**\n   * Determines whether a complex number is not at the infinity pole of the\n   * Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isFinite': function () {\n    return isFinite(this['re']) && isFinite(this['im']);\n  },\n\n  /**\n   * Determines whether or not a complex number is at the infinity pole of the\n   * Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isInfinite': function () {\n    return !this['isFinite']();\n  }\n};\n\nComplex['ZERO'] = new Complex(0, 0);\nComplex['ONE'] = new Complex(1, 0);\nComplex['I'] = new Complex(0, 1);\nComplex['PI'] = new Complex(Math.PI, 0);\nComplex['E'] = new Complex(Math.E, 0);\nComplex['INFINITY'] = new Complex(Infinity, Infinity);\nComplex['NAN'] = new Complex(NaN, NaN);\nComplex['EPSILON'] = 1e-15;\nexport {\n  Complex as default, Complex\n};\n","'use strict';\n\n/**\n *\n * This class allows the manipulation of complex numbers.\n * You can pass a complex number in different formats. Either as object, double, string or two integer parameters.\n *\n * Object form\n * { re: <real>, im: <imaginary> }\n * { arg: <angle>, abs: <radius> }\n * { phi: <angle>, r: <radius> }\n *\n * Array / Vector form\n * [ real, imaginary ]\n *\n * Double form\n * 99.3 - Single double value\n *\n * String form\n * '23.1337' - Simple real number\n * '15+3i' - a simple complex number\n * '3-i' - a simple complex number\n *\n * Example:\n *\n * const c = new Complex('99.3+8i');\n * c.mul({r: 3, i: 9}).div(4.9).sub(3, 2);\n *\n */\n\n\nconst cosh = Math.cosh || function (x) {\n  return Math.abs(x) < 1e-9 ? 1 - x : (Math.exp(x) + Math.exp(-x)) * 0.5;\n};\n\nconst sinh = Math.sinh || function (x) {\n  return Math.abs(x) < 1e-9 ? x : (Math.exp(x) - Math.exp(-x)) * 0.5;\n};\n\n/**\n * Calculates cos(x) - 1 using Taylor series if x is small (-¼π ≤ x ≤ ¼π).\n *\n * @param {number} x\n * @returns {number} cos(x) - 1\n */\nconst cosm1 = x => {\n  // cos(x) - 1 = − 2sin^2(x / 2)\n  const s = Math.sin(0.5 * x);\n  return -2 * s * s;\n};\n\nconst hypot = function (x, y) {\n\n  x = Math.abs(x);\n  y = Math.abs(y);\n\n  // Ensure `x` is the larger value\n  if (x < y) [x, y] = [y, x];\n\n  // If both are below the threshold, use straightforward Pythagoras\n  if (x < 1e8) return Math.sqrt(x * x + y * y);\n\n  // For larger values, scale to avoid overflow\n  y /= x;\n  return x * Math.sqrt(1 + y * y);\n};\n\nconst parser_exit = function () {\n  throw SyntaxError('Invalid Param');\n};\n\n/**\n * Calculates log(sqrt(a^2+b^2)) in a way to avoid overflows\n *\n * @param {number} a\n * @param {number} b\n * @returns {number}\n */\nfunction logHypot(a, b) {\n\n  const _a = Math.abs(a);\n  const _b = Math.abs(b);\n\n  if (a === 0) {\n    return Math.log(_b);\n  }\n\n  if (b === 0) {\n    return Math.log(_a);\n  }\n\n  if (_a < 3000 && _b < 3000) {\n    return Math.log(a * a + b * b) * 0.5;\n  }\n\n  /* I got 4 ideas to compute this property without overflow:\n   *\n   * Testing 1000000 times with random samples for a,b ∈ [1, 1000000000] against a big decimal library to get an error estimate\n   *\n   * 1. Only eliminate the square root: (OVERALL ERROR: 3.9122483030951116e-11)\n\n   Math.log(a * a + b * b) / 2\n\n   *\n   *\n   * 2. Try to use the non-overflowing pythagoras: (OVERALL ERROR: 8.889760039210159e-10)\n\n   const fn = function(a, b) {\n   a = Math.abs(a);\n   b = Math.abs(b);\n   let t = Math.min(a, b);\n   a = Math.max(a, b);\n   t = t / a;\n\n   return Math.log(a) + Math.log(1 + t * t) / 2;\n   };\n\n   * 3. Abuse the identity cos(atan(y/x) = x / sqrt(x^2+y^2): (OVERALL ERROR: 3.4780178737037204e-10)\n\n   Math.log(a / Math.cos(Math.atan2(b, a)))\n\n   * 4. Use 3. and apply log rules: (OVERALL ERROR: 1.2014087502620896e-9)\n\n   Math.log(a) - Math.log(Math.cos(Math.atan2(b, a)))\n\n   */\n\n  a = a * 0.5;\n  b = b * 0.5;\n\n  return 0.5 * Math.log(a * a + b * b) + Math.LN2;\n}\n\nconst P = { 're': 0, 'im': 0 };\nconst parse = function (a, b) {\n\n  const z = P;\n\n  if (a === undefined || a === null) {\n    z['re'] =\n      z['im'] = 0;\n  } else if (b !== undefined) {\n    z['re'] = a;\n    z['im'] = b;\n  } else\n    switch (typeof a) {\n\n      case 'object':\n\n        if ('im' in a && 're' in a) {\n          z['re'] = a['re'];\n          z['im'] = a['im'];\n        } else if ('abs' in a && 'arg' in a) {\n          if (!isFinite(a['abs']) && isFinite(a['arg'])) {\n            return Complex['INFINITY'];\n          }\n          z['re'] = a['abs'] * Math.cos(a['arg']);\n          z['im'] = a['abs'] * Math.sin(a['arg']);\n        } else if ('r' in a && 'phi' in a) {\n          if (!isFinite(a['r']) && isFinite(a['phi'])) {\n            return Complex['INFINITY'];\n          }\n          z['re'] = a['r'] * Math.cos(a['phi']);\n          z['im'] = a['r'] * Math.sin(a['phi']);\n        } else if (a.length === 2) { // Quick array check\n          z['re'] = a[0];\n          z['im'] = a[1];\n        } else {\n          parser_exit();\n        }\n        break;\n\n      case 'string':\n\n        z['im'] = /* void */\n          z['re'] = 0;\n\n        const tokens = a.replace(/_/g, '')\n          .match(/\\d+\\.?\\d*e[+-]?\\d+|\\d+\\.?\\d*|\\.\\d+|./g);\n        let plus = 1;\n        let minus = 0;\n\n        if (tokens === null) {\n          parser_exit();\n        }\n\n        for (let i = 0; i < tokens.length; i++) {\n\n          const c = tokens[i];\n\n          if (c === ' ' || c === '\\t' || c === '\\n') {\n            /* void */\n          } else if (c === '+') {\n            plus++;\n          } else if (c === '-') {\n            minus++;\n          } else if (c === 'i' || c === 'I') {\n\n            if (plus + minus === 0) {\n              parser_exit();\n            }\n\n            if (tokens[i + 1] !== ' ' && !isNaN(tokens[i + 1])) {\n              z['im'] += parseFloat((minus % 2 ? '-' : '') + tokens[i + 1]);\n              i++;\n            } else {\n              z['im'] += parseFloat((minus % 2 ? '-' : '') + '1');\n            }\n            plus = minus = 0;\n\n          } else {\n\n            if (plus + minus === 0 || isNaN(c)) {\n              parser_exit();\n            }\n\n            if (tokens[i + 1] === 'i' || tokens[i + 1] === 'I') {\n              z['im'] += parseFloat((minus % 2 ? '-' : '') + c);\n              i++;\n            } else {\n              z['re'] += parseFloat((minus % 2 ? '-' : '') + c);\n            }\n            plus = minus = 0;\n          }\n        }\n\n        // Still something on the stack\n        if (plus + minus > 0) {\n          parser_exit();\n        }\n        break;\n\n      case 'number':\n        z['im'] = 0;\n        z['re'] = a;\n        break;\n\n      default:\n        parser_exit();\n    }\n\n  if (isNaN(z['re']) || isNaN(z['im'])) {\n    // If a calculation is NaN, we treat it as NaN and don't throw\n    //parser_exit();\n  }\n\n  return z;\n};\n\n/**\n * @constructor\n * @returns {Complex}\n */\nfunction Complex(a, b) {\n\n  if (!(this instanceof Complex)) {\n    return new Complex(a, b);\n  }\n\n  const z = parse(a, b);\n\n  this['re'] = z['re'];\n  this['im'] = z['im'];\n}\n\nComplex.prototype = {\n\n  're': 0,\n  'im': 0,\n\n  /**\n   * Calculates the sign of a complex number, which is a normalized complex\n   *\n   * @returns {Complex}\n   */\n  'sign': function () {\n\n    const abs = hypot(this['re'], this['im']);\n\n    return new Complex(\n      this['re'] / abs,\n      this['im'] / abs);\n  },\n\n  /**\n   * Adds two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'add': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n\n    if (tInfin || zInfin) {\n\n      if (tInfin && zInfin) {\n        // Infinity + Infinity = NaN\n        return Complex['NAN'];\n      }\n      // Infinity + z = Infinity { where z != Infinity }\n      return Complex['INFINITY'];\n    }\n\n    return new Complex(\n      this['re'] + z['re'],\n      this['im'] + z['im']);\n  },\n\n  /**\n   * Subtracts two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'sub': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n\n    if (tInfin || zInfin) {\n\n      if (tInfin && zInfin) {\n        // Infinity - Infinity = NaN\n        return Complex['NAN'];\n      }\n      // Infinity - z = Infinity { where z != Infinity }\n      return Complex['INFINITY'];\n    }\n\n    return new Complex(\n      this['re'] - z['re'],\n      this['im'] - z['im']);\n  },\n\n  /**\n   * Multiplies two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'mul': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n    const tIsZero = this['re'] === 0 && this['im'] === 0;\n    const zIsZero = z['re'] === 0 && z['im'] === 0;\n\n    // Infinity * 0 = NaN\n    if (tInfin && zIsZero || zInfin && tIsZero) {\n      return Complex['NAN'];\n    }\n\n    // Infinity * z = Infinity { where z != 0 }\n    if (tInfin || zInfin) {\n      return Complex['INFINITY'];\n    }\n\n    // Shortcut for real values\n    if (z['im'] === 0 && this['im'] === 0) {\n      return new Complex(this['re'] * z['re'], 0);\n    }\n\n    return new Complex(\n      this['re'] * z['re'] - this['im'] * z['im'],\n      this['re'] * z['im'] + this['im'] * z['re']);\n  },\n\n  /**\n   * Divides two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'div': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tInfin = this['isInfinite']();\n    const zInfin = !(isFinite(z['re']) && isFinite(z['im']));\n    const tIsZero = this['re'] === 0 && this['im'] === 0;\n    const zIsZero = z['re'] === 0 && z['im'] === 0;\n\n    // 0 / 0 = NaN and Infinity / Infinity = NaN\n    if (tIsZero && zIsZero || tInfin && zInfin) {\n      return Complex['NAN'];\n    }\n\n    // Infinity / 0 = Infinity\n    if (zIsZero || tInfin) {\n      return Complex['INFINITY'];\n    }\n\n    // 0 / Infinity = 0\n    if (tIsZero || zInfin) {\n      return Complex['ZERO'];\n    }\n\n    if (0 === z['im']) {\n      // Divisor is real\n      return new Complex(this['re'] / z['re'], this['im'] / z['re']);\n    }\n\n    if (Math.abs(z['re']) < Math.abs(z['im'])) {\n\n      const x = z['re'] / z['im'];\n      const t = z['re'] * x + z['im'];\n\n      return new Complex(\n        (this['re'] * x + this['im']) / t,\n        (this['im'] * x - this['re']) / t);\n\n    } else {\n\n      const x = z['im'] / z['re'];\n      const t = z['im'] * x + z['re'];\n\n      return new Complex(\n        (this['re'] + this['im'] * x) / t,\n        (this['im'] - this['re'] * x) / t);\n    }\n  },\n\n  /**\n   * Calculate the power of two complex numbers\n   *\n   * @returns {Complex}\n   */\n  'pow': function (a, b) {\n\n    const z = parse(a, b);\n\n    const tIsZero = this['re'] === 0 && this['im'] === 0;\n    const zIsZero = z['re'] === 0 && z['im'] === 0;\n\n    if (zIsZero) {\n      return Complex['ONE'];\n    }\n\n    // If the exponent is real\n    if (z['im'] === 0) {\n\n      if (this['im'] === 0 && this['re'] > 0) {\n\n        return new Complex(Math.pow(this['re'], z['re']), 0);\n\n      } else if (this['re'] === 0) { // If base is fully imaginary\n\n        switch ((z['re'] % 4 + 4) % 4) {\n          case 0:\n            return new Complex(Math.pow(this['im'], z['re']), 0);\n          case 1:\n            return new Complex(0, Math.pow(this['im'], z['re']));\n          case 2:\n            return new Complex(-Math.pow(this['im'], z['re']), 0);\n          case 3:\n            return new Complex(0, -Math.pow(this['im'], z['re']));\n        }\n      }\n    }\n\n    /* I couldn't find a good formula, so here is a derivation and optimization\n     *\n     * z_1^z_2 = (a + bi)^(c + di)\n     *         = exp((c + di) * log(a + bi)\n     *         = pow(a^2 + b^2, (c + di) / 2) * exp(i(c + di)atan2(b, a))\n     * =>...\n     * Re = (pow(a^2 + b^2, c / 2) * exp(-d * atan2(b, a))) * cos(d * log(a^2 + b^2) / 2 + c * atan2(b, a))\n     * Im = (pow(a^2 + b^2, c / 2) * exp(-d * atan2(b, a))) * sin(d * log(a^2 + b^2) / 2 + c * atan2(b, a))\n     *\n     * =>...\n     * Re = exp(c * log(sqrt(a^2 + b^2)) - d * atan2(b, a)) * cos(d * log(sqrt(a^2 + b^2)) + c * atan2(b, a))\n     * Im = exp(c * log(sqrt(a^2 + b^2)) - d * atan2(b, a)) * sin(d * log(sqrt(a^2 + b^2)) + c * atan2(b, a))\n     *\n     * =>\n     * Re = exp(c * logsq2 - d * arg(z_1)) * cos(d * logsq2 + c * arg(z_1))\n     * Im = exp(c * logsq2 - d * arg(z_1)) * sin(d * logsq2 + c * arg(z_1))\n     *\n     */\n\n    if (tIsZero && z['re'] > 0) { // Same behavior as Wolframalpha, Zero if real part is zero\n      return Complex['ZERO'];\n    }\n\n    const arg = Math.atan2(this['im'], this['re']);\n    const loh = logHypot(this['re'], this['im']);\n\n    let re = Math.exp(z['re'] * loh - z['im'] * arg);\n    let im = z['im'] * loh + z['re'] * arg;\n    return new Complex(\n      re * Math.cos(im),\n      re * Math.sin(im));\n  },\n\n  /**\n   * Calculate the complex square root\n   *\n   * @returns {Complex}\n   */\n  'sqrt': function () {\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n      // Real number case\n      if (a >= 0) {\n        return new Complex(Math.sqrt(a), 0);\n      } else {\n        return new Complex(0, Math.sqrt(-a));\n      }\n    }\n\n    const r = hypot(a, b);\n\n    let re = Math.sqrt(0.5 * (r + Math.abs(a))); // sqrt(2x) / 2 = sqrt(x / 2)\n    let im = Math.abs(b) / (2 * re);\n\n    if (a >= 0) {\n      return new Complex(re, b < 0 ? -im : im);\n    } else {\n      return new Complex(im, b < 0 ? -re : re);\n    }\n  },\n\n  /**\n   * Calculate the complex exponent\n   *\n   * @returns {Complex}\n   */\n  'exp': function () {\n\n    const er = Math.exp(this['re']);\n\n    if (this['im'] === 0) {\n      return new Complex(er, 0);\n    }\n    return new Complex(\n      er * Math.cos(this['im']),\n      er * Math.sin(this['im']));\n  },\n\n  /**\n   * Calculate the complex exponent and subtracts one.\n   *\n   * This may be more accurate than `Complex(x).exp().sub(1)` if\n   * `x` is small.\n   *\n   * @returns {Complex}\n   */\n  'expm1': function () {\n\n    /**\n     * exp(a + i*b) - 1\n     = exp(a) * (cos(b) + j*sin(b)) - 1\n     = expm1(a)*cos(b) + cosm1(b) + j*exp(a)*sin(b)\n     */\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      Math.expm1(a) * Math.cos(b) + cosm1(b),\n      Math.exp(a) * Math.sin(b));\n  },\n\n  /**\n   * Calculate the natural log\n   *\n   * @returns {Complex}\n   */\n  'log': function () {\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0 && a > 0) {\n      return new Complex(Math.log(a), 0);\n    }\n\n    return new Complex(\n      logHypot(a, b),\n      Math.atan2(b, a));\n  },\n\n  /**\n   * Calculate the magnitude of the complex number\n   *\n   * @returns {number}\n   */\n  'abs': function () {\n\n    return hypot(this['re'], this['im']);\n  },\n\n  /**\n   * Calculate the angle of the complex number\n   *\n   * @returns {number}\n   */\n  'arg': function () {\n\n    return Math.atan2(this['im'], this['re']);\n  },\n\n  /**\n   * Calculate the sine of the complex number\n   *\n   * @returns {Complex}\n   */\n  'sin': function () {\n\n    // sin(z) = ( e^iz - e^-iz ) / 2i \n    //        = sin(a)cosh(b) + i cos(a)sinh(b)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      Math.sin(a) * cosh(b),\n      Math.cos(a) * sinh(b));\n  },\n\n  /**\n   * Calculate the cosine\n   *\n   * @returns {Complex}\n   */\n  'cos': function () {\n\n    // cos(z) = ( e^iz + e^-iz ) / 2 \n    //        = cos(a)cosh(b) - i sin(a)sinh(b)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      Math.cos(a) * cosh(b),\n      -Math.sin(a) * sinh(b));\n  },\n\n  /**\n   * Calculate the tangent\n   *\n   * @returns {Complex}\n   */\n  'tan': function () {\n\n    // tan(z) = sin(z) / cos(z) \n    //        = ( e^iz - e^-iz ) / ( i( e^iz + e^-iz ) )\n    //        = ( e^2iz - 1 ) / i( e^2iz + 1 )\n    //        = ( sin(2a) + i sinh(2b) ) / ( cos(2a) + cosh(2b) )\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = Math.cos(a) + cosh(b);\n\n    return new Complex(\n      Math.sin(a) / d,\n      sinh(b) / d);\n  },\n\n  /**\n   * Calculate the cotangent\n   *\n   * @returns {Complex}\n   */\n  'cot': function () {\n\n    // cot(c) = i(e^(ci) + e^(-ci)) / (e^(ci) - e^(-ci))\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = Math.cos(a) - cosh(b);\n\n    return new Complex(\n      -Math.sin(a) / d,\n      sinh(b) / d);\n  },\n\n  /**\n   * Calculate the secant\n   *\n   * @returns {Complex}\n   */\n  'sec': function () {\n\n    // sec(c) = 2 / (e^(ci) + e^(-ci))\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = 0.5 * cosh(2 * b) + 0.5 * Math.cos(2 * a);\n\n    return new Complex(\n      Math.cos(a) * cosh(b) / d,\n      Math.sin(a) * sinh(b) / d);\n  },\n\n  /**\n   * Calculate the cosecans\n   *\n   * @returns {Complex}\n   */\n  'csc': function () {\n\n    // csc(c) = 2i / (e^(ci) - e^(-ci))\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = 0.5 * cosh(2 * b) - 0.5 * Math.cos(2 * a);\n\n    return new Complex(\n      Math.sin(a) * cosh(b) / d,\n      -Math.cos(a) * sinh(b) / d);\n  },\n\n  /**\n   * Calculate the complex arcus sinus\n   *\n   * @returns {Complex}\n   */\n  'asin': function () {\n\n    // asin(c) = -i * log(ci + sqrt(1 - c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    const t1 = new Complex(\n      b * b - a * a + 1,\n      -2 * a * b)['sqrt']();\n\n    const t2 = new Complex(\n      t1['re'] - b,\n      t1['im'] + a)['log']();\n\n    return new Complex(t2['im'], -t2['re']);\n  },\n\n  /**\n   * Calculate the complex arcus cosinus\n   *\n   * @returns {Complex}\n   */\n  'acos': function () {\n\n    // acos(c) = i * log(c - i * sqrt(1 - c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    const t1 = new Complex(\n      b * b - a * a + 1,\n      -2 * a * b)['sqrt']();\n\n    const t2 = new Complex(\n      t1['re'] - b,\n      t1['im'] + a)['log']();\n\n    return new Complex(Math.PI / 2 - t2['im'], t2['re']);\n  },\n\n  /**\n   * Calculate the complex arcus tangent\n   *\n   * @returns {Complex}\n   */\n  'atan': function () {\n\n    // atan(c) = i / 2 log((i + x) / (i - x))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (a === 0) {\n\n      if (b === 1) {\n        return new Complex(0, Infinity);\n      }\n\n      if (b === -1) {\n        return new Complex(0, -Infinity);\n      }\n    }\n\n    const d = a * a + (1.0 - b) * (1.0 - b);\n\n    const t1 = new Complex(\n      (1 - b * b - a * a) / d,\n      -2 * a / d).log();\n\n    return new Complex(-0.5 * t1['im'], 0.5 * t1['re']);\n  },\n\n  /**\n   * Calculate the complex arcus cotangent\n   *\n   * @returns {Complex}\n   */\n  'acot': function () {\n\n    // acot(c) = i / 2 log((c - i) / (c + i))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n      return new Complex(Math.atan2(1, a), 0);\n    }\n\n    const d = a * a + b * b;\n    return (d !== 0)\n      ? new Complex(\n        a / d,\n        -b / d).atan()\n      : new Complex(\n        (a !== 0) ? a / 0 : 0,\n        (b !== 0) ? -b / 0 : 0).atan();\n  },\n\n  /**\n   * Calculate the complex arcus secant\n   *\n   * @returns {Complex}\n   */\n  'asec': function () {\n\n    // asec(c) = -i * log(1 / c + sqrt(1 - i / c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (a === 0 && b === 0) {\n      return new Complex(0, Infinity);\n    }\n\n    const d = a * a + b * b;\n    return (d !== 0)\n      ? new Complex(\n        a / d,\n        -b / d).acos()\n      : new Complex(\n        (a !== 0) ? a / 0 : 0,\n        (b !== 0) ? -b / 0 : 0).acos();\n  },\n\n  /**\n   * Calculate the complex arcus cosecans\n   *\n   * @returns {Complex}\n   */\n  'acsc': function () {\n\n    // acsc(c) = -i * log(i / c + sqrt(1 - 1 / c^2))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (a === 0 && b === 0) {\n      return new Complex(Math.PI / 2, Infinity);\n    }\n\n    const d = a * a + b * b;\n    return (d !== 0)\n      ? new Complex(\n        a / d,\n        -b / d).asin()\n      : new Complex(\n        (a !== 0) ? a / 0 : 0,\n        (b !== 0) ? -b / 0 : 0).asin();\n  },\n\n  /**\n   * Calculate the complex sinh\n   *\n   * @returns {Complex}\n   */\n  'sinh': function () {\n\n    // sinh(c) = (e^c - e^-c) / 2\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      sinh(a) * Math.cos(b),\n      cosh(a) * Math.sin(b));\n  },\n\n  /**\n   * Calculate the complex cosh\n   *\n   * @returns {Complex}\n   */\n  'cosh': function () {\n\n    // cosh(c) = (e^c + e^-c) / 2\n\n    const a = this['re'];\n    const b = this['im'];\n\n    return new Complex(\n      cosh(a) * Math.cos(b),\n      sinh(a) * Math.sin(b));\n  },\n\n  /**\n   * Calculate the complex tanh\n   *\n   * @returns {Complex}\n   */\n  'tanh': function () {\n\n    // tanh(c) = (e^c - e^-c) / (e^c + e^-c)\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = cosh(a) + Math.cos(b);\n\n    return new Complex(\n      sinh(a) / d,\n      Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex coth\n   *\n   * @returns {Complex}\n   */\n  'coth': function () {\n\n    // coth(c) = (e^c + e^-c) / (e^c - e^-c)\n\n    const a = 2 * this['re'];\n    const b = 2 * this['im'];\n    const d = cosh(a) - Math.cos(b);\n\n    return new Complex(\n      sinh(a) / d,\n      -Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex csch\n   *\n   * @returns {Complex}\n   */\n  'csch': function () {\n\n    // csch(c) = 2 / (e^c - e^-c)\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = Math.cos(2 * b) - cosh(2 * a);\n\n    return new Complex(\n      -2 * sinh(a) * Math.cos(b) / d,\n      2 * cosh(a) * Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex sech\n   *\n   * @returns {Complex}\n   */\n  'sech': function () {\n\n    // sech(c) = 2 / (e^c + e^-c)\n\n    const a = this['re'];\n    const b = this['im'];\n    const d = Math.cos(2 * b) + cosh(2 * a);\n\n    return new Complex(\n      2 * cosh(a) * Math.cos(b) / d,\n      -2 * sinh(a) * Math.sin(b) / d);\n  },\n\n  /**\n   * Calculate the complex asinh\n   *\n   * @returns {Complex}\n   */\n  'asinh': function () {\n\n    // asinh(z) = log(z + sqrt(z^2 + 1))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      if (a === 0) {\n        return new Complex(0, 0);\n      }\n\n      // Use |a| to keep asinh(-a) = -asinh(a) and avoid cancellation for large -a\n      const x = Math.abs(a);\n      const r = Math.log(x + Math.sqrt(x * x + 1));\n\n      return new Complex(a < 0 ? -r : r, 0);\n    }\n\n    // z^2 + 1 = (a^2 - b^2 + 1) + i (2ab)\n    const re2 = a * a - b * b + 1;\n    const im2 = 2 * a * b;\n\n    const t = new Complex(re2, im2)['sqrt'](); // sqrt(z^2 + 1)\n\n    return new Complex(a + t['re'], b + t['im'])['log']();\n  },\n\n  /**\n   * Calculate the complex acosh\n   *\n   * @returns {Complex}\n   */\n  'acosh': function () {\n\n    // acosh(z)= log(z + sqrt(z^2 - 1)) = log(z + sqrt(z - 1) * sqrt(z + 1))\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      // z = a is real\n      if (a > 1) {\n        // acosh(a) = log(a + sqrt(a - 1) * sqrt(a + 1)),  a > 1\n        return new Complex(\n          Math.log(a + Math.sqrt(a - 1) * Math.sqrt(a + 1)), 0);\n      }\n\n      if (a < -1) {\n        // acosh(a) = log(-a + sqrt(a^2 - 1)) + i*pi,  a < -1\n        const t = Math.sqrt(a * a - 1);\n        return new Complex(Math.log(-a + t), Math.PI);\n      }\n\n      // -1 <= a <= 1 : purely imaginary\n      // acosh(a) = i * acos(a)\n      return new Complex(0, Math.acos(a));\n    }\n\n    const t1 = new Complex(a - 1, b)['sqrt'](); // sqrt(z - 1)\n    const t2 = new Complex(a + 1, b)['sqrt'](); // sqrt(z + 1)\n\n    return new Complex(\n      a + t1['re'] * t2['re'] - t1['im'] * t2['im'],\n      b + t1['re'] * t2['im'] + t1['im'] * t2['re']\n    )['log']();\n  },\n\n  /**\n   * Calculate the complex atanh\n   *\n   * @returns {Complex}\n   */\n  'atanh': function () {\n\n    // atanh(z) = log((1 + z) / (1 - z)) / 2\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      if (a === 0) {\n        return new Complex(0, 0);\n      }\n\n      if (a === 1) {\n        // limit x -> 1^- atanh(x) = +Infinity\n        return new Complex(Infinity, 0);\n      }\n\n      if (a === -1) {\n        // limit x -> -1^+ atanh(x) = -Infinity\n        return new Complex(-Infinity, 0);\n      }\n\n      if (-1 < a && a < 1) {\n        // Purely real\n        return new Complex(\n          0.5 * Math.log((1 + a) / (1 - a)),\n          0\n        );\n      }\n\n      if (a > 1) {\n        // Our branch: Im(atanh(a)) = -π/2 for a > 1\n        const t = (a + 1) / (a - 1); // > 0\n        return new Complex(\n          0.5 * Math.log(t),\n          -Math.PI / 2\n        );\n      }\n\n      // a < -1: Im(atanh(a)) = +π/2\n      const t = (1 + a) / (1 - a); // < 0\n      return new Complex(\n        0.5 * Math.log(-t), // log((1 - a)/(1 + a))\n        Math.PI / 2\n      );\n    }\n\n    // Use atanh(z) = 0.5 * Log((1+z)/(1-z)) with principal Log.\n    const oneMinus = 1 - a;\n    const onePlus = 1 + a;\n    const d = oneMinus * oneMinus + b * b; // |1 - z|^2\n\n    if (d === 0) {\n      // (1 - z) == 0 for finite z only at z = 1+0i, already handled above.\n      // If we ever get here, just propagate infinities consistently:\n      return new Complex(\n        (a !== -1) ? (a / 0) : 0,\n        (b !== 0) ? (b / 0) : 0\n      );\n    }\n\n    // (1 + z) / (1 - z) with a single complex division\n    const xr = (onePlus * oneMinus - b * b) / d;\n    const xi = (b * oneMinus + onePlus * b) / d;\n\n    // 0.5 * log(xr + i xi)\n    return new Complex(\n      logHypot(xr, xi) / 2,\n      Math.atan2(xi, xr) / 2\n    );\n  },\n\n  /**\n   * Calculate the complex acoth\n   *\n   * @returns {Complex}\n   */\n  'acoth': function () {\n\n    // acoth(z) = log((z + 1) / (z - 1)) / 2 = atanh(1 / z)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    // z = 0 -> acoth(0) = i * π / 2  (log((1+0)/(1-0))/2 = log(-1)/2)\n    if (a === 0 && b === 0) {\n      return new Complex(0, Math.PI / 2);\n    }\n\n    const d = a * a + b * b;\n\n    if (d !== 0) {\n      // 1 / z = (a - i b) / (a^2 + b^2)\n      return new Complex(a / d, -b / d)['atanh']();\n    }\n\n    // Fallback for weird infinities/NaNs: mirror other functions' style\n    return new Complex(\n      (a !== 0) ? a / 0 : 0,\n      (b !== 0) ? -b / 0 : 0\n    )['atanh']();\n  },\n\n  /**\n   * Calculate the complex acsch\n   *\n   * @returns {Complex}\n   */\n  'acsch': function () {\n\n    // acsch(c) = log((1+sqrt(1+c^2))/c) = = asinh(1 / z)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (b === 0) {\n\n      // z = a real\n      if (a === 0) {\n        // acsch(0) -> +/- Infinity, we keep your previous behavior\n        return new Complex(Infinity, 0);\n      }\n\n      // acsch(a) = asinh(1/a) = log(1/a + sqrt(1/a^2 + 1))\n      const inv = 1 / a;\n      return new Complex(\n        Math.log(inv + Math.sqrt(inv * inv + 1)),\n        0\n      );\n    }\n\n    const d = a * a + b * b;\n\n    if (d !== 0) {\n      // 1/z = (a - i b) / (a^2 + b^2)\n      return new Complex(a / d, -b / d)['asinh']();\n    }\n\n    // Handle 0 + 0i or infinities in the same spirit as your existing code\n    return new Complex(\n      (a !== 0) ? a / 0 : 0,\n      (b !== 0) ? -b / 0 : 0)['asinh']();\n  },\n\n  /**\n   * Calculate the complex asech\n   *\n   * @returns {Complex}\n   */\n  'asech': function () {\n\n    // asech(z) = acosh(1 / z)\n\n    const a = this['re'];\n    const b = this['im'];\n\n    if (this['isZero']()) {\n      // asech(0) = acosh(∞) -> ∞\n      return Complex['INFINITY'];\n    }\n\n    const d = a * a + b * b;\n\n    if (d !== 0) {\n      // 1 / z = (a - i b) / (a^2 + b^2)\n      return new Complex(a / d, -b / d)['acosh']();\n    }\n\n    // Fallback for weird infinities/NaNs\n    return new Complex(\n      (a !== 0) ? a / 0 : 0,\n      (b !== 0) ? -b / 0 : 0)['acosh']();\n  },\n\n  /**\n   * Calculate the complex inverse 1/z\n   *\n   * @returns {Complex}\n   */\n  'inverse': function () {\n\n    // 1 / 0 = Infinity and 1 / Infinity = 0\n    if (this['isZero']()) {\n      return Complex['INFINITY'];\n    }\n\n    if (this['isInfinite']()) {\n      return Complex['ZERO'];\n    }\n\n    const a = this['re'];\n    const b = this['im'];\n\n    const d = a * a + b * b;\n\n    return new Complex(a / d, -b / d);\n  },\n\n  /**\n   * Returns the complex conjugate\n   *\n   * @returns {Complex}\n   */\n  'conjugate': function () {\n\n    return new Complex(this['re'], -this['im']);\n  },\n\n  /**\n   * Gets the negated complex number\n   *\n   * @returns {Complex}\n   */\n  'neg': function () {\n\n    return new Complex(-this['re'], -this['im']);\n  },\n\n  /**\n   * Ceils the actual complex number\n   *\n   * @returns {Complex}\n   */\n  'ceil': function (places) {\n\n    places = Math.pow(10, places || 0);\n\n    return new Complex(\n      Math.ceil(this['re'] * places) / places,\n      Math.ceil(this['im'] * places) / places);\n  },\n\n  /**\n   * Floors the actual complex number\n   *\n   * @returns {Complex}\n   */\n  'floor': function (places) {\n\n    places = Math.pow(10, places || 0);\n\n    return new Complex(\n      Math.floor(this['re'] * places) / places,\n      Math.floor(this['im'] * places) / places);\n  },\n\n  /**\n   * Ceils the actual complex number\n   *\n   * @returns {Complex}\n   */\n  'round': function (places) {\n\n    places = Math.pow(10, places || 0);\n\n    return new Complex(\n      Math.round(this['re'] * places) / places,\n      Math.round(this['im'] * places) / places);\n  },\n\n  /**\n   * Compares two complex numbers\n   *\n   * **Note:** new Complex(Infinity).equals(Infinity) === false\n   *\n   * @returns {boolean}\n   */\n  'equals': function (a, b) {\n\n    const z = parse(a, b);\n\n    return Math.abs(z['re'] - this['re']) <= Complex['EPSILON'] &&\n      Math.abs(z['im'] - this['im']) <= Complex['EPSILON'];\n  },\n\n  /**\n   * Clones the actual object\n   *\n   * @returns {Complex}\n   */\n  'clone': function () {\n\n    return new Complex(this['re'], this['im']);\n  },\n\n  /**\n   * Gets a string of the actual complex number\n   *\n   * @returns {string}\n   */\n  'toString': function () {\n\n    let a = this['re'];\n    let b = this['im'];\n    let ret = \"\";\n\n    if (this['isNaN']()) {\n      return 'NaN';\n    }\n\n    if (this['isInfinite']()) {\n      return 'Infinity';\n    }\n\n    if (Math.abs(a) < Complex['EPSILON']) {\n      a = 0;\n    }\n\n    if (Math.abs(b) < Complex['EPSILON']) {\n      b = 0;\n    }\n\n    // If is real number\n    if (b === 0) {\n      return ret + a;\n    }\n\n    if (a !== 0) {\n      ret += a;\n      ret += \" \";\n      if (b < 0) {\n        b = -b;\n        ret += \"-\";\n      } else {\n        ret += \"+\";\n      }\n      ret += \" \";\n    } else if (b < 0) {\n      b = -b;\n      ret += \"-\";\n    }\n\n    if (1 !== b) { // b is the absolute imaginary part\n      ret += b;\n    }\n    return ret + \"i\";\n  },\n\n  /**\n   * Returns the actual number as a vector\n   *\n   * @returns {Array}\n   */\n  'toVector': function () {\n\n    return [this['re'], this['im']];\n  },\n\n  /**\n   * Returns the actual real value of the current object\n   *\n   * @returns {number|null}\n   */\n  'valueOf': function () {\n\n    if (this['im'] === 0) {\n      return this['re'];\n    }\n    return null;\n  },\n\n  /**\n   * Determines whether a complex number is not on the Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isNaN': function () {\n    return isNaN(this['re']) || isNaN(this['im']);\n  },\n\n  /**\n   * Determines whether or not a complex number is at the zero pole of the\n   * Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isZero': function () {\n    return this['im'] === 0 && this['re'] === 0;\n  },\n\n  /**\n   * Determines whether a complex number is not at the infinity pole of the\n   * Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isFinite': function () {\n    return isFinite(this['re']) && isFinite(this['im']);\n  },\n\n  /**\n   * Determines whether or not a complex number is at the infinity pole of the\n   * Riemann sphere.\n   *\n   * @returns {boolean}\n   */\n  'isInfinite': function () {\n    return !this['isFinite']();\n  }\n};\n\nComplex['ZERO'] = new Complex(0, 0);\nComplex['ONE'] = new Complex(1, 0);\nComplex['I'] = new Complex(0, 1);\nComplex['PI'] = new Complex(Math.PI, 0);\nComplex['E'] = new Complex(Math.E, 0);\nComplex['INFINITY'] = new Complex(Infinity, Infinity);\nComplex['NAN'] = new Complex(NaN, NaN);\nComplex['EPSILON'] = 1e-15;\n\nObject.defineProperty(Complex, \"__esModule\", { 'value': true });\nComplex['default'] = Complex;\nComplex['Complex'] = Complex;\nmodule['exports'] = Complex;\n"],"names":["cosh","x","sinh","cosm1","s","hypot","y","parser_exit","logHypot","a","b","_a","_b","P","parse","z","Complex","tokens","plus","minus","i","c","abs","tInfin","zInfin","tIsZero","zIsZero","t","arg","loh","re","im","r","er","d","t1","t2","re2","im2","oneMinus","onePlus","xr","xi","inv","places","ret","module"],"mappings":"AA+BA,MAAMA,EAAO,KAAK,MAAQ,SAAUC,EAAG,CACrC,OAAO,KAAK,IAAIA,CAAC,EAAI,KAAO,EAAIA,GAAK,KAAK,IAAIA,CAAC,EAAI,KAAK,IAAI,CAACA,CAAC,GAAK,EACrE,EAEMC,EAAO,KAAK,MAAQ,SAAUD,EAAG,CACrC,OAAO,KAAK,IAAIA,CAAC,EAAI,KAAOA,GAAK,KAAK,IAAIA,CAAC,EAAI,KAAK,IAAI,CAACA,CAAC,GAAK,EACjE,EAQME,EAAQF,GAAK,CAEjB,MAAMG,EAAI,KAAK,IAAI,GAAMH,CAAC,EAC1B,MAAO,GAAKG,EAAIA,CAClB,EAEMC,EAAQ,SAAUJ,EAAGK,EAAG,CAS5B,OAPAL,EAAI,KAAK,IAAIA,CAAC,EACdK,EAAI,KAAK,IAAIA,CAAC,EAGVL,EAAIK,IAAG,CAACL,EAAGK,CAAC,EAAI,CAACA,EAAGL,CAAC,GAGrBA,EAAI,IAAY,KAAK,KAAKA,EAAIA,EAAIK,EAAIA,CAAC,GAG3CA,GAAKL,EACEA,EAAI,KAAK,KAAK,EAAIK,EAAIA,CAAC,EAChC,EAEMC,EAAc,UAAY,CAC9B,MAAM,YAAY,eAAe,CACnC,EASA,SAASC,EAASC,EAAGC,EAAG,CAEtB,MAAMC,EAAK,KAAK,IAAIF,CAAC,EACfG,EAAK,KAAK,IAAIF,CAAC,EAErB,OAAID,IAAM,EACD,KAAK,IAAIG,CAAE,EAGhBF,IAAM,EACD,KAAK,IAAIC,CAAE,EAGhBA,EAAK,KAAQC,EAAK,IACb,KAAK,IAAIH,EAAIA,EAAIC,EAAIA,CAAC,EAAI,IAmCnCD,EAAIA,EAAI,GACRC,EAAIA,EAAI,GAED,GAAM,KAAK,IAAID,EAAIA,EAAIC,EAAIA,CAAC,EAAI,KAAK,IAC9C,CAEA,MAAMG,EAAI,CAAE,GAAM,EAAG,GAAM,CAAC,EACtBC,EAAQ,SAAUL,EAAGC,EAAG,CAE5B,MAAMK,EAAIF,EAEV,GAAuBJ,GAAM,KAC3BM,EAAE,GACAA,EAAE,GAAQ,UACHL,IAAM,OACfK,EAAE,GAAQN,EACVM,EAAE,GAAQL,MAEV,QAAQ,OAAOD,EAAC,CAEd,IAAK,SAEH,GAAI,OAAQA,GAAK,OAAQA,EACvBM,EAAE,GAAQN,EAAE,GACZM,EAAE,GAAQN,EAAE,WACH,QAASA,GAAK,QAASA,EAAG,CACnC,GAAI,CAAC,SAASA,EAAE,GAAM,GAAK,SAASA,EAAE,GAAM,EAC1C,OAAOO,EAAQ,SAEjBD,EAAE,GAAQN,EAAE,IAAS,KAAK,IAAIA,EAAE,GAAM,EACtCM,EAAE,GAAQN,EAAE,IAAS,KAAK,IAAIA,EAAE,GAAM,CACxC,SAAW,MAAOA,GAAK,QAASA,EAAG,CACjC,GAAI,CAAC,SAASA,EAAE,CAAI,GAAK,SAASA,EAAE,GAAM,EACxC,OAAOO,EAAQ,SAEjBD,EAAE,GAAQN,EAAE,EAAO,KAAK,IAAIA,EAAE,GAAM,EACpCM,EAAE,GAAQN,EAAE,EAAO,KAAK,IAAIA,EAAE,GAAM,CACtC,MAAWA,EAAE,SAAW,GACtBM,EAAE,GAAQN,EAAE,CAAC,EACbM,EAAE,GAAQN,EAAE,CAAC,GAEbF,EAAW,EAEb,MAEF,IAAK,SAEHQ,EAAE,GACAA,EAAE,GAAQ,EAEZ,MAAME,EAASR,EAAE,QAAQ,KAAM,EAAE,EAC9B,MAAM,uCAAuC,EAChD,IAAIS,EAAO,EACPC,EAAQ,EAERF,IAAW,MACbV,EAAW,EAGb,QAASa,EAAI,EAAGA,EAAIH,EAAO,OAAQG,IAAK,CAEtC,MAAMC,EAAIJ,EAAOG,CAAC,EAEdC,IAAM,KAAOA,IAAM,KAAQA,IAAM;AAAA,IAE1BA,IAAM,IACfH,IACSG,IAAM,IACfF,IACSE,IAAM,KAAOA,IAAM,KAExBH,EAAOC,IAAU,GACnBZ,EAAW,EAGTU,EAAOG,EAAI,CAAC,IAAM,KAAO,CAAC,MAAMH,EAAOG,EAAI,CAAC,CAAC,GAC/CL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAMF,EAAOG,EAAI,CAAC,CAAC,EAC5DA,KAEAL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAM,GAAG,EAEpDD,EAAOC,EAAQ,KAIXD,EAAOC,IAAU,GAAK,MAAME,CAAC,IAC/Bd,EAAW,EAGTU,EAAOG,EAAI,CAAC,IAAM,KAAOH,EAAOG,EAAI,CAAC,IAAM,KAC7CL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAME,CAAC,EAChDD,KAEAL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAME,CAAC,EAElDH,EAAOC,EAAQ,GAEnB,CAGID,EAAOC,EAAQ,GACjBZ,EAAW,EAEb,MAEF,IAAK,SACHQ,EAAE,GAAQ,EACVA,EAAE,GAAQN,EACV,MAEF,QACEF,EAAW,CACnB,CAEE,OAAI,MAAMQ,EAAE,EAAK,GAAK,MAAMA,EAAE,EAAK,EAK5BA,CACT,EAMA,SAASC,EAAQP,EAAGC,EAAG,CAErB,GAAI,EAAE,gBAAgBM,GACpB,OAAO,IAAIA,EAAQP,EAAGC,CAAC,EAGzB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEpB,KAAK,GAAQK,EAAE,GACf,KAAK,GAAQA,EAAE,EACjB,CAEAC,EAAQ,UAAY,CAElB,GAAM,EACN,GAAM,EAON,KAAQ,UAAY,CAElB,MAAMM,EAAMjB,EAAM,KAAK,GAAO,KAAK,EAAK,EAExC,OAAO,IAAIW,EACT,KAAK,GAAQM,EACb,KAAK,GAAQA,CAAG,CACpB,EAOA,IAAO,SAAUb,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAEtD,OAAIQ,GAAUC,EAERD,GAAUC,EAELR,EAAQ,IAGVA,EAAQ,SAGV,IAAIA,EACT,KAAK,GAAQD,EAAE,GACf,KAAK,GAAQA,EAAE,EAAK,CACxB,EAOA,IAAO,SAAUN,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAEtD,OAAIQ,GAAUC,EAERD,GAAUC,EAELR,EAAQ,IAGVA,EAAQ,SAGV,IAAIA,EACT,KAAK,GAAQD,EAAE,GACf,KAAK,GAAQA,EAAE,EAAK,CACxB,EAOA,IAAO,SAAUN,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAChDU,EAAU,KAAK,KAAU,GAAK,KAAK,KAAU,EAC7CC,EAAUX,EAAE,KAAU,GAAKA,EAAE,KAAU,EAG7C,OAAIQ,GAAUG,GAAWF,GAAUC,EAC1BT,EAAQ,IAIbO,GAAUC,EACLR,EAAQ,SAIbD,EAAE,KAAU,GAAK,KAAK,KAAU,EAC3B,IAAIC,EAAQ,KAAK,GAAQD,EAAE,GAAO,CAAC,EAGrC,IAAIC,EACT,KAAK,GAAQD,EAAE,GAAQ,KAAK,GAAQA,EAAE,GACtC,KAAK,GAAQA,EAAE,GAAQ,KAAK,GAAQA,EAAE,EAAK,CAC/C,EAOA,IAAO,SAAUN,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAChDU,EAAU,KAAK,KAAU,GAAK,KAAK,KAAU,EAC7CC,EAAUX,EAAE,KAAU,GAAKA,EAAE,KAAU,EAG7C,GAAIU,GAAWC,GAAWH,GAAUC,EAClC,OAAOR,EAAQ,IAIjB,GAAIU,GAAWH,EACb,OAAOP,EAAQ,SAIjB,GAAIS,GAAWD,EACb,OAAOR,EAAQ,KAGjB,GAAUD,EAAE,KAAR,EAEF,OAAO,IAAIC,EAAQ,KAAK,GAAQD,EAAE,GAAO,KAAK,GAAQA,EAAE,EAAK,EAG/D,GAAI,KAAK,IAAIA,EAAE,EAAK,EAAI,KAAK,IAAIA,EAAE,EAAK,EAAG,CAEzC,MAAMd,EAAIc,EAAE,GAAQA,EAAE,GAChBY,EAAIZ,EAAE,GAAQd,EAAIc,EAAE,GAE1B,OAAO,IAAIC,GACR,KAAK,GAAQf,EAAI,KAAK,IAAS0B,GAC/B,KAAK,GAAQ1B,EAAI,KAAK,IAAS0B,CAAC,CAErC,KAAO,CAEL,MAAM1B,EAAIc,EAAE,GAAQA,EAAE,GAChBY,EAAIZ,EAAE,GAAQd,EAAIc,EAAE,GAE1B,OAAO,IAAIC,GACR,KAAK,GAAQ,KAAK,GAAQf,GAAK0B,GAC/B,KAAK,GAAQ,KAAK,GAAQ1B,GAAK0B,CAAC,CACrC,CACF,EAOA,IAAO,SAAUlB,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEde,EAAU,KAAK,KAAU,GAAK,KAAK,KAAU,EAGnD,GAFgBV,EAAE,KAAU,GAAKA,EAAE,KAAU,EAG3C,OAAOC,EAAQ,IAIjB,GAAID,EAAE,KAAU,EAAG,CAEjB,GAAI,KAAK,KAAU,GAAK,KAAK,GAAQ,EAEnC,OAAO,IAAIC,EAAQ,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,EAAG,CAAC,EAE9C,GAAI,KAAK,KAAU,EAExB,QAASA,EAAE,GAAQ,EAAI,GAAK,EAAC,CAC3B,IAAK,GACH,OAAO,IAAIC,EAAQ,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,EAAG,CAAC,EACrD,IAAK,GACH,OAAO,IAAIC,EAAQ,EAAG,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,CAAC,EACrD,IAAK,GACH,OAAO,IAAIC,EAAQ,CAAC,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,EAAG,CAAC,EACtD,IAAK,GACH,OAAO,IAAIC,EAAQ,EAAG,CAAC,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,CAAC,CAChE,CAEI,CAqBA,GAAIU,GAAWV,EAAE,GAAQ,EACvB,OAAOC,EAAQ,KAGjB,MAAMY,EAAM,KAAK,MAAM,KAAK,GAAO,KAAK,EAAK,EACvCC,EAAMrB,EAAS,KAAK,GAAO,KAAK,EAAK,EAE3C,IAAIsB,EAAK,KAAK,IAAIf,EAAE,GAAQc,EAAMd,EAAE,GAAQa,CAAG,EAC3CG,EAAKhB,EAAE,GAAQc,EAAMd,EAAE,GAAQa,EACnC,OAAO,IAAIZ,EACTc,EAAK,KAAK,IAAIC,CAAE,EAChBD,EAAK,KAAK,IAAIC,CAAE,CAAC,CACrB,EAOA,KAAQ,UAAY,CAElB,MAAMtB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAER,OAAID,GAAK,EACA,IAAIO,EAAQ,KAAK,KAAKP,CAAC,EAAG,CAAC,EAE3B,IAAIO,EAAQ,EAAG,KAAK,KAAK,CAACP,CAAC,CAAC,EAIvC,MAAMuB,EAAI3B,EAAMI,EAAGC,CAAC,EAEpB,IAAIoB,EAAK,KAAK,KAAK,IAAOE,EAAI,KAAK,IAAIvB,CAAC,EAAE,EACtCsB,EAAK,KAAK,IAAIrB,CAAC,GAAK,EAAIoB,GAE5B,OAAIrB,GAAK,EACA,IAAIO,EAAQc,EAAIpB,EAAI,EAAI,CAACqB,EAAKA,CAAE,EAEhC,IAAIf,EAAQe,EAAIrB,EAAI,EAAI,CAACoB,EAAKA,CAAE,CAE3C,EAOA,IAAO,UAAY,CAEjB,MAAMG,EAAK,KAAK,IAAI,KAAK,EAAK,EAE9B,OAAI,KAAK,KAAU,EACV,IAAIjB,EAAQiB,EAAI,CAAC,EAEnB,IAAIjB,EACTiB,EAAK,KAAK,IAAI,KAAK,EAAK,EACxBA,EAAK,KAAK,IAAI,KAAK,EAAK,CAAC,CAC7B,EAUA,MAAS,UAAY,CAQnB,MAAMxB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACT,KAAK,MAAMP,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIP,EAAMO,CAAC,EACrC,KAAK,IAAID,CAAC,EAAI,KAAK,IAAIC,CAAC,CAAC,CAC7B,EAOA,IAAO,UAAY,CAEjB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAIA,IAAM,GAAKD,EAAI,EACV,IAAIO,EAAQ,KAAK,IAAIP,CAAC,EAAG,CAAC,EAG5B,IAAIO,EACTR,EAASC,EAAGC,CAAC,EACb,KAAK,MAAMA,EAAGD,CAAC,CAAC,CACpB,EAOA,IAAO,UAAY,CAEjB,OAAOJ,EAAM,KAAK,GAAO,KAAK,EAAK,CACrC,EAOA,IAAO,UAAY,CAEjB,OAAO,KAAK,MAAM,KAAK,GAAO,KAAK,EAAK,CAC1C,EAOA,IAAO,UAAY,CAKjB,MAAMI,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EACpB,KAAK,IAAID,CAAC,EAAIP,EAAKQ,CAAC,CAAC,CACzB,EAOA,IAAO,UAAY,CAKjB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EACpB,CAAC,KAAK,IAAID,CAAC,EAAIP,EAAKQ,CAAC,CAAC,CAC1B,EAOA,IAAO,UAAY,CAOjB,MAAMD,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAI,KAAK,IAAIzB,CAAC,EAAIT,EAAKU,CAAC,EAE9B,OAAO,IAAIM,EACT,KAAK,IAAIP,CAAC,EAAIyB,EACdhC,EAAKQ,CAAC,EAAIwB,CAAC,CACf,EAOA,IAAO,UAAY,CAIjB,MAAMzB,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAI,KAAK,IAAIzB,CAAC,EAAIT,EAAKU,CAAC,EAE9B,OAAO,IAAIM,EACT,CAAC,KAAK,IAAIP,CAAC,EAAIyB,EACfhC,EAAKQ,CAAC,EAAIwB,CAAC,CACf,EAOA,IAAO,UAAY,CAIjB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,GAAMlC,EAAK,EAAIU,CAAC,EAAI,GAAM,KAAK,IAAI,EAAID,CAAC,EAElD,OAAO,IAAIO,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EAAIwB,EACxB,KAAK,IAAIzB,CAAC,EAAIP,EAAKQ,CAAC,EAAIwB,CAAC,CAC7B,EAOA,IAAO,UAAY,CAIjB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,GAAMlC,EAAK,EAAIU,CAAC,EAAI,GAAM,KAAK,IAAI,EAAID,CAAC,EAElD,OAAO,IAAIO,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EAAIwB,EACxB,CAAC,KAAK,IAAIzB,CAAC,EAAIP,EAAKQ,CAAC,EAAIwB,CAAC,CAC9B,EAOA,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GAETyB,EAAK,IAAInB,EACbN,EAAIA,EAAID,EAAIA,EAAI,EAChB,GAAKA,EAAIC,CAAC,EAAE,KAAO,EAEf0B,EAAK,IAAIpB,EACbmB,EAAG,GAAQzB,EACXyB,EAAG,GAAQ1B,CAAC,EAAE,IAAM,EAEtB,OAAO,IAAIO,EAAQoB,EAAG,GAAO,CAACA,EAAG,EAAK,CACxC,EAOA,KAAQ,UAAY,CAIlB,MAAM3B,EAAI,KAAK,GACTC,EAAI,KAAK,GAETyB,EAAK,IAAInB,EACbN,EAAIA,EAAID,EAAIA,EAAI,EAChB,GAAKA,EAAIC,CAAC,EAAE,KAAO,EAEf0B,EAAK,IAAIpB,EACbmB,EAAG,GAAQzB,EACXyB,EAAG,GAAQ1B,CAAC,EAAE,IAAM,EAEtB,OAAO,IAAIO,EAAQ,KAAK,GAAK,EAAIoB,EAAG,GAAOA,EAAG,EAAK,CACrD,EAOA,KAAQ,UAAY,CAIlB,MAAM3B,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAID,IAAM,EAAG,CAEX,GAAIC,IAAM,EACR,OAAO,IAAIM,EAAQ,EAAG,GAAQ,EAGhC,GAAIN,IAAM,GACR,OAAO,IAAIM,EAAQ,EAAG,IAAS,CAEnC,CAEA,MAAMkB,EAAIzB,EAAIA,GAAK,EAAMC,IAAM,EAAMA,GAE/ByB,EAAK,IAAInB,GACZ,EAAIN,EAAIA,EAAID,EAAIA,GAAKyB,EACtB,GAAKzB,EAAIyB,CAAC,EAAE,IAAG,EAEjB,OAAO,IAAIlB,EAAQ,IAAOmB,EAAG,GAAO,GAAMA,EAAG,EAAK,CACpD,EAOA,KAAQ,UAAY,CAIlB,MAAM1B,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EACR,OAAO,IAAIM,EAAQ,KAAK,MAAM,EAAGP,CAAC,EAAG,CAAC,EAGxC,MAAMyB,EAAIzB,EAAIA,EAAIC,EAAIA,EACtB,OAAQwB,IAAM,EACV,IAAIlB,EACJP,EAAIyB,EACJ,CAACxB,EAAIwB,CAAC,EAAE,KAAI,EACZ,IAAIlB,EACHP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,KAAI,CAClC,EAOA,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAID,IAAM,GAAKC,IAAM,EACnB,OAAO,IAAIM,EAAQ,EAAG,GAAQ,EAGhC,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EACtB,OAAQwB,IAAM,EACV,IAAIlB,EACJP,EAAIyB,EACJ,CAACxB,EAAIwB,CAAC,EAAE,KAAI,EACZ,IAAIlB,EACHP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,KAAI,CAClC,EAOA,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAID,IAAM,GAAKC,IAAM,EACnB,OAAO,IAAIM,EAAQ,KAAK,GAAK,EAAG,GAAQ,EAG1C,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EACtB,OAAQwB,IAAM,EACV,IAAIlB,EACJP,EAAIyB,EACJ,CAACxB,EAAIwB,CAAC,EAAE,KAAI,EACZ,IAAIlB,EACHP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,KAAI,CAClC,EAOA,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACTd,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,EACpBV,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,CAAC,CACzB,EAOA,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACThB,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EACpBR,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,CAAC,CACzB,EAOA,KAAQ,UAAY,CAIlB,MAAMD,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAIlC,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAE9B,OAAO,IAAIM,EACTd,EAAKO,CAAC,EAAIyB,EACV,KAAK,IAAIxB,CAAC,EAAIwB,CAAC,CACnB,EAOA,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAIlC,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAE9B,OAAO,IAAIM,EACTd,EAAKO,CAAC,EAAIyB,EACV,CAAC,KAAK,IAAIxB,CAAC,EAAIwB,CAAC,CACpB,EAOA,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,KAAK,IAAI,EAAIxB,CAAC,EAAIV,EAAK,EAAIS,CAAC,EAEtC,OAAO,IAAIO,EACT,GAAKd,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,EAC7B,EAAIlC,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,CAAC,CACjC,EAOA,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,KAAK,IAAI,EAAIxB,CAAC,EAAIV,EAAK,EAAIS,CAAC,EAEtC,OAAO,IAAIO,EACT,EAAIhB,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,EAC5B,GAAKhC,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,CAAC,CAClC,EAOA,MAAS,UAAY,CAInB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAEX,GAAID,IAAM,EACR,OAAO,IAAIO,EAAQ,EAAG,CAAC,EAIzB,MAAMf,EAAI,KAAK,IAAIQ,CAAC,EACduB,EAAI,KAAK,IAAI/B,EAAI,KAAK,KAAKA,EAAIA,EAAI,CAAC,CAAC,EAE3C,OAAO,IAAIe,EAAQP,EAAI,EAAI,CAACuB,EAAIA,EAAG,CAAC,CACtC,CAGA,MAAMK,EAAM5B,EAAIA,EAAIC,EAAIA,EAAI,EACtB4B,EAAM,EAAI7B,EAAIC,EAEdiB,EAAI,IAAIX,EAAQqB,EAAKC,CAAG,EAAE,OAEhC,OAAO,IAAItB,EAAQP,EAAIkB,EAAE,GAAOjB,EAAIiB,EAAE,EAAK,EAAE,IAAM,CACrD,EAOA,MAAS,UAAY,CAInB,MAAMlB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAGX,GAAID,EAAI,EAEN,OAAO,IAAIO,EACT,KAAK,IAAIP,EAAI,KAAK,KAAKA,EAAI,CAAC,EAAI,KAAK,KAAKA,EAAI,CAAC,CAAC,EAAG,CAAC,EAGxD,GAAIA,EAAI,GAAI,CAEV,MAAMkB,EAAI,KAAK,KAAKlB,EAAIA,EAAI,CAAC,EAC7B,OAAO,IAAIO,EAAQ,KAAK,IAAI,CAACP,EAAIkB,CAAC,EAAG,KAAK,EAAE,CAC9C,CAIA,OAAO,IAAIX,EAAQ,EAAG,KAAK,KAAKP,CAAC,CAAC,CACpC,CAEA,MAAM0B,EAAK,IAAInB,EAAQP,EAAI,EAAGC,CAAC,EAAE,OAC3B0B,EAAK,IAAIpB,EAAQP,EAAI,EAAGC,CAAC,EAAE,OAEjC,OAAO,IAAIM,EACTP,EAAI0B,EAAG,GAAQC,EAAG,GAAQD,EAAG,GAAQC,EAAG,GACxC1B,EAAIyB,EAAG,GAAQC,EAAG,GAAQD,EAAG,GAAQC,EAAG,EAC9C,EAAM,IAAM,CACV,EAOA,MAAS,UAAY,CAInB,MAAM3B,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAEX,GAAID,IAAM,EACR,OAAO,IAAIO,EAAQ,EAAG,CAAC,EAGzB,GAAIP,IAAM,EAER,OAAO,IAAIO,EAAQ,IAAU,CAAC,EAGhC,GAAIP,IAAM,GAER,OAAO,IAAIO,EAAQ,KAAW,CAAC,EAGjC,GAAI,GAAKP,GAAKA,EAAI,EAEhB,OAAO,IAAIO,EACT,GAAM,KAAK,KAAK,EAAIP,IAAM,EAAIA,EAAE,EAChC,CACV,EAGM,GAAIA,EAAI,EAAG,CAET,MAAMkB,GAAKlB,EAAI,IAAMA,EAAI,GACzB,OAAO,IAAIO,EACT,GAAM,KAAK,IAAIW,CAAC,EAChB,CAAC,KAAK,GAAK,CACrB,CACM,CAGA,MAAMA,GAAK,EAAIlB,IAAM,EAAIA,GACzB,OAAO,IAAIO,EACT,GAAM,KAAK,IAAI,CAACW,CAAC,EACjB,KAAK,GAAK,CAClB,CACI,CAGA,MAAMY,EAAW,EAAI9B,EACf+B,EAAU,EAAI/B,EACdyB,EAAIK,EAAWA,EAAW7B,EAAIA,EAEpC,GAAIwB,IAAM,EAGR,OAAO,IAAIlB,EACRP,IAAM,GAAOA,EAAI,EAAK,EACtBC,IAAM,EAAMA,EAAI,EAAK,CAC9B,EAII,MAAM+B,GAAMD,EAAUD,EAAW7B,EAAIA,GAAKwB,EACpCQ,GAAMhC,EAAI6B,EAAWC,EAAU9B,GAAKwB,EAG1C,OAAO,IAAIlB,EACTR,EAASiC,EAAIC,CAAE,EAAI,EACnB,KAAK,MAAMA,EAAID,CAAE,EAAI,CAC3B,CACE,EAOA,MAAS,UAAY,CAInB,MAAMhC,EAAI,KAAK,GACTC,EAAI,KAAK,GAGf,GAAID,IAAM,GAAKC,IAAM,EACnB,OAAO,IAAIM,EAAQ,EAAG,KAAK,GAAK,CAAC,EAGnC,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAIwB,IAAM,EAED,IAAIlB,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,EAAE,MAAQ,EAIrC,IAAIlB,EACRP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAC3B,EAAM,MAAQ,CACZ,EAOA,MAAS,UAAY,CAInB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAGX,GAAID,IAAM,EAER,OAAO,IAAIO,EAAQ,IAAU,CAAC,EAIhC,MAAM2B,EAAM,EAAIlC,EAChB,OAAO,IAAIO,EACT,KAAK,IAAI2B,EAAM,KAAK,KAAKA,EAAMA,EAAM,CAAC,CAAC,EACvC,CACR,CACI,CAEA,MAAMT,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAIwB,IAAM,EAED,IAAIlB,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,EAAE,MAAQ,EAIrC,IAAIlB,EACRP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,MAAQ,CACpC,EAOA,MAAS,UAAY,CAInB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAI,KAAK,SAEP,OAAOM,EAAQ,SAGjB,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAIwB,IAAM,EAED,IAAIlB,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,EAAE,MAAQ,EAIrC,IAAIlB,EACRP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,MAAQ,CACpC,EAOA,QAAW,UAAY,CAGrB,GAAI,KAAK,SACP,OAAOM,EAAQ,SAGjB,GAAI,KAAK,aACP,OAAOA,EAAQ,KAGjB,MAAMP,EAAI,KAAK,GACTC,EAAI,KAAK,GAETwB,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAO,IAAIM,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,CAClC,EAOA,UAAa,UAAY,CAEvB,OAAO,IAAIlB,EAAQ,KAAK,GAAO,CAAC,KAAK,EAAK,CAC5C,EAOA,IAAO,UAAY,CAEjB,OAAO,IAAIA,EAAQ,CAAC,KAAK,GAAO,CAAC,KAAK,EAAK,CAC7C,EAOA,KAAQ,SAAU4B,EAAQ,CAExB,OAAAA,EAAS,KAAK,IAAI,GAAIA,GAAU,CAAC,EAE1B,IAAI5B,EACT,KAAK,KAAK,KAAK,GAAQ4B,CAAM,EAAIA,EACjC,KAAK,KAAK,KAAK,GAAQA,CAAM,EAAIA,CAAM,CAC3C,EAOA,MAAS,SAAUA,EAAQ,CAEzB,OAAAA,EAAS,KAAK,IAAI,GAAIA,GAAU,CAAC,EAE1B,IAAI5B,EACT,KAAK,MAAM,KAAK,GAAQ4B,CAAM,EAAIA,EAClC,KAAK,MAAM,KAAK,GAAQA,CAAM,EAAIA,CAAM,CAC5C,EAOA,MAAS,SAAUA,EAAQ,CAEzB,OAAAA,EAAS,KAAK,IAAI,GAAIA,GAAU,CAAC,EAE1B,IAAI5B,EACT,KAAK,MAAM,KAAK,GAAQ4B,CAAM,EAAIA,EAClC,KAAK,MAAM,KAAK,GAAQA,CAAM,EAAIA,CAAM,CAC5C,EASA,OAAU,SAAUnC,EAAGC,EAAG,CAExB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEpB,OAAO,KAAK,IAAIK,EAAE,GAAQ,KAAK,EAAK,GAAKC,EAAQ,SAC/C,KAAK,IAAID,EAAE,GAAQ,KAAK,EAAK,GAAKC,EAAQ,OAC9C,EAOA,MAAS,UAAY,CAEnB,OAAO,IAAIA,EAAQ,KAAK,GAAO,KAAK,EAAK,CAC3C,EAOA,SAAY,UAAY,CAEtB,IAAIP,EAAI,KAAK,GACTC,EAAI,KAAK,GACTmC,EAAM,GAEV,OAAI,KAAK,QACA,MAGL,KAAK,aACA,YAGL,KAAK,IAAIpC,CAAC,EAAIO,EAAQ,UACxBP,EAAI,GAGF,KAAK,IAAIC,CAAC,EAAIM,EAAQ,UACxBN,EAAI,GAIFA,IAAM,EACDmC,EAAMpC,GAGXA,IAAM,GACRoC,GAAOpC,EACPoC,GAAO,IACHnC,EAAI,GACNA,EAAI,CAACA,EACLmC,GAAO,KAEPA,GAAO,IAETA,GAAO,KACEnC,EAAI,IACbA,EAAI,CAACA,EACLmC,GAAO,KAGCnC,IAAN,IACFmC,GAAOnC,GAEFmC,EAAM,KACf,EAOA,SAAY,UAAY,CAEtB,MAAO,CAAC,KAAK,GAAO,KAAK,EAAK,CAChC,EAOA,QAAW,UAAY,CAErB,OAAI,KAAK,KAAU,EACV,KAAK,GAEP,IACT,EAOA,MAAS,UAAY,CACnB,OAAO,MAAM,KAAK,EAAK,GAAK,MAAM,KAAK,EAAK,CAC9C,EAQA,OAAU,UAAY,CACpB,OAAO,KAAK,KAAU,GAAK,KAAK,KAAU,CAC5C,EAQA,SAAY,UAAY,CACtB,OAAO,SAAS,KAAK,EAAK,GAAK,SAAS,KAAK,EAAK,CACpD,EAQA,WAAc,UAAY,CACxB,MAAO,CAAC,KAAK,SAAW,CAC1B,CACF,EAEA7B,EAAQ,KAAU,IAAIA,EAAQ,EAAG,CAAC,EAClCA,EAAQ,IAAS,IAAIA,EAAQ,EAAG,CAAC,EACjCA,EAAQ,EAAO,IAAIA,EAAQ,EAAG,CAAC,EAC/BA,EAAQ,GAAQ,IAAIA,EAAQ,KAAK,GAAI,CAAC,EACtCA,EAAQ,EAAO,IAAIA,EAAQ,KAAK,EAAG,CAAC,EACpCA,EAAQ,SAAc,IAAIA,EAAQ,IAAU,GAAQ,EACpDA,EAAQ,IAAS,IAAIA,EAAQ,IAAK,GAAG,EACrCA,EAAQ,QAAa,oEC/5CrB,MAAMhB,EAAO,KAAK,MAAQ,SAAUC,EAAG,CACrC,OAAO,KAAK,IAAIA,CAAC,EAAI,KAAO,EAAIA,GAAK,KAAK,IAAIA,CAAC,EAAI,KAAK,IAAI,CAACA,CAAC,GAAK,EACrE,EAEMC,EAAO,KAAK,MAAQ,SAAUD,EAAG,CACrC,OAAO,KAAK,IAAIA,CAAC,EAAI,KAAOA,GAAK,KAAK,IAAIA,CAAC,EAAI,KAAK,IAAI,CAACA,CAAC,GAAK,EACjE,EAQME,EAAQF,GAAK,CAEjB,MAAMG,EAAI,KAAK,IAAI,GAAMH,CAAC,EAC1B,MAAO,GAAKG,EAAIA,CAClB,EAEMC,EAAQ,SAAUJ,EAAGK,EAAG,CAS5B,OAPAL,EAAI,KAAK,IAAIA,CAAC,EACdK,EAAI,KAAK,IAAIA,CAAC,EAGVL,EAAIK,IAAG,CAACL,EAAGK,CAAC,EAAI,CAACA,EAAGL,CAAC,GAGrBA,EAAI,IAAY,KAAK,KAAKA,EAAIA,EAAIK,EAAIA,CAAC,GAG3CA,GAAKL,EACEA,EAAI,KAAK,KAAK,EAAIK,EAAIA,CAAC,EAChC,EAEMC,EAAc,UAAY,CAC9B,MAAM,YAAY,eAAe,CACnC,EASA,SAASC,EAASC,EAAGC,EAAG,CAEtB,MAAMC,EAAK,KAAK,IAAIF,CAAC,EACfG,EAAK,KAAK,IAAIF,CAAC,EAErB,OAAID,IAAM,EACD,KAAK,IAAIG,CAAE,EAGhBF,IAAM,EACD,KAAK,IAAIC,CAAE,EAGhBA,EAAK,KAAQC,EAAK,IACb,KAAK,IAAIH,EAAIA,EAAIC,EAAIA,CAAC,EAAI,IAmCnCD,EAAIA,EAAI,GACRC,EAAIA,EAAI,GAED,GAAM,KAAK,IAAID,EAAIA,EAAIC,EAAIA,CAAC,EAAI,KAAK,IAC9C,CAEA,MAAMG,EAAI,CAAE,GAAM,EAAG,GAAM,CAAC,EACtBC,EAAQ,SAAUL,EAAGC,EAAG,CAE5B,MAAMK,EAAIF,EAEV,GAAuBJ,GAAM,KAC3BM,EAAE,GACAA,EAAE,GAAQ,UACHL,IAAM,OACfK,EAAE,GAAQN,EACVM,EAAE,GAAQL,MAEV,QAAQ,OAAOD,EAAC,CAEd,IAAK,SAEH,GAAI,OAAQA,GAAK,OAAQA,EACvBM,EAAE,GAAQN,EAAE,GACZM,EAAE,GAAQN,EAAE,WACH,QAASA,GAAK,QAASA,EAAG,CACnC,GAAI,CAAC,SAASA,EAAE,GAAM,GAAK,SAASA,EAAE,GAAM,EAC1C,OAAOO,EAAQ,SAEjBD,EAAE,GAAQN,EAAE,IAAS,KAAK,IAAIA,EAAE,GAAM,EACtCM,EAAE,GAAQN,EAAE,IAAS,KAAK,IAAIA,EAAE,GAAM,CAChD,SAAmB,MAAOA,GAAK,QAASA,EAAG,CACjC,GAAI,CAAC,SAASA,EAAE,CAAI,GAAK,SAASA,EAAE,GAAM,EACxC,OAAOO,EAAQ,SAEjBD,EAAE,GAAQN,EAAE,EAAO,KAAK,IAAIA,EAAE,GAAM,EACpCM,EAAE,GAAQN,EAAE,EAAO,KAAK,IAAIA,EAAE,GAAM,CAC9C,MAAmBA,EAAE,SAAW,GACtBM,EAAE,GAAQN,EAAE,CAAC,EACbM,EAAE,GAAQN,EAAE,CAAC,GAEbF,EAAW,EAEb,MAEF,IAAK,SAEHQ,EAAE,GACAA,EAAE,GAAQ,EAEZ,MAAME,EAASR,EAAE,QAAQ,KAAM,EAAE,EAC9B,MAAM,uCAAuC,EAChD,IAAIS,EAAO,EACPC,EAAQ,EAERF,IAAW,MACbV,EAAW,EAGb,QAASa,EAAI,EAAGA,EAAIH,EAAO,OAAQG,IAAK,CAEtC,MAAMC,EAAIJ,EAAOG,CAAC,EAEdC,IAAM,KAAOA,IAAM,KAAQA,IAAM;AAAA,IAE1BA,IAAM,IACfH,IACSG,IAAM,IACfF,IACSE,IAAM,KAAOA,IAAM,KAExBH,EAAOC,IAAU,GACnBZ,EAAW,EAGTU,EAAOG,EAAI,CAAC,IAAM,KAAO,CAAC,MAAMH,EAAOG,EAAI,CAAC,CAAC,GAC/CL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAMF,EAAOG,EAAI,CAAC,CAAC,EAC5DA,KAEAL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAM,GAAG,EAEpDD,EAAOC,EAAQ,KAIXD,EAAOC,IAAU,GAAK,MAAME,CAAC,IAC/Bd,EAAW,EAGTU,EAAOG,EAAI,CAAC,IAAM,KAAOH,EAAOG,EAAI,CAAC,IAAM,KAC7CL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAME,CAAC,EAChDD,KAEAL,EAAE,IAAS,YAAYI,EAAQ,EAAI,IAAM,IAAME,CAAC,EAElDH,EAAOC,EAAQ,GAE3B,CAGYD,EAAOC,EAAQ,GACjBZ,EAAW,EAEb,MAEF,IAAK,SACHQ,EAAE,GAAQ,EACVA,EAAE,GAAQN,EACV,MAEF,QACEF,EAAW,CACnB,CAEE,OAAI,MAAMQ,EAAE,EAAK,GAAK,MAAMA,EAAE,EAAK,EAK5BA,CACT,EAMA,SAASC,EAAQP,EAAGC,EAAG,CAErB,GAAI,EAAE,gBAAgBM,GACpB,OAAO,IAAIA,EAAQP,EAAGC,CAAC,EAGzB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEpB,KAAK,GAAQK,EAAE,GACf,KAAK,GAAQA,EAAE,EACjB,CAEAC,EAAQ,UAAY,CAElB,GAAM,EACN,GAAM,EAON,KAAQ,UAAY,CAElB,MAAMM,EAAMjB,EAAM,KAAK,GAAO,KAAK,EAAK,EAExC,OAAO,IAAIW,EACT,KAAK,GAAQM,EACb,KAAK,GAAQA,CAAG,CACtB,EAOE,IAAO,SAAUb,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAEtD,OAAIQ,GAAUC,EAERD,GAAUC,EAELR,EAAQ,IAGVA,EAAQ,SAGV,IAAIA,EACT,KAAK,GAAQD,EAAE,GACf,KAAK,GAAQA,EAAE,EAAK,CAC1B,EAOE,IAAO,SAAUN,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAEtD,OAAIQ,GAAUC,EAERD,GAAUC,EAELR,EAAQ,IAGVA,EAAQ,SAGV,IAAIA,EACT,KAAK,GAAQD,EAAE,GACf,KAAK,GAAQA,EAAE,EAAK,CAC1B,EAOE,IAAO,SAAUN,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAChDU,EAAU,KAAK,KAAU,GAAK,KAAK,KAAU,EAC7CC,EAAUX,EAAE,KAAU,GAAKA,EAAE,KAAU,EAG7C,OAAIQ,GAAUG,GAAWF,GAAUC,EAC1BT,EAAQ,IAIbO,GAAUC,EACLR,EAAQ,SAIbD,EAAE,KAAU,GAAK,KAAK,KAAU,EAC3B,IAAIC,EAAQ,KAAK,GAAQD,EAAE,GAAO,CAAC,EAGrC,IAAIC,EACT,KAAK,GAAQD,EAAE,GAAQ,KAAK,GAAQA,EAAE,GACtC,KAAK,GAAQA,EAAE,GAAQ,KAAK,GAAQA,EAAE,EAAK,CACjD,EAOE,IAAO,SAAUN,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEda,EAAS,KAAK,WAAa,EAC3BC,EAAS,EAAE,SAAST,EAAE,EAAK,GAAK,SAASA,EAAE,EAAK,GAChDU,EAAU,KAAK,KAAU,GAAK,KAAK,KAAU,EAC7CC,EAAUX,EAAE,KAAU,GAAKA,EAAE,KAAU,EAG7C,GAAIU,GAAWC,GAAWH,GAAUC,EAClC,OAAOR,EAAQ,IAIjB,GAAIU,GAAWH,EACb,OAAOP,EAAQ,SAIjB,GAAIS,GAAWD,EACb,OAAOR,EAAQ,KAGjB,GAAUD,EAAE,KAAR,EAEF,OAAO,IAAIC,EAAQ,KAAK,GAAQD,EAAE,GAAO,KAAK,GAAQA,EAAE,EAAK,EAG/D,GAAI,KAAK,IAAIA,EAAE,EAAK,EAAI,KAAK,IAAIA,EAAE,EAAK,EAAG,CAEzC,MAAMd,EAAIc,EAAE,GAAQA,EAAE,GAChBY,EAAIZ,EAAE,GAAQd,EAAIc,EAAE,GAE1B,OAAO,IAAIC,GACR,KAAK,GAAQf,EAAI,KAAK,IAAS0B,GAC/B,KAAK,GAAQ1B,EAAI,KAAK,IAAS0B,CAAC,CAEzC,KAAW,CAEL,MAAM1B,EAAIc,EAAE,GAAQA,EAAE,GAChBY,EAAIZ,EAAE,GAAQd,EAAIc,EAAE,GAE1B,OAAO,IAAIC,GACR,KAAK,GAAQ,KAAK,GAAQf,GAAK0B,GAC/B,KAAK,GAAQ,KAAK,GAAQ1B,GAAK0B,CAAC,CACzC,CACA,EAOE,IAAO,SAAUlB,EAAGC,EAAG,CAErB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEde,EAAU,KAAK,KAAU,GAAK,KAAK,KAAU,EAGnD,GAFgBV,EAAE,KAAU,GAAKA,EAAE,KAAU,EAG3C,OAAOC,EAAQ,IAIjB,GAAID,EAAE,KAAU,EAAG,CAEjB,GAAI,KAAK,KAAU,GAAK,KAAK,GAAQ,EAEnC,OAAO,IAAIC,EAAQ,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,EAAG,CAAC,EAE9C,GAAI,KAAK,KAAU,EAExB,QAASA,EAAE,GAAQ,EAAI,GAAK,EAAC,CAC3B,IAAK,GACH,OAAO,IAAIC,EAAQ,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,EAAG,CAAC,EACrD,IAAK,GACH,OAAO,IAAIC,EAAQ,EAAG,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,CAAC,EACrD,IAAK,GACH,OAAO,IAAIC,EAAQ,CAAC,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,EAAG,CAAC,EACtD,IAAK,GACH,OAAO,IAAIC,EAAQ,EAAG,CAAC,KAAK,IAAI,KAAK,GAAOD,EAAE,EAAK,CAAC,CAChE,CAEA,CAqBI,GAAIU,GAAWV,EAAE,GAAQ,EACvB,OAAOC,EAAQ,KAGjB,MAAMY,EAAM,KAAK,MAAM,KAAK,GAAO,KAAK,EAAK,EACvCC,EAAMrB,EAAS,KAAK,GAAO,KAAK,EAAK,EAE3C,IAAIsB,EAAK,KAAK,IAAIf,EAAE,GAAQc,EAAMd,EAAE,GAAQa,CAAG,EAC3CG,EAAKhB,EAAE,GAAQc,EAAMd,EAAE,GAAQa,EACnC,OAAO,IAAIZ,EACTc,EAAK,KAAK,IAAIC,CAAE,EAChBD,EAAK,KAAK,IAAIC,CAAE,CAAC,CACvB,EAOE,KAAQ,UAAY,CAElB,MAAMtB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAER,OAAID,GAAK,EACA,IAAIO,EAAQ,KAAK,KAAKP,CAAC,EAAG,CAAC,EAE3B,IAAIO,EAAQ,EAAG,KAAK,KAAK,CAACP,CAAC,CAAC,EAIvC,MAAM,EAAIJ,EAAMI,EAAGC,CAAC,EAEpB,IAAIoB,EAAK,KAAK,KAAK,IAAO,EAAI,KAAK,IAAIrB,CAAC,EAAE,EACtCsB,EAAK,KAAK,IAAIrB,CAAC,GAAK,EAAIoB,GAE5B,OAAIrB,GAAK,EACA,IAAIO,EAAQc,EAAIpB,EAAI,EAAI,CAACqB,EAAKA,CAAE,EAEhC,IAAIf,EAAQe,EAAIrB,EAAI,EAAI,CAACoB,EAAKA,CAAE,CAE7C,EAOE,IAAO,UAAY,CAEjB,MAAMG,EAAK,KAAK,IAAI,KAAK,EAAK,EAE9B,OAAI,KAAK,KAAU,EACV,IAAIjB,EAAQiB,EAAI,CAAC,EAEnB,IAAIjB,EACTiB,EAAK,KAAK,IAAI,KAAK,EAAK,EACxBA,EAAK,KAAK,IAAI,KAAK,EAAK,CAAC,CAC/B,EAUE,MAAS,UAAY,CAQnB,MAAMxB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACT,KAAK,MAAMP,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIP,EAAMO,CAAC,EACrC,KAAK,IAAID,CAAC,EAAI,KAAK,IAAIC,CAAC,CAAC,CAC/B,EAOE,IAAO,UAAY,CAEjB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAIA,IAAM,GAAKD,EAAI,EACV,IAAIO,EAAQ,KAAK,IAAIP,CAAC,EAAG,CAAC,EAG5B,IAAIO,EACTR,EAASC,EAAGC,CAAC,EACb,KAAK,MAAMA,EAAGD,CAAC,CAAC,CACtB,EAOE,IAAO,UAAY,CAEjB,OAAOJ,EAAM,KAAK,GAAO,KAAK,EAAK,CACvC,EAOE,IAAO,UAAY,CAEjB,OAAO,KAAK,MAAM,KAAK,GAAO,KAAK,EAAK,CAC5C,EAOE,IAAO,UAAY,CAKjB,MAAMI,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EACpB,KAAK,IAAID,CAAC,EAAIP,EAAKQ,CAAC,CAAC,CAC3B,EAOE,IAAO,UAAY,CAKjB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EACpB,CAAC,KAAK,IAAID,CAAC,EAAIP,EAAKQ,CAAC,CAAC,CAC5B,EAOE,IAAO,UAAY,CAOjB,MAAMD,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAI,KAAK,IAAIzB,CAAC,EAAIT,EAAKU,CAAC,EAE9B,OAAO,IAAIM,EACT,KAAK,IAAIP,CAAC,EAAIyB,EACdhC,EAAKQ,CAAC,EAAIwB,CAAC,CACjB,EAOE,IAAO,UAAY,CAIjB,MAAMzB,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAI,KAAK,IAAIzB,CAAC,EAAIT,EAAKU,CAAC,EAE9B,OAAO,IAAIM,EACT,CAAC,KAAK,IAAIP,CAAC,EAAIyB,EACfhC,EAAKQ,CAAC,EAAIwB,CAAC,CACjB,EAOE,IAAO,UAAY,CAIjB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,GAAMlC,EAAK,EAAIU,CAAC,EAAI,GAAM,KAAK,IAAI,EAAID,CAAC,EAElD,OAAO,IAAIO,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EAAIwB,EACxB,KAAK,IAAIzB,CAAC,EAAIP,EAAKQ,CAAC,EAAIwB,CAAC,CAC/B,EAOE,IAAO,UAAY,CAIjB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,GAAMlC,EAAK,EAAIU,CAAC,EAAI,GAAM,KAAK,IAAI,EAAID,CAAC,EAElD,OAAO,IAAIO,EACT,KAAK,IAAIP,CAAC,EAAIT,EAAKU,CAAC,EAAIwB,EACxB,CAAC,KAAK,IAAIzB,CAAC,EAAIP,EAAKQ,CAAC,EAAIwB,CAAC,CAChC,EAOE,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GAETyB,EAAK,IAAInB,EACbN,EAAIA,EAAID,EAAIA,EAAI,EAChB,GAAKA,EAAIC,CAAC,EAAE,KAAO,EAEf0B,EAAK,IAAIpB,EACbmB,EAAG,GAAQzB,EACXyB,EAAG,GAAQ1B,CAAC,EAAE,IAAM,EAEtB,OAAO,IAAIO,EAAQoB,EAAG,GAAO,CAACA,EAAG,EAAK,CAC1C,EAOE,KAAQ,UAAY,CAIlB,MAAM3B,EAAI,KAAK,GACTC,EAAI,KAAK,GAETyB,EAAK,IAAInB,EACbN,EAAIA,EAAID,EAAIA,EAAI,EAChB,GAAKA,EAAIC,CAAC,EAAE,KAAO,EAEf0B,EAAK,IAAIpB,EACbmB,EAAG,GAAQzB,EACXyB,EAAG,GAAQ1B,CAAC,EAAE,IAAM,EAEtB,OAAO,IAAIO,EAAQ,KAAK,GAAK,EAAIoB,EAAG,GAAOA,EAAG,EAAK,CACvD,EAOE,KAAQ,UAAY,CAIlB,MAAM3B,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAID,IAAM,EAAG,CAEX,GAAIC,IAAM,EACR,OAAO,IAAIM,EAAQ,EAAG,GAAQ,EAGhC,GAAIN,IAAM,GACR,OAAO,IAAIM,EAAQ,EAAG,IAAS,CAEvC,CAEI,MAAMkB,EAAIzB,EAAIA,GAAK,EAAMC,IAAM,EAAMA,GAE/ByB,EAAK,IAAInB,GACZ,EAAIN,EAAIA,EAAID,EAAIA,GAAKyB,EACtB,GAAKzB,EAAIyB,CAAC,EAAE,IAAG,EAEjB,OAAO,IAAIlB,EAAQ,IAAOmB,EAAG,GAAO,GAAMA,EAAG,EAAK,CACtD,EAOE,KAAQ,UAAY,CAIlB,MAAM1B,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EACR,OAAO,IAAIM,EAAQ,KAAK,MAAM,EAAGP,CAAC,EAAG,CAAC,EAGxC,MAAMyB,EAAIzB,EAAIA,EAAIC,EAAIA,EACtB,OAAQwB,IAAM,EACV,IAAIlB,EACJP,EAAIyB,EACJ,CAACxB,EAAIwB,CAAC,EAAE,KAAI,EACZ,IAAIlB,EACHP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,KAAI,CACpC,EAOE,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAID,IAAM,GAAKC,IAAM,EACnB,OAAO,IAAIM,EAAQ,EAAG,GAAQ,EAGhC,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EACtB,OAAQwB,IAAM,EACV,IAAIlB,EACJP,EAAIyB,EACJ,CAACxB,EAAIwB,CAAC,EAAE,KAAI,EACZ,IAAIlB,EACHP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,KAAI,CACpC,EAOE,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAID,IAAM,GAAKC,IAAM,EACnB,OAAO,IAAIM,EAAQ,KAAK,GAAK,EAAG,GAAQ,EAG1C,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EACtB,OAAQwB,IAAM,EACV,IAAIlB,EACJP,EAAIyB,EACJ,CAACxB,EAAIwB,CAAC,EAAE,KAAI,EACZ,IAAIlB,EACHP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,KAAI,CACpC,EAOE,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACTd,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,EACpBV,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,CAAC,CAC3B,EAOE,KAAQ,UAAY,CAIlB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,OAAO,IAAIM,EACThB,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EACpBR,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,CAAC,CAC3B,EAOE,KAAQ,UAAY,CAIlB,MAAMD,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAIlC,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAE9B,OAAO,IAAIM,EACTd,EAAKO,CAAC,EAAIyB,EACV,KAAK,IAAIxB,CAAC,EAAIwB,CAAC,CACrB,EAOE,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,EAAI,KAAK,GACbC,EAAI,EAAI,KAAK,GACbwB,EAAIlC,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAE9B,OAAO,IAAIM,EACTd,EAAKO,CAAC,EAAIyB,EACV,CAAC,KAAK,IAAIxB,CAAC,EAAIwB,CAAC,CACtB,EAOE,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,KAAK,IAAI,EAAIxB,CAAC,EAAIV,EAAK,EAAIS,CAAC,EAEtC,OAAO,IAAIO,EACT,GAAKd,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,EAC7B,EAAIlC,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,CAAC,CACnC,EAOE,KAAQ,UAAY,CAIlB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GACTwB,EAAI,KAAK,IAAI,EAAIxB,CAAC,EAAIV,EAAK,EAAIS,CAAC,EAEtC,OAAO,IAAIO,EACT,EAAIhB,EAAKS,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,EAC5B,GAAKhC,EAAKO,CAAC,EAAI,KAAK,IAAIC,CAAC,EAAIwB,CAAC,CACpC,EAOE,MAAS,UAAY,CAInB,MAAMzB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAEX,GAAID,IAAM,EACR,OAAO,IAAIO,EAAQ,EAAG,CAAC,EAIzB,MAAMf,EAAI,KAAK,IAAIQ,CAAC,EACduB,EAAI,KAAK,IAAI/B,EAAI,KAAK,KAAKA,EAAIA,EAAI,CAAC,CAAC,EAE3C,OAAO,IAAIe,EAAQP,EAAI,EAAI,CAACuB,EAAIA,EAAG,CAAC,CAC1C,CAGI,MAAMK,EAAM5B,EAAIA,EAAIC,EAAIA,EAAI,EACtB4B,EAAM,EAAI7B,EAAIC,EAEdiB,EAAI,IAAIX,EAAQqB,EAAKC,CAAG,EAAE,OAEhC,OAAO,IAAItB,EAAQP,EAAIkB,EAAE,GAAOjB,EAAIiB,EAAE,EAAK,EAAE,IAAM,CACvD,EAOE,MAAS,UAAY,CAInB,MAAMlB,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAGX,GAAID,EAAI,EAEN,OAAO,IAAIO,EACT,KAAK,IAAIP,EAAI,KAAK,KAAKA,EAAI,CAAC,EAAI,KAAK,KAAKA,EAAI,CAAC,CAAC,EAAG,CAAC,EAGxD,GAAIA,EAAI,GAAI,CAEV,MAAMkB,EAAI,KAAK,KAAKlB,EAAIA,EAAI,CAAC,EAC7B,OAAO,IAAIO,EAAQ,KAAK,IAAI,CAACP,EAAIkB,CAAC,EAAG,KAAK,EAAE,CACpD,CAIM,OAAO,IAAIX,EAAQ,EAAG,KAAK,KAAKP,CAAC,CAAC,CACxC,CAEI,MAAM0B,EAAK,IAAInB,EAAQP,EAAI,EAAGC,CAAC,EAAE,OAC3B0B,EAAK,IAAIpB,EAAQP,EAAI,EAAGC,CAAC,EAAE,OAEjC,OAAO,IAAIM,EACTP,EAAI0B,EAAG,GAAQC,EAAG,GAAQD,EAAG,GAAQC,EAAG,GACxC1B,EAAIyB,EAAG,GAAQC,EAAG,GAAQD,EAAG,GAAQC,EAAG,IACxC,IAAM,CACZ,EAOE,MAAS,UAAY,CAInB,MAAM3B,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAEX,GAAID,IAAM,EACR,OAAO,IAAIO,EAAQ,EAAG,CAAC,EAGzB,GAAIP,IAAM,EAER,OAAO,IAAIO,EAAQ,IAAU,CAAC,EAGhC,GAAIP,IAAM,GAER,OAAO,IAAIO,EAAQ,KAAW,CAAC,EAGjC,GAAI,GAAKP,GAAKA,EAAI,EAEhB,OAAO,IAAIO,EACT,GAAM,KAAK,KAAK,EAAIP,IAAM,EAAIA,EAAE,EAChC,GAIJ,GAAIA,EAAI,EAAG,CAET,MAAMkB,GAAKlB,EAAI,IAAMA,EAAI,GACzB,OAAO,IAAIO,EACT,GAAM,KAAK,IAAIW,CAAC,EAChB,CAAC,KAAK,GAAK,EAErB,CAGM,MAAMA,GAAK,EAAIlB,IAAM,EAAIA,GACzB,OAAO,IAAIO,EACT,GAAM,KAAK,IAAI,CAACW,CAAC,EACjB,KAAK,GAAK,EAElB,CAGI,MAAMY,EAAW,EAAI9B,EACf+B,EAAU,EAAI/B,EACdyB,EAAIK,EAAWA,EAAW7B,EAAIA,EAEpC,GAAIwB,IAAM,EAGR,OAAO,IAAIlB,EACRP,IAAM,GAAOA,EAAI,EAAK,EACtBC,IAAM,EAAMA,EAAI,EAAK,GAK1B,MAAM+B,GAAMD,EAAUD,EAAW7B,EAAIA,GAAKwB,EACpCQ,GAAMhC,EAAI6B,EAAWC,EAAU9B,GAAKwB,EAG1C,OAAO,IAAIlB,EACTR,EAASiC,EAAIC,CAAE,EAAI,EACnB,KAAK,MAAMA,EAAID,CAAE,EAAI,EAE3B,EAOE,MAAS,UAAY,CAInB,MAAMhC,EAAI,KAAK,GACTC,EAAI,KAAK,GAGf,GAAID,IAAM,GAAKC,IAAM,EACnB,OAAO,IAAIM,EAAQ,EAAG,KAAK,GAAK,CAAC,EAGnC,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAIwB,IAAM,EAED,IAAIlB,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,EAAE,MAAQ,EAIrC,IAAIlB,EACRP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,GACrB,MAAQ,CACd,EAOE,MAAS,UAAY,CAInB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAIA,IAAM,EAAG,CAGX,GAAID,IAAM,EAER,OAAO,IAAIO,EAAQ,IAAU,CAAC,EAIhC,MAAM2B,EAAM,EAAIlC,EAChB,OAAO,IAAIO,EACT,KAAK,IAAI2B,EAAM,KAAK,KAAKA,EAAMA,EAAM,CAAC,CAAC,EACvC,EAER,CAEI,MAAMT,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAIwB,IAAM,EAED,IAAIlB,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,EAAE,MAAQ,EAIrC,IAAIlB,EACRP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,MAAQ,CACtC,EAOE,MAAS,UAAY,CAInB,MAAMD,EAAI,KAAK,GACTC,EAAI,KAAK,GAEf,GAAI,KAAK,SAEP,OAAOM,EAAQ,SAGjB,MAAMkB,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAIwB,IAAM,EAED,IAAIlB,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,EAAE,MAAQ,EAIrC,IAAIlB,EACRP,IAAM,EAAKA,EAAI,EAAI,EACnBC,IAAM,EAAK,CAACA,EAAI,EAAI,CAAC,EAAE,MAAQ,CACtC,EAOE,QAAW,UAAY,CAGrB,GAAI,KAAK,SACP,OAAOM,EAAQ,SAGjB,GAAI,KAAK,aACP,OAAOA,EAAQ,KAGjB,MAAMP,EAAI,KAAK,GACTC,EAAI,KAAK,GAETwB,EAAIzB,EAAIA,EAAIC,EAAIA,EAEtB,OAAO,IAAIM,EAAQP,EAAIyB,EAAG,CAACxB,EAAIwB,CAAC,CACpC,EAOE,UAAa,UAAY,CAEvB,OAAO,IAAIlB,EAAQ,KAAK,GAAO,CAAC,KAAK,EAAK,CAC9C,EAOE,IAAO,UAAY,CAEjB,OAAO,IAAIA,EAAQ,CAAC,KAAK,GAAO,CAAC,KAAK,EAAK,CAC/C,EAOE,KAAQ,SAAU4B,EAAQ,CAExB,OAAAA,EAAS,KAAK,IAAI,GAAIA,GAAU,CAAC,EAE1B,IAAI5B,EACT,KAAK,KAAK,KAAK,GAAQ4B,CAAM,EAAIA,EACjC,KAAK,KAAK,KAAK,GAAQA,CAAM,EAAIA,CAAM,CAC7C,EAOE,MAAS,SAAUA,EAAQ,CAEzB,OAAAA,EAAS,KAAK,IAAI,GAAIA,GAAU,CAAC,EAE1B,IAAI5B,EACT,KAAK,MAAM,KAAK,GAAQ4B,CAAM,EAAIA,EAClC,KAAK,MAAM,KAAK,GAAQA,CAAM,EAAIA,CAAM,CAC9C,EAOE,MAAS,SAAUA,EAAQ,CAEzB,OAAAA,EAAS,KAAK,IAAI,GAAIA,GAAU,CAAC,EAE1B,IAAI5B,EACT,KAAK,MAAM,KAAK,GAAQ4B,CAAM,EAAIA,EAClC,KAAK,MAAM,KAAK,GAAQA,CAAM,EAAIA,CAAM,CAC9C,EASE,OAAU,SAAUnC,EAAGC,EAAG,CAExB,MAAMK,EAAID,EAAML,EAAGC,CAAC,EAEpB,OAAO,KAAK,IAAIK,EAAE,GAAQ,KAAK,EAAK,GAAKC,EAAQ,SAC/C,KAAK,IAAID,EAAE,GAAQ,KAAK,EAAK,GAAKC,EAAQ,OAChD,EAOE,MAAS,UAAY,CAEnB,OAAO,IAAIA,EAAQ,KAAK,GAAO,KAAK,EAAK,CAC7C,EAOE,SAAY,UAAY,CAEtB,IAAIP,EAAI,KAAK,GACTC,EAAI,KAAK,GACTmC,EAAM,GAEV,OAAI,KAAK,QACA,MAGL,KAAK,aACA,YAGL,KAAK,IAAIpC,CAAC,EAAIO,EAAQ,UACxBP,EAAI,GAGF,KAAK,IAAIC,CAAC,EAAIM,EAAQ,UACxBN,EAAI,GAIFA,IAAM,EACDmC,EAAMpC,GAGXA,IAAM,GACRoC,GAAOpC,EACPoC,GAAO,IACHnC,EAAI,GACNA,EAAI,CAACA,EACLmC,GAAO,KAEPA,GAAO,IAETA,GAAO,KACEnC,EAAI,IACbA,EAAI,CAACA,EACLmC,GAAO,KAGCnC,IAAN,IACFmC,GAAOnC,GAEFmC,EAAM,KACjB,EAOE,SAAY,UAAY,CAEtB,MAAO,CAAC,KAAK,GAAO,KAAK,EAAK,CAClC,EAOE,QAAW,UAAY,CAErB,OAAI,KAAK,KAAU,EACV,KAAK,GAEP,IACX,EAOE,MAAS,UAAY,CACnB,OAAO,MAAM,KAAK,EAAK,GAAK,MAAM,KAAK,EAAK,CAChD,EAQE,OAAU,UAAY,CACpB,OAAO,KAAK,KAAU,GAAK,KAAK,KAAU,CAC9C,EAQE,SAAY,UAAY,CACtB,OAAO,SAAS,KAAK,EAAK,GAAK,SAAS,KAAK,EAAK,CACtD,EAQE,WAAc,UAAY,CACxB,MAAO,CAAC,KAAK,SAAW,CAC5B,GAGA7B,EAAQ,KAAU,IAAIA,EAAQ,EAAG,CAAC,EAClCA,EAAQ,IAAS,IAAIA,EAAQ,EAAG,CAAC,EACjCA,EAAQ,EAAO,IAAIA,EAAQ,EAAG,CAAC,EAC/BA,EAAQ,GAAQ,IAAIA,EAAQ,KAAK,GAAI,CAAC,EACtCA,EAAQ,EAAO,IAAIA,EAAQ,KAAK,EAAG,CAAC,EACpCA,EAAQ,SAAc,IAAIA,EAAQ,IAAU,GAAQ,EACpDA,EAAQ,IAAS,IAAIA,EAAQ,IAAK,GAAG,EACrCA,EAAQ,QAAa,MAErB,OAAO,eAAeA,EAAS,aAAc,CAAE,MAAS,GAAM,EAC9DA,EAAQ,QAAaA,EACrBA,EAAQ,QAAaA,EACrB8B,EAAO,QAAa9B","x_google_ignoreList":[0,1]}