var _e={exports:{}},nr;function kt(){return nr||(nr=1,(function(ar,Rt){(function(I){ar.exports=I()})(function(){var I=["navigation","request","process","log","user","state","error","manual"],x=function(e,r,n){for(var t=n,a=0,o=e.length;a<o;a++)t=r(t,e[a],a,e);return t},E=function(e,r){return x(e,function(n,t,a,o){return r(t,a,o)?n.concat(t):n},[])},$=function(e,r){return x(e,function(n,t,a,o){return n===!0||t===r},!1)},w=function(e){return Object.prototype.toString.call(e)==="[object Array]"},ir=!{toString:null}.propertyIsEnumerable("toString"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=function(e){var r=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(n);if(!ir)return r;for(var t=0,a=z.length;t<a;t++)Object.prototype.hasOwnProperty.call(e,z[t])&&r.push(z[t]);return r},ve=function(e,r){return e===void 0&&(e=1),function(n){return typeof n=="number"&&parseInt(""+n,10)===n&&n>=e&&n<=r}},W=function(e){return typeof e=="function"||w(e)&&E(e,function(r){return typeof r=="function"}).length===e.length},M=function(e){return typeof e=="string"&&!!e.length},H={},me=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};H.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:M},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||M(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||M(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledErrorTypes:{defaultValue:function(){return me()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if(typeof e!="object"||!e)return!1;var r=D(e),n=D(me());return!(E(r,function(t){return $(n,t)}).length<r.length||E(D(e),function(t){return typeof e[t]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:W},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:W},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:W},endpoints:{defaultValue:function(e){return typeof e>"u"?{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}:{notify:null,sessions:null}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&typeof e=="object"&&M(e.notify)&&M(e.sessions)&&E(D(e),function(r){return!$(["notify","sessions"],r)}).length===0}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return e===null||w(e)&&E(e,function(r){return typeof r=="string"}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return typeof e=="string"&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(e){return ve(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return I},message:"should be null or a list of available breadcrumb types ("+I.join(",")+")",validate:function(e){return e===null||w(e)&&x(e,function(r,n){return r===!1?r:$(I,n)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return e===void 0||typeof e=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return e===null||e&&x(D(e),function(r,n){return r&&$(["id","email","name"],n)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return typeof e=="object"&&e!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&x(["debug","info","warn","error"],function(r,n){return r&&typeof e[n]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return w(e)&&e.length===E(e,function(r){return typeof r=="string"||r&&typeof r.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return w(e)&&e.length===E(e,function(r){return r&&typeof r=="object"&&typeof r.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return w(e)&&e.length===E(e,function(r){return r&&typeof r=="object"&&typeof r.name=="string"}).length}},reportUnhandledPromiseRejectionsAsHandled:{defaultValue:function(){return!1},message:"should be true|false",validate:function(e){return e===!0||e===!1}},sendPayloadChecksums:{defaultValue:function(){return!1},message:"should be true|false",validate:function(e){return e===!0||e===!1}}};var b=function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},N=function(e,r){return x(e,function(n,t,a,o){return n.concat(r(t,a,o))},[])};function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},Y.apply(null,arguments)}var Q=H.schema,or={releaseStage:b({},Q.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:Y({},Q.appType,{defaultValue:function(){return"browser"}}),logger:b({},Q.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?sr():void 0}})},sr=function(){var e={},r=console.log;return N(["debug","info","warn","error"],function(n){var t=console[n];e[n]=typeof t=="function"?t.bind(console,"[bugsnag]"):r.bind(console,"[bugsnag]")}),e},ur=(function(){function e(n,t,a,o){o===void 0&&(o=new Date),this.type=a,this.message=n,this.metadata=t,this.timestamp=o}var r=e.prototype;return r.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e})(),Z=ur,q={};(function(e,r){typeof q=="object"?q=r():e.StackFrame=r()})(this,function(){function e(l){return!isNaN(parseFloat(l))&&isFinite(l)}function r(l){return l.charAt(0).toUpperCase()+l.substring(1)}function n(l){return function(){return this[l]}}var t=["isConstructor","isEval","isNative","isToplevel"],a=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=["args"],u=["evalOrigin"],s=t.concat(a,o,i,u);function c(l){if(l)for(var h=0;h<s.length;h++)l[s[h]]!==void 0&&this["set"+r(s[h])](l[s[h]])}c.prototype={getArgs:function(){return this.args},setArgs:function(l){if(Object.prototype.toString.call(l)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=l},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(l){if(l instanceof c)this.evalOrigin=l;else if(l instanceof Object)this.evalOrigin=new c(l);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var l=this.getFileName()||"",h=this.getLineNumber()||"",v=this.getColumnNumber()||"",g=this.getFunctionName()||"";return this.getIsEval()?l?"[eval] ("+l+":"+h+":"+v+")":"[eval]:"+h+":"+v:g?g+" ("+l+":"+h+":"+v+")":l+":"+h+":"+v}},c.fromString=function(h){var v=h.indexOf("("),g=h.lastIndexOf(")"),_=h.substring(0,v),y=h.substring(v+1,g).split(","),m=h.substring(g+1);if(m.indexOf("@")===0)var O=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m,""),S=O[1],A=O[2],j=O[3];return new c({functionName:_,args:y||void 0,fileName:S,lineNumber:A||void 0,columnNumber:j||void 0})};for(var f=0;f<t.length;f++)c.prototype["get"+r(t[f])]=n(t[f]),c.prototype["set"+r(t[f])]=(function(l){return function(h){this[l]=!!h}})(t[f]);for(var d=0;d<a.length;d++)c.prototype["get"+r(a[d])]=n(a[d]),c.prototype["set"+r(a[d])]=(function(l){return function(h){if(!e(h))throw new TypeError(l+" must be a Number");this[l]=Number(h)}})(a[d]);for(var p=0;p<o.length;p++)c.prototype["get"+r(o[p])]=n(o[p]),c.prototype["set"+r(o[p])]=(function(l){return function(h){this[l]=String(h)}})(o[p]);return c});var ee={};(function(e,r){typeof ee=="object"?ee=r(q):e.StackGenerator=r(e.StackFrame)})(this,function(e){return{backtrace:function(n){var t=[],a=10;typeof n=="object"&&typeof n.maxStackSize=="number"&&(a=n.maxStackSize);for(var o=arguments.callee;o&&t.length<a&&o.arguments;){for(var i=new Array(o.arguments.length),u=0;u<i.length;++u)i[u]=o.arguments[u];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?t.push(new e({functionName:RegExp.$1||void 0,args:i})):t.push(new e({args:i}));try{o=o.caller}catch{break}}return t}}});var re={};(function(e,r){typeof re=="object"?re=r(q):e.ErrorStackParser=r(e.StackFrame)})(this,function(r){var n=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,a=/^(eval@)?(\[native code])?$/;return{parse:function(i){if(typeof i.stacktrace<"u"||typeof i["opera#sourceloc"]<"u")return this.parseOpera(i);if(i.stack&&i.stack.match(t))return this.parseV8OrIE(i);if(i.stack)return this.parseFFOrSafari(i);throw new Error("Cannot parse given Error object")},extractLocation:function(i){if(i.indexOf(":")===-1)return[i];var u=/(.+?)(?::(\d+))?(?::(\d+))?$/,s=u.exec(i.replace(/[()]/g,""));return[s[1],s[2]||void 0,s[3]||void 0]},parseV8OrIE:function(i){var u=i.stack.split(`
`).filter(function(s){return!!s.match(t)},this);return u.map(function(s){s.indexOf("(eval ")>-1&&(s=s.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var c=s.replace(/^\s+/,"").replace(/\(eval code/g,"("),f=c.match(/ (\((.+):(\d+):(\d+)\)$)/);c=f?c.replace(f[0],""):c;var d=c.split(/\s+/).slice(1),p=this.extractLocation(f?f[1]:d.pop()),l=d.join(" ")||void 0,h=["eval","<anonymous>"].indexOf(p[0])>-1?void 0:p[0];return new r({functionName:l,fileName:h,lineNumber:p[1],columnNumber:p[2],source:s})},this)},parseFFOrSafari:function(i){var u=i.stack.split(`
`).filter(function(s){return!s.match(a)},this);return u.map(function(s){if(s.indexOf(" > eval")>-1&&(s=s.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),s.indexOf("@")===-1&&s.indexOf(":")===-1)return new r({functionName:s});var c=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=s.match(c),d=f&&f[1]?f[1]:void 0,p=this.extractLocation(s.replace(c,""));return new r({functionName:d,fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:s})},this)},parseOpera:function(i){return!i.stacktrace||i.message.indexOf(`
`)>-1&&i.message.split(`
`).length>i.stacktrace.split(`
`).length?this.parseOpera9(i):i.stack?this.parseOpera11(i):this.parseOpera10(i)},parseOpera9:function(i){for(var u=/Line (\d+).*script (?:in )?(\S+)/i,s=i.message.split(`
`),c=[],f=2,d=s.length;f<d;f+=2){var p=u.exec(s[f]);p&&c.push(new r({fileName:p[2],lineNumber:p[1],source:s[f]}))}return c},parseOpera10:function(i){for(var u=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=i.stacktrace.split(`
`),c=[],f=0,d=s.length;f<d;f+=2){var p=u.exec(s[f]);p&&c.push(new r({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:s[f]}))}return c},parseOpera11:function(i){var u=i.stack.split(`
`).filter(function(s){return!!s.match(n)&&!s.match(/^Error created at/)},this);return u.map(function(s){var c=s.split("@"),f=this.extractLocation(c.pop()),d=c.shift()||"",p=d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,l;d.match(/\(([^)]*)\)/)&&(l=d.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var h=l===void 0||l==="[arguments not available]"?void 0:l.split(",");return new r({functionName:p,args:h,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:s})},this)}}});var ye=re,V=function(e,r,n,t){var a=t&&t.redactedKeys?t.redactedKeys:[],o=t&&t.redactedPaths?t.redactedPaths:[];return JSON.stringify(mr(e,a,o),r,n)},cr=20,fr=25e3,dr=8,U="...";function lr(e){return e instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(e))}function be(e){return"[Throws: "+(e?e.message:"?")+"]"}function gr(e,r){for(var n=0,t=e.length;n<t;n++)if(e[n]===r)return!0;return!1}function hr(e,r){for(var n=0,t=e.length;n<t;n++)if(r.indexOf(e[n])===0)return!0;return!1}function pr(e,r){for(var n=0,t=e.length;n<t;n++)if(typeof e[n]=="string"&&e[n].toLowerCase()===r.toLowerCase()||e[n]&&typeof e[n].test=="function"&&e[n].test(r))return!0;return!1}function _r(e){return Object.prototype.toString.call(e)==="[object Array]"}function vr(e,r){try{return e[r]}catch(n){return be(n)}}function mr(e,r,n){var t=[],a=0;function o(i,u){function s(){return u.length>dr&&a>fr}if(a++,u.length>cr||s())return U;if(i===null||typeof i!="object")return i;if(gr(t,i))return"[Circular]";if(t.push(i),typeof i.toJSON=="function")try{a--;var c=o(i.toJSON(),u);return t.pop(),c}catch(_){return be(_)}var f=lr(i);if(f){a--;var d=o({name:i.name,message:i.message},u);return t.pop(),d}if(_r(i)){for(var p=[],l=0,h=i.length;l<h;l++){if(s()){p.push(U);break}p.push(o(i[l],u.concat("[]")))}return t.pop(),p}var v={};try{for(var g in i)if(Object.prototype.hasOwnProperty.call(i,g)){if(hr(n,u.join("."))&&pr(r,g)){v[g]="[REDACTED]";continue}if(s()){v[g]=U;break}v[g]=o(vr(i,g),u.concat(g))}}catch{}return t.pop(),v}return o(e,[])}function Se(e,r,n,t){if(typeof n=="string"){t===void 0?t=null:t!==null&&typeof t!="string"&&(t=V(t));var a=r[n];if(typeof a=="number"){e[a]={name:n,variant:t};return}e.push({name:n,variant:t}),r[n]=e.length-1}}function yr(e,r,n){if(w(r)){for(var t=0;t<r.length;++t){var a=r[t];a===null||typeof a!="object"||Se(e,n,a.name,a.variant)}return e}}function br(e){return N(E(e,Boolean),function(r){var n=r.name,t=r.variant,a={featureFlag:n};return typeof t=="string"&&(a.variant=t),a})}function Sr(e,r,n){var t=r[n];typeof t=="number"&&(e[t]=null,delete r[n])}var P={add:Se,clear:Sr,merge:yr,toEventApi:br},K=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&typeof(e.stack||e.stacktrace||e["opera#sourceloc"])=="string"&&e.stack!==e.name+": "+e.message},Er=Tr;function Tr(e){switch(Object.prototype.toString.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}var X=Er,Or=function(e,r,n,t){var a;if(r){var o;if(n===null)return Ee(e,r);typeof n=="object"&&(o=n),typeof n=="string"&&(o=(a={},a[n]=t,a)),o&&(r==="__proto__"||r==="constructor"||r==="prototype"||(e[r]||(e[r]={}),e[r]=b({},e[r],o)))}},xr=function(e,r,n){if(typeof r=="string"){if(!n)return e[r];if(e[r])return e[r][n]}},Ee=function(e,r,n){if(typeof r=="string"){if(!n){delete e[r];return}r==="__proto__"||r==="constructor"||r==="prototype"||e[r]&&delete e[r][n]}},F={add:Or,get:xr,clear:Ee};function te(){return te=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},te.apply(null,arguments)}var R=(function(){function e(n,t,a,o,i){a===void 0&&(a=[]),o===void 0&&(o=Dr()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=i,this._handledState=o,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.response={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this._groupingDiscriminator=void 0,this.errors=[Oe(n,t,e.__type,a)]}var r=e.prototype;return r.addMetadata=function(t,a,o){return F.add(this._metadata,t,a,o)},r.setTraceCorrelation=function(t,a){typeof t=="string"&&(this._correlation=te({traceId:t},typeof a=="string"?{spanId:a}:{}))},r.getGroupingDiscriminator=function(){return this._groupingDiscriminator},r.setGroupingDiscriminator=function(t){var a=this._groupingDiscriminator;return(typeof t=="string"||t===null||t===void 0)&&(this._groupingDiscriminator=t),a},r.getMetadata=function(t,a){return F.get(this._metadata,t,a)},r.clearMetadata=function(t,a){return F.clear(this._metadata,t,a)},r.addFeatureFlag=function(t,a){a===void 0&&(a=null),P.add(this._features,this._featuresIndex,t,a)},r.addFeatureFlags=function(t){P.merge(this._features,t,this._featuresIndex)},r.getFeatureFlags=function(){return P.toEventApi(this._features)},r.clearFeatureFlag=function(t){P.clear(this._features,this._featuresIndex,t)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getUser=function(){return this._user},r.setUser=function(t,a,o){this._user={id:t,email:a,name:o}},r.toJSON=function(){return{payloadVersion:"4",exceptions:N(this.errors,function(t){return b({},t,{message:t.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,response:this.response,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,groupingDiscriminator:this._groupingDiscriminator,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e})(),Nr=function(e){var r={file:e.fileName,method:$r(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return r.lineNumber>-1&&!r.file&&!r.method&&(r.file="global code"),r},$r=function(e){return/^global code$/i.test(e)?"global code":e},Dr=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},Te=function(e){return typeof e=="string"?e:""};function Oe(e,r,n,t){return{errorClass:Te(e),errorMessage:Te(r),type:n,stacktrace:x(t,function(a,o){var i=Nr(o);try{return JSON.stringify(i)==="{}"?a:a.concat(i)}catch{return a}},[])}}function xe(e){return e.cause?[e].concat(xe(e.cause)):[e]}R.getStacktrace=function(e,r,n){if(K(e))return ye.parse(e).slice(r);try{return E(ee.backtrace(),function(t){return(t.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+n)}catch{return[]}},R.create=function(e,r,n,t,a,o){a===void 0&&(a=0);var i=$e(e,r,t,o),u=i[0],s=i[1],c;try{var f=R.getStacktrace(u,s>0?1+s+a:0,1+a);c=new R(u.name,u.message,f,n,e)}catch{c=new R(u.name,u.message,[],n,e)}if(u.name==="InvalidError"&&c.addMetadata(""+t,"non-error parameter",Ne(e)),u.cause){var d,p=xe(u).slice(1),l=N(p,function(h){var v=X(h)&&K(h)?ye.parse(h):[],g=$e(h,!0,"error cause"),_=g[0];return _.name==="InvalidError"&&c.addMetadata("error cause",Ne(h)),Oe(_.name,_.message,R.__type,v)});(d=c.errors).push.apply(d,l)}return c};var Ne=function(e){return e===null?"null":e===void 0?"undefined":e},$e=function(e,r,n,t){var a,o=0,i=function(u){var s=n==="error cause"?"was":"received";t&&t.warn(n+" "+s+' a non-error: "'+u+'"');var c=new Error(n+" "+s+' a non-error. See "'+n+'" tab for more detail.');return c.name="InvalidError",c};if(!r)X(e)?a=e:(a=i(typeof e),o+=2);else switch(typeof e){case"string":case"number":case"boolean":a=new Error(String(e)),o+=1;break;case"function":a=i("function"),o+=2;break;case"object":e!==null&&X(e)?a=e:e!==null&&Rr(e)?(a=new Error(e.message||e.errorMessage),a.name=e.name||e.errorClass,o+=1):(a=i(e===null?"null":"unsupported object"),o+=2);break;default:a=i("nothing"),o+=2}if(!K(a))try{throw a}catch(u){K(u)&&(a=u,o=1)}return[a,o]};R.__type="browserjs";var Rr=function(e){return(typeof e.name=="string"||typeof e.errorClass=="string")&&(typeof e.message=="string"||typeof e.errorMessage=="string")},ne=R,kr=function(e,r,n){var t=0,a=function(){if(t>=e.length)return n(null,!0);r(e[t],function(o,i){if(o)return n(o);if(i===!1)return n(null,!1);t++,a()})};a()},wr=function(e,r,n,t){var a=function(o,i){if(typeof o!="function")return i(null);try{if(o.length!==2){var u=o(r);return u&&typeof u.then=="function"?u.then(function(s){return setTimeout(function(){return i(null,s)})},function(s){setTimeout(function(){return n(s),i(null,!0)})}):i(null,u)}o(r,function(s,c){if(s)return n(s),i(null);i(null,c)})}catch(s){n(s),i(null)}};kr(e,a,t)},De=function(e,r,n,t){for(var a=!1,o=e.slice();!a&&o.length;)try{a=o.pop()(r)===!1}catch(i){t.error("Error occurred in "+n+" callback, continuing anyway…"),t.error(i)}return a},ae=function(r,n){var t="000000000"+r;return t.substr(t.length-n)},Re=typeof window=="object"?window:self,ke=0;for(var Pr in Re)Object.hasOwnProperty.call(Re,Pr)&&ke++;var Br=navigator.mimeTypes?navigator.mimeTypes.length:0,Ar=ae((Br+navigator.userAgent.length).toString(36)+ke.toString(36),4),we=function(){return Ar},Ir=function(r){return typeof r=="string"&&/^c[a-z0-9]{20,32}$/.test(r)},C=0,ie=4,G=36,Pe=Math.pow(G,ie);function Be(){return ae((Math.random()*Pe<<0).toString(G),ie)}function Fr(){return C=C<Pe?C:0,C++,C-1}function oe(){var e="c",r=new Date().getTime().toString(G),n=ae(Fr().toString(G),ie),t=we(),a=Be()+Be();return e+r+n+t+a}oe.fingerprint=we,oe.isCuid=Ir;var Ae=oe,Lr=(function(){function e(){this.id=Ae(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var r=e.prototype;return r.getUser=function(){return this._user},r.setUser=function(t,a,o){this._user={id:t,email:a,name:o}},r.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},r._track=function(t){this[t._handledState.unhandled?"_unhandled":"_handled"]+=1},e})(),se=Lr,Mr=P.add,Cr=P.clear,ue=P.merge,jr="00000",Hr="https://notify.bugsnag.smartbear.com",qr="https://sessions.bugsnag.smartbear.com",k=function(){},Vr=(function(){function e(n,t,a,o){var i=this;t===void 0&&(t=H.schema),a===void 0&&(a=[]),this._notifier=o,this._config={},this._schema=t,this._delivery={sendSession:k,sendEvent:k},this._logger={debug:k,info:k,warn:k,error:k},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._groupingDiscriminator=void 0,this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=ne,this.Breadcrumb=Z,this.Session=se,this._config=this._configure(n,a),N(a.concat(this._config.plugins),function(c){c&&i._loadPlugin(c)}),this._depth=1;var u=this,s=this.notify;this.notify=function(){return s.apply(u,arguments)}}var r=e.prototype;return r.addMetadata=function(t,a,o){return F.add(this._metadata,t,a,o)},r.getMetadata=function(t,a){return F.get(this._metadata,t,a)},r.clearMetadata=function(t,a){return F.clear(this._metadata,t,a)},r.addFeatureFlag=function(t,a){a===void 0&&(a=null),Mr(this._features,this._featuresIndex,t,a)},r.addFeatureFlags=function(t){ue(this._features,t,this._featuresIndex)},r.clearFeatureFlag=function(t){Cr(this._features,this._featuresIndex,t)},r.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},r.getContext=function(){return this._context},r.setContext=function(t){this._context=t},r.getGroupingDiscriminator=function(){return this._groupingDiscriminator},r.setGroupingDiscriminator=function(t){var a=this._groupingDiscriminator;return(typeof t=="string"||t===null||t===void 0)&&(this._groupingDiscriminator=t),a},r._configure=function(t,a){var o=x(a,function(c,f){return f&&f.configSchema?b({},c,f.configSchema):c},this._schema);t.endpoints||(t.sendPayloadChecksums="sendPayloadChecksums"in t?t.sendPayloadChecksums:!0);var i=x(D(o),function(c,f){var d=o[f].defaultValue(t[f]);if(t[f]!==void 0){var p=o[f].validate(t[f]);p?o[f].allowPartialObject?c.config[f]=b(d,t[f]):c.config[f]=t[f]:(c.errors[f]=o[f].message,c.config[f]=d)}else c.config[f]=d;return c},{errors:{},config:{}}),u=i.errors,s=i.config;if(o.apiKey){if(!s.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(s.apiKey)||(u.apiKey="should be a string of 32 hexadecimal characters"),t.endpoints===void 0&&s.apiKey.indexOf(jr)===0&&(s.endpoints={notify:Hr,sessions:qr})}return this._metadata=b({},s.metadata),ue(this._features,s.featureFlags,this._featuresIndex),this._user=b({},s.user),this._context=s.context,s.logger&&(this._logger=s.logger),s.onError&&(this._cbs.e=this._cbs.e.concat(s.onError)),s.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(s.onBreadcrumb)),s.onSession&&(this._cbs.s=this._cbs.s.concat(s.onSession)),D(u).length&&this._logger.warn(Ur(u,t)),s},r.getUser=function(){return this._user},r.setUser=function(t,a,o){this._user={id:t,email:a,name:o}},r._loadPlugin=function(t){var a=t.load(this);t.name&&(this._plugins["~"+t.name+"~"]=a)},r.getPlugin=function(t){return this._plugins["~"+t+"~"]},r._setDelivery=function(t){this._delivery=t(this)},r.startSession=function(){var t=new se;t.app.releaseStage=this._config.releaseStage,t.app.version=this._config.appVersion,t.app.type=this._config.appType,t._user=b({},this._user);var a=De(this._cbs.s,t,"onSession",this._logger);return a?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,t)},r.addOnError=function(t,a){a===void 0&&(a=!1),this._cbs.e[a?"unshift":"push"](t)},r.removeOnError=function(t){this._cbs.e=E(this._cbs.e,function(a){return a!==t})},r._addOnSessionPayload=function(t){this._cbs.sp.push(t)},r.addOnSession=function(t){this._cbs.s.push(t)},r.removeOnSession=function(t){this._cbs.s=E(this._cbs.s,function(a){return a!==t})},r.addOnBreadcrumb=function(t,a){a===void 0&&(a=!1),this._cbs.b[a?"unshift":"push"](t)},r.removeOnBreadcrumb=function(t){this._cbs.b=E(this._cbs.b,function(a){return a!==t})},r.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},r.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},r.leaveBreadcrumb=function(t,a,o){if(t=typeof t=="string"?t:"",o=typeof o=="string"&&$(I,o)?o:"manual",a=typeof a=="object"&&a!==null?a:{},!!t){var i=new Z(t,a,o),u=De(this._cbs.b,i,"onBreadcrumb",this._logger);if(u){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(i),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},r._isBreadcrumbTypeEnabled=function(t){var a=this._config.enabledBreadcrumbTypes;return a===null||$(a,t)},r.notify=function(t,a,o){o===void 0&&(o=k);var i=ne.create(t,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(i,a,o)},r._notify=function(t,a,o){var i=this;if(o===void 0&&(o=k),t.app=b({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=b({},t._metadata,this._metadata),t._user=b({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),t.setGroupingDiscriminator(this._groupingDiscriminator),ue(t._features,this._features,t._featuresIndex),this._config.enabledReleaseStages!==null&&!$(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),o(null,t);var u=t.severity,s=function(f){i._logger.error("Error occurred in onError callback, continuing anyway…"),i._logger.error(f)},c=[].concat(this._cbs.e).concat(a);wr(c,t,s,function(f,d){if(f&&s(f),!d)return i._logger.debug("Event not sent due to onError callback"),o(null,t);i._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(i,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),u!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),i._session&&(i._session._track(t),t._session=i._session),i._delivery.sendEvent({apiKey:t.apiKey||i._config.apiKey,notifier:i._notifier,events:[t]},function(p){return o(p,t)})})},e})(),Ur=function(e,r){var n=new Error(`Invalid configuration
`+N(D(e),function(t){return"  - "+t+" "+e[t]+", got "+Kr(r[t])}).join(`

`));return n},Kr=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},ce=Vr,L={},Ie=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request","events.[].response"];L.event=function(e,r){var n=V(e,null,null,{redactedPaths:Ie,redactedKeys:r});return n.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+n.length/1e6+`MB (limit = 1MB)
metadata was removed`},n=V(e,null,null,{redactedPaths:Ie,redactedKeys:r})),n},L.session=function(e,r){var n=V(e,null,null);return n};var fe={};fe=function(e,r){return r===void 0&&(r=window),{sendEvent:function(n,t){if(t===void 0&&(t=function(){}),e._config.endpoints.notify===null){var a=new Error("Event not sent due to incomplete endpoint configuration");return t(a)}var o=Fe(e._config,"notify","4",r),i=L.event(n,e._config.redactedKeys),u=new r.XDomainRequest;u.onload=function(){t(null)},u.onerror=function(){var s=new Error("Event failed to send");e._logger.error("Event failed to send…",s),i.length>1e6&&e._logger.warn("Event oversized ("+(i.length/1e6).toFixed(2)+" MB)"),t(s)},u.open("POST",o),setTimeout(function(){try{u.send(i)}catch(s){e._logger.error(s),t(s)}},0)},sendSession:function(n,t){if(t===void 0&&(t=function(){}),e._config.endpoints.sessions===null){var a=new Error("Session not sent due to incomplete endpoint configuration");return t(a)}var o=Fe(e._config,"sessions","1",r),i=new r.XDomainRequest;i.onload=function(){t(null)},i.open("POST",o),setTimeout(function(){try{i.send(L.session(n,e._config.redactedKeys))}catch(u){e._logger.error(u),t(u)}},0)}}};var Fe=function(e,r,n,t){var a=JSON.parse(JSON.stringify(new Date)),o=Xr(e.endpoints[r],t.location.protocol);return o+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(a)},Xr=fe._matchPageProtocol=function(e,r){return r==="http:"?e.replace(/^https:/,"http:"):e};function Le(e,r){if(e.isSecureContext&&e.crypto&&e.crypto.subtle&&e.crypto.subtle.digest&&typeof TextEncoder=="function"){var n=new TextEncoder().encode(r);return e.crypto.subtle.digest("SHA-1",n).then(function(t){var a=Array.from(new Uint8Array(t)),o=a.map(function(i){return i.toString(16).padStart(2,"0")}).join("");return"sha1 "+o})}return Promise.resolve()}var Gr=function(e,r){return r===void 0&&(r=window),{sendEvent:function(n,t){t===void 0&&(t=function(){});try{var a=e._config.endpoints.notify;if(a===null){var o=new Error("Event not sent due to incomplete endpoint configuration");return t(o)}var i=new r.XMLHttpRequest,u=L.event(n,e._config.redactedKeys);i.onreadystatechange=function(){if(i.readyState===r.XMLHttpRequest.DONE){var s=i.status;if(s===0||s>=400){var c=new Error("Request failed with status "+s);e._logger.error("Event failed to send…",c),u.length>1e6&&e._logger.warn("Event oversized ("+(u.length/1e6).toFixed(2)+" MB)"),t(c)}else t(null)}},i.open("POST",a),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","4"),i.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),e._config.sendPayloadChecksums&&typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?Le(r,u).then(function(s){s&&i.setRequestHeader("Bugsnag-Integrity",s),i.send(u)}).catch(function(s){e._logger.error(s),i.send(u)}):i.send(u)}catch(s){e._logger.error(s)}},sendSession:function(n,t){t===void 0&&(t=function(){});try{var a=e._config.endpoints.sessions;if(a===null){var o=new Error("Session not sent due to incomplete endpoint configuration");return t(o)}var i=new r.XMLHttpRequest,u=L.session(n,e._config.redactedKeys);i.onreadystatechange=function(){if(i.readyState===r.XMLHttpRequest.DONE){var s=i.status;if(s===0||s>=400){var c=new Error("Request failed with status "+s);e._logger.error("Session failed to send…",c),t(c)}else t(null)}},i.open("POST",a),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","1"),i.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),e._config.sendPayloadChecksums&&typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?Le(r,u).then(function(s){s&&i.setRequestHeader("Bugsnag-Integrity",s),i.send(u)}).catch(function(s){e._logger.error(s),i.send(u)}):i.send(u)}catch(s){e._logger.error(s)}}}},Me=new Date,Jr=function(){Me=new Date},zr={name:"appDuration",load:function(e){return e.addOnError(function(r){var n=new Date;r.app.duration=n-Me},!0),{reset:Jr}}},Wr=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(n){n.context===void 0&&(n.context=e.location.pathname)},!0)}}},Ce="bugsnag-anonymous-id",Yr=function(e){try{var r=e.localStorage,n=r.getItem(Ce);return n&&/^c[a-z0-9]{20,32}$/.test(n)||(n=Ae(),r.setItem(Ce,n)),n}catch{}},Qr=function(e,r){return e===void 0&&(e=navigator),r===void 0&&(r=window),{load:function(n){var t={locale:e.browserLanguage||e.systemLanguage||e.userLanguage||e.language,userAgent:e.userAgent};r&&r.screen&&r.screen.orientation&&r.screen.orientation.type?t.orientation=r.screen.orientation.type:r&&r.document&&(t.orientation=r.document.documentElement.clientWidth>r.document.documentElement.clientHeight?"landscape":"portrait"),n._config.generateAnonymousId&&(t.id=Yr(r)),n.addOnSession(function(a){a.device=b({},a.device,t),n._config.collectUserIp||je(a)}),n.addOnError(function(a){a.device=b({},a.device,t,{time:new Date}),n._config.collectUserIp||je(a)},!0)},configSchema:{generateAnonymousId:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},je=function(e){var r=e.getUser();(!r||!r.id)&&e.setUser(e.device.id)},Zr=function(e){return e===void 0&&(e=window),{load:function(r){r.addOnError(function(n){n.request&&n.request.url||(n.request=b({},n.request,{url:e.location.href}))},!0)}}},et={load:function(e){e._sessionDelegate=rt}},rt={startSession:function(e,r){var n=e;return n._session=r,n._pausedSession=null,n._config.enabledReleaseStages!==null&&!$(n._config.enabledReleaseStages,n._config.releaseStage)?(n._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),n):(n._delivery.sendSession({notifier:n._notifier,device:r.device,app:r.app,sessions:[{id:r.id,startedAt:r.startedAt,user:r._user}]}),n)},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},tt={load:function(e){e._config.collectUserIp||e.addOnError(function(r){r._user&&typeof r._user.id>"u"&&delete r._user.id,r._user=b({id:"[REDACTED]"},r._user),r.request=b({clientIp:"[REDACTED]"},r.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return e===!0||e===!1}}}},He={};He.load=function(e){var r=/^(local-)?dev(elopment)?$/.test(e._config.releaseStage);r||!e._isBreadcrumbTypeEnabled("log")||N(nt,function(n){var t=console[n];console[n]=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];e.leaveBreadcrumb("Console output",x(o,function(u,s,c){var f="[Unknown value]";try{f=String(s)}catch{}if(f==="[object Object]")try{f=JSON.stringify(s)}catch{}return u["["+c+"]"]=f,u},{severity:n.indexOf("group")===0?"log":n}),"log"),t.apply(console,o)},console[n]._restore=function(){console[n]=t}})};var nt=E(["log","debug","info","warn","error"],function(e){return typeof console<"u"&&typeof console[e]=="function"}),qe=200,Ve=5e5,at=function(e,r){return e===void 0&&(e=document),r===void 0&&(r=window),{load:function(n){if(!n._config.trackInlineScripts)return;var t=r.location.href,a="",o=!!e.attachEvent,i=o?e.readyState==="complete":e.readyState!=="loading",u=function(){return e.documentElement.outerHTML};a=u();var s=e.onreadystatechange;e.onreadystatechange=function(){e.readyState==="interactive"&&(a=u(),i=!0);try{s.apply(this,arguments)}catch{}};var c=null,f=function(g){c=g},d=function(){var g=e.currentScript||c;if(!g&&!i){var _=e.scripts||e.getElementsByTagName("script");g=_[_.length-1]}return g},p=function(g){(!i||!a)&&(a=u());var _=["<!-- DOC START -->"].concat(a.split(`
`)),y=g-1,m=Math.max(y-3,0),O=Math.min(y+3,_.length);return x(_.slice(m,O),function(S,A,j){return S[m+1+j]=A.length<=qe?A:A.substr(0,qe),S},{})};n.addOnError(function(g){g.errors[0].stacktrace=E(g.errors[0].stacktrace,function(S){return!/__trace__$/.test(S.method)});var _=g.errors[0].stacktrace[0],y=function(S){return S.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(_&&_.file&&y(_.file)!==y(t))){var m=d();if(m){var O=m.innerHTML;g.addMetadata("script","content",O.length<=Ve?O:O.substr(0,Ve)),_&&_.lineNumber&&(_.code=p(_.lineNumber))}}},!0);var l=N(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(g){return de(r,g,function(_){return v(_,function(y){return{get:function(){return y[0]},replace:function(m){y[0]=m}}})})}),h=l[0];N(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(g){!r[g]||!r[g].prototype||!Object.prototype.hasOwnProperty.call(r[g].prototype,"addEventListener")||(de(r[g].prototype,"addEventListener",function(_){return v(_,Ue)}),de(r[g].prototype,"removeEventListener",function(_){return v(_,Ue,!0)}))});function v(g,_,y){return y===void 0&&(y=!1),function(){var m=[].slice.call(arguments);try{var O=_(m),S=O.get();if(y&&g.apply(this,m),typeof S!="function")return g.apply(this,m);if(S.__trace__)O.replace(S.__trace__);else{var A=d();S.__trace__=function(){f(A),h(function(){f(null)},0);var Dt=S.apply(this,arguments);return f(null),Dt},S.__trace__.__trace__=S.__trace__,O.replace(S.__trace__)}}catch{}if(g.apply)return g.apply(this,m);switch(m.length){case 1:return g(m[0]);case 2:return g(m[0],m[1]);default:return g()}}}},configSchema:{trackInlineScripts:{validate:function(n){return n===!0||n===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function de(e,r,n){var t=e[r];if(!t)return t;var a=n(t);return e[r]=a,t}function Ue(e){var r=!!e[1]&&typeof e[1].handleEvent=="function";return{get:function(){return r?e[1].handleEvent:e[1]},replace:function(n){r?e[1].handleEvent=n:e[1]=n}}}var it=function(e){return e===void 0&&(e=window),{load:function(r){"addEventListener"in e&&r._isBreadcrumbTypeEnabled("user")&&e.addEventListener("click",function(n){var t,a;try{t=st(n.target),a=Ke(n.target,e)}catch{t="[hidden]",a="[hidden]",r._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}r.leaveBreadcrumb("UI click",{targetText:t,targetSelector:a},"user")},!0)}}},ot=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/;function st(e){var r=e.textContent||e.innerText||"";return!r&&(e.type==="submit"||e.type==="button")&&(r=e.value),r=r.replace(ot,"$1"),r.length>140?r.slice(0,135)+"(...)":r}function Ke(e,r){var n=[e.tagName];if(e.id&&n.push("#"+e.id),e.className&&e.className.length&&n.push("."+e.className.split(" ").join(".")),!r.document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(r.document.querySelectorAll(n.join("")).length===1)return n.join("")}catch{return n.join("")}if(e.parentNode.childNodes.length>1){var t=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1;n.push(":nth-child("+t+")")}return r.document.querySelectorAll(n.join("")).length===1?n.join(""):e.parentNode?Ke(e.parentNode,r)+" > "+n.join(""):n.join("")}var Xe={};Xe=function(e){e===void 0&&(e=window);var r={load:function(n){if("addEventListener"in e&&n._isBreadcrumbTypeEnabled("navigation")){var t=function(a){return function(){return n.leaveBreadcrumb(a,{},"navigation")}};e.addEventListener("pagehide",t("Page hidden"),!0),e.addEventListener("pageshow",t("Page shown"),!0),e.addEventListener("load",t("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",t("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",t("Navigated back"),!0)}),e.addEventListener("hashchange",function(a){var o=a.oldURL?{from:J(a.oldURL,e),to:J(a.newURL,e),state:Je(e)}:{to:J(e.location.href,e)};n.leaveBreadcrumb("Hash changed",o,"navigation")},!0),e.history.pushState&&Ge(n,e.history,"pushState",e,!0),e.history.replaceState&&Ge(n,e.history,"replaceState",e)}}};return r};var J=function(e,r){var n=r.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},ut=function(e,r,n,t){var a=J(e.location.href,e);return{title:n,state:r,prevState:Je(e),to:t||a,from:a}},Ge=function(e,r,n,t,a){a===void 0&&(a=!1);var o=r[n];r[n]=function(i,u,s){e.leaveBreadcrumb("History "+n,ut(t,i,u,s),"navigation"),a&&typeof e.resetEventCount=="function"&&e.resetEventCount(),o.apply(r,[i,u].concat(s!==void 0?s:[]))}},Je=function(e){try{return e.history.state}catch{}},ze=function(e){if(!e)return{};var r={};if(typeof e.entries=="function")for(var n=e.entries(),t=n.next();!t.done;){var a=t.value,o=a[0],i=a[1];r[o]=i,t=n.next()}else e.forEach&&e.forEach(function(u,s){r[s]=u});return r},ct=(function(){function e(){this.callbacks=[]}var r=e.prototype;return r.onStart=function(t){if(typeof t!="function")throw new Error("RequestTracker onStart callback must be a function");this.callbacks.push(t)},r.start=function(t){var a=this.callbacks.map(function(o){try{return o(t)}catch(i){return console.error("RequestTracker callback error:",i),null}}).filter(function(o){return o&&typeof o=="object"});return{onRequestEnd:function(o){a.forEach(function(i){if(typeof i.onRequestEnd=="function")try{i.onRequestEnd(o)}catch(u){console.error("RequestTracker onRequestEnd callback error:",u)}})},extraRequestHeaders:a.map(function(o){return o.extraRequestHeaders}).filter(function(o){return o&&typeof o=="object"}).reduce(function(o,i){return Object.assign(o,i)},{})}},r._reset=function(){this.callbacks=[]},e})(),le=ct;function ft(e,r){if(!(!("fetch"in e)||e.fetch.polyfill)){if(!e.__bugsnag_fetch_tracker__){var n=new le,t=e.fetch;e.fetch=function(o,i){i===void 0&&(i={});var u=null,s="GET";o&&typeof o=="object"?(u=o.url,i&&"method"in i?s=i.method:o&&"method"in o&&(s=o.method)):(u=o,i&&"method"in i&&(s=i.method)),s===void 0&&(s="GET");var c={};i&&i.headers&&(i.headers instanceof Headers?c=ze(i.headers):typeof i.headers=="object"&&(c=i.headers));var f=Date.now(),d={url:String(u),method:String(s),startTime:f,type:"fetch",input:o,headers:c,body:i?i.body:void 0},p=n.start(d),l=p.onRequestEnd;return t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))).then(function(h){return l({endTime:Date.now(),status:h.status,state:"success",headers:ze(h.headers)}),h},function(h){throw l({endTime:Date.now(),state:"error",error:h}),h})},e.__bugsnag_fetch_tracker__=n}return e.__bugsnag_fetch_tracker__}}var We=ft;function dt(e,r){if(r===void 0&&(r=[]),!e||typeof e!="string")return!0;var n=e.replace(/\?.*$/,"");return $(r,n)}function lt(e,r){r===void 0&&(r=[]);var n=[e._config.endpoints.notify,e._config.endpoints.sessions].concat(r).filter(Boolean);return function(t){return dt(t,n)}}function gt(e){return e&&Date.now()-e}var Ye={createUrlFilter:lt,getDuration:gt},ht=function(e){if(!e)return{};var r=e.trim().split(/[\r\n]+/),n={};return r.forEach(function(t){var a=t.split(": "),o=a.shift(),i=a.join(": ");n[o]=i}),n},Qe=function(r){var n=r.response,t=r.responseType;if(n!=null)switch(t){case"arraybuffer":case"blob":return"[Binary Data]";case"document":return"[Document]";case"json":try{return JSON.stringify(n)}catch{return"[Unserializable JSON]"}default:return String(n)}};function pt(e,r){if(!(!("addEventListener"in e.XMLHttpRequest.prototype)||!("WeakMap"in e))){if(!e.__bugsnag_xhr_tracker__){var n=new le,t=new WeakMap,a=new WeakMap,o=e.XMLHttpRequest.prototype.open,i=e.XMLHttpRequest.prototype.send,u=e.XMLHttpRequest.prototype.setRequestHeader;e.XMLHttpRequest.prototype.open=function(c,f){this&&t.set(this,{method:String(c),url:String(f)}),o.apply(this,arguments)},e.XMLHttpRequest.prototype.setRequestHeader=function(c,f){if(this){var d=t.get(this);d&&(d.headers=d.headers||{},d.headers[String(c)]=(d.headers[String(c)]||"")+String(f))}u.apply(this,arguments)},e.XMLHttpRequest.prototype.send=function(c){var f=this,d=t.get(this);if(d){var p=a.get(this);p&&(this.removeEventListener("load",p.load),this.removeEventListener("error",p.error));var l=Date.now(),h={url:d.url,method:d.method,startTime:l,type:"xmlhttprequest",body:c,headers:d.headers},v=n.start(h),g=v.onRequestEnd,_=function(){return ht(f.getAllResponseHeaders())},y=function(){g({endTime:Date.now(),status:f.status,state:"success",headers:_(),body:Qe(f)})},m=function(){g({endTime:Date.now(),state:"error",headers:_(),body:Qe(f)})};this.addEventListener("load",y),this.addEventListener("error",m),this&&a.set(this,{load:y,error:m})}i.apply(this,arguments)},e.__bugsnag_xhr_tracker__=n}return e.__bugsnag_xhr_tracker__}}var Ze=pt,er=Ye.createUrlFilter,rr=Ye.getDuration;function _t(e,r){return e===void 0&&(e=[]),r===void 0&&(r=window),{name:"requestTracker",load:function(n){try{var t=We(r),a=Ze(r),o=er(n,e);return{fetchTracker:t,xhrTracker:a,urlFilter:o,getDuration:rr}}catch(i){throw n._logger.error("Failed to load request tracker:",i),new Error("Request tracking is not available: "+i.message)}}}}var vt={RequestTracker:le,createFetchTracker:We,createXhrTracker:Ze,createUrlFilter:er,getDuration:rr,createRequestTrackerPlugin:_t},ge="request",mt=function(e,r){e===void 0&&(e=[]),r===void 0&&(r=window);var n=[],t={load:function(a){if(!a._isBreadcrumbTypeEnabled("request"))return;var o=a.getPlugin("requestTracker");if(!o)try{var i=vt.createRequestTrackerPlugin,u=i(e,r);a._loadPlugin(u),o=a.getPlugin("requestTracker")}catch(c){a._logger.warn("Failed to auto-load request tracker, falling back to direct monkey-patching:",c.message)}if(o)return s(o);function s(c){var f=c.fetchTracker,d=c.xhrTracker,p=c.urlFilter,l=c.getDuration,h=function(v){if(!p(v.url))return{onRequestEnd:function(g){var _=l(v.startTime),y={method:v.method,status:g.status,url:v.url,duration:_},m=v.type==="fetch"?"fetch()":"XMLHttpRequest";g.state==="error"?a.leaveBreadcrumb(m+" error",{method:v.method,url:v.url,duration:_},ge):g.status>=400?a.leaveBreadcrumb(m+" failed",y,ge):a.leaveBreadcrumb(m+" succeeded",y,ge)}}};f&&(f.onStart(h),n.push(f._restore)),d&&(d.onStart(h),n.push(d._restore))}}};return t},yt={load:function(e){var r=0;e.addOnError(function(n){if(r>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;r++}),e.resetEventCount=function(){r=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return ve(1,100)(e)}}}},he={};he={load:function(e){e.addOnError(function(r){var n=x(r.errors,function(t,a){return t.concat(a.stacktrace)},[]);N(n,function(t){t.file=bt(t.file)})})}};var bt=he._strip=function(e){return typeof e=="string"?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},St=function(e,r){return e===void 0&&(e=window),r===void 0&&(r="window onerror"),{load:function(n){if(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledExceptions)return;function t(o,i,u,s,c){if(u===0&&/Script error\.?/.test(o))n._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var f={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},d;if(c)d=n.Event.create(c,!0,f,r,1),tr(d.errors[0].stacktrace,i,u,s);else if(typeof o=="object"&&o!==null&&(!i||typeof i!="string")&&!u&&!s&&!c){var p=o.type?"Event: "+o.type:"Error",l=o.message||o.detail||"";d=n.Event.create({name:p,message:l},!0,f,r,1),d.originalError=o,d.addMetadata(r,{event:o,extraParameters:i})}else d=n.Event.create(o,!0,f,r,1),tr(d.errors[0].stacktrace,i,u,s);n._notify(d)}try{a.apply(this,arguments)}catch{}}var a=e.onerror;e.onerror=t}}},tr=function(e,r,n,t){e[0]||e.push({});var a=e[0];!a.file&&typeof r=="string"&&(a.file=r),!a.lineNumber&&pe(n)&&(a.lineNumber=n),a.columnNumber||(pe(t)?a.columnNumber=t:window.event&&pe(window.event.errorCharacter)&&(a.columnNumber=window.event.errorCharacter))},pe=function(e){return typeof e=="number"&&String.call(e)!=="NaN"},Et=function(e){e===void 0&&(e=window);var r={load:function(n){if(!(!n._config.autoDetectErrors||!n._config.enabledErrorTypes.unhandledRejections)){var t=function(a){var o=a.reason,i=!1;try{a.detail&&a.detail.reason&&(o=a.detail.reason,i=!0)}catch{}var u=!n._config.reportUnhandledPromiseRejectionsAsHandled,s=n.Event.create(o,!1,{severity:"error",unhandled:u,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,n._logger);i&&N(s.errors[0].stacktrace,Tt(o)),n._notify(s,function(c){if(X(c.originalError)&&!c.originalError.stack){var f;c.addMetadata("unhandledRejection handler",(f={},f[Object.prototype.toString.call(c.originalError)]={name:c.originalError.name,message:c.originalError.message,code:c.originalError.code},f))}})};"addEventListener"in e?e.addEventListener("unhandledrejection",t):e.onunhandledrejection=function(a,o){t({detail:{reason:a,promise:o}})}}}};return r},Tt=function(e){return function(r){r.file!==e.toString()&&r.method&&(r.method=r.method.replace(/^\s+/,""))}},B={},Ot="Bugsnag JavaScript",xt="8.8.1",Nt="https://github.com/bugsnag/bugsnag-js",$t=b({},H.schema,or),T={_client:null,createClient:function(e){typeof e=="string"&&(e={apiKey:e}),e||(e={});var r=[zr,Qr(),Wr(),Zr(),yt,et,tt,he,St(),Et(),Xe(),it(),mt(),He,at()],n=new ce(e,$t,r,{name:Ot,version:xt,url:Nt});return n._setDelivery(window.XDomainRequest?fe:Gr),n._logger.debug("Loaded!"),n.leaveBreadcrumb("Bugsnag loaded",{},"state"),n._config.autoTrackSessions?n.startSession():n},start:function(e){return T._client?(T._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),T._client):(T._client=T.createClient(e),T._client)},isStarted:function(){return T._client!=null}};return N(["resetEventCount"].concat(D(ce.prototype)),function(e){/^_/.test(e)||(T[e]=function(){if(!T._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");T._client._depth+=1;var r=T._client[e].apply(T._client,arguments);return T._client._depth-=1,r})}),B=T,B.Client=ce,B.Event=ne,B.Session=se,B.Breadcrumb=Z,B.default=T,B})})(_e)),_e.exports}export{kt as r};
//# sourceMappingURL=bugsnag_browser-CBi0d3dm.js.map
