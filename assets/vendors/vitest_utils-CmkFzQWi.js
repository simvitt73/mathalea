var Mt=Object.defineProperty;var Ft=(e,t,n)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>Ft(e,typeof t!="symbol"?t+"":t,n);import{f as J,p as Pe}from"./vitest_pretty-format-Blb6hO2B.js";import{C as Q}from"./tinyrainbow-Ojqivnc3.js";const je={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},Nt={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},ie="…";function jt(e,t){const n=je[Nt[t]]||je[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}function Dt({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:i=!1,maxArrayLength:c=1/0,breakLength:o=1/0,seen:l=[],truncate:s=1/0,stylize:h=String}={},m){const p={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!i,maxArrayLength:Number(c),breakLength:Number(o),truncate:Number(s),seen:l,inspect:m,stylize:h};return p.colors&&(p.stylize=jt),p}function It(e){return e>="\uD800"&&e<="\uDBFF"}function v(e,t,n=ie){e=String(e);const r=n.length,i=e.length;if(r>t&&i>r)return n;if(i>t&&i>r){let c=t-r;return c>0&&It(e[c-1])&&(c=c-1),`${e.slice(0,c)}${n}`}return e}function U(e,t,n,r=", "){n=n||t.inspect;const i=e.length;if(i===0)return"";const c=t.truncate;let o="",l="",s="";for(let h=0;h<i;h+=1){const m=h+1===e.length,p=h+2===e.length;s=`${ie}(${e.length-h})`;const O=e[h];t.truncate=c-o.length-(m?0:r.length);const u=l||n(O,t)+(m?"":r),f=o.length+u.length,a=f+s.length;if(m&&f>c&&o.length+s.length<=c||!m&&!p&&a>c||(l=m?"":n(e[h+1],t)+(p?"":r),!m&&p&&a>c&&f+l.length>c))break;if(o+=u,!m&&!p&&f+l.length>=c){s=`${ie}(${e.length-h-1})`;break}s=""}return`${o}${s}`}function Rt(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function se([e,t],n){return n.truncate-=2,typeof e=="string"?e=Rt(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}function zt(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const r=U(e,t);t.truncate-=r.length;let i="";return n.length&&(i=U(n.map(c=>[c,e[c]]),t,se)),`[ ${r}${i?`, ${i}`:""} ]`}const Bt=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function K(e,t){const n=Bt(e);t.truncate-=n.length+4;const r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let i="";for(let o=0;o<e.length;o++){const l=`${t.stylize(v(e[o],t.truncate),"number")}${o===e.length-1?"":", "}`;if(t.truncate-=l.length,e[o]!==e.length&&t.truncate<=3){i+=`${ie}(${e.length-e[o]+1})`;break}i+=l}let c="";return r.length&&(c=U(r.map(o=>[o,e[o]]),t,se)),`${n}[ ${i}${c?`, ${c}`:""} ]`}function kt(e,t){const n=e.toJSON();if(n===null)return"Invalid Date";const r=n.split("T"),i=r[0];return t.stylize(`${i}T${v(r[1],t.truncate-i.length-1)}`,"date")}function De(e,t){const n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${v(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function Ut([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}function Wt(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}function qt(e,t){return e.size===0?"Map{}":(t.truncate-=7,`Map{ ${U(Wt(e),t,Ut)} }`)}const xt=Number.isNaN||(e=>e!==e);function Ie(e,t){return xt(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(v(String(e),t.truncate),"number")}function Re(e,t){let n=v(e.toString(),t.truncate-1);return n!==ie&&(n+="n"),t.stylize(n,"bigint")}function Ht(e,t){const n=e.toString().split("/")[2],r=t.truncate-(2+n.length),i=e.source;return t.stylize(`/${v(i,r)}/${n}`,"regexp")}function Jt(e){const t=[];return e.forEach(n=>{t.push(n)}),t}function Gt(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${U(Jt(e),t)} }`)}const ze=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),Vt={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Kt=16;function Xt(e){return Vt[e]||`\\u${`0000${e.charCodeAt(0).toString(Kt)}`.slice(-4)}`}function Be(e,t){return ze.test(e)&&(e=e.replace(ze,Xt)),t.stylize(`'${v(e,t.truncate-2)}'`,"string")}function ke(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}const Yt=()=>"Promise{…}";function ge(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const i=U(n.map(l=>[l,e[l]]),t,se),c=U(r.map(l=>[l,e[l]]),t,se);t.seen.pop();let o="";return i&&c&&(o=", "),`{ ${i}${o}${c} }`}const be=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function Zt(e,t){let n="";return be&&be in e&&(n=e[be]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${ge(e,t)}`}function Qt(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${U(e,t)} ]`)}const vt=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function en(e,t){const n=Object.getOwnPropertyNames(e).filter(o=>vt.indexOf(o)===-1),r=e.name;t.truncate-=r.length;let i="";if(typeof e.message=="string"?i=v(e.message,t.truncate):n.unshift("message"),i=i?`: ${i}`:"",t.truncate-=i.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const c=U(n.map(o=>[o,e[o]]),t,se);return`${r}${i}${c?` { ${c} }`:""}`}function tn([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function Ce(e,t){return U(e,t,nn,`
`)}function nn(e,t){switch(e.nodeType){case 1:return at(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}function at(e,t){const n=e.getAttributeNames(),r=e.tagName.toLowerCase(),i=t.stylize(`<${r}`,"special"),c=t.stylize(">","special"),o=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let l="";n.length>0&&(l+=" ",l+=U(n.map(m=>[m,e.getAttribute(m)]),t,tn," ")),t.truncate-=l.length;const s=t.truncate;let h=Ce(e.children,t);return h&&h.length>s&&(h=`${ie}(${e.children.length})`),`${i}${l}${c}${h}${o}`}const rn=typeof Symbol=="function"&&typeof Symbol.for=="function",$e=rn?Symbol.for("chai/inspect"):"@@chai/inspect",we=Symbol.for("nodejs.util.inspect.custom"),Ue=new WeakMap,We={},qe={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:Ie,Number:Ie,bigint:Re,BigInt:Re,string:Be,String:Be,function:De,Function:De,symbol:ke,Symbol:ke,Array:zt,Date:kt,Map:qt,Set:Gt,RegExp:Ht,Promise:Yt,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:Qt,Int8Array:K,Uint8Array:K,Uint8ClampedArray:K,Int16Array:K,Uint16Array:K,Int32Array:K,Uint32Array:K,Float32Array:K,Float64Array:K,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:en,HTMLCollection:Ce,NodeList:Ce},cn=(e,t,n,r)=>$e in e&&typeof e[$e]=="function"?e[$e](t):we in e&&typeof e[we]=="function"?e[we](t.depth,t,r):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&Ue.has(e.constructor)?Ue.get(e.constructor)(e,t):We[n]?We[n](e,t):"",on=Object.prototype.toString;function he(e,t={}){const n=Dt(t,he),{customInspect:r}=n;let i=e===null?"null":typeof e;if(i==="object"&&(i=on.call(e).slice(8,-1)),i in qe)return qe[i](e,n);if(r&&e){const o=cn(e,n,i,he);if(o)return typeof o=="string"?o:he(o,n)}const c=e?Object.getPrototypeOf(e):!1;return c===Object.prototype||c===null?ge(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?at(e,n):"constructor"in e?e.constructor!==Object?Zt(e,n):ge(e,n):e===Object(e)?ge(e,n):n.stylize(String(e),i)}const{AsymmetricMatcher:sn,DOMCollection:ln,DOMElement:un,Immutable:fn,ReactElement:an,ReactTestComponent:gn}=Pe,xe=[gn,an,un,ln,fn,sn];function ce(e,t=10,{maxLength:n,...r}={}){const i=n??1e4;let c;try{c=J(e,{maxDepth:t,escapeString:!1,plugins:xe,...r})}catch{c=J(e,{callToJSON:!1,maxDepth:t,escapeString:!1,plugins:xe,...r})}return c.length>=i&&t>1?ce(e,Math.floor(Math.min(t,Number.MAX_SAFE_INTEGER)/2),{maxLength:n,...r}):c}const hn=/%[sdjifoOc%]/g;function mn(e,t={}){const n=(l,s)=>t.prettifyObject?ce(l,void 0,{printBasicPrototype:!1,escapeString:!1}):gt(l,s);if(typeof e[0]!="string"){const l=[];for(let s=0;s<e.length;s++)l.push(n(e[s],{depth:0,colors:!1}));return l.join(" ")}const r=e.length;let i=1;const c=e[0];let o=String(c).replace(hn,l=>{if(l==="%%")return"%";if(i>=r)return l;switch(l){case"%s":{const s=e[i++];return typeof s=="bigint"?`${s.toString()}n`:typeof s=="number"&&s===0&&1/s<0?"-0":typeof s=="object"&&s!==null?typeof s.toString=="function"&&s.toString!==Object.prototype.toString?s.toString():n(s,{depth:0,colors:!1}):String(s)}case"%d":{const s=e[i++];return typeof s=="bigint"?`${s.toString()}n`:Number(s).toString()}case"%i":{const s=e[i++];return typeof s=="bigint"?`${s.toString()}n`:Number.parseInt(String(s)).toString()}case"%f":return Number.parseFloat(String(e[i++])).toString();case"%o":return n(e[i++],{showHidden:!0,showProxy:!0});case"%O":return n(e[i++]);case"%c":return i++,"";case"%j":try{return JSON.stringify(e[i++])}catch(s){const h=s.message;if(h.includes("circular structure")||h.includes("cyclic structures")||h.includes("cyclic object"))return"[Circular]";throw s}default:return l}});for(let l=e[i];i<r;l=e[++i])l===null||typeof l!="object"?o+=` ${l}`:o+=` ${n(l)}`;return o}function dr(...e){return mn(e)}function gt(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),he(e,t)}function Sr(e,t={}){typeof t.truncate>"u"&&(t.truncate=40);const n=gt(e,t),r=Object.prototype.toString.call(e);if(t.truncate&&n.length>=t.truncate)if(r==="[object Function]"){const i=e;return i.name?`[Function: ${i.name}]`:"[Function]"}else{if(r==="[object Array]")return`[ Array(${e.length}) ]`;if(r==="[object Object]"){const i=Object.keys(e);return`{ Object (${i.length>2?`${i.splice(0,2).join(", ")}, ...`:i.join(", ")}) }`}else return n}return n}function Cr(e,t,n){const r=typeof e;if(!n.includes(r))throw new TypeError(`${t} value must be ${n.join(" or ")}, received "${r}"`)}function Ar(e){return e==null&&(e=[]),Array.isArray(e)?e:[e]}function Or(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function pn(e){return e===Object.prototype||e===Function.prototype||e===RegExp.prototype}function Ae(e){return Object.prototype.toString.apply(e).slice(8,-1)}function yn(e,t){const n=typeof t=="function"?t:r=>t.add(r);Object.getOwnPropertyNames(e).forEach(n),Object.getOwnPropertySymbols(e).forEach(n)}function ht(e){const t=new Set;return pn(e)?[]:(yn(e,t),Array.from(t))}const mt={forceWritable:!1};function He(e,t=mt){return Oe(e,new WeakMap,t)}function Oe(e,t,n=mt){let r,i;if(t.has(e))return t.get(e);if(Array.isArray(e)){for(i=Array.from({length:r=e.length}),t.set(e,i);r--;)i[r]=Oe(e[r],t,n);return i}if(Object.prototype.toString.call(e)==="[object Object]"){i=Object.create(Object.getPrototypeOf(e)),t.set(e,i);const c=ht(e);for(const o of c){const l=Object.getOwnPropertyDescriptor(e,o);if(!l)continue;const s=Oe(e[o],t,n);n.forceWritable?Object.defineProperty(i,o,{enumerable:l.enumerable,configurable:!0,writable:!0,value:s}):"get"in l?Object.defineProperty(i,o,{...l,get(){return s}}):Object.defineProperty(i,o,{...l,value:s})}return i}return e}function Er(){}function _r(e,t,n=void 0){const r=t.replace(/\[(\d+)\]/g,".$1").split(".");let i=e;for(const c of r)if(i=new Object(i)[c],i===void 0)return n;return i}function Tr(){let e=null,t=null;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function Pr(e){if(!Number.isNaN(e))return!1;const t=new Float64Array(1);return t[0]=e,new Uint32Array(t.buffer)[1]>>>31===1}function bn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const N=-1,F=1,T=0;class E{constructor(t,n){H(this,0);H(this,1);this[0]=t,this[1]=n}}function $n(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let n=0,r=Math.min(e.length,t.length),i=r,c=0;for(;n<i;)e.substring(c,i)===t.substring(c,i)?(n=i,c=n):r=i,i=Math.floor((r-n)/2+n);return i}function pt(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let n=0,r=Math.min(e.length,t.length),i=r,c=0;for(;n<i;)e.substring(e.length-i,e.length-c)===t.substring(t.length-i,t.length-c)?(n=i,c=n):r=i,i=Math.floor((r-n)/2+n);return i}function Je(e,t){const n=e.length,r=t.length;if(n===0||r===0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));const i=Math.min(n,r);if(e===t)return i;let c=0,o=1;for(;;){const l=e.substring(i-o),s=t.indexOf(l);if(s===-1)return c;o+=s,(s===0||e.substring(i-o)===t.substring(0,o))&&(c=o,o++)}}function wn(e){let t=!1;const n=[];let r=0,i=null,c=0,o=0,l=0,s=0,h=0;for(;c<e.length;)e[c][0]===T?(n[r++]=c,o=s,l=h,s=0,h=0,i=e[c][1]):(e[c][0]===F?s+=e[c][1].length:h+=e[c][1].length,i&&i.length<=Math.max(o,l)&&i.length<=Math.max(s,h)&&(e.splice(n[r-1],0,new E(N,i)),e[n[r-1]+1][0]=F,r--,r--,c=r>0?n[r-1]:-1,o=0,l=0,s=0,h=0,i=null,t=!0)),c++;for(t&&yt(e),Cn(e),c=1;c<e.length;){if(e[c-1][0]===N&&e[c][0]===F){const m=e[c-1][1],p=e[c][1],O=Je(m,p),u=Je(p,m);O>=u?(O>=m.length/2||O>=p.length/2)&&(e.splice(c,0,new E(T,p.substring(0,O))),e[c-1][1]=m.substring(0,m.length-O),e[c+1][1]=p.substring(O),c++):(u>=m.length/2||u>=p.length/2)&&(e.splice(c,0,new E(T,m.substring(0,u))),e[c-1][0]=F,e[c-1][1]=p.substring(0,p.length-u),e[c+1][0]=N,e[c+1][1]=m.substring(u),c++),c++}c++}}const Ge=/[^a-z0-9]/i,Ve=/\s/,Ke=/[\r\n]/,dn=/\n\r?\n$/,Sn=/^\r?\n\r?\n/;function Cn(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]===T&&e[t+1][0]===T){let n=e[t-1][1],r=e[t][1],i=e[t+1][1];const c=pt(n,r);if(c){const m=r.substring(r.length-c);n=n.substring(0,n.length-c),r=m+r.substring(0,r.length-c),i=m+i}let o=n,l=r,s=i,h=ue(n,r)+ue(r,i);for(;r.charAt(0)===i.charAt(0);){n+=r.charAt(0),r=r.substring(1)+i.charAt(0),i=i.substring(1);const m=ue(n,r)+ue(r,i);m>=h&&(h=m,o=n,l=r,s=i)}e[t-1][1]!==o&&(o?e[t-1][1]=o:(e.splice(t-1,1),t--),e[t][1]=l,s?e[t+1][1]=s:(e.splice(t+1,1),t--))}t++}}function yt(e){var t;e.push(new E(T,""));let n=0,r=0,i=0,c="",o="",l;for(;n<e.length;)switch(e[n][0]){case F:i++,o+=e[n][1],n++;break;case N:r++,c+=e[n][1],n++;break;case T:r+i>1?(r!==0&&i!==0&&(l=$n(o,c),l!==0&&(n-r-i>0&&e[n-r-i-1][0]===T?e[n-r-i-1][1]+=o.substring(0,l):(e.splice(0,0,new E(T,o.substring(0,l))),n++),o=o.substring(l),c=c.substring(l)),l=pt(o,c),l!==0&&(e[n][1]=o.substring(o.length-l)+e[n][1],o=o.substring(0,o.length-l),c=c.substring(0,c.length-l))),n-=r+i,e.splice(n,r+i),c.length&&(e.splice(n,0,new E(N,c)),n++),o.length&&(e.splice(n,0,new E(F,o)),n++),n++):n!==0&&e[n-1][0]===T?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,i=0,r=0,c="",o="";break}((t=e.at(-1))===null||t===void 0?void 0:t[1])===""&&e.pop();let s=!1;for(n=1;n<e.length-1;)e[n-1][0]===T&&e[n+1][0]===T&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),s=!0):e[n][1].substring(0,e[n+1][1].length)===e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),s=!0)),n++;s&&yt(e)}function ue(e,t){if(!e||!t)return 6;const n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(Ge),c=r.match(Ge),o=i&&n.match(Ve),l=c&&r.match(Ve),s=o&&n.match(Ke),h=l&&r.match(Ke),m=s&&e.match(dn),p=h&&t.match(Sn);return m||p?5:s||h?4:i&&!o&&l?3:o||l?2:i||c?1:0}const bt="Compared values have no visual difference.",An="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.";var fe={},Xe;function On(){if(Xe)return fe;Xe=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=O;const e="diff-sequences",t=0,n=(u,f,a,y,b)=>{let w=0;for(;u<f&&a<y&&b(u,a);)u+=1,a+=1,w+=1;return w},r=(u,f,a,y,b)=>{let w=0;for(;u<=f&&a<=y&&b(f,y);)f-=1,y-=1,w+=1;return w},i=(u,f,a,y,b,w,C)=>{let g=0,d=-u,S=w[g],$=S;w[g]+=n(S+1,f,y+S-d+1,a,b);const A=u<C?u:C;for(g+=1,d+=2;g<=A;g+=1,d+=2){if(g!==u&&$<w[g])S=w[g];else if(S=$+1,f<=S)return g-1;$=w[g],w[g]=S+n(S+1,f,y+S-d+1,a,b)}return C},c=(u,f,a,y,b,w,C)=>{let g=0,d=u,S=w[g],$=S;w[g]-=r(f,S-1,a,y+S-d-1,b);const A=u<C?u:C;for(g+=1,d-=2;g<=A;g+=1,d-=2){if(g!==u&&w[g]<$)S=w[g];else if(S=$-1,S<f)return g-1;$=w[g],w[g]=S-r(f,S-1,a,y+S-d-1,b)}return C},o=(u,f,a,y,b,w,C,g,d,S,$)=>{const A=y-f,W=a-f,P=b-y-W,D=-P-(u-1),q=-P+(u-1);let I=t;const _=u<g?u:g;for(let L=0,M=-u;L<=_;L+=1,M+=2){const V=L===0||L!==u&&I<C[L],j=V?C[L]:I,z=V?j:j+1,X=A+z-M,B=n(z+1,a,X+1,b,w),k=z+B;if(I=C[L],C[L]=k,D<=M&&M<=q){const ee=(u-1-(M+P))/2;if(ee<=S&&d[ee]-1<=k){const x=A+j-(V?M+1:M-1),R=r(f,j,y,x,w),Y=j-R,le=x-R,ne=Y+1,ye=le+1;$.nChangePreceding=u-1,u-1===ne+ye-f-y?($.aEndPreceding=f,$.bEndPreceding=y):($.aEndPreceding=ne,$.bEndPreceding=ye),$.nCommonPreceding=R,R!==0&&($.aCommonPreceding=ne,$.bCommonPreceding=ye),$.nCommonFollowing=B,B!==0&&($.aCommonFollowing=z+1,$.bCommonFollowing=X+1);const Fe=k+1,Ne=X+B+1;return $.nChangeFollowing=u-1,u-1===a+b-Fe-Ne?($.aStartFollowing=a,$.bStartFollowing=b):($.aStartFollowing=Fe,$.bStartFollowing=Ne),!0}}}return!1},l=(u,f,a,y,b,w,C,g,d,S,$)=>{const A=b-a,W=a-f,P=b-y-W,D=P-u,q=P+u;let I=t;const _=u<S?u:S;for(let L=0,M=u;L<=_;L+=1,M-=2){const V=L===0||L!==u&&d[L]<I,j=V?d[L]:I,z=V?j:j-1,X=A+z-M,B=r(f,z-1,y,X-1,w),k=z-B;if(I=d[L],d[L]=k,D<=M&&M<=q){const ee=(u+(M-P))/2;if(ee<=g&&k-1<=C[ee]){const x=X-B;if($.nChangePreceding=u,u===k+x-f-y?($.aEndPreceding=f,$.bEndPreceding=y):($.aEndPreceding=k,$.bEndPreceding=x),$.nCommonPreceding=B,B!==0&&($.aCommonPreceding=k,$.bCommonPreceding=x),$.nChangeFollowing=u-1,u===1)$.nCommonFollowing=0,$.aStartFollowing=a,$.bStartFollowing=b;else{const R=A+j-(V?M-1:M+1),Y=n(j,a,R,b,w);$.nCommonFollowing=Y,Y!==0&&($.aCommonFollowing=j,$.bCommonFollowing=R);const le=j+Y,ne=R+Y;u-1===a+b-le-ne?($.aStartFollowing=a,$.bStartFollowing=b):($.aStartFollowing=le,$.bStartFollowing=ne)}return!0}}}return!1},s=(u,f,a,y,b,w,C,g,d)=>{const S=y-f,$=b-a,A=a-f,W=b-y,G=W-A;let P=A,D=A;if(C[0]=f-1,g[0]=a,G%2===0){const q=(u||G)/2,I=(A+W)/2;for(let _=1;_<=I;_+=1)if(P=i(_,a,b,S,w,C,P),_<q)D=c(_,f,y,$,w,g,D);else if(l(_,f,a,y,b,w,C,P,g,D,d))return}else{const q=((u||G)+1)/2,I=(A+W+1)/2;let _=1;for(P=i(_,a,b,S,w,C,P),_+=1;_<=I;_+=1)if(D=c(_-1,f,y,$,w,g,D),_<q)P=i(_,a,b,S,w,C,P);else if(o(_,f,a,y,b,w,C,P,g,D,d))return}throw new Error(`${e}: no overlap aStart=${f} aEnd=${a} bStart=${y} bEnd=${b}`)},h=(u,f,a,y,b,w,C,g,d,S)=>{if(b-y<a-f){if(w=!w,w&&C.length===1){const{foundSubsequence:k,isCommon:ee}=C[0];C[1]={foundSubsequence:(x,R,Y)=>{k(x,Y,R)},isCommon:(x,R)=>ee(R,x)}}const X=f,B=a;f=y,a=b,y=X,b=B}const{foundSubsequence:$,isCommon:A}=C[w?1:0];s(u,f,a,y,b,A,g,d,S);const{nChangePreceding:W,aEndPreceding:G,bEndPreceding:P,nCommonPreceding:D,aCommonPreceding:q,bCommonPreceding:I,nCommonFollowing:_,aCommonFollowing:L,bCommonFollowing:M,nChangeFollowing:V,aStartFollowing:j,bStartFollowing:z}=S;f<G&&y<P&&h(W,f,G,y,P,w,C,g,d,S),D!==0&&$(D,q,I),_!==0&&$(_,L,M),j<a&&z<b&&h(V,j,a,z,b,w,C,g,d,S)},m=(u,f)=>{if(typeof f!="number")throw new TypeError(`${e}: ${u} typeof ${typeof f} is not a number`);if(!Number.isSafeInteger(f))throw new RangeError(`${e}: ${u} value ${f} is not a safe integer`);if(f<0)throw new RangeError(`${e}: ${u} value ${f} is a negative integer`)},p=(u,f)=>{const a=typeof f;if(a!=="function")throw new TypeError(`${e}: ${u} typeof ${a} is not a function`)};function O(u,f,a,y){m("aLength",u),m("bLength",f),p("isCommon",a),p("foundSubsequence",y);const b=n(0,u,0,f,a);if(b!==0&&y(b,0,0),u!==b||f!==b){const w=b,C=b,g=r(w,u-1,C,f-1,a),d=u-g,S=f-g,$=b+g;u!==$&&f!==$&&h(0,w,d,C,S,!1,[{foundSubsequence:y,isCommon:a}],[t],[t],{aCommonFollowing:t,aCommonPreceding:t,aEndPreceding:t,aStartFollowing:t,bCommonFollowing:t,bCommonPreceding:t,bEndPreceding:t,bStartFollowing:t,nChangeFollowing:t,nChangePreceding:t,nCommonFollowing:t,nCommonPreceding:t}),g!==0&&y(g,d,S)}}return fe}var En=On(),$t=bn(En);function _n(e,t){return e.replace(/\s+$/,n=>t(n))}function Le(e,t,n,r,i,c){return e.length!==0?n(`${r} ${_n(e,i)}`):r!==" "?n(r):t&&c.length!==0?n(`${r} ${c}`):""}function wt(e,t,{aColor:n,aIndicator:r,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:c}){return Le(e,t,n,r,i,c)}function dt(e,t,{bColor:n,bIndicator:r,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:c}){return Le(e,t,n,r,i,c)}function St(e,t,{commonColor:n,commonIndicator:r,commonLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:c}){return Le(e,t,n,r,i,c)}function Ye(e,t,n,r,{patchColor:i}){return i(`@@ -${e+1},${t-e} +${n+1},${r-n} @@`)}function Tn(e,t){const n=e.length,r=t.contextLines,i=r+r;let c=n,o=!1,l=0,s=0;for(;s!==n;){const g=s;for(;s!==n&&e[s][0]===T;)s+=1;if(g!==s)if(g===0)s>r&&(c-=s-r,o=!0);else if(s===n){const d=s-g;d>r&&(c-=d-r,o=!0)}else{const d=s-g;d>i&&(c-=d-i,l+=1)}for(;s!==n&&e[s][0]!==T;)s+=1}const h=l!==0||o;l!==0?c+=l+1:o&&(c+=1);const m=c-1,p=[];let O=0;h&&p.push("");let u=0,f=0,a=0,y=0;const b=g=>{const d=p.length;p.push(St(g,d===0||d===m,t)),a+=1,y+=1},w=g=>{const d=p.length;p.push(wt(g,d===0||d===m,t)),a+=1},C=g=>{const d=p.length;p.push(dt(g,d===0||d===m,t)),y+=1};for(s=0;s!==n;){let g=s;for(;s!==n&&e[s][0]===T;)s+=1;if(g!==s)if(g===0){s>r&&(g=s-r,u=g,f=g,a=u,y=f);for(let d=g;d!==s;d+=1)b(e[d][1])}else if(s===n){const d=s-g>r?g+r:s;for(let S=g;S!==d;S+=1)b(e[S][1])}else{const d=s-g;if(d>i){const S=g+r;for(let A=g;A!==S;A+=1)b(e[A][1]);p[O]=Ye(u,a,f,y,t),O=p.length,p.push("");const $=d-i;u=a+$,f=y+$,a=u,y=f;for(let A=s-r;A!==s;A+=1)b(e[A][1])}else for(let S=g;S!==s;S+=1)b(e[S][1])}for(;s!==n&&e[s][0]===N;)w(e[s][1]),s+=1;for(;s!==n&&e[s][0]===F;)C(e[s][1]),s+=1}return h&&(p[O]=Ye(u,a,f,y,t)),p.join(`
`)}function Pn(e,t){return e.map((n,r,i)=>{const c=n[1],o=r===0||r===i.length-1;switch(n[0]){case N:return wt(c,o,t);case F:return dt(c,o,t);default:return St(c,o,t)}}).join(`
`)}const de=e=>e,Ct=5,Ln=0;function Mn(){return{aAnnotation:"Expected",aColor:Q.green,aIndicator:"-",bAnnotation:"Received",bColor:Q.red,bIndicator:"+",changeColor:Q.inverse,changeLineTrailingSpaceColor:de,commonColor:Q.dim,commonIndicator:" ",commonLineTrailingSpaceColor:de,compareKeys:void 0,contextLines:Ct,emptyFirstOrLastLinePlaceholder:"",expand:!1,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:Q.yellow,printBasicPrototype:!1,truncateThreshold:Ln,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:de}}function Fn(e){return e&&typeof e=="function"?e:void 0}function Nn(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:Ct}function te(e={}){return{...Mn(),...e,compareKeys:Fn(e.compareKeys),contextLines:Nn(e.contextLines)}}function re(e){return e.length===1&&e[0].length===0}function jn(e){let t=0,n=0;return e.forEach(r=>{switch(r[0]){case N:t+=1;break;case F:n+=1;break}}),{a:t,b:n}}function Dn({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:r,bColor:i,bIndicator:c,includeChangeCounts:o,omitAnnotationLines:l},s){if(l)return"";let h="",m="";if(o){const u=String(s.a),f=String(s.b),a=r.length-e.length,y=" ".repeat(Math.max(0,a)),b=" ".repeat(Math.max(0,-a)),w=f.length-u.length,C=" ".repeat(Math.max(0,w)),g=" ".repeat(Math.max(0,-w));h=`${y}  ${n} ${C}${u}`,m=`${b}  ${c} ${g}${f}`}const p=`${n} ${e}${h}`,O=`${c} ${r}${m}`;return`${t(p)}
${i(O)}

`}function Me(e,t,n){return Dn(n,jn(e))+(n.expand?Pn(e,n):Tn(e,n))+(t?n.truncateAnnotationColor(`
${n.truncateAnnotation}`):"")}function pe(e,t,n){const r=te(n),[i,c]=At(re(e)?[]:e,re(t)?[]:t,r);return Me(i,c,r)}function In(e,t,n,r,i){if(re(e)&&re(n)&&(e=[],n=[]),re(t)&&re(r)&&(t=[],r=[]),e.length!==n.length||t.length!==r.length)return pe(e,t,i);const[c,o]=At(n,r,i);let l=0,s=0;return c.forEach(h=>{switch(h[0]){case N:h[1]=e[l],l+=1;break;case F:h[1]=t[s],s+=1;break;default:h[1]=t[s],l+=1,s+=1}}),Me(c,o,te(i))}function At(e,t,n){const r=(n==null?void 0:n.truncateThreshold)??!1,i=Math.max(Math.floor((n==null?void 0:n.truncateThreshold)??0),0),c=r?Math.min(e.length,i):e.length,o=r?Math.min(t.length,i):t.length,l=c!==e.length||o!==t.length,s=(u,f)=>e[u]===t[f],h=[];let m=0,p=0;for($t(c,o,s,(u,f,a)=>{for(;m!==f;m+=1)h.push(new E(N,e[m]));for(;p!==a;p+=1)h.push(new E(F,t[p]));for(;u!==0;u-=1,m+=1,p+=1)h.push(new E(T,t[p]))});m!==c;m+=1)h.push(new E(N,e[m]));for(;p!==o;p+=1)h.push(new E(F,t[p]));return[h,l]}function Ze(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}function Qe(e){return e.includes(`\r
`)?`\r
`:`
`}function Rn(e,t,n){const r=(n==null?void 0:n.truncateThreshold)??!1,i=Math.max(Math.floor((n==null?void 0:n.truncateThreshold)??0),0);let c=e.length,o=t.length;if(r){const u=e.includes(`
`),f=t.includes(`
`),a=Qe(e),y=Qe(t),b=u?`${e.split(a,i).join(a)}
`:e,w=f?`${t.split(y,i).join(y)}
`:t;c=b.length,o=w.length}const l=c!==e.length||o!==t.length,s=(u,f)=>e[u]===t[f];let h=0,m=0;const p=[];return $t(c,o,s,(u,f,a)=>{h!==f&&p.push(new E(N,e.slice(h,f))),m!==a&&p.push(new E(F,t.slice(m,a))),h=f+u,m=a+u,p.push(new E(T,t.slice(a,m)))}),h!==c&&p.push(new E(N,e.slice(h))),m!==o&&p.push(new E(F,t.slice(m))),[p,l]}function zn(e,t,n){return t.reduce((r,i)=>r+(i[0]===T?i[1]:i[0]===e&&i[1].length!==0?n(i[1]):""),"")}class ve{constructor(t,n){H(this,"op");H(this,"line");H(this,"lines");H(this,"changeColor");this.op=t,this.line=[],this.lines=[],this.changeColor=n}pushSubstring(t){this.pushDiff(new E(this.op,t))}pushLine(){this.lines.push(this.line.length!==1?new E(this.op,zn(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new E(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return this.line.length===0}pushDiff(t){this.line.push(t)}align(t){const n=t[1];if(n.includes(`
`)){const r=n.split(`
`),i=r.length-1;r.forEach((c,o)=>{o<i?(this.pushSubstring(c),this.pushLine()):c.length!==0&&this.pushSubstring(c)})}else this.pushDiff(t)}moveLinesTo(t){this.isLineEmpty()||this.pushLine(),t.push(...this.lines),this.lines.length=0}}class Bn{constructor(t,n){H(this,"deleteBuffer");H(this,"insertBuffer");H(this,"lines");this.deleteBuffer=t,this.insertBuffer=n,this.lines=[]}pushDiffCommonLine(t){this.lines.push(t)}pushDiffChangeLines(t){const n=t[1].length===0;(!n||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(t),(!n||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(t)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(t){const n=t[0],r=t[1];if(r.includes(`
`)){const i=r.split(`
`),c=i.length-1;i.forEach((o,l)=>{if(l===0){const s=new E(n,o);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(s)):(this.pushDiffChangeLines(s),this.flushChangeLines())}else l<c?this.pushDiffCommonLine(new E(n,o)):o.length!==0&&this.pushDiffChangeLines(new E(n,o))})}else this.pushDiffChangeLines(t)}getLines(){return this.flushChangeLines(),this.lines}}function kn(e,t){const n=new ve(N,t),r=new ve(F,t),i=new Bn(n,r);return e.forEach(c=>{switch(c[0]){case N:n.align(c);break;case F:r.align(c);break;default:i.align(c)}}),i.getLines()}function Un(e,t){if(t){const n=e.length-1;return e.some((r,i)=>r[0]===T&&(i!==n||r[1]!==`
`))}return e.some(n=>n[0]===T)}function Wn(e,t,n){if(e!==t&&e.length!==0&&t.length!==0){const r=e.includes(`
`)||t.includes(`
`),[i,c]=Ot(r?`${e}
`:e,r?`${t}
`:t,!0,n);if(Un(i,r)){const o=te(n),l=kn(i,o.changeColor);return Me(l,c,o)}}return pe(e.split(`
`),t.split(`
`),n)}function Ot(e,t,n,r){const[i,c]=Rn(e,t,r);return wn(i),[i,c]}function Ee(e,t){const{commonColor:n}=te(t);return n(e)}const{AsymmetricMatcher:qn,DOMCollection:xn,DOMElement:Hn,Immutable:Jn,ReactElement:Gn,ReactTestComponent:Vn}=Pe,Et=[Vn,Gn,Hn,xn,Jn,qn,Pe.Error],_e={maxDepth:20,plugins:Et},_t={callToJSON:!1,maxDepth:8,plugins:Et};function Kn(e,t,n){if(Object.is(e,t))return"";const r=Ze(e);let i=r,c=!1;if(r==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return;i=e.getExpectedType(),c=i==="string"}if(i!==Ze(t)){let y=function(C){return C.length<=a?C:`${C.slice(0,a)}...`};const{aAnnotation:o,aColor:l,aIndicator:s,bAnnotation:h,bColor:m,bIndicator:p}=te(n),O=Te(_t,n);let u=J(e,O),f=J(t,O);const a=1e5;u=y(u),f=y(f);const b=`${l(`${s} ${o}:`)} 
${u}`,w=`${m(`${p} ${h}:`)} 
${f}`;return`${b}

${w}`}if(!c)switch(r){case"string":return pe(e.split(`
`),t.split(`
`),n);case"boolean":case"number":return Xn(e,t,n);case"map":return Se(et(e),et(t),n);case"set":return Se(tt(e),tt(t),n);default:return Se(e,t,n)}}function Xn(e,t,n){const r=J(e,_e),i=J(t,_e);return r===i?"":pe(r.split(`
`),i.split(`
`),n)}function et(e){return new Map(Array.from(e.entries()).sort())}function tt(e){return new Set(Array.from(e.values()).sort())}function Se(e,t,n){let r,i=!1;try{const o=Te(_e,n);r=nt(e,t,o,n)}catch{i=!0}const c=Ee(bt,n);if(r===void 0||r===c){const o=Te(_t,n);r=nt(e,t,o,n),r!==c&&!i&&(r=`${Ee(An,n)}

${r}`)}return r}function Te(e,t){const{compareKeys:n,printBasicPrototype:r,maxDepth:i}=te(t);return{...e,compareKeys:n,printBasicPrototype:r,maxDepth:i??e.maxDepth}}function nt(e,t,n,r){const i={...n,indent:0},c=J(e,i),o=J(t,i);if(c===o)return Ee(bt,r);{const l=J(e,n),s=J(t,n);return In(l.split(`
`),s.split(`
`),c.split(`
`),o.split(`
`),r)}}const rt=2e4;function it(e){return Ae(e)==="Object"&&typeof e.asymmetricMatch=="function"}function ae(e,t){const n=Ae(e),r=Ae(t);return n===r&&(n==="Object"||n==="Array")}function Yn(e,t,n){const{aAnnotation:r,bAnnotation:i}=te(n);if(typeof t=="string"&&typeof e=="string"&&t.length>0&&e.length>0&&t.length<=rt&&e.length<=rt&&t!==e){if(t.includes(`
`)||e.includes(`
`))return Wn(t,e,n);const[m]=Ot(t,e),p=m.some(a=>a[0]===T),O=Zn(r,i),u=O(r)+er(ct(m,N,p)),f=O(i)+vn(ct(m,F,p));return`${u}
${f}`}const c=He(t,{forceWritable:!0}),o=He(e,{forceWritable:!0}),{replacedExpected:l,replacedActual:s}=me(o,c);return Kn(l,s,n)}function me(e,t,n=new WeakSet,r=new WeakSet){return e instanceof Error&&t instanceof Error&&typeof e.cause<"u"&&typeof t.cause>"u"?(delete e.cause,{replacedActual:e,replacedExpected:t}):ae(e,t)?n.has(e)||r.has(t)?{replacedActual:e,replacedExpected:t}:(n.add(e),r.add(t),ht(t).forEach(i=>{const c=t[i],o=e[i];if(it(c)){if(c.asymmetricMatch(o))t[i]=o;else if("sample"in c&&c.sample!==void 0&&ae(o,c.sample)){const l=me(o,c.sample,n,r);e[i]=l.replacedActual,t[i]=l.replacedExpected}}else if(it(o)){if(o.asymmetricMatch(c))e[i]=c;else if("sample"in o&&o.sample!==void 0&&ae(o.sample,c)){const l=me(o.sample,c,n,r);e[i]=l.replacedActual,t[i]=l.replacedExpected}}else if(ae(o,c)){const l=me(o,c,n,r);e[i]=l.replacedActual,t[i]=l.replacedExpected}}),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function Zn(...e){const t=e.reduce((n,r)=>r.length>n?r.length:n,0);return n=>`${n}: ${" ".repeat(t-n.length)}`}const Qn="·";function Tt(e){return e.replace(/\s+$/gm,t=>Qn.repeat(t.length))}function vn(e){return Q.red(Tt(ce(e)))}function er(e){return Q.green(Tt(ce(e)))}function ct(e,t,n){return e.reduce((r,i)=>r+(i[0]===T?i[1]:i[0]===t?n?Q.inverse(i[1]):i[1]:""),"")}const tr="@@__IMMUTABLE_RECORD__@@",nr="@@__IMMUTABLE_ITERABLE__@@";function rr(e){return e&&(e[nr]||e[tr])}const ir=Object.getPrototypeOf({});function ot(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function Z(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(e instanceof Error&&"toJSON"in e&&typeof e.toJSON=="function"){const n=e.toJSON();return n&&n!==e&&typeof n=="object"&&(typeof e.message=="string"&&oe(()=>n.message??(n.message=st(e.message))),typeof e.stack=="string"&&oe(()=>n.stack??(n.stack=e.stack)),typeof e.name=="string"&&oe(()=>n.name??(n.name=e.name)),e.cause!=null&&oe(()=>n.cause??(n.cause=Z(e.cause,t)))),Z(n,t)}if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return`<Buffer(${e.length}) ...>`;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return`<Uint8Array(${e.length}) ...>`;if(rr(e))return Z(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if(typeof e.toJSON=="function")return Z(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){const n=new Array(e.length);return t.set(e,n),e.forEach((r,i)=>{try{n[i]=Z(r,t)}catch(c){n[i]=ot(c)}}),n}else{const n=Object.create(null);t.set(e,n);let r=e;for(;r&&r!==ir;)Object.getOwnPropertyNames(r).forEach(i=>{if(!(i in n))try{n[i]=Z(e[i],t)}catch(c){delete n[i],n[i]=ot(c)}}),r=Object.getPrototypeOf(r);return e instanceof Error&&oe(()=>e.message=st(e.message)),n}}function oe(e){try{return e()}catch{}}function st(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function cr(e,t,n=new WeakSet){if(!e||typeof e!="object")return{message:String(e)};const r=e;(r.showDiff||r.showDiff===void 0&&r.expected!==void 0&&r.actual!==void 0)&&(r.diff=Yn(r.actual,r.expected,{...t,...r.diffOptions})),"expected"in r&&typeof r.expected!="string"&&(r.expected=ce(r.expected,10)),"actual"in r&&typeof r.actual!="string"&&(r.actual=ce(r.actual,10));try{!n.has(r)&&typeof r.cause=="object"&&(n.add(r),r.cause=cr(r.cause,t,n))}catch{}try{return Z(r)}catch(i){return Z(new Error(`Failed to fully serialize error: ${i==null?void 0:i.message}
Inner error message: ${r==null?void 0:r.message}`))}}const lt=Symbol("vitest:SAFE_TIMERS");function Lr(){const{setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:r,setImmediate:i,clearImmediate:c,queueMicrotask:o}=globalThis[lt]||globalThis,{nextTick:l}=globalThis[lt]||globalThis.process||{};return{nextTick:l,setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:r,setImmediate:i,clearImmediate:c,queueMicrotask:o}}function Mr(e,t=setTimeout){return new Promise(n=>t(n,e))}const or=/^[A-Za-z]:\//;function sr(e=""){return e&&e.replace(/\\/g,"/").replace(or,t=>t.toUpperCase())}const lr=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function ur(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const fr=function(...e){e=e.map(r=>sr(r));let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const i=r>=0?e[r]:ur();!i||i.length===0||(t=`${i}/${t}`,n=ut(i))}return t=ar(t,!n),n&&!ut(t)?`/${t}`:t.length>0?t:"."};function ar(e,t){let n="",r=0,i=-1,c=0,o=null;for(let l=0;l<=e.length;++l){if(l<e.length)o=e[l];else{if(o==="/")break;o="/"}if(o==="/"){if(!(i===l-1||c===1))if(c===2){if(n.length<2||r!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const s=n.lastIndexOf("/");s===-1?(n="",r=0):(n=n.slice(0,s),r=n.length-1-n.lastIndexOf("/")),i=l,c=0;continue}else if(n.length>0){n="",r=0,i=l,c=0;continue}}t&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+=`/${e.slice(i+1,l)}`:n=e.slice(i+1,l),r=l-i-1;i=l,c=0}else o==="."&&c!==-1?++c:c=-1}return n}const ut=function(e){return lr.test(e)};var ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gr=new Uint8Array(64),hr=new Uint8Array(128);for(let e=0;e<ft.length;e++){const t=ft.charCodeAt(e);gr[e]=t,hr[t]=e}const Pt=/^\s*at .*(?:\S:\d+|\(native\))/m,mr=/^(?:eval@)?(?:\[native code\])?$/;function Lt(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let r=n[1];if(r.startsWith("async ")&&(r=r.slice(6)),r.startsWith("http:")||r.startsWith("https:")){const i=new URL(r);i.searchParams.delete("import"),i.searchParams.delete("browserv"),r=i.pathname+i.hash+i.search}if(r.startsWith("/@fs/")){const i=/^\/@fs\/[a-zA-Z]:\//.test(r);r=r.slice(i?5:4)}return[r,n[2]||void 0,n[3]||void 0]}function pr(e){let t=e.trim();if(mr.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")))return null;let n=-1,r="",i;for(let s=0;s<t.length;s++)if(t[s]==="@"){const h=t.slice(s+1);if(h.includes(":")&&h.length>=3){n=s,r=h,i=s>0?t.slice(0,s):void 0;break}}if(n===-1||!r.includes(":")||r.length<3)return null;const[c,o,l]=Lt(r);return!c||!o||!l?null:{file:c,method:i||"",line:Number.parseInt(o),column:Number.parseInt(l)}}function Fr(e){const t=e.trim();return Pt.test(t)?yr(t):pr(t)}function yr(e){let t=e.trim();if(!Pt.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;const[i,c,o]=Lt(r?r[1]:n);let l=r&&n||"",s=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!s||!c||!o?null:(l.startsWith("async ")&&(l=l.slice(6)),s.startsWith("file://")&&(s=s.slice(7)),s=s.startsWith("node:")||s.startsWith("internal:")?s:fr(s),l&&(l=l.replace(/__vite_ssr_import_\d+__\./g,"").replace(/(Object\.)?__vite_ssr_export_default__\s?/g,"")),{method:l,file:s,line:Number.parseInt(c),column:Number.parseInt(o)})}export{cr as a,Cr as b,Fr as c,Kn as d,Lr as e,Tr as f,Ae as g,Pr as h,Or as i,dr as j,hn as k,Sr as l,Mr as m,Er as n,_r as o,Yn as p,ce as s,Ar as t};
//# sourceMappingURL=vitest_utils-CmkFzQWi.js.map
