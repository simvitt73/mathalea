{"version":3,"file":"auto6N2B-6-Dz9uzArw.js","sources":["../../src/exercices/6e/auto6N2B-6.ts"],"sourcesContent":["import Figure from 'apigeom/src/Figure'\nimport handleApigeomFigureElement from '../../lib/apigeom/apigeom-figure'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Décomposer une fraction (partie entière + fraction inférieure à 1)'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDeModifImportante = '24/11/2024'\n\n/**\n * Amélioration d'un exercice de Rémi Angot\n * @author Guillaume Valmont\n */\nexport const uuid = '6c8a1'\nexport const refs = {\n  'fr-fr': ['auto6N2B-6'],\n  'fr-2016': ['6N20'],\n  'fr-ch': ['9NO10-9'],\n}\nexport default class ExerciceFractionsDecomposer extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 5\n    this.consigne =\n      \"Écrire sous la forme de la somme d'un nombre entier et d'une fraction inférieure à 1.\"\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.sup = '2-3-4-5-6-7-8-9-10-11'\n    this.sup2 = '1-2-3'\n    this.sup3 = true\n    this.besoinFormulaireTexte = [\n      'Dénominateurs',\n      'Nombres séparés par des tirets :\\n(de 2 à 11 par défaut)',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Parties entières',\n      'Nombres séparés par des tirets :\\n(de 1 à 3 par défaut)',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Brouillon interactif']\n  }\n\n  nouvelleVersion() {\n    if (this.sup3 && context.isHtml) {\n      const figure = new Figure({\n        xMin: -0.5,\n        yMin: -2,\n        width: 800,\n        height: 120,\n      })\n      figure.options.automaticUserMessage = false\n      figure.options.color = 'blue'\n      figure.create('RectangleFractionDiagram', {\n        denominator: 2,\n        numberOfRectangles: 5,\n      })\n      handleApigeomFigureElement()\n      this.introduction = `<apigeom-figure interactive default-action='FILL' x-min=${figure.xMin} y-min=${figure.yMin} width=${figure.width} height=${figure.height} numero-exercice=${this.numeroExercice} index=0 auto-index><script type=\"application/json\">${figure.json}</script></apigeom-figure>`\n    } else {\n      this.introduction = ''\n    }\n    const listeDenominateurs = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 2,\n      max: 1000,\n      defaut: 1000,\n      melange: 0,\n      shuffle: true,\n      nbQuestions: this.nbQuestions,\n    }).map((element) => Number(element))\n    const listePartiesEntieres = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 1000,\n      defaut: 1000,\n      melange: 0,\n      shuffle: true,\n      nbQuestions: this.nbQuestions,\n    }).map((element) => Number(element))\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const denominateur =\n        listeDenominateurs[cpt % this.nbQuestions] === 1000\n          ? randint(2, 11)\n          : listeDenominateurs[cpt % this.nbQuestions]\n      const partieFractionnaire = randint(1, denominateur - 1)\n      const partieEntiere =\n        listePartiesEntieres[cpt % this.nbQuestions] === 1000\n          ? randint(1, 3)\n          : listePartiesEntieres[cpt % this.nbQuestions]\n      const total = partieEntiere * denominateur + partieFractionnaire\n\n      const fraction = new FractionEtendue(total, denominateur).toLatex()\n      const fractionReste = new FractionEtendue(\n        partieFractionnaire,\n        denominateur,\n      ).toLatex()\n\n      const texte = remplisLesBlancs(\n        this,\n        i,\n        `\\\\dfrac{${total}}{${denominateur}}~=~%{champ1} + \\\\dfrac{%{champ2}}{%{champ3}}`,\n      )\n      const texteCorr = `$${fraction} = ${partieEntiere} + ${fractionReste} $`\n      handleAnswers(\n        this,\n        i,\n        {\n          champ1: { value: String(partieEntiere) },\n          champ2: { value: String(partieFractionnaire) },\n          champ3: { value: String(denominateur) },\n        },\n        { formatInteractif: 'fillInTheBlank' },\n      )\n      if (this.questionJamaisPosee(i, total, denominateur)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDeModifImportante","uuid","refs","ExerciceFractionsDecomposer","Exercice","context","figure","Figure","handleApigeomFigureElement","listeDenominateurs","gestionnaireFormulaireTexte","element","listePartiesEntieres","i","cpt","denominateur","randint","partieFractionnaire","partieEntiere","total","fraction","FractionEtendue","fractionReste","texte","remplisLesBlancs","texteCorr","handleAnswers","listeQuestionsToContenu"],"mappings":"iqFAaO,MAAMA,GACX,qEACWC,GAAkB,GAClBC,GAAiB,WACjBC,GAAwB,aAMxBC,GAAO,QACPC,GAAO,CAClB,QAAS,CAAC,YAAY,EACtB,UAAW,CAAC,MAAM,EAClB,QAAS,CAAC,SAAS,CACrB,EACA,MAAqBC,WAAoCC,CAAS,CAChE,aAAc,CACZ,MAAA,EACA,KAAK,YAAc,EACnB,KAAK,SACH,wFACF,KAAK,QAAU,EACf,KAAK,YAAc,EACnB,KAAK,OAAS,EACd,KAAK,WAAa,EAClB,KAAK,IAAM,wBACX,KAAK,KAAO,QACZ,KAAK,KAAO,GACZ,KAAK,sBAAwB,CAC3B,gBACA;AAAA,uBAAA,EAEF,KAAK,uBAAyB,CAC5B,mBACA;AAAA,sBAAA,EAEF,KAAK,6BAA+B,CAAC,sBAAsB,CAC7D,CAEA,iBAAkB,CAChB,GAAI,KAAK,MAAQC,EAAQ,OAAQ,CAC/B,MAAMC,EAAS,IAAIC,EAAO,CACxB,KAAM,IACN,KAAM,GACN,MAAO,IACP,OAAQ,GAAA,CACT,EACDD,EAAO,QAAQ,qBAAuB,GACtCA,EAAO,QAAQ,MAAQ,OACvBA,EAAO,OAAO,2BAA4B,CACxC,YAAa,EACb,mBAAoB,CAAA,CACrB,EACDE,EAAA,EACA,KAAK,aAAe,2DAA2DF,EAAO,IAAI,UAAUA,EAAO,IAAI,UAAUA,EAAO,KAAK,WAAWA,EAAO,MAAM,oBAAoB,KAAK,cAAc,uDAAuDA,EAAO,IAAI,6BACxQ,MACE,KAAK,aAAe,GAEtB,MAAMG,EAAqBC,EAA4B,CACrD,OAAQ,KAAK,IACb,IAAK,EACL,IAAK,IACL,OAAQ,IACR,QAAS,EACT,QAAS,GACT,YAAa,KAAK,WAAA,CACnB,EAAE,IAAKC,GAAY,OAAOA,CAAO,CAAC,EAC7BC,EAAuBF,EAA4B,CACvD,OAAQ,KAAK,KACb,IAAK,EACL,IAAK,IACL,OAAQ,IACR,QAAS,EACT,QAAS,GACT,YAAa,KAAK,WAAA,CACnB,EAAE,IAAKC,GAAY,OAAOA,CAAO,CAAC,EACnC,QAASE,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,MAAMC,EACJN,EAAmBK,EAAM,KAAK,WAAW,IAAM,IAC3CE,EAAQ,EAAG,EAAE,EACbP,EAAmBK,EAAM,KAAK,WAAW,EACzCG,EAAsBD,EAAQ,EAAGD,EAAe,CAAC,EACjDG,EACJN,EAAqBE,EAAM,KAAK,WAAW,IAAM,IAC7CE,EAAQ,EAAG,CAAC,EACZJ,EAAqBE,EAAM,KAAK,WAAW,EAC3CK,EAAQD,EAAgBH,EAAeE,EAEvCG,EAAW,IAAIC,EAAgBF,EAAOJ,CAAY,EAAE,QAAA,EACpDO,EAAgB,IAAID,EACxBJ,EACAF,CAAA,EACA,QAAA,EAEIQ,EAAQC,EACZ,KACAX,EACA,WAAWM,CAAK,KAAKJ,CAAY,+CAAA,EAE7BU,EAAY,IAAIL,CAAQ,MAAMF,CAAa,MAAMI,CAAa,KACpEI,EACE,KACAb,EACA,CACE,OAAQ,CAAE,MAAO,OAAOK,CAAa,CAAA,EACrC,OAAQ,CAAE,MAAO,OAAOD,CAAmB,CAAA,EAC3C,OAAQ,CAAE,MAAO,OAAOF,CAAY,CAAA,CAAE,EAExC,CAAE,iBAAkB,gBAAA,CAAiB,EAEnC,KAAK,oBAAoBF,EAAGM,EAAOJ,CAAY,IAEjD,KAAK,eAAeF,CAAC,EAAIU,EACzB,KAAK,iBAAiBV,CAAC,EAAIY,EAC3BZ,KAEFC,GACF,CACAa,EAAwB,IAAI,CAC9B,CACF"}