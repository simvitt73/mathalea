{"version":3,"file":"Bissectrice-BSMWVOAR.js","sources":["../../src/lib/2d/CodageBissectrice.ts","../../src/lib/2d/Bissectrice.ts"],"sourcesContent":["import { codageAngle } from './angles'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { fixeBordures } from './fixeBordures'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { rotation } from './transformations'\nimport { angleOriente } from './utilitairesGeometriques'\nimport { pointSurSegment } from './utilitairesPoint'\n\n/**\n * Code la bissectrice d'un angle\n * @param {PointAbstrait} A Point sur un côté de l'angle\n * @param {PointAbstrait} O Sommet de l'angle\n * @param {PointAbstrait} B Point sur l'autre côté de l'angle\n * @param {string} [color = 'black'] Couleur de la bissectrice : du type 'blue' ou du type '#f15929'\n * @param {string} [mark = 'x'] Symbole posé sur les arcs\n * @property {string} color Couleur de la bissectrice. À associer obligatoirement à colorToLatexOrHTML().\n * @property {string} mark Symbole posé sur les arcs\n * @property {PointAbstrait} centre Sommet de l'angle\n * @property {PointAbstrait} depart Point sur un côté de l'angle (équivalent au point A)\n * @author Jean-Claude Lhote\n * @class\n */\n// JSDOC Validee par EE Juin 2022\n\nexport class CodageBissectrice extends ObjetMathalea2D {\n  mark: string\n  centre: PointAbstrait\n  depart: PointAbstrait\n  constructor(\n    A: PointAbstrait,\n    O: PointAbstrait,\n    B: PointAbstrait,\n    color = 'black',\n    mark = 'X',\n  ) {\n    super()\n    this.color = colorToLatexOrHTML(color)\n    this.mark = mark\n    this.centre = O\n    this.depart = pointSurSegment(O, A, 1.5)\n    const demiangle = angleOriente(A, O, B) / 2\n    const lieu = rotation(this.depart, O, demiangle)\n    const a1 = codageAngle(\n      pointSurSegment(this.centre, this.depart),\n      O,\n      demiangle,\n      1,\n      this.mark,\n      color,\n      1,\n      1,\n    )\n    const a2 = codageAngle(\n      pointSurSegment(this.centre, lieu),\n      O,\n      demiangle,\n      1,\n      this.mark,\n      color,\n      1,\n      1,\n    )\n    this.objets = [a1, a2]\n    const bordures = fixeBordures([a1, a2])\n    this.bordures = [bordures.xmin, bordures.ymin, bordures.xmax, bordures.ymax]\n  }\n}\n/**\n * Code la bissectrice d'un angle\n * @param {PointAbstrait} A Point sur un côté de l'angle\n * @param {PointAbstrait} O Sommet de l'angle\n * @param {PointAbstrait} B Point sur l'autre côté de l'angle\n * @param {string} [color = 'black'] Couleur de la bissectrice : du type 'blue' ou du type '#f15929'\n * @param {string} [mark='x'] Symbole posé sur les arcs\n * @example codagebissectrice(M,N,P) // Code, en noir, la bissectrice de l'angle MNP avec les marques 'x'\n * @example codagebissectrice(M,N,P,'red','oo') // Code, en rouge, la bissectrice de l'angle MNP avec les marques 'oo'\n * @author Jean-Claude Lhote\n * @return {CodageBissectrice}\n */\n// JSDOC Validee par EE Juin 2022\n\nexport function codageBissectrice(\n  A: PointAbstrait,\n  O: PointAbstrait,\n  B: PointAbstrait,\n  color = 'black',\n  mark = 'X',\n) {\n  return new CodageBissectrice(A, O, B, color, mark)\n}\n","import { codageBissectrice } from './CodageBissectrice'\nimport { codageSegments } from './CodageSegment'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { DemiDroite, demiDroite } from './DemiDroite'\nimport { droite } from './droites'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { Point } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { traceCompas } from './traceCompas'\nimport { rotation, symetrieAxiale } from './transformations'\nimport { angleOriente, longueur, pointEstSur } from './utilitairesGeometriques'\nimport { pointSurSegment } from './utilitairesPoint'\n\n/**\n * Trace la bissectrice d'un angle, en laissant éventuellement apparents les traits de construction au compas\n * @param {Point} A Point sur un côté de l'angle\n * @param {Point} O Sommet de l'angle\n * @param {Point} B Point sur l'autre côté de l'angle\n * @param {string} [couleurBissectrice = 'red'] Couleur de la médiatrice : du type 'blue' ou du type '#f15929'. Si 'none' ou '', pas de hachures.\n * @param {string} [color='blue'] Couleur du codage : du type 'blue' ou du type '#f15929'.\n * @param {string} [couleurConstruction = 'black'] Couleur de la médiatrice : du type 'blue' ou du type '#f15929'. Si 'none' ou '', pas de hachures.\n * @param {boolean} [construction=false] Si construction est true, alors on affiche le codage et aussi les coups de compas utiles à la construction.\n * @param {boolean} [detail=false] Si detail est true, alors on affiche aussi en pointillés les rayons utiles à la construction.\n * @param {string} [mark='×'] Symbole posé sur les arcs\n * @param {number} [tailleLosange = 5] Longueur d'un côté du losange de construction\n * @param {number} [epaisseurBissectrice = 1] Epaisseur de la bissectrice\n * @param {number} [opaciteBissectrice = 1] Taux d'opacité de la bissectrice\n * @param {number} [pointillesBissectrice = 0] Si cette valeur est entre 1 et 5, la bissectrice est en pointillés\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {string} couleurBissectrice Couleur de la médiatrice : du type 'blue' ou du type '#f15929'. Si 'none' ou '', pas de hachures.\n * @property {string} color Couleur du codage. À associer obligatoirement à colorToLatexOrHTML().\n * @property {string} couleurConstruction Couleur de la médiatrice. À associer obligatoirement à colorToLatexOrHTML(). Si 'none' ou '', pas de hachures.\n * @property {string} mark Symbole posé sur les arcs\n * @property {number} tailleLosange Longueur d'un côté du losange de construction\n * @property {number} epaisseurBissectrice Epaisseur de la bissectrice\n * @property {number} opaciteBissectrice Taux d'opacité de la bissectrice\n * @property {number} pointillesBissectrice Si cette valeur est entre 1 et 5, la bissectrice est en pointillés\n * @author Rémi Angot (amendée par Eric Elter en juin 2022)\n * @class\n */\n// JSDOC Validee par EE Juin 2022\n\nexport class Bissectrice extends DemiDroite {\n  tailleLosange?: number\n  mark?: string\n  couleurBissectrice?: string\n  epaisseurBissectrice?: number\n  opaciteBissectrice?: number\n  pointillesBissectrice?: number\n  couleurConstruction?: string\n\n  constructor(\n    A: PointAbstrait,\n    O: PointAbstrait,\n    B: PointAbstrait,\n    couleurBissectrice = 'red',\n    color = 'blue',\n    couleurConstruction = 'black',\n    construction = false,\n    detail = false,\n    mark = '×',\n    tailleLosange = 5,\n    epaisseurBissectrice = 1,\n    opaciteBissectrice = 1,\n    pointillesBissectrice = 0,\n  ) {\n    const demiangle = angleOriente(A, O, B) / 2\n    const m = pointSurSegment(O, A, 3)\n    const X = rotation(m, O, demiangle)\n    super(O, X, couleurBissectrice)\n    this.color = colorToLatexOrHTML(color)\n    this.tailleLosange = tailleLosange\n    this.mark = mark\n    this.couleurBissectrice = couleurBissectrice\n    this.epaisseurBissectrice = epaisseurBissectrice\n    this.couleurConstruction = couleurConstruction\n    this.opaciteBissectrice = opaciteBissectrice\n    this.pointillesBissectrice = pointillesBissectrice\n    if (longueur(A, O) < 0.001 || longueur(O, B) < 0.001)\n      window.notify('Bissectrice : points confondus', { A, O, B })\n    // Construction de la bissectrice\n    const d = demiDroite(O, X, couleurBissectrice)\n    d.epaisseur = epaisseurBissectrice\n    d.opacite = opaciteBissectrice\n    d.pointilles = pointillesBissectrice\n    this.objets = [d]\n    const M = pointSurSegment(O, A, this.tailleLosange)\n    const N = pointSurSegment(O, B, this.tailleLosange)\n    const dMN = droite(M, N)\n    const P = symetrieAxiale(O, dMN) as Point\n    if (construction || detail) {\n      if (!pointEstSur(M, segment(O, A))) {\n        const sOM = segment(O, M, this.couleurConstruction)\n        this.objets.push(sOM)\n      }\n      if (!pointEstSur(N, segment(O, B))) {\n        const sON = segment(O, N, this.couleurConstruction)\n        this.objets.push(sON)\n      }\n      if (construction) {\n        const codage = codageBissectrice(A, O, B, color, mark)\n        const tNP = traceCompas(N, P, 20, this.couleurConstruction)\n        const tMP = traceCompas(M, P, 20, this.couleurConstruction)\n        const tOM = traceCompas(O, M, 20, this.couleurConstruction)\n        const tON = traceCompas(O, N, 20, this.couleurConstruction)\n        this.objets.push(codage, tNP, tMP, tOM, tON)\n      }\n      if (detail) {\n        const sMP = segment(M, P, this.couleurConstruction)\n        const sNP = segment(N, P, this.couleurConstruction)\n        sMP.pointilles = 5\n        sNP.pointilles = 5\n        const codes = codageSegments(this.mark, color, O, M, M, P, O, N, N, P)\n        this.objets.push(sMP, sNP, codes)\n      }\n    }\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n/**\n * Trace la bissectrice d'un angle, en laissant éventuellement apparents les traits de construction au compas\n * @param {Point} A Point sur un côté de l'angle\n * @param {Point} O Sommet de l'angle\n * @param {Point} B Point sur l'autre côté de l'angle\n * @param {string} [couleurBissectrice = 'red'] Couleur de la médiatrice : du type 'blue' ou du type '#f15929' Si 'none' ou '', pas de hachures.\n * @param {string} [color='blue'] Couleur du codage : du type 'blue' ou du type '#f15929'.\n * @param {string} [couleurConstruction = 'black'] Couleur de la médiatrice : du type 'blue' ou du type '#f15929' Si 'none' ou '', pas de hachures.\n * @param {boolean} [construction=false] Si construction est true, alors on affiche le codage et aussi les coups de compas utiles à la construction.\n * @param {boolean} [detail=false] Si detail est true, alors on affiche aussi en pointillés les rayons utiles à la construction.\n * @param {string} [mark='×'] Symbole posé sur les arcs\n * @param {number} [tailleLosange = 5] Longueur d'un côté du losange de construction\n * @param {number} [epaisseurBissectrice = 1] Epaisseur de la bissectrice\n * @param {number} [opaciteBissectrice = 1] Taux d'opacité de la bissectrice\n * @param {number} [pointillesBissectrice = 0] Si cette valeur est entre 1 et 5, la bissectrice est en pointillés\n * @example bissectrice(N,R,J)\n * // Trace, en rouge, la bissectrice de l'angle NRJ, d'épaisseur 1 et d'opacité 100 %, sans autre option\n * @example bissectrice(N,R,J,'blue')\n * // Trace, en bleu, la bissectrice de l'angle NRJ, d'épaisseur 1 et d'opacité 100 %, sans autre option\n * @example bissectrice(N,R,J,'blue','red','green',true,true,'||',6,2,0.5,3)\n * // Trace, en rouge, la bissectrice de l'angle NRJ, d'épaisseur 1 et d'opacité 100 %. Les traits de construction sont dessinés en vert avec les marques '||' en rouge.\n * @author Rémi Angot (amendée par Eric Elter en juin 2022)\n * @return {Bissectrice}\n */\n// JSDOC Validee par EE Juin 2022\n\nexport function bissectrice(\n  A: PointAbstrait,\n  O: PointAbstrait,\n  B: PointAbstrait,\n  couleurBissectrice = 'red',\n  color = 'blue',\n  couleurConstruction = 'black',\n  construction = false,\n  detail = false,\n  mark = '×',\n  tailleLosange = 5,\n  epaisseurBissectrice = 1,\n  opaciteBissectrice = 1,\n  pointillesBissectrice = 0,\n) {\n  return new Bissectrice(\n    A,\n    O,\n    B,\n    couleurBissectrice,\n    color,\n    couleurConstruction,\n    construction,\n    detail,\n    mark,\n    tailleLosange,\n    epaisseurBissectrice,\n    opaciteBissectrice,\n    pointillesBissectrice,\n  )\n}\n"],"names":["CodageBissectrice","ObjetMathalea2D","A","O","B","color","mark","__publicField","colorToLatexOrHTML","pointSurSegment","demiangle","angleOriente","lieu","rotation","a1","codageAngle","a2","bordures","fixeBordures","codageBissectrice","Bissectrice","DemiDroite","couleurBissectrice","couleurConstruction","construction","detail","tailleLosange","epaisseurBissectrice","opaciteBissectrice","pointillesBissectrice","m","X","longueur","d","demiDroite","M","N","dMN","droite","P","symetrieAxiale","pointEstSur","segment","sOM","sON","codage","tNP","traceCompas","tMP","tOM","tON","sMP","sNP","codes","codageSegments","coeff","code","objet","bissectrice"],"mappings":"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"}