{"version":3,"file":"5N20-D8ZQW8bD.js","sources":["../../src/exercices/5e/5N20.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { sp } from '../../lib/outils/outilString'\nimport { pgcd } from '../../lib/outils/primalite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const dateDeModifImportante = '04/12/2025'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifReady = true\nexport const interactifType = ['qcm', 'mathLive']\nexport const titre =\n  'Additionner ou soustraire deux fractions positives (dénominateurs multiples)'\n/**\n * Effectuer l'addition ou la soustraction de deux fractions dont un dénominateur est un multiple de l'autre.\n * Les numérateurs peuvent être positifs ou négatifs.\n *\n * Le coefficient est paramétrable, par défaut il est inférieur à 11.\n *\n * On peut paramétrer de n'avoir que des soustractions.\n * @author Rémi Angot, modifié par Eric Elter\n * Modif : Rajout des numérateurs négatifs par Eric Elter\n */\nexport const uuid = 'd5ee3'\nexport const refs = {\n  'fr-fr': ['5N20', 'BP2AutoH22'],\n  'fr-ch': ['9NO13-6'],\n}\nexport default class ExerciceAdditionnerSoustraireFractions5ebis extends Exercice {\n  level: number\n  constructor() {\n    super()\n    this.sup = 11 // Correspond au facteur commun\n    this.sup2 = 3 // Si 1 alors il n'y aura pas de soustraction\n    this.sup3 = true // Si false alors le résultat n'est pas en fraction simplifiée\n    this.sup4 = true // QCM pour l'interactif\n    this.sup5 = 0 // Pourcentage de fractions avec numérateur négatif\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 5\n    this.besoinFormulaireNumerique = [\n      'Valeur maximale du coefficient multiplicateur',\n      99999,\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Type de calculs',\n      3,\n      '1 : Additions\\n2 : Soustractions\\n3 : Mélange',\n    ]\n    this.besoinFormulaire3CaseACocher = [\n      \"Avec l'écriture simplifiée de la fraction résultat\",\n    ]\n    this.besoinFormulaire4CaseACocher = [\"QCM pour l'interactif\"]\n    this.besoinFormulaire5Numerique = [\n      'Pourcentage de fractions avec numérateur négatif',\n      100,\n    ]\n    this.level = 5\n  }\n\n  nouvelleVersion() {\n    if (this.sup3 && !context.isAmc) {\n      this.consigne = 'Calculer'\n      this.consigne += this.interactif\n        ? ' au brouillon et indiquer seulement le résultat final simplifié au maximum.'\n        : ' et simplifier au maximum le résultat.'\n    } else {\n      if (context.isAmc) {\n        this.consigne =\n          'Calculer et choisir parmi les réponses proposées la bonne réponse.'\n      } else {\n        this.consigne = 'Calculer'\n        this.consigne += this.interactif\n          ? ' au brouillon et indiquer seulement le résultat final.'\n          : '.'\n      }\n    }\n\n    let listeTypeDeQuestions\n\n    if (this.sup2 === 1) {\n      listeTypeDeQuestions = combinaisonListes(['+'], this.nbQuestions)\n    } else if (this.sup2 === 2) {\n      listeTypeDeQuestions = combinaisonListes(['-'], this.nbQuestions)\n    } else {\n      listeTypeDeQuestions = combinaisonListes(['+', '-'], this.nbQuestions)\n    }\n\n    this.interactifType = this.sup4 ? 'qcm' : 'mathLive'\n\n    for (\n      let i = 0, a, b, c, d, k, s, ordreDesFractions, texte, texteCorr;\n      i < this.nbQuestions;\n\n    ) {\n      this.autoCorrection[i] = {}\n      texte = ''\n      texteCorr = ''\n\n      // Décision si les numérateurs seront négatifs ou non\n      const aNegatif = randint(1, 100) <= this.sup5\n      const cNegatif = randint(1, 100) <= this.sup5\n\n      // Les numérateurs (positifs ou négatifs selon décision précédente)\n      a = randint(1, 9) * (aNegatif ? -1 : 1)\n\n      // Les dénominateurs (toujours positifs)\n      b = randint(2, 9, Math.abs(a))\n\n      if (this.sup > 1) {\n        k = randint(2, this.sup)\n      } else k = 1\n\n      d = b * k\n\n      if (listeTypeDeQuestions[i] === '-') {\n        c =\n          choice([randint(1, b * k), randint(b * k, 9 * k)]) *\n          (cNegatif ? -1 : 1)\n      } else {\n        c = randint(1, 19, d) * (cNegatif ? -1 : 1)\n      }\n\n      let f1 = new FractionEtendue(a, b)\n      let f2 = new FractionEtendue(c, d)\n\n      if (listeTypeDeQuestions[i] === '+') {\n        // une addition\n        if (\n          !context.isAmc ||\n          (this.interactif && this.interactifType === 'qcm')\n        ) {\n          /** ***************** Choix des réponses du QCM ***********************************/\n          this.autoCorrection[i].propositions = [\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * k + c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * k + c, d).texFraction}$`,\n              statut: true,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a + c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a + c, d).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a + c, b + d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a + c, b + d).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * c, d).texFraction}$`,\n              statut: false,\n            },\n          ]\n          this.autoCorrection[i].options = {\n            ordered: false,\n            lastChoice: 5,\n          }\n          if (this.level === 6) {\n            // En 6e, pas de fraction simplifiée\n            // Les fractions ont le même dénominateur (b=d)\n            // @ts-expect-error\n            this.autoCorrection[i].propositions[0].texte =\n              `$${new FractionEtendue(a + c, b).texFraction}$`\n          }\n          /*************************************************************************/\n        }\n\n        ordreDesFractions = randint(1, 2)\n\n        if (ordreDesFractions === 1) {\n          texte = `$${f1.texFraction}+${f2.texFraction}$`\n          /** ****************** AMC question/questionmult ********************************/\n          this.autoCorrection[i].enonce = `${texte}\\n`\n          /*******************************************************************************/\n        } else {\n          texte = `$${f2.texFraction}+${f1.texFraction}$`\n          /** ****************** AMC question/questionmult ******************************/\n          this.autoCorrection[i].enonce = `${texte}\\n`\n          /*******************************************************************************/\n        }\n\n        if (ordreDesFractions === 1) {\n          texteCorr = `$${f1.texFraction}+${f2.texFraction}=`\n          texte = `$${f1.texFraction}+${f2.texFraction}$`\n          if (this.level !== 6 && this.sup !== 1) {\n            texteCorr += `\\\\dfrac{${a}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${b}${miseEnEvidence('\\\\times ' + k, 'blue')}}+${f2.texFraction}=${new FractionEtendue(a * k, b * k).texFraction}+${f2.texFraction}=`\n          }\n          texteCorr += `\\\\dfrac{${a * k}+${ecritureParentheseSiNegatif(c)}}{${d}}=${new FractionEtendue(a * k + c, d).texFraction}`\n        } else {\n          texteCorr = `$${f2.texFraction}+${f1.texFraction}=`\n          texte = `$${f2.texFraction}+${f1.texFraction}$`\n          if (this.level !== 6 && this.sup !== 1) {\n            texteCorr += `${f2.texFraction}+\\\\dfrac{${a}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${b}${miseEnEvidence('\\\\times ' + k, 'blue')}}=${f2.texFraction}+${new FractionEtendue(a * k, b * k).texFraction}=`\n          }\n\n          texteCorr += `\\\\dfrac{${c}+${ecritureParentheseSiNegatif(a * k)}}{${d}}=${new FractionEtendue(a * k + c, d).texFraction}`\n        }\n        texteCorr +=\n          a * k + c < 0 ? `=${new FractionEtendue(a * k + c, d).texFSD}$` : '$'\n\n        // Est-ce que le résultat est simplifiable ?\n        if (this.sup3) {\n          s = pgcd(Math.abs(a * k + c), d)\n          if (s !== 1) {\n            if (a * k + c < 0) {\n              texteCorr += `$=-\\\\dfrac{${Math.abs(a * k + c) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${d / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue((a * k + c) / s, d / s).texFractionSimplifiee}$`\n            } else {\n              texteCorr += `$=\\\\dfrac{${(a * k + c) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${d / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue((a * k + c) / s, d / s).texFractionSimplifiee}$`\n            }\n          }\n        }\n\n        if (!context.isAmc) {\n          if (this.interactif && this.interactifType === 'qcm') {\n            const props = propositionsQcm(this, i)\n            texte += '<br>' + props.texte\n          } else if (this.interactifType === 'mathLive') {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              '  clavierDeBaseAvecFraction',\n              { texteAvant: sp() + '$=$' },\n            )\n            handleAnswers(this, i, {\n              reponse: {\n                value: new FractionEtendue(a * k + c, d).toLatex(),\n                options: {\n                  fractionIrreductible: this.sup3,\n                  fractionEgale: !this.sup3,\n                },\n              },\n            })\n          }\n        }\n      } else {\n        // une soustraction\n        /** ***************** Choix des réponses du QCM ***********************************/\n        if (\n          !context.isAmc ||\n          (this.interactif && this.interactifType === 'qcm')\n        ) {\n          this.autoCorrection[i].propositions = [\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * k - c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * k - c, d).texFraction}$`,\n              statut: true,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a - c, Math.abs(b - d)).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a - c, Math.abs(b - d)).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a - c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a - c, d).texFraction}$`,\n              statut: false,\n            },\n            {\n              texte: this.sup3\n                ? `$${new FractionEtendue(a * c, d).texFractionSimplifiee}$`\n                : `$${new FractionEtendue(a * c, d).texFraction}$`,\n              statut: false,\n            },\n          ]\n          this.autoCorrection[i].options = {\n            ordered: false,\n            lastChoice: 5,\n          }\n          if (this.level === 6) {\n            // En 6e, pas de fraction simplifiée\n            // Les fractions ont le même dénominateur (b=d)\n            // @ts-expect-error\n            this.autoCorrection[i].propositions[0].texte =\n              `$${new FractionEtendue(a - c, b).texFraction}$`\n          }\n          /*********************************************************************************/\n        }\n\n        // S'il y a 0% de numérateur négatifs alors on\n        // interchange f1 et f2 pour s'assurer que le résultat sera positif\n        const f2PlusGdQuef1 = this.sup5 === 0 && f2.superieurstrict(f1)\n        if (f2PlusGdQuef1) {\n          ;[f2, f1] = [f1, f2]\n          ;[a, b, c, d] = [c, d, a, b]\n        }\n\n        texte = `$${f1.texFraction}-${f2.texFraction}$`\n        const reponse = new FractionEtendue(\n          f2PlusGdQuef1 ? a - c * k : a * k - c,\n          f2PlusGdQuef1 ? b : d,\n        ).toLatex()\n\n        texteCorr = `$${f1.texFraction}-${f2.texFraction}=`\n        if (this.level !== 6 && this.sup !== 1) {\n          texteCorr += f2PlusGdQuef1\n            ? `${f1.texFraction}-\\\\dfrac{${c}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${d}${miseEnEvidence('\\\\times ' + k, 'blue')}}=${f1.texFraction}-${new FractionEtendue(c * k, b).texFraction}=`\n            : `\\\\dfrac{${a}${miseEnEvidence('\\\\times ' + k, 'blue')}}{${b}${miseEnEvidence('\\\\times ' + k, 'blue')}}-${f2.texFraction}=${new FractionEtendue(a * k, b * k).texFraction}-${f2.texFraction}=`\n        }\n        texteCorr += f2PlusGdQuef1\n          ? `\\\\dfrac{${a}-${ecritureParentheseSiNegatif(c * k)}}{${d * k}}=${new FractionEtendue(a - c * k, b).texFraction}`\n          : `\\\\dfrac{${a * k}-${ecritureParentheseSiNegatif(c)}}{${d}}=${new FractionEtendue(a * k - c, d).texFraction}`\n        texteCorr += f2PlusGdQuef1\n          ? a - c * k < 0\n            ? `=${new FractionEtendue(a - c * k, b).texFSD}$`\n            : '$'\n          : a * k - c < 0\n            ? `=${new FractionEtendue(a * k - c, d).texFSD}$`\n            : '$'\n\n        // Est-ce que le résultat est simplifiable ?\n        if (this.sup3) {\n          const numerateur = f2PlusGdQuef1 ? a - c * k : a * k - c\n          const denominateur = f2PlusGdQuef1 ? b : d\n          s = pgcd(Math.abs(numerateur), denominateur)\n          if (Math.abs(numerateur) % denominateur === 0) {\n            // Si la fraction peut être un nombre entier\n            texteCorr += `$=${texNombre(numerateur / denominateur, 0)}$`\n          } else if (s !== 1) {\n            if (numerateur < 0) {\n              texteCorr += `$=-\\\\dfrac{${Math.abs(numerateur) / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${denominateur / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue(numerateur / s, denominateur / s).texFractionSimplifiee}$`\n            } else {\n              texteCorr += `$=\\\\dfrac{${numerateur / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}{${denominateur / s}${miseEnEvidence('\\\\times ' + s, 'blue')}}=${new FractionEtendue(numerateur / s, denominateur / s).texFractionSimplifiee}$`\n            }\n          }\n        }\n\n        if (!context.isAmc) {\n          if (this.interactif && this.interactifType === 'qcm') {\n            const props = propositionsQcm(this, i)\n            texte += '<br>' + props.texte\n          } else if (this.interactifType === 'mathLive') {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              '  clavierDeBaseAvecFraction',\n              { texteAvant: sp() + '$=$' },\n            )\n            handleAnswers(this, i, {\n              reponse: {\n                value: reponse,\n                options: {\n                  fractionIrreductible: this.sup3,\n                  fractionEgale: !this.sup3,\n                },\n              },\n            })\n          }\n        }\n      }\n\n      texte = texte.replaceAll('$$', ' ')\n      texteCorr = texteCorr.replaceAll('$$', ' ')\n\n      if (context.isAmc) {\n        this.autoCorrection[i].enonce = texte\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      if (this.questionJamaisPosee(i, a, k, b, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n    }\n\n    listeQuestionsToContenu(this) // Espacement de 2 em entre chaque questions.\n  }\n}\n"],"names":["dateDeModifImportante","amcReady","amcType","interactifReady","interactifType","titre","uuid","refs","ExerciceAdditionnerSoustraireFractions5ebis","Exercice","__publicField","context","listeTypeDeQuestions","combinaisonListes","i","a","b","c","d","k","s","ordreDesFractions","texte","texteCorr","aNegatif","randint","cNegatif","choice","f1","FractionEtendue","f2","miseEnEvidence","ecritureParentheseSiNegatif","pgcd","props","propositionsQcm","ajouteChampTexteMathLive","sp","handleAnswers","f2PlusGdQuef1","reponse","numerateur","denominateur","texNombre","textCorrSplit","aRemplacer","ee","listeQuestionsToContenu"],"mappings":"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"}