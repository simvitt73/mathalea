{"version":3,"file":"6G2A-BuHpCErO.js","sources":["../../src/exercices/6e/6G2A.ts"],"sourcesContent":["import { clone } from 'mathjs'\nimport { codageSegments } from '../../lib/2d/CodageSegment'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { cercle } from '../../lib/2d/cercle'\nimport { droite } from '../../lib/2d/droites'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { polygoneAvecNom } from '../../lib/2d/polygones'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { longueur } from '../../lib/2d/utilitairesGeometriques'\nimport {\n  pointAdistance,\n  pointIntersectionLC,\n} from '../../lib/2d/utilitairesPoint'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { ajouteChampTexte } from '../../lib/interactif/questionMathLive'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { combinaisonListes, shuffle } from '../../lib/outils/arrayOutils'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport {\n  numAlpha,\n  premiereLettreEnMajuscule,\n} from '../../lib/outils/outilString'\nimport type { UneProposition } from '../../lib/types'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const interactifReady = true\nexport const interactifType = ['qcm', 'mathLive']\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const titre = 'Connaitre le vocabulaire du cercle'\n\nexport const dateDePublication = '19/08/2022'\nexport const dateDeModifImportante = '22/01/2024'\n\n/**\n * Exercice testant les connaissances des élèves sur le vocabulaire du cercle dans les deux sens (Un rayon est ... et [AB] est ...)\n * et en travaillant la reconnaissance et la production (QCM ou réponse libre)\n * @author Guillaume Valmont\n * Ajout Mireille du centre de cercle, milieu de diamètre et nombre de sous-questions le 16/11/2024\n\n */\nexport const uuid = '03b49'\n\nexport const refs = {\n  'fr-fr': ['6G2A'],\n  'fr-2016': ['6G10-4'],\n  'fr-ch': ['9ES1-9'],\n}\n\ntype Proposition = UneProposition & { feedbackAlt?: string }\n\nfunction ajouterAlternatives(\n  fonction: (reponse: string) => string,\n  reponses: string[],\n) {\n  const copieReponses = []\n  for (const reponse of reponses) {\n    copieReponses.push(reponse)\n  }\n  for (const reponse of copieReponses) {\n    reponses.push(fonction(reponse))\n  }\n  return reponses\n}\n\nfunction longueurAlternative(longueur: string): string {\n  return longueur.slice(1) + longueur.slice(0, 1)\n}\n\nfunction segmentAlternatif(reponse: string): string {\n  if (reponse != null) {\n    return '[' + reponse.slice(2, 3) + reponse.slice(1, 2) + ']'\n  } else {\n    window.notify(\"segmentAlternatif n'a pas de matière pour choisir\", {\n      reponse,\n    })\n    return ''\n  }\n}\n\nexport default class VocabulaireDuCercle extends Exercice {\n  sup3ParDefaut = '1-2-3-4-5-6'\n  constructor() {\n    super()\n\n    this.nbQuestions = 1\n\n    this.besoinFormulaireNumerique = [\n      'Sens des questions',\n      3,\n      '1 : Un rayon est...\\n2 : [AB] est ...\\n3 : Mélange',\n    ]\n    this.sup = 3\n    this.besoinFormulaire2CaseACocher = ['QCM']\n    this.sup2 = true\n    this.correctionDetailleeDisponible = true\n    // this.typesDeQuestionsParDefaut = '1-2-3-4-5-6-7'\n    // this.sup3 = this.typesDeQuestionsParDefaut\n    this.sup3 = this.sup3ParDefaut\n    this.besoinFormulaire3Texte = [\n      'Type de questions',\n      [\n        'Au moins deux nombres séparés par des tirets :',\n        '1 : Le rayon',\n        '2 : Un rayon',\n        '3 : Le diamètre',\n        '4 : Un diamètre',\n        '5 : Une corde',\n        '6 : Le centre',\n        // '7 : Le centre, qui est aussi le milieu'\n      ].join('\\n'),\n    ]\n\n    this.spacingCorr = 1.5 // Interligne des réponses\n  }\n\n  nouvelleVersion() {\n    // typesDeQuestions nécessite d'avoir au moins deux valeurs\n    const typesDeQuestions =\n      (String(this.sup3).match(/[1-6]/g) ?? '').length > 1\n        ? this.sup3\n        : this.sup3ParDefaut\n    this.consigne = this.sup2\n      ? 'Cocher la (ou les) bonne(s) réponse(s).'\n      : 'Compléter.'\n    if (context.isHtml) this.consigne += '<br>'\n\n    this.interactifType = this.sup2 ? 'qcm' : 'mathLive'\n    const nbSousQuestionMax = 7 // Il y a 6 types de sous-questions pour l'instant... si ça venait à changer, mettre à jour ce paramètre\n    let sensDesQuestionsDisponibles\n    switch (this.sup) {\n      case 1:\n        sensDesQuestionsDisponibles = ['Un rayon est ...']\n        break\n      case 2:\n        sensDesQuestionsDisponibles = ['[AB] est ...']\n        break\n      default:\n        sensDesQuestionsDisponibles = ['Un rayon est ...', '[AB] est ...']\n        break\n    }\n    const sensDesQuestions = combinaisonListes(\n      sensDesQuestionsDisponibles,\n      this.nbQuestions * nbSousQuestionMax,\n    )\n    const distanceMinEntrePoints = 2\n    const distanceMinCorde = 3\n    const distanceMaxCorde = 5.9\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const objetsEnonce = [] // on initialise le tableau des objets Mathalea2d de l'enoncé\n      const propositionsAMC: UneProposition[] = []\n\n      texte = ''\n      texteCorr = ''\n      const nomsDesPoints = choisitLettresDifferentes(6)\n      const O = point(0, 0, nomsDesPoints[0])\n      const leCercle = cercle(O, 3)\n      const A = pointAdistance(O, 3, nomsDesPoints[1])\n      texte += `Les points $${nomsDesPoints[3]}$, $${nomsDesPoints[0]}$ et $${nomsDesPoints[2]}$ sont alignés.`\n      let B, C, D, E\n      do {\n        B = pointAdistance(O, 3, nomsDesPoints[2])\n        C = pointIntersectionLC(droite(O, B), leCercle, nomsDesPoints[3])\n      } while (\n        !C ||\n        longueur(A, B) < distanceMinEntrePoints ||\n        longueur(A, C) < distanceMinEntrePoints ||\n        longueur(B, C) < distanceMinEntrePoints\n      )\n      do {\n        D = pointAdistance(O, 3, nomsDesPoints[4])\n      } while (\n        longueur(A, D) < distanceMinEntrePoints ||\n        longueur(B, D) < distanceMinEntrePoints ||\n        longueur(C, D) < distanceMinEntrePoints\n      )\n      do {\n        E = pointAdistance(O, 3, nomsDesPoints[5])\n      } while (\n        longueur(A, E) < distanceMinEntrePoints ||\n        longueur(B, E) < distanceMinEntrePoints ||\n        longueur(C, E) < distanceMinEntrePoints ||\n        longueur(D, E) < distanceMinCorde ||\n        longueur(D, E) > distanceMaxCorde\n      )\n      const OA = segment(O, A)\n      const BC = segment(B, C)\n      const DE = segment(D, E)\n      const polygon = polygoneAvecNom(A, B, C, D, E)\n      const codage = codageSegments('//', 'blue', O, B, O, C, O, A)\n      objetsEnonce.push(\n        leCercle,\n        labelPoint(O),\n        tracePoint(O),\n        OA,\n        BC,\n        DE,\n        polygon[1],\n        codage,\n      )\n      // const params = { xmin: -4, ymin: -4, xmax: 4, ymax: 4, pixelsParCm: 20, scale: 1, optionsTikz: 'baseline=(current bounding box.north)' }\n      // On ajoute au texte de l'énoncé, la figure à main levée et la figure de l'enoncé.\n      const figure = mathalea2d(\n        Object.assign({}, fixeBordures(objetsEnonce)),\n        objetsEnonce,\n      )\n      texte += figure\n      // On ajoute au texte de la correction, la figure de la correction\n      texteCorr += texte\n\n      let questions = []\n\n      if (typesDeQuestions.includes('1')) {\n        questions.push({\n          nom: `$${O.nom + A.nom}$`,\n          nature: 'le rayon',\n          commentaire: `${texteEnCouleurEtGras('Le', 'blue')} rayon est une ${texteEnCouleurEtGras('longueur', 'blue')}, il se note donc sans crochet.`,\n          commentaireAlt: `${texteEnCouleurEtGras('Un', 'blue')} rayon est un ${texteEnCouleurEtGras('segment', 'blue')}, il se note donc avec des crochets.`,\n          sens: sensDesQuestions[i * nbSousQuestionMax + 2],\n        })\n      }\n      if (typesDeQuestions.includes('2')) {\n        questions.push({\n          nom: `[$${O.nom + A.nom}$]`,\n          nature: 'un rayon',\n          commentaire: `${texteEnCouleurEtGras('Un', 'blue')} rayon est un ${texteEnCouleurEtGras('segment', 'blue')}, il se note donc avec des crochets.`,\n          commentaireAlt: `${texteEnCouleurEtGras('Le', 'blue')} rayon est une ${texteEnCouleurEtGras('longueur', 'blue')}, il se note donc sans crochet.`,\n          sens: sensDesQuestions[i * nbSousQuestionMax],\n        })\n      }\n      if (typesDeQuestions.includes('3')) {\n        questions.push({\n          nom: `$${B.nom + C.nom}$`,\n          nature: 'le diamètre',\n          commentaire: `${texteEnCouleurEtGras('Le', 'blue')} diamètre est une ${texteEnCouleurEtGras('longueur', 'blue')}, il se note donc sans crochet.`,\n          commentaireAlt: `${texteEnCouleurEtGras('Un', 'blue')} diamètre est un ${texteEnCouleurEtGras('segment', 'blue')}, il se note donc avec des crochets.`,\n          sens: sensDesQuestions[i * nbSousQuestionMax + 3],\n        })\n      }\n      if (typesDeQuestions.includes('4')) {\n        questions.push({\n          nom: `[$${B.nom + C.nom}$]`,\n          nature: 'un diamètre',\n          commentaire: `${texteEnCouleurEtGras('Un', 'blue')} diamètre est un ${texteEnCouleurEtGras('segment', 'blue')}, il se note donc avec des crochets.<br>Un diamètre est une corde qui passe par le centre du cercle.`,\n          commentaireAlt: `${texteEnCouleurEtGras('Le', 'blue')} diamètre est une ${texteEnCouleurEtGras('longueur', 'blue')}, il se note donc sans crochet.`,\n          sens: sensDesQuestions[i * nbSousQuestionMax + 1],\n        })\n      }\n      if (typesDeQuestions.includes('5')) {\n        questions.push({\n          nom: `[$${D.nom + E.nom}$]`,\n          nature: 'une corde',\n          commentaire: '',\n          commentaireAlt: '',\n          sens: sensDesQuestions[i * nbSousQuestionMax + 4],\n        })\n      }\n      if (typesDeQuestions.includes('6')) {\n        questions.push({\n          nom: `$${O.nom}$`,\n          nature: 'le centre',\n          commentaire: '',\n          commentaireAlt: '',\n          sens: sensDesQuestions[i * nbSousQuestionMax + 5],\n        })\n      }\n      /* if (typesDeQuestions.includes('7')) {\n        questions.push(\n          { // Ajout Mireille\n            nom: `$${O.nom}$`,\n            nature: `le centre du cercle, qui est aussi le milieu de [${B.nom + C.nom}]`,\n            commentaire: `On parle du ${texteEnCouleurEtGras('centre d\\'un cercle', 'blue')} ; pour un ${texteEnCouleurEtGras('segment', 'blue')}, on parle de son ${texteEnCouleurEtGras('milieu', 'blue')}.`,\n            commentaireAlt: '',\n            sens: sensDesQuestions[i * nbSousQuestionMax + 5]\n          })\n      } */\n\n      const propositionsUnRayonEst = []\n      for (const question of questions) {\n        const texteProposition = question.nom\n        propositionsUnRayonEst.push({\n          texte: texteProposition,\n          statut: false,\n          feedback: question.commentaire,\n          feedbackAlt: question.commentaireAlt,\n        })\n      }\n      const propositionsABEst = []\n      for (const question of questions) {\n        const texteProposition = question.nature\n        propositionsABEst.push({\n          texte: texteProposition,\n          statut: false,\n          feedback: question.commentaire,\n          feedbackAlt: question.commentaireAlt,\n        })\n      }\n      let j = 0\n      let nomDiametre = ''\n      for (const question of questions) {\n        if (question.nature === 'un diamètre') {\n          nomDiametre = question.nom\n          break\n        }\n      }\n      questions = shuffle(questions).slice(0, nbSousQuestionMax)\n      for (const question of questions) {\n        let enonce\n        const propositionsEE = []\n        texte += numAlpha(j)\n        texteCorr += numAlpha(j)\n        if (question.sens === 'Un rayon est ...') {\n          enonce =\n            `${premiereLettreEnMajuscule(question.nature)} du cercle est ` +\n            (this.interactif && !this.sup2\n              ? ajouteChampTexte(\n                  this,\n                  i * questions.length + j,\n                  KeyboardType.alphanumericAvecEspace,\n                )\n              : '...')\n          texte += `${enonce}.`\n          texteCorr += `${premiereLettreEnMajuscule(question.nature)} du cercle est ${texteEnCouleurEtGras(question.nom)}.<br>`\n          if (question.nature === 'une corde')\n            texteCorr += `${texteEnCouleurEtGras(nomDiametre)} étant un diamètre, c'est aussi une corde.<br>`\n        }\n        if (question.sens === '[AB] est ...') {\n          enonce =\n            `${question.nom} est ` +\n            (this.interactif && !this.sup2\n              ? ajouteChampTexte(\n                  this,\n                  i * questions.length + j,\n                  KeyboardType.alphanumericAvecEspace,\n                )\n              : '...')\n          texte += `${enonce} du cercle.`\n          texteCorr += `${premiereLettreEnMajuscule(question.nom)} est ${texteEnCouleurEtGras(question.nature)}${question.nom === nomDiametre ? ' et aussi ' + texteEnCouleurEtGras('une corde') : ''} du cercle.<br>`\n        }\n        if (this.correctionDetaillee && question.commentaire !== '')\n          texteCorr += question.commentaire + '<br>'\n        if (this.sup2 || context.isAmc) {\n          let propositions: Proposition[] = []\n          if (question.sens === 'Un rayon est ...') {\n            // clone réalise la deep copy d'un array ou d'un objet... ce qui rend propositions indépendant des changements de propositionsUnRayonEst\n            propositions = clone(propositionsUnRayonEst)\n          }\n          if (question.sens === '[AB] est ...') {\n            // clone réalise la deep copy d'un array ou d'un objet... ce qui rend propositions indépendant des changements de propositionsABEst\n            propositions = clone(propositionsABEst)\n          }\n          for (let ee = 0; ee < propositions.length; ee++) {\n            const statut =\n              propositions[ee].texte === question.nom ||\n              propositions[ee].texte === question.nature ||\n              (question.nature === 'un diamètre' &&\n                propositions[ee].texte === 'une corde') ||\n              (question.nature === 'une corde' &&\n                propositions[ee].texte === nomDiametre)\n            let feedback\n            statut\n              ? (feedback = propositions[ee].feedback)\n              : (feedback = propositions[ee].feedbackAlt)\n            propositionsEE.push({\n              texte: propositions[ee].texte ?? '',\n              statut,\n              feedback,\n            })\n          }\n          if (!context.isAmc) {\n            this.autoCorrection[i * questions.length + j] = {\n              enonce,\n              options: { ordered: false },\n              propositions: propositionsEE,\n            }\n            texte +=\n              propositionsQcm(this, i * questions.length + j).texte + '<br>'\n          } else if (context.isAmc) {\n            propositionsAMC[j] = {\n              type: 'qcmMult', // on donne le type de la première question-réponse qcmMono, qcmMult, AMCNum, AMCOpen\n              enonce,\n              propositions: propositionsEE,\n            }\n          }\n        } else {\n          let reponses: string[] = []\n          if (question.sens === 'Un rayon est ...') {\n            reponses = [question.nom.replace(/\\$/g, '')]\n            switch (question.nature) {\n              case 'le rayon':\n                reponses.push(\n                  O.nom + B.nom,\n                  O.nom + C.nom,\n                  O.nom + D.nom,\n                  O.nom + E.nom,\n                )\n                reponses = ajouterAlternatives(longueurAlternative, reponses)\n                break\n              case 'le diamètre':\n                reponses.push(longueurAlternative(reponses[0]))\n                break\n              case 'un rayon':\n                reponses.push(\n                  '[' + O.nom + B.nom + ']',\n                  '[' + O.nom + C.nom + ']',\n                  '[' + O.nom + D.nom + ']',\n                  '[' + O.nom + E.nom + ']',\n                )\n                reponses = ajouterAlternatives(segmentAlternatif, reponses)\n                break\n              case 'un diamètre':\n                reponses.push(segmentAlternatif(reponses[0]))\n                break\n              case 'une corde':\n                for (const point1 of [A, B, C, D, E]) {\n                  for (const point2 of [A, B, C, D, E]) {\n                    if (point1.nom !== point2.nom) {\n                      reponses.push('[' + point1.nom + point2.nom + ']')\n                    }\n                  }\n                }\n                reponses = ajouterAlternatives(segmentAlternatif, reponses)\n                break\n              case 'le milieu': // Ajout Mireille\n                reponses.push(B.nom + C.nom)\n                break\n            }\n          }\n\n          if (question.sens === '[AB] est ...') {\n            reponses = [question.nature]\n            if (question.nature === 'un diamètre') {\n              reponses.push('un diametre') // Réponse provisoire (à supprimer)\n              reponses.push('une corde')\n            } else if (question.nature === 'le diamètre') {\n              reponses.push('le diametre') // Réponse provisoire (à supprimer)\n            }\n          }\n\n          handleAnswers(this, i * questions.length + j, {\n            reponse: { value: reponses, options: { texteSansCasse: true } },\n          })\n        }\n        texte += '<br>'\n\n        if (this.correctionDetaillee) texteCorr += '<br>'\n        j++\n      }\n\n      // Si la question n'a jamais été posée, on l'enregistre\n      if (this.questionJamaisPosee(i, ...nomsDesPoints)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        // Dans cet exercice, on n'utilise pas a, b, c et d mais A, B, C et D alors remplace-les !\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce:\n              figure +\n              'À partir de la figure ci-dessus, compléter les phrases suivantes.',\n            enonceAvant: true, // EE : ce champ est facultatif et permet (si false) de supprimer l'énoncé ci-dessus avant la numérotation de chaque question.\n            enonceCentre: true, // EE : ce champ est facultatif et permet (si true) de centrer le champ 'enonce' ci-dessus.\n            melange: true, // EE : ce champ est facultatif et permet (si false) de ne pas provoquer le mélange des questions.\n            options: { avecSymboleMult: true }, // facultatif. Par défaut, multicols est à false. Ce paramètre provoque un multicolonnage (sur 2 colonnes par défaut) des propositions : pratique quand on met plusieurs AMCNum. !!! Attention, cela ne fonctionne pas, nativement, pour AMCOpen. !!!\n            propositions: propositionsAMC,\n          }\n        }\n\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","dateDePublication","dateDeModifImportante","uuid","refs","ajouterAlternatives","fonction","reponses","copieReponses","reponse","longueurAlternative","longueur","segmentAlternatif","VocabulaireDuCercle","Exercice","__publicField","typesDeQuestions","context","nbSousQuestionMax","sensDesQuestionsDisponibles","sensDesQuestions","combinaisonListes","distanceMinEntrePoints","distanceMinCorde","distanceMaxCorde","i","texte","texteCorr","cpt","objetsEnonce","propositionsAMC","nomsDesPoints","choisitLettresDifferentes","O","point","leCercle","cercle","A","pointAdistance","B","C","D","E","pointIntersectionLC","droite","OA","segment","BC","DE","polygon","polygoneAvecNom","codage","codageSegments","labelPoint","tracePoint","figure","mathalea2d","fixeBordures","questions","texteEnCouleurEtGras","propositionsUnRayonEst","question","texteProposition","propositionsABEst","j","nomDiametre","shuffle","enonce","propositionsEE","numAlpha","premiereLettreEnMajuscule","ajouteChampTexte","KeyboardType","propositions","clone","ee","statut","feedback","propositionsQcm","point1","point2","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}