{"version":3,"file":"TSA6-00-DHdZlHzA.js","sources":["../../src/exercices/TSpe/TSA6-00.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { ecritureAlgebrique } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { context } from '../../modules/context'\nexport const titre = 'Équations différentielles'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const uuid = 'debc6'\nexport const refs = {\n  'fr-fr': ['TSA6-00'],\n  'fr-ch': [],\n}\nexport const dateDePublication = '16/06/2024'\n\n/**\n * Un premier exercice de résolution d'équations différentielles\n * @author Jean-Claude Lhote\n *\n */\nclass EquaDiffs extends Exercice {\n  constructor() {\n    super()\n\n    this.besoinFormulaireTexte = [\n      \"Types d'équations \",\n      \"Nombres séparés par des tirets :\\n1 : y'= ay\\n2 : y'= ay + b\\n3 : y'= ay + f\\n4 : Mélange\",\n    ]\n    this.sup = '1'\n    this.nbQuestions = 2\n    this.correctionDetailleeDisponible = true\n  }\n\n  nouvelleVersion() {\n    // initialise les propriété exportée de l'exo comme this.autoCorrection, this.listeQuestions...\n\n    // on récupère la liste des valeurs saisies dans le formulaire\n    const listeTypeDeQuestion = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      defaut: 1,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: ['yprime+ay=0', 'yprime+ay=b', 'yprime+ay=f'],\n    })\n    // Boucle principale pour fabriquer les question\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let a: number\n      let b: number\n      let c: number\n      let d: number\n      let bSurA: FractionEtendue\n      let kString: string\n      let y0: number\n      let texte: string\n      let texteCorr: string\n      let reponse: string\n      switch (listeTypeDeQuestion[i]) {\n        case 'yprime+ay=0':\n          a = randint(-10, 10, [-1, 0, 1])\n          y0 = randint(-10, 10, [-1, 0, 1])\n          texte = `Résoudre l'équation différentielle $y^\\\\prime${ecritureAlgebrique(a)}y=0$, avec $y(0)=${texNombre(y0, 0)}$.`\n          texteCorr =\n            \"On sait que la solution générale d'une équation de la forme $\\\\boxed{y^\\\\prime+ay=0}$ est $\\\\boxed{y(x)=ke^{-ax}}$ .<br>\"\n          texteCorr += `Donc $y(x)=ke^{${texNombre(-a, 0)}x}$.<br>`\n          texteCorr += `De plus, $y(0)=${texNombre(y0, 0)}$, par conséquent : $${texNombre(y0, 0)}=ke^0=k$.<br>`\n          reponse = `${texNombre(y0, 0)}e^{${texNombre(-a, 0)}x}`\n          texteCorr += `La solution de l'équation différentielle  $y^\\\\prime${ecritureAlgebrique(a)}y=0$ telle que $y(0)=${texNombre(y0, 0)}$ est :<br>$y(x)=${miseEnEvidence(reponse)}$.<br>`\n\n          break\n        case 'yprime+ay=b':\n          a = randint(-10, 10, [-1, 0, 1])\n          b = randint(-10, 10, [-1, 0, 1])\n          y0 = randint(-10, 10, [-1, 0, 1])\n          bSurA = new FractionEtendue(b, a)\n          texte = `Résoudre l'équation différentielle $y^\\\\prime${ecritureAlgebrique(a)}y=${texNombre(b, 0)}$, avec $y(0)=${texNombre(y0, 0)}$.`\n          texteCorr =\n            \"On sait que la solution générale d'une équation de la forme $\\\\boxed{y^\\\\prime+ay=b}$ est $\\\\boxed{y(x)=ke^{-ax}+\\\\dfrac{b}{a}}$ .<br>\"\n          texteCorr += `Donc $y(x)=ke^{${texNombre(-a, 0)}x}${bSurA.ecritureAlgebrique}$.<br>`\n          texteCorr += `De plus, $y(0)=${texNombre(y0, 0)}$, par conséquent : $${texNombre(y0, 0)}=ke^0${bSurA.ecritureAlgebrique}=k${bSurA.ecritureAlgebrique}$.<br>`\n          kString = new FractionEtendue(a * y0 - b, a).simplifie().texFSD\n          texteCorr += `On en déduit que $k=${texNombre(y0, 0)}${bSurA.multiplieEntier(-1).ecritureAlgebrique}=${kString}$.<br>`\n          reponse = `${kString}e^{${texNombre(-a, 0)}x}${bSurA.ecritureAlgebrique}`\n          texteCorr += `La solution de l'équation différentielle $y^\\\\prime${ecritureAlgebrique(a)}y=${texNombre(b, 0)}$ telle que $y(0)=${texNombre(y0, 0)}$ est :<br>$y(x)=${miseEnEvidence(reponse)}$.<br>`\n          break\n        default:\n          {\n            // yprime+ay=f\n            do {\n              a = randint(-10, 10, [-1, 0, 1])\n              b = randint(-10, 10, [-1, 0, 1])\n              c = randint(-6, 6, [-1, 0, 1]) * a\n              d = randint(-6, 6, [-1, 0, 1]) * a + c / a\n              y0 = randint(-10, 10, [-1, 0, 1])\n              bSurA = new FractionEtendue(-b, a)\n            } while (y0 - (c - d * a) / (-a * a) === 0)\n            const m = c / a\n            const p = (c - d * a) / (-a * a)\n            const k = y0 - p\n            texte = `Résoudre l'équation différentielle $y^\\\\prime${ecritureAlgebrique(a)}y=${texNombre(c, 0)}x${ecritureAlgebrique(d)}$, avec $y(0)=${texNombre(y0, 0)}$.`\n            texteCorr =\n              'Comme le deuxième membre est une fonction affine, cherchons une solution particulière de la forme $y_f=mx+p$.<br>'\n            texteCorr +=\n              \"Si $y_f=mx+p$, alors $y_f^\\\\prime=m$, l'équation différentielle que vérifie $y_f$ est alors : \"\n            texteCorr += `$${miseEnEvidence(`m${ecritureAlgebrique(a)}(mx+p)=${texNombre(c, 0)}x${ecritureAlgebrique(d)}`, 'blue')}$.<br>`\n            texteCorr +=\n              'En regroupant les termes de même degré, on obtient le système :<br>$\\\\begin{cases}\\n'\n            texteCorr += `m${ecritureAlgebrique(a)}p &=${texNombre(d, 0)}\\\\\\\\\\n`\n            texteCorr += `${texNombre(a, 0)}m &=${texNombre(c, 0)}\\\\\\\\\\n`\n            texteCorr += '\\\\end{cases}\\n'\n            texteCorr += '\\\\Longleftrightarrow \\\\begin{cases}\\n'\n            texteCorr += `${texNombre(a, 0)}p &=${texNombre(d, 0)}-m\\\\\\\\\\n`\n            texteCorr += `m &=${texNombre(c / a, 0)}\\\\\\\\\\n`\n            texteCorr += '\\\\end{cases}\\n \\\\Longleftrightarrow \\\\begin{cases}\\n'\n            texteCorr += `${texNombre(a, 0)}p &=${texNombre(d - c / a, 0)}\\\\\\\\`\n            texteCorr += `m &=${texNombre(m, 0)}\\\\\\\\\\n \\\\end{cases}\\n`\n            texteCorr += '\\\\Longleftrightarrow \\\\begin{cases}\\n'\n            texteCorr += `p &=${texNombre(p, 0)}\\\\\\\\`\n            texteCorr += `m &=${texNombre(m, 0)}\\\\\\\\\\n \\\\end{cases}$<br>`\n            texteCorr += `Soit $y_f=${texNombre(m, 0)}x${ecritureAlgebrique(p)}$.<br>`\n            texteCorr +=\n              \"On sait que la solution générale d'une équation de la forme $\\\\boxed{y^\\\\prime+ay=f}$ est de la forme $\\\\boxed{ke^{-ax}+y_f}$ où $y_f$ est une solution particulière de l'équation.<br>\"\n            texteCorr += 'On a donc :<br>'\n            texteCorr += `$y(x)=ke^{${texNombre(-a, 0)}x}${ecritureAlgebrique(m)}x${ecritureAlgebrique(p)}$.<br>`\n            texteCorr += \"Les conditions initiales permettent d'écrire :<br>\"\n            texteCorr += `$y(0)=${texNombre(y0, 0)}=ke^0${ecritureAlgebrique(m)}\\\\times 0${ecritureAlgebrique(p)}=k${ecritureAlgebrique(p)}$.<br>`\n            texteCorr += `On en déduit : $k=${texNombre(y0, 0)}${ecritureAlgebrique(-p)}=${texNombre(k, 0)}$.<br>`\n            texteCorr += `La solution de l'équation différentielle $y^\\\\prime${ecritureAlgebrique(a)}y=${texNombre(c, 0)}x${ecritureAlgebrique(d)}$ telle que $y(0)=${texNombre(y0, 0)}$ est :<br>`\n            reponse = `${texNombre(k, 0)}e^{${texNombre(-a, 0)}x}${ecritureAlgebrique(m)}x${ecritureAlgebrique(p)}`\n            texteCorr += `$y(x)=${miseEnEvidence(reponse)}$.`\n          }\n          break\n      }\n      texte += '<br>'\n      // C'est fini... sauf pour la correction détaillée ci-dessous.\n      if (this.questionJamaisPosee(i, a)) {\n        if (this.interactif && context.isHtml) {\n          texte += ajouteChampTexteMathLive(\n            this,\n            i,\n            KeyboardType.clavierFonctionsTerminales,\n            {\n              texteAvant: '$y=$ ',\n            },\n          )\n          handleAnswers(this, i, { reponse: { value: reponse } })\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        // handleAnswers(this, i, { reponse: { value: laDerivee, options: { variable: 'x' }, compare: functionCompare } })\n        i++\n        cpt--\n      }\n      cpt++\n    } // fin de boucle sur les questions\n  } // nouvelleVersion\n} // DerivationSimple\n\nexport default EquaDiffs\n"],"names":["titre","interactifReady","interactifType","uuid","refs","dateDePublication","EquaDiffs","Exercice","listeTypeDeQuestion","gestionnaireFormulaireTexte","i","cpt","a","b","c","d","bSurA","kString","y0","texte","texteCorr","reponse","randint","ecritureAlgebrique","texNombre","miseEnEvidence","FractionEtendue","m","p","k","context","ajouteChampTexteMathLive","KeyboardType","handleAnswers"],"mappings":"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"}