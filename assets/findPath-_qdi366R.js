var x=Object.defineProperty;var y=(n,s,o)=>s in n?x(n,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[s]=o;var l=(n,s,o)=>y(n,typeof s!="symbol"?s+"":s,o);class k{constructor(s,o,h=!0){l(this,"x");l(this,"y");l(this,"walkable");l(this,"gCost");l(this,"hCost");l(this,"parent");this.x=s,this.y=o,this.walkable=h,this.gCost=1/0,this.hCost=0,this.parent=null}get fCost(){return this.gCost+this.hCost}}function C(n,s){const o=Math.abs(n.x-s.x),h=Math.abs(n.y-s.y);return 14*Math.min(o,h)+10*Math.abs(o-h)}function g(n,s,o,h=new Set){const a=[n],i=new Set;for(n.gCost=0;a.length>0;){a.sort((t,r)=>t.fCost-r.fCost);let e=a.shift();if(!e)break;if(i.add(e),e===s){const t=[];for(;e!==n&&(t.push(e),e.parent);)e=e.parent;return t}for(const t of M(e,o)){if(!t.walkable||i.has(t)||h.has(t))continue;const r=e.gCost+C(e,t);(r<t.gCost||!a.includes(t))&&(t.gCost=r,t.hCost=C(t,s),t.parent=e,a.includes(t)||a.push(t))}}return null}function M(n,s){const o=[],{x:h,y:a}=n,i=[[0,1],[1,0],[0,-1],[-1,0]];for(const[e,t]of i){const r=h+e,c=a+t;s[c]&&s[c][r]&&s[c][r].walkable&&o.push(s[c][r])}return o}function S(n,s,o){const h=[];for(let a=0;a<n;a++){const i=[];for(let e=0;e<s;e++){const t=Math.random()>o&&e+1!==s;i.push(new k(e,a,t))}h.push(i)}return h}function v(n,s,o,h,a,i){const e=n*s>25?.2:0,t=S(n,s,e),r=t[o][h],c=t[a][i];r.walkable=!0,c.walkable=!0;const f=[],u=new Set,p=g(r,c,t,u);p&&(f.push([r,...p.slice().reverse()]),u.add(p[Math.floor(p.length*.5)]));const d=g(r,c,t,u);d&&(f.push([r,...d.slice().reverse()]),f[f.length-1].slice(Math.floor(d.length*.4),Math.floor(d.length*.6)).forEach(w=>u.add(w)));const b=g(r,c,t,u);return b&&f.push([r,...b.slice().reverse()]),f}export{v as r};
//# sourceMappingURL=findPath-_qdi366R.js.map
