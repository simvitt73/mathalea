{"version":3,"file":"6G8A-1-BxlwkDP9.js","sources":["../../src/exercices/6e/6G8A-1.ts"],"sourcesContent":["import { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport {\n  canvasEnonceCorrection,\n  empilementCubes,\n} from '../../lib/3d/3d_dynamique/empilementsCube'\nimport { createCubesProjections } from '../../lib/3d/3dProjectionMathalea2d/CubeIso'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\n\nexport const dateDePublication = '03/03/2021'\nexport const dateDeModificationImportante = '15/07/2025'\nexport const titre = 'Compter les cubes manquants ou pas'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcType = 'AMCNum'\nexport const amcReady = true\n\n/**\n * Compter des cubes dans un empilement de cubes\n * @author Erwan DUPLESSY\n * Source : http://cache.media.education.gouv.fr/file/Geometrie_et_espace/47/1/RA16_C4_MATH_geo_espace_flash_567471.pdf\n * Ajout de la 3D dynamique par Jean-Claude Lhote\n */\n\nexport const uuid = '5f115'\n\nexport const refs = {\n  'fr-fr': ['6G8A-1'],\n  'fr-2016': ['6G43'],\n  'fr-ch': ['9ES7-6'],\n}\nexport default class DenombrerCubes extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de questions',\n      3,\n      '1 : Compter les cubes\\n2 : Compter les cubes manquants\\n3 : Mélange',\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Volume',\n      2,\n      '1 : Volume en cubes\\n2 : Volume en cm³',\n    ]\n    this.besoinFormulaire2Numerique = [\n      \"Taille de l'empilement\",\n      5,\n      'De taille 3\\nDe taille 4\\nDe taille 5\\nDe taille 6\\nDe taille 7',\n    ]\n    this.besoinFormulaire3CaseACocher = ['3D dynamique', false]\n    this.sup3 = false\n    this.nbQuestions = 3 // Ici le nombre de questions\n    this.sup4 = 1\n    this.sup = 1 // A décommenter : valeur par défaut d'un premier paramètre\n    this.sup2 = 1 // A décommenter : valeur par défaut d'un deuxième paramètre\n    // c'est ici que commence le code de l'exercice cette fonction crée une copie de l'exercice\n  }\n\n  nouvelleVersion() {\n    this.sup = contraindreValeur(1, 3, this.sup, 1) // taille de l'empilement\n    this.sup2 = contraindreValeur(1, 5, this.sup2, 1) // type de questions\n    let typesDeQuestionsDisponibles: number[] = [] // tableau à compléter par valeurs possibles des types de questions\n    switch (this.sup) {\n      case 1:\n        typesDeQuestionsDisponibles = [1]\n        break\n      case 2:\n        typesDeQuestionsDisponibles = [2]\n        break\n      case 3:\n        typesDeQuestionsDisponibles = [1, 2]\n        break\n    }\n    const unitesCubes = this.sup4 === 1\n\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    const longueur = 2 + parseInt(this.sup2) // longueur de l'empilement\n    const largeur = longueur // largeur de l'empilement\n    const hauteur = longueur // hauteur de l'empilement\n\n    for (\n      let q = 0, texte, texteCorr, cpt = 0;\n      q < this.nbQuestions && cpt < 50;\n    ) {\n      let figure, figureCorrection\n      const L = empilementCubes(longueur, largeur, hauteur) // crée un empilement aléatoire\n      texteCorr = '' // Idem pour le texte de la correction.\n\n      if (!this.sup3 || !context.isHtml) {\n        // 3d Iso avec Mathalea2d\n        texte =\n          'Un empilement de cubes est représenté ci-dessous sous deux angles différents. <br>' // Nous utilisons souvent cette variable pour construire le texte de la question.\n        ;({ figure, figureCorrection } = createCubesProjections(\n          L,\n          largeur,\n          longueur,\n          hauteur,\n        ))\n      } else {\n        // 3d dynamique avec Canvas3DElement\n        texte =\n          \"Un empilement de cubes est représenté ci-dessous (on peut faire tourner l'empilement en plein écran). <br>\" // Nous utilisons souvent cette variable pour construire le texte de la question.\n        ;({ canvasEnonce: figure, canvasCorrection: figureCorrection } =\n          canvasEnonceCorrection(L, `scene3dEx${this.numeroExercice}Q${q}`))\n      }\n      // début de l'exercice\n      texte += unitesCubes\n        ? \"L'unité de volume étant le cube, \"\n        : 'Les cubes ayant des arêtes de $1\\\\text{cm}$ de longueur, '\n      switch (listeTypeDeQuestions[q]) {\n        case 1:\n          texte += unitesCubes\n            ? 'combien de petits cubes contient cet empilement de cubes ?' +\n              ajouteChampTexteMathLive(this, q, KeyboardType.clavierNumbers)\n            : 'quel est le volume en $\\\\text{cm}^3$ de cet empilement de cubes ?' +\n              ajouteChampTexteMathLive(this, q, KeyboardType.volume)\n          texte += '<br>' + figure\n          // correction :\n          texteCorr += \"On peut représenter l'empilement par tranches : <br>\"\n          texteCorr += figureCorrection + '<br>'\n          texteCorr += `Il y a au total $${miseEnEvidence(L.length)}$ cubes.`\n          handleAnswers(this, q, {\n            reponse: {\n              value: L.length,\n              options: unitesCubes ? {} : { unite: true },\n            },\n          })\n          break\n        case 2:\n          texte += unitesCubes\n            ? `combien de petits cubes manque-t-il pour reconstruire un grand cube de $${longueur}\\\\text{cm}$ d'arête ?` +\n              ajouteChampTexteMathLive(this, q, KeyboardType.clavierNumbers)\n            : `quel volume en $\\\\text{cm}^3$ manque-t-il pour reconstruire un cube de $${longueur}\\\\text{cm}$ d'arête ?` +\n              ajouteChampTexteMathLive(this, q, KeyboardType.volume)\n          texte += '<br>' + figure\n          // correction :\n          texteCorr +=\n            \"On peut, par exemple, représenter l'empilement par tranches : <br>\"\n          texteCorr += figureCorrection + '<br>'\n          texteCorr += unitesCubes\n            ? `Il y a au total $${L.length}$ cubes. On en veut $${longueur}\\\\times ${largeur} \\\\times ${hauteur} = ${longueur * largeur * hauteur}$. <br>`\n            : `Il y a au total $${L.length}$ $\\\\text{cm}^3$. On en veut $${longueur}\\\\text{cm} \\\\times ${largeur}\\\\text{cm} \\\\times ${hauteur}\\\\text{cm} = ${longueur * largeur * hauteur}\\\\text{cm}^3$. <br>`\n          texteCorr += `Il manque $${miseEnEvidence(longueur * largeur * hauteur - L.length)}$ `\n          texteCorr += unitesCubes ? `cubes.` : `$\\\\text{cm}^3$.`\n          handleAnswers(this, q, {\n            reponse: {\n              value: longueur * largeur * hauteur - L.length,\n              options: unitesCubes ? {} : { unite: true },\n            },\n          })\n          break\n      }\n      if (this.questionJamaisPosee(q, JSON.stringify(L))) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n        q++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this) // On envoie l'exercice à la fonction de mise en page\n  }\n}\n"],"names":["dateDePublication","dateDeModificationImportante","titre","interactifReady","interactifType","amcType","amcReady","uuid","refs","DenombrerCubes","Exercice","contraindreValeur","typesDeQuestionsDisponibles","unitesCubes","listeTypeDeQuestions","combinaisonListes","longueur","largeur","hauteur","q","texte","texteCorr","cpt","figure","figureCorrection","L","empilementCubes","context","createCubesProjections","canvasEnonceCorrection","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}