{"version":3,"file":"BoiteBuilder-BwnT_ZAK.js","sources":["../../src/lib/2d/BoiteBuilder.ts"],"sourcesContent":["import { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { point } from './PointAbstrait'\nimport { Polygone, polygone } from './polygones'\nimport {\n  Latex2d,\n  LatexParCoordonnees,\n  latexParCoordonnees,\n  TexteParPoint,\n  texteParPosition,\n} from './textes'\n\n/**\n * Un constructeur de boites rectangulaires.\n * remplace l'objet Mathalea2d Boite()\n * On construit une Boite de base puis on peut\n * Ajouter des couleurs avec la méthode addColor()\n * Ajouter du texte ou du latex dedans avec addTextIn()\n * Enfin, la méthode render() retourne l'objet Mathalea2d ou un array d'objet Mathalea2d pour la fonction mathalea2d()\n * Exemple : const maBoite = new BoiteBuilder({xMin:0, yMin:0, xMax:3, yMax: 2}).addTextIn({textIn: '\\\\dfrac{1}{2}'}).render()\n */\n\nexport class BoiteBuilder {\n  xMin: number\n  xMax: number\n  yMin: number\n  yMax: number\n  forme: Polygone\n  text!: LatexParCoordonnees | TexteParPoint | Latex2d\n  constructor({\n    xMin,\n    xMax,\n    yMin,\n    yMax,\n  }: {\n    xMin: number\n    xMax: number\n    yMin: number\n    yMax: number\n  }) {\n    this.xMin = xMin\n    this.xMax = xMax\n    this.yMin = yMin\n    this.yMax = yMax\n    this.forme = polygone([\n      point(xMin, yMin),\n      point(xMax, yMin),\n      point(xMax, yMax),\n      point(xMin, yMax),\n    ])\n  }\n\n  /**\n   * l'objet ou l'array d'objet pour la fonction mathalea2d()\n   * @return {[Polygone|Vide2d,LatexParCoordonnees|TexteParPoint)]|Polygone}\n   */\n  render() {\n    return this.text ? [this.forme, this.text] : this.forme\n  }\n\n  /**\n   * La méthode retourne l'objet afin de la rendre chaînable\n   * @param {Object} params\n   * @param {string} [params.color]\n   * @param {string} [params.colorBackground]\n   * @param {number} [params.opacity]\n   * @param {number} [params.backgroudOpacity]\n   * @return {BoiteBuilder}\n   */\n  addColor({\n    color,\n    colorBackground,\n    opacity,\n    backgroudOpacity,\n  }: {\n    color?: string\n    colorBackground?: string\n    opacity?: number\n    backgroudOpacity?: number\n  }) {\n    this.forme.color = colorToLatexOrHTML(color ?? 'black')\n    this.forme.opacite = opacity ?? 1\n    this.forme.couleurDeRemplissage = colorToLatexOrHTML(\n      colorBackground ?? 'none',\n    )\n    this.forme.opaciteDeRemplissage = backgroudOpacity ?? 0.7\n    return this\n  }\n\n  /**\n   * La méthode retourne l'objet afin de la rendre chaînable\n   * @param {string} textIn si contient '\\\\' alors c'est une commande latex rendue par latexParCoordonnees()\n   * @param {string} color\n   * @param {number} opacity\n   * @param {number} size (facteur d'agrandissement ou de réduction 1 par défaut)\n   * @return {BoiteBuilder}\n   */\n  addTextIn({\n    textIn,\n    color,\n    opacity,\n    size,\n  }: {\n    textIn: string\n    color?: string\n    opacity?: number\n    size?: number\n  }) {\n    if (typeof textIn !== 'string') {\n      window.notify(\n        'BoiteBuilder.addTextIn() requiert un texteIn de type string ',\n        { textIn },\n      )\n    }\n    if (textIn.length > 0) {\n      this.text = textIn.includes('\\\\')\n        ? latexParCoordonnees(\n            textIn,\n            (this.xMin + this.xMax) / 2,\n            (this.yMin + this.yMax) / 2,\n            color ?? 'black',\n            50,\n            0,\n            '',\n            (size ?? 1) * 10,\n          )\n        : texteParPosition(\n            textIn,\n            (this.xMin + this.xMax) / 2,\n            (this.yMin + this.yMax) / 2,\n            0,\n            color ?? 'black',\n            size,\n          )\n      this.text.opacite = opacity ?? 1\n    }\n    return this\n  }\n}\n"],"names":["BoiteBuilder","xMin","xMax","yMin","yMax","__publicField","polygone","point","color","colorBackground","opacity","backgroudOpacity","colorToLatexOrHTML","textIn","size","latexParCoordonnees","texteParPosition"],"mappings":"qWAqBO,MAAMA,CAAa,CAOxB,YAAY,CACV,KAAAC,EACA,KAAAC,EACA,KAAAC,EACA,KAAAC,CAAA,EAMC,CAhBHC,EAAA,aACAA,EAAA,aACAA,EAAA,aACAA,EAAA,aACAA,EAAA,cACAA,EAAA,aAYE,KAAK,KAAOJ,EACZ,KAAK,KAAOC,EACZ,KAAK,KAAOC,EACZ,KAAK,KAAOC,EACZ,KAAK,MAAQE,EAAS,CACpBC,EAAMN,EAAME,CAAI,EAChBI,EAAML,EAAMC,CAAI,EAChBI,EAAML,EAAME,CAAI,EAChBG,EAAMN,EAAMG,CAAI,CAAA,CACjB,CACH,CAMA,QAAS,CACP,OAAO,KAAK,KAAO,CAAC,KAAK,MAAO,KAAK,IAAI,EAAI,KAAK,KACpD,CAWA,SAAS,CACP,MAAAI,EACA,gBAAAC,EACA,QAAAC,EACA,iBAAAC,CAAA,EAMC,CACD,YAAK,MAAM,MAAQC,EAAmBJ,GAAS,OAAO,EACtD,KAAK,MAAM,QAAUE,GAAW,EAChC,KAAK,MAAM,qBAAuBE,EAChCH,GAAmB,MAAA,EAErB,KAAK,MAAM,qBAAuBE,GAAoB,GAC/C,IACT,CAUA,UAAU,CACR,OAAAE,EACA,MAAAL,EACA,QAAAE,EACA,KAAAI,CAAA,EAMC,CACD,OAAI,OAAOD,GAAW,UACpB,OAAO,OACL,+DACA,CAAE,OAAAA,CAAA,CAAO,EAGTA,EAAO,OAAS,IAClB,KAAK,KAAOA,EAAO,SAAS,IAAI,EAC5BE,EACEF,GACC,KAAK,KAAO,KAAK,MAAQ,GACzB,KAAK,KAAO,KAAK,MAAQ,EAC1BL,GAAS,QACT,GACA,EACA,IACCM,GAAQ,GAAK,EAAA,EAEhBE,EACEH,GACC,KAAK,KAAO,KAAK,MAAQ,GACzB,KAAK,KAAO,KAAK,MAAQ,EAC1B,EACAL,GAAS,QACTM,CAAA,EAEN,KAAK,KAAK,QAAUJ,GAAW,GAE1B,IACT,CACF"}