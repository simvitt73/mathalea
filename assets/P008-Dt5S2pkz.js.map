{"version":3,"file":"P008-Dt5S2pkz.js","sources":["../../src/exercices/profs/P008.ts"],"sourcesContent":["import { context } from '../../modules/context'\nimport operation from '../../modules/operations'\nimport Exercice from '../Exercice'\nexport const titre = 'Opérations posées'\n\nexport const refs = {\n  'fr-fr': ['P008'],\n  'fr-ch': [],\n}\nexport const uuid = '691a6'\n\n/**\n * Permet de poser des opérations (addition, soustraction, multiplication, division euclidienne et division décimale)\n * @author Jean-Claude Lhote\n */\nexport default class OperationsPosees extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Opération',\n      5,\n      '1 : Addition\\n2 : Soustraction\\n3 : Multiplication\\n4 : Division euclidienne\\n5 : Division décimale',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Deux nombres séparés par un tiret(séparateur décimal = le point)',\n      '',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Nombre de chiffres après la virgule pour le quotient (5 maximum)',\n      5,\n    ]\n\n    this.spacing = 2\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1) // Important sinon opidiv n'est pas joli\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n    this.sup = 1\n    this.sup2 = '1234.5-789.2'\n    this.sup3 = 0\n  }\n\n  nouvelleVersion() {\n    const nombres = [1234.5, 789.2]\n    let operandes = String(this.sup2).split('-')\n    if (operandes.length !== 2) {\n      operandes = ['1234.5', '789.2']\n    }\n\n    nombres[0] = parseFloat(operandes[0])\n    nombres[1] = parseFloat(operandes[1])\n    if (isNaN(nombres[0])) {\n      nombres[0] = 1234.5\n    }\n    if (isNaN(nombres[1]) || (this.sup === 4 && nombres[1] === 0)) {\n      // division euclidienne par 0 impossible\n      nombres[1] = 789.2\n    }\n    if (this.sup3 < 0 || this.sup3 > 5 || isNaN(this.sup3)) {\n      this.sup3 = 0\n    }\n\n    const a = nombres[0]\n    const b = nombres[1]\n    switch (parseInt(this.sup)) {\n      case 1: // addition\n        this.contenu = operation({\n          operande1: a,\n          operande2: b,\n          type: 'addition',\n        })\n        break\n      case 2: // soustraction\n        this.contenu = operation({\n          operande1: a,\n          operande2: b,\n          type: 'soustraction',\n        })\n        break\n      case 3: // multiplication\n        this.contenu = operation({\n          operande1: a,\n          operande2: b,\n          type: 'multiplication',\n        })\n        break\n      case 4: // division euclidienne\n        this.contenu = operation({\n          operande1: a,\n          operande2: b,\n          type: 'divisionE',\n          precision: 0,\n        })\n        break\n      case 5: // division\n      default:\n        this.contenu = operation({\n          operande1: a,\n          operande2: b,\n          type: 'division',\n          precision: this.sup3,\n        })\n        break\n    }\n    this.listeQuestions[0] = this.contenu\n  }\n}\n"],"names":["titre","refs","uuid","OperationsPosees","Exercice","context","nombres","operandes","a","b","operation"],"mappings":"g9FAGO,MAAMA,GAAQ,oBAERC,GAAO,CAClB,QAAS,CAAC,MAAM,EAChB,QAAS,CAAA,CACX,EACaC,GAAO,QAMpB,MAAqBC,WAAyBC,CAAS,CACrD,aAAc,CACZ,MAAA,EACA,KAAK,0BAA4B,CAC/B,YACA,EACA;AAAA;AAAA;AAAA;AAAA,sBAAA,EAEF,KAAK,uBAAyB,CAC5B,mEACA,EAAA,EAEF,KAAK,2BAA6B,CAChC,mEACA,CAAA,EAGF,KAAK,QAAU,EACfC,EAAQ,OAAU,KAAK,YAAc,EAAM,KAAK,YAAc,EAC9D,KAAK,YAAc,EACnB,KAAK,sBAAwB,GAC7B,KAAK,IAAM,EACX,KAAK,KAAO,eACZ,KAAK,KAAO,CACd,CAEA,iBAAkB,CAChB,MAAMC,EAAU,CAAC,OAAQ,KAAK,EAC9B,IAAIC,EAAY,OAAO,KAAK,IAAI,EAAE,MAAM,GAAG,EACvCA,EAAU,SAAW,IACvBA,EAAY,CAAC,SAAU,OAAO,GAGhCD,EAAQ,CAAC,EAAI,WAAWC,EAAU,CAAC,CAAC,EACpCD,EAAQ,CAAC,EAAI,WAAWC,EAAU,CAAC,CAAC,EAChC,MAAMD,EAAQ,CAAC,CAAC,IAClBA,EAAQ,CAAC,EAAI,SAEX,MAAMA,EAAQ,CAAC,CAAC,GAAM,KAAK,MAAQ,GAAKA,EAAQ,CAAC,IAAM,KAEzDA,EAAQ,CAAC,EAAI,QAEX,KAAK,KAAO,GAAK,KAAK,KAAO,GAAK,MAAM,KAAK,IAAI,KACnD,KAAK,KAAO,GAGd,MAAME,EAAIF,EAAQ,CAAC,EACbG,EAAIH,EAAQ,CAAC,EACnB,OAAQ,SAAS,KAAK,GAAG,EAAA,CACvB,IAAK,GACH,KAAK,QAAUI,EAAU,CACvB,UAAWF,EACX,UAAWC,EACX,KAAM,UAAA,CACP,EACD,MACF,IAAK,GACH,KAAK,QAAUC,EAAU,CACvB,UAAWF,EACX,UAAWC,EACX,KAAM,cAAA,CACP,EACD,MACF,IAAK,GACH,KAAK,QAAUC,EAAU,CACvB,UAAWF,EACX,UAAWC,EACX,KAAM,gBAAA,CACP,EACD,MACF,IAAK,GACH,KAAK,QAAUC,EAAU,CACvB,UAAWF,EACX,UAAWC,EACX,KAAM,YACN,UAAW,CAAA,CACZ,EACD,MAEF,QACE,KAAK,QAAUC,EAAU,CACvB,UAAWF,EACX,UAAWC,EACX,KAAM,WACN,UAAW,KAAK,IAAA,CACjB,EACD,KAAA,CAEJ,KAAK,eAAe,CAAC,EAAI,KAAK,OAChC,CACF"}