{"version":3,"file":"4S11-D6lnYnlt.js","sources":["../../src/exercices/4e/4S11.ts"],"sourcesContent":["import {\n  listeDeNotes,\n  tirerLesDes,\n  unMoisDeTemperature,\n} from '../../lib/outils/aleatoires'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { OutilsStats } from '../../modules/outilsStat'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { arrondi } from '../../lib/outils/nombres'\n\nexport const titre = 'Déterminer une médiane'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '01/12/2021'\nexport const dateDeModifImportante = '24/06/2024'\n\n/**\n * Détermination de médianes dans des séries statistiques numériques\n * @author Sébastien Lozano forked de Jean-Claude Lhote\n * Ajout de l'alternance entre effectif total pair et impair le 18/08/2021 : Guilllaume Valmont\n */\nexport const uuid = '7c068'\n\nexport const refs = {\n  'fr-fr': ['4S11'],\n  'fr-ch': ['11NO2-9'],\n}\nexport default class DeterminerDesMedianes extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de séries',\n      'Nombres séparés par des tirets :\\n1 : Lancers de dés \\n2 : Liste de notes\\n3 : Un mois de températures\\n4 : Mélange',\n    ]\n\n    this.nbQuestions = 1\n\n    this.spacingCorr = 1.5\n\n    this.sup = 1\n    if (context.isHtml) {\n      this.spacing = 2\n      this.spacingCorr = 2\n    }\n  }\n\n  nouvelleVersion() {\n    const listePairOuImpair = combinaisonListes(\n      ['pair', 'impair'],\n      this.nbQuestions,\n    )\n    const typeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: this.nbQuestions,\n    })\n\n    for (\n      let i = 0,\n        temperatures,\n        nombreNotes,\n        notes,\n        nombreDes,\n        nombreTirages,\n        tirages,\n        texte,\n        texteCorr,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      let repInteractive\n      if (typeDeQuestions[i] === 1) {\n        // ici on lance des dés\n        nombreDes = randint(1, 2)\n        const nombreFaces: 4 | 6 | 8 | 10 = choice([4, 6, 8, 10])\n        if (listePairOuImpair[i] === 'pair') {\n          nombreTirages = choice([50, 100, 200, 500, 1000, 2000])\n        } else {\n          nombreTirages = choice([49, 99, 199, 299, 999, 1999])\n        }\n        tirages = tirerLesDes(nombreTirages, nombreFaces, nombreDes) // on récupère une série rangée dans l'ordre croissant avec les effectifs correspondants\n        texte = OutilsStats.texteTirages2D(\n          nombreDes,\n          nombreTirages,\n          nombreFaces,\n          tirages,\n          false,\n        )\n        const [scoresMedians, medianeCorr] =\n          OutilsStats.computeMedianeTirages2D(\n            nombreTirages,\n            tirages,\n          ) as unknown as [[number, number], number]\n        texteCorr = OutilsStats.texteCorrMedianeTirages2D(\n          nombreTirages,\n          medianeCorr,\n          scoresMedians,\n          tirages,\n        )\n        repInteractive = medianeCorr\n      } else if (typeDeQuestions[i] === 2) {\n        // ici on trie des notes\n        if (listePairOuImpair[i] === 'pair') {\n          nombreNotes = choice([8, 10, 12])\n        } else {\n          nombreNotes = choice([7, 9, 11])\n        }\n        notes = listeDeNotes(nombreNotes, randint(0, 7), randint(13, 20)) // on récupère une liste de notes (série brute)\n        texte = OutilsStats.texteNotes(notes)\n        const [mediane, medianeCorr] = OutilsStats.computeMediane(notes)\n        texteCorr = OutilsStats.texteCorrMedianeNotes(\n          notes,\n          medianeCorr,\n          mediane,\n        )\n        repInteractive = medianeCorr\n      } else {\n        // ici on relève des températures\n        const annee = randint(1980, 2019)\n        let listeMois\n        if (listePairOuImpair[i] === 'pair') {\n          listeMois = [4, 6, 9, 11]\n        } else {\n          listeMois = [1, 3, 5, 7, 8, 10, 12]\n        }\n        if (\n          ((annee % 4 === 0 && annee % 100 !== 0) || annee % 400 === 0) &&\n          listePairOuImpair[i] === 'impair'\n        ) {\n          // Si l'année est bissextile et qu'on veut une liste impair\n          listeMois.push(2)\n        } else if (\n          !((annee % 4 === 0 && annee % 100 !== 0) || annee % 400 === 0) &&\n          listePairOuImpair[i] === 'pair'\n        ) {\n          // Si l'année n'est pas bissextile et qu'on veut une liste paire\n          listeMois.push(2)\n        }\n        const mois = listeMois[randint(0, listeMois.length - 1)]\n        const temperaturesDeBase = [3, 5, 9, 13, 19, 24, 26, 25, 23, 18, 10, 5]\n        temperatures = unMoisDeTemperature(\n          temperaturesDeBase[mois - 1],\n          mois,\n          annee,\n        ) // on récupère une série de température correspondant à 1 mois d'une année (série brute)\n        texte = OutilsStats.texteTemperatures(annee, mois, temperatures)\n        const [mediane, medianeCorr] = OutilsStats.computeMediane(temperatures)\n        texteCorr = OutilsStats.texteCorrMedianeTemperatures(\n          temperatures,\n          medianeCorr,\n          mediane,\n        )\n        repInteractive = medianeCorr\n      }\n\n      // On factorise la question\n      this.interactif && !context.isAmc\n        ? (texte += '<br><br>Déterminer une médiane de cette série : ')\n        : (texte += '<br>Déterminer une médiane de cette série.')\n\n      if (Array.isArray(repInteractive)) {\n        setReponse(this, i, repInteractive, {\n          decimals: 1,\n          milieuIntervalle: arrondi(\n            (repInteractive[0] + repInteractive[1]) / 2,\n          ),\n          approx: 'intervalleStrict',\n          formatInteractif: 'intervalleStrict',\n        })\n      } else {\n        setReponse(this, i, repInteractive)\n      }\n      if (this.interactif && !context.isAmc) {\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers)\n      }\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","DeterminerDesMedianes","Exercice","context","listePairOuImpair","combinaisonListes","typeDeQuestions","gestionnaireFormulaireTexte","i","temperatures","nombreNotes","notes","nombreDes","nombreTirages","tirages","texte","texteCorr","cpt","repInteractive","randint","nombreFaces","choice","tirerLesDes","OutilsStats","scoresMedians","medianeCorr","listeDeNotes","mediane","annee","listeMois","mois","unMoisDeTemperature","setReponse","arrondi","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}