{"version":3,"file":"EquationSecondDegre-CE3F99DZ.js","sources":["../../src/modules/EquationSecondDegre.ts"],"sourcesContent":["import MonomePlusieursVariables from '../lib/mathFonctions/MonomePlusieursVariables'\nimport PolynomePlusieursVariables from '../lib/mathFonctions/PolynomePlusieursVariables'\nimport { shuffle2tableauxSansModif } from '../lib/outils/arrayOutils'\nimport { extraireRacineCarree } from '../lib/outils/calculs'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriqueSauf1,\n  rienSi1,\n} from '../lib/outils/ecritures'\nimport { miseEnEvidence } from '../lib/outils/embellissements'\nimport { pgcd } from '../lib/outils/primalite'\nimport { getLang } from '../lib/stores/languagesStore'\nimport FractionEtendue from './FractionEtendue'\nimport { randint } from './outils'\n\ninterface Options {\n  format: string\n  variable: string\n  // other properties if needed\n}\n\n// créer une fonction qui construit une équation du second degré. On peut la créer à partir de solutions, à partir des coefficients ou simplement donner des conditions sur la solution et les coefficients pour la créer.\nclass EquationSecondDegre {\n  coefficients: FractionEtendue[]\n  coefficientsEqReduite: FractionEtendue[]\n  delta: FractionEtendue\n  nombreSolutions: number\n  solutionsListeTex: string[]\n  solutionsListeTexOppose: string[]\n  ensembleDeSolutionsTex: string\n  natureDesSolutions: string\n  natureDelEquation: string\n  equationTex: string\n  correctionDetailleeTex: string\n  correctionTex: string\n  variable: string\n  fonctionEvaluer: (x: number | FractionEtendue) => number\n  constructor(\n    a: FractionEtendue,\n    b: FractionEtendue,\n    c: FractionEtendue,\n    d: FractionEtendue,\n    e: FractionEtendue,\n    f: FractionEtendue,\n    options = { format: 'initial', variable: 'x' },\n  ) {\n    const lang = getLang()\n    this.coefficients = [a, b, c, d, e, f]\n    this.fonctionEvaluer = (x: number | FractionEtendue) =>\n      (this.coefficients[0].num / this.coefficients[0].den) *\n        Number(x) *\n        Number(x) +\n      (this.coefficients[1].num / this.coefficients[1].den) * Number(x) +\n      this.coefficients[2].num / this.coefficients[2].den\n    let melange = true\n    this.variable = options.variable\n    this.natureDelEquation = options.format\n    this.natureDesSolutions = ''\n    const nomValDefault = [\n      `${this.variable}^2`,\n      this.variable,\n      '',\n      `${this.variable}^2`,\n      this.variable,\n      '',\n    ]\n    this.coefficientsEqReduite = [\n      a.differenceFraction(d).simplifie(),\n      b.differenceFraction(e).simplifie(),\n      c.differenceFraction(f).simplifie(),\n      new FractionEtendue(0, 1),\n      new FractionEtendue(0, 1),\n      new FractionEtendue(0, 1),\n    ]\n    this.equationTex = ''\n    if (options.format === 'reduit') {\n      melange = false\n      this.equationTex = this.printToLatexEq(this.coefficientsEqReduite)\n    } else if (options.format === 'melangeReduit') {\n      const tabMelange = shuffle2tableauxSansModif(\n        this.coefficientsEqReduite.slice(0, 3),\n        nomValDefault.slice(0, 3),\n      )\n      this.equationTex = this.printToLatexEq(\n        tabMelange[0].concat(this.coefficientsEqReduite.slice(3)),\n        tabMelange[1].concat(nomValDefault.slice(3)),\n      )\n    } else if (options.format === 'melangeSimple') {\n      const coefficientsRevus = this.complexifyCoefficients(this.coefficients)\n      this.equationTex = this.printToLatexEq(coefficientsRevus, nomValDefault)\n    } else if (options.format === 'melangeComplique') {\n      const coefficientsRevus = this.complexifyCoefficients(this.coefficients)\n      const tabMelange1 = shuffle2tableauxSansModif(\n        coefficientsRevus.slice(0, 3),\n        nomValDefault.slice(0, 3),\n      )\n      const tabMelange2 = shuffle2tableauxSansModif(\n        coefficientsRevus.slice(3),\n        nomValDefault.slice(3),\n      )\n      const tabMelange = [\n        tabMelange1[0].concat(tabMelange2[0]),\n        tabMelange1[1].concat(tabMelange2[1]),\n      ]\n      this.equationTex = this.printToLatexEq(\n        tabMelange[0] as FractionEtendue[],\n        tabMelange[1] as string[],\n      )\n    } else if (options.format === 'initial') {\n      this.equationTex = this.printToLatexEq(this.coefficients, nomValDefault)\n    }\n    this.delta = this.coefficientsEqReduite[1]\n      .produitFraction(this.coefficientsEqReduite[1])\n      .differenceFraction(\n        this.coefficientsEqReduite[0]\n          .produitFraction(this.coefficientsEqReduite[2])\n          .produitFraction(4),\n      )\n    this.nombreSolutions = 0\n    if (this.delta.num > 0) {\n      this.nombreSolutions = 2\n    } else if (this.delta.num === 0) {\n      this.nombreSolutions = 1\n    } else {\n      this.nombreSolutions = 0\n    }\n    this.solutionsListeTex = []\n    this.solutionsListeTexOppose = []\n    this.natureDesSolutions = ''\n    if (this.nombreSolutions > 0) {\n      if (this.delta.estParfaite) {\n        if (\n          this.coefficientsEqReduite[1]\n            .multiplieEntier(-1)\n            .differenceFraction(\n              new FractionEtendue(\n                Math.sqrt(this.delta.num) as number,\n                Math.sqrt(this.delta.den) as number,\n              ),\n            )\n            .produitFraction(a.multiplieEntier(2).inverse()).denIrred === 1\n        ) {\n          this.natureDesSolutions = 'entier'\n        } else {\n          this.natureDesSolutions = 'fractionnaire'\n        }\n      } else {\n        this.natureDesSolutions = 'irrationnel'\n      }\n      if (\n        this.natureDesSolutions === 'entier' ||\n        this.natureDesSolutions === 'fractionnaire'\n      ) {\n        this.solutionsListeTex = [\n          `${\n            this.coefficientsEqReduite[1]\n              .multiplieEntier(-1)\n              .differenceFraction(\n                new FractionEtendue(\n                  Math.sqrt(this.delta.num) as number,\n                  Math.sqrt(this.delta.den) as number,\n                ),\n              )\n              .produitFraction(\n                this.coefficientsEqReduite[0].multiplieEntier(2).inverse(),\n              ).texFractionSimplifiee\n          }`,\n          `${\n            this.coefficientsEqReduite[1]\n              .multiplieEntier(-1)\n              .sommeFraction(\n                new FractionEtendue(\n                  Math.sqrt(this.delta.num) as number,\n                  Math.sqrt(this.delta.den) as number,\n                ),\n              )\n              .produitFraction(\n                this.coefficientsEqReduite[0].multiplieEntier(2).inverse(),\n              ).texFractionSimplifiee\n          }`,\n        ]\n        this.solutionsListeTexOppose = [\n          `${\n            this.coefficientsEqReduite[1]\n              .multiplieEntier(-1)\n              .differenceFraction(\n                new FractionEtendue(\n                  Math.sqrt(this.delta.num) as number,\n                  Math.sqrt(this.delta.den) as number,\n                ),\n              )\n              .produitFraction(\n                this.coefficientsEqReduite[0].multiplieEntier(2).inverse(),\n              )\n              .oppose().texFractionSimplifiee\n          }`,\n          `${\n            this.coefficientsEqReduite[1]\n              .multiplieEntier(-1)\n              .sommeFraction(\n                new FractionEtendue(\n                  Math.sqrt(this.delta.num) as number,\n                  Math.sqrt(this.delta.den) as number,\n                ),\n              )\n              .produitFraction(\n                this.coefficientsEqReduite[0].multiplieEntier(2).inverse(),\n              )\n              .oppose().texFractionSimplifiee\n          }`,\n        ]\n        // parse la réponse latex en CE qui la simplifie et l'imprime\n      } else if (this.natureDesSolutions === 'irrationnel') {\n        const sol1Tex = `\\\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}+\\\\sqrt{${this.delta.texFSD}}}{2\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}`\n        const sol2Tex = `\\\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}-\\\\sqrt{${this.delta.texFSD}}}{2\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}`\n        const sol1TexOppose = '-' + sol1Tex\n        const sol2TexOppose = '-' + sol2Tex\n        const racineDelta = extraireRacineCarree(this.delta.num)\n        if (this.delta.estEntiere) {\n          if (this.delta.num === 0) {\n            const sol1 = new FractionEtendue(\n              -this.coefficientsEqReduite[1],\n              2,\n            ).produitFraction(this.coefficientsEqReduite[0].inverse())\n            this.solutionsListeTex = [\n              sol1.texFractionSimplifiee,\n              sol1.texFractionSimplifiee,\n            ]\n          } else if (racineDelta[1] === 1) {\n            const sol1 = new FractionEtendue(\n              -this.coefficientsEqReduite[1] + racineDelta[0],\n              2,\n            ).produitFraction(this.coefficientsEqReduite[0].inverse())\n            const sol2 = new FractionEtendue(\n              -this.coefficientsEqReduite[1] - racineDelta[0],\n              2,\n            ).produitFraction(this.coefficientsEqReduite[0].inverse())\n            this.solutionsListeTex = [\n              sol1.texFractionSimplifiee,\n              sol2.texFractionSimplifiee,\n            ]\n            this.solutionsListeTexOppose = [\n              sol1.oppose().texFractionSimplifiee,\n              sol2.oppose().texFractionSimplifiee,\n            ]\n          } else {\n            let pgcdRacines = pgcd(\n              2 *\n                this.coefficientsEqReduite[0].num *\n                this.coefficientsEqReduite[1].den,\n              this.coefficientsEqReduite[1].num *\n                this.coefficientsEqReduite[0].den,\n            )\n            pgcdRacines = pgcd(\n              pgcdRacines,\n              this.coefficientsEqReduite[0].den *\n                this.coefficientsEqReduite[1].den *\n                racineDelta[0],\n            )\n            // s = (a - b*sqrt(c))/d\n            const a =\n              (-this.coefficientsEqReduite[1].num *\n                this.coefficientsEqReduite[0].den) /\n              pgcdRacines\n            const b =\n              (this.coefficientsEqReduite[0].den *\n                this.coefficientsEqReduite[1].den *\n                racineDelta[0]) /\n              pgcdRacines\n            const c = racineDelta[1]\n            const d =\n              (2 *\n                this.coefficientsEqReduite[0].num *\n                this.coefficientsEqReduite[1].den) /\n              pgcdRacines\n            let sol1RevisiteeTex = `\\\\dfrac{${a} - ${b === 1 ? '' : b}\\\\sqrt{${c}}}{${d}}`\n            let sol2RevisiteeTex = `\\\\dfrac{${a} + ${b === 1 ? '' : b}\\\\sqrt{${c}}}{${d}}`\n            let sol1RevisiteeTexOppose = `-\\\\dfrac{${a} - ${b === 1 ? '' : b}\\\\sqrt{${c}}}{${d}}`\n            let sol2RevisiteeTexOppose = `-\\\\dfrac{${a} + ${b === 1 ? '' : b}\\\\sqrt{${c}}}{${d}}`\n            if (d === 1) {\n              sol1RevisiteeTex = `${a} - ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n              sol2RevisiteeTex = `${a} + ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n              sol1RevisiteeTexOppose = `-${a} - ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n              sol2RevisiteeTexOppose = `-${a} + ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n            } else if (d === -1) {\n              sol1RevisiteeTex = `-${a} + ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n              sol2RevisiteeTex = `-${a} - ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n              sol1RevisiteeTexOppose = `${a} - ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n              sol2RevisiteeTexOppose = `${a} + ${b === 1 ? '' : b}\\\\sqrt{${c}}`\n            }\n            this.solutionsListeTex = [sol1RevisiteeTex, sol2RevisiteeTex]\n            this.solutionsListeTexOppose = [\n              sol1RevisiteeTexOppose,\n              sol2RevisiteeTexOppose,\n            ]\n          }\n        } else {\n          this.solutionsListeTex = [sol1Tex, sol2Tex]\n          this.solutionsListeTexOppose = [sol1TexOppose, sol2TexOppose]\n        }\n      }\n    }\n    this.ensembleDeSolutionsTex =\n      this.delta.num < 0\n        ? 'S=\\\\emptyset'\n        : this.delta.num > 0\n          ? 'S = \\\\left\\\\{' +\n            this.solutionsListeTex.join('\\\\,;\\\\,') +\n            '\\\\right\\\\}'\n          : `S=\\\\left\\\\{${this.solutionsListeTex[0]}\\\\right\\\\}`\n    if (this.nombreSolutions === 0) {\n      this.correctionTex = `On a que $\\\\Delta=${this.delta.texFSD}$, l'équation n'a pas de solution réelle, $${this.ensembleDeSolutionsTex}$.`\n    } else {\n      this.correctionTex =\n        `On a que $\\\\Delta=${this.delta.texFSD}$, donc l'équation a ${this.nombreSolutions} solution` +\n        (this.nombreSolutions > 1 ? 's' : '') +\n        `, ${this.ensembleDeSolutionsTex}.`\n    }\n    this.correctionDetailleeTex = ''\n    if (melange) {\n      this.correctionDetailleeTex += `On commence par mettre l'équation sous la forme réduite : \\\\[${this.printToLatexEq(this.coefficientsEqReduite)}\\\\]`\n    }\n    this.correctionDetailleeTex += `On calcule le discriminant : \\\\[\\\\Delta=\\\\left(${this.coefficientsEqReduite[1].texFractionSimplifiee}\\\\right)^2-4\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}\\\\times${this.coefficientsEqReduite[2].ecritureParentheseSiNegatif}=${this.delta.texFractionSimplifiee}.\\\\] On a $\\\\Delta=${this.delta.texFractionSimplifiee}$, donc `\n    if (this.nombreSolutions > 1) {\n      this.correctionDetailleeTex +=\n        \"l'équation a deux solutions. Les solutions sont\"\n      if (lang === 'fr-CH') {\n        this.correctionDetailleeTex += `\\\\[${this.variable}_{1,2}=\\\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}\\\\pm\\\\sqrt{${this.delta.texFSD}}}{2\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\\\]`\n      } else {\n        this.correctionDetailleeTex += `\\\\[${this.variable}_{1}=\\\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}+\\\\sqrt{${this.delta.texFSD}}}{2\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\\\quad`\n        this.correctionDetailleeTex += ` ${this.variable}_{2}=\\\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}-\\\\sqrt{${this.delta.texFSD}}}{2\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\\\]`\n      }\n      if (\n        this.natureDesSolutions === 'entier' ||\n        this.natureDesSolutions === 'fractionnaire'\n      ) {\n        this.correctionDetailleeTex += `En calculant, on obtient $${miseEnEvidence(this.ensembleDeSolutionsTex)}$.`\n      } else {\n        this.correctionDetailleeTex += `Ainsi, $${miseEnEvidence(this.ensembleDeSolutionsTex)}$.`\n      }\n    } else if (this.nombreSolutions === 1) {\n      this.correctionDetailleeTex += `l'équation a une solution donnée par\n    \\\\[s=\\\\dfrac{-${this.coefficientsEqReduite[1].ecritureParentheseSiNegatif}}{2\\\\times${this.coefficientsEqReduite[0].ecritureParentheseSiNegatif}}\\\\]\n    Ainsi, $${miseEnEvidence(this.ensembleDeSolutionsTex)}$.`\n    } else {\n      this.correctionDetailleeTex += ` l'équation n'a pas de solution réelle, $${miseEnEvidence(this.ensembleDeSolutionsTex)}$.`\n    }\n  }\n\n  // Méthode pour créer une équation à partir des coefficients\n  static aPartirDesCoefficients(\n    a: FractionEtendue,\n    b: FractionEtendue,\n    c: FractionEtendue,\n    d: FractionEtendue,\n    e: FractionEtendue,\n    f: FractionEtendue,\n    options: Options,\n  ): EquationSecondDegre {\n    return new EquationSecondDegre(a, b, c, d, e, f, options)\n  }\n\n  // Méthode pour créer une équation à partir des solutions\n  static aPartirDesSolutions(\n    sol1: FractionEtendue,\n    sol2: FractionEtendue,\n    coeffLead: FractionEtendue,\n    options: Options,\n  ): EquationSecondDegre {\n    const a = coeffLead\n    const b = sol1\n      .sommeFraction(sol2)\n      .multiplieEntier(-1)\n      .produitFraction(coeffLead)\n    const c = sol1.produitFraction(sol2).produitFraction(coeffLead)\n    const d = new FractionEtendue(0, 1)\n    const e = new FractionEtendue(0, 1)\n    const f = new FractionEtendue(0, 1)\n    return new EquationSecondDegre(a, b, c, d, e, f, options)\n  }\n\n  // Méthode pour créer une équation à partir des coefficients d'un PolynomePlusieursVariables\n  static aPartirDuPolynome(\n    polynome: PolynomePlusieursVariables,\n    options: Options = { format: 'reduit', variable: 'x' },\n  ): EquationSecondDegre {\n    // Reduce polynomial to combine like terms\n    const polynomeReduit = polynome.reduire()\n\n    // Initialize coefficients\n    let coeffX2 = new FractionEtendue(0, 1)\n    let coeffX1 = new FractionEtendue(0, 1)\n    let coeffX0 = new FractionEtendue(0, 1)\n\n    const variable = options.variable\n\n    // Extract coefficients from reduced polynomial\n    for (const monome of polynomeReduit.monomes) {\n      const varIndex = monome.partieLitterale.variables.indexOf(variable)\n      const degree =\n        varIndex !== -1 ? monome.partieLitterale.exposants[varIndex] : 0\n\n      if (degree === 2) {\n        coeffX2 = monome.coefficient\n      } else if (degree === 1) {\n        coeffX1 = monome.coefficient\n      } else if (degree === 0) {\n        coeffX0 = monome.coefficient\n      }\n    }\n\n    // Check that it's a quadratic equation\n    if (coeffX2.num === 0) {\n      throw new Error(\n        \"Le coefficient de x² est nul. Ce n'est pas une équation du second degré.\",\n      )\n    }\n\n    // Create equation: ax² + bx + c = 0\n    const d = new FractionEtendue(0, 1)\n    const e = new FractionEtendue(0, 1)\n    const f = new FractionEtendue(0, 1)\n\n    return new EquationSecondDegre(coeffX2, coeffX1, coeffX0, d, e, f, options)\n  }\n\n  // Méthode pour créer une équation à partir du type de jeu de coefficients\n  // static aPartirDuTypeDesCoefficients (type: string): EquationSecondDegre {\n  //   const fractionNulle = new FractionEtendue(0, 1)\n  //   let coefficients: FractionEtendue[] = [fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle] // Initialiser avec tous les coefficients à 0\n\n  //   switch (type) {\n  //     case 'naturels':\n  //       // Définir les coefficients pour les nombres naturels\n  //       coefficients = [fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle] // Exemple de coefficients\n  //       break\n  //     case 'entiers':\n  //       // Définir les coefficients pour les entiers\n  //       coefficients = [fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle] // Exemple de coefficients\n  //       break\n  //     case 'décimaux':\n  //       // Définir les coefficients pour les nombres décimaux\n  //       coefficients = [fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle] // Exemple de coefficients\n  //       break\n  //     case 'fraction':\n  //       // Définir les coefficients pour les fractions\n  //       coefficients = [fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle] // Exemple de coefficients\n  //       break\n  //     default:\n  //       // Par défaut, utiliser les nombres naturels si le type n'est pas reconnu\n  //       coefficients = [fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle, fractionNulle] // Exemple de coefficients\n  //   }\n\n  //   return new EquationSecondDegre(coefficients[0], coefficients[1], coefficients[2], coefficients[3], coefficients[4], coefficients[5])\n  // }\n  // Si tous les coefficients sont de fractions entières, alors on ajoute de part et d'autre aléatoire des entiers pour complexifier l'équation et si une des fractions n'est pas entière, on ajoute des fractions entières pour complexifier l'équation\n  private complexifyCoefficients(\n    coefficients: FractionEtendue[],\n  ): FractionEtendue[] {\n    const newCoefficients = coefficients\n    let checkFractionEntiere = true\n    for (let i = 0; i < 6; i++) {\n      if (!(coefficients[i].den === 1)) {\n        checkFractionEntiere = false\n        break\n      }\n    }\n    if (this.natureDelEquation === 'melangeComplique') {\n      if (checkFractionEntiere) {\n        for (let i = 0; i < 3; i++) {\n          const ajout = new FractionEtendue(randint(-10, 10), 1)\n          newCoefficients[i] = newCoefficients[i].sommeFraction(ajout)\n          newCoefficients[i + 3] = newCoefficients[i + 3].sommeFraction(ajout)\n        }\n      } else {\n        for (let i = 0; i < 3; i++) {\n          const ajout = new FractionEtendue(\n            randint(-4, 4, [0]),\n            randint(-3, 3, [0]),\n          )\n          newCoefficients[i] = newCoefficients[i].sommeFraction(ajout)\n          newCoefficients[i + 3] = newCoefficients[i + 3].sommeFraction(ajout)\n        }\n      }\n    } else if (this.natureDelEquation === 'melangeSimple') {\n      for (let i = 0; i < 3; i++) {\n        if (randint(0, 1) === 1) {\n          const ajout = coefficients[i].oppose()\n          newCoefficients[i] = newCoefficients[i].sommeFraction(ajout)\n          newCoefficients[i + 3] = newCoefficients[i + 3].sommeFraction(ajout)\n        }\n      }\n    }\n    return newCoefficients\n  }\n\n  private printToLatexEq(\n    coeff: FractionEtendue[],\n    nomVal: string[] = [\n      `${this.variable}^2`,\n      this.variable,\n      '',\n      `${this.variable}^2`,\n      this.variable,\n      '',\n    ],\n  ): string {\n    let expr = ''\n    let checkPreviousNull = true\n    for (let i = 0; i < 3; i++) {\n      if (coeff.slice(0, 3).every((item) => item.num === 0) && i === 0) {\n        expr = expr + '0'\n      } else if (!(coeff[i].num === 0) && checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${coeff[i].texFSD}${nomVal[i]}`\n        } else {\n          expr = expr + `${rienSi1(coeff[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      } else if (!(coeff[i].num === 0) && !checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${ecritureAlgebrique(coeff[i])}${nomVal[i]}`\n        } else {\n          expr = expr + `${ecritureAlgebriqueSauf1(coeff[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      }\n    }\n    expr = expr + '='\n    checkPreviousNull = true\n    for (let i = 3; i < 6; i++) {\n      if (coeff.slice(3).every((item) => item.num === 0) && i === 3) {\n        expr = expr + '0'\n      } else if (!(coeff[i].num === 0) && checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${coeff[i].texFSD}${nomVal[i]}`\n        } else {\n          expr = expr + `${rienSi1(coeff[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      } else if (!(coeff[i].num === 0) && !checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${ecritureAlgebrique(coeff[i])}${nomVal[i]}`\n        } else {\n          expr = expr + `${ecritureAlgebriqueSauf1(coeff[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      }\n    }\n    return expr\n  }\n\n  // Méthode pour construire le polynomePlusieursVariables à partir de la forme réduite\n  polynomeFormeReduite(): PolynomePlusieursVariables {\n    const m1 = new MonomePlusieursVariables(this.coefficients[0], {\n      variables: [this.variable],\n      exposants: [2],\n    })\n    const m2 = new MonomePlusieursVariables(this.coefficients[1], {\n      variables: [this.variable],\n      exposants: [1],\n    })\n    const m3 = new MonomePlusieursVariables(this.coefficients[2], {\n      variables: [this.variable],\n      exposants: [0],\n    })\n    return new PolynomePlusieursVariables([m1, m2, m3])\n  }\n\n  formeCanonique(): string {\n    const alpha = this.coefficients[1]\n      .oppose()\n      .diviseFraction(this.coefficients[0].multiplieEntier(2).simplifie())\n    const beta = this.polynomeFormeReduite().evaluer({ x: alpha }).simplifie()\n    return `${rienSi1(this.coefficients[0])}\\\\left(${this.variable}${alpha.oppose().simplifie().texFractionSignee}\\\\right)^2${beta.texFractionSignee}`\n  }\n\n  solutionFrac(): FractionEtendue[] | string {\n    if (this.nombreSolutions === 0) {\n      return 'Pas de solution'\n    } else {\n      if (this.solutionsListeTex[0].includes('sqrt')) {\n        return 'Les solutions ne peuvent pas être exprimées sous forme de fraction'\n      } else {\n        const solListe = []\n        for (let j = 0; j < this.solutionsListeTex.length; j++) {\n          let solution = new FractionEtendue(0, 1)\n          let numDen1 = [0, 1]\n          if (!this.solutionsListeTex[j].includes('\\\\dfrac')) {\n            numDen1 = [Number(this.solutionsListeTex[j]), Number('1')]\n          } else if (this.solutionsListeTex[j].includes('\\\\dfrac')) {\n            numDen1 = [\n              Number(\n                this.solutionsListeTex[j]\n                  .match(/\\\\dfrac{(\\d+)}{(\\d+)}/)\n                  ?.slice(1)[0],\n              ),\n              Number(\n                this.solutionsListeTex[j]\n                  .match(/\\\\dfrac{(\\d+)}{(\\d+)}/)\n                  ?.slice(1)[1],\n              ),\n            ]\n            if (this.solutionsListeTex[j].includes('-')) {\n              numDen1[0] = -numDen1[0]\n            }\n          }\n          solution = new FractionEtendue(Number(numDen1[0]), Number(numDen1[1]))\n          solListe.push(solution)\n        }\n        return solListe\n      }\n    }\n  }\n\n  printToLatexFormeFactorisee(): string {\n    if (this.nombreSolutions === 0) {\n      return '\\\\left (' + this.printToLatexMDG() + '\\\\right )'\n    } else if (this.nombreSolutions === 1) {\n      return `${rienSi1(this.coefficients[0])}\\\\left(${this.variable}${this.solutionsListeTex[0][0] === '-' ? '' : '+'}${this.solutionsListeTexOppose[0]}\\\\right)^2`\n    } else {\n      return `${rienSi1(this.coefficients[0])}\\\\left(${this.variable}${this.solutionsListeTexOppose[1]}\\\\right)\\\\left(${this.variable}${this.solutionsListeTexOppose[0]}\\\\right)`\n    }\n  }\n\n  printToLatex(): string {\n    let expr = ''\n    let checkPreviousNull = true\n    const nomVal = [\n      `${this.variable}^2`,\n      this.variable,\n      '',\n      `${this.variable}^2`,\n      this.variable,\n      '',\n    ]\n    for (let i = 0; i < 3; i++) {\n      if (\n        this.coefficients.slice(0, 3).every((item) => item.num === 0) &&\n        i === 0\n      ) {\n        expr = expr + '0'\n      } else if (!(this.coefficients[i].num === 0) && checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${this.coefficients[i].texFSD}`\n        } else {\n          expr = expr + `${rienSi1(this.coefficients[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      } else if (!(this.coefficients[i].num === 0) && !checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr += `${ecritureAlgebrique(this.coefficients[i].simplifie())}`\n        } else {\n          expr += `${ecritureAlgebriqueSauf1(this.coefficients[i].simplifie())}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      }\n    }\n    expr = expr + '='\n    checkPreviousNull = true\n    for (let i = 3; i < 6; i++) {\n      if (\n        this.coefficients.slice(3).every((item) => item.num === 0) &&\n        i === 3\n      ) {\n        expr = expr + '0'\n      } else if (!(this.coefficients[i].num === 0) && checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${this.coefficients[i].texFSD}`\n        } else {\n          expr = expr + `${rienSi1(this.coefficients[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      } else if (!(this.coefficients[i].num === 0) && !checkPreviousNull) {\n        if (nomVal[i] === '') {\n          expr = expr + `${this.coefficients[i].texFSD}`\n        } else {\n          expr =\n            expr +\n            `${ecritureAlgebriqueSauf1(this.coefficients[i])}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      }\n    }\n    return expr\n  }\n\n  printToLatexMDG(option = { indice: -1, couleur: 'black' }): string {\n    let expr = ''\n    let suiteExpr = ''\n    let checkPreviousNull = true\n    const nomVal = [\n      `${this.variable}^2`,\n      this.variable,\n      '',\n      `${this.variable}^2`,\n      this.variable,\n      '',\n    ]\n    for (let i = 0; i < 3; i++) {\n      suiteExpr = ''\n      if (\n        this.coefficients.slice(0, 3).every((item) => item.num === 0) &&\n        i === 0\n      ) {\n        suiteExpr = '0'\n      } else if (!(this.coefficients[i].num === 0) && checkPreviousNull) {\n        if (nomVal[i] === '') {\n          suiteExpr = `${this.coefficients[i].simplifie().texFSD}${nomVal[i]}`\n        } else {\n          suiteExpr = `${rienSi1(this.coefficients[i].simplifie())}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      } else if (!(this.coefficients[i].num === 0) && !checkPreviousNull) {\n        if (nomVal[i] === '') {\n          suiteExpr = `${ecritureAlgebrique(this.coefficients[i].simplifie())}`\n        } else {\n          suiteExpr = `${ecritureAlgebriqueSauf1(this.coefficients[i].simplifie())}${nomVal[i]}`\n        }\n        checkPreviousNull = false\n      }\n      if (i === option.indice) {\n        if (\n          suiteExpr.split(this.variable)[0] === '+' ||\n          suiteExpr.split(this.variable)[0] === '-'\n        ) {\n          suiteExpr =\n            miseEnEvidence(\n              suiteExpr.split(this.variable)[0] + '1',\n              option.couleur,\n            ) +\n            this.variable +\n            suiteExpr.split(this.variable)[1]\n        }\n        if (suiteExpr.split(this.variable).length !== 1) {\n          suiteExpr =\n            miseEnEvidence(suiteExpr.split(this.variable)[0], option.couleur) +\n            this.variable +\n            suiteExpr.split(this.variable)[1]\n        } else {\n          suiteExpr = miseEnEvidence(\n            suiteExpr.split(this.variable)[0],\n            option.couleur,\n          )\n        }\n        suiteExpr = '\\\\,' + suiteExpr\n      }\n      expr = expr + suiteExpr\n    }\n    return expr\n  }\n}\n\nexport default EquationSecondDegre\n"],"names":["EquationSecondDegre","a","b","c","d","e","f","options","__publicField","lang","getLang","x","melange","nomValDefault","FractionEtendue","tabMelange","shuffle2tableauxSansModif","coefficientsRevus","tabMelange1","tabMelange2","sol1Tex","sol2Tex","sol1TexOppose","sol2TexOppose","racineDelta","extraireRacineCarree","sol1","sol2","pgcdRacines","pgcd","sol1RevisiteeTex","sol2RevisiteeTex","sol1RevisiteeTexOppose","sol2RevisiteeTexOppose","miseEnEvidence","coeffLead","polynome","polynomeReduit","coeffX2","coeffX1","coeffX0","variable","monome","varIndex","degree","coefficients","newCoefficients","checkFractionEntiere","i","ajout","randint","coeff","nomVal","expr","checkPreviousNull","item","rienSi1","ecritureAlgebrique","ecritureAlgebriqueSauf1","m1","MonomePlusieursVariables","m2","m3","PolynomePlusieursVariables","alpha","beta","solListe","j","solution","numDen1","_a","_b","option","suiteExpr"],"mappings":"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"}