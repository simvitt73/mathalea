{"version":3,"file":"6N1G-ChCeYPi-.js","sources":["../../src/exercices/6e/6N1G.ts"],"sourcesContent":["import { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport type Figure from 'apigeom/src/Figure'\nimport { apigeomGraduatedLine } from '../../lib/apigeom/apigeomGraduatedLine'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Placer un point d'abscisse d√©cimale\"\nexport const dateDeModifImportante = '03/05/2024'\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n/**\n * Placer un point d'abscisse d√©cimale\n * @author Jean-Claude Lhote et R√©mi Angot\n * Relecture : Janvier 2022 par EE\n */\n\nexport const uuid = 'e528e'\n\nexport const refs = {\n  'fr-fr': ['6N1G'],\n  'fr-2016': ['6N30-2'],\n  'fr-ch': ['9NO7-3'],\n}\n\ntype goodAnswer = { label: string; x: number }[]\n\nclass PlacerPointsSurAxe extends Exercice {\n  goodAnswers: goodAnswer[] = []\n  figures: Figure[] = []\n  constructor() {\n    super()\n    this.consigne = 'Placer trois points sur un axe gradu√©.'\n    this.nbQuestions = 5\n\n    this.sup = 1\n    this.exoCustomResultat = true\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficult√©',\n      4,\n      '1 : Un chiffre apr√®s la virgule\\n2 : Deux chiffres apr√®s la virgule \\n3 : Trois chiffres apr√®s la virgule\\n4 : M√©lange',\n    ]\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestions\n\n    if (this.sup > 3) {\n      typesDeQuestions = combinaisonListes([1, 2, 3], this.nbQuestions)\n    } else {\n      typesDeQuestions = combinaisonListes([this.sup], this.nbQuestions)\n    }\n\n    this.contenu = this.consigne\n    for (let i = 0; i < this.nbQuestions; i++) {\n      const label1 = lettreDepuisChiffre(i * 3 + 1)\n      const label2 = lettreDepuisChiffre(i * 3 + 2)\n      const label3 = lettreDepuisChiffre(i * 3 + 3)\n      let abs0\n      let step, stepBis: number\n      let texte = ''\n      let texteCorr = ''\n      switch (typesDeQuestions[i]) {\n        case 1: // Placer un point sur un axe (1 d√©cimale)\n          abs0 = this.sup > 4 ? randint(-5, 5) : randint(0, 9)\n          step = 1\n          stepBis = 10\n          break\n\n        case 2: // Placer un point sur un axe (2 d√©cimales)\n          abs0 =\n            this.sup > 4\n              ? arrondi(randint(-50, 50) / 10)\n              : arrondi(randint(0, 90) / 10)\n          step = 10\n          stepBis = 10\n          break\n\n        default: // Placer un point sur un axe (3 d√©cimales)\n          abs0 =\n            this.sup > 4\n              ? arrondi(randint(-500, 500) / 100, 4)\n              : arrondi(randint(0, 990) / 100, 4)\n          step = 100\n          stepBis = 10\n          break\n      }\n      const x1 = randint(0, 2)\n      const x2 = randint(3, 4)\n      const x3 = randint(5, 6)\n      const x11 = randint(1, 9)\n      const x22 = randint(1, 9)\n      const x33 = randint(1, 3)\n      const abs1 = arrondi(\n        abs0 + x1 / step + x11 / step / stepBis,\n        typesDeQuestions[i],\n      ) // le type de questions est √©gal au nombre de d√©cimales.\n      const abs2 = arrondi(\n        abs0 + x2 / step + x22 / step / stepBis,\n        typesDeQuestions[i],\n      )\n      const abs3 = arrondi(\n        abs0 + x3 / step + x33 / step / stepBis,\n        typesDeQuestions[i],\n      )\n\n      this.goodAnswers[i] = [\n        { label: label1, x: arrondi(abs1, 4) },\n        { label: label2, x: arrondi(abs2, 4) },\n        { label: label3, x: arrondi(abs3, 4) },\n      ]\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte,\n          propositions: [{ texte: texteCorr, statut: 0, feedback: '' }],\n        }\n      }\n\n      const { figure, latex } = apigeomGraduatedLine({\n        xMin: abs0 - 1 / (stepBis * stepBis * stepBis * stepBis),\n        xMax: abs0 + 7 / step + 1 / (stepBis * stepBis * stepBis),\n        scale: step,\n      })\n      figure.options.labelAutomaticBeginsWith = label1\n      figure.options.pointDescriptionWithCoordinates = false\n      figure.divFigureAndUserMessage.classList.add(\n        ...['overflow-x-auto', 'overflow-y-hidden'],\n      )\n      this.figures[i] = figure\n\n      const { figure: figureCorr, latex: latexCorr } = apigeomGraduatedLine({\n        xMin: abs0 - 1 / (stepBis * stepBis * stepBis * stepBis),\n        xMax: abs0 + 7 / step + 1 / (stepBis * stepBis * stepBis),\n        scale: step,\n        points: this.goodAnswers[i],\n      })\n      figureCorr.create('Point', {\n        label: label1,\n        x: abs1,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        shape: 'x',\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: label2,\n        x: abs2,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: label3,\n        x: abs3,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n      texte = `Placer les points : $${label1}(${texNombre(abs1, 5)}), ${label2}(${texNombre(abs2, 5)}), ${label3}(${texNombre(abs3, 5)})$.`\n\n      switch (true) {\n        case context.isHtml && this.interactif:\n          texte +=\n            '<br>' +\n            figureApigeom({ exercice: this, i, figure, defaultAction: 'POINT' })\n          texteCorr += figureCorr.getStaticHtml()\n          break\n        case context.isHtml:\n          texte += '<br>' + figure.getStaticHtml()\n          texteCorr += figureCorr.getStaticHtml()\n          break\n        default:\n          texte += '\\n\\n' + latex\n          texteCorr += '\\\\;\\n' + latexCorr\n          break\n      }\n\n      this.listeQuestions.push(texte)\n      this.listeCorrections.push(texteCorr)\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined) return ['KO']\n    const result: ('OK' | 'KO')[] = []\n    const figure = this.figures[i]\n    // Sauvegarde de la r√©ponse pour Capytale\n    if (this.answers === undefined) this.answers = {}\n    this.answers[figure.id] = figure.json\n\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const goodAnswer = this.goodAnswers[i]\n    const divFeedback = document.querySelector(\n      `#feedback${`Ex${this.numeroExercice}Q${i}`}`,\n    )\n    for (let j = 0; j < goodAnswer.length; j++) {\n      const label = goodAnswer[j].label\n      const x = goodAnswer[j].x\n      const { isValid, message, points } = figure.checkCoords({\n        checkOnlyAbscissa: true,\n        label,\n        x,\n        y: 0,\n      })\n      const point = points[0]\n      if (isValid) {\n        result.push('OK')\n        point.color = 'green'\n        point.colorLabel = 'green'\n        point.thickness = 3\n      } else {\n        result.push('KO')\n        if (point !== undefined) {\n          point.color = 'red'\n          point.colorLabel = 'red'\n          point.color = 'red'\n          point.thickness = 3\n        }\n      }\n      if (divFeedback != null && message.length > 0) {\n        const p = document.createElement('p')\n        p.innerText = message\n        divFeedback.appendChild(p)\n      }\n    }\n    if (divFeedback != null) {\n      if (divFeedback?.innerHTML === '') {\n        divFeedback.innerHTML = 'üòé'\n      } else {\n        const p = document.createElement('p')\n        p.innerText = '‚òπÔ∏è'\n        divFeedback.insertBefore(p, divFeedback.firstChild)\n      }\n    }\n    return result\n  }\n}\n\nexport default PlacerPointsSurAxe\n"],"names":["titre","dateDeModifImportante","interactifReady","interactifType","amcReady","amcType","uuid","refs","PlacerPointsSurAxe","Exercice","__publicField","i","result","figure","goodAnswer","divFeedback","j","label","x","isValid","message","points","point","p","typesDeQuestions","combinaisonListes","label1","lettreDepuisChiffre","label2","label3","abs0","step","stepBis","texte","texteCorr","randint","arrondi","x1","x2","x3","x11","x22","x33","abs1","abs2","abs3","context","latex","apigeomGraduatedLine","figureCorr","latexCorr","orangeMathalea","texNombre","figureApigeom","listeQuestionsToContenu"],"mappings":"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"}