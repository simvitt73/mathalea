{"version":3,"file":"_ExerciceConversionsLongueurs-BIc6OKl_.js","sources":["../../src/exercices/6e/_ExerciceConversionsLongueurs.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { texTexte } from '../../lib/format/texTexte'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = 'true'\nexport const amcType = 'AMCNum'\nexport const titre = 'Convertir des longueurs ou des masses'\n\n/**\n * Conversions de longueur (ou de masses) en utilisant le préfixe pour déterminer la multiplication ou division à faire.\n *\n * * 1 : De dam, hm, $\\\\text{km}$ vers m\n * * 2 : De dm, cm, mm vers m\n * * 3 : Conversions en mètres\n * * 4 : Toutes les conversions de longueurs\n * * Paramètre supplémentaire : utiliser des nombres décimaux (par défaut tous les nombres sont entiers)\n * @author Rémi Angot\n */\nexport default class ExerciceConversionsLongueurs extends Exercice {\n  constructor(niveau = 1) {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      4,\n      ' 1 : De dam, hm, km vers m\\n 2 : De dm, cm, mm vers m\\n 3 : Conversions en mètres\\n4 : Au hasard',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Avec des nombres décimaux']\n    this.besoinFormulaire3CaseACocher = ['Avec tableau']\n    this.besoinFormulaire4Texte = [\n      'Type de grandeur',\n      'Nombres séparés par des tirets :\\n1 : Longueur\\n2 : Masse\\n3 : Mélange',\n    ]\n    this.sup = niveau // Niveau de difficulté de l'exercice\n    this.sup2 = false // Avec des nombres décimaux ou pas\n    this.sup3 = false // avec le tableau\n    this.sup4 = '1' // avec des mètres (pas des grammes)\n    this.spacing = 2\n  }\n\n  nouvelleVersion() {\n    this.consigne = context.isDiaporama ? 'Convertir ' : 'Compléter '\n    const reponses = []\n    const typeDeGrandeur = gestionnaireFormulaireTexte({\n      saisie: this.sup4,\n      min: 1,\n      max: 2,\n      defaut: 1,\n      melange: 3,\n      nbQuestions: this.nbQuestions,\n    })\n    const prefixeMulti = [\n      ['da', 10],\n      ['h', 100],\n      ['k', 1000],\n    ]\n    const prefixeDiv = [\n      ['d', 10],\n      ['c', 100],\n      ['m', 1000],\n    ]\n    const listeUnite1 = combinaisonListes(\n      [0, 1, 2, 3, 4, 5, 6],\n      this.nbQuestions,\n    )\n    const listek = combinaisonListes([0, 1, 2], this.nbQuestions)\n    const listeDeDecimaux = combinaisonListes(\n      ['entier', 'XX,X', '0,X', '0,0X', 'X,XX'],\n      this.nbQuestions,\n    )\n    for (\n      let i = 0, a, k, div, resultat, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      // On limite le nombre d'essais pour chercher des valeurs nouvelles\n      const unite = typeDeGrandeur[i] === 1 ? 'm' : 'g'\n      const listeUnite = ['m', 'c', 'd', '', 'da', 'h', 'k'].map(\n        (pref) => `${pref}${unite}`,\n      )\n      const typesDeQuestions = this.sup\n      k = listek[i] // Plutôt que de prendre un préfix au hasard, on alterne entre 10,100 et 1000\n      if (typesDeQuestions === 1) {\n        // niveau 1\n        div = false // Il n'y aura pas de division\n      } else if (typesDeQuestions === 2) {\n        // niveau 2\n        div = true // Avec des divisions\n      } else {\n        div = choice([true, false]) // Avec des multiplications ou des divisions\n      }\n\n      if (this.sup2) {\n        // Si la case pour les nombres décimaux est cochée\n        switch (listeDeDecimaux[i]) {\n          case 'entier':\n            a = randint(1, 99)\n            break\n          case 'XX,X':\n            a = arrondi(randint(1, 19) + randint(1, 9) / 10, 1)\n            break\n          case '0,X':\n            a = arrondi(randint(1, 9) / 10, 1)\n            break\n          case '0,0X':\n            a = arrondi(randint(1, 9) / 100, 2)\n            break\n          case 'X,XX':\n          default:\n            a = arrondi(\n              randint(1, 9) + randint(1, 9) / 10 + randint(1, 9) / 100,\n              2,\n            )\n        }\n        // entier ou\n      } else {\n        a = choice([\n          randint(1, 9),\n          randint(1, 9) * 10,\n          randint(1, 9) * 100,\n          randint(1, 9) * 10 + randint(1, 9),\n        ])\n        // X, X0, X00, XX\n      }\n\n      if (!div && typesDeQuestions < 4) {\n        // Si il faut multiplier pour convertir\n        resultat = arrondi(a * Number(prefixeMulti[k][1]), 12)\n        texte = `$${texNombre(a)} ${texTexte(prefixeMulti[k][0] + unite)} = `\n        texte +=\n          this.interactif && context.isHtml\n            ? `$${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: `${sp()}$${texTexte(unite)}$` })}`\n            : `\\\\dotfills  ${texTexte(unite)}$`\n        texteCorr = `$ ${texNombre(a)}${texTexte(prefixeMulti[k][0] + unite)} =  ${texNombre(a)}\\\\times${prefixeMulti[k][1]}${texTexte(unite)} = ${miseEnEvidence(texNombre(resultat))}${texTexte(unite)}$`\n        if (this.sup3 && context.vue === 'diap') {\n          texte += `<br>${buildTab('0', '', '0', '', 2, true)}`\n        }\n        if (this.sup3) {\n          texteCorr += `<br>${buildTab(String(a), `${prefixeMulti[k][0]}m`, String(resultat), unite)}`\n        }\n      } else if (div && typesDeQuestions < 4) {\n        resultat = arrondi(a / Number(prefixeDiv[k][1]), 12)\n        texte = `$${texNombre(a)} ${texTexte(prefixeDiv[k][0] + unite)} = `\n        texte +=\n          this.interactif && context.isHtml\n            ? `$${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: `${sp()}$${texTexte(unite)}$` })}`\n            : `\\\\dotfills  ${texTexte(unite)}$`\n        texteCorr = `$ ${texNombre(a)}${texTexte(prefixeDiv[k][0] + unite)} =  ${texNombre(a)}\\\\div${texTexte(String(prefixeDiv[k][1]))}${texTexte(unite)} = ${miseEnEvidence(texNombre(resultat))}${texTexte(unite)}$`\n        if (this.sup3 && context.vue === 'diap') {\n          texte += `<br>${buildTab('0', '', '0', '', 2, true)}`\n        }\n        if (this.sup3) {\n          texteCorr += `<br>${buildTab(String(a), `${prefixeDiv[k][0]}m`, String(resultat), unite)}`\n        }\n      } else {\n        // pour type de question = 4\n        let unite1 = listeUnite1[i]\n        let unite2 = randint(\n          Math.max(0, unite1 - 3),\n          Math.min(unite1 + 3, 6),\n          unite1,\n        )\n        if (unite1 > unite2) {\n          ;[unite1, unite2] = [unite2, unite1]\n        }\n        const ecart = unite2 - unite1 // nombre de multiplication par 10 pour passer de l'un à l'autre\n        if (randint(0, 1) > 0) {\n          resultat = a * 10 ** ecart\n          texte = `$${texNombre(a)} ${texTexte(listeUnite[unite2])} = `\n          texte +=\n            this.interactif && context.isHtml\n              ? `$${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: `${sp()}$${texTexte(listeUnite[unite1])}$` })}`\n              : `\\\\dotfills  ${texTexte(listeUnite[unite1])}$`\n          texteCorr = `$ ${texNombre(a)}${texTexte(listeUnite[unite2])} =  ${texNombre(a)}\\\\times${texNombre(10 ** ecart)}${texTexte(listeUnite[unite1])} = ${miseEnEvidence(texNombre(resultat))}${texTexte(listeUnite[unite1])}$`\n          if (this.sup3 && context.vue === 'diap') {\n            texte += `<br>${buildTab('0', '', '0', '', 2, true)}`\n          }\n          if (this.sup3) {\n            texteCorr += `<br>${buildTab(String(a), listeUnite[unite2], String(arrondi(resultat, 7)), listeUnite[unite1])}`\n          }\n        } else {\n          resultat = a / 10 ** ecart\n          texte = `$${texNombre(a)} ${texTexte(listeUnite[unite1])} = `\n          texte +=\n            this.interactif && context.isHtml\n              ? `$${ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, { texteApres: `${sp()}$${texTexte(listeUnite[unite2])}$` })}`\n              : `\\\\dotfills  ${texTexte(listeUnite[unite2])}$`\n          texteCorr = `$ ${texNombre(a)}${texTexte(listeUnite[unite1])} =  ${texNombre(a)}\\\\div${texNombre(10 ** ecart)}${texTexte(listeUnite[unite2])} = ${miseEnEvidence(texNombre(resultat))}${texTexte(listeUnite[unite2])}$`\n          if (this.sup3 && context.vue === 'diap') {\n            texte += `<br>${buildTab('0', '', '0', '', 2, true)}`\n          }\n          if (this.sup3) {\n            texteCorr += `<br>${buildTab(String(a), listeUnite[unite1], String(arrondi(resultat, 7)), listeUnite[unite2])}`\n          }\n        }\n      }\n\n      if (this.questionJamaisPosee(i, resultat)) {\n        reponses[i] = resultat\n        setReponse(this, i, arrondi(resultat, 7))\n        // Si la question n'a jamais été posée, on en crée une autre\n        if (context.vue === 'diap') {\n          texte = texte.replace('= \\\\dotfills', '~\\\\text{en}')\n        } else if (context.isHtml) {\n          texte = texte.replace(\n            '\\\\dotfills',\n            '................................',\n          )\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n    if (context.vue === 'latex' && this.sup3) {\n      this.consigne += \"en s'aidant du tableau ci-dessous :\\n\\n\"\n      this.consigne += buildTab(\n        '0',\n        '',\n        '0',\n        '',\n        Math.min(10, this.nbQuestions),\n        true,\n      )\n    } else if (context.vue !== 'diap' && context.isHtml && this.sup3) {\n      this.consigne += \"en s'aidant du tableau ci-dessous :<br><br>\"\n      this.consigne += buildTab(\n        '0',\n        '',\n        '0',\n        '',\n        Math.min(10, this.nbQuestions),\n        true,\n      )\n    } else this.consigne += ':'\n  }\n}\n\n/**\n * Fonction utilitaire retournant le rang d'un nombre\n * @param {*} nb Nombre entier ou décimal\n * @param {*} pos Le rang cherché\n * @returns retourne la valeur de la colonne, si zéro inutile alors on retourne ''\n * Exemple :\n * getDigitFromNumber(1302.56,1000) retourne '1'\n * getDigitFromNumber(1302.56,10000) retourne ''\n * getDigitFromNumber(1302.56,100) retourne '3'\n * getDigitFromNumber(1302.56,10) retourne '0'\n * getDigitFromNumber(1302.56,0.1) retourne '5'\n * getDigitFromNumber(1302.56,0.001) retourne ''\n */\nexport function getDigitFromNumber(nb: string | number, pos: number) {\n  if (typeof nb === 'number') nb = nb.toString()\n  const n = new Decimal(nb)\n  const po = new Decimal(pos)\n  const exp = Decimal.ln(po).div(Decimal.ln(10)).toNumber()\n  let res: string\n  if (po.comparedTo(1) >= 0) {\n    // partie entière : milliers, centaines, dizaines, unités\n    let resultat = n.sub(n.div(po.mul(10)).trunc().mul(po.mul(10)))\n    resultat = resultat.div(po).trunc()\n    res = po.equals(1) || n.comparedTo(po) >= 0 ? resultat.toString() : ''\n  } else {\n    // partie décimale : dixième, centième, millième\n    let resultat = n.sub(n.div(po.mul(10)).trunc().mul(po.mul(10)))\n    resultat = resultat.div(po).trunc()\n    res = Math.abs(exp) <= n.decimalPlaces() ? resultat.toString() : ''\n  }\n  return res\n}\n/**\n * @param {*} a Nombre de départ\n * @param {*} uniteA Unité de départ (ex : 'km',...)\n * @param {*} r Nombre converti\n * @param {*} uniteR\n * @param {*} ligne Nombre de ligne dans le tableau (par défaut :2)\n * @param {*} force Ajoute deux colonnes avant $\\\\text{km}$ et deuux après mm (par défaut : false)\n * @returns Un tableau de conversion de longueur en latex.\n */\nfunction buildTab(\n  a: string,\n  uniteA: string,\n  r: string,\n  uniteR: string,\n  ligne = 2,\n  force = false,\n) {\n  const tabRep: (nbre: string, uniteNbre: string) => string[] = (\n    nbre: string,\n    uniteNbre: string,\n  ) => {\n    const res = ['', '', '', '', '', '', '', '', '', '', '']\n    switch (uniteNbre.replaceAll(' ', '')) {\n      case 'km':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (2 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 2 - i).toNumber()) +\n            (2 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n      case 'hm':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (3 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 3 - i).toNumber()) +\n            (3 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n      case 'dam':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (4 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 4 - i).toNumber()) +\n            (4 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n      case 'm':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (5 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 5 - i).toNumber()) +\n            (5 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n      case 'dm':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (6 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 6 - i).toNumber()) +\n            (6 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n      case 'cm':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (7 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 7 - i).toNumber()) +\n            (7 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n      case 'mm':\n        for (let i = 0; i <= 10; i++) {\n          res[i] =\n            (8 - i === 0 ? '\\\\color{blue}{' : '') +\n            getDigitFromNumber(nbre, Decimal.pow(10, 8 - i).toNumber()) +\n            (8 - i === 0\n              ? new Decimal(nbre).decimalPlaces() === 0\n                ? '}'\n                : ',}'\n              : '')\n        }\n        break\n    }\n    return res\n  }\n  const createTab = (\n    aT: string[],\n    rT: string[],\n    first: number,\n    end: number,\n    ligne: number,\n  ) => {\n    let texte = '$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{'\n    for (let i = first; i <= end; i++) {\n      texte += `|c${i === end ? '|}' : ''}`\n    }\n    const headers = [\n      '\\\\hspace*{0.6cm}',\n      '\\\\hspace*{0.6cm}',\n      '\\\\; \\\\text{km} \\\\;',\n      '\\\\; hm \\\\;',\n      'dam',\n      '\\\\;\\\\; m \\\\;\\\\;',\n      '\\\\; dm \\\\;',\n      '\\\\; cm \\\\;',\n      '\\\\;mm\\\\;',\n      '\\\\hspace*{0.6cm}',\n      '\\\\hspace*{0.6cm}',\n    ]\n    texte += '\\\\hline '\n    for (let i = first; i <= end; i++) {\n      texte += `${headers[i]} ${i < end ? '&' : '\\\\\\\\'}`\n    }\n    texte += '\\\\hline '\n    for (let i = first; i <= end; i++) {\n      texte += `${aT[i]} ${i < end ? '&' : '\\\\\\\\'}`\n    }\n    texte += '\\\\hline '\n    for (let i = first; i <= end; i++) {\n      texte += `${rT[i]} ${i < end ? '&' : '\\\\\\\\'}`\n    }\n    for (let k = 3; k <= ligne; k++) {\n      texte += '\\\\hline '\n      for (let i = first; i <= end; i++) {\n        texte += `  ${i < end ? '&' : '\\\\\\\\'}`\n      }\n    }\n    texte += '\\\\hline \\\\end{array}$'\n    return texte\n  }\n  const aTab = tabRep(a, uniteA)\n  const rTab = tabRep(r, uniteR)\n  const minTab1 = aTab[0] !== '' || aTab[1] !== '' || force ? 0 : 2\n  const minTab2 = rTab[0] !== '' || rTab[1] !== '' || force ? 0 : 2\n  const maxTab1 = aTab[9] !== '' || aTab[10] !== '' || force ? 10 : 8\n  const maxTab2 = rTab[9] !== '' || rTab[10] !== '' || force ? 10 : 8\n  const texte = createTab(\n    aTab,\n    rTab,\n    Math.min(minTab1, minTab2),\n    Math.max(maxTab1, maxTab2),\n    ligne,\n  )\n  return texte\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","ExerciceConversionsLongueurs","Exercice","niveau","context","reponses","typeDeGrandeur","gestionnaireFormulaireTexte","prefixeMulti","prefixeDiv","listeUnite1","combinaisonListes","listek","listeDeDecimaux","i","a","k","div","resultat","texte","texteCorr","cpt","unite","listeUnite","pref","typesDeQuestions","choice","randint","arrondi","texNombre","texTexte","ajouteChampTexteMathLive","KeyboardType","sp","miseEnEvidence","buildTab","unite1","unite2","ecart","setReponse","listeQuestionsToContenu","getDigitFromNumber","nb","pos","n","Decimal","po","exp","res","uniteA","r","uniteR","ligne","force","tabRep","nbre","uniteNbre","createTab","aT","rT","first","end","headers","aTab","rTab","minTab1","minTab2","maxTab1","maxTab2"],"mappings":"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"}