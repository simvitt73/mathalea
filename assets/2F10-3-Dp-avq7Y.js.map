{"version":3,"file":"2F10-3-Dp-avq7Y.js","sources":["../../src/exercices/2e/2F10-3.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport { Coords } from 'apigeom/src/elements/calculus/Coords'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { Droite, droite } from '../../lib/2d/droites'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { ObjetMathalea2D } from '../../lib/2d/ObjetMathalea2D'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { repere } from '../../lib/2d/reperes'\nimport { labelPoint, texteParPosition } from '../../lib/2d/textes'\nimport type { TracePoint } from '../../lib/2d/TracePoint'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport figureApigeom, { isFigureArray } from '../../lib/figureApigeom'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureParentheseSiNegatif,\n  reduireAxPlusB,\n} from '../../lib/outils/ecritures'\nimport { abs } from '../../lib/outils/nombres'\nimport { pgcd } from '../../lib/outils/primalite'\nimport { context } from '../../modules/context'\nimport { fraction } from '../../modules/fractions'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Repr√©sentation graphique d'une fonction affine\"\nexport const dateDeModifImportante = '06/04/2024'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\n/**\n * @author St√©phane Guyon (mise √† jour avec les cas Gilles Mora + figure interactive R√©mi Angot)\n */\nexport const uuid = 'c360e'\n\nexport const refs = {\n  'fr-fr': ['2F10-3'],\n  'fr-ch': ['10FA5-15'],\n}\nexport default class Representerfonctionaffine extends Exercice {\n  coefficients!: [number, number][]\n  figuresApiGeom: Figure[] = []\n  level: 3 | 2 = 2\n  constructor() {\n    super()\n    this.nbQuestions = 3 // On compl√®te le nb de questions\n    this.sup = 1\n    this.sup2 = 1\n    this.besoinFormulaireNumerique = [\n      'Types de question ',\n      3,\n      '1 : Valeurs enti√®res\\n2 : Valeurs fractionnaires\\n3 : M√©lange des deux cas pr√©c√©dents',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Choix de la correction',\n      2,\n      \"1 : Avec coefficient directeur et ordonn√©e √† l'origine\\n2 :Avec deux points\",\n    ]\n  }\n\n  nouvelleVersion() {\n    this.figuresApiGeom = []\n    this.consigne =\n      'Repr√©senter graphiquement ' +\n      (this.nbQuestions === 1 || context.isDiaporama\n        ? 'la fonction affine suivante  d√©finie'\n        : 'les fonctions affines suivantes d√©finies') +\n      ' sur $\\\\mathbb R$ par :'\n    this.figures = []\n    this.coefficients = []\n\n    let typesDeQuestionsDisponibles: (1 | 2)[] = []\n\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = [1]\n    }\n    if (this.sup === 2) {\n      typesDeQuestionsDisponibles = [2]\n    }\n    if (this.sup === 3) {\n      typesDeQuestionsDisponibles = [1, 2]\n    }\n\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    const textO = texteParPosition('O', -0.5, -0.5, 0, 'black', 1)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; cpt++) {\n      let a: number,\n        b: number,\n        d: number,\n        xA: number,\n        yA: number,\n        xB: number,\n        yB: number,\n        droiteAB: Droite,\n        cadre: { xMin: number; yMin: number; xMax: number; yMax: number },\n        monRepere: ObjetMathalea2D,\n        tA: TracePoint,\n        tB: TracePoint,\n        lA: NestedObjetMathalea2dArray,\n        lB: NestedObjetMathalea2dArray,\n        cadreFenetreSvg: unknown,\n        f: (x: number) => number,\n        texte,\n        texteCorr: string\n      switch (listeTypeDeQuestions[i]) {\n        case 1:\n          {\n            f = (x) => a * x + b\n            a = randint(0, 4) * choice([-1, 1]) // coefficient non nul a de la fonction affine\n            b = randint(0, 3, [0]) * choice([-1, 1]) // ordonn√©e √† l'origine b non nulle de la fonction affine\n            this.coefficients[i] = [a, b]\n            f = (x) => a * x + b\n\n            xA = 0\n            yA = f(xA)\n            xB = this.sup2 === 1 ? 1 : randint(1, 3) * choice([-1, 1]) // Abscisse de B\n            yB = f(xB) // Ordonn√©e de B\n\n            const A = point(xA, yA, 'A')\n            const B = point(xB, yB, 'B')\n            droiteAB = droite(A, B)\n            droiteAB.color = colorToLatexOrHTML('red')\n            droiteAB.epaisseur = 2\n\n            cadre = {\n              xMin: Math.min(-5, xA - 1, xB - 1),\n              yMin: Math.min(-5, yA - 1, yB - 1),\n              xMax: Math.max(5, xA + 1, xB + 1),\n              yMax: Math.max(5, yA + 1, yB + 1),\n            }\n            // C'est bizarre mais c'est parce que dans mathAlea, les attributs n'ont pas de majuscules.\n            // Donc m√™me quand c'est le m√™me cadre, on doit le faire.\n            cadreFenetreSvg = {\n              xmin: cadre.xMin,\n              ymin: cadre.yMin,\n              xmax: cadre.xMax,\n              ymax: cadre.yMax,\n              scale: 0.6,\n            }\n\n            monRepere = repere(cadre)\n\n            tA = tracePoint(A, 'red') // Variable qui trace les points avec une croix\n            tB = tracePoint(B, 'red') // Variable qui trace les points avec une croix\n            lA = labelPoint(A, 'red') // Variable qui trace les nom s A et B\n            lB = labelPoint(B, 'red') // Variable qui trace les nom s A et B\n\n            tA.taille = 5\n            tA.epaisseur = 2\n            tB.taille = 5\n            tB.epaisseur = 2\n\n            texte = `$f_{${i + 1}}(x)=${reduireAxPlusB(a, b)}$ <br>`\n            texteCorr =\n              \"On sait que la repr√©sentation graphique d'une fonction affine est une droite.<br>\"\n            if (this.sup2 === 1) {\n              if (a !== 0) {\n                texteCorr += `La droite a pour √©quation $y=${reduireAxPlusB(a, b)}$. <br>\n              L'ordonn√©e √† l'origine est $${b}$, on place donc le point $A$ de coordonn√©es $(0\\\\,;\\\\,${b})$.<br>\n             Le coefficient directeur est √©gal √† $${a}$. En se d√©calant d'une unit√© vers la droite √† partir du point $A$, on ${a > 0 ? 'monte' : 'descend'} de $${abs(a)}$ ${a === 1 || a === -1 ? 'unit√©' : 'unit√©s'}. <br>\n             On obtient alors le point $B$. <br>\n             On trace la droite $(AB)$.`\n              } else {\n                texteCorr += `Il s'agit d'une fonction affine particuli√®re constante ($f(x)=0x${ecritureAlgebrique(b)}$).<br>\n              L'ordonn√©e √† l'origine est $${b}$, on place donc le point $A$ de coordonn√©es $(0\\\\,;\\\\,${b})$.<br>\n              Le coefficient directeur de la droite est nul, on trace la droite horizontale qui passe par $A$.`\n              }\n            } else {\n              if (a !== 0) {\n                texteCorr += `Il suffit donc de d√©terminer les coordonn√©es de deux points pour pouvoir repr√©senter $f$.<br>\n                Comme $f(${xA})=${yA}$, on a  $A(${xA};${yA}) \\\\in \\\\mathcal{C_f}$.<br>\n                On cherche un deuxi√®me point, et on prend un ant√©c√©dent au hasard :<br>\n                Soit $x=${xB}$ :<br>On calcule : $f(${xB})=${a} \\\\times ${ecritureParentheseSiNegatif(xB)}${ecritureAlgebrique(b)}=${yB}$.<br>\n                On en d√©duit que $B(${xB};${yB}) \\\\in \\\\mathcal{C_f}$.<br>`\n              } else {\n                texteCorr = 'On observe que $f$ est une fonction constante.<br>'\n                texteCorr += `Sa repr√©sentation graphique est donc une droite parall√®le √† l'axe des abscisses, d'√©quation $y=${yA}$.<br>`\n              }\n            }\n            const objets: NestedObjetMathalea2dArray = [\n              lA,\n              lB,\n              monRepere,\n              droiteAB,\n              tA,\n              tB,\n              textO,\n            ]\n            texteCorr += mathalea2d(\n              Object.assign({}, fixeBordures(objets)),\n              objets,\n            )\n          }\n          break\n\n        case 2: // cas du coefficient directeur fractionnaire\n          {\n            a = randint(-5, 5, [0]) // num√©rateur coefficient directeur non nul\n            b = randint(-5, 5, [0]) // ordonn√©e √† l'origine non nulle\n            if (this.level === 3) {\n              d = 2\n              a = randint(-5, 5, [0, -4, -2, 2, 4]) // num√©rateur coefficient directeur non nul\n            } else {\n              d = randint(2, 5) // d√©nominateur coefficient directeur non multiple du num√©rateur pour √©viter nombre entier\n            }\n            while (pgcd(a, d) !== 1) {\n              a = randint(-5, 5, [0]) // num√©rateur coefficient directeur non nul\n              b = randint(-4, 4, [0]) // ordonn√©e √† l'origine non nulle\n              d = randint(2, 5)\n            }\n            f = (x) => (a / d) * x + b\n            this.coefficients[i] = [a / d, b]\n            xA = 0 // Abscisse de A\n            yA = f(xA) // Ordonn√©e de A\n            xB = d\n            yB = f(xB)\n\n            const A1 = point(xA, yA, 'A')\n            const B1 = point(xB, yB, 'B')\n            droiteAB = droite(A1, B1)\n            droiteAB.color = colorToLatexOrHTML('red')\n            droiteAB.epaisseur = 2\n\n            cadre = {\n              xMin: Math.min(-5, xA - 1, xB - 1),\n              yMin: Math.min(-5, yA - 1, yB - 1),\n              xMax: Math.max(5, xA + 1, xB + 1),\n              yMax: Math.max(5, yA + 1, yB + 1),\n            }\n\n            cadreFenetreSvg = {\n              xmin: cadre.xMin,\n              ymin: cadre.yMin,\n              xmax: cadre.xMax,\n              ymax: cadre.yMax,\n              scale: 0.6,\n            }\n\n            texte = `$f_{${i + 1}}(x)=${texFractionReduite(a, d)}x ${ecritureAlgebrique(b)}$ <br>`\n            texteCorr =\n              \"On sait que la repr√©sentation graphique d'une fonction affine est une droite.<br>\"\n            if (this.sup2 === 1) {\n              texteCorr += `La droite a pour √©quation $y=${texFractionReduite(a, d)}x ${ecritureAlgebrique(b)}$. <br>\n              L'ordonn√©e √† l'origine est $${b}$, on place donc le point $A$ de coordonn√©es $(0\\\\,;\\\\,${b})$.<br>\n             Le coefficient directeur est √©gal √† $${texFractionReduite(a, d)}$. En se d√©calant de $${d}$ unit√©s vers la droite √† partir du point $A$, on ${a > 0 ? 'monte' : 'descend'} de $${abs(a)}$  ${a === 1 || a === -1 ? 'unit√©' : 'unit√©s'}. <br>\n             On obtient alors le point $B$. <br>\n             On trace la droite $(AB)$.`\n            } else {\n              texteCorr += `Il suffit donc de d√©terminer les coordonn√©es de deux points pour pouvoir repr√©senter $f$.<br>\n            Comme $f(${xA})=${yA}$, on a : $A(${xA};${yA}) \\\\in \\\\mathcal{C_f}$.<br>\n            On cherche un deuxi√®me point, et on prend un ant√©c√©dent qui facilite les calculs :<br>\n            Par exemple $x=${xB}$ :<br>\n            On calcule : $f(${xB})=${texFractionReduite(a, d)} \\\\times ${ecritureParentheseSiNegatif(xB)}${ecritureAlgebrique(b)}=${yB}$.<br>On en d√©duit que $B(${xB};${yB}) \\\\in \\\\mathcal{C_f}$.<br>`\n            }\n\n            tA = tracePoint(A1, 'red') // Variable qui trace les points avec une croix\n            lA = labelPoint(A1, 'red') // Variable qui trace les nom s A et B\n            tB = tracePoint(B1, 'red') // Variable qui trace les points avec une croix\n            lB = labelPoint(B1, 'red') // Variable qui trace les nom s A et B\n\n            monRepere = repere(cadre) // On d√©finit le rep√®re\n            texteCorr += mathalea2d(\n              // @ts-expect-error mathalea2d n'est pas typ√©\n              cadreFenetreSvg,\n              monRepere,\n              droiteAB,\n              tA,\n              lA,\n              tB,\n              lB,\n              textO,\n            )\n            // On trace le graphique\n          }\n          break\n      }\n\n      if (this.interactif) {\n        const figure = new Figure({\n          xMin: -5.5,\n          yMin: -5.5,\n          width: 330,\n          height: 330,\n        })\n        if (isFigureArray(this.figures)) this.figures.push(figure)\n        this.figuresApiGeom[i] = figure\n        figure.setToolbar({\n          tools: ['POINT', 'LINE', 'DRAG', 'REMOVE'],\n          position: 'top',\n        })\n        figure.create('Grid')\n        figure.options.color = 'blue'\n        figure.options.thickness = 2\n        figure.snapGrid = true\n        figure.dx = 0.5\n        figure.dy = 0.5\n        texte += figureApigeom({ exercice: this, i, figure })\n        if (figure.ui) figure.ui.send({ type: 'LINE' })\n      }\n\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais √©t√© pos√©e, on en cr√©√© une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined) return 'KO'\n    let result: 'OK' | 'KO' = 'KO'\n    if (this.figuresApiGeom[i] == null)\n      throw new Error(\"La figure n'a pas √©t√© cr√©√©e, n¬∞\" + i)\n    const figure = this.figuresApiGeom[i]\n    if (this.answers == null) this.answers = {}\n    // Sauvegarde de la r√©ponse pour Capytale\n    this.answers[figure.id] = figure.json\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const lines = [...figure.elements.values()].filter((e) =>\n      e.type.includes('Line'),\n    )\n    const [a, b] = this.coefficients[i]\n    const point1 = new Coords(0, b)\n    const point2 = new Coords(1, a + b)\n    const { isValid } = figure.checkLine({ point1, point2 })\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    )\n    if (divFeedback != null) {\n      if (isValid && lines.length === 1) {\n        divFeedback.innerHTML = 'üòé'\n        result = 'OK'\n      } else {\n        const p = document.createElement('p')\n        p.innerText = '‚òπÔ∏è'\n        if (lines.length === 0) {\n          p.innerHTML += \" Aucune droite n'a √©t√© trac√©e.\"\n        } else if (lines.length > 1) {\n          p.innerHTML += \" Il ne faut tracer qu'une seule droite.\"\n        }\n        divFeedback.insertBefore(p, divFeedback.firstChild)\n      }\n    }\n    return result\n  }\n}\n\nfunction texFractionReduite(a: number, b: number) {\n  const frac = fraction(a, b)\n  return frac.simplifie().toLatex()\n}\n"],"names":["titre","dateDeModifImportante","interactifReady","interactifType","uuid","refs","Representerfonctionaffine","Exercice","__publicField","i","result","figure","lines","e","a","b","point1","Coords","point2","isValid","divFeedback","p","context","typesDeQuestionsDisponibles","listeTypeDeQuestions","combinaisonListes","textO","texteParPosition","cpt","d","xA","yA","xB","yB","droiteAB","cadre","monRepere","tA","tB","lA","lB","cadreFenetreSvg","f","texte","texteCorr","x","randint","choice","A","point","B","droite","colorToLatexOrHTML","repere","tracePoint","labelPoint","reduireAxPlusB","abs","ecritureAlgebrique","ecritureParentheseSiNegatif","objets","mathalea2d","fixeBordures","pgcd","A1","B1","texFractionReduite","Figure","isFigureArray","figureApigeom","listeQuestionsToContenu","fraction"],"mappings":"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"}