{"version":3,"file":"2G12-7-Xo8bpbWJ.js","sources":["../../src/exercices/2e/2G12-7.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport type PointApigeom from 'apigeom/src/elements/points/Point'\nimport { point, pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { similitude } from '../../lib/2d/transformations'\nimport { wrapperApigeomToMathalea } from '../../lib/apigeom/apigeomZoom'\nimport figureApigeom, { isFigureArray } from '../../lib/figureApigeom'\nimport { Matrice } from '../../lib/mathFonctions/Matrice'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport type FractionEtendue from '../../modules/FractionEtendue'\nimport { fraction } from '../../modules/fractions'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const uuid = 'df171'\nexport const titre =\n  'Placer un point dans un rep√®re orthogonal, norm√© ou quelconque'\nexport const refs = {\n  'fr-fr': ['2G12-7'],\n  'fr-ch': [],\n}\n\n/**\n * @title Rep√©rage 2e bis\n * @author Jean-Claude Lhote\n * On se propose de placer des points aux coordonn√©es donn√©es dans un rep√®re orthogonal, norm√© ou quelconque.\n */\nexport default class BetaReperage2e extends Exercice {\n  figuresApiGeom: Figure[]\n  labelsPoints: string[][]\n  X: number[][]\n  Y: number[][]\n\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.figuresApiGeom = []\n    this.labelsPoints = []\n    this.X = []\n    this.Y = []\n    this.exoCustomResultat = true\n\n    this.besoinFormulaireTexte = [\n      'Type de rep√®re',\n      [\n        'Nombres s√©par√©s par des tirets  :',\n        '1 : Orthogonal',\n        '2 : Norm√©',\n        '3 : Quelconque',\n        '4 : M√©lange',\n      ].join('\\n'),\n    ]\n    this.sup = '1'\n    this.besoinFormulaire2CaseACocher = [\n      'Pr√©sence de coordonn√©es fractionnaires',\n      false,\n    ]\n    this.sup2 = false\n    this.besoinFormulaire3Numerique = ['Nombre de points √† trouver/placer', 3]\n    this.sup3 = 3\n    this.comment = `Exercice fait suite √† une demande sur la forge de Carole Feug√®re.<br> Il y a trois types de rep√®res, le premier est orthogonal mais pas norm√©, le deuxi√®me est norm√© mais pas orthonormal, le troisi√®me n'est ni norm√© ni orthogonal.<br>\n    Les points √† Placer sont choisis al√©atoirement √† coordonn√©es enti√®res. On peut choisir le nombre de points √† Placer de 1 √† 3.`\n  }\n\n  nouvelleVersion() {\n    this.figuresApiGeom = []\n    this.labelsPoints = []\n    this.X = []\n    this.Y = []\n    const listeTypeDeReperes = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n      defaut: 4,\n    })\n    const x: FractionEtendue[][] = []\n    const y: FractionEtendue[][] = []\n    const points: PointApigeom[][] = []\n\n    for (let i = 0; i < this.nbQuestions; ) {\n      const options = {}\n      x[i] = []\n      y[i] = []\n      this.X[i] = []\n      this.Y[i] = []\n      points[i] = []\n      let coordsI: [number, number]\n      let coordsK: [number, number]\n      let matrice: Matrice\n      let matriceInverse: Matrice | undefined\n      const listeNoms = choisitLettresDifferentes(3 + this.sup3)\n      const [labelI, labelK, labelO] = listeNoms.slice(0, 3)\n      this.labelsPoints[i] = listeNoms.slice(3)\n\n      do {\n        switch (listeTypeDeReperes[i]) {\n          case 1:\n            {\n              const ratio = choice([\n                [3, 2],\n                [2, 3],\n                [2.5, 2],\n                [2, 2.5],\n              ])\n              coordsI = [ratio[0], 0] // [choice([1.5, 2.5]), 0]\n              coordsK = [0, ratio[1]] // [0, choice([1, 2])]\n            }\n            break\n          case 2:\n            {\n              const o = pointAbstrait(0, 0)\n              const I = similitude(\n                point(randint(6, 8) * 0.2, 0),\n                o,\n                randint(-20, 20),\n                1.5,\n              )\n              coordsI = [I.x, I.y]\n              const K = similitude(point(...coordsI), o, randint(60, 80), 1)\n              coordsK = [K.x, K.y]\n            }\n            break\n          case 3:\n          default:\n            {\n              const o = pointAbstrait(0, 0)\n              coordsI = [2, randint(-4, 4, [0]) * 0.2]\n              const K = similitude(\n                point(...coordsI),\n                o,\n                randint(60, 80),\n                choice([1.25, 1.3, 1.4]),\n              )\n              coordsK = [K.x, K.y]\n            }\n            break\n        }\n\n        matrice = new Matrice([\n          [coordsI[0], coordsK[0]],\n          [coordsI[1], coordsK[1]],\n        ])\n        matriceInverse = matrice.inverse()\n      } while (matriceInverse == null)\n\n      // g√©n√©ration des points de l'exercice\n      let denX: number = 1\n      let denY: number = 1\n      if (this.sup2) {\n        denX = choice([1, 2, 3])\n        denY = choice([1, 2, 3], [denX])\n      }\n\n      for (let k = 0; k < this.sup3; k++) {\n        do {\n          x[i][k] = fraction(randint(-3 * denX, 3 * denX, [0]), denX)\n          y[i][k] = fraction(randint(-2 * denY, 2 * denY, [0]), denY)\n        } while (\n          x[i]\n            .slice(0, k)\n            .map((el) => el.num)\n            .includes(x[i][k].num) &&\n          y[i]\n            .slice(0, k)\n            .map((el) => el.num)\n            .includes(y[i][k].num)\n        )\n        const [mdx, mdy] = (\n          matrice.multiply([\n            x[i][k].valeurDecimale,\n            y[i][k].valeurDecimale,\n          ]) as Matrice\n        ).toArray() as [number, number]\n        this.X[i][k] = mdx\n        this.Y[i][k] = mdy\n      }\n      const yMin = -3 * coordsK[1]\n      const yMax = 3 * coordsK[1]\n      const xMin = -4 * coordsI[0]\n      const xMax = 4 * coordsI[0]\n\n      this.figuresApiGeom[i] = new Figure(\n        Object.assign(options, {\n          xMin,\n          yMin,\n          width: 30 * (xMax - xMin),\n          height: 30 * (yMax - yMin),\n          scale: 1,\n        }),\n      )\n      if (isFigureArray(this.figures)) this.figures.push(this.figuresApiGeom[i])\n      this.figuresApiGeom[i].options.latexHeight = 10\n      this.figuresApiGeom[i].options.labelDxInPixels = 10\n      this.figuresApiGeom[i].options.labelDyInPixels = 10\n      this.figuresApiGeom[i].setToolbar({\n        tools: ['NAME_POINT', 'POINT_INTERSECTION', 'UNDO', 'REDO', 'REMOVE'],\n        position: 'top',\n      })\n\n      const fig = this.figuresApiGeom[i]\n      fig.create('Point', {\n        x: 0,\n        y: 0,\n        label: labelO,\n        labelDxInPixels: -10,\n        labelDyInPixels: -10,\n        color: 'black',\n        shape: 'o',\n        sizeInPixels: 2,\n        isSelectable: false,\n      })\n      const pointI = fig.create('Point', {\n        x: coordsI[0],\n        y: coordsI[1],\n        label: labelI,\n        labelDxInPixels: 0,\n        labelDyInPixels: -10,\n        shape: 'o',\n        color: 'black',\n        sizeInPixels: 2,\n        isSelectable: false,\n      })\n      const pointK = fig.create('Point', {\n        x: coordsK[0],\n        y: coordsK[1],\n        label: labelK,\n        labelDxInPixels: -10,\n        labelDyInPixels: 0,\n        shape: 'o',\n        color: 'black',\n        sizeInPixels: 2,\n        isSelectable: false,\n      })\n      const IPrime = fig.create('Point', {\n        x: pointI.x * 4,\n        y: pointI.y * 4,\n        isVisible: false,\n        isSelectable: false,\n      })\n      const KPrime = fig.create('Point', {\n        x: pointK.x * 3,\n        y: pointK.y * 3,\n        isVisible: false,\n        isSelectable: false,\n      })\n      const INeg = fig.create('Point', {\n        x: -IPrime.x,\n        y: -IPrime.y,\n        isVisible: false,\n        isSelectable: false,\n      })\n      const KNeg = fig.create('Point', {\n        x: -KPrime.x,\n        y: -KPrime.y,\n        isVisible: false,\n        isSelectable: false,\n      })\n\n      fig.create('Segment', {\n        point1: INeg,\n        point2: IPrime,\n        shape: '->',\n        color: 'black',\n        thickness: 2,\n      })\n      fig.create('Segment', {\n        point1: KNeg,\n        point2: KPrime,\n        shape: '->',\n        color: 'black',\n        thickness: 2,\n      })\n\n      /*\n      Construire la grille\n      */\n\n      for (let xx = -4; xx < 4 + 1 / denX; xx += 1 / denX) {\n        const coordL = (matrice.multiply([xx, -3]) as Matrice).toArray() as [\n          number,\n          number,\n        ]\n        const coordH = (matrice.multiply([xx, 3]) as Matrice).toArray() as [\n          number,\n          number,\n        ]\n        const pointL = fig.create('Point', {\n          x: coordL[0],\n          y: coordL[1],\n          label: '',\n          isSelectable: false,\n          isVisible: false,\n        })\n        const pointH = fig.create('Point', {\n          x: coordH[0],\n          y: coordH[1],\n          label: '',\n          isSelectable: false,\n          isVisible: false,\n        })\n        if (Math.abs(xx) > 0.1)\n          fig.create('Segment', {\n            point1: pointL,\n            point2: pointH,\n            color: 'gray',\n            thickness: 0.5,\n            opacity: 0.5,\n          })\n        for (let yy = -3; yy < 3 + 1 / denY; yy += 1 / denY) {\n          if (xx === -4) {\n            const coordsL = (\n              matrice.multiply([-4, yy]) as Matrice\n            ).toArray() as [number, number]\n            const coordsR = (\n              matrice.multiply([4, yy]) as Matrice\n            ).toArray() as [number, number]\n            const pointL = fig.create('Point', {\n              x: coordsL[0],\n              y: coordsL[1],\n              label: '',\n              isSelectable: false,\n              isVisible: false,\n            })\n            const pointR = fig.create('Point', {\n              x: coordsR[0],\n              y: coordsR[1],\n              label: '',\n              isSelectable: false,\n              isVisible: false,\n            })\n            if (Math.abs(yy) > 0.1)\n              fig.create('Segment', {\n                point1: pointL,\n                point2: pointR,\n                color: 'gray',\n                thickness: 0.5,\n                opacity: 0.5,\n              })\n          }\n        }\n      }\n\n      const figureCorrection = new Figure(\n        Object.assign(options, {\n          xMin,\n          yMin,\n          width: 30 * (xMax - xMin),\n          height: 30 * (yMax - yMin),\n          scale: 1,\n        }),\n      )\n      if (isFigureArray(this.figures)) this.figures.push(figureCorrection)\n      figureCorrection.options.latexHeight = 10\n      figureCorrection.options.labelDxInPixels = 10\n      figureCorrection.options.labelDyInPixels = 10\n      figureCorrection.loadJson(JSON.parse(this.figuresApiGeom[i].json))\n      for (let k = 0; k < this.sup3; k++) {\n        figureCorrection.create('Point', {\n          x: this.X[i][k],\n          y: this.Y[i][k],\n          label: listeNoms[3 + k],\n          labelDxInPixels: x[i][k].valeurDecimale < 0 ? -10 : 10,\n          labelDyInPixels: y[i][k].valeurDecimale < 0 ? -10 : 10,\n        })\n      }\n      let question: string = ''\n      if (context.isHtml) {\n        if (this.interactif) {\n          question = `Placer les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$.<br>`\n          question += figureApigeom({\n            exercice: this,\n            figure: this.figuresApiGeom[i],\n            i,\n            isDynamic: true,\n            defaultAction: 'NAME_POINT',\n          })\n        } else {\n          question = `Placer les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$.<br>`\n          question += wrapperApigeomToMathalea(this.figuresApiGeom[i])\n        }\n      } else {\n        question = `Placer les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$.\\\\\\\\`\n        question += this.figuresApiGeom[i].tikz()\n      }\n      let reponse = `Les points $${this.labelsPoints[i].map((el, k) => `${el}(${x[i][k].texFractionSimplifiee};${y[i][k].texFractionSimplifiee})`).join('$, $')}$ dans le rep√®re $(${labelO},${labelI},${labelK})$ :<br>`\n\n      reponse += context.isHtml\n        ? figureApigeom({\n            exercice: this,\n            figure: figureCorrection,\n            i,\n            idAddendum: 'correction',\n            isDynamic: false,\n          })\n        : figureCorrection.tikz()\n      if (\n        this.questionJamaisPosee(i, ...x[i], ...y[i], ...coordsI, ...coordsK)\n      ) {\n        this.listeQuestions[i] = question\n        this.listeCorrections[i] = reponse\n        i++\n      }\n    }\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined) return ['KO']\n    const result: ('OK' | 'KO')[] = []\n    const figure = this.figuresApiGeom[i]\n    // Sauvegarde de la r√©ponse pour Capytale\n    if (this.answers === undefined) this.answers = {}\n    this.answers[figure.id] = figure.json\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const divFeedback = document.querySelector(\n      `#feedback${`Ex${this.numeroExercice}Q${i}`}`,\n    )\n    let allPointsAreGood = true\n    for (let j = 0; j < this.labelsPoints[i].length; j++) {\n      const label = this.labelsPoints[i][j]\n      const { isValid, points } = figure.checkCoords({\n        checkOnlyAbscissa: false,\n        label,\n        x: this.X[i][j],\n        y: this.Y[i][j],\n      })\n      const point = points[0]\n      if (isValid) {\n        result.push('OK')\n        point.color = 'green'\n        point.colorLabel = 'green'\n        point.thickness = 3\n      } else {\n        allPointsAreGood = false\n        result.push('KO')\n        if (point !== undefined) {\n          point.color = 'red'\n          point.colorLabel = 'red'\n          point.thickness = 3\n        }\n      }\n    }\n    if (divFeedback != null) {\n      if (allPointsAreGood) {\n        divFeedback.innerHTML = 'üòé'\n      } else {\n        divFeedback.innerHTML = '‚òπÔ∏è'\n      }\n    }\n    return result\n  }\n}\n"],"names":["interactifReady","interactifType","uuid","titre","refs","BetaReperage2e","Exercice","__publicField","i","result","figure","divFeedback","allPointsAreGood","j","label","isValid","points","point","listeTypeDeReperes","gestionnaireFormulaireTexte","x","y","options","coordsI","coordsK","matrice","matriceInverse","listeNoms","choisitLettresDifferentes","labelI","labelK","labelO","ratio","choice","o","pointAbstrait","I","similitude","randint","K","Matrice","denX","denY","k","fraction","el","mdx","mdy","yMin","yMax","xMin","xMax","Figure","isFigureArray","fig","pointI","pointK","IPrime","KPrime","INeg","KNeg","xx","coordL","coordH","pointL","pointH","yy","coordsL","coordsR","pointR","figureCorrection","question","context","figureApigeom","wrapperApigeomToMathalea","reponse"],"mappings":"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"}