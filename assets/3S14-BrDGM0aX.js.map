{"version":3,"file":"3S14-BrDGM0aX.js","sources":["../../src/exercices/3e/3S14.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/interactivity/mathLive.intervalleStrict.test.ts ⚠️\n */\n\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  listeDeNotes,\n  tirerLesDes,\n  unMoisDeTemperature,\n} from '../../lib/outils/aleatoires'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieDecimale,\n  nombreDeChiffresDe,\n} from '../../lib/outils/nombres'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { OutilsStats } from '../../modules/outilsStat'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Calculer des caractéristiques d'une série\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDeModifImportante = '19/08/2023'\n\n/**\n * Calculer des caractéristiques d'une série (moyenne, médiane ou étendue)\n *\n * @author Mickael Guironnet\n */\nexport const uuid = 'b8afd'\n\nexport const refs = {\n  'fr-fr': ['3S14'],\n  'fr-ch': ['11NO2-11'],\n}\n\nexport default class CalculerCaracteristiques extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de séries',\n      'Nombres séparés par des tirets :\\n1 : Lancers de dés\\n2 : Notes\\n3 : Températures\\n4 : Salaires\\n5 : Pointures\\n6 : Notes avec coefficients\\n7 : Mélange',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Choix des questions',\n      'Nombres séparés par des tirets :\\n1 : Moyenne\\n2 : Médiane\\n3 : Étendue\\n4 : Toutes',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Avec du vocabulaire explicatif']\n\n    this.nbQuestions = 4\n\n    this.sup = 7\n    this.sup2 = 4\n    this.sup3 = true\n  }\n\n  nouvelleVersion() {\n    const questionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 6,\n      melange: 7,\n      defaut: 7,\n      nbQuestions: this.nbQuestions,\n    }).map(Number)\n    const typeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: 3,\n      enleveDoublons: true,\n    }).map(Number)\n    const listePairOuImpair = combinaisonListes(\n      ['pair', 'impair'],\n      this.nbQuestions,\n    )\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; cpt++) {\n      const nbReponse = typeQuestions.length\n      let texte = ''\n      let texteCorr = ''\n      let initAMC = ''\n      const texteAMC = []\n      const reponsesAMC = []\n      const approxAMC = []\n      let repMoyenne, repMediane, repEtendue\n      switch (questionsDisponibles[i]) {\n        case 1: {\n          // un dé ou des dés\n          // on alterne 1 dé puis 2 dés\n          const nombreDes =\n            questionsDisponibles.reduce(\n              (accumulator, currentValue, currentIndex) => {\n                if (currentValue === 1 && currentIndex <= i) {\n                  return accumulator + 1\n                } else {\n                  return accumulator\n                }\n              },\n              0,\n            ) %\n              2 ===\n            1\n              ? 1\n              : 2\n          const nombreFaces = choice([4, 6, 8, 10]) as 4 | 6 | 8 | 10\n          let nombreTirages\n          if (listePairOuImpair[i] === 'pair') {\n            nombreTirages = choice([50, 100, 200, 500, 1000, 2000])\n          } else {\n            nombreTirages = choice([49, 99, 199, 299, 999, 1999])\n          }\n          const tirages = tirerLesDes(nombreTirages, nombreFaces, nombreDes) // on récupère une série rangée dans l'ordre croissant avec les effectifs correspondants\n          initAMC =\n            OutilsStats.texteTirages2D(\n              nombreDes,\n              nombreTirages,\n              nombreFaces,\n              tirages,\n              this.sup3,\n            ) + '<br>' // on récupère une série rangée dans l'ordre croissant avec les effectifs correspondants\n          texte += initAMC + '<br>'\n          let questind = 0\n          for (let k = 0; k < typeQuestions.length; k++) {\n            approxAMC[questind] = 0\n            if (typeQuestions[k] === 1) {\n              // moyenne\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la moyenne des lancers arrondie au dixième.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n              const [, somme] = OutilsStats.computeMoyenneTirages2D(tirages)\n              repMoyenne = arrondi(somme / nombreTirages, 1)\n              setReponse(this, i * nbReponse + questind, repMoyenne, {\n                formatInteractif: 'calcul',\n              })\n              reponsesAMC[questind] = repMoyenne\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMoyenneNotes(\n                  tirages,\n                  somme,\n                  nombreTirages,\n                  'lancers',\n                )\n            } else if (typeQuestions[k] === 2) {\n              // médiane\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la médiane des lancers.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n              const [scoresMedians, medianeCorr] =\n                OutilsStats.computeMedianeTirages2D(nombreTirages, tirages)\n              if (scoresMedians.length === 1) {\n                repMediane = medianeCorr\n                setReponse(this, i * nbReponse + questind, repMediane, {\n                  formatInteractif: 'calcul',\n                })\n                reponsesAMC[questind] = repMediane\n              } else {\n                if (scoresMedians[0] === scoresMedians[1]) {\n                  repMediane = scoresMedians[0]\n                  setReponse(this, i * nbReponse + questind, repMediane, {\n                    formatInteractif: 'calcul',\n                  })\n                  reponsesAMC[questind] = repMediane\n                } else {\n                  repMediane = [...scoresMedians]\n                  setReponse(\n                    this,\n                    i * nbReponse + questind,\n                    [repMediane[0], repMediane[1]],\n                    { formatInteractif: 'intervalleStrict' },\n                  )\n                  reponsesAMC[questind] = arrondi(\n                    (repMediane[0] + repMediane[1]) / 2,\n                    1,\n                  )\n                  approxAMC[questind] =\n                    arrondi((10 * (repMediane[1] - repMediane[0])) / 2, 0) - 0.1\n                }\n              }\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMedianeTirages2D(\n                  nombreTirages,\n                  medianeCorr,\n                  scoresMedians,\n                  tirages,\n                )\n            } else {\n              // étendue\n              texteAMC[questind] =\n                numAlpha(questind) +\n                \"Calculer l'étendue des lancers.\" +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n              const [min, max] = [tirages[0][0], tirages[tirages.length - 1][0]]\n              repEtendue = max - min\n              reponsesAMC[questind] = repEtendue\n              setReponse(this, i * nbReponse + questind, repEtendue, {\n                formatInteractif: 'calcul',\n              })\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrEtendueNotes(min, max, 'lancer')\n            }\n          }\n          break\n        }\n        case 2: {\n          // des notes\n          let nombreNotes\n          if (listePairOuImpair[i] === 'pair') {\n            nombreNotes = choice([8, 10, 12])\n          } else {\n            nombreNotes = choice([7, 9, 11])\n          }\n          const notes = listeDeNotes(\n            nombreNotes,\n            randint(0, 7),\n            randint(13, 20),\n          ) // on récupère une liste de notes (série brute)\n          initAMC = OutilsStats.texteNotes(notes) + '<br>'\n          texte += initAMC + '<br>'\n          let questind = 0\n          for (let k = 0; k < typeQuestions.length; k++) {\n            approxAMC[questind] = 0\n            if (typeQuestions[k] === 1) {\n              // moyenne\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la moyenne de ces notes arrondie au dixième.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, somme] = OutilsStats.computeMoyenne(notes)\n              repMoyenne = arrondi(somme / nombreNotes, 1)\n              setReponse(this, i * nbReponse + questind, repMoyenne, {\n                formatInteractif: 'calcul',\n              })\n              reponsesAMC[questind] = repMoyenne\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMoyenneNotes(notes, somme, nombreNotes)\n            } else if (typeQuestions[k] === 2) {\n              // médiane\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la médiane de ces notes.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [mediane, medianeCorr] = OutilsStats.computeMediane(notes)\n              if (!Array.isArray(mediane)) {\n                repMediane = mediane\n                setReponse(this, i * nbReponse + questind, repMediane, {\n                  formatInteractif: 'calcul',\n                })\n                reponsesAMC[questind] = repMediane\n              } else {\n                if (mediane[0] === mediane[1]) {\n                  repMediane = mediane[0]\n                  setReponse(this, i * nbReponse + questind, repMediane, {\n                    formatInteractif: 'calcul',\n                  })\n                  reponsesAMC[questind] = repMediane\n                } else {\n                  repMediane = [...mediane]\n                  setReponse(\n                    this,\n                    i * nbReponse + questind,\n                    [repMediane[0], repMediane[1]],\n                    { formatInteractif: 'intervalleStrict' },\n                  )\n                  reponsesAMC[questind] = arrondi(\n                    (repMediane[0] + repMediane[1]) / 2,\n                    1,\n                  )\n                  approxAMC[questind] =\n                    arrondi((10 * (repMediane[1] - repMediane[0])) / 2, 0) - 0.1\n                }\n              }\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMedianeNotes(notes, medianeCorr, mediane)\n            } else {\n              // étendue\n              texteAMC[questind] =\n                numAlpha(questind) +\n                \"Calculer l'étendue de ces notes.\" +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [min, max] = OutilsStats.computeEtendue(notes)\n              repEtendue = max - min\n              reponsesAMC[questind] = repEtendue\n              setReponse(this, i * nbReponse + questind, repEtendue, {\n                formatInteractif: 'calcul',\n              })\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrEtendueNotes(min, max)\n            }\n          }\n          break\n        }\n        case 3: {\n          // des températures\n          const annee = randint(1980, 2019)\n          let listeMois\n          if (listePairOuImpair[i] === 'pair') {\n            listeMois = [4, 6, 9, 11]\n          } else {\n            listeMois = [1, 3, 5, 7, 8, 10, 12]\n          }\n          if (\n            ((annee % 4 === 0 && annee % 100 !== 0) || annee % 400 === 0) &&\n            listePairOuImpair[i] === 'impair'\n          ) {\n            // Si l'année est bissextile et qu'on veut une liste impair\n            listeMois.push(2)\n          } else if (\n            !((annee % 4 === 0 && annee % 100 !== 0) || annee % 400 === 0) &&\n            listePairOuImpair[i] === 'pair'\n          ) {\n            // Si l'année n'est pas bissextile et qu'on veut une liste paire\n            listeMois.push(2)\n          }\n          const mois = listeMois[randint(0, listeMois.length - 1)]\n          const temperaturesDeBase = [\n            3, 5, 9, 13, 19, 24, 26, 25, 23, 18, 10, 5,\n          ]\n          const temperatures = unMoisDeTemperature(\n            temperaturesDeBase[mois - 1],\n            mois,\n            annee,\n          ) // on récupère une série de température correspondant à 1 mois d'une année (série brute)\n          initAMC = OutilsStats.texteTemperatures(annee, mois, temperatures)\n          texte += initAMC + '<br>'\n          let questind = 0\n          for (let k = 0; k < typeQuestions.length; k++) {\n            if (typeQuestions[k] === 1) {\n              // moyenne\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la moyenne des températures arrondie au dixième.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, somme] = OutilsStats.computeMoyenne(temperatures)\n              repMoyenne = arrondi(somme / temperatures.length, 1)\n              setReponse(this, i * nbReponse + questind, repMoyenne, {\n                formatInteractif: 'calcul',\n              })\n              reponsesAMC[questind] = repMoyenne\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMoyenneNotes(\n                  temperatures,\n                  somme,\n                  temperatures.length,\n                  'températures',\n                )\n            } else if (typeQuestions[k] === 2) {\n              // médiane\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la médiane des températures.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [mediane, medianeCorr] =\n                OutilsStats.computeMediane(temperatures)\n              if (!Array.isArray(mediane)) {\n                repMediane = mediane\n                setReponse(this, i * nbReponse + questind, repMediane, {\n                  formatInteractif: 'calcul',\n                })\n                reponsesAMC[questind] = repMediane\n              } else {\n                if (mediane[0] === mediane[1]) {\n                  repMediane = mediane[0]\n                  setReponse(this, i * nbReponse + questind, repMediane, {\n                    formatInteractif: 'calcul',\n                  })\n                  reponsesAMC[questind] = repMediane\n                } else {\n                  repMediane = [...mediane]\n                  setReponse(\n                    this,\n                    i * nbReponse + questind,\n                    [repMediane[0], repMediane[1]],\n                    { formatInteractif: 'intervalleStrict' },\n                  )\n                  reponsesAMC[questind] = arrondi(\n                    (repMediane[0] + repMediane[1]) / 2,\n                    1,\n                  )\n                  approxAMC[questind] =\n                    arrondi((10 * (repMediane[1] - repMediane[0])) / 2, 0) - 0.1\n                }\n              }\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMedianeTemperatures(\n                  temperatures,\n                  medianeCorr,\n                  mediane,\n                )\n            } else {\n              // étendue\n              texteAMC[questind] =\n                numAlpha(questind) +\n                \"Calculer l'étendue des températures.\" +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [min, max] = OutilsStats.computeEtendue(temperatures)\n              repEtendue = max - min\n              reponsesAMC[questind] = repEtendue\n              setReponse(this, i * nbReponse + questind, repEtendue, {\n                formatInteractif: 'calcul',\n              })\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrEtendueNotes(min, max, 'température')\n            }\n          }\n          break\n        }\n        case 4: {\n          // les salaires\n          /* let salaires = [\n                      [1250 + randint(2, 8) * 10, randint(30, 50)], // 'Ouvrier'\n                      [1450 + randint(2, 8) * 10, randint(21, 29)], // 'Ouvrier qualifié'\n                      [1700 + randint(2, 8) * 10, randint(15, 20)], // 'Cadre'\n                      [3500 + randint(2, 8) * 10, randint(5, 10)], // 'Cadre supérieur'\n                      [8000 + randint(2, 8) * 100, 1]] // 'Dirigeant' */\n          const total = randint(80, 99)\n          let effectifHasard = []\n          switch (randint(1, 3)) {\n            case 1:\n              effectifHasard = [\n                arrondi(total / 2, 0) + randint(2, 5),\n                arrondi(total / 5, 0) + randint(2, 5),\n                arrondi(total / 6, 0) - randint(2, 5),\n              ]\n              break\n            case 2:\n              effectifHasard = [\n                arrondi(total / 3, 0) + randint(2, 5),\n                arrondi(total / 4, 0) + randint(2, 5),\n                arrondi(total / 6, 0) - randint(2, 5),\n              ]\n              break\n            case 3:\n              effectifHasard = [\n                arrondi(total / 4, 0),\n                arrondi(total / 5, 0),\n                arrondi(total / 5, 0) - randint(2, 5),\n              ]\n              break\n          }\n          effectifHasard = [\n            arrondi(total / 4, 0),\n            arrondi(total / 5, 0),\n            arrondi(total / 5, 0) - randint(2, 5),\n          ]\n\n          const salaires = [\n            [1250 + randint(2, 8) * 10, effectifHasard[0]], // 'Ouvrier'\n            [1450 + randint(2, 8) * 10, effectifHasard[1]], // 'Ouvrier qualifié'\n            [1700 + randint(2, 8) * 10, effectifHasard[2]], // 'Cadre'\n            [\n              3500 + randint(2, 8) * 10,\n              total -\n                1 -\n                effectifHasard[0] -\n                effectifHasard[1] -\n                effectifHasard[2],\n            ], // 'Cadre supérieur'\n            [8000 + randint(2, 8) * 100, 1],\n          ] // 'Dirigeant'\n          const effectifTotal = salaires.reduce((accumulator, currentValue) => {\n            return accumulator + currentValue[1]\n          }, 0)\n          if (listePairOuImpair[i] === 'pair' && effectifTotal % 2 === 1) {\n            salaires[0][1]++\n          }\n          if (listePairOuImpair[i] === 'impair' && effectifTotal % 2 === 0) {\n            salaires[0][1]++\n          }\n          initAMC = OutilsStats.texteSalaires(salaires, [\n            '\\\\hspace{0.3cm}Ouvrier\\\\hspace{0.3cm}',\n            'Ouvrier qualifié',\n            '\\\\hspace{0.5cm}Cadre\\\\hspace{0.5cm}',\n            'Cadre supérieur',\n            'Dirigeant',\n          ])\n          texte += initAMC + '<br>'\n          let questind = 0\n          for (let k = 0; k < typeQuestions.length; k++) {\n            if (typeQuestions[k] === 1) {\n              // moyenne\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer le salaire moyen arrondi au dixième.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, somme, effectif] =\n                OutilsStats.computeMoyenneTirages2D(salaires)\n              repMoyenne = arrondi(somme / effectif, 1)\n              setReponse(this, i * nbReponse + questind, repMoyenne, {\n                formatInteractif: 'calcul',\n              })\n              reponsesAMC[questind] = repMoyenne\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMoyenneNotes(\n                  salaires,\n                  somme,\n                  effectif,\n                  'salaires',\n                )\n            } else if (typeQuestions[k] === 2) {\n              // médiane\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer le salaire médian.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, , effectif] =\n                OutilsStats.computeMoyenneTirages2D(salaires)\n              const [scoresMedians, medianeCorr] =\n                OutilsStats.computeMedianeTirages2D(effectif, salaires)\n              if (scoresMedians.length === 1) {\n                repMediane = medianeCorr\n                setReponse(this, i * nbReponse + questind, repMediane, {\n                  formatInteractif: 'calcul',\n                })\n                reponsesAMC[questind] = repMediane\n              } else {\n                if (scoresMedians[0] === scoresMedians[1]) {\n                  repMediane = scoresMedians[0]\n                  setReponse(this, i * nbReponse + questind, repMediane, {\n                    formatInteractif: 'calcul',\n                  })\n                  reponsesAMC[questind] = repMediane\n                } else {\n                  repMediane = [...scoresMedians]\n                  setReponse(\n                    this,\n                    i * nbReponse + questind,\n                    [repMediane[0], repMediane[1]],\n                    { formatInteractif: 'intervalleStrict' },\n                  )\n                  reponsesAMC[questind] = arrondi(\n                    (repMediane[0] + repMediane[1]) / 2,\n                    1,\n                  )\n                  approxAMC[questind] =\n                    arrondi((10 * (repMediane[1] - repMediane[0])) / 2, 0) - 0.1\n                }\n              }\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMedianeTirages2DSalaires(\n                  effectif,\n                  medianeCorr,\n                  scoresMedians,\n                  salaires,\n                  [\n                    '\\\\hspace{0.3cm}Ouvrier\\\\hspace{0.3cm}',\n                    'Ouvrier qualifié',\n                    '\\\\hspace{0.5cm}Cadre\\\\hspace{0.5cm}',\n                    'Cadre supérieur',\n                    'Dirigeant',\n                  ],\n                )\n            } else {\n              // étendue\n              texteAMC[questind] =\n                numAlpha(questind) +\n                \"Calculer l'étendue des salaires.\" +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [min, max] = [\n                salaires[0][0],\n                salaires[salaires.length - 1][0],\n              ]\n              repEtendue = max - min\n              reponsesAMC[questind] = repEtendue\n              setReponse(this, i * nbReponse + questind, repEtendue, {\n                formatInteractif: 'calcul',\n              })\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrEtendueNotes(min, max, 'salaire')\n            }\n          }\n          break\n        }\n        case 5: {\n          // les pointures de chaussures\n          const nombreNotes = randint(5, 8) // colonnes\n          const min = randint(33, 35)\n          const max = randint(min + nombreNotes, min + nombreNotes + 3)\n          const notes = listeDeNotes(nombreNotes, min, max, true).sort() // on récupère une série de notes (pointures) distinctes et ordonnées\n          const effectifs = listeDeNotes(\n            nombreNotes,\n            randint(2, 4),\n            randint(8, 12),\n          ) // on récupère une liste d'effectifs\n          const pointures = Array.from(notes, (x, i) => [x, effectifs[i]])\n          const effectifTotal = pointures.reduce(\n            (accumulator, currentValue) => {\n              return accumulator + currentValue[1]\n            },\n            0,\n          )\n          if (listePairOuImpair[i] === 'pair' && effectifTotal % 2 === 1) {\n            pointures[0][1]++\n          }\n          if (listePairOuImpair[i] === 'impair' && effectifTotal % 2 === 0) {\n            pointures[0][1]++\n          }\n          initAMC = OutilsStats.texteSalaires(pointures, [], 'pointures')\n          texte += initAMC + '<br>'\n          let questind = 0\n          for (let k = 0; k < typeQuestions.length; k++) {\n            if (typeQuestions[k] === 1) {\n              // moyenne\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la moyenne de ces pointures arrondie au dixième.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, somme, effectif] =\n                OutilsStats.computeMoyenneTirages2D(pointures)\n              repMoyenne = arrondi(somme / effectif, 1)\n              setReponse(this, i * nbReponse + questind, repMoyenne, {\n                formatInteractif: 'calcul',\n              })\n              reponsesAMC[questind] = repMoyenne\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMoyenneNotes(\n                  pointures,\n                  somme,\n                  effectif,\n                  'pointures',\n                )\n            } else if (typeQuestions[k] === 2) {\n              // médiane\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la médiane de ces pointures.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, , effectif] =\n                OutilsStats.computeMoyenneTirages2D(pointures)\n              const [scoresMedians, medianeCorr] =\n                OutilsStats.computeMedianeTirages2D(effectif, pointures)\n              if (scoresMedians.length === 1) {\n                repMediane = medianeCorr\n                setReponse(this, i * nbReponse + questind, repMediane, {\n                  formatInteractif: 'calcul',\n                })\n                reponsesAMC[questind] = repMediane\n              } else {\n                if (scoresMedians[0] === scoresMedians[1]) {\n                  repMediane = scoresMedians[0]\n                  setReponse(this, i * nbReponse + questind, repMediane, {\n                    formatInteractif: 'calcul',\n                  })\n                  reponsesAMC[questind] = repMediane\n                } else {\n                  repMediane = [...scoresMedians]\n                  setReponse(\n                    this,\n                    i * nbReponse + questind,\n                    [repMediane[0], repMediane[1]],\n                    { formatInteractif: 'intervalleStrict' },\n                  )\n                  reponsesAMC[questind] = arrondi(\n                    (repMediane[0] + repMediane[1]) / 2,\n                    1,\n                  )\n                  approxAMC[questind] =\n                    arrondi((10 * (repMediane[1] - repMediane[0])) / 2, 0) - 0.1\n                }\n              }\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMedianeTirages2DSalaires(\n                  effectif,\n                  medianeCorr,\n                  scoresMedians,\n                  pointures,\n                  [],\n                  'pointure',\n                )\n            } else {\n              // étendue\n              texteAMC[questind] =\n                numAlpha(questind) +\n                \"Calculer l'étendue de ces pointures.\" +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [min, max] = [\n                pointures[0][0],\n                pointures[pointures.length - 1][0],\n              ]\n              repEtendue = max - min\n              reponsesAMC[questind] = repEtendue\n              setReponse(this, i * nbReponse + questind, repEtendue, {\n                formatInteractif: 'calcul',\n              })\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrEtendueNotes(min, max, 'pointure')\n            }\n          }\n          break\n        }\n        case 6:\n        default: {\n          // les notes avec effectifs\n          const notes = [\n            [5 + randint(0, 2), randint(1, 3)],\n            [8 + randint(0, 2), randint(1, 3)],\n            [11 + randint(0, 2), randint(1, 4)],\n            [14 + randint(0, 2), randint(1, 3)],\n            [18 + randint(0, 2), randint(1, 3)],\n          ] //\n          const effectifTotal = notes.reduce((accumulator, currentValue) => {\n            return accumulator + currentValue[1]\n          }, 0)\n          if (listePairOuImpair[i] === 'pair' && effectifTotal % 2 === 1) {\n            notes[0][1]++\n          }\n          if (listePairOuImpair[i] === 'impair' && effectifTotal % 2 === 0) {\n            notes[0][1]++\n          }\n          initAMC = OutilsStats.texteSalaires(notes, [], 'notes')\n          texte += initAMC + '<br>'\n          let questind = 0\n          for (let k = 0; k < typeQuestions.length; k++) {\n            if (typeQuestions[k] === 1) {\n              // moyenne\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la moyenne de ces notes arrondie au dixième.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, somme, effectif] =\n                OutilsStats.computeMoyenneTirages2D(notes)\n              repMoyenne = arrondi(somme / effectif, 1)\n              setReponse(this, i * nbReponse + questind, repMoyenne, {\n                formatInteractif: 'calcul',\n              })\n              reponsesAMC[questind] = repMoyenne\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMoyenneNotes(\n                  notes,\n                  somme,\n                  effectif,\n                  'notes',\n                )\n            } else if (typeQuestions[k] === 2) {\n              // médiane\n              texteAMC[questind] =\n                numAlpha(questind) +\n                'Calculer la médiane de ces notes.' +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [, , effectif] = OutilsStats.computeMoyenneTirages2D(notes)\n              const [scoresMedians, medianeCorr] =\n                OutilsStats.computeMedianeTirages2D(effectif, notes)\n              if (scoresMedians.length === 1) {\n                repMediane = medianeCorr\n                setReponse(this, i * nbReponse + questind, repMediane, {\n                  formatInteractif: 'calcul',\n                })\n                reponsesAMC[questind] = repMediane\n              } else {\n                if (scoresMedians[0] === scoresMedians[1]) {\n                  repMediane = scoresMedians[0]\n                  setReponse(this, i * nbReponse + questind, repMediane, {\n                    formatInteractif: 'calcul',\n                  })\n                  reponsesAMC[questind] = repMediane\n                } else {\n                  repMediane = [...scoresMedians]\n                  setReponse(\n                    this,\n                    i * nbReponse + questind,\n                    [repMediane[0], repMediane[1]],\n                    { formatInteractif: 'intervalleStrict' },\n                  )\n                  reponsesAMC[questind] = arrondi(\n                    (repMediane[0] + repMediane[1]) / 2,\n                    1,\n                  )\n                  approxAMC[questind] =\n                    arrondi((10 * (repMediane[1] - repMediane[0])) / 2, 0) - 0.1\n                }\n              }\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrMedianeTirages2DSalaires(\n                  effectif,\n                  medianeCorr,\n                  scoresMedians,\n                  notes,\n                  [],\n                  'note',\n                )\n            } else {\n              // étendue\n              texteAMC[questind] =\n                numAlpha(questind) +\n                \"Calculer l'étendue de ces notes.\" +\n                ajouteChampTexteMathLive(this, i * nbReponse + questind, '') +\n                '<br>'\n              texte += texteAMC[questind]\n\n              const [min, max] = [notes[0][0], notes[notes.length - 1][0]]\n              repEtendue = max - min\n              reponsesAMC[questind] = repEtendue\n              setReponse(this, i * nbReponse + questind, repEtendue, {\n                formatInteractif: 'calcul',\n              })\n              texteCorr +=\n                numAlpha(questind++) +\n                OutilsStats.texteCorrEtendueNotes(min, max, 'note')\n            }\n          }\n          break\n        }\n      }\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: initAMC,\n          options: {\n            multicols: true,\n            barreseparation: true,\n            numerotationEnonce: true,\n          },\n          propositions: [],\n        }\n        for (let ee = 0; ee < typeQuestions.length; ee++) {\n          this.autoCorrection[i].propositions!.push({\n            type: 'AMCNum',\n            propositions: [\n              {\n                texte: '',\n                statut: '',\n                reponse: {\n                  texte: texteAMC[ee],\n                  valeur: reponsesAMC[ee],\n                  param: {\n                    digits: nombreDeChiffresDe(reponsesAMC[ee]),\n                    decimals: nombreDeChiffresDansLaPartieDecimale(\n                      reponsesAMC[ee],\n                    ),\n                    signe: false,\n                    approx: approxAMC[ee],\n                  },\n                },\n              },\n            ],\n          })\n        }\n      }\n\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","CalculerCaracteristiques","Exercice","questionsDisponibles","gestionnaireFormulaireTexte","typeQuestions","listePairOuImpair","combinaisonListes","i","cpt","nbReponse","texte","texteCorr","initAMC","texteAMC","reponsesAMC","approxAMC","repMoyenne","repMediane","repEtendue","nombreDes","accumulator","currentValue","currentIndex","nombreFaces","choice","nombreTirages","tirages","tirerLesDes","OutilsStats","questind","k","numAlpha","ajouteChampTexteMathLive","somme","arrondi","setReponse","scoresMedians","medianeCorr","min","max","nombreNotes","notes","listeDeNotes","randint","mediane","annee","listeMois","mois","temperatures","unMoisDeTemperature","total","effectifHasard","salaires","effectifTotal","effectif","effectifs","pointures","x","context","ee","nombreDeChiffresDe","nombreDeChiffresDansLaPartieDecimale","listeQuestionsToContenu"],"mappings":"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"}