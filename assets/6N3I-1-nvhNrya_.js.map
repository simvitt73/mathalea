{"version":3,"file":"6N3I-1-nvhNrya_.js","sources":["../../src/exercices/6e/6N3I-1.ts"],"sourcesContent":["import { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { rangeMinMax } from '../../lib/outils/nombres'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport Figure from 'apigeom/src/Figure'\nimport handleApigeomFigureElement from '../../lib/apigeom/apigeom-figure'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { consecutiveCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { ajouterAide } from '../../lib/outils/enrichissements'\nimport { fraction } from '../../modules/fractions'\nimport { representationFraction } from '../../modules/representationsFractions'\n\nexport const titre =\n  'Encadrer une fraction entre deux nombres entiers consécutifs'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDeModifImportante = '21/07/2025'\n\n/**\n * Une fraction avec pour dénominateur 2, 3, 4, 5, 10 à encadrer entre 2 entiers\n * @author Rémi Angot (AMC par Eric Elter)\n * Rajout d'une correction (propre au programme 2025 de 6ème) par Eric Elter\n * Relecture : Novembre 2021 par EE\n */\nexport const uuid = '1f5de'\n\nexport const refs = {\n  'fr-fr': ['6N3I-1'],\n  'fr-2016': ['6N20-1'],\n  'fr-ch': ['9NO11-1'],\n}\nexport default class EncadrerFractionEntre2Entiers extends Exercice {\n  lycee: boolean\n  listeDeDenominateurs?: number[]\n  constructor() {\n    super()\n    this.consigne = `Compléter avec deux nombres entiers ${ajouterAide('Nombres entiers consécutifs : Ce sont deux nombres entiers qui se suivent comme 4 et 5.', { texteAvant: 'consécutifs' })}.`\n    this.introduction =\n      'Exemple : $2 < \\\\dfrac{9}{4} < 3$ car  $2=\\\\dfrac{8}{4}$ et $3=\\\\dfrac{12}{4}$'\n    this.nbQuestions = 6\n    this.nbCols = 2\n    this.lycee = false\n    this.correctionDetaillee = false\n    this.sup2 = '11'\n    this.sup3 = true\n    this.sup4 = true\n    this.besoinFormulaire2Texte = this.lycee\n      ? [\n          'Dénominateurs à choisir',\n          'Nombres séparés par des tirets :\\nDe 2 à 9\\n10: Mélange',\n        ]\n      : [\n          'Dénominateurs à choisir',\n          'Nombres séparés par des tirets :\\n2: Demis\\n3: Tiers\\n4: Quarts\\n5: Cinquièmes\\n10: Dixièmes\\n11: Mélange',\n        ]\n    this.besoinFormulaire3CaseACocher = ['Brouillon interactif']\n    this.besoinFormulaire4CaseACocher = ['Correction avec nombre mixte']\n    this.spacingCorr = 2.5\n  }\n\n  nouvelleVersion() {\n    this.correctionDetailleeDisponible = !this.lycee\n    const listeDenominateurs = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 2,\n      max: this.lycee ? 9 : 10,\n      defaut: this.lycee ? 10 : 11,\n      melange: this.lycee ? 10 : 11,\n      nbQuestions: this.nbQuestions,\n      exclus: this.lycee ? [] : [6, 7, 8, 9],\n    }).map(Number)\n    if (this.sup3 && context.isHtml) {\n      const figure = new Figure({\n        xMin: -0.5,\n        yMin: -2,\n        width: 800,\n        height: 120,\n      })\n      figure.options.automaticUserMessage = false\n      figure.options.color = 'blue'\n      figure.create('RectangleFractionDiagram', {\n        denominator: 2,\n        numberOfRectangles: 5,\n      })\n      handleApigeomFigureElement()\n      this.introduction = `<apigeom-figure interactive default-action='FILL' x-min=${figure.xMin} y-min=${figure.yMin} width=${figure.width} height=${figure.height} numero-exercice=${this.numeroExercice} index=0 auto-index><script type=\"application/json\">${figure.json}</script></apigeom-figure>`\n    } else {\n      this.introduction = ''\n    }\n    this.listeDeDenominateurs = listeDenominateurs\n    const denominateursDifferents = new Set(this.listeDeDenominateurs)\n    const nbDenominateursDifferents = denominateursDifferents.size\n    const aleaMax = Math.ceil(this.nbQuestions / nbDenominateursDifferents) + 1\n\n    for (\n      let i = 0, texte, texteCorr, n, d, k, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      d = this.listeDeDenominateurs[i]\n      k = this.lycee\n        ? choice(rangeMinMax(-5, 5))\n        : choice(rangeMinMax(0, aleaMax))\n      n = k * d + randint(1, d - 1)\n      texte = remplisLesBlancs(\n        this,\n        i,\n        `%{champ1} < \\\\dfrac{${n}}{${d}} < %{champ2}`,\n        this.lycee ? KeyboardType.clavierDeBase : KeyboardType.clavierNumbers,\n        '\\\\ldots',\n      )\n      texteCorr = this.sup4\n        ? ` $\\\\quad \\\\dfrac{${n}}{${d}}=${k}+\\\\dfrac{${n - k * d}}{${d}}\\\\quad$ et $\\\\quad${k}<${k}+\\\\dfrac{${n - k * d}}{${d}}<${k + 1}$ `\n        : ` $\\\\quad ${k}=\\\\dfrac{${k * d}}{${d}}\\\\quad$ et $\\\\quad${k + 1}=\\\\dfrac{${(k + 1) * d}}{${d}}$ `\n      texteCorr += `<br>donc $\\\\quad ${miseEnEvidence(k)} < \\\\dfrac{${n}}{${d}} < ${miseEnEvidence(k + 1)}$.`\n      if (this.correctionDetaillee && !this.lycee && context.isHtml) {\n        const representation = representationFraction(\n          fraction(n, d),\n          0,\n          0,\n          3,\n          0,\n          'barre',\n          'blue',\n        )\n        texteCorr +=\n          '<br>' +\n          mathalea2d(\n            Object.assign({}, fixeBordures(representation)),\n            representation,\n          )\n      }\n\n      if (this.questionJamaisPosee(i, d, n)) {\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: texte,\n            options: { multicols: true, numerotationEnonce: true },\n            propositions: [\n              {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: texteCorr,\n                    statut: '',\n                    reponse: {\n                      texte: 'Entier inférieur',\n                      valeur: k,\n                      param: {\n                        digits: 1,\n                        decimals: 0,\n                        signe: false,\n                        approx: 0,\n                      },\n                    },\n                  },\n                ],\n              },\n              {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: 'Entier supérieur',\n                      valeur: k + 1,\n                      param: {\n                        digits: 1,\n                        decimals: 0,\n                        signe: false,\n                        approx: 0,\n                      },\n                    },\n                  },\n                ],\n              },\n            ],\n          }\n        } else {\n          handleAnswers(\n            this,\n            i,\n            {\n              bareme: (listePoints) => [\n                Math.min(listePoints[0], listePoints[1]),\n                1,\n              ],\n              feedback: (saisies /** {champ1: string, champ2:string} */) => {\n                const rep1 = saisies.champ1\n                const rep2 = saisies.champ2\n                // on teste consecutiveCompare pour le feedback seulement, comme c'est un fillInTheBlank, la comparaison se fait sur les valeurs exactes des bornes entières.\n                // consecutiveCompare peut être utilisée pour évaluer des saisies complètes d'encadrements avec les signes < ou >\n                const { feedback } = consecutiveCompare(\n                  `${rep1}<${(n / d).toFixed(4)}<${rep2}`,\n                  `${k}<${(2 * k + 1) / 2}<${k + 1}`,\n                )\n                return feedback ?? ''\n              },\n              champ1: { value: String(k) },\n              champ2: { value: String(k + 1) },\n            },\n            { formatInteractif: 'fillInTheBlank' },\n          )\n        }\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      } else {\n        cpt++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","EncadrerFractionEntre2Entiers","Exercice","__publicField","ajouterAide","listeDenominateurs","gestionnaireFormulaireTexte","context","figure","Figure","handleApigeomFigureElement","nbDenominateursDifferents","aleaMax","i","texte","texteCorr","n","d","k","cpt","choice","rangeMinMax","randint","remplisLesBlancs","KeyboardType","miseEnEvidence","representation","representationFraction","fraction","mathalea2d","fixeBordures","handleAnswers","listePoints","saisies","rep1","rep2","feedback","consecutiveCompare","listeQuestionsToContenu"],"mappings":"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"}