import{D as X}from"./vendors/decimal.js-BceHFVC1.js";import{m as a}from"./vendors/mathsteps-m4YnGb-n.js";import{P as w,p as K,r as z,bq as B,bz as Q}from"./index-CMKaCP9B.js";import{c as W,a1 as J,a2 as ee,a3 as te,a4 as ne,a5 as oe,a6 as re,a7 as ie,a8 as ae,e as se,b as ce,a9 as ue,aa as le,ab as he,ac as ge,ad as fe,g as Te}from"./vendors/mathjs-DKCMnljp.js";const T={};T.isOperator=function(e,t=null){return e.type==="OperatorNode"&&e.fn!=="unaryMinus"&&"*+-/^".includes(e.op)&&(t?e.op===t:!0)};T.isParenthesis=function(e){return e.type==="ParenthesisNode"};T.isUnaryMinus=function(e){return e.type==="OperatorNode"&&e.fn==="unaryMinus"};T.isFunction=function(e,t=null){return!(e.type!=="FunctionNode"||t&&e.fn.name!==t)};T.isSymbol=function(e,t=!1){return e.type==="SymbolNode"?!0:t&&T.isUnaryMinus(e)?T.isSymbol(e.args[0],!1):!1};T.isConstant=function(e,t=!1){return e.type==="ConstantNode"?!0:t&&T.isUnaryMinus(e)&&T.isConstant(e.args[0],!1)?parseFloat(e.args[0].value)>=0:!1};T.isConstantFraction=function(e,t=!1){return T.isOperator(e,"/")?e.args.every(n=>T.isConstant(n,t)):!1};T.isConstantOrConstantFraction=function(e,t=!1){return!!(T.isConstant(e,t)||T.isConstantFraction(e,t))};T.isIntegerFraction=function(e,t=!1){if(!T.isConstantFraction(e,t))return!1;let n=e.args[0],o=e.args[1];return t&&(T.isUnaryMinus(n)&&(n=n.args[0]),T.isUnaryMinus(o)&&(o=o.args[0])),Number.isInteger(parseFloat(n.value))&&Number.isInteger(parseFloat(o.value))};const i={changeFormatFunctionMap:{}},Ne={"+":"Combine","-":"Combine","*":"Multiply","/":"Divide"},Y={"=":"equal to",">":"greater than",">=":"greater than or equal to","<":"less than","<=":"less than or equal to"};i.formatChange=function(e){if(!(e.changeType in i.changeFormatFunctionMap))return console.error(e.changeType+" does not have a change function!"),e.changeType;const t=i.changeFormatFunctionMap[e.changeType],n=t(e);return n||`\\text{${i.ChangeText[e.changeType]}}`};function y(e){return e.filter(t=>t.changeGroup)}function f(e){if(e.oldNode)return y(e.oldNode);if(e.oldEquation){const t=y(e.oldEquation.leftNode),n=y(e.oldEquation.rightNode);return[...t,...n]}return null}function g(e){if(e.newNode)return y(e.newNode);if(e.newEquation){const t=y(e.newEquation.leftNode),n=y(e.newEquation.rightNode);return[...t,...n]}return null}function u(e,t=!1){e.forEach(o=>{o.changeGroup=void 0});let n=e.map(o=>o.toTex());return t||(n=[...new Set(n)]),n.length===0?"":n.length===1?n[0]:`${n.slice(0,-1).join(", ")} \\text{ and } ${n.slice(-1)}`}i.changeFormatFunctionMap[a.ChangeTypes.ABSOLUTE_VALUE]=function(e){const t=f(e);if(t.length!==1)return null;const n=t[0];return T.isFunction(n,"abs")?`\\text{Take the absolute value of } ${n.args[0].toTex()}`:null};i.changeFormatFunctionMap[a.ChangeTypes.ADD_COEFFICIENT_OF_ONE]=function(e){const t=f(e),n=g(e);if(t.length===0||n.length!==t.length)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.ADD_EXPONENT_OF_ONE]=function(e){const t=f(e),n=g(e);if(t.length===0||n.length!==t.length)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.ADD_FRACTIONS]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=t[0];if(!T.isOperator(o)||o.op!=="+"||o.args.length>3)return null;const r=u(o.args,!0),s=n[0].toTex();return`\\text{Add } ${r} \\text{ to get } ${s}`};i.changeFormatFunctionMap[a.ChangeTypes.ADD_NUMERATORS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.ADD_POLYNOMIAL_TERMS]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=t[0];if(!T.isOperator(o)||o.op!=="+")return null;const r=u(o.args,!0),s=n[0].toTex();return`\\text{Add } ${r} \\text{ to get } ${s}`};i.changeFormatFunctionMap[a.ChangeTypes.ADD_TO_BOTH_SIDES]=function(e){const t=g(e);return t.length!==2?null:`\\text{Add } ${t[0].toTex()} \\text{ to both sides}`};i.changeFormatFunctionMap[a.ChangeTypes.BREAK_UP_FRACTION]=function(e){const t=f(e);return t.length!==1?null:`\\text{Break up the fraction } ${u(t)}`};i.changeFormatFunctionMap[a.ChangeTypes.CANCEL_EXPONENT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.CANCEL_EXPONENT_AND_ROOT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.CANCEL_MINUSES]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.CANCEL_ROOT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.CANCEL_TERMS]=function(e){const t=f(e);return t.length!==1?null:`\\text{Cancel } ${u(t)} \\text{ from the numerator and denominator}`};i.changeFormatFunctionMap[a.ChangeTypes.COLLECT_AND_COMBINE_LIKE_TERMS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.COLLECT_EXPONENTS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.COLLECT_LIKE_TERMS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.COMBINE_NUMERATORS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.COMBINE_UNDER_ROOT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.COMMON_DENOMINATOR]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.CONVERT_INTEGER_TO_FRACTION]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Change } ${o} \\text{ to } ${r} \\text{ so that it has a shared denominator}`};i.changeFormatFunctionMap[a.ChangeTypes.CONVERT_MULTIPLICATION_TO_EXPONENT]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.DISTRIBUTE]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.DISTRIBUTE_NEGATIVE_ONE]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.DISTRIBUTE_NTH_ROOT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.DIVIDE_FRACTION_FOR_ADDITION]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Divide } ${o} \\text{ so it's in the decimal form } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.DIVIDE_FROM_BOTH_SIDES]=function(e){const t=g(e);return t.length!==2?null:`\\text{Divide both sides by } ${t[0].toTex()}`};i.changeFormatFunctionMap[a.ChangeTypes.DIVISION_BY_NEGATIVE_ONE]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`${o} \\text{ divided by -1 is } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.DIVISION_BY_ONE]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`${o} \\text{ divided by 1 is } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.EVALUATE_DISTRIBUTED_NTH_ROOT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.FACTOR_INTO_PRIMES]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length<t.length||n.length>5)return null;const o=u(t),r=u(n);return`\\text{Factor } ${o} \\text{ into its prime factors: } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.GROUP_COEFFICIENTS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.GROUP_TERMS_BY_ROOT]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION]=function(e){const t=g(e);return t.length!==2?null:`\\text{Multiply both sides by the inverse } ${t[0].toTex()}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_BOTH_SIDES_BY_NEGATIVE_ONE]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_BY_INVERSE]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t,!0),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_BY_ZERO]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_COEFFICIENTS]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=t[0];if(!T.isOperator(o)||o.op!=="*")return null;const r=u(t,!0),s=n[0].toTex();return`\\text{Multiply the coefficients } ${r} \\text{ to get } ${s}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_DENOMINATORS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_FRACTIONS]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=t[0];if(!T.isOperator(o)||o.op!=="*")return null;const r=u(o.args,!0),s=n[0].toTex();return`\\text{Multiply } ${r} \\text{ to get } ${s}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_NUMERATORS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_POLYNOMIAL_TERMS]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=t[0];if(!T.isOperator(o)||o.op!=="*")return null;const r=u(o.args,!0),s=n[0].toTex();return`\\text{Multiply } ${r} \\text{ to get } ${s}`};i.changeFormatFunctionMap[a.ChangeTypes.MULTIPLY_TO_BOTH_SIDES]=function(e){const t=g(e);return t.length!==2?null:`\\text{Multiply both sides by } ${t[0].toTex()}`};i.changeFormatFunctionMap[a.ChangeTypes.NO_CHANGE]=function(){return null};i.changeFormatFunctionMap[a.ChangeTypes.NTH_ROOT_VALUE]=function(e){const t=f(e);return t.length!==1?null:`\\text{Take the root of } ${u(t)}`};i.changeFormatFunctionMap[a.ChangeTypes.REARRANGE_COEFF]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.REDUCE_EXPONENT_BY_ZERO]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.REDUCE_ZERO_NUMERATOR]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.REMOVE_ADDING_ZERO]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.REMOVE_EXPONENT_BY_ONE]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.REMOVE_MULTIPLYING_BY_NEGATIVE_ONE]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.REMOVE_MULTIPLYING_BY_ONE]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.RESOLVE_DOUBLE_MINUS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_ARITHMETIC]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=t[0];if(!T.isOperator(o)||"+-*/^".indexOf(o.op)===-1)return null;const r=u(o.args,!0),s=n[0].toTex();return`\\text{${Ne[o.op]} } ${r} \\text{ to get } ${s}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_DIVISION]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_FRACTION]=function(e){const t=f(e),n=g(e);if(t.length!==1||n.length!==1)return null;const o=u(t),r=u(n);return`\\text{Simplify } ${o} \\text{ to } ${r}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_LEFT_SIDE]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_RIGHT_SIDE]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_SIGNS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.SIMPLIFY_TERMS]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.STATEMENT_IS_FALSE]=function(e){const t=e.newEquation.comparator;return`\\text{The left side is not ${Y[t]} the right side}`};i.changeFormatFunctionMap[a.ChangeTypes.STATEMENT_IS_TRUE]=function(e){const t=e.newEquation.comparator;return`\\text{The left side is ${Y[t]} the right side}`};i.changeFormatFunctionMap[a.ChangeTypes.SUBTRACT_FROM_BOTH_SIDES]=function(e){const t=g(e);return t.length!==2?null:`\\text{Subtract } ${t[0].toTex()} \\text{ from both sides}`};i.changeFormatFunctionMap[a.ChangeTypes.SWAP_SIDES]=function(e){return`\\text{${i.ChangeText[e.changeType]}}`};i.changeFormatFunctionMap[a.ChangeTypes.UNARY_MINUS_TO_NEGATIVE_ONE]=function(e){const t=f(e),n=g(e);if(t.length===0||n.length!==t.length)return null;const o=u(t),r=u(n);return`\\text{Rewrite } ${o} \\text{ as } ${r}`};i.ChangeText={ABSOLUTE_VALUE:"Take the absolute value",ADD_COEFFICIENT_OF_ONE:"Rewrite term to have a coefficient of 1",ADD_EXPONENT_OF_ONE:"Rewrite term to have an exponent of 1",ADD_FRACTIONS:"Add the fractions together",ADD_NUMERATORS:"Add the terms in the numerator",ADD_POLYNOMIAL_TERMS:"Add the polynomial terms together",ADD_TO_BOTH_SIDES:"Add the term to both sides",BREAK_UP_FRACTION:"Break up the fraction",CANCEL_EXPONENT:"Cancel the exponent",CANCEL_EXPONENT_AND_ROOT:"Cancel the exponent and the root",CANCEL_MINUSES:"Cancel the negatives in the numerator and denominator",CANCEL_ROOT:"Cancel the root",CANCEL_TERMS:"Cancel like terms in the numerator and denominator",COLLECT_AND_COMBINE_LIKE_TERMS:"Collect and combine like terms",COLLECT_EXPONENTS:"Collect the exponents",COLLECT_LIKE_TERMS:"Identify the like terms and group them together",COMBINE_NUMERATORS:"Combine the numerators with a shared denominator",COMMON_DENOMINATOR:"Multiply the terms so they share a common denominator",COMBINE_UNDER_ROOT:"Combine terms with the same root",CONVERT_INTEGER_TO_FRACTION:"Change the number to a fraction with the same denominator",CONVERT_MULTIPLICATION_TO_EXPONENT:"Change repeatedly multiplying a term to an exponent",DISTRIBUTE:"Distribute into the parentheses",DISTRIBUTE_NEGATIVE_ONE:"Distribute -1 into the parentheses",DISTRIBUTE_NTH_ROOT:"Distribute the root into each term",DIVIDE_FRACTION_FOR_ADDITION:"Divide any fractions to convert it to decimal form",DIVIDE_FROM_BOTH_SIDES:"Divide the term from both sides",DIVISION_BY_NEGATIVE_ONE:"Rewrite any term divided by -1 as the negative of the term",DIVISION_BY_ONE:"Rewrite any term divided by 1 as just the term",EVALUATE_DISTRIBUTED_NTH_ROOT:"Take the root of all the terms",FACTOR_INTO_PRIMES:"Factor the number into its prime factors",GROUP_COEFFICIENTS:"Group the coefficients together",GROUP_TERMS_BY_ROOT:"Group repeating factors",MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION:"Multiply both sides by the inverse of the fraction",MULTIPLY_BOTH_SIDES_BY_NEGATIVE_ONE:"Multiply both sides by -1",MULTIPLY_BY_INVERSE:"Rewrite division as multiplication by the inverse",MULTIPLY_BY_ZERO:"Rewrite any term multiplied by 0 as 0",MULTIPLY_COEFFICIENTS:"Multiply the coefficients together",MULTIPLY_DENOMINATORS:"Multiply the terms in the denominators",MULTIPLY_FRACTIONS:"Multiply the fractions together",MULTIPLY_NUMERATORS:"Multiply the terms in the numerators",MULTIPLY_POLYNOMIAL_TERMS:"Multiply the polynomial terms together",MULTIPLY_TO_BOTH_SIDES:"Multiply the term to both sides",NTH_ROOT_VALUE:"Take the root of the number",NO_CHANGE:"No change",REARRANGE_COEFF:"Move the coefficient to the front of the term",REDUCE_ZERO_NUMERATOR:"Rewrite zero divided by anything as zero",REMOVE_EXPONENT_BY_ONE:"Rewrite any term to the power of 1 as itself",REDUCE_EXPONENT_BY_ZERO:"Rewrite any term to the power of 0 as 1",REMOVE_ADDING_ZERO:"Remove zero when adding",REMOVE_MULTIPLYING_BY_NEGATIVE_ONE:"Rewrite any term multiplied by -1 as the negative of the term",REMOVE_MULTIPLYING_BY_ONE:"Rewrite any term multiplied 1 as just the term",RESOLVE_DOUBLE_MINUS:"Change subtracting a negative to addition",SIMPLIFY_ARITHMETIC:"Evaluate the arithmetic",SIMPLIFY_DIVISION:"Rewrite the chain of division",SIMPLIFY_FRACTION:"Simplify by dividing the top and bottom by the greatest common denominator",SIMPLIFY_LEFT_SIDE:"Simplify the left hand side",SIMPLIFY_RIGHT_SIDE:"Simplify the right hand side",SIMPLIFY_SIGNS:"Move the negative sign to the numerator",SIMPLIFY_TERMS:"Simplify after distributing",STATEMENT_IS_FALSE:"The statement is False",STATEMENT_IS_TRUE:"The statement is True",SUBTRACT_FROM_BOTH_SIDES:"Subtract the term from both sides",SWAP_SIDES:"Swap sides",UNARY_MINUS_TO_NEGATIVE_ONE:"Rewrite minus as a coefficient of -1"};const Ee={},l=W({fractionDependencies:Te,lcmDependencies:fe,gcdDependencies:ge,nthRootDependencies:he,NodeDependencies:le,formatDependencies:ue,parseDependencies:ce,evaluateDependencies:se,simplifyDependencies:ae,randomDependencies:ie,pickRandomDependencies:re,smallerDependencies:oe,largerDependencies:ne,smallerEqDependencies:te,largerEqDependencies:ee,randomIntDependencies:J},Ee);function V(e,t){let n=l.parse(e);return n=n.transform(o=>{if(o.type==="SymbolNode"){const r=o.name,s=t[r];if(s!==void 0)return new l.ConstantNode(Number(s))}return o}),n==null?void 0:n.toString({parenthesis:"keep"})}function _(e,t={suppr1:!0,suppr0:!0,supprPlusMoins:!0,variables:void 0,removeImplicit:!0,rearrangeCoefficient:!0,removeMultiplicationByNegativeOne:!0}){t=Object.assign({suppr1:!0,suppr0:!0,supprPlusMoins:!0},t);let n,o=[];const r=["=","<",">","<=",">="];if(typeof e=="string"){for(let d=0;d<r.length;d++)o=e.split(r[d]),o.length>1&&(n=r[d]);if(n!==void 0&&(o=e.split(n),o.length>1)){const d=[];for(let m=0;m<o.length;m++)d.push(_(o[m],t));return d.join(n==null?void 0:n.replaceAll(">=","\\geqslant").replaceAll("<=","\\leqslant"))}}let s;typeof e=="string"?s=l.parse(e):s=e.cloneDeep(),t.variables&&(s=l.parse(V(a.printMS.ascii(s,!1,!0),t.variables)));function O(d){const m=a.SIMPLIFICATION_FUNCTIONS.removeAdditionOfZero,R=a.SIMPLIFICATION_FUNCTIONS.removeMultiplicationByOne,F=a.SIMPLIFICATION_FUNCTIONS.reduceMultiplicationByZero,b=a.SIMPLIFICATION_FUNCTIONS.removeDivisionByOne,A=a.SIMPLIFICATION_FUNCTIONS.rearrangeCoefficient,x=a.SIMPLIFICATION_FUNCTIONS.reduceZeroDividedByAnything,H=a.SIMPLIFICATION_FUNCTIONS.removeExponentByOne,k=a.SIMPLIFICATION_FUNCTIONS.removeExponentBaseOne,j=a.SIMPLIFICATION_FUNCTIONS.reduceExponentByZero,Z=a.SIMPLIFICATION_FUNCTIONS.removeMultiplicationByNegativeOne,D=[m,R,b,t.rearrangeCoefficient?A:null,x,H,k,j,t.removeMultiplicationByNegativeOne?Z:null,F];for(let L=0;L<D.length;L++){if(D[L]===null)continue;const P=D[L](d);if(P.hasChanged())return P;d=P.newNode}return a.Node.Status.noChange(d)}const c=a.TreeSearch.preOrder(O);let p,I=0;const S=20;do{p=s.cloneDeep();const d=c(s);if(d.changeType!=="NO_CHANGE"&&(s=d.newNode),s=a.SIMPLIFICATION_FUNCTIONS.removeUnnecessaryParens(s,!0),I++,I++===S){console.error("Math error: Potential infinite loop for toTex: "+e.toString()+", returning no steps");break}}while(s.toString()!==p.toString());const E=!1,N=t.removeImplicit===!1||!1;return a.printMS.latex(s,E,N,!0,!0,[]).replaceAll("\\mathrm","").replaceAll("\\times \\dfrac",`${N?"\\times \\dfrac":"\\dfrac"}`).replace("undefined","")}function U(e="(a*x+b)*(c*x-d)",t={a:1,b:2,c:3,d:-6},n){return l.simplify(e,[{l:"1*n",r:"n"},{l:"-1*n",r:"-n"},{l:"n/1",r:"n"},{l:"c/c",r:"1"},{l:"0*v",r:"0"},{l:"0+v",r:"v"}],t)}function pe(e="(a*x+b)*(c*x-d)",t={a:1,b:2,c:3,d:-6}){const n=Object.assign({},q(t));for(const[o,r]of Object.entries(n))typeof r!="number"&&(n[o]=r.valueOf());return V(e,n)}function q(e={a:!0,b:!0,c:!0,d:!0},t={valueOf:!0,format:!1,type:"number"}){var s,O;l.config({randomSeed:w.graine});const n={};let o=0,r=!0;do{o++;for(const c of Object.keys(e))switch(typeof e[c]){case"object":break;case"boolean":const p=e[c]?1:0,I=K([-1,1]),S=z(1,10),E=(p===0?1:I)*S;n[c]=l.fraction(E);break;case"number":t.type==="decimal"?n[c]=l.bignumber(String(e[c])):n[c]=l.fraction(Number(e[c]));break;case"string":try{t.type==="decimal"?(l.config({number:"BigNumber"}),n[c]=l.evaluate(String(e[c]),n),l.config({number:"number"})):t.type==="fraction"?(l.config({number:"Fraction"}),n[c]=l.evaluate(String(e[c]),n),l.config({number:"number"})):n[c]=l.evaluate(String(e[c]),n)}catch{try{t.type==="decimal"?n[c]=l.bignumber(l.evaluate(String(e[c]),n)):n[c]=l.fraction(l.evaluate(String(e[c]),n))}catch{const N=Object.assign({},n);for(const h of Object.keys(N))N[h]=(s=N[h])==null?void 0:s.valueOf();t.type==="decimal"?(l.config({number:"BigNumber"}),n[c]=l.evaluate(String(e[c]),N),l.config({number:"number"})):n[c]=l.evaluate(String(e[c]),N)}}break}e.test!==void 0&&(r=l.evaluate(String(e.test),n))}while(!r&&o<1e3);if(o===1e3&&window.notify(`Attention ! 1000 essais dépassés.
 Trop de contraintes.
 Le résultat ne vérifiera pas le test.`,{test:e.test}),t.valueOf)for(const c of Object.keys(n))typeof n[c]!="number"&&(n[c]instanceof X||(n[c]=(O=n[c])==null?void 0:O.valueOf()));if(t.format)for(const c of Object.keys(n))n[c]=B(Number(n[c]));return n}function $(e,t=[],n=[]){return e.forEach(function(o){t.length===0?o.substeps.length===0?n.push(o):$(o.substeps,t,n):t.some(r=>o.substeps.some(s=>s.changeType===r))||t.some(r=>o.changeType===r)&&o.substeps.length>0?$(o.substeps,t,n):n.push(o)}),n}function v(e,t){t=Object.assign({comment:!1,comments:{},substeps:!1,mixed:!1,name:void 0,suppr1:!0,removeImplicit:!0},t),t.variables!==void 0&&(e=pe(e,t.variables));const n=_(e,t),o=t.substeps?$(a.simplifyExpression(e)):a.simplifyExpression(e),r=[],s=[];if(o.forEach(function(p,I){const S=p.oldNode!==null?_(p.oldNode,t):"",E=_(p.newNode,t);if(E===S&&r.pop(),t.comment){const N=G(p,t.comments);s.push(N),r.length===0||I===o.length-1?t.name===void 0?r.push(`${n}&=${E}&&${N}`):r.length===0?(r.push(`${t.name}&=${n}&&${N}`),r.push(`&=${E}&&${N}`)):r.push(`${t.name}&=${E}&&${N}`):r.push(`&=${E}&&${N}`)}else r.length===0||I===o.length-1?t.name===void 0?r.push(`${n}&=${E}`):r.length===0?(r.push(`${t.name}&=${n}`),r.push(`&=${E}`)):r.push(`${t.name}&=${E}`):r.push(`&=${E}`)}),t.mixed===!0&&o[o.length-1].newNode.type==="OperatorNode"&&o[o.length-1].newNode.op==="/"&&o[o.length-1].newNode.args[0].type==="ConstantNode"&&o[o.length-1].newNode.args[1].type==="ConstantNode"&&(Math.abs(o[o.length-1].newNode.args[0].value)>o[o.length-1].newNode.args[1].value||o[o.length-1].newNode.args[0].value<0)){const p=o[o.length-1].newNode.args[0].value<0?"-":"+";r.push("&="+_(l.parse(l.fraction(o[o.length-1].newNode.args[0].value,o[o.length-1].newNode.args[1].value).toFraction(!0).replace(" ",p)),t))}const O=`Calculer $${n}$.`,c=`$\\begin{aligned}
${r.join(`\\\\
`)}
\\end{aligned}$`;return{result:o.length>0?o[o.length-1].newNode.toString():n,printResult:o.length>0?_(o[o.length-1].newNode,t.totex):n,netapes:r.length,texteDebug:O+c,texte:O,texteCorr:c,stepsLatex:r,steps:o,commentaires:s,printExpression:n,name:t.name}}function de(e="a*x+b=c*x-d",t={a:!1,b:!1,c:!1,d:!1,test:"a>b or true"}){const n=["<=",">=","=","<",">"],o=q(t);for(const p of Object.keys(o))o[p]=l.number(String(o[p]));if(Object.keys(o).length===0)return e;let r,s=null;for(let p=0;p<n.length;p++){const I=n[p];r=e.split(I),r.length===2&&(s=I)}if(s==null)throw Error("Une équation doit avoir un comparateur");r=e.split(s);const O=U(r[0],o).toString(),c=U(r[1],o).toString();return`${O}${s}${c}`}function G(e,t){const n=e.changeType,o=e.stepChange,r={CROSS_PRODUCT_EQUALITY:`Egalité des produits en croix si $${o} \\neq 0$.`,MULTIPLY_BOTH_SIDES_BY_NEGATIVE_ONE:"Multiplier les deux membres par $-1$.",SUBTRACT_FROM_BOTH_SIDES:`Soustraire $${o}$ à chaque membre.`,ADD_TO_BOTH_SIDES:`Ajouter $${o}$ à chaque membre`,MULTIPLY_TO_BOTH_SIDES:`Multiplier chaque membre par $${o}$.`,DIVIDE_FROM_BOTH_SIDES:`Diviser chaque membre par $${o}$.`,MULTIPLY_BOTH_SIDES_BY_INVERSE_FRACTION:`Multiplier chaque membre par $${o}$.`,SWAP_SIDES:"Echanger les deux membres.",STATEMENT_IS_FALSE:"L'égalité est fausse.",STATEMENT_IS_TRUE:"L'égalité est vraie.",DISTRIBUTE:"Distribution.",SIMPLIFY_RIGHT_SIDE:"Simplifier le membre de droite.",SIMPLIFY_LEFT_SIDE:"Simplifier le membre de gauche.",COLLECT_AND_COMBINE_LIKE_TERMS:"Regrouper et réduire les termes.",SIMPLIFY_ARITHMETIC:"Calcul arithmétique.",SIMPLIFY_TERMS:"Simplifier les termes.",SIMPLIFY_FRACTION:"Simplifier une fraction.",REMOVE_MULTIPLYING_BY_NEGATIVE_ONE:"Calculer la multiplication par $-1$.",REMOVE_ADDING_ZERO:"Enlever des zéros.",CANCEL_MINUSES:"Annuler les signes moins.",FIND_ROOTS:"Trouver la (ou les) solution(s).",SIMPLIFY_SIGNS:"Simplifier le signe.",MULTIPLY_BY_ZERO:"Multiplication par zéro.",ADD_FRACTIONS:"Additionner des fractions.",BREAK_UP_FRACTION:"Séparer une fraction.",CANCEL_TERMS:"Annuler les termes.",REMOVE_MULTIPLYING_BY_ONE:"Retirer la multiplication par $1$.",COLLECT_LIKE_TERMS:"Regrouper les termes.",MULTIPLY_DENOMINATORS:"Calculer les dénominateurs.",ADD_EXPONENT_OF_ONE:"Ajouter l'exposant 1.",COLLECT_POLYNOMIAL_EXPONENTS:"Ajouter l'exposant 1.",COMMON_DENOMINATOR:"Obtenir le même dénominateur.",MULTIPLY_NUMERATORS:"Calculer.",COMBINE_NUMERATORS:"Combiner les numérateurs.",ADD_NUMERATORS:"Additionner les numérateurs.",ADD_COEFFICIENT_OF_ONE:"Ajouter le coefficient $1$",GROUP_COEFFICIENTS:"Regrouper les coefficients.",FIND_GCD:"Trouver le plus grand diviseur commun.",CANCEL_GCD:"Simplifier par le PGCD.",MULTIPLY_FRACTIONS:"Multiplier deux fractions."};return t=Object.assign(r,t),t[n]!==void 0?`\\text{${t[n].replaceAll("{stepChange}",`$${o}$`)}}`:""}function _e(e){let t;typeof e=="number"?t=l.fraction(e):typeof e=="string"?t=l.fraction(e.replaceAll(" ","")):t=e.clone();const n=Number(t.d);return n!==1&&!Q(n).some(o=>o!==2&&o!==5)}function Se(e,t){t=Object.assign({comment:!1,color:"blue",comments:{},reduceSteps:!0,formatSolution:2,substeps:!1,changeType:[],produitsencroix:!1,verifications:!1},t),t.variables!==void 0&&(e=de(e,t.variables));let n="";const o=t.substeps?$(a.solveEquation(e),t.changeType):a.solveEquation(e);if(o.length===0&&e.includes("=")){const h=l.parse(e.split("=")[0]),C=l.parse(e.split("=")[1]);h.type==="SymbolNode"&&a.Node.Type.isConstantOrConstantFraction(C)&&o.push({oldEquation:new a.Equation(h,C,"="),newEquation:new a.Equation(h,C,"="),changeType:"EQUALITY"})}const r=[];let s=0;o.forEach(function(h,C){const M=g(h);h.stepChange=(M==null?void 0:M.length)>0?_(l.parse(M[0].toString())):"",h.oldEquation!==null&&(t.reduceSteps&&(h.oldEquation.leftNode.toString()===h.newEquation.leftNode.toString()||h.oldEquation.rightNode.toString()===h.newEquation.rightNode.toString())?h.changeType!=="REMOVE_ADDING_ZEROS"&&(s=(s+1)%3):s=0);const d=h.oldEquation!==null?_(h.oldEquation.leftNode,t):"";let m=_(h.newEquation.leftNode,t);const R=h.oldEquation!==null?_(h.oldEquation.rightNode,t):"";let F=_(h.newEquation.rightNode,t);const b=_(h.newEquation.comparator);if(C===0&&(n=`${_(h.oldEquation.ascii())}`,r.push(String.raw`${d}&${_(h.oldEquation.comparator)}${R}`)),t.color!=="black"){const x=s===2?"black":t.color;m=`{\\color{${x}}${m.replace(d,`{\\color{black}${d}}`)}}`,F=`{\\color{${x}}${F.replace(R,`{\\color{black}${R}}`)}}`}const A=G(h,t.comments);s===2||h.changeType==="EQUALITY"?(s=0,r.pop(),r.push(`${m}&${b}${F}${t.comment?`&&${A}`:""}`)):r.push(`${m}&${b}${F}${t.comment?`&&${A}`:""}`)});const O=o[o.length-1].newEquation;let c=O.rightNode;if(t.formatSolution!=="fraction"&&!c.isConstantNode)try{l.config({number:"Fraction"}),c=l.evaluate(c.toString()),l.config({number:"number"}),_e(c)&&(c=l.round(c.valueOf(),15),(t.formatSolution==="decimal"||typeof t.formatSolution=="number"&&c.toString().split(".")[1].length<=t.formatSolution)&&r.push(`${_(O.leftNode,t)}&${_(O.comparator+c.toString())}`))}catch{}const p=`Résoudre $${n}$.`;let I=`$\\begin{aligned}
${r.join(`\\\\
`)}
\\end{aligned}$`;const S={printDecimal:B(l.evaluate(o[o.length-1].newEquation.ascii().split(o[o.length-1].newEquation.comparator)[1])),decimal:l.evaluate(o[o.length-1].newEquation.ascii().split(o[o.length-1].newEquation.comparator)[1]),exact:o[o.length-1].newEquation.ascii().split(o[o.length-1].newEquation.comparator)[1],print:_(o[o.length-1].newEquation.ascii())};let E,N;if(o[o.length-1].newEquation.leftNode.isSymbolNode){const h=e.split(o[0].oldEquation.comparator),C=o[o.length-1].newEquation.leftNode.toString(),M=o[o.length-1].newEquation.rightNode.toString();E=v(h[0].replaceAll(C,`(${M})`)),N=v(h[1].replaceAll(C,`(${M})`))}return t.verifications&&(I=`${w.isHtml?"<br>":""}
          ${I}<br>
          La solution est $${S.print}$.
          <br>
          $\\textit{Vérification :}$
          <br>
          $\\bullet$ D'une part : $${E==null?void 0:E.printExpression}=${E==null?void 0:E.printResult}$
          <br>
          $\\bullet$ D'autre part : $${N==null?void 0:N.printExpression}=${N==null?void 0:N.printResult}$
          `),{solution:S,texte:p,texteCorr:I,equation:n,verifLeftSide:E,verifRightSide:N,steps:o,printSteps:r}}export{V as a,q as b,v as c,Se as r,_ as t};
//# sourceMappingURL=outilsMathjs-DWVk-m7M.js.map
