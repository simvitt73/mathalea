{"version":3,"file":"5R12-2-C7xrQkXd.js","sources":["../../src/exercices/5e/5R12-2.ts"],"sourcesContent":["import { point } from '../../lib/2d/PointAbstrait'\nimport { repere } from '../../lib/2d/reperes'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { creerCouples, shuffle2tableaux } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre, sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Déterminer les coordonnées (relatives) d'un point\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDeModifImportante = '24/11/2024'\n\n/**\n * Lire les coordonnées d'un point du plan avec une précision allant de l'unité à 0,25.\n * @author Jean-Claude Lhote - Eric Elter (pour l'interactivité)\n */\nexport const uuid = 'ab968'\n\nexport const refs = {\n  'fr-fr': ['5R12-2', '3AutoG01-2'],\n  'fr-ch': ['9FA1-7'],\n}\nexport default class ReperagePointDuPlan extends Exercice {\n  quartDePlan: boolean\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      3,\n      \"1 : Coordonnées entières\\n2 : Coordonnées 'en demis'\\n3 : Coordonnées 'en quarts'\",\n    ]\n    this.besoinFormulaire2CaseACocher = [\n      'Grille pour les demis ou pour les quarts',\n    ]\n    this.besoinFormulaire3Numerique = ['Nombre de points (entre 1 et 5)', 5]\n    this.besoinFormulaire4CaseACocher = [\n      'Avec forcément un point sur un axe',\n      true,\n    ]\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.sup = 1\n    this.sup2 = true\n    this.sup3 = 5\n    this.sup4 = true\n    this.quartDePlan = false\n    this.listeAvecNumerotation = false\n  }\n\n  nouvelleVersion() {\n    let texte, texteCorr\n    const forcerPointSurAxe = this.sup4\n\n    let listePoints = []\n    const points = []\n    let xmin, xmax, ymin, ymax\n    const k = Math.pow(2, this.sup - 1)\n    const nom = []\n    const objets2d = []\n    const nbPoints = contraindreValeur(1, 5, this.sup3, 5)\n    if (this.quartDePlan) {\n      xmin = 0\n      ymin = 0\n      xmax = 10\n      ymax = 10\n    } else {\n      xmin = -5\n      ymin = -5\n      xmax = 5\n      ymax = 5\n    }\n    const listeAbs = []\n    const listeOrd = []\n    for (\n      let i = arrondi(xmin + 1 / k);\n      i < arrondi(xmax - (this.sup - 1) / k);\n      i = arrondi(i + 1 / k)\n    ) {\n      listeAbs.push(i)\n    }\n    for (\n      let i = arrondi(ymin + 1 / k);\n      i < arrondi(ymax - (this.sup - 1) / k);\n      i = arrondi(i + 1 / k)\n    ) {\n      listeOrd.push(i)\n    }\n    let X0 = false\n    let Y0 = false\n    listePoints = creerCouples(listeAbs, listeOrd, 10 * k, true)\n    for (let l = 0, lettre = randint(1, 20); l < 5; l++) {\n      nom.push(lettreDepuisChiffre(l + lettre))\n    }\n    for (let j = 0; j < nbPoints; j++) {\n      points.push(\n        point(listePoints[j][0], listePoints[j][1], nom[j], 'above left'),\n      )\n      if (points[j].x === 0) {\n        X0 = true\n      }\n      if (points[j].y === 0) {\n        Y0 = true\n      }\n    }\n    if (!X0 && forcerPointSurAxe) {\n      points[0].x = 0\n    }\n    if (!Y0 && nbPoints > 1 && forcerPointSurAxe) {\n      points[1].y = 0\n    }\n    shuffle2tableaux(points, nom)\n\n    if (context.isAmc) {\n      this.autoCorrection[0] = {\n        enonce: '',\n        enonceAvant: false,\n        enonceApresNumQuestion: true,\n        options: { barreseparation: true },\n        propositions: [],\n      }\n    }\n\n    texte =\n      nbPoints > 1\n        ? 'Déterminer les coordonnées respectives des points'\n        : 'Déterminer les coordonnées du point'\n    texteCorr =\n      nbPoints > 1\n        ? 'Les coordonnées respectives des points sont :<br>'\n        : 'Les coordonnées du point sont :<br>'\n    for (let i = 0; i < nbPoints - 1; i++) {\n      texte += ` $${nom[i]}$, `\n      texteCorr += ` $${nom[i]}(${miseEnEvidence(texNombre(points[i].x))};${miseEnEvidence(texNombre(points[i].y))})$,`\n      if (context.isAmc) {\n        // @ts-expect-error\n        this.autoCorrection[0].propositions.push(\n          {\n            type: 'AMCNum',\n            propositions: [\n              {\n                texte: '',\n                statut: '',\n                multicolsBegin: true,\n                reponse: {\n                  texte: `Abscisse de $${nom[i]}$ :`,\n                  valeur: points[i].x,\n                  param: {\n                    digits: 1,\n                    decimals: this.sup - 1,\n                    signe: !this.quartDePlan,\n                    approx: 0,\n                  },\n                },\n              },\n            ],\n          },\n          {\n            type: 'AMCNum',\n            propositions: [\n              {\n                texte: '',\n                statut: '',\n                multicolsEnd: true,\n                reponse: {\n                  texte: `Ordonnée de $${nom[i]}$ :`,\n                  valeur: points[i].y,\n                  param: {\n                    digits: 1,\n                    decimals: this.sup - 1,\n                    signe: !this.quartDePlan,\n                    approx: 0,\n                  },\n                },\n              },\n            ],\n          },\n        )\n      }\n    }\n    texte =\n      nbPoints > 1\n        ? texte.slice(0, texte.length - 1) + ` et $${nom[nbPoints - 1]}$.<br>`\n        : texte + ` $${nom[nbPoints - 1]}$.<br>`\n    texteCorr =\n      nbPoints > 1\n        ? texteCorr.slice(0, texteCorr.length - 1) +\n          ` et $${nom[nbPoints - 1]}(${miseEnEvidence(texNombre(points[nbPoints - 1].x))};${miseEnEvidence(texNombre(points[nbPoints - 1].y))})$.`\n        : texteCorr +\n          ` $${nom[nbPoints - 1]}(${miseEnEvidence(texNombre(points[nbPoints - 1].x))};${miseEnEvidence(texNombre(points[nbPoints - 1].y))})$.`\n    if (this.sup2) {\n      objets2d.push(\n        repere({\n          xMin: xmin - 1,\n          yMin: ymin - 1,\n          xMax: xmax + 1,\n          yMax: ymax + 1,\n          grilleSecondaire: true,\n          grilleSecondaireDistance: 1 / k,\n          grilleSecondaireXMin: xmin - 1,\n          grilleSecondaireYMin: ymin - 1,\n          grilleSecondaireXMax: xmax + 1,\n          grilleSecondaireYMax: ymax + 1,\n        }),\n      )\n    } else {\n      objets2d.push(\n        repere({\n          xMin: xmin - 1,\n          yMin: ymin - 1,\n          xMax: xmax + 1,\n          yMax: ymax + 1,\n        }),\n      )\n    }\n    for (let i = 0; i < nbPoints; i++) {\n      objets2d.push(tracePoint(points[i], 'red'), labelPoint(points[i]))\n    }\n    texte +=\n      '<br>' +\n      mathalea2d(\n        {\n          xmin: xmin - 1,\n          ymin: ymin - 1,\n          xmax: xmax + 1,\n          ymax: ymax + 1,\n          pixelsParCm: 30,\n          scale: 0.75,\n        },\n        objets2d,\n      )\n\n    if (this.interactif) {\n      for (let i = 0; i < nbPoints; i++) {\n        texte +=\n          `<br>Les coordonnées de $${nom[i]}$ sont ` +\n          sp(3) +\n          ajouteChampTexteMathLive(this, 2 * i, KeyboardType.clavierDeBase, {\n            texteAvant: '(',\n          }) +\n          sp() +\n          ';' +\n          ajouteChampTexteMathLive(\n            this,\n            2 * i + 1,\n            KeyboardType.clavierDeBase,\n          ) +\n          ').'\n        handleAnswers(this, 2 * i, { reponse: { value: points[i].x } })\n        handleAnswers(this, 2 * i + 1, { reponse: { value: points[i].y } })\n      }\n    }\n\n    if (context.isAmc) {\n      this.autoCorrection[0].enonce = texte\n    }\n    this.listeQuestions.push(texte)\n    this.listeCorrections.push(texteCorr)\n\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","ReperagePointDuPlan","Exercice","__publicField","texte","texteCorr","forcerPointSurAxe","listePoints","points","xmin","xmax","ymin","ymax","k","nom","objets2d","nbPoints","contraindreValeur","listeAbs","listeOrd","i","arrondi","X0","Y0","creerCouples","l","lettre","randint","lettreDepuisChiffre","j","point","shuffle2tableaux","context","miseEnEvidence","texNombre","repere","tracePoint","labelPoint","mathalea2d","sp","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenuSansNumero"],"mappings":"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"}