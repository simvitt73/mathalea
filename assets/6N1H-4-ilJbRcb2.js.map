{"version":3,"file":"6N1H-4-ilJbRcb2.js","sources":["../../src/exercices/6e/6N1H-4.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { droiteGraduee } from '../../lib/2d/DroiteGraduee'\nimport { pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive' // fonctions de mise en place des éléments interactifs\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Lire des abscisses avec zoom sur l'axe\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '30/12/2025'\n\nexport const uuid = '3c83a'\nexport const refs = {\n  'fr-fr': ['6N1H-4'],\n  'fr-ch': [],\n}\n/**\n * Lire une abscisse sur une droite graduée avec des zooms successifs et le choix de la classe numérique de départ.\n * @author Olivier Mimeau\n */\nexport default class GradueeZommGrdNombres extends Exercice {\n  constructor() {\n    super()\n    this.consigne = ''\n    this.nbQuestions = 1\n    this.besoinFormulaireTexte = [\n      'Classe de démarrage, nombres séparés par des tirets ',\n      '0 : Unités\\n1 : Dizaines\\n2 : Centaines\\n3 : Milliers\\n4 : Dizaines de milliers\\n5 : Centaines de milliers\\n6 : Millions\\n7 : Dizaines de millions\\n8 : Centaines de millions\\n9 : Milliards\\n10 : Mélange',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Niveau de zoom',\n      'Nombres entre 1 et 4 séparés par des tirets, 5 pour mélange',\n    ]\n    this.sup = '4'\n    this.sup2 = '3'\n  }\n\n  nouvelleVersion() {\n    const listeClasseDeDemarrage = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 0,\n      max: 10,\n      melange: 10,\n      defaut: 3,\n      // listeOfCase: [1, 2, 3, 4],\n      shuffle: true,\n      nbQuestions: this.nbQuestions,\n    })\n    const listeNiveauZoom = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 5,\n      melange: 5,\n      defaut: 2,\n      // listeOfCase: [1, 2, 3, 4],\n      shuffle: true,\n      nbQuestions: this.nbQuestions,\n    })\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let classeDepart = 100 // choice([1, 10, 100])\n      if (typeof listeClasseDeDemarrage[i] === 'number')\n        classeDepart = 10 ** Number(listeClasseDeDemarrage[i])\n      const nbDepart = randint(0, 9) * classeDepart\n      // nbDepart = randint(0, 9)\n      let nbNiveauZoom = 1\n      if (typeof listeNiveauZoom[i] === 'number')\n        nbNiveauZoom = Number(listeNiveauZoom[i])\n      const LeNombreCherche = []\n      for (let j = 0; j < nbNiveauZoom + 1; j++) {\n        LeNombreCherche.push(\n          j === nbNiveauZoom ? randint(2, nbPas - 2) : randint(2, nbPas - 2),\n        )\n      }\n      const borneSuivantNiveauZoom = []\n      let x0 = new Decimal(nbDepart)\n      borneSuivantNiveauZoom.push(nbDepart)\n      for (let j = 0; j < nbNiveauZoom + 1; j++) {\n        x0 = x0.add(\n          new Decimal(LeNombreCherche[j]).mul(classeDepart).div(10 ** (j + 1)),\n        )\n        borneSuivantNiveauZoom.push(arrondi(x0.toNumber(), 5))\n      }\n      const nomsPoints = choisitLettresDifferentes(1 + 2 * nbNiveauZoom, 'QDN')\n      texte = ``\n\n      texteCorr = ``\n\n      // this.reponse = texNombre(x0, 0)\n      texte += `Déterminer l'abscisse du point $${nomsPoints[0]}$ ci-dessous :<br>`\n      texte += faitLesDroites(\n        Number(x0),\n        classeDepart,\n        nbNiveauZoom,\n        borneSuivantNiveauZoom,\n        nomsPoints,\n        false, // correction = non\n      )\n      if (this.interactif) {\n        texte += `<br><br>Abscisse du point $${nomsPoints[0]}$ : `\n        handleAnswers(this, i, { reponse: { value: arrondi(Number(x0), 5) } })\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          'inline largeur01 college6eme',\n        )\n      }\n      texteCorr += `L'abscisse du point $${nomsPoints[0]}$ est $${texNombre(x0, 5)}$ :`\n      texteCorr += '<br><br>Voici la figure avec les lectures successives :<br>'\n      texteCorr += faitLesDroites(\n        Number(x0),\n        classeDepart,\n        nbNiveauZoom,\n        borneSuivantNiveauZoom,\n        nomsPoints,\n        true, // correction = non\n      )\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\nconst nbPas = 10\n\nfunction abcisseVersDroite(x: number, xmin: number, xmax: number): number {\n  return arrondi((x - xmin) / (xmax - xmin), 5)\n}\n\nfunction faitLesDroites(\n  x0: number,\n  classeDepart: number,\n  nbNiveauZoom: number,\n  borneSuivantNiveauZoom: number[],\n  nomsPoints: string[],\n  correction: boolean,\n): string {\n  const uniteDroite = 15\n  const ecartDroites = 2\n  const uniteDroiteZoom = 10\n  const decaleDroiteZoom = 1\n  let extremite = '->'\n  if (borneSuivantNiveauZoom[0] === 0) extremite = '->'\n  const droitesSegments = []\n  let pA1, pA2, pB1, pB2, sA, sB\n  let droitex0: number\n  let droitex0Inf: number\n  let droitex0Sup: number\n  droitex0 = abcisseVersDroite(\n    Number(x0),\n    borneSuivantNiveauZoom[0],\n    borneSuivantNiveauZoom[0] + classeDepart,\n  )\n  droitex0Inf = abcisseVersDroite(\n    Number(borneSuivantNiveauZoom[1]),\n    borneSuivantNiveauZoom[0],\n    borneSuivantNiveauZoom[0] + classeDepart,\n  )\n  droitex0Sup = abcisseVersDroite(\n    Number(borneSuivantNiveauZoom[1] + classeDepart / nbPas),\n    borneSuivantNiveauZoom[0],\n    borneSuivantNiveauZoom[0] + classeDepart,\n  )\n  let d = droiteGraduee({\n    x: 0,\n    y: 0,\n    Unite: uniteDroite,\n    Min: 0,\n    Max: 1, // uniteDroite + 0.1,\n    thickSec: true,\n    thickSecDist: 0.1,\n    axeStyle: extremite,\n    pointTaille: 5,\n    pointStyle: '+',\n    labelsPrincipaux: false,\n    labelListe: [\n      [0, `${texNombre(borneSuivantNiveauZoom[0])}`],\n      [1, `${texNombre(borneSuivantNiveauZoom[0] + classeDepart)}`],\n    ],\n    pointListe: [\n      [droitex0, nomsPoints[0]], // point à trouver\n      [droitex0Inf, nomsPoints[1]], // encadrement Inf\n      [droitex0Sup, nomsPoints[2]], // encadrement sup\n    ],\n  })\n  droitesSegments.push(d)\n  let coefMult = 1\n  let decalage = 0\n  for (let j = 0; j < nbNiveauZoom; j++) {\n    coefMult = j === 0 ? uniteDroite : uniteDroiteZoom\n    decalage = j === 0 ? 0 : decaleDroiteZoom\n    pA1 = pointAbstrait(\n      droitex0Inf * coefMult + decalage,\n      ecartDroites * j * -1,\n    )\n    pA2 = pointAbstrait(decaleDroiteZoom, ecartDroites * (j + 1) * -1)\n    pB1 = pointAbstrait(\n      droitex0Sup * coefMult + decalage,\n      ecartDroites * j * -1,\n    )\n    pB2 = pointAbstrait(\n      decaleDroiteZoom + uniteDroiteZoom,\n      ecartDroites * (j + 1) * -1,\n    )\n    sA = segment(pA1, pA2)\n    sB = segment(pB1, pB2)\n    sA.pointilles = 5\n    sB.pointilles = 5\n    droitesSegments.push(sA)\n    droitesSegments.push(sB)\n    droitex0 = abcisseVersDroite(\n      Number(x0),\n      borneSuivantNiveauZoom[j + 1],\n      borneSuivantNiveauZoom[j + 1] + classeDepart / 10 ** (j + 1),\n    )\n    droitex0Inf = abcisseVersDroite(\n      Number(borneSuivantNiveauZoom[j + 2]),\n      borneSuivantNiveauZoom[j + 1],\n      borneSuivantNiveauZoom[j + 1] + classeDepart / 10 ** (j + 1),\n    )\n    droitex0Sup = abcisseVersDroite(\n      Number(\n        borneSuivantNiveauZoom[j + 2] + classeDepart / 10 ** (j + 1) / nbPas,\n      ),\n      borneSuivantNiveauZoom[j + 1],\n      borneSuivantNiveauZoom[j + 1] + classeDepart / 10 ** (j + 1),\n    )\n    const listePoints: [number, string][] = [\n      [0, nomsPoints[j * 2 + 1]], // encadrement Inf niveau n-1\n      [1, nomsPoints[j * 2 + 2]], // encadrement Sup Inf niveau n-1\n      [droitex0, nomsPoints[0]], // point à trouver\n    ]\n    if (j < nbNiveauZoom - 1) {\n      listePoints.push([droitex0Inf, nomsPoints[(j + 1) * 2 + 1]]) // encadrement Inf\n      listePoints.push([droitex0Sup, nomsPoints[(j + 1) * 2 + 2]]) // encadrement sup\n    }\n    let listeLabels: [number, string][] = []\n    if (correction) {\n      listeLabels = [\n        [0, `${texNombre(borneSuivantNiveauZoom[j + 1])}`],\n        [\n          1,\n          `${texNombre(borneSuivantNiveauZoom[j + 1] + classeDepart / 10 ** (j + 1))}`,\n        ],\n      ]\n      if (j === nbNiveauZoom - 1) {\n        listeLabels.push([droitex0, `${texNombre(x0)}`])\n      }\n    }\n    d = droiteGraduee({\n      x: decaleDroiteZoom,\n      y: ecartDroites * (j + 1) * -1,\n      Unite: uniteDroiteZoom,\n      Min: 0,\n      Max: 1, // uniteDroiteZoom,\n      thickDistance: 1,\n      thickSec: true,\n      thickSecDist: 0.1,\n      axeStyle: '->',\n      pointTaille: 4,\n      pointStyle: '+',\n      labelsPrincipaux: false,\n      labelListe: listeLabels,\n      pointListe: listePoints,\n    })\n    droitesSegments.push(d)\n    //         y: ecartDroites * (j + 1) * -1\n  }\n  return mathalea2d(\n    {\n      xmin: -1.7,\n      ymin: -1.2 - ecartDroites * nbNiveauZoom,\n      xmax: uniteDroite + 1,\n      ymax: 1.5,\n      pixelsParCm: 40,\n      scale: 0.9,\n    },\n    // latex2d('A', x1B * 5, 0.5, { color: 'blue' }),\n    droitesSegments,\n  )\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","GradueeZommGrdNombres","Exercice","listeClasseDeDemarrage","gestionnaireFormulaireTexte","listeNiveauZoom","i","cpt","texte","texteCorr","classeDepart","nbDepart","randint","nbNiveauZoom","LeNombreCherche","j","nbPas","borneSuivantNiveauZoom","x0","Decimal","arrondi","nomsPoints","choisitLettresDifferentes","faitLesDroites","handleAnswers","ajouteChampTexteMathLive","texNombre","listeQuestionsToContenu","abcisseVersDroite","x","xmin","xmax","correction","extremite","droitesSegments","pA1","pA2","pB1","pB2","sA","sB","droitex0","droitex0Inf","droitex0Sup","d","droiteGraduee","coefMult","decalage","pointAbstrait","segment","listePoints","listeLabels","mathalea2d"],"mappings":"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"}