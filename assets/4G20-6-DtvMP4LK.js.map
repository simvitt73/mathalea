{"version":3,"file":"4G20-6-DtvMP4LK.js","sources":["../../src/exercices/4e/4G20-6.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { nombreDeChiffresDansLaPartieEntiere } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Encadrer une racine carrée et en donner un arrondi'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * Encadrer une racine carrée et en donner une valeur approchée\n * @author Guillaume Valmont  (Amélioration AMC par Eric Elter)\n\n * Date de publication : 08/08/2021\n */\nexport const uuid = '516d1'\n\nexport const refs = {\n  'fr-fr': ['4G20-6', 'BP2AutoS4'],\n  'fr-ch': ['10NO3-4'],\n}\nexport default class CalculValeurApprocheeRacineCarree extends Exercice {\n  constructor() {\n    super()\n\n    this.nbQuestions = 6\n\n    this.nbCols = 2\n    this.nbColsCorr = 2\n\n    this.besoinFormulaireNumerique = [\n      'Avec ou sans calculatrice',\n      3,\n      '1 : Avec calculatrice\\n2 : Sans calculatrice\\n3 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Choix des corrections',\n      2,\n      '1 : Collège\\n2 : Lycée',\n    ]\n    this.sup = 3\n    this.sup2 = 1\n  }\n\n  nouvelleVersion() {\n    let listeAvecOuSansCalculatrice\n    if (this.sup === 1) {\n      listeAvecOuSansCalculatrice = ['avec']\n    } else if (this.sup === 2) {\n      listeAvecOuSansCalculatrice = ['sans']\n    } else {\n      listeAvecOuSansCalculatrice = ['avec', 'sans']\n    }\n    listeAvecOuSansCalculatrice = combinaisonListes(\n      listeAvecOuSansCalculatrice,\n      this.nbQuestions,\n    )\n    const typeQuestionsDisponibles = ['unite', 'dixieme', 'centieme']\n\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (\n      let i = 0,\n        texte,\n        texteCorr,\n        indexRep = 0,\n        type,\n        a,\n        nbDec,\n        reponse,\n        pasReponse,\n        reponseG,\n        reponseD,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      if (listeAvecOuSansCalculatrice[i] === 'avec') {\n        a = randint(\n          2,\n          300,\n          [\n            4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256,\n            289,\n          ],\n        )\n        switch (listeTypeQuestions[i]) {\n          case 'unite':\n            type = \"à l'unité\"\n            reponse = texNombre(Math.sqrt(a), 0)\n            reponseG = texNombre(Math.floor(Math.sqrt(a)), 0)\n            reponseD = texNombre(Math.ceil(Math.sqrt(a)), 0)\n            setReponse(this, indexRep, Math.round(Math.sqrt(a)))\n            nbDec = 0\n            break\n          case 'dixieme':\n            type = 'au dixième'\n            reponse = texNombre(Math.sqrt(a), 1)\n            reponseG = texNombre(Math.floor(Math.sqrt(a) * 10) / 10, 1)\n            reponseD = texNombre(Math.ceil(Math.sqrt(a) * 10) / 10, 1)\n            setReponse(this, indexRep, Math.sqrt(a).toFixed(1))\n            nbDec = 1\n            break\n          case 'centieme':\n          default:\n            type = 'au centième'\n            reponse = texNombre(Math.sqrt(a), 2)\n            reponseG = texNombre(Math.floor(Math.sqrt(a) * 100) / 100, 2)\n            reponseD = texNombre(Math.ceil(Math.sqrt(a) * 100) / 100, 2)\n            setReponse(this, indexRep, Math.sqrt(a).toFixed(2))\n            nbDec = 2\n            break\n        }\n        if (reponse === reponseG) pasReponse = reponseD\n        else pasReponse = reponseG\n        if (!this.interactif) {\n          texte = `Encadrer $\\\\sqrt{${a}}$ ${type} près et en donner un arrondi ${type} près.`\n        } else {\n          texte = `Donner la valeur arrondie de $\\\\sqrt{${a}}$ ${type} près : `\n          texte += ajouteChampTexteMathLive(\n            this,\n            indexRep,\n            KeyboardType.clavierNumbers,\n          )\n        }\n        texteCorr = `$\\\\sqrt{${a}} \\\\simeq ${texNombre(Math.sqrt(a), 6)}$.<br>`\n        texteCorr += `Or $${reponseG} < ${texNombre(Math.sqrt(a), 6)} < ${reponseD}$,<br>`\n        texteCorr += `et $${texNombre(Math.sqrt(a), 6)}$ est plus proche de $${reponse}$ que de $${pasReponse}$.<br>`\n        texteCorr += `Donc l'arrondi ${type} près de $\\\\sqrt{${a}}$ est $${reponse}$.`\n      } else {\n        a = randint(2, 143, [4, 9, 16, 25, 36, 49, 64, 81, 100, 121])\n        reponseG = Math.floor(Math.sqrt(a))\n        reponseD = Math.ceil(Math.sqrt(a))\n        reponse = '' // C'est pour éviter un warning\n        nbDec = 0 // idem\n        texte = `Sans utiliser de calculatrice, encadrer $\\\\sqrt{${a}}$ entre deux nombres entiers consécutifs.<br>`\n        if (this.interactif) {\n          texte += ajouteChampTexteMathLive(\n            this,\n            indexRep,\n            KeyboardType.clavierNumbers,\n          )\n          texte += ` $< \\\\sqrt{${a}} <$ `\n          texte += ajouteChampTexteMathLive(\n            this,\n            indexRep + 1,\n            KeyboardType.clavierNumbers,\n          )\n          setReponse(this, indexRep, reponseG)\n          setReponse(this, indexRep + 1, reponseD)\n        }\n        texteCorr = `$${reponseG}^2 = ${reponseG ** 2}$ et $${reponseD}^2 = ${reponseD ** 2}$.<br>`\n        texteCorr += `Or $${reponseG ** 2} < ${a} < ${reponseD ** 2}$,<br>`\n        if (this.sup2 === 1) {\n          texteCorr += `donc $\\\\sqrt{${reponseG ** 2}} < \\\\sqrt{${a}} < \\\\sqrt{${reponseD ** 2}}$,<br>`\n        } else {\n          texteCorr += `donc $\\\\sqrt{${reponseG ** 2}} < \\\\sqrt{${a}} < \\\\sqrt{${reponseD ** 2}}$ puisque la fonction racine carrée est strictement croissante sur $\\\\mathbb{R}_+$,<br>`\n        }\n        texteCorr += `enfin $${reponseG} < \\\\sqrt{${a}} < ${reponseD}$.`\n      }\n      if (this.questionJamaisPosee(i, a)) {\n        if (context.isAmc) {\n          if (listeAvecOuSansCalculatrice[i] === 'avec') {\n            this.autoCorrection[i] = {\n              enonce: '',\n              enonceAvant: false,\n              propositions: [\n                {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: texteCorr,\n                      enonce: `À l'aide de la calculatrice, donner un encadrement de $\\\\sqrt{${a}}$ ${type} près puis la valeur arrondie ${type} près: \\\\\\\\`,\n                      statut: 1,\n                    },\n                  ],\n                },\n                {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte: `arrondi de $\\\\sqrt{${a}}$ ${type} près :`,\n                        valeur: [parseFloat(reponse.replaceAll(',', '.'))],\n                        param: {\n                          digits:\n                            nombreDeChiffresDansLaPartieEntiere(\n                              parseFloat(reponse.replaceAll(',', '.')),\n                            ) + nbDec,\n                          decimals: nbDec,\n                          signe: false,\n                          approx: 0,\n                        },\n                      },\n                    },\n                  ],\n                },\n              ],\n            }\n          } else {\n            this.autoCorrection[i] = {\n              enonce: '',\n              enonceAvant: false,\n              propositions: [\n                {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: texteCorr,\n                      enonce: `Sans utiliser de calculatrice, encadrer $\\\\sqrt{${a}}$ entre deux nombres entiers.\\\\\\\\`,\n                      statut: 2,\n                    },\n                  ],\n                },\n                {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte: 'Entier inférieur',\n                        valeur: [Number(reponseG)],\n                        param: {\n                          digits: nombreDeChiffresDansLaPartieEntiere(\n                            Number(reponseG),\n                          ),\n                          decimals: 0,\n                          signe: false,\n                          approx: 0,\n                        },\n                      },\n                    },\n                  ],\n                },\n                {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte: 'Entier supérieur',\n                        valeur: [Number(reponseD)],\n                        param: {\n                          digits: nombreDeChiffresDansLaPartieEntiere(\n                            Number(reponseD),\n                          ),\n                          decimals: 0,\n                          signe: false,\n                          approx: 0,\n                        },\n                      },\n                    },\n                  ],\n                },\n              ],\n            }\n          }\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (listeAvecOuSansCalculatrice[i] === 'avec') {\n          indexRep++\n        } else {\n          indexRep += 2\n        }\n\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","CalculValeurApprocheeRacineCarree","Exercice","listeAvecOuSansCalculatrice","combinaisonListes","listeTypeQuestions","i","texte","texteCorr","indexRep","type","a","nbDec","reponse","pasReponse","reponseG","reponseD","cpt","randint","texNombre","setReponse","ajouteChampTexteMathLive","KeyboardType","context","nombreDeChiffresDansLaPartieEntiere","listeQuestionsToContenu"],"mappings":"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"}