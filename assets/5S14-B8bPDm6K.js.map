{"version":3,"file":"5S14-B8bPDm6K.js","sources":["../../src/exercices/5e/5S14.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { listeDeNotes, unMoisDeTemperature } from '../../lib/outils/aleatoires'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { joursParMois } from '../../lib/outils/dateEtHoraires'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { OutilsStats } from '../../modules/outilsStat'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const titre = 'Calculer des moyennes'\n\nexport const dateDeModifImportante = '24/06/2024'\n\n/**\n * Calcul de moyennes de série statistiques\n * @author Jean-Claude Lhote et Guillaume Valmont (Interactif et AMC par EE)\n * 12/01/2023 : Mickael Guironnet Refactoring (remodifié par EE car il n'y avait plus de correction et l'interactif ne fonctionnait plus)\n */\nexport const uuid = 'ab91d'\n\nexport const refs = {\n  'fr-fr': ['5S14', 'BP2AutoD1'],\n  'fr-ch': ['11NO2-4'],\n}\nexport default class CalculerDesMoyennes extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de séries',\n      'Nombres séparés par des tirets :\\n1 : Liste de notes\\n2 : Un mois de températures\\n3 : Pointures de chaussures\\n4 : Mélange',\n    ]\n\n    this.nbQuestions = 1\n\n    this.spacingCorr = 2.5\n\n    this.sup = 1\n  }\n\n  nouvelleVersion() {\n    const typeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: this.nbQuestions,\n    })\n\n    for (\n      let i = 0,\n        reponse,\n        nombreTemperatures,\n        temperatures,\n        texte,\n        texteCorr,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      if (typeDeQuestions[i] === 1) {\n        // ici on trie des notes\n        const nombreNotes = choice([8, 10, 12])\n        const notes = listeDeNotes(nombreNotes, randint(0, 7), randint(13, 20)) // on récupère une liste de notes (série brute)\n        texte = OutilsStats.texteNotes(notes)\n        texte += '<br>Calculer la moyenne des notes.'\n        const [, somme] = OutilsStats.computeMoyenne(notes)\n        texteCorr = OutilsStats.texteCorrMoyenneNotes(notes, somme, nombreNotes)\n        reponse = arrondi(somme / nombreNotes, 1)\n      } else if (typeDeQuestions[i] === 2) {\n        // ici on relève des températures\n        const mois = randint(1, 12)\n        const annee = randint(1980, 2019)\n        const temperaturesDeBase = [3, 5, 9, 13, 19, 24, 26, 25, 23, 18, 10, 5]\n        nombreTemperatures = joursParMois(mois, annee)\n        temperatures = unMoisDeTemperature(\n          temperaturesDeBase[mois - 1],\n          mois,\n          annee,\n        ) // série brute de un mois de température\n        texte = OutilsStats.texteTemperatures(annee, mois, temperatures)\n        texte += '<br>Calculer la moyenne des températures.'\n        const [, somme] = OutilsStats.computeMoyenne(temperatures)\n        texteCorr = OutilsStats.texteCorrMoyenneNotes(\n          temperatures,\n          somme,\n          temperatures.length,\n          'températures',\n        )\n        reponse = arrondi(somme / nombreTemperatures, 1)\n      } else {\n        // pointures des membres du club de foot (moyenne pondérée)\n        const nombreNotes = 5 // 5 colonnes\n        const min = randint(33, 35)\n        const max = randint(min + nombreNotes, min + nombreNotes + 3)\n        const notes = listeDeNotes(nombreNotes, min, max, true).sort() // on récupère une série de notes (pointures) distinctes et ordonnées\n        const effectifs = listeDeNotes(\n          nombreNotes,\n          randint(2, 4),\n          randint(8, 12),\n        ) // on récupère une liste d'effectifs\n        const pointures = Array.from(notes, (x, i) => [x, effectifs[i]])\n        const effectifTotal = pointures.reduce((accumulator, currentValue) => {\n          return accumulator + currentValue[1]\n        }, 0)\n        texte = OutilsStats.texteSalaires(pointures, [], 'pointures')\n        texte += '<br>Calculer la pointure moyenne des membres de ce club.'\n        const [, somme, effectif] =\n          OutilsStats.computeMoyenneTirages2D(pointures)\n        texteCorr = OutilsStats.texteCorrMoyenneNotes(\n          pointures,\n          somme,\n          effectif,\n          'pointures',\n        )\n        reponse = arrondi(somme / effectifTotal, 1)\n      }\n      if (this.interactif) {\n        texte += ' Si besoin, on arrondira au dixième.<br>'\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers)\n        setReponse(this, i, reponse, {\n          digits: 5,\n          digitsNum: 3,\n          digitsDen: 2,\n          signe: true,\n        })\n      }\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte,\n          options: { multicols: true, barreseparation: true }, // facultatif. Par défaut, multicols est à false. Ce paramètre provoque un multicolonnage (sur 2 colonnes par défaut) : pratique quand on met plusieurs AMCNum. !!! Attention, cela ne fonctionne pas, nativement, pour AMCOpen. !!!\n          propositions: [\n            {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: texteCorr,\n                  statut: 3,\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'Résultat (si besoin, on arrondira au dixième.)',\n                    valeur: [reponse],\n                    param: {\n                      signe: false,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        }\n      }\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","dateDeModifImportante","uuid","refs","CalculerDesMoyennes","Exercice","typeDeQuestions","gestionnaireFormulaireTexte","i","reponse","nombreTemperatures","temperatures","texte","texteCorr","cpt","nombreNotes","choice","notes","listeDeNotes","randint","OutilsStats","somme","arrondi","mois","annee","temperaturesDeBase","joursParMois","unMoisDeTemperature","min","max","effectifs","pointures","x","effectifTotal","accumulator","currentValue","effectif","ajouteChampTexteMathLive","KeyboardType","setReponse","context","listeQuestionsToContenu"],"mappings":"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"}