{"version":3,"file":"5A11-2-h6Ig7hLP.js","sources":["../../src/exercices/5e/5A11-2.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  combinaisonListes,\n  combinaisonListesSansChangerOrdre,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { labyrinthe, type LabyrintheChemin } from '../../modules/Labyrinthe'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nexport const dateDePublication = '16/11/2021'\nexport const dateDeModifImportante = '29/10/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre =\n  'Parcourir un labyrinthe de multiples avec critères choisis équilibrés '\n\n/**\n * @author Jean-Claude Lhote (remaniée par EE pour la prise en compte du nb de lignes et de colonnes du labyrinthe)\n * Sortir du labyrinthe en utilisant les critères de divisibilité.\n */\nexport const uuid = '5618d'\n\nexport const refs = {\n  'fr-fr': [''],\n  'fr-ch': ['9NO4-12'],\n}\nexport default class ExerciceLabyrintheDivisibilite2 extends Exercice {\n  niveau: string\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de rapidité',\n      6,\n      '1 : Escargot\\n2 : Tortue\\n3 : Lièvre\\n4 : Antilope\\n5 : Guépard\\n6 : Au hasard',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Nombre de lignes du labyrinthe (entre 2 et 8 ou bien 1 si vous laissez le hasard décider)',\n      8,\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Nombre de colonnes du labyrinthe (entre 2 et 8 ou bien 1 si vous laissez le hasard décider)',\n      8,\n    ]\n\n    this.niveau = '6e'\n    this.nbQuestions = 4\n\n    this.sup = 6\n    this.sup3 = 1\n    this.sup4 = 1\n\n    // this.consigne=`Trouver la sortie en ne passant que par les cases contenant un nombre divisible par $${parseInt(this.sup)}$.`\n  }\n\n  nouvelleVersion() {\n    const tailleChiffre = 0.8\n\n    let texte\n    let texteCorr\n    let monChemin: LabyrintheChemin = []\n    const listeCouples = shuffle([\n      [2, 3],\n      [2, 9],\n      [5, 3],\n      [5, 9],\n      [10, 3],\n      [10, 9],\n    ])\n    let tables = []\n    for (const couple of listeCouples) {\n      tables.push(couple[0], couple[1])\n    }\n    tables = combinaisonListesSansChangerOrdre(tables, this.nbQuestions)\n    for (let q = 0; q < this.nbQuestions; ) {\n      const nbL = this.sup3 === 1 ? randint(2, 8) : Math.max(2, this.sup3)\n      const nbC =\n        this.sup4 === 1 ? randint(3, 11 - nbL) : Math.max(3, this.sup4)\n      const laby = labyrinthe({ nbLignes: nbL, nbColonnes: nbC })\n      laby.niveau = contraindreValeur(1, 6, this.sup, randint(1, 6)) // Le niveau (de 1 à 6=mélange) définit le nombre d'étapes\n      monChemin = laby.choisitChemin(laby.niveau) // On choisit un chemin\n      laby.murs2d = laby.construitMurs(monChemin, tailleChiffre) // On construit le labyrinthe\n      laby.chemin2d = laby.traceChemin(monChemin) // On trace le chemin solution\n      texte = `Trouver la sortie en ne passant que par les cases contenant un nombre divisible par $${tables[q]}$.<br>`\n      // Zone de construction du tableau de nombres : S'ils sont sur monChemin et seulement si, ils doivent vérifier la consigne\n      let listeMultiples = []\n      const listeNonMultiples = []\n      for (let i = 200; i <= 12000; i += randint(1, 100)) {\n        listeMultiples.push(tables[q] * i)\n      }\n      for (let i = 1; i <= nbC * nbL; i++) {\n        listeNonMultiples.push(\n          randint(200, 5000) * tables[q] + randint(1, tables[q] - 1),\n        )\n      }\n      listeMultiples = combinaisonListes(listeMultiples, 12)\n\n      // On place les objets nombres.\n      laby.nombres2d = laby.placeNombres(\n        monChemin,\n        listeMultiples,\n        listeNonMultiples,\n        tailleChiffre,\n      )\n      const params = {\n        xmin: -4,\n        ymin: 0,\n        xmax: 5 + 3 * nbC,\n        ymax: 2 + 3 * nbL,\n        pixelsParCm: 20,\n        scale: 0.7,\n      }\n      texte += mathalea2d(params, laby.murs2d, laby.nombres2d)\n      texte += ajouteChampTexteMathLive(\n        this,\n        2 * q,\n        KeyboardType.clavierNumbers,\n        { texteAvant: 'Indiquer le numéro de la bonne sortie :' },\n      )\n      handleAnswers(this, 2 * q, {\n        reponse: { value: `${nbL - monChemin[monChemin.length - 1][1]}` },\n      })\n      texte += ajouteChampTexteMathLive(\n        this,\n        2 * q + 1,\n        KeyboardType.clavierNumbers,\n        { texteAvant: '<br>Combien de nombres rencontrés avant la sortie ?' },\n      )\n      handleAnswers(this, 2 * q + 1, {\n        reponse: { value: `${laby.chemin2d.length - 1}` },\n      })\n      texteCorr = `Voici le chemin en couleur ($${miseEnEvidence(laby.chemin2d.length - 1)}$ nombres rencontrés avant la sortie) et la sortie est le numéro $${miseEnEvidence(nbL - monChemin[monChemin.length - 1][1])}$.<br>`\n      texteCorr += mathalea2d(\n        params,\n        laby.murs2d,\n        laby.nombres2d,\n        laby.chemin2d,\n      )\n      if (\n        this.questionJamaisPosee(q, listeMultiples[0], listeNonMultiples[0])\n      ) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n\n        q++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","dateDeModifImportante","interactifReady","interactifType","titre","uuid","refs","ExerciceLabyrintheDivisibilite2","Exercice","__publicField","texte","texteCorr","monChemin","listeCouples","shuffle","tables","couple","combinaisonListesSansChangerOrdre","q","nbL","randint","nbC","laby","labyrinthe","contraindreValeur","listeMultiples","listeNonMultiples","i","combinaisonListes","params","mathalea2d","ajouteChampTexteMathLive","KeyboardType","handleAnswers","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}