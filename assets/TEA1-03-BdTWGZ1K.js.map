{"version":3,"file":"TEA1-03-BdTWGZ1K.js","sources":["../../src/exercices/TEx/TEA1-03.ts"],"sourcesContent":["import { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { bleuMathalea } from '../../lib/colors'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre =\n  'Résoudre une équation de congruence du type $ax \\\\equiv b \\\\,[k]$'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '26/11/2025'\nexport const uuid = '87538'\n\nexport const refs = {\n  'fr-fr': ['TEA1-03'],\n  'fr-ch': [],\n}\n/**\n *\n * @author Stéphane Guyon\n\n*/\n// modulo positif\nfunction mod(n: number, k: number): number {\n  return ((n % k) + k) % k\n}\n\n// pgcd\nfunction pgcd(a: number, b: number): number {\n  a = Math.abs(a)\n  b = Math.abs(b)\n  while (b !== 0) {\n    const t = b\n    b = a % b\n    a = t\n  }\n  return a\n}\n\nexport default class ExerciceEquationAxCongruence extends Exercice {\n  constructor() {\n    super()\n    this.consigne = ''\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // k entre 3 et 8\n      const k = randint(3, 8)\n\n      // a dans [-5,5] sans -1,0,1 et pgcd(a,k)=1 pour équation du type ax - b[k]\n      const possibles = [-5, -4, -3, -2, 2, 3, 4, 5]\n      let a: number\n      do a = possibles[randint(0, possibles.length - 1)]\n      while (pgcd(a, k) !== 1)\n\n      // b entre 0 et k−1\n      const b = randint(0, k - 1)\n\n      // inverse de a modulo k\n      const aMod = mod(a, k)\n      let invA = 1\n      for (let t = 1; t < k; t++) {\n        if (mod(aMod * t, k) === 1) {\n          invA = t\n          break\n        }\n      }\n\n      const r = mod(invA * b, k)\n\n      // Construction du tableau (compatible HTML / LaTeX)\n      const entetesColonnes = [\n        `x \\\\equiv \\\\ldots [${k}]`,\n        ...Array.from({ length: k }, (_, n) =>\n          n === r ? miseEnEvidence(n) : `${n}`,\n        ),\n      ]\n      const entetesLignes = [`${a}x \\\\equiv \\\\ldots [${k}]`]\n      const cellules = [\n        ...Array.from({ length: k }, (_, n) => {\n          const valeur = mod(a * n, k)\n          return valeur === b ? miseEnEvidence(valeur, '#2563a5') : `${valeur}`\n        }),\n      ]\n      const style: { [key: string]: string } = {\n        L0C0: '#f4f4f4',\n        LC0: '#f5f5f5',\n      }\n      for (let col = 0; col < k; col++) {\n        style[`L0C${col + 1}`] = '#f4f4f4'\n      }\n      style[`L1C${r + 1}`] = '#fde7dd'\n      const table = tableauColonneLigne(\n        entetesColonnes,\n        entetesLignes,\n        cellules,\n        1.2,\n        true,\n        this.numeroExercice ?? 0,\n        i,\n        this.interactif,\n        style,\n      )\n\n      // Énoncé\n      const texte = `\nRésoudre dans $\\\\mathbb{Z}$ l'équation  :  \n$${a}x \\\\equiv ${b} \\\\,[${k}]$.<br> `\n\n      // Correction\n      let texteCorr = ''\n      texteCorr += `On cherche les entiers $x$ tels que $${a}x \\\\equiv ${b} \\\\,[${k}]$.<br>`\n      texteCorr += `On procède à une disjonction des cas en dressant une table de congruence modulo $${k}$ :<br>`\n      texteCorr += table\n      texteCorr += `<br>On en déduit que $x \\\\equiv ${r} \\\\,[${k}]$.`\n      texteCorr += `<br>On vérifie réciproquement que si $x \\\\equiv ${r} \\\\,[${k}]$ alors $${a}x \\\\equiv ${miseEnEvidence(b)} \\\\,[${k}]$ $.`\n      texteCorr += `<br>L'ensemble des solutions est donc : $${miseEnEvidence(`S=\\\\{  ${r} + ${k}n , n \\\\in \\\\mathbb{Z} \\\\}`, bleuMathalea)}$. `\n\n      if (this.questionJamaisPosee(i, texte)) {\n        // Question affichée + champ interactif\n        this.listeQuestions[i] =\n          texte +\n          ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n            texteAvant: `<br>$x \\\\equiv ~~$`,\n            texteApres: `$~[${k}]$.`,\n          })\n\n        this.listeCorrections[i] = texteCorr\n\n        handleAnswers(this, i, {\n          reponse: { value: `${r}` },\n        })\n\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","mod","n","k","pgcd","a","b","t","ExerciceEquationAxCongruence","Exercice","i","cpt","randint","possibles","aMod","invA","r","entetesColonnes","_","miseEnEvidence","entetesLignes","cellules","valeur","style","col","table","tableauColonneLigne","texte","texteCorr","bleuMathalea","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}