{"version":3,"file":"ExerciceVraiFaux-DIBzPqFO.js","sources":["../../src/exercices/ExerciceVraiFaux.ts"],"sourcesContent":["import { propositionsQcm } from '../lib/interactif/qcm'\nimport { shuffle } from '../lib/outils/arrayOutils'\nimport { texteEnCouleurEtGras } from '../lib/outils/embellissements'\nimport { context } from '../modules/context'\nimport { listeQuestionsToContenu } from '../modules/outils'\nimport Exercice from './Exercice'\n\nexport const titre = 'A trouver'\nexport const dateDePublication = '01/01/2000'\nexport const interactifReady = true\nexport const interactifType = 'qcm'\n\n/**\n * @author Rémi Angot\n * Exercice vrai ou faux\n * Une sélection aléatoire d'affirmations est proposée à l'élève qui doit dire si elles sont vraies ou fausses\n * Ces affirmations sont tirées de this.affirmations\n */\n\ninterface Affirmation {\n  texte: string\n  statut: boolean\n  correction: string\n}\n\nexport default class VraiFaux extends Exercice {\n  affirmations: Affirmation[]\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.consigne = 'Pour chaque affirmation, dire si elle est vraie ou fausse.'\n    this.affirmations = []\n    this.besoinFormulaireCaseACocher = ['Ajout de « Je ne sais pas »', false]\n    this.sup = false\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? 'Dire si cette affirmation est vraie ou fausse.'\n        : 'Pour chaque affirmation, dire si elle est vraie ou fausse.'\n    this.affirmations = shuffle(this.affirmations)\n    this.nbQuestions = Math.min(this.affirmations.length, this.nbQuestions)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = this.affirmations[i].texte\n      const propositions = [\n        {\n          texte: 'Vrai',\n          statut: this.affirmations[i].statut,\n        },\n        {\n          texte: 'Faux',\n          statut: !this.affirmations[i].statut,\n        },\n      ]\n      if (this.sup) {\n        propositions.push({\n          texte: 'Je ne sais pas',\n          statut: false,\n        })\n      }\n      this.autoCorrection[i] = {\n        options: { ordered: true, vertical: false, radio: true },\n        enonce: texte,\n        propositions,\n      }\n      const monQcm = propositionsQcm(this, i)\n      if (!context.isAmc && this.interactif) {\n        texte += monQcm.texte\n      }\n      let correction = `L'affirmation est ${texteEnCouleurEtGras(this.affirmations[i].statut ? 'vraie' : 'fausse')}.<br>`\n      correction += this.affirmations[i].correction\n\n      if (this.questionJamaisPosee(i, this.affirmations[i].texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = correction\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["VraiFaux","Exercice","__publicField","shuffle","i","cpt","texte","propositions","monQcm","propositionsQcm","context","correction","texteEnCouleurEtGras","listeQuestionsToContenu"],"mappings":"gPAyBA,MAAqBA,UAAiBC,CAAS,CAE7C,aAAc,CACZ,MAAA,EAFFC,EAAA,qBAGE,KAAK,YAAc,EACnB,KAAK,SAAW,6DAChB,KAAK,aAAe,CAAA,EACpB,KAAK,4BAA8B,CAAC,8BAA+B,EAAK,EACxE,KAAK,IAAM,EACb,CAEA,iBAAkB,CAChB,KAAK,SACH,KAAK,cAAgB,EACjB,iDACA,6DACN,KAAK,aAAeC,EAAQ,KAAK,YAAY,EAC7C,KAAK,YAAc,KAAK,IAAI,KAAK,aAAa,OAAQ,KAAK,WAAW,EACtE,QAASC,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,IAAIC,EAAQ,KAAK,aAAaF,CAAC,EAAE,MACjC,MAAMG,EAAe,CACnB,CACE,MAAO,OACP,OAAQ,KAAK,aAAaH,CAAC,EAAE,MAAA,EAE/B,CACE,MAAO,OACP,OAAQ,CAAC,KAAK,aAAaA,CAAC,EAAE,MAAA,CAChC,EAEE,KAAK,KACPG,EAAa,KAAK,CAChB,MAAO,iBACP,OAAQ,EAAA,CACT,EAEH,KAAK,eAAeH,CAAC,EAAI,CACvB,QAAS,CAAE,QAAS,GAAM,SAAU,GAAO,MAAO,EAAA,EAClD,OAAQE,EACR,aAAAC,CAAA,EAEF,MAAMC,EAASC,EAAgB,KAAML,CAAC,EAClC,CAACM,EAAQ,OAAS,KAAK,aACzBJ,GAASE,EAAO,OAElB,IAAIG,EAAa,qBAAqBC,EAAqB,KAAK,aAAaR,CAAC,EAAE,OAAS,QAAU,QAAQ,CAAC,QAC5GO,GAAc,KAAK,aAAaP,CAAC,EAAE,WAE/B,KAAK,oBAAoBA,EAAG,KAAK,aAAaA,CAAC,EAAE,KAAK,IACxD,KAAK,eAAeA,CAAC,EAAIE,EACzB,KAAK,iBAAiBF,CAAC,EAAIO,EAC3BP,KAEFC,GACF,CACAQ,EAAwB,IAAI,CAC9B,CACF"}