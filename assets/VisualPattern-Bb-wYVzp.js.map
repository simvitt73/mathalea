{"version":3,"file":"VisualPattern-Bb-wYVzp.js","sources":["../../src/lib/2d/figures2d/listeEmojis.ts","../../src/lib/2d/patterns/VisualPattern.ts"],"sourcesContent":["type EmojiInfos = {\n  unicode: string\n  nomPluriel: string\n  nomSingulier: string\n  articlePluriel: string\n  articleSingulier: string\n  articleCourt: string\n}\nexport const listeEmojisInfos: Record<string, EmojiInfos> = {\n  smiley: {\n    unicode: '1f603',\n    nomPluriel: 'smileys',\n    nomSingulier: 'smiley',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  heart: {\n    unicode: '2764',\n    nomPluriel: 'cœurs',\n    nomSingulier: 'cœur',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  thumbsUp: {\n    unicode: '1f44d',\n    nomPluriel: 'pouces levés',\n    nomSingulier: 'pouce levé',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  étoile: {\n    unicode: '2b50',\n    nomPluriel: 'étoiles',\n    nomSingulier: 'étoile',\n    articlePluriel: 'les',\n    articleSingulier: \"l'\",\n    articleCourt: \"d'\",\n  },\n  pizza: {\n    unicode: '1f355',\n    nomPluriel: 'pizzas',\n    nomSingulier: 'pizza',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  beer: {\n    unicode: '1f37a',\n    nomPluriel: 'bières',\n    nomSingulier: 'bière',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  licorne: {\n    unicode: '1f984',\n    nomPluriel: 'licornes',\n    nomSingulier: 'licorne',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  chien: {\n    unicode: '1f436',\n    nomPluriel: 'chiens',\n    nomSingulier: 'chien',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  chat: {\n    unicode: '1f431',\n    nomPluriel: 'chats',\n    nomSingulier: 'chat',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  souris: {\n    unicode: '1f42d',\n    nomPluriel: 'souris',\n    nomSingulier: 'souris',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  tortue: {\n    unicode: '1f422',\n    nomPluriel: 'tortues',\n    nomSingulier: 'tortue',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  pieuvre: {\n    unicode: '1f419',\n    nomPluriel: 'pieuvres',\n    nomSingulier: 'pieuvre',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  poisson: {\n    unicode: '1f41f',\n    nomPluriel: 'poissons',\n    nomSingulier: 'poisson',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  papillon: {\n    unicode: '1f98b',\n    nomPluriel: 'papillons',\n    nomSingulier: 'papillon',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  fantome: {\n    unicode: '1f47b',\n    nomPluriel: 'fantômes',\n    nomSingulier: 'fantôme',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  dragon: {\n    unicode: '1f409',\n    nomPluriel: 'dragons',\n    nomSingulier: 'dragon',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  feu: {\n    unicode: '1f525',\n    nomPluriel: 'feux',\n    nomSingulier: 'feu',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  fleur: {\n    unicode: '1f33c',\n    nomPluriel: 'fleurs',\n    nomSingulier: 'fleur',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  etoileBrillante: {\n    unicode: '1f31f',\n    nomPluriel: 'étoiles brillantes',\n    nomSingulier: 'étoile brillante',\n    articlePluriel: 'les',\n    articleSingulier: \"l'\",\n    articleCourt: \"d'\",\n  },\n  cloche: {\n    unicode: '1f514',\n    nomPluriel: 'cloches',\n    nomSingulier: 'cloche',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  crotte: {\n    unicode: '1f4a9',\n    nomPluriel: 'crottes',\n    nomSingulier: 'crotte',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  fusee: {\n    unicode: '1f680',\n    nomPluriel: 'fusées',\n    nomSingulier: 'fusée',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  drapeauDamier: {\n    unicode: '1f3c1',\n    nomPluriel: 'drapeaux damiers',\n    nomSingulier: 'drapeau damier',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  arcEnCiel: {\n    unicode: '1f308',\n    nomPluriel: 'arcs-en-ciel',\n    nomSingulier: 'arc-en-ciel',\n    articlePluriel: 'les',\n    articleSingulier: \"l'\",\n    articleCourt: \"d'\",\n  },\n  soleil: {\n    unicode: '2600',\n    nomPluriel: 'soleils',\n    nomSingulier: 'soleil',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  lune: {\n    unicode: '1f319',\n    nomPluriel: 'lunes',\n    nomSingulier: 'lune',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  nuage: {\n    unicode: '2601',\n    nomPluriel: 'nuages',\n    nomSingulier: 'nuage',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  cerise: {\n    unicode: '1f352',\n    nomPluriel: 'cerises',\n    nomSingulier: 'cerise',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  pomme: {\n    unicode: '1f34e',\n    nomPluriel: 'pommes',\n    nomSingulier: 'pomme',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  biere: {\n    unicode: '1f37a',\n    nomPluriel: 'bières',\n    nomSingulier: 'bière',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  pingouin: {\n    unicode: '1f427',\n    nomPluriel: 'pingouins',\n    nomSingulier: 'pingouin',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  banane: {\n    unicode: '1f34c',\n    nomPluriel: 'bananes',\n    nomSingulier: 'banane',\n    articlePluriel: 'les',\n    articleSingulier: 'la',\n    articleCourt: 'de',\n  },\n  fraise: {\n    unicode: '1f353',\n    nomPluriel: 'fraises',\n    nomSingulier: 'fraise',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  raisin: {\n    unicode: '1f347',\n    nomPluriel: 'raisins',\n    nomSingulier: 'raisin',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  pasteque: {\n    unicode: '1f349',\n    nomPluriel: 'pastèques',\n    nomSingulier: 'pastèque',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  melon: {\n    unicode: '1f348',\n    nomPluriel: 'melons',\n    nomSingulier: 'melon',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  orange: {\n    unicode: '1f34a',\n    nomPluriel: 'oranges',\n    nomSingulier: 'orange',\n    articlePluriel: 'les',\n    articleSingulier: \"l'\",\n    articleCourt: \"d'\",\n  },\n  citron: {\n    unicode: '1f34b',\n    nomPluriel: 'citrons',\n    nomSingulier: 'citron',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  peche: {\n    unicode: '1f351',\n    nomPluriel: 'pêches',\n    nomSingulier: 'pêche',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  poire: {\n    unicode: '1f350',\n    nomPluriel: 'poires',\n    nomSingulier: 'poire',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  ananas: {\n    unicode: '1f34d',\n    nomPluriel: 'ananas',\n    nomSingulier: 'ananas',\n    articlePluriel: 'les',\n    articleSingulier: \"l'\",\n    articleCourt: \"d'\",\n  },\n  kiwi: {\n    unicode: '1f95d',\n    nomPluriel: 'kiwis',\n    nomSingulier: 'kiwi',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n  mangue: {\n    unicode: '1f96d',\n    nomPluriel: 'mangues',\n    nomSingulier: 'mangue',\n    articlePluriel: 'les',\n    articleSingulier: 'une',\n    articleCourt: 'de',\n  },\n  explosion: {\n    unicode: '1f4a5',\n    nomPluriel: 'explosions',\n    nomSingulier: 'explosion',\n    articlePluriel: 'les',\n    articleSingulier: \"l'\",\n    articleCourt: \"d'\",\n  },\n  cadeau: {\n    unicode: '1f381',\n    nomPluriel: 'cadeaux',\n    nomSingulier: 'cadeau',\n    articlePluriel: 'les',\n    articleSingulier: 'un',\n    articleCourt: 'de',\n  },\n}\n","import type { NestedObjetMathalea2dArray } from '../../../types/2d'\nimport type { Shape2D } from '../Figures2D'\nimport { listeEmojisInfos } from '../figures2d/listeEmojis'\nimport {\n  listeShapes2DInfos,\n  type ShapeInfos,\n  type ShapeName,\n} from '../figures2d/shapes2d'\n\ntype CellsOptions = {\n  scale?: number // échelle de la forme\n  rotate?: number // angle de rotation de la forme\n  translate?: [number, number] // translation de la forme\n}\ntype Coord = [number, number, ShapeName?, CellsOptions?] // Coordonnées sous forme de tableau de deux nombres, avec un troisième élément optionnel pour la forme à y mettre\n/**\n * @author Jean-Claude Lhote\n *\n */\n\nexport class VisualPattern {\n  shapes: ShapeName[] // forme par défaut, utilisée pour les cellules sans forme spécifique\n  cells: Set<string> // ce sont des coordonnées sous forme de chaîne de caractères \"x,y\" car les ensembles ne peuvent pas contenir d'objets complexes comme des tableaux\n  // on utilise un ensemble pour stocker les cellules, ce qui permet d'éviter les doublons et de faciliter la vérification de la présence d'une cellule\n  // et la conversion en chaîne de caractères permet de les stocker efficacement dans un ensemble\n\n  constructor(\n    initialCells: Coord[] | string[] | Set<string>,\n    shapes?: ShapeName[],\n  ) {\n    if (initialCells instanceof Set) {\n      // si initialCells est déjà un Set, on l'utilise directement\n      this.cells = initialCells\n    } else if (Array.isArray(initialCells)) {\n      if (typeof initialCells[0] === 'string') {\n        // si initialCells est déjà un tableau de chaînes de caractères, on le convertit en Set directement\n        this.cells = new Set(initialCells as string[])\n      } else if (Array.isArray(initialCells[0]) && initialCells[0].length > 2) {\n        // si initialCells est un tableau de coordonnées, on les convertit en chaînes de caractères\n        // en utilisant la méthode coordToKey\n        this.cells = new Set(\n          (initialCells as Coord[]).map(VisualPattern.coordToKey),\n        )\n      } else if (initialCells.length === 0) {\n        this.cells = new Set()\n      } else {\n        throw new Error(\n          'initialCells must be an array of coordinates or strings',\n        )\n      }\n      // on initialise l'ensemble des cellules avec les coordonnées initiales\n    } else {\n      throw new Error(\n        'initialCells must be a Set, an array of coordinates or an array of strings',\n      )\n    }\n    if (\n      shapes == null ||\n      shapes.length === 0 ||\n      !(\n        Object.keys(listeShapes2DInfos).includes(shapes[0]) ||\n        Object.keys(listeEmojisInfos).includes(shapes[0])\n      )\n    ) {\n      this.shapes = ['carré']\n    } else {\n      this.shapes = []\n\n      for (const shape of shapes) {\n        if (\n          !Object.keys(listeShapes2DInfos).includes(shape) &&\n          !Object.keys(listeEmojisInfos).includes(shape)\n        ) {\n          throw new Error(\n            `VisualPattern: la forme ${shape} n'existe pas dans la liste des formes`,\n          )\n        }\n        this.shapes.push(shape)\n      }\n\n      if (this.shapes.length === 0) {\n        throw new Error(\n          \"VisualPattern: aucune forme demandée n'existe pas dans la liste des formes\",\n        )\n      }\n    }\n  }\n\n  hasCell(\n    x: number,\n    y: number,\n    shape: ShapeName,\n    options: CellsOptions,\n  ): boolean {\n    return this.cells.has(VisualPattern.coordToKey([x, y, shape, options]))\n  }\n\n  iterate(this: VisualPattern, n?: number): Set<string> {\n    return this.cells // cette méthode doit être modifiée pour créer un motif changeant.\n  }\n\n  static coordToKey(coord: Coord): string {\n    let shape: string\n    let options:\n      | { scale?: number; rotate?: number; translate?: [number, number] }\n      | undefined = {} // on initialise les options à undefined\n    if (coord.length === 2)\n      shape = 'carré' // si la forme n'est pas précisée, on utilise 'carré' par défaut\n    else shape = coord[2] ?? 'carré' // sinon on utilise la forme spécifiée\n    if (coord.length === 4) {\n      options = coord[3] ?? {} // si les options ne sont pas spécifiées, on utilise un objet vide\n    }\n    return `${coord[0]};${coord[1]};${shape};${JSON.stringify(options)}` // on utilise une chaîne de caractères pour représenter les coordonnées\n  }\n\n  static keyToCoord(key: string): Coord {\n    const [x, y, shape, options] = key.split(';')\n    const coordOptions = options ? JSON.parse(options) : {}\n    return [Number(x), Number(y), (shape ?? 'carré') as ShapeName, coordOptions] // on utilise le type ShapeName pour le troisième élément\n  }\n\n  render(n: number, dx: number, dy: number): NestedObjetMathalea2dArray {\n    let cells: Set<string> = this.cells\n    const newPattern = new VisualPattern(cells, this.shapes)\n    newPattern.iterate = this.iterate.bind(newPattern)\n    cells = newPattern.iterate(n)\n    if (cells.size === 0) {\n      return []\n    }\n    if (cells.size > 1000) {\n      console.warn(\n        \"PatternNumerique: le motif contient plus de 1000 cellules, l'affichage peut être long\",\n      )\n    }\n    if (cells.size > 10000) {\n      console.warn(\n        \"PatternNumerique: le motif contient plus de 10000 cellules, l'affichage peut être très long\",\n      )\n    }\n    if (cells.size > 100000) {\n      console.warn(\n        \"PatternNumerique: le motif contient plus de 100000 cellules, l'affichage peut être très très long\",\n      )\n    }\n    const objets: (Shape2D | undefined)[] = []\n    for (const cell of cells) {\n      const [x, y, shape, options] = VisualPattern.keyToCoord(cell)\n      /*  if (x < 0 || y < 0) {\n        throw new Error('PatternNumerique: les coordonnées doivent être positives')\n      }\n        */\n      const isEmoji = 'unicode' in listeShapes2DInfos[shape ?? '']\n      const isInListeShapes = 'shape2D' in listeShapes2DInfos[shape ?? '']\n      if (!isEmoji && !isInListeShapes) {\n        throw new Error(\n          `PatternNumerique: la forme ${shape} n'existe pas dans la liste des formes`,\n        )\n      }\n\n      const shape2d = isInListeShapes\n        ? (listeShapes2DInfos[shape ?? 'carré'] as ShapeInfos).shape2D\n        : isEmoji\n          ? listeShapes2DInfos[shape ?? 'soleil'].shapeDef\n          : (listeShapes2DInfos['carré'] as ShapeInfos).shape2D\n\n      if (!shape2d) {\n        throw new Error(`PatternNumerique: la forme ${shape} n'existe pas`)\n      }\n      const newShape = (shape2d as Shape2D).clone()\n      const scale = options?.scale ?? 1 // on utilise l'échelle spécifiée ou 1 par défaut\n      newShape.angle = options?.rotate ?? 0 // on utilise l'angle de rotation spécifié ou 0 par défaut\n      const translate = options?.translate ?? [0, 0] // on utilise la translation\n      newShape.y = y + dy + translate[1]\n      newShape.x = x + dx + translate[0]\n      newShape.scale = { x: scale, y: scale }\n\n      newShape.updateBordures()\n      objets.push(newShape)\n    }\n    if (objets.some((obj) => obj === undefined || !obj.tikz || !obj.svg)) {\n      throw new Error(\n        `PatternNumerique: un des objets est indéfini, vérifiez les formes utilisées dans le motif : ${this.print()}`,\n      )\n    }\n    return objets.filter((obj): obj is Shape2D => obj !== undefined)\n  }\n\n  print(): string {\n    return Array.from(this.cells).join(';')\n  }\n}\n"],"names":["listeEmojisInfos","VisualPattern","initialCells","shapes","__publicField","listeShapes2DInfos","shape","x","y","options","n","coord","key","coordOptions","dx","dy","cells","newPattern","objets","cell","isEmoji","isInListeShapes","shape2d","newShape","scale","translate","obj"],"mappings":"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"}