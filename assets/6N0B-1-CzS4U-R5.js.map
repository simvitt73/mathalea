{"version":3,"file":"6N0B-1-CzS4U-R5.js","sources":["../../src/exercices/6e/6N0B-1.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport choisirExpressionNumerique from '../5e/_choisirExpressionNumerique'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Traduire des phrases en calculs et réciproquement'\nexport const dateDeModifImportante = '30/06/2024' // Ajout de l'interactivité par Jean-Claude Lhote\nexport const interactifReady = true\nexport const interactifType = ['qcm', 'mathLive']\n\n/**\n * Mettre en relation un calcul, une traduction en français, une expression, un résultat, pour les décliner dans différents exercices.\n * Exercice sur le vocabulaire : somme,différence, produit, quotient...\n * @author Jean-Claude Lhote\n * Relecture : Novembre 2021 par EE\n */\nexport const uuid = 'ed0ea'\n\nexport const refs = {\n  'fr-fr': ['6N0B-1'],\n  'fr-2016': ['6C13'],\n  'fr-ch': ['9FA2-1'],\n}\nexport default class VocabulaireEtOperations extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de questions',\n      'Nombres séparés par des tirets :\\n1 : Phrase -> Calcul\\n2 : Calcul -> Phrase\\n3 : Phrase -> Calcul + résultat\\n4 : Mélange',\n    ]\n    this.besoinFormulaire3Texte = [\n      'Opérations',\n      '1 : Somme\\n2 : Différence\\n3 : Produit\\n4 : Quotient\\n5 : Mélange',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Décimaux', false]\n    this.nbQuestions = 5\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.sup = 4\n    this.sup2 = false\n    this.sup3 = '5'\n    this.spacing = 2\n    this.listeAvecNumerotation = false\n  }\n\n  nouvelleVersion() {\n    let decimal\n    let expf, expn, expc, resultats\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      max: 3,\n      defaut: 4,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n    })\n    const sousCas = gestionnaireFormulaireTexte({\n      saisie: this.sup3,\n      min: 1,\n      max: 4,\n      defaut: 5,\n      melange: 5,\n      nbQuestions: this.nbQuestions,\n    }).map((el) => Number(el) - 1)\n    if (this.sup2) decimal = 10 ** randint(1, 2)\n    else decimal = 1\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte: string = ''\n      let texteCorr: string = ''\n      resultats = choisirExpressionNumerique(1, decimal, true, true, sousCas[i])\n      expf = resultats[0]\n      expn = resultats[1]\n      expc = resultats[2]\n      const lesNombres = String(expn).match(/(\\d+{*,*}*\\d*)/g)\n      const [nb1, nb2] = lesNombres != null ? lesNombres : [NaN, NaN] // parce qu'il faut bien mettre quelque chose\n      const operationPresente = String(expn).match(/(\\+|-|\\\\div|\\\\times)/g)\n      const operation =\n        operationPresente != null ? operationPresente[0] : 'undefined'\n      const resultString = String(expc).split('= ')[1]\n      const resultat = resultString.replace('$', '') // pour enlever le $\n      const laBonneParole = String(expf).match(/([a-zA-Zéè]+)/g)\n      const motCle =\n        laBonneParole != null && laBonneParole[1] != null\n          ? laBonneParole[1]\n          : 'undefined' // Pour traquer les erreurs\n      const phrases = [\n        'La somme de § et de £',\n        'La différence entre § et £',\n        'Le produit de § par £',\n        'Le quotient de § par £',\n      ].map((el) => el.replace('§', `$${nb1}$`).replace('£', `$${nb2}$`))\n      const calculs = ['$§+£$', '$§-£$', '$§\\\\times £$', '$§\\\\div £$'].map(\n        (el) => el.replace('§', `$${nb1}$`).replace('£', `$${nb2}$`),\n      )\n      texte = ''\n      texteCorr = ''\n      let propsQcm\n      let monQcm\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // proposer le calcul\n          texte +=\n            numAlpha(i) +\n            (this.interactif\n              ? 'Choisir le bon calcul pour calculer '\n              : \"Traduire la phrase par un calcul (il n'est pas demandé d'effectuer ce calcul) : \")\n          expf = 'l' + String(expf).substring(1)\n          texte += `${expf}.`\n          expf = 'L' + String(expf).substring(1)\n          texteCorr += numAlpha(i) + `${expf} s'écrit ${expn}.`\n          propsQcm = {\n            enonce: texte,\n            propositions: [\n              {\n                texte: calculs[0],\n                statut: calculs[0].includes(operation),\n              },\n              {\n                texte: calculs[1],\n                statut: calculs[1].includes(operation),\n              },\n              {\n                texte: calculs[2],\n                statut: calculs[2].includes(operation),\n              },\n              {\n                texte: calculs[3],\n                statut: calculs[3].includes(operation),\n              },\n            ],\n            options: {\n              ordered: false,\n            },\n          }\n          this.autoCorrection[i] = propsQcm\n          monQcm = propositionsQcm(this, i)\n          texte += this.interactif ? monQcm.texte : ''\n          break\n        case 2: // proposer une expression en français\n          if (String(expn).indexOf('ou') > 0) {\n            expn = String(expn).substring(0, String(expn).indexOf('ou'))\n          } // on supprime la deuxième expression fractionnaire\n          texte +=\n            numAlpha(i) +\n            (this.interactif\n              ? 'Choisir la bonne expression pour traduire '\n              : 'Traduire le calcul par une phrase en français : ')\n          texte += `${expn}.`\n          expf = 'l' + String(expf).substring(1)\n          texteCorr += numAlpha(i) + `${expn} est ${expf}.`\n          propsQcm = {\n            enonce: texte,\n            propositions: [\n              {\n                texte: phrases[0],\n                statut: phrases[0].includes(motCle),\n              },\n              {\n                texte: phrases[1],\n                statut: phrases[1].includes(motCle),\n              },\n              {\n                texte: phrases[2],\n                statut: phrases[2].includes(motCle),\n              },\n              {\n                texte: phrases[3],\n                statut: phrases[3].includes(motCle),\n              },\n            ],\n            options: {\n              ordered: false,\n            },\n          }\n          this.autoCorrection[i] = propsQcm\n          monQcm = propositionsQcm(this, i)\n          texte += this.interactif ? monQcm.texte : ''\n          break\n        case 3: // proposer un résultat\n          texte +=\n            numAlpha(i) +\n            (this.interactif\n              ? 'Donner le résultat de : '\n              : 'Traduire la phrase par un calcul et effectuer ce calcul : ')\n          expf = 'l' + String(expf).substring(1)\n          texte += `${expf}.`\n          if (this.interactif) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n            )\n            handleAnswers(this, i, { reponse: { value: resultat } })\n          }\n          expf = 'L' + String(expf).substring(1)\n          texteCorr += numAlpha(i) + `${expf} s'écrit ${expn}.<br>`\n          texteCorr += `${expc}`\n          break\n      }\n      // texte += this.nbQuestions - 1 === i ? '<br>' : ''\n      if (this.questionJamaisPosee(i, expn)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","dateDeModifImportante","interactifReady","interactifType","uuid","refs","VocabulaireEtOperations","Exercice","decimal","expf","expn","expc","resultats","listeTypeDeQuestions","gestionnaireFormulaireTexte","sousCas","el","randint","i","cpt","texte","texteCorr","choisirExpressionNumerique","lesNombres","nb1","nb2","operationPresente","operation","resultat","laBonneParole","motCle","phrases","calculs","propsQcm","monQcm","numAlpha","propositionsQcm","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenuSansNumero"],"mappings":"sqFAaO,MAAMA,GAAQ,oDACRC,GAAwB,aACxBC,GAAkB,GAClBC,GAAiB,CAAC,MAAO,UAAU,EAQnCC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,QAAQ,EAClB,UAAW,CAAC,MAAM,EAClB,QAAS,CAAC,QAAQ,CACpB,EACA,MAAqBC,WAAgCC,CAAS,CAC5D,aAAc,CACZ,MAAA,EACA,KAAK,sBAAwB,CAC3B,oBACA;AAAA;AAAA;AAAA;AAAA,YAAA,EAEF,KAAK,uBAAyB,CAC5B,aACA;AAAA;AAAA;AAAA;AAAA,YAAA,EAEF,KAAK,6BAA+B,CAAC,WAAY,EAAK,EACtD,KAAK,YAAc,EACnB,KAAK,OAAS,EACd,KAAK,WAAa,EAClB,KAAK,IAAM,EACX,KAAK,KAAO,GACZ,KAAK,KAAO,IACZ,KAAK,QAAU,EACf,KAAK,sBAAwB,EAC/B,CAEA,iBAAkB,CAChB,IAAIC,EACAC,EAAMC,EAAMC,EAAMC,EACtB,MAAMC,EAAuBC,EAA4B,CACvD,OAAQ,KAAK,IACb,IAAK,EACL,OAAQ,EACR,QAAS,EACT,YAAa,KAAK,WAAA,CACnB,EACKC,EAAUD,EAA4B,CAC1C,OAAQ,KAAK,KACb,IAAK,EACL,IAAK,EACL,OAAQ,EACR,QAAS,EACT,YAAa,KAAK,WAAA,CACnB,EAAE,IAAKE,GAAO,OAAOA,CAAE,EAAI,CAAC,EACzB,KAAK,KAAMR,EAAU,IAAMS,EAAQ,EAAG,CAAC,EACtCT,EAAU,EAEf,QAASU,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,IAAIC,EAAgB,GAChBC,EAAoB,GACxBT,EAAYU,EAA2B,EAAGd,EAAS,GAAM,GAAMO,EAAQG,CAAC,CAAC,EACzET,EAAOG,EAAU,CAAC,EAClBF,EAAOE,EAAU,CAAC,EAClBD,EAAOC,EAAU,CAAC,EAClB,MAAMW,EAAa,OAAOb,CAAI,EAAE,MAAM,iBAAiB,EACjD,CAACc,EAAKC,CAAG,EAAIF,GAAkC,CAAC,IAAK,GAAG,EACxDG,EAAoB,OAAOhB,CAAI,EAAE,MAAM,uBAAuB,EAC9DiB,EACJD,GAAqB,KAAOA,EAAkB,CAAC,EAAI,YAE/CE,EADe,OAAOjB,CAAI,EAAE,MAAM,IAAI,EAAE,CAAC,EACjB,QAAQ,IAAK,EAAE,EACvCkB,EAAgB,OAAOpB,CAAI,EAAE,MAAM,gBAAgB,EACnDqB,EACJD,GAAiB,MAAQA,EAAc,CAAC,GAAK,KACzCA,EAAc,CAAC,EACf,YACAE,EAAU,CACd,wBACA,6BACA,wBACA,wBAAA,EACA,IAAKf,GAAOA,EAAG,QAAQ,IAAK,IAAIQ,CAAG,GAAG,EAAE,QAAQ,IAAK,IAAIC,CAAG,GAAG,CAAC,EAC5DO,EAAU,CAAC,QAAS,QAAS,eAAgB,YAAY,EAAE,IAC9DhB,GAAOA,EAAG,QAAQ,IAAK,IAAIQ,CAAG,GAAG,EAAE,QAAQ,IAAK,IAAIC,CAAG,GAAG,CAAA,EAE7DL,EAAQ,GACRC,EAAY,GACZ,IAAIY,EACAC,EACJ,OAAQrB,EAAqBK,CAAC,EAAA,CAC5B,IAAK,GACHE,GACEe,EAASjB,CAAC,GACT,KAAK,WACF,uCACA,oFACNT,EAAO,IAAM,OAAOA,CAAI,EAAE,UAAU,CAAC,EACrCW,GAAS,GAAGX,CAAI,IAChBA,EAAO,IAAM,OAAOA,CAAI,EAAE,UAAU,CAAC,EACrCY,GAAac,EAASjB,CAAC,EAAI,GAAGT,CAAI,YAAYC,CAAI,IAClDuB,EAAW,CACT,OAAQb,EACR,aAAc,CACZ,CACE,MAAOY,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASL,CAAS,CAAA,EAEvC,CACE,MAAOK,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASL,CAAS,CAAA,EAEvC,CACE,MAAOK,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASL,CAAS,CAAA,EAEvC,CACE,MAAOK,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASL,CAAS,CAAA,CACvC,EAEF,QAAS,CACP,QAAS,EAAA,CACX,EAEF,KAAK,eAAeT,CAAC,EAAIe,EACzBC,EAASE,EAAgB,KAAMlB,CAAC,EAChCE,GAAS,KAAK,WAAac,EAAO,MAAQ,GAC1C,MACF,IAAK,GACC,OAAOxB,CAAI,EAAE,QAAQ,IAAI,EAAI,IAC/BA,EAAO,OAAOA,CAAI,EAAE,UAAU,EAAG,OAAOA,CAAI,EAAE,QAAQ,IAAI,CAAC,GAE7DU,GACEe,EAASjB,CAAC,GACT,KAAK,WACF,6CACA,oDACNE,GAAS,GAAGV,CAAI,IAChBD,EAAO,IAAM,OAAOA,CAAI,EAAE,UAAU,CAAC,EACrCY,GAAac,EAASjB,CAAC,EAAI,GAAGR,CAAI,QAAQD,CAAI,IAC9CwB,EAAW,CACT,OAAQb,EACR,aAAc,CACZ,CACE,MAAOW,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASD,CAAM,CAAA,EAEpC,CACE,MAAOC,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASD,CAAM,CAAA,EAEpC,CACE,MAAOC,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASD,CAAM,CAAA,EAEpC,CACE,MAAOC,EAAQ,CAAC,EAChB,OAAQA,EAAQ,CAAC,EAAE,SAASD,CAAM,CAAA,CACpC,EAEF,QAAS,CACP,QAAS,EAAA,CACX,EAEF,KAAK,eAAeZ,CAAC,EAAIe,EACzBC,EAASE,EAAgB,KAAMlB,CAAC,EAChCE,GAAS,KAAK,WAAac,EAAO,MAAQ,GAC1C,MACF,IAAK,GACHd,GACEe,EAASjB,CAAC,GACT,KAAK,WACF,2BACA,8DACNT,EAAO,IAAM,OAAOA,CAAI,EAAE,UAAU,CAAC,EACrCW,GAAS,GAAGX,CAAI,IACZ,KAAK,aACPW,GAASiB,EACP,KACAnB,EACAoB,EAAa,cAAA,EAEfC,EAAc,KAAMrB,EAAG,CAAE,QAAS,CAAE,MAAOU,CAAA,EAAY,GAEzDnB,EAAO,IAAM,OAAOA,CAAI,EAAE,UAAU,CAAC,EACrCY,GAAac,EAASjB,CAAC,EAAI,GAAGT,CAAI,YAAYC,CAAI,QAClDW,GAAa,GAAGV,CAAI,GACpB,KAAA,CAGA,KAAK,oBAAoBO,EAAGR,CAAI,IAElC,KAAK,eAAeQ,CAAC,EAAIE,EACzB,KAAK,iBAAiBF,CAAC,EAAIG,EAC3BH,KAEFC,GACF,CACAqB,EAAkC,IAAI,CACxC,CACF"}