{"version":3,"file":"can3F13-DHIfo-Pe.js","sources":["../../src/exercices/can/3e/can3F13.ts"],"sourcesContent":["import { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { ecritureAlgebrique } from '../../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre = \"Calculer l'image d'une fraction par une fonction affine\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '23/07/2025'\n/**\n * @author Gilles Mora + ia (claude)\n  *\n\n*/\nexport const uuid = 'adb5c'\n\nexport const refs = {\n  'fr-fr': ['can3F13'],\n  'fr-ch': [],\n}\nexport default class CalculImageParFonctionAffineFraction extends ExerciceSimple {\n  constructor() {\n    super()\n   this.optionsDeComparaison = { fractionEgale: true }\n    this.nbQuestions = 1\n    this.versionQcmDisponible = true\n    this.typeExercice = 'simple'\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n    this.optionsChampTexte = { texteAvant: '<br> ' }\n  }\n\n  nouvelleVersion() {\n    // Coefficient directeur a (entier non nul)\n    const a = randint(-6, 6, [0])\n\n    // Ordonnée à l'origine b (entier)\n    const b = randint(-8, 8, 0)\n\n    // Nom de la fonction\n    const nomF = choice(['f', 'g', 'h', 'u', 'v', 'w', 'p', 'm', 't', 'k'])\n\n    // Choix de la fraction x parmi les fractions simples\n    const fractionsSimples = [\n      [1, 3],\n      [2, 3],\n      [3, 4],\n      [1, 4],\n      [2, 5],\n      [3, 5],\n      [4, 5],\n      [5, 4],\n      [5, 3],\n      [4, 3],\n      [3, 2],\n      [5, 2],\n      [7, 3],\n      [7, 4],\n      [1, 7],\n    ]\n\n    const [num, den] = choice(fractionsSimples)\n    const signe = choice([-1, 1])\n\n    // Création de la fraction x\n    const fractionX = new FractionEtendue(signe * num, den)\n\n    // Calcul du résultat : f(x) = ax + b\n    // f(fractionX) = a * fractionX + b\n    const aFoisX = new FractionEtendue(a * signe * num, den)\n    const resultat = aFoisX.ajouteEntier(b)\n\n    // Construction de la question\n    this.question = `Soit $${nomF}$ la fonction définie par : $${nomF}(x)=${a === 1 ? '' : a === -1 ? '-' : a}x${ecritureAlgebrique(b)}$.<br>`\n\n    if (this.versionQcm) {\n      this.question += `L'image de $${fractionX.texFractionSimplifiee}$ par la fonction $${nomF}$ est :`\n    } else {\n      this.question += `Quelle est l'image de $${fractionX.texFractionSimplifiee}$ par la fonction $${nomF}$ ?`\n    }\n\n    // Construction de la correction\n    this.correction = `Comme $${nomF}(x)=${a === 1 ? '' : a === -1 ? '-' : a}x${ecritureAlgebrique(b)}$, on a :<br>`\n    this.correction += '$\\\\begin{aligned}'\n    this.correction += `${nomF}\\\\left(${fractionX.texFractionSimplifiee}\\\\right)`\n    this.correction += `&=${a === 1 ? '' : a === -1 ? '-' : `${a}\\\\times`} ${fractionX.ecritureParentheseSiNegatif}${ecritureAlgebrique(b)}\\\\\\\\`\n\n    // Étape intermédiaire : calcul de a × fraction\n    if (a === 1) {\n      this.correction += `&=${fractionX.texFractionSimplifiee}${ecritureAlgebrique(b)}\\\\\\\\`\n    } else if (a === -1) {\n      this.correction += `&=${fractionX.oppose().texFractionSimplifiee}${ecritureAlgebrique(b)}\\\\\\\\`\n    } else {\n      this.correction += `&=${aFoisX.texFractionSimplifiee}${ecritureAlgebrique(b)}\\\\\\\\`\n    }\n\n    // Résultat final\n    this.correction += `&=${miseEnEvidence(resultat.texFractionSimplifiee)}`\n    this.correction += '\\\\end{aligned}$'\n\n    // Réponse selon le format\n    if (this.versionQcm) {\n      this.reponse = `$${resultat.texFractionSimplifiee}$`\n\n      // Création des distracteurs\n      const distracteur1 = new FractionEtendue(\n        signe * num,\n        den * a,\n      ).ajouteEntier(b) // Erreur : x/(a×den) + b\n      const distracteur2 = new FractionEtendue(\n        a * signe * num,\n        den,\n      ).ajouteEntier(-b) // Erreur : ax - b au lieu de ax + b\n      const distracteur3 = new FractionEtendue(signe * num + a * den, den) // Erreur : (x + a)/den au lieu de ax + b\n\n      this.distracteurs = [\n        `$${distracteur1.texFractionSimplifiee}$`,\n        `$${distracteur2.texFractionSimplifiee}$`,\n        `$${distracteur3.texFractionSimplifiee}$`,\n      ]\n    } else {\n      this.reponse = resultat.texFractionSimplifiee\n    }\n\n    this.canEnonce = this.question\n    this.canReponseACompleter = ''\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","CalculImageParFonctionAffineFraction","ExerciceSimple","KeyboardType","a","randint","b","nomF","choice","fractionsSimples","num","den","signe","fractionX","FractionEtendue","aFoisX","resultat","ecritureAlgebrique","miseEnEvidence","distracteur1","distracteur2","distracteur3"],"mappings":"6lFAOO,MAAMA,GAAQ,0DACRC,GAAkB,GAClBC,GAAiB,WACjBC,GAAW,GACXC,GAAU,SACVC,GAAoB,aAMpBC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,SAAS,EACnB,QAAS,CAAA,CACX,EACA,MAAqBC,WAA6CC,CAAe,CAC/E,aAAc,CACZ,MAAA,EACD,KAAK,qBAAuB,CAAE,cAAe,EAAA,EAC5C,KAAK,YAAc,EACnB,KAAK,qBAAuB,GAC5B,KAAK,aAAe,SACpB,KAAK,iBAAmBC,EAAa,0BACrC,KAAK,kBAAoB,CAAE,WAAY,OAAA,CACzC,CAEA,iBAAkB,CAEhB,MAAMC,EAAIC,EAAQ,GAAI,EAAG,CAAC,CAAC,CAAC,EAGtBC,EAAID,EAAQ,GAAI,EAAG,CAAC,EAGpBE,EAAOC,EAAO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAG,CAAC,EAGhEC,EAAmB,CACvB,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CAAA,EAGD,CAACC,EAAKC,CAAG,EAAIH,EAAOC,CAAgB,EACpCG,EAAQJ,EAAO,CAAC,GAAI,CAAC,CAAC,EAGtBK,EAAY,IAAIC,EAAgBF,EAAQF,EAAKC,CAAG,EAIhDI,EAAS,IAAID,EAAgBV,EAAIQ,EAAQF,EAAKC,CAAG,EACjDK,EAAWD,EAAO,aAAaT,CAAC,EA+BtC,GA5BA,KAAK,SAAW,SAASC,CAAI,gCAAgCA,CAAI,OAAOH,IAAM,EAAI,GAAKA,IAAM,GAAK,IAAMA,CAAC,IAAIa,EAAmBX,CAAC,CAAC,SAE9H,KAAK,WACP,KAAK,UAAY,eAAeO,EAAU,qBAAqB,sBAAsBN,CAAI,UAEzF,KAAK,UAAY,0BAA0BM,EAAU,qBAAqB,sBAAsBN,CAAI,MAItG,KAAK,WAAa,UAAUA,CAAI,OAAOH,IAAM,EAAI,GAAKA,IAAM,GAAK,IAAMA,CAAC,IAAIa,EAAmBX,CAAC,CAAC,gBACjG,KAAK,YAAc,oBACnB,KAAK,YAAc,GAAGC,CAAI,UAAUM,EAAU,qBAAqB,WACnE,KAAK,YAAc,KAAKT,IAAM,EAAI,GAAKA,IAAM,GAAK,IAAM,GAAGA,CAAC,SAAS,IAAIS,EAAU,2BAA2B,GAAGI,EAAmBX,CAAC,CAAC,OAGlIF,IAAM,EACR,KAAK,YAAc,KAAKS,EAAU,qBAAqB,GAAGI,EAAmBX,CAAC,CAAC,OACtEF,IAAM,GACf,KAAK,YAAc,KAAKS,EAAU,SAAS,qBAAqB,GAAGI,EAAmBX,CAAC,CAAC,OAExF,KAAK,YAAc,KAAKS,EAAO,qBAAqB,GAAGE,EAAmBX,CAAC,CAAC,OAI9E,KAAK,YAAc,KAAKY,EAAeF,EAAS,qBAAqB,CAAC,GACtE,KAAK,YAAc,kBAGf,KAAK,WAAY,CACnB,KAAK,QAAU,IAAIA,EAAS,qBAAqB,IAGjD,MAAMG,EAAe,IAAIL,EACvBF,EAAQF,EACRC,EAAMP,CAAA,EACN,aAAaE,CAAC,EACVc,EAAe,IAAIN,EACvBV,EAAIQ,EAAQF,EACZC,CAAA,EACA,aAAa,CAACL,CAAC,EACXe,EAAe,IAAIP,EAAgBF,EAAQF,EAAMN,EAAIO,EAAKA,CAAG,EAEnE,KAAK,aAAe,CAClB,IAAIQ,EAAa,qBAAqB,IACtC,IAAIC,EAAa,qBAAqB,IACtC,IAAIC,EAAa,qBAAqB,GAAA,CAE1C,MACE,KAAK,QAAUL,EAAS,sBAG1B,KAAK,UAAY,KAAK,SACtB,KAAK,qBAAuB,EAC9B,CACF"}