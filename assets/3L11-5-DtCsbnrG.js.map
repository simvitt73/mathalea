{"version":3,"file":"3L11-5-DtCsbnrG.js","sources":["../../src/exercices/3e/3L11-5.js"],"sourcesContent":["import { warnMessage } from '../../lib/format/message'\nimport { texteGras } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  choice,\n  combinaisonListesSansChangerOrdre,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Utiliser la distributivité pour effectuer du calcul mental'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '14/11/2020'\n/**\n * * Calcul mental autour des identités remarquables\n * * décliné en 2N40-6 => 07/10/2021\n * * décliné en can2C04 => 08/10/2021\n * * décliné en can2C05 => 10/10/2021\n * @author Sébastien Lozano\n */\nexport const uuid = 'edbd5'\n\nexport const refs = {\n  'fr-fr': ['3L11-5'],\n  'fr-ch': ['11FA2-5'],\n}\nexport default class IdentitesCalculs extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      4,\n      \"1 : Carré d'une somme\\n2 : Carré d'une différence\\n3 : Produit de la somme et de la différence\\n4 : Mélange\",\n    ]\n\n    this.can = false // pour décliner en version CAN\n    this.canVersion = '' // Pour distinguer les déclinaisons\n    // 'v1' Pour une version simple type 29² 31² ou 29x31, seulement 1 d'écart par rapport à la dizaine ou à la centaine\n    // 'v2' Pour une version type (30-2)² (30+2)² ou (30-2)x(30+2), écart par rapport à la dizaine ou à la centaine de 1 à 4\n    this.sup = 1\n    this.nbQuestions = 3\n\n    // this.nbQuestionsModifiable = false;\n    context.isHtml ? (this.spacing = 1) : (this.spacing = 1)\n    context.isHtml ? (this.spacingCorr = 1) : (this.spacingCorr = 1)\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? 'Effectuer le calcul suivant '\n        : 'Effectuer les calculs suivants '\n    this.consigne +=\n      'sans calculatrice. Utiliser la double distributivité ou les identités remarquables.'\n    let typesDeQuestionsDisponibles\n\n    // une fonction pour gérer un \\hfill dans la sortie LaTeX\n    const myhfill = function () {\n      if (context.isHtml) {\n        return '<br><br>'\n      } else {\n        return '\\\\hfill'\n      }\n    }\n    switch (Number(this.sup)) {\n      case 1:\n        typesDeQuestionsDisponibles = [0, 0, 0] // shuffle([choice([1,3]),choice([2,3]),0]);\n        this.introduction = warnMessage(\n          '$(a+b)^2=a^2+2ab+b^2$',\n          'nombres',\n          'Coup de pouce',\n        )\n        break\n      case 2:\n        typesDeQuestionsDisponibles = [1, 1, 1] // shuffle([choice([1,3]),choice([2,3]),0]);\n        this.introduction = warnMessage(\n          '$(a-b)^2 = a^2-2ab+b^2$',\n          'nombres',\n          'Coup de pouce',\n        )\n        break\n      case 3:\n        typesDeQuestionsDisponibles = [2, 2, 2] // shuffle([choice([1,3]),choice([2,3]),0]);\n        this.introduction = warnMessage(\n          '$(a+b)(a-b)=a^2-b^2$',\n          'nombres',\n          'Coup de pouce',\n        )\n        break\n      case 4:\n        typesDeQuestionsDisponibles = shuffle([0, 1, 2]) // shuffle([choice([1,3]),choice([2,3]),0]);\n        this.introduction = warnMessage(\n          `$(a+b)^2 = a^2 +2ab + b^2$ ${myhfill()} $(a-b)^2 = a^2-2ab+b^2$ ${myhfill()} $(a+b)(a-b)=a^2-b^2$`,\n          'nombres',\n          'Coup de pouce',\n        )\n        break\n    }\n\n    // let listeTypeDeQuestions  = combinaisonListes(typesDeQuestionsDisponibles,this.nbQuestions) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    const listeTypeDeQuestions = combinaisonListesSansChangerOrdre(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées --> à remettre comme ci-dessus\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      // une fonction pour gérer l'affichage sous forme de carré\n      // a et b  sont les facteurs du produit, s'ils sont égaux on affiche sous forme de carré\n      const ifIsCarreAfficheCarre = function (a, b, canV2 = false) {\n        if (!canV2) {\n          if (a === b) {\n            return `${a}^2`\n          } else {\n            return `${a}\\\\times ${b}`\n          }\n        } else {\n          if (a === b) {\n            return `(${a})^2`\n          } else {\n            return `(${a})\\\\times (${b})`\n          }\n        }\n      }\n\n      // une fonction pour afficher le double terme rectangle ou pas\n      const ifIsCarreAfficheDblProd = function (bool, dblTermeRect) {\n        if (bool) {\n          return dblTermeRect\n        } else {\n          return ''\n        }\n      }\n\n      const a = randint(2, 9)\n      let bSomme, bDifference, bSomDif\n      if (!this.can) {\n        bSomme = randint(1, 4)\n        bDifference = randint(1, 4)\n        bSomDif = randint(1, 9)\n      } else {\n        switch (this.canVersion) {\n          case 'v1':\n            bSomme = 1\n            bDifference = 1\n            bSomDif = 1\n            break\n          case 'v2':\n            bSomme = randint(1, 4)\n            bDifference = randint(1, 4)\n            bSomDif = randint(1, 9)\n            break\n        }\n      }\n      const coeff = choice([10, 100])\n      const coeffSomDif = 100\n      const signesSomDif = choice([\n        [\n          { str: '-', nb: -1 },\n          { str: '+', nb: 1 },\n        ],\n        [\n          { str: '+', nb: 1 },\n          {\n            str: '-',\n            nb: -1,\n          },\n        ],\n      ])\n      const lettres = choice([\n        'A',\n        'B',\n        'C',\n        'D',\n        'E',\n        'F',\n        'G',\n        'H',\n        'I',\n        'J',\n        'K',\n        'L',\n        'M',\n        'N',\n        'P',\n        'Q',\n        'R',\n        'S',\n        'T',\n        'U',\n        'V',\n        'W',\n        'X',\n        'Y',\n        'Z',\n      ])\n\n      // pour les situations, autant de situations que de cas dans le switch !\n      const situations = [\n        {\n          lettre: lettres,\n          a,\n          b: bSomme,\n          coeff,\n          a_coeff: a * coeff,\n          operations: [\n            { str: '+', nb: 1 },\n            { str: '+', nb: 1 },\n          ],\n          facteurs: [\n            {\n              str: `${texNombre(a * coeff)}+${bSomme}`,\n              nb: texNombre(a * coeff + bSomme),\n            },\n            {\n              str: `${texNombre(a * coeff)}+${bSomme}`,\n              nb: texNombre(a * coeff + bSomme),\n            },\n          ],\n          carre_de_a_coeff: texNombre(coeff * coeff * a * a),\n          // carre_de_coeff:coeff*coeff,\n          carre_de_b: texNombre(bSomme * bSomme),\n          termes_rectangles: [\n            texNombre(coeff * a * bSomme),\n            texNombre(coeff * a * bSomme),\n          ],\n          somme_terme_rect: texNombre(2 * coeff * a * bSomme),\n          signes_dbl_dist: ['+', '+', '+'],\n          carre: true,\n          resultat: texNombre(\n            a * a * coeff * coeff + bSomme * bSomme + 2 * a * coeff * bSomme,\n          ),\n          resultatNumerique:\n            a * a * coeff * coeff + bSomme * bSomme + 2 * a * coeff * bSomme,\n        },\n        {\n          lettre: lettres,\n          a,\n          b: bDifference,\n          coeff,\n          a_coeff: a * coeff,\n          operations: [\n            { str: '-', nb: -1 },\n            { str: '-', nb: -1 },\n          ],\n          facteurs: [\n            {\n              str: `${texNombre(a * coeff)}-${bDifference}`,\n              nb: texNombre(a * coeff - bDifference),\n            },\n            {\n              str: `${texNombre(a * coeff)}-${bDifference}`,\n              nb: texNombre(a * coeff - bDifference),\n            },\n          ],\n          carre_de_a_coeff: texNombre(coeff * coeff * a * a),\n          // carre_de_coeff:coeff*coeff,\n          carre_de_b: texNombre(bDifference * bDifference),\n          termes_rectangles: [\n            texNombre(coeff * a * bDifference),\n            texNombre(coeff * a * bDifference),\n          ],\n          somme_terme_rect: texNombre(2 * coeff * a * bDifference),\n          signes_dbl_dist: ['+', '-', '-'],\n          carre: true,\n          resultat: texNombre(\n            a * a * coeff * coeff +\n              bDifference * bDifference -\n              2 * a * coeff * bDifference,\n          ),\n          resultatNumerique:\n            a * a * coeff * coeff +\n            bDifference * bDifference -\n            2 * a * coeff * bDifference,\n        },\n        {\n          lettre: lettres,\n          a,\n          b: bSomDif,\n          coeff: coeffSomDif,\n          a_coeff: a * coeffSomDif,\n          operations: signesSomDif,\n          facteurs: [\n            {\n              str: `${texNombre(a * coeffSomDif)} ${signesSomDif[0].str} ${bSomDif}`,\n              nb: texNombre(a * coeffSomDif + signesSomDif[0].nb * bSomDif),\n            },\n            {\n              str: `${texNombre(a * coeffSomDif)} ${signesSomDif[1].str} ${bSomDif}`,\n              nb: texNombre(a * coeffSomDif + signesSomDif[1].nb * bSomDif),\n            },\n          ],\n          carre_de_a_coeff: texNombre(coeffSomDif * coeffSomDif * a * a),\n          // carre_de_coeff:coeff*coeff,\n          carre_de_b: texNombre(bSomDif * bSomDif),\n          termes_rectangles: [\n            texNombre(coeffSomDif * a * bSomDif),\n            texNombre(coeffSomDif * a * bSomDif),\n          ],\n          somme_terme_rect: 0,\n          signes_dbl_dist: ['-', '+', '-'],\n          carre: false,\n          resultat: texNombre(\n            a * a * coeffSomDif * coeffSomDif - bSomDif * bSomDif,\n          ),\n          resultatNumerique:\n            a * a * coeffSomDif * coeffSomDif - bSomDif * bSomDif,\n        },\n      ]\n\n      const enonces = []\n      for (let k = 0; k < situations.length; k++) {\n        enonces.push({\n          enonce: `\n                     $${situations[k].lettre}=${ifIsCarreAfficheCarre(situations[k].facteurs[0].nb, situations[k].facteurs[1].nb)}$\n                    `,\n          question: '',\n          correction1: `\n                        ${texteGras('Avec la double distributivité')}<br>\n                        $${situations[k].lettre} = ${ifIsCarreAfficheCarre(situations[k].facteurs[0].nb, situations[k].facteurs[1].nb)}$<br>\n                        $${situations[k].lettre} = (${situations[k].facteurs[0].str})\\\\times (${situations[k].facteurs[1].str})$<br>\n                        $${situations[k].lettre} = ${situations[k].a_coeff}^2 ${situations[k].signes_dbl_dist[1]} ${situations[k].a_coeff}\\\\times ${situations[k].b} ${situations[k].signes_dbl_dist[2]} ${situations[k].b}\\\\times ${situations[k].a_coeff} ${situations[k].signes_dbl_dist[0]} ${situations[k].b}^2$<br>\n                        $${situations[k].lettre} = ${situations[k].carre_de_a_coeff} ${situations[k].signes_dbl_dist[1]} ${situations[k].termes_rectangles[0]} ${situations[k].signes_dbl_dist[2]} ${situations[k].termes_rectangles[1]}   ${situations[k].signes_dbl_dist[0]} ${situations[k].carre_de_b}$<br>\n                        $${situations[k].lettre} = ${situations[k].carre_de_a_coeff} ${ifIsCarreAfficheDblProd(situations[k].carre, `${situations[k].signes_dbl_dist[1]} ${situations[k].somme_terme_rect}`)} ${situations[k].signes_dbl_dist[0]} ${situations[k].carre_de_b}$<br>\n                        $${situations[k].lettre} = ${miseEnEvidence(situations[k].resultat)}$\n                    `,\n          correction2:\n            k !== situations.length - 1\n              ? ` ${texteGras('Avec une identité remarquable')}<br>\n                $${situations[k].lettre} = ${ifIsCarreAfficheCarre(situations[k].facteurs[0].nb, situations[k].facteurs[1].nb)}$<br>\n                $${situations[k].lettre} = ${ifIsCarreAfficheCarre(`(${situations[k].facteurs[0].str})`, `(${situations[k].facteurs[1].str})`)} $<br>\n                $${situations[k].lettre} = ${situations[k].a_coeff}^2 ${ifIsCarreAfficheDblProd(situations[k].carre, `${situations[k].signes_dbl_dist[1]} 2\\\\times ${situations[k].a_coeff} \\\\times ${situations[k].b}`)} ${situations[k].signes_dbl_dist[0]}  ${situations[k].b}^2$<br>\n                $${situations[k].lettre} = ${situations[k].carre_de_a_coeff} ${ifIsCarreAfficheDblProd(situations[k].carre, `${situations[k].signes_dbl_dist[1]} 2\\\\times ${situations[k].termes_rectangles[0]}`)} ${situations[k].signes_dbl_dist[0]}  ${situations[k].carre_de_b}$<br>\n                $${situations[k].lettre} = ${situations[k].carre_de_a_coeff} ${ifIsCarreAfficheDblProd(situations[k].carre, `${situations[k].signes_dbl_dist[1]} ${situations[k].somme_terme_rect}`)} ${situations[k].signes_dbl_dist[0]} ${situations[k].carre_de_b}$<br>\n                $${situations[k].lettre} = ${miseEnEvidence(situations[k].resultat)}$`\n              : ` ${texteGras('Avec une identité remarquable')}<br>\n                $${situations[k].lettre} = ${ifIsCarreAfficheCarre(situations[k].facteurs[0].nb, situations[k].facteurs[1].nb)}$<br>\n                $${situations[k].lettre} = ${ifIsCarreAfficheCarre(`(${situations[k].facteurs[0].str})`, `(${situations[k].facteurs[1].str})`)} $<br>\n                $${situations[k].lettre} = ${situations[k].a_coeff}^2 ${ifIsCarreAfficheDblProd(situations[k].carre, `${situations[k].signes_dbl_dist[1]} 2\\\\times ${situations[k].a_coeff} \\\\times ${situations[k].b}`)} ${situations[k].signes_dbl_dist[0]}  ${situations[k].b}^2$<br>\n                $${situations[k].lettre} = ${situations[k].carre_de_a_coeff} ${ifIsCarreAfficheDblProd(situations[k].carre, `${situations[k].signes_dbl_dist[1]} 2\\\\times ${situations[k].termes_rectangles[0]}`)} ${situations[k].signes_dbl_dist[0]}  ${situations[k].carre_de_b}$<br>\n                $${situations[k].lettre} = ${miseEnEvidence(situations[k].resultat)}$`,\n          enonceCanV1: `$${ifIsCarreAfficheCarre(situations[k].facteurs[0].nb, situations[k].facteurs[1].nb)}=$`,\n          enonceCanV2: `$${ifIsCarreAfficheCarre(situations[k].facteurs[0].str, situations[k].facteurs[1].str, true)}=$`,\n          resultatCan: `${situations[k].resultatNumerique}`,\n        })\n      }\n\n      // autant de case que d'elements dans le tableau des situations\n      switch (listeTypeDeQuestions[i]) {\n        case 0: // carré d'une somme\n          if (!this.can) {\n            texte = `${enonces[0].enonce}`\n            if (context.isHtml) {\n              texteCorr = `${enonces[0].correction1}<br><br>${enonces[0].correction2}`\n            } else {\n              texteCorr = 'Détaillons deux méthodes : <br><br>'\n              texteCorr += '\\\\begin{minipage}{8cm}'\n              texteCorr += enonces[0].correction1\n              texteCorr += '\\\\end{minipage}'\n              texteCorr += '\\\\hfill \\\\vrule \\\\hfill'\n              texteCorr += '\\\\begin{minipage}{8cm}'\n              texteCorr += enonces[0].correction2\n              texteCorr += '\\\\end{minipage}'\n              texteCorr += '<br>'\n            }\n\n            setReponse(this, i, situations[0].resultatNumerique)\n          } else {\n            switch (this.canVersion) {\n              case 'v1':\n                this.question = `${enonces[0].enonceCanV1}`\n                this.correction = `${enonces[0].correction1} <br><br> ${enonces[0].correction2}`\n                this.reponse = `${enonces[0].resultatCan}`\n                break\n              case 'v2':\n              default:\n                this.question = `${enonces[0].enonceCanV2}`\n                this.correction = `${enonces[0].correction1} <br><br> ${enonces[0].correction2}`\n                this.reponse = `${enonces[0].resultatCan}`\n                break\n            }\n            this.canEnonce = this.question\n            this.canReponseACompleter = ''\n          }\n          break\n        case 1: // carré d'une différence\n          if (!this.can) {\n            texte = `${enonces[1].enonce}`\n            if (context.isHtml) {\n              texteCorr = `${enonces[1].correction1}<br><br>${enonces[1].correction2}`\n            } else {\n              texteCorr = 'Détaillons deux méthodes : <br><br>'\n              texteCorr += '\\\\begin{minipage}{8cm}'\n              texteCorr += enonces[1].correction1\n              texteCorr += '\\\\end{minipage}'\n              texteCorr += '\\\\hfill \\\\vrule \\\\hfill'\n              texteCorr += '\\\\begin{minipage}{8cm}'\n              texteCorr += enonces[1].correction2\n              texteCorr += '\\\\end{minipage}'\n              texteCorr += '<br>'\n            }\n\n            setReponse(this, i, situations[1].resultatNumerique)\n          } else {\n            switch (this.canVersion) {\n              case 'v1':\n                this.question = `${enonces[1].enonceCanV1}`\n                this.correction = `${enonces[1].correction1} <br><br> ${enonces[1].correction2}`\n                this.reponse = `${enonces[1].resultatCan}`\n                break\n              case 'v2':\n              default:\n                this.question = `${enonces[1].enonceCanV2}`\n                this.correction = `${enonces[1].correction1} <br><br> ${enonces[1].correction2}`\n                this.reponse = `${enonces[1].resultatCan}`\n                break\n            }\n            this.canEnonce = this.question\n            this.canReponseACompleter = ''\n          }\n          break\n        case 2: // Produit somme différence\n        default:\n          if (!this.can) {\n            texte = `${enonces[2].enonce}`\n            if (context.isHtml) {\n              texteCorr = `${enonces[2].correction1}<br><br>${enonces[2].correction2}`\n            } else {\n              texteCorr = 'Détaillons deux méthodes : <br><br>'\n              texteCorr += '\\\\begin{minipage}{8cm}'\n              texteCorr += enonces[2].correction1\n              texteCorr += '\\\\end{minipage}'\n              texteCorr += '\\\\hfill \\\\vrule \\\\hfill'\n              texteCorr += '\\\\begin{minipage}{8cm}'\n              texteCorr += enonces[2].correction2\n              texteCorr += '\\\\end{minipage}'\n              texteCorr += '<br>'\n            }\n\n            setReponse(this, i, situations[2].resultatNumerique)\n          } else {\n            switch (this.canVersion) {\n              case 'v1':\n                this.question = `${enonces[2].enonceCanV1}`\n                this.correction = `${enonces[2].correction1} <br><br> ${enonces[2].correction2}`\n                this.reponse = `${enonces[2].resultatCan}`\n                break\n              case 'v2':\n              default:\n                this.question = `${enonces[2].enonceCanV2}`\n                this.correction = `${enonces[2].correction1} <br><br> ${enonces[2].correction2}`\n                this.reponse = `${enonces[2].resultatCan}`\n                break\n            }\n            this.canEnonce = this.question\n            this.canReponseACompleter = ''\n          }\n          break\n      }\n      if (!this.can) {\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierNumbers,\n          { texteAvant: ' $=$ ' },\n        )\n      }\n      if (this.questionJamaisPosee(i, a, coeff, coeffSomDif)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        // ToDo traiter les éventuelles questions interactives en double\n        let mybool = false\n        this.listeQuestions.forEach((elt) => {\n          if (\n            texte\n              .split('$')[1]\n              .substr(2)\n              .indexOf(elt.split('$')[1].substr(2)) !== -1\n          ) {\n            mybool = true\n          }\n        })\n        if (!mybool && this.typeExercice !== 'simple') {\n          this.listeQuestions[i] = texte\n          this.listeCorrections[i] = texteCorr\n          i++\n        }\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","IdentitesCalculs","Exercice","context","typesDeQuestionsDisponibles","myhfill","warnMessage","shuffle","listeTypeDeQuestions","combinaisonListesSansChangerOrdre","i","texte","texteCorr","cpt","ifIsCarreAfficheCarre","a","b","canV2","ifIsCarreAfficheDblProd","bool","dblTermeRect","randint","bSomme","bDifference","bSomDif","coeff","choice","coeffSomDif","signesSomDif","lettres","situations","texNombre","enonces","k","texteGras","miseEnEvidence","setReponse","ajouteChampTexteMathLive","KeyboardType","mybool","elt","listeQuestionsToContenu"],"mappings":"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"}