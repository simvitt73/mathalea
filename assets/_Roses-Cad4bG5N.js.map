{"version":3,"file":"_Roses-Cad4bG5N.js","sources":["../../src/exercices/6e/_Roses.ts"],"sourcesContent":["import type { BoxedExpression } from '@cortex-js/compute-engine'\nimport type { MathfieldElement } from 'mathlive'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport engine from '../../lib/interactif/comparisonFunctions'\nimport {\n  ajouteChampTexteMathLive,\n  remplisLesBlancs,\n} from '../../lib/interactif/questionMathLive'\nimport { lettreMinusculeDepuisChiffre, sp } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport type FractionEtendue from '../../modules/FractionEtendue'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\nimport { Rose } from './_Rose'\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n\nexport default class ExoRose extends Exercice {\n  operation: string\n  type: string\n  typeDonnees: string\n  nombreDeValeurs: number\n  valeurMax: number\n  roses: Rose[]\n  clavier?: string\n  indexInconnue: number[]\n\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Valeur maximale (entre 10 et 30) des facteurs',\n      30,\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Nombre de facteur entre 3 et 9 (limit√© √† 5 pour les valeurs fractionnaires ou litt√©rales)',\n      9,\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Type de questions',\n      4,\n      '1 : Calculer les produits\\n2 : Calculer les facteurs\\n3 : Course aux nombres 1\\n4 : Course aux nombres 2',\n    ]\n\n    this.spacing = 2\n\n    this.nbQuestions = 1\n    this.sup = 10\n    this.sup2 = 4\n    this.sup3 = 1\n    this.operation = 'multiplication'\n    this.type = 'r√©sultats'\n    this.typeDonnees = 'entiers'\n    this.nombreDeValeurs = 4\n    this.valeurMax = 10\n    this.roses = []\n    this.clavier = KeyboardType.clavierDeBase\n\n    this.indexInconnue = []\n  }\n\n  nouvelleVersion() {\n    this.valeurMax = contraindreValeur(10, 30, this.sup, 10)\n    this.nombreDeValeurs = contraindreValeur(3, 9, this.sup2, 5)\n    this.sup3 = contraindreValeur(1, 4, this.sup3, 1)\n    switch (this.sup3) {\n      case 1:\n        this.type = 'r√©sultats'\n        if (\n          this.typeDonnees.substring(0, 4) === 'frac' ||\n          this.typeDonnees === 'litteraux'\n        ) {\n          if (this.nombreDeValeurs > 5) this.nombreDeValeurs = 5\n        }\n        break\n      case 2:\n        this.type = 'valeurs'\n        break\n      case 3:\n        if (\n          this.typeDonnees.substring(0, 4) === 'frac' ||\n          this.typeDonnees === 'litteraux'\n        ) {\n          if (this.nombreDeValeurs > 5) this.nombreDeValeurs = 5\n        }\n        this.type = 'can1'\n        break\n      case 4:\n        this.type = 'can2'\n        if (\n          this.typeDonnees.substring(0, 4) === 'frac' ||\n          this.typeDonnees === 'litteraux'\n        ) {\n          if (this.nombreDeValeurs > 5) this.nombreDeValeurs = 5\n        }\n        break\n    }\n\n    if (this.typeDonnees === 'litteraux') {\n      this.clavier = KeyboardType.clavierDeBaseAvecVariable\n    } else if (this.typeDonnees.includes('frac')) {\n      this.clavier = KeyboardType.clavierDeBaseAvecFraction\n    } else {\n      this.clavier = KeyboardType.clavierDeBase\n    }\n\n    for (\n      let i = 0, objets, objetsCorr, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      this.indexInconnue[i] = randint(0, this.nombreDeValeurs - 1)\n      if (this.operation === 'multiplication') {\n        this.introduction =\n          \"Les nombres situ√©s √† l'extr√©mit√© des fl√®ches sont les produits des nombres dont les fl√®ches sont issues.\"\n      } else {\n        this.introduction =\n          \"Les nombres situ√©s √† l'extr√©mit√© des fl√®ches sont les sommes des nombres dont les fl√®ches sont issues.\"\n      }\n      switch (this.type) {\n        case 'r√©sultats':\n          if (this.operation === 'multiplication') {\n            texte = \"Calculer les produits √† l'extr√©mit√© des fl√®ches.<br>\"\n          } else {\n            texte = \"Calculer les sommes √† l'extr√©mit√© des fl√®ches.<br>\"\n          }\n          break\n        case 'valeurs':\n          if (this.operation === 'multiplication') {\n            texte = \"Retrouver les facteurs √† l'origine des fl√®ches.<br>\"\n          } else {\n            texte = \"Retrouver les termes √† l'origine des fl√®ches.<br>\"\n          }\n          break\n        case 'can1':\n          if (this.typeDonnees.includes('entiers')) {\n            texte = `Trouver le nombre de la case ${lettreMinusculeDepuisChiffre(this.indexInconnue[i] + 1)}.<br>`\n          } else {\n            texte = `Trouver l'expression de la case ${lettreMinusculeDepuisChiffre(this.indexInconnue[i] + 1)}.<br>`\n          }\n          break\n        case 'can2':\n        default:\n          if (this.typeDonnees.includes('entiers')) {\n            texte = `Trouver le nombre de la case ${lettreMinusculeDepuisChiffre(this.indexInconnue[i] + 1)}.<br>`\n          } else {\n            texte = `Trouver l'expression de la case ${lettreMinusculeDepuisChiffre(this.indexInconnue[i] + 1)}.<br>`\n          }\n          break\n      }\n\n      this.roses[i] = new Rose({\n        nombreDeValeurs: this.nombreDeValeurs,\n        type: this.type,\n        operation: this.operation,\n        valeurMax: this.valeurMax,\n        typeDonnees: this.typeDonnees,\n        indexInconnue: this.indexInconnue[i],\n      })\n      objets = this.roses[i].representation()\n      this.roses[i].type = 'solutions'\n      objetsCorr = this.roses[i].representation()\n      texte += mathalea2d(\n        Object.assign({ scale: 0.6 }, fixeBordures(objets)),\n        objets,\n      )\n      if (this.interactif) {\n        if (this.type.substring(0, 3) === 'can') {\n          texte += ajouteChampTexteMathLive(this, i, this.clavier, {\n            texteAvant: `${lettreMinusculeDepuisChiffre(this.indexInconnue[i] + 1)}=`,\n          })\n        } else {\n          let question = ''\n          for (let k = 0; k < this.nombreDeValeurs; k++) {\n            question += `${lettreMinusculeDepuisChiffre(k + 1)}=%{champ${k + 1}}${sp(3)}`\n          }\n          texte += remplisLesBlancs(this, i, question, this.clavier, '\\\\ldots')\n        }\n      }\n      texteCorr = mathalea2d(\n        Object.assign({ scale: 0.6 }, fixeBordures(objetsCorr)),\n        objetsCorr,\n      )\n      if (this.questionJamaisPosee(i, ...this.roses[i].values)) {\n        // Si la question n'a jamais √©t√© pos√©e, on en cr√©e une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: this.introduction + '<br>' + texte,\n            propositions: [\n              {\n                texte: '',\n                statut:\n                  this.type === 'can1' || this.type === 'can2'\n                    ? 1\n                    : Math.ceil(this.sup2 / 4), // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la r√©ponse de l'√©l√®ve sur AMC)\n                sanscadre: false, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la r√©ponse de l'√©l√®ve\n                // pointilles: false // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la r√©ponse de l'√©l√®ve\n              },\n            ],\n          }\n        }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i: number) => {\n    if (this.answers === undefined) {\n      this.answers = {}\n    }\n    const taille = this.nombreDeValeurs\n    const champsTexte = []\n    const spanResultat = document.querySelector(\n      `#resultatCheckEx${this.numeroExercice}Q${i}`,\n    ) as HTMLSpanElement\n    const saisies = []\n    if (this.type.substring(0, 3) === 'can') {\n      champsTexte[0] = document.getElementById(\n        `champTexteEx${this.numeroExercice}Q${i}`,\n      ) as MathfieldElement\n      if (champsTexte[0]) {\n        this.answers[champsTexte[0].id] = champsTexte[0].value\n      }\n      if (champsTexte[0] != null) {\n        saisies[0] = champsTexte[0].value\n          .replace(',', '.')\n          .replace(/\\((\\+?-?\\d+)\\)/, '$1')\n      }\n    } else {\n      const mfe = document.querySelector(\n        `math-field#champTexteEx${this.numeroExercice}Q${i}`,\n      ) as MathfieldElement\n      if (mfe) {\n        this.answers[mfe.id] = mfe.value\n      }\n      for (let k = 0; k < taille; k++) {\n        champsTexte[k] = mfe.getPromptValue(`champ${k + 1}`)\n        saisies[k] = champsTexte[k]\n          .replace(',', '.')\n          .replace(/\\((\\+?-?\\d+)\\)/, '$1')\n      }\n    }\n    let resultat\n    if (this.saisieCoherente(saisies, taille, i)) {\n      spanResultat.innerHTML = 'üòé'\n      resultat = 'OK'\n    } else {\n      spanResultat.innerHTML = '‚òπÔ∏è'\n      resultat = 'KO'\n    }\n    return resultat\n  }\n\n  saisieCoherente(saisies: string[], taille: number, question: number) {\n    let resultatOK = true\n    let stringSaisie = saisies[0]\n    let stringResultat\n    if (this.type === 'can2') {\n      stringResultat =\n        this.roses[question].typeDonnees.substring(0, 4) === 'frac'\n          ? this.roses[question].resultats[\n              this.indexInconnue[question]\n            ].replace('dfrac', 'frac')\n          : this.roses[question].resultats[\n              this.indexInconnue[question]\n            ].toString()\n      const resultParsed = engine.parse(stringResultat)\n      return resultParsed === null\n        ? false\n        : (resultParsed as BoxedExpression).isSame(engine.parse(stringSaisie))\n    } else if (this.type === 'can1') {\n      stringSaisie = saisies[0]\n      stringResultat =\n        this.roses[question].typeDonnees.substring(0, 4) === 'frac'\n          ? (\n              this.roses[question].values[\n                this.indexInconnue[question]\n              ] as FractionEtendue\n            )\n              .toLatex()\n              .replace('dfrac', 'frac')\n          : this.roses[question].values[this.indexInconnue[question]].toString()\n      return engine.parse(stringSaisie).isSame(engine.parse(stringResultat))\n    } else {\n      for (let i = 0; i < taille; i++) {\n        stringSaisie = saisies[i]\n        if (this.type === 'r√©sultats') {\n          stringResultat =\n            this.roses[question].typeDonnees.substring(0, 4) === 'frac'\n              ? this.roses[question].resultats[i].replace('dfrac', 'frac')\n              : String(this.roses[question].resultats[i])\n        } else {\n          stringResultat =\n            this.roses[question].typeDonnees.substring(0, 4) === 'frac'\n              ? this.roses[question].resultats[i].replace('dfrac', 'frac')\n              : String(this.roses[question].resultats[i])\n          stringSaisie =\n            this.roses[question].typeDonnees.substring(0, 4) === 'frac'\n              ? `${saisies[i]}${this.roses[question].operation === 'addition' ? '+' : '\\\\times '}${saisies[(i + 1) % this.nombreDeValeurs]}`\n              : this.roses[question].operate(\n                  saisies[i],\n                  saisies[(i + 1) % this.nombreDeValeurs],\n                )\n        }\n        const saisieParsed = engine.parse(stringSaisie.replace('dfrac', 'frac'))\n\n        resultatOK = Boolean(\n          resultatOK &&\n          (saisieParsed == null\n            ? false\n            : saisieParsed.isEqual(\n                engine.parse(stringResultat) ?? engine.parse('NaN'),\n              )),\n        )\n      }\n      return resultatOK\n    }\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","ExoRose","Exercice","__publicField","i","taille","champsTexte","spanResultat","saisies","mfe","k","resultat","KeyboardType","contraindreValeur","objets","objetsCorr","texte","texteCorr","cpt","randint","lettreMinusculeDepuisChiffre","Rose","mathalea2d","fixeBordures","ajouteChampTexteMathLive","question","sp","remplisLesBlancs","context","listeQuestionsToContenu","resultatOK","stringSaisie","stringResultat","resultParsed","engine","saisieParsed"],"mappings":"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"}