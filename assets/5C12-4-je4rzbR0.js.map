{"version":3,"file":"5C12-4-je4rzbR0.js","sources":["../../src/exercices/5e/5C12-4.ts"],"sourcesContent":["// import { choice } from '../../lib/outils/arrayOutils'\nimport { evaluate, type Fraction } from 'mathjs'\nimport type { MathfieldElement } from 'mathlive'\nimport engine from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport type { AnswerType, IExercice } from '../../lib/types'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport { assignVariables, calculer } from '../../modules/outilsMathjs'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '21/07/2024'\nexport const uuid = 'e2a95'\nexport const titre =\n  \"Mettre des parenth√®ses ou pas pour qu'une √©galit√© soit juste\"\nexport const refs = {\n  'fr-fr': ['5C12-4'],\n  'fr-ch': ['9NO6-6', '10NO6-4'],\n}\n/**\n * @author Jean-Claude Lhote\n * Placer des parenth√®ses mais pas inutilement dans une expression pour qu'elle v√©rifie une √©galit√©\n */\n\ntype Materiel = {\n  expSP: string\n  expAP: string\n  test: (a: number, b: number, c: number, d: number) => boolean\n}\n\ntype ListeVariableExo = 'a' | 'b' | 'c' | 'd'\ntype VariablesExo = Partial<\n  Record<ListeVariableExo, string | number | boolean | Fraction | object>\n>\n\n// Les tirets bas sont plac√©s l√† o√π il n'y a pas de parenth√®ses mais qu'il pourrait y en avoir une. Cela sert √† placer les placeholders et √† savoir √† quelle position on a quelle parenth√®se\n// Pour l'analyse et l'utilisation de l'expression, ces tirets bas sont remplac√©s par du vide.\n// test est la valeur qui vient compl√©ter a,b,c et d afin d'obtenir des donn√©es aux petits oignons\nconst dicoDesExpressions: {\n  troisSignesToutPositif: Materiel[]\n  troisSignesRelatifs: Materiel[]\n  quatreSignesToutPositif: Materiel[]\n  quatreSignesRelatifs: Materiel[]\n} = {\n  troisSignesToutPositif: [\n    {\n      expSP: '_a*_b_+c_',\n      expAP: '_a*(b_+c)',\n      test: (a, b, c) => a * b + c !== a * (b + c),\n    },\n    {\n      expSP: '_a+_b_*c_',\n      expAP: '(a+_b)*c_',\n      test: (a, b, c) => a + b * c !== (a + b) * c,\n    },\n    {\n      expSP: '_a*_b_-c_',\n      expAP: '_a*(b_-c)',\n      test: (a, b, c) => a * b - c !== a * (b - c) && b > c,\n    },\n    {\n      expSP: '_a-_b_*c_',\n      expAP: '(a-_b)*c_',\n      test: (a, b, c) => a - b * c !== (a - b) * c && a > b * c,\n    },\n  ],\n  troisSignesRelatifs: [\n    {\n      expSP: '_a*_b_+c_',\n      expAP: '_a*(b_+c)',\n      test: (a, b, c) => a * b + c !== a * (b + c),\n    },\n    {\n      expSP: '_a+_b_*c_',\n      expAP: '(a+_b)*c_',\n      test: (a, b, c) => a + b * c !== (a + b) * c,\n    },\n    {\n      expSP: '_a*_b_-c_',\n      expAP: '_a*(b_-c)',\n      test: (a, b, c) => a * b - c !== a * (b - c),\n    },\n    {\n      expSP: '_a-_b_*c_',\n      expAP: '(a-_b)*c_',\n      test: (a, b, c) => a - b * c !== (a - b) * c,\n    },\n  ],\n  quatreSignesToutPositif: [\n    {\n      expSP: '_a+_b_*_c_+d_',\n      expAP: '(a+_b)*(c_+d)',\n      test: (a, b, c, d) =>\n        (a + b) * (c + d) !== a + b * c + d &&\n        (a + b) * (c + d) !== (a + b) * c + d &&\n        (a + b) * (c + d) !== a + b * (c + d),\n    },\n    {\n      expSP: '_a+_b_*_c_+d_',\n      expAP: '_a+_b_*(c_+d)',\n      test: (a, b, c, d) =>\n        a + b * (c + d) !== a + b * c + d &&\n        a + b * (c + d) !== (a + b) * (c + d) &&\n        a + b * (c + d) !== (a + b) * c + d,\n    },\n    {\n      expSP: '_a+_b_*_c_+d_',\n      expAP: '(a+_b)*_c_+d_',\n      test: (a, b, c, d) =>\n        (a + b) * c + d !== a + b * c + d &&\n        (a + b) * c + d !== (a + b) * (c + d) &&\n        (a + b) * c + d !== a + b * (c + d),\n    },\n    {\n      expSP: '_a-_b_*_c_+d_',\n      expAP: '(a-_b)*(c_+d)',\n      test: (a, b, c, d) =>\n        (a - b) * (c + d) !== a - b * c + d &&\n        (a - b) * (c + d) !== (a - b) * c + d &&\n        (a - b) * (c + d) !== a - b * (c + d) &&\n        a > b * c,\n    },\n    {\n      expSP: '_a-_b_*_c_+d_',\n      expAP: '_a-_b_*(c_+d)',\n      test: (a, b, c, d) =>\n        a - b * (c + d) !== a - b * c + d &&\n        a - b * (c + d) !== (a - b) * (c + d) &&\n        a - b * (c + d) !== (a - b) * c + d &&\n        a > b * (c + d),\n    },\n    {\n      expSP: '_a-_b_*_c_+d_',\n      expAP: '(a-_b)*_c_+d_',\n      test: (a, b, c, d) =>\n        (a - b) * c + d !== a - b * c + d &&\n        (a - b) * c + d !== (a - b) * (c + d) &&\n        (a - b) * c + d !== a - b * (c + d) &&\n        a > b * c,\n    },\n  ],\n  quatreSignesRelatifs: [\n    {\n      expSP: '_a+_b_*_c_+d_',\n      expAP: '(a+_b)*(c_+d)',\n      test: (a, b, c, d) =>\n        (a + b) * (c + d) !== a + b * c + d &&\n        (a + b) * (c + d) !== (a + b) * c + d &&\n        (a + b) * (c + d) !== a + b * (c + d),\n    },\n    {\n      expSP: '_a+_b_*_c_+d_',\n      expAP: '_a+_b_*(c_+d)',\n      test: (a, b, c, d) =>\n        a + b * (c + d) !== a + b * c + d &&\n        a + b * (c + d) !== (a + b) * (c + d) &&\n        a + b * (c + d) !== (a + b) * c + d,\n    },\n    {\n      expSP: '_a+_b_*_c_+d_',\n      expAP: '(a+_b)*_c_+d_',\n      test: (a, b, c, d) =>\n        (a + b) * c + d !== a + b * c + d &&\n        (a + b) * c + d !== (a + b) * (c + d) &&\n        (a + b) * c + d !== a + b * (c + d),\n    },\n    {\n      expSP: '_a-_b_*_c_+d_',\n      expAP: '(a-_b)*(c_+d)',\n      test: (a, b, c, d) =>\n        (a - b) * (c + d) !== a - b * c + d &&\n        (a - b) * (c + d) !== (a - b) * c + d &&\n        (a - b) * (c + d) !== a - b * (c + d),\n    },\n    {\n      expSP: '_a-_b_*_c_+d_',\n      expAP: '_a-_b_*(c_+d)',\n      test: (a, b, c, d) =>\n        a - b * (c + d) !== a - b * c + d &&\n        a - b * (c + d) !== (a - b) * (c + d) &&\n        a - b * (c + d) !== (a - b) * c + d,\n    },\n    {\n      expSP: '_a-_b_*_c_+d_',\n      expAP: '(a-_b)*_c_+d_',\n      test: (a, b, c, d) =>\n        (a - b) * c + d !== a - b * c + d &&\n        (a - b) * c + d !== (a - b) * (c + d) &&\n        (a - b) * c + d !== a - b * (c + d),\n    },\n  ],\n}\n\nclass MettreDesParentheses extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 5\n    this.besoinFormulaireTexte = [\n      'Complexit√©',\n      'Nombres s√©par√©s par des tirets :\\n1 : 2 op√©rations\\n2 : 3 op√©rations\\n3 M√©lange',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Avec des nombres relatifs', false]\n    this.sup = '3'\n    this.sup2 = false\n    this.comment =\n      \"L'exercice propose des expressions √† 3 ou 4 op√©randes avec possibilit√© d'avoir des calculs relatifs ou pas.<br>Les op√©randes sont inf√©rieures ou √©gales √† 10 en valeur absolue pour permettre le calcul mental. Une r√©ponse trop parenth√©s√©e est compt√©e fausse.\"\n  }\n\n  nouvelleVersion() {\n    if (this.nbQuestions > 1) {\n      this.consigne =\n        'Mettre des parenth√®ses si besoin dans les √©galit√©s suivantes afin que celles-ci soient justes.<br>'\n    } else {\n      this.consigne =\n        \"Mettre des parenth√®ses si besoin dans l'√©galit√© suivante afin que celle-ci soit juste.<br>\"\n    }\n    const listeTypeDeQuestion = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      nbQuestions: this.nbQuestions,\n      min: 1,\n      max: 3,\n      melange: 3,\n      defaut: 3,\n    })\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const choix: Materiel[] = []\n      if (listeTypeDeQuestion[i] === 1) {\n        if (this.sup2) {\n          choix.push(...dicoDesExpressions.troisSignesRelatifs)\n        } else {\n          choix.push(...dicoDesExpressions.troisSignesToutPositif)\n        }\n      } else {\n        if (this.sup2) {\n          choix.push(...dicoDesExpressions.quatreSignesRelatifs)\n        } else {\n          choix.push(...dicoDesExpressions.quatreSignesToutPositif)\n        }\n      }\n      // Les donn√©es de la question (expression sans parenth√®se, expression avec parenth√®ses, test )\n      const materiel = choice(choix)\n      // l'objet qui sert √† assigner les valeurs dans l'expression\n      /* const assignations = aleaVariables({\n        a: `${this.sup2 ? 'pickRandom([-1,1])' : '1'}*randomInt(1,10)`,\n        b: 'randomInt(1,10)',\n        c: `${this.sup2 ? 'pickRandom([-1,1])' : '1'}*randomInt(1,10)`,\n        d: 'randomInt(1,10)',\n        test: materiel.test\n      }) */\n      let assignations\n      do {\n        assignations = {\n          a: (this.sup2 ? choice([-1, 1]) : 1) * randint(1, 10),\n          b: randint(1, 10),\n          c: (this.sup2 ? choice([-1, 1]) : 1) * randint(1, 10),\n          d: randint(1, 10),\n        }\n      } while (\n        !materiel.test(\n          assignations.a,\n          assignations.b,\n          assignations.c,\n          assignations.d,\n        )\n      )\n\n      const a = Number(assignations.a)\n      const b = Number(assignations.b)\n      const c = Number(assignations.c)\n      const d = Number(assignations.d)\n\n      // On choisit de proposer une expression sans parenth√®se avec une probabilit√© de 25%\n      const parentheses = choice([true, true, true, false])\n      // mathjs calcule l'expression avec les valeur choisies et fournit le membre de droite de l'√©nonc√©\n      const resultat =\n        (parentheses\n          ? evaluate(materiel.expAP.replaceAll('_', ''), assignations)\n          : evaluate(materiel.expSP.replaceAll('_', ''), assignations)) ?? 0\n      let texte = ''\n      let index = 1\n      let content = ''\n\n      // on fabrique la string pour le Mathfield fillInTheBlank\n      for (let c = 0; c < materiel.expSP.length; c++) {\n        const char = materiel.expSP[c]\n        if (char === '+' || char === '-') content += `~${char}`\n        if (char === '*') content += '~\\\\times'\n        if (['a', 'b', 'c', 'd'].includes(char)) {\n          const value = Number(assignations[char as keyof VariablesExo])\n          if (value < 0) content += `~(${value})`\n          else content += `~${value}`\n        }\n        if (char === '_') content += `~%{champ${index++}}`\n      }\n      content += `~=~${resultat}`\n      texte += remplisLesBlancs(this, i, content)\n      // on √©limine test des assignations, car on n'en a pas besoin pour la suite, le nouvel objet contenant les op√©randes s'appelle valeurs\n      const valeurs = {\n        a: assignations.a,\n        b: assignations.b,\n        c: assignations.c,\n        d: assignations.d,\n        // test: assignations.test\n      }\n      // La fonction calculer() de Fr√©d√©ric Piou fournit la correction, mais elle fournit aussi le r√©sultat, et bien d'autres choses que je n'utilise pas...\n      const answer = parentheses\n        ? calculer(\n            assignVariables(materiel.expAP.replaceAll('_', ''), valeurs),\n            {\n              removeImplicit: false,\n              suppr1: false,\n              comment: true,\n            },\n          )\n        : calculer(\n            assignVariables(materiel.expSP.replaceAll('_', ''), valeurs),\n            {\n              removeImplicit: false,\n              suppr1: false,\n              comment: true,\n            },\n          )\n      const texteCorr: string = `${answer.texteCorr}`\n      // La callback de correction int√©ractive\n      const callback = (\n        exercice: IExercice,\n        question: number,\n        variables: [string, AnswerType][],\n      ) => {\n        let feedback = ''\n        const mfe = document.querySelector(\n          `#champTexteEx${exercice.numeroExercice}Q${question}`,\n        ) as MathfieldElement\n        const goodAnswer = engine.parse(String(resultat))\n\n        const prompts = mfe.getPrompts()\n        const saisies = prompts.map((pr) =>\n          mfe\n            .getPromptValue(pr)\n            .replace('\\\\left(', '(')\n            .replace('\\\\right)', ')')\n            .replace('\\\\lparen', '(')\n            .replace('\\\\rparen', ')'),\n        )\n        let laSaisie = ''\n        for (let k = 0, index = 0; k < materiel.expSP.length; k++) {\n          const char = materiel.expSP.charAt(k)\n          if (char === '_') {\n            laSaisie += saisies[index++]\n          } else {\n            laSaisie += char\n          }\n        }\n        const expSaisie = assignVariables(laSaisie, valeurs)\n        const saisieParsed = engine.parse(expSaisie)\n        const isOk1 = goodAnswer.isEqual(saisieParsed) ?? false // L'expression saisie et la bonne r√©ponse donne le m√™me r√©sultat, c'est tr√©s bon signe.\n        // cependant, il peut y avoir des parenth√®ses inutiles.\n        let isOk2 = true\n        for (let index2 = 0; index2 < variables.length; index2++) {\n          if (variables[index2][1].value !== saisies[index2]) {\n            isOk2 = false\n          }\n        }\n        if (isOk1 && !isOk2) {\n          feedback =\n            \"L'√©galit√© est respect√©e, mais il y a des parenth√®ses inutiles.\"\n        } else if (!isOk1) {\n          feedback = `L'√©galit√© n'est pas respect√©e : en effet, $${expSaisie.replace('*', '\\\\times ')}=${saisieParsed.evaluate().numericValue}$`\n        } else {\n          feedback = 'L`√©galit√© est respect√©e.'\n        }\n\n        for (let index3 = 0; index3 < variables.length; index3++) {\n          if (variables[index3][1].value === saisies[index3]) {\n            mfe.setPromptState(`champ${index3 + 1}`, 'correct', true)\n          } else {\n            mfe.setPromptState(`champ${index3 + 1}`, 'incorrect', true)\n          }\n        }\n        const spanReponseLigne = document.querySelector(\n          `#resultatCheckEx${exercice.numeroExercice}Q${question}`,\n        )\n        if (spanReponseLigne != null) {\n          spanReponseLigne.innerHTML = isOk1 && isOk2 ? 'üòé' : '‚òπÔ∏è'\n        }\n\n        const spanFeedback = document.querySelector(\n          `#feedbackEx${exercice.numeroExercice}Q${question}`,\n        )\n        if (feedback != null && spanFeedback != null && feedback.length > 0) {\n          spanFeedback.innerHTML = 'üí° ' + feedback\n          spanFeedback.classList.add(\n            'py-2',\n            'italic',\n            'text-coopmaths-warn-darkest',\n            'dark:text-coopmathsdark-warn-darkest',\n          )\n        }\n        return {\n          isOk: isOk1 && isOk2,\n          feedback,\n          score: {\n            nbBonnesReponses: isOk1 && isOk2 ? 1 : 0,\n            nbReponses: 1,\n          },\n        }\n      }\n      // fin de la callback\n\n      // On fournit les r√©ponses correctes selon le cas de figure (parenth√®ses ou pas, 3 ou 4 op√©randes)\n      if (listeTypeDeQuestion[i] === 1) {\n        if (parentheses) {\n          // On r√©cup√®re la liste des parenth√®ses (ou absence de parenth√®ses) pour renseigner les goodAnswers\n          const listePar = materiel.expAP.match(/[_()]/g)\n          if (listePar != null && listePar.length === 4) {\n            handleAnswers(this, i, {\n              champ1: { value: listePar[0] === '(' ? '(' : '' },\n              champ2: { value: listePar[1] === '(' ? '(' : '' },\n              champ3: { value: listePar[2] === ')' ? ')' : '' },\n              champ4: { value: listePar[3] === ')' ? ')' : '' },\n              callback,\n            })\n          } else {\n            throw Error(\n              `Il y a un probl√®me avec cette expressions, on n'a pas trouv√© 4 symboles : ${materiel.expAP}`,\n            )\n          }\n        } else {\n          // Ici, il ne faut pas de parenth√®ses !\n          handleAnswers(this, i, {\n            champ1: { value: '' },\n            champ2: { value: '' },\n            champ3: { value: '' },\n            champ4: { value: '' },\n            callback,\n          })\n        }\n      } else {\n        if (parentheses) {\n          // On r√©cup√®re la liste des parenth√®ses (ou absence de parenth√®ses) pour renseigner les goodAnswers\n          const listePar = materiel.expAP.match(/[_()]/g)\n          if (listePar != null && listePar.length === 6) {\n            handleAnswers(this, i, {\n              champ1: { value: listePar[0] === '(' ? '(' : '' },\n              champ2: { value: listePar[1] === '(' ? '(' : '' },\n              champ3: {\n                value:\n                  listePar[2] === '(' ? '(' : listePar[2] === ')' ? ')' : '',\n              },\n              champ4: {\n                value:\n                  listePar[3] === '(' ? '(' : listePar[3] === ')' ? ')' : '',\n              },\n              champ5: {\n                value:\n                  listePar[4] === '(' ? '(' : listePar[4] === ')' ? ')' : '',\n              },\n              champ6: {\n                value:\n                  listePar[5] === '(' ? '(' : listePar[5] === ')' ? ')' : '',\n              },\n              callback,\n            })\n          } else {\n            throw Error(\n              `Il y a un probl√®me avec cette expressions, on n'a pas trouv√© 6 symboles : ${materiel.expAP}`,\n            )\n          }\n        } else {\n          // Ici, il ne faut pas de parenth√®ses !\n          handleAnswers(this, i, {\n            champ1: { value: '' },\n            champ2: { value: '' },\n            champ3: { value: '' },\n            champ4: { value: '' },\n            champ5: { value: '' },\n            champ6: { value: '' },\n            callback,\n          })\n        }\n      }\n\n      if (this.questionJamaisPosee(i, a, b, c, d, materiel.expAP)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n  }\n}\n\nexport default MettreDesParentheses\n"],"names":["interactifReady","interactifType","dateDePublication","uuid","titre","refs","dicoDesExpressions","a","b","c","d","MettreDesParentheses","Exercice","listeTypeDeQuestion","gestionnaireFormulaireTexte","i","cpt","choix","materiel","choice","assignations","randint","parentheses","resultat","evaluate","texte","index","content","char","value","remplisLesBlancs","valeurs","texteCorr","calculer","assignVariables","callback","exercice","question","variables","feedback","mfe","goodAnswer","engine","saisies","pr","laSaisie","k","expSaisie","saisieParsed","isOk1","isOk2","index2","index3","spanReponseLigne","spanFeedback","listePar","handleAnswers"],"mappings":"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"}