var L=Object.defineProperty;var j=(o,e,r)=>e in o?L(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var N=(o,e,r)=>j(o,typeof e!="symbol"?e+"":e,r);import{D as c}from"./vendors/decimal.js-BceHFVC1.js";import{p as S,F as f,r as F,T as m,D as w,m as k,y as p,B as C,v as y,U as R,V as x}from"./index-Dkwu26bg.js";import{n as B,o as I,q,v as T,f as E,w as A,x as U}from"./vendors/mathjs-DKCMnljp.js";function Q({poly:o,xG:e,xD:r}){const i=o.derivee(),n=o.fonction(e),t=o.fonction(r);let a,u;if(i.deg===2){const s=Number(i.monomes[2]),l=Number(i.monomes[1]),d=Number(i.monomes[0]),v=l**2-4*s*d;if(v<0)s>0?(u=t,a=n):(u=n,a=t);else if(v===0){const b=-l/2/s;b>e&&b<e?s>0?(u=Math.max(n,t),a=o.fonction(b)):(u=o.fonction(b),a=Math.min(n,Number(t))):(u=Math.max(n,Number(t)),a=Math.min(n,Number(t)))}else{const b=Math.sqrt(v),$=s>0?(-l-b)/2/s:(-l+b)/2/s,g=s>0?(-l+b)/2/s:(-l-b)/2/s;e<$&&$<r?e<g&&g<r?s>0?(u=Math.max(o.fonction($),t),a=Math.min(n,o.fonction(g))):(a=Math.min(o.fonction($),t),u=Math.max(n,o.fonction(g))):s>0?(u=o.fonction($),a=Math.min(n,t)):(a=o.fonction($),u=Math.max(Number(n),Number(t))):e<g&&g<r?s>0?(a=o.fonction(g),u=Math.max(e,t)):(u=o.fonction(g),a=Math.min(e,t)):s>0?g<e||$>r?(u=t,a=n):(u=n,a=t):g<e||$>r?(u=n,a=t):(u=t,a=n)}}else if(i.deg===1){const s=i.monomes[1];Number(s)>0?(u=t,a=n):(u=n,a=t)}else a=n,u=n;return{minLocal:a,maxLocal:u}}const V=R(["virgules","fractions","espaces"]),D=function(o,e){return o instanceof c?e instanceof c?o.add(e):e instanceof f?o.add(new c(e.valeurDecimale)):o.add(new c(String(e))):o instanceof f?e instanceof f?o.sommeFraction(e).simplifie():o.sommeFraction(x(Number(e))).simplifie():Number(o)+Number(e)},M=function(o,e){if(typeof o=="number"&&typeof e=="number")return o*e;if(o instanceof c)return e instanceof c?o.mul(e):e instanceof f?o.mul(new c(e.valeurDecimale)):o.mul(new c(String(e)));if(o instanceof f)return e instanceof f?o.produitFraction(e).simplifie():o.produitFraction(x(Number(e))).simplifie()},z=function(o,e){if(m(Number(e),0)&&window.notify("quotient de Polynome.js a reçu un diviseur nul",{dividende:o,diviseur:e}),typeof o=="number"&&typeof e=="number")return o/e;if(o instanceof c)return e instanceof c?o.div(e):e instanceof f?o.div(new c(e.valeurDecimale)):o.div(new c(String(e)));if(o instanceof f)return e instanceof f?o.diviseFraction(e).simplifie():o.diviseFraction(x(Number(e))).simplifie()};class h{constructor({rand:e=!1,deg:r=-1,coeffs:i,useFraction:n=!1,useDecimal:t=!1,letter:a="x"}){N(this,"monomes");N(this,"fonction");N(this,"deg");N(this,"useFraction");N(this,"useDecimal");N(this,"letter");this.letter=a,e?(B(r,0)&&(i=new Array(r+1),i.fill([10,!0])),this.monomes=i.map(function(s){if(typeof s=="number")return s;if(Array.isArray(s)){if(s[0]===0)return 0;if(n){const l=S([2,4,5]),d=new f(...new c(F(1,l*Number(s[0]))).div(l).toFraction(100).map(Number));return s[1]?d.multiplieEntier(S([-1,1])):d}else if(t){const l=new c(F(1,10*Number(s[0]))).div(10);return s[1]?l.mul(S([-1,1])):l}else return s[1]?S([-1,1])*F(1,Number(s[0])):F(1,Number(s[0]))}else return s instanceof f||s instanceof c?s:(window.notify("Dans Polynome, l'un des coefficient n'est pas d'un type attendu.",{coeff:s}),NaN)})):this.monomes=i.map(function(s){return s instanceof f?n?s:new c(`${s.num}/${s.den}`):s instanceof c?t?s:s.round():Number(s)}),this.useFraction=n??this.monomes.filter(s=>s instanceof f).length>0,this.useDecimal=t??(this.monomes.filter(s=>s instanceof c).length>0&&this.monomes.filter(s=>s instanceof f).length===0),this.deg=this.monomes.length-1;const u=this.monomes;this.fonction=function(s){let l=0;for(let d=0;d<u.length;d++)if(u[d]instanceof f){const v=u[d];l=l+v.valeurDecimale*s**d}else if(u[d]instanceof c){const v=u[d];l=l+v.toNumber()*s**d}else l=l+Number(u[d])*s**d;return l}}isMon(){return this.monomes.filter(e=>e!==0).length===1}isEqual(e){if(typeof e=="number"){if(this.monomes[0]!==e)return!1;for(let r=1;r<=this.deg;r++)if(this.monomes[r]!==0)return!1;return!0}if(e instanceof h){if(e.deg===this.deg)return this.monomes.filter((n,t)=>n!==e.monomes[t]).length===0;const i=Math.min(this.deg,e.deg);for(let n=0;n<=i;n++)if(!m(Number(e.monomes[n]),Number(this.monomes[n]),1e-15))return!1;for(let n=i+1;n<=Math.max(e.deg,this.deg);n++)if(n<=this.deg&&this.monomes[n]!==0||n<=e.deg&&e.monomes[n]!==0)return!1;return!0}return window.notify(`Polynome.isEqual a reçu comme argument autre chose qu'un number ou un polynôme : ${e}`,{p:e}),!1}toMathExpr(e=!1){let r="",i="";for(const[n,t]of this.monomes.entries()){switch(n){case this.deg:{let a;switch(t instanceof f?a=e?`${t.valeurDecimale<0?t.valeurAbsolue().valeurDecimale===1?"-":"-{"+String(t.n)+"/"+String(t.d)+"}":t.valeurDecimale===1?"+":"+{"+String(t.n)+"/"+String(t.d)}+'}'`:this.deg===0?t.ecritureAlgebrique:p(t):a=e?w(t):this.deg===0?k(t):p(t),this.deg){case 1:i=m(Number(t),0,1e-15)?"":`${a}${this.letter}`;break;case 0:i=m(Number(t),0,1e-15)?"":`${a}`;break;default:i=m(Number(t),0,1e-15)?"":`${a}${this.letter}^${n}`}break}case 0:i=m(Number(t),0,1e-15)?"":`${t instanceof f?(t.valeurDecimale<0?"-":"+")+String(t.n)+"/"+String(t.d):k(t)}`;break;case 1:i=m(Number(t),0,1e-15)?"":t instanceof f?`${t.valeurDecimale<0?t.valeurAbsolue().valeurDecimale===1?"-":"-{"+String(t.n)+"/"+String(t.d):t.valeurDecimale===1?"+":"+{"+String(t.n)+"/"+String(t.d)}}${this.letter}`:`${w(t)}${this.letter}`;break;default:i=m(Number(t),0,1e-15)?"":t instanceof f?`${t.valeurDecimale<0?t.valeurAbsolue().valeurDecimale===1?"-":"-{"+String(t.n)+"/"+String(t.d):t.valeurDecimale===1?"+":"+{"+String(t.n)+"/"+String(t.d)}}${this.letter}^${n}`:`${w(t)}${this.letter}^${n}`;break}i=V(i),r=i+r}return r}toLatex(e=!1){let r="",i="";for(const[n,t]of this.monomes.entries())if(t instanceof f){if(t.valeurDecimale===0)continue;switch(n){case this.deg:{const a=e?`${t.valeurDecimale<0?t.valeurAbsolue().valeurDecimale===1?"-":t.texFSD:t.valeurDecimale===1?"+":t.ecritureAlgebrique}`:this.deg===0?t.texFSD:p(t);if(this.deg===0)return t.texFSD;switch(this.deg){case 1:i=m(Number(t),0,1e-15)?"":`${a}${this.letter}`;break;case 0:i=m(Number(t),0,1e-15)?"":`${a}`;break;default:i=m(Number(t),0,1e-15)?"":`${a}${this.letter}^{${n}}`}break}case 0:i=m(Number(t),0,1e-15)?"":t.ecritureAlgebrique;break;case 1:i=m(Number(t),0,1e-15)?"":`${t.valeurDecimale<0?t.valeurAbsolue().valeurDecimale===1?"-":t.texFSD:t.valeurDecimale===1?"+":t.ecritureAlgebrique}${this.letter}`;break;default:i=m(Number(t),0,1e-15)?"":`${t.valeurDecimale<0?t.valeurAbsolue().valeurDecimale===1?"-":t.texFSD:t.valeurDecimale===1?"+":t.ecritureAlgebrique}${this.letter}^{${n}}`;break}r=i+r}else{switch(n){case this.deg:{const a=e?w(t):this.deg===0?t:p(Number(t));if(this.deg===0)return C(t,2);switch(this.deg){case 1:i=m(Number(t),0,1e-15)?"":`${a}${this.letter}`;break;case 0:i=m(Number(t),0,1e-15)?"":`${a}`;break;default:i=m(Number(t),0,1e-15)?"":`${a}${this.letter}^{${n}}`}break}case 0:i=m(Number(t),0,1e-15)?"":k(t);break;case 1:i=m(Number(t),0,1e-15)?"":`${w(t)}${this.letter}`;break;default:i=m(Number(t),0,1e-15)?"":`${w(t)}${this.letter}^{${n}}`;break}r=i+r}return r}toString(){return this.toLatex()}add(e){if(typeof e=="number"){const r=this.monomes.filter(n=>n instanceof f).length>0,i=[...this.monomes];return i[0]=D(this.monomes[0],e),new h({coeffs:i,useFraction:r})}else if(e instanceof f){const r=[...this.monomes];return r[0]=D(this.monomes[0],e),new h({coeffs:r,useFraction:!0})}else if(e instanceof c){const r=this.monomes.filter(n=>n instanceof f).length>0,i=[...this.monomes];return i[0]=D(e,this.monomes[0]),new h({coeffs:i,useFraction:r})}else if(e instanceof h){const r=e.monomes.filter(u=>u instanceof f).length>0||this.monomes.filter(u=>u instanceof f).length>0,i=I(this.deg,e.deg),n=q(e.deg,i)?this:e,a=(q(e.deg,i)?e:this).monomes.map(function(u,s){return s<=n.deg?D(u,n.monomes[s]):u});return new h({coeffs:a,useFraction:r})}else return window.notify("Polynome.add(arg) : l'argument n'est ni un nombre, ni un polynome",{p:e}),this}multiply(e){let r;const i=e instanceof h?e.monomes.filter(n=>n instanceof f).length>0||this.monomes.filter(n=>n instanceof f).length>0:e instanceof f;if(typeof e=="number"||e instanceof f)r=this.monomes.map(function(n){return M(n,e)}).map(n=>n??0);else if(e instanceof h){r=new Array(this.deg+e.deg+1),r.fill(0);for(let n=0;n<=this.deg;n++)for(let t=0;t<=e.deg;t++)r[n+t]=D(r[n+t],M(this.monomes[n],e.monomes[t]))}else return window.notify("Polynome.multiply(arg) : l'argument n'est ni un nombre, ni un polynome",{q:e}),this;return new h({coeffs:r,useFraction:i})}derivee(){const e=this.monomes.map(function(r,i){return M(r,i)}).map(r=>r??0);e.shift();for(let r=e.length-1;r>0;r--){if(e[r]===0){e.pop();continue}break}return e.length===0?new h({deg:0,coeffs:[0]}):new h({coeffs:e,useFraction:this.useFraction,useDecimal:this.useDecimal,letter:this.letter})}detailleCalculDerivee(){let e="";for(let r=this.monomes.length-1;r>0;r--){const i=this.monomes[r];m(Number(i),0)||(e+=e===""?`${String(r)}\\times ${i instanceof f?i.texParentheses:y(i)}${r>2?`${this.letter}^{${r-1}}`:r===2?this.letter:""}`:`+${String(r)}\\times ${i instanceof f?i.texParentheses:y(i)}${r>2?`${this.letter}^{${r-1}}`:r===2?this.letter:""}`)}return e}primitive0(){let e=this.monomes.map((n,t)=>z(n,t+1));e=[0,...e];const r=e.filter(n=>n instanceof f).length>0,i=e.filter(n=>n instanceof c).length>0&&!r;return new h({coeffs:e,useFraction:r,useDecimal:i})}racines(){const e=[];if(this.monomes.slice(1).filter(i=>i!==0).length===0)return null;const r=T(...this.monomes.map(i=>Number(i)));for(const i of r){let n;if(typeof i=="number")n=E(i,3);else if(i.toPolar().r<1e-5)n=0;else{const a=i.arg();A(a)<.01||A(A(a)-Number(U(-1)))<.001?n=E(i.re,3):n=null}n!==null&&(e.includes(n)||e.push(n))}return e}static print(e,r=!1){return new h({coeffs:e}).toLatex(r)}image(e){return this.fonction(e)}static fromRoots(e,r=!1,i=!1){if(e.length===0)return new h({coeffs:[1]});let n=new h({coeffs:[1],useFraction:r,useDecimal:i});for(const t of e){const a=new h({coeffs:[typeof t=="number"?-t:M(t,-1),1],useFraction:r,useDecimal:i});n=n.multiply(a)}return n}}export{h as P,Q as c};
//# sourceMappingURL=Polynome-Dr039A6U.js.map
