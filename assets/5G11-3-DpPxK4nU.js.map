{"version":3,"file":"5G11-3-DpPxK4nU.js","sources":["../../src/exercices/5e/5G11-3.ts"],"sourcesContent":["import { cibleCarree, dansLaCibleCarree } from '../../lib/2d/cibles'\nimport { codageMilieu } from '../../lib/2d/CodageMilieu'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { traceCompas } from '../../lib/2d/traceCompas'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { rotation } from '../../lib/2d/transformations'\nimport { longueur } from '../../lib/2d/utilitairesGeometriques'\nimport { arcenciel } from '../../lib/format/style'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Construire le symétrique d'un point avec cible auto-corrective\"\n\n/**\n * Construction de symétrique avec dispositif d'auto-correction aléatoire\n * Ref 5G11-3\n * @author Jean-Claude Lhote\n * Publié le 30/11/2020\n */\nexport const uuid = '34032'\n\nexport const refs = {\n  'fr-fr': ['5G11-3'],\n  'fr-ch': ['9ES6-8'],\n}\nexport default class ConstruireSymetriquePoint5e extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = ['Nombre de points (1 à 5)', 5]\n\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.sup = 3\n  }\n\n  nouvelleVersion() {\n    let result = [0, 0]\n    let texteCorr = ''\n    const nbpoints = parseInt(this.sup)\n    const celluleAlea = function (rang: number) {\n      const lettre = lettreDepuisChiffre(randint(1, rang))\n      const chiffre = Number(randint(1, rang)).toString()\n      return lettre + chiffre\n    }\n    // On prépare la figure...\n    const O = point(0, 0, 'O')\n    const marks = ['/', '//', '///', 'x', 'o', 'S', 'V']\n    const noms = choisitLettresDifferentes(nbpoints, 'QO', true)\n    this.consigne = `Construire le symétrique des points $${noms[0]}$`\n    for (let i = 1; i < nbpoints - 1; i++) {\n      this.consigne += `, $${noms[i]}$`\n    }\n    this.consigne += ` et $${noms[nbpoints - 1]}$ par rapport à $O$.`\n    const cibles = []\n    const M = []\n    const N = []\n    const objetsEnonce = []\n    const objetsCorrection = [] // cibles, M point marqués, N symétrique de M\n    const cellules = []\n    let xMin, yMin, xMax, yMax, nontrouve, assezloin\n    ;[xMin, yMin, xMax, yMax] = [0, 0, 0, 0]\n    for (let i = 0; i < nbpoints; i++) {\n      // On place les cibles.\n      N.push(\n        point(\n          arrondi(randint(-80, 80, 0) / 10),\n          arrondi(randint(-80, 80, 0) / 10),\n          noms[i] + \"'\",\n        ),\n      )\n      nontrouve = true\n      while (longueur(N[i], O) < 3 || nontrouve) {\n        nontrouve = true\n        if (longueur(N[i], O) < 3) {\n          N[i].x = arrondi(randint(-80, 80, 0) / 10)\n          N[i].y = arrondi(randint(-80, 80, 0) / 10)\n        } else {\n          assezloin = true\n          for (let j = 0; j < i; j++) {\n            if (longueur(N[i], N[j]) < 4.5) {\n              assezloin = false\n            }\n          }\n          if (assezloin === false) {\n            // éloigner les points donc les grilles\n            N[i].x = arrondi(randint(-80, 80, 0) / 10)\n            N[i].y = arrondi(randint(-80, 80, 0) / 10)\n          } else {\n            nontrouve = false\n          }\n        }\n      }\n    }\n\n    objetsEnonce.push(tracePoint(O), labelPoint(O))\n    objetsCorrection.push(tracePoint(O), labelPoint(O))\n\n    for (let i = 0; i < nbpoints; i++) {\n      cellules.push(celluleAlea(4))\n      result = dansLaCibleCarree(N[i].x, N[i].y, 4, 0.6, cellules[i])\n      const cible = cibleCarree({\n        x: result[0],\n        y: result[1],\n        rang: 4,\n        num: i + 1,\n        taille: 0.6,\n        color: '#f15929',\n      })\n      cible.taille = 0.6\n      cible.opacite = 0.7\n      cibles.push(cible)\n    }\n    for (let i = 0; i < nbpoints; i++) {\n      M.push(rotation(N[i], O, 180, noms[i]))\n      objetsEnonce.push(tracePoint(M[i]), labelPoint(M[i]), cibles[i])\n      objetsCorrection.push(\n        tracePoint(M[i], N[i]),\n        labelPoint(M[i], N[i]),\n        cibles[i],\n      )\n      objetsCorrection.push(\n        segment(M[i], N[i], arcenciel(i)),\n        codageMilieu(M[i], N[i], arcenciel(i + 5), marks[i]),\n      )\n      objetsCorrection.push(traceCompas(O, N[i], 20))\n      texteCorr += `$${noms[i]}'$, le symétrique du point $${noms[i]}$ est dans la case ${cellules[i]} de la grille ${i + 1}.<br>`\n    }\n\n    for (let i = 0; i < nbpoints; i++) {\n      xMin = Math.min(xMin, N[i].x - 3, M[i].x - 3)\n      yMin = Math.min(yMin, N[i].y - 3, M[i].y - 3)\n      xMax = Math.max(xMax, N[i].x + 3, M[i].x + 3)\n      yMax = Math.max(yMax, N[i].y + 3, M[i].y + 3)\n    }\n\n    context.fenetreMathalea2d = [xMin, yMin, xMax, yMax]\n\n    this.listeQuestions.push(\n      mathalea2d(\n        {\n          xmin: xMin,\n          ymin: yMin,\n          xmax: xMax,\n          ymax: yMax,\n          pixelsParCm: 20,\n          scale: 0.7,\n        },\n        objetsEnonce,\n      ),\n    )\n    this.listeCorrections.push(\n      texteCorr +\n        mathalea2d(\n          {\n            xmin: xMin,\n            ymin: yMin,\n            xmax: xMax,\n            ymax: yMax,\n            pixelsParCm: 20,\n            scale: 0.7,\n          },\n          objetsCorrection,\n        ),\n    )\n    listeQuestionsToContenu(this)\n\n    //  let nonchoisi,coords=[],x,y,objetsEnonce=[],objetsCorrection=[],nomd,label_pos\n  }\n}\n"],"names":["titre","uuid","refs","ConstruireSymetriquePoint5e","Exercice","result","texteCorr","nbpoints","celluleAlea","rang","lettre","lettreDepuisChiffre","randint","chiffre","O","point","marks","noms","choisitLettresDifferentes","i","cibles","M","N","objetsEnonce","objetsCorrection","cellules","xMin","yMin","xMax","yMax","nontrouve","assezloin","arrondi","longueur","j","tracePoint","labelPoint","dansLaCibleCarree","cible","cibleCarree","rotation","segment","arcenciel","codageMilieu","traceCompas","context","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}