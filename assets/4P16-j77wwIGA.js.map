{"version":3,"file":"4P16-j77wwIGA.js","sources":["../../src/exercices/4e/4P16.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { fraction } from '../../modules/fractions'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\n\nexport const titre = 'Convertir des grandeurs composées'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '23/05/2022'\n\n/**\n * @author Guillaume Valmont\n\n */\nexport const uuid = '63cdb'\n\nexport const refs = {\n  'fr-fr': ['4P16'],\n  'fr-ch': ['10FA4-4'],\n}\nexport default class NomExercice extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Choix des problèmes',\n      'Nombres séparés par des tirets :\\n1 : m/h\\n2 : m$^3$/h\\n3 : L/h\\n4 : L/m$^2$\\n5 : m$^2$/h\\n6 : Wh\\n7 : VA\\n8 : Mélange',\n    ]\n    this.sup = 8\n  }\n\n  nouvelleVersion() {\n    const valMaxParametre = 8\n    const listeDesProblemes = gestionnaireFormulaireTexte({\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      melange: valMaxParametre,\n      max: valMaxParametre - 1,\n      defaut: 1,\n    })\n\n    type Unite = {\n      unite: string\n      coef: number\n    }\n\n    const unitesLongueur: Unite[] = [\n      {\n        unite: 'mm',\n        coef: 1,\n      },\n      {\n        unite: 'cm',\n        coef: 10 ** 1,\n      },\n      {\n        unite: 'dm',\n        coef: 10 ** 2,\n      },\n      {\n        unite: 'm',\n        coef: 10 ** 3,\n      },\n      {\n        unite: 'dam',\n        coef: 10 ** 4,\n      },\n      {\n        unite: 'hm',\n        coef: 10 ** 5,\n      },\n      {\n        unite: 'km',\n        coef: 10 ** 6,\n      },\n    ]\n    const unitesSurface: Unite[] = [\n      {\n        unite: 'mm$^2$',\n        coef: 1,\n      },\n      {\n        unite: '$\\\\text{cm}^2$',\n        coef: 10 ** 2,\n      },\n      {\n        unite: 'dm$^2$',\n        coef: 10 ** 4,\n      },\n      {\n        unite: 'm$^2$',\n        coef: 10 ** 6,\n      },\n      {\n        unite: 'dam$^2$',\n        coef: 10 ** 8,\n      },\n      {\n        unite: 'hm$^2$',\n        coef: 10 ** 10,\n      },\n      {\n        unite: 'km$^2$',\n        coef: 10 ** 12,\n      },\n    ]\n    const unitesVolume: Unite[] = [\n      {\n        unite: 'mm$^3$',\n        coef: 1,\n      },\n      {\n        unite: 'cm$^3$',\n        coef: 10 ** 3,\n      },\n      {\n        unite: 'dm$^3$',\n        coef: 10 ** 6,\n      },\n      {\n        unite: 'm$^3$',\n        coef: 10 ** 9,\n      },\n    ]\n    const unitesContenance: Unite[] = [\n      {\n        unite: 'mL',\n        coef: 1,\n      },\n      {\n        unite: 'cL',\n        coef: 10 ** 1,\n      },\n      {\n        unite: 'dL',\n        coef: 10 ** 2,\n      },\n      {\n        unite: 'L',\n        coef: 10 ** 3,\n      },\n    ]\n    const unitesTemps: Unite[] = [\n      {\n        unite: 's',\n        coef: 1,\n      },\n      {\n        unite: 'min',\n        coef: 60,\n      },\n      {\n        unite: 'h',\n        coef: 3600,\n      },\n    ]\n    const unitesPuissance: Unite[] = [\n      {\n        unite: 'mW',\n        coef: 1,\n      },\n      {\n        unite: 'W',\n        coef: 10 ** 3,\n      },\n      {\n        unite: 'kW',\n        coef: 10 ** 6,\n      },\n    ]\n    const unitesTension: Unite[] = [\n      {\n        unite: 'mV',\n        coef: 1,\n      },\n      {\n        unite: 'V',\n        coef: 10 ** 3,\n      },\n      {\n        unite: 'kV',\n        coef: 10 ** 6,\n      },\n    ]\n    const unitesIntensite: Unite[] = [\n      {\n        unite: 'mA',\n        coef: 1,\n      },\n      {\n        unite: 'A',\n        coef: 10 ** 3,\n      },\n    ]\n    let unite1Depart: Unite = { unite: '', coef: 1 }\n    let unite2Depart: Unite = { unite: '', coef: 1 }\n    let unite1Arrivee: Unite = { unite: '', coef: 1 }\n    let unite2Arrivee: Unite = { unite: '', coef: 1 }\n    let valeurDepart: number\n    let valeurArrivee: Decimal = new Decimal(1)\n    let typeDeComposition: 'quotient' | 'produit'\n    let coef1: Decimal = new Decimal(1)\n    let coef2: Decimal = new Decimal(1)\n    let precision = 0\n    let operateur, cfrac, times\n\n    function fixeUnites(unite1: Unite[], unite2: Unite[]) {\n      let index1Depart\n      let index2Depart\n      let index1Arrivee: number\n      let index2Arrivee: number\n      do {\n        index1Depart = randint(0, unite1.length - 1)\n        index2Depart = randint(0, unite2.length - 1)\n        index1Arrivee = randint(0, unite1.length - 1, [index1Depart])\n        index2Arrivee = randint(0, unite2.length - 1, [index2Depart])\n        unite1Depart = unite1[index1Depart]\n        unite2Depart = unite2[index2Depart]\n        unite1Arrivee = unite1[index1Arrivee]\n        unite2Arrivee = unite2[index2Arrivee]\n        coef1 = new Decimal(unite1Depart.coef).div(unite1Arrivee.coef)\n        coef2 = new Decimal(unite2Depart.coef).div(unite2Arrivee.coef)\n        valeurArrivee = new Decimal(valeurDepart).times(coef1)\n        if (typeDeComposition === 'quotient') {\n          operateur = '/'\n          cfrac = ' \\\\cfrac '\n          times = ''\n          valeurArrivee = valeurArrivee.div(coef2)\n          precision =\n            Math.log10(coef1.div(coef2).toNumber()) < 0\n              ? -Math.floor(Math.log10(coef1.div(coef2).toNumber()))\n              : 0\n        } else {\n          operateur = '.'\n          cfrac = ''\n          times = ' \\\\times '\n          valeurArrivee = valeurArrivee.times(coef2)\n          precision =\n            Math.log10(coef1.mul(coef2).toNumber()) < 0\n              ? -Math.floor(Math.log10(coef1.mul(coef2).toNumber()))\n              : 0\n        }\n      } while (Math.abs(Math.log10(valeurArrivee.toNumber())) > 6)\n    }\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      valeurDepart = randint(1, 80) * 9 // Comme ça même si on doit diviser par 3600 le résultat restera décimal\n      typeDeComposition = 'quotient'\n      if (listeDesProblemes[i] === 1) {\n        // Vitesse\n        fixeUnites(unitesLongueur, unitesTemps)\n      } else if (listeDesProblemes[i] === 2) {\n        // Débit (m$^3$)\n        fixeUnites(unitesVolume, unitesTemps)\n      } else if (listeDesProblemes[i] === 3) {\n        // Débit (L)\n        fixeUnites(unitesContenance, unitesTemps)\n      } else if (listeDesProblemes[i] === 4) {\n        // L/m$^2$\n        fixeUnites(unitesContenance, unitesSurface)\n      } else if (listeDesProblemes[i] === 5) {\n        // m$^2$/h\n        fixeUnites(unitesSurface, unitesTemps)\n      } else if (listeDesProblemes[i] === 6) {\n        // Wh\n        typeDeComposition = 'produit'\n        fixeUnites(unitesPuissance, unitesTemps)\n      } else if (listeDesProblemes[i] === 7) {\n        // VA\n        typeDeComposition = 'produit'\n        fixeUnites(unitesTension, unitesIntensite)\n      } else {\n        window.notify(\n          'listeDesProblemes[i] a une valeur inattendue.\\nPeut-être que valMaxParametre est incorrect ?',\n          {\n            listeDesProblemes,\n            i,\n            valMaxParametre,\n          },\n        )\n      }\n      texte = `Convertir $${valeurDepart}$ ${unite1Depart.unite}${operateur}${unite2Depart.unite} en ${unite1Arrivee.unite}${operateur}${unite2Arrivee.unite}.`\n      texteCorr = `$${valeurDepart}\\\\text{ ${unite1Depart.unite}${operateur}${unite2Depart.unite}}\n      = ${cfrac}{${valeurDepart}\\\\text{ ${unite1Depart.unite}}}${times}{1 \\\\text{ ${unite2Depart.unite}}}\n      = ${cfrac}{${valeurDepart} \\\\times ${fraction(unite1Depart.coef, unite1Arrivee.coef).texFractionSimplifiee} \\\\text{ ${unite1Arrivee.unite}}}\n      ${times}{${fraction(unite2Depart.coef, unite2Arrivee.coef).texFractionSimplifiee} \\\\text{ ${unite2Arrivee.unite}}}\n      = ${miseEnEvidence(texNombre(valeurArrivee, precision))}\\\\text{ ${unite1Arrivee.unite}${operateur}${unite2Arrivee.unite}}$`\n      if (this.interactif && context.isHtml) {\n        setReponse(this, i, valeurArrivee)\n        texte += `<br> $${valeurDepart}$ ${unite1Depart.unite}${operateur}${unite2Depart.unite} = `\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers)\n        texte += ` ${unite1Arrivee.unite}${operateur}${unite2Arrivee.unite}`\n      }\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","NomExercice","Exercice","listeDesProblemes","gestionnaireFormulaireTexte","unitesLongueur","unitesSurface","unitesVolume","unitesContenance","unitesTemps","unitesPuissance","unitesTension","unitesIntensite","unite1Depart","unite2Depart","unite1Arrivee","unite2Arrivee","valeurDepart","valeurArrivee","Decimal","typeDeComposition","coef1","coef2","precision","operateur","cfrac","times","fixeUnites","unite1","unite2","index1Depart","index2Depart","index1Arrivee","index2Arrivee","randint","i","texte","texteCorr","cpt","fraction","miseEnEvidence","texNombre","context","setReponse","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}