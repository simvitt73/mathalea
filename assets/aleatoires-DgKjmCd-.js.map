{"version":3,"file":"aleatoires-DgKjmCd-.js","sources":["../../src/lib/outils/aleatoires.ts"],"sourcesContent":["import { randint } from '../../modules/outils'\nimport { shuffle } from './arrayOutils'\nimport { joursParMois } from './dateEtHoraires'\nimport { rangeMinMax } from './nombres'\nimport {\n  lettreDepuisChiffre,\n  lettreMinusculeDepuisChiffre,\n} from './outilString'\n\n/**\n * retourne une liste de combien de nombres compris entre m et n (inclus) en évitant les valeurs de listeAEviter\n * toute la liste des nombres est retournée si combien est supérieur à l'effectif disponible\n * les valeurs sont dans un ordre aléatoire.\n * @author Jean-Claude Lhote\n *\n */\nexport function choisitNombresEntreMetN(\n  m: number,\n  n: number,\n  combien: number,\n  listeAEviter: number[] = [],\n): number[] {\n  let t\n  if (m > n) {\n    t = m\n    m = n\n    n = t\n  } else if (m === n) {\n    return [n]\n  }\n  if (combien > n - m) combien = n - m\n  let index = rangeMinMax(m, n, listeAEviter)\n  index = shuffle(index)\n  index = index.slice(0, combien)\n  return index\n}\n\n/**\n * retourne une liste de lettres majuscules (ou minuscule si majuscule=false)\n * il y aura nombre lettres dans un ordre aléatoire\n * les lettres à éviter sont données dans une chaine par exemple : 'QXY'\n * @author Jean-Claude Lhote\n */\nexport function choisitLettresDifferentes(\n  nombre: number,\n  lettresAeviter: string = '',\n  majuscule: boolean = true,\n): string[] {\n  const listeAEviter = []\n  const lettres = []\n  for (const l of lettresAeviter) {\n    listeAEviter.push(l.charCodeAt(0) - 64)\n  }\n  const index = choisitNombresEntreMetN(1, 26, nombre, listeAEviter)\n  for (const n of index) {\n    if (majuscule) lettres.push(lettreDepuisChiffre(n))\n    else lettres.push(lettreMinusculeDepuisChiffre(n))\n  }\n  return lettres\n}\n\n/**\n * Renvoie un tableau avec les résultats des tirages successifs\n * @param nombreTirages Combien de tirages ?\n * @param nombreFaces Pour spécifier le type de dés\n * @param nombreDes Combien de dés à chaque tirage ?\n * @author Jean-Claude Lhote\n */\nexport function tirerLesDes(\n  nombreTirages: number,\n  nombreFaces: number,\n  nombreDes: number,\n): number[][] {\n  const tirages = []\n  for (let i = 0; i <= (nombreFaces - 1) * nombreDes; i++)\n    tirages.push([i + nombreDes, 0])\n  for (let i = 0, resultat; i < nombreTirages; i++) {\n    resultat = 0\n    for (let j = 0; j < nombreDes; j++) resultat += randint(1, nombreFaces)\n    tirages[resultat - nombreDes][1]++\n  }\n  return tirages\n}\n\n/**\n * Renvoie un tableau de nombres\n * @param nombreNotes\n * @param noteMin\n * @param noteMax\n * @param distincts Si distincts === true, les notes de la liste seront toutes distinctes\n * @author Jean-Claude Lhote et Guillaume Valmont\n */\nexport function listeDeNotes(\n  nombreNotes: number,\n  noteMin: number = 0,\n  noteMax: number = 20,\n  distincts: boolean = false,\n): number[] {\n  const notes: number[] = []\n  let candidat, present, limite // nombre candidat, est-ce qu'il est déjà présent, une limite d'itérations pour éviter les boucles infinies\n  limite = 0\n  for (let i = 0; i < nombreNotes; ) {\n    limite += 1\n    if (distincts && limite < 100) {\n      // Si les nombres doivent être tous distincts et que la limite d'itérations n'est pas encore atteinte,\n      candidat = randint(noteMin, noteMax) // on tire au sort un nombre candidat,\n      present = false\n      for (let j = 0; j < notes.length; j++) {\n        // on vérifie s'il est présent,\n        if (candidat === notes[j]) {\n          present = true\n          break\n        }\n      }\n      if (!present) {\n        // s'il n'est pas présent, on le stocke.\n        notes.push(candidat)\n        i++\n      }\n    } else {\n      // Si les nombres n'ont pas tous à être distincts, on push directement.\n      notes.push(randint(noteMin, noteMax))\n      i++\n    }\n  }\n  return notes\n}\n\n/**\n * Renvoie un tableau de températures\n * @param base température médiane\n * @mois indice du mois (janvier=1...)\n * @annee pour déterminer si elle est bissextile ou non\n * @author Jean-Claude Lhote\n */\nexport function unMoisDeTemperature(\n  base: number,\n  indiceMois: number,\n  annee: number,\n): number[] {\n  const temperatures = []\n  let nombreJours = joursParMois(indiceMois)\n  if (indiceMois === 2) {\n    if ((annee % 4 === 0 && annee % 100 !== 0) || annee % 400 === 0)\n      nombreJours = 29 // années bissextiles.\n    else nombreJours = 28\n  }\n  temperatures.push(randint(-3, 3) + base)\n  for (let i = 1; i < nombreJours; i++)\n    temperatures.push(temperatures[i - 1] + randint(-2, 2))\n  return temperatures\n}\n\n/**\n * Crée une Uuid de 5 caractères hexadécimaux (1M de possibilités) (copie d'une fonction qui se trouve dans updateMenuInternational.js)\n * @returns {string}\n */\nexport function createUuid() {\n  let dt = new Date().getTime()\n  const uuid = 'xxxxx'.replace(/[xy]/g, (c) => {\n    const r = (dt + Math.random() * 16) % 16 | 0\n    dt = Math.floor(dt / 16)\n    return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16)\n  })\n  return uuid\n}\n"],"names":["choisitNombresEntreMetN","m","n","combien","listeAEviter","index","rangeMinMax","shuffle","choisitLettresDifferentes","nombre","lettresAeviter","majuscule","lettres","l","lettreDepuisChiffre","lettreMinusculeDepuisChiffre","tirerLesDes","nombreTirages","nombreFaces","nombreDes","tirages","i","resultat","j","randint","listeDeNotes","nombreNotes","noteMin","noteMax","distincts","notes","candidat","present","limite","unMoisDeTemperature","base","indiceMois","annee","temperatures","nombreJours","joursParMois","createUuid","dt","c","r"],"mappings":"sHAgBO,SAASA,EACdC,EACAC,EACAC,EACAC,EAAyB,CAAA,EACf,CACV,IAAI,EACJ,GAAIH,EAAIC,EACN,EAAID,EACJA,EAAIC,EACJA,EAAI,UACKD,IAAMC,EACf,MAAO,CAACA,CAAC,EAEPC,EAAUD,EAAID,IAAGE,EAAUD,EAAID,GACnC,IAAII,EAAQC,EAAYL,EAAGC,EAAGE,CAAY,EAC1C,OAAAC,EAAQE,EAAQF,CAAK,EACrBA,EAAQA,EAAM,MAAM,EAAGF,CAAO,EACvBE,CACT,CAQO,SAASG,EACdC,EACAC,EAAyB,GACzBC,EAAqB,GACX,CACV,MAAMP,EAAe,CAAA,EACfQ,EAAU,CAAA,EAChB,UAAWC,KAAKH,EACdN,EAAa,KAAKS,EAAE,WAAW,CAAC,EAAI,EAAE,EAExC,MAAMR,EAAQL,EAAwB,EAAG,GAAIS,EAAQL,CAAY,EACjE,UAAWF,KAAKG,EACVM,EAAWC,EAAQ,KAAKE,EAAoBZ,CAAC,CAAC,EAC7CU,EAAQ,KAAKG,EAA6Bb,CAAC,CAAC,EAEnD,OAAOU,CACT,CASO,SAASI,EACdC,EACAC,EACAC,EACY,CACZ,MAAMC,EAAU,CAAA,EAChB,QAASC,EAAI,EAAGA,IAAMH,EAAc,GAAKC,EAAWE,IAClDD,EAAQ,KAAK,CAACC,EAAIF,EAAW,CAAC,CAAC,EACjC,QAASE,EAAI,EAAGC,EAAUD,EAAIJ,EAAeI,IAAK,CAChDC,EAAW,EACX,QAASC,EAAI,EAAGA,EAAIJ,EAAWI,IAAKD,GAAYE,EAAQ,EAAGN,CAAW,EACtEE,EAAQE,EAAWH,CAAS,EAAE,CAAC,GACjC,CACA,OAAOC,CACT,CAUO,SAASK,EACdC,EACAC,EAAkB,EAClBC,EAAkB,GAClBC,EAAqB,GACX,CACV,MAAMC,EAAkB,CAAA,EACxB,IAAIC,EAAUC,EAASC,EACvBA,EAAS,EACT,QAASZ,EAAI,EAAGA,EAAIK,GAElB,GADAO,GAAU,EACNJ,GAAaI,EAAS,IAAK,CAE7BF,EAAWP,EAAQG,EAASC,CAAO,EACnCI,EAAU,GACV,QAAST,EAAI,EAAGA,EAAIO,EAAM,OAAQP,IAEhC,GAAIQ,IAAaD,EAAMP,CAAC,EAAG,CACzBS,EAAU,GACV,KACF,CAEGA,IAEHF,EAAM,KAAKC,CAAQ,EACnBV,IAEJ,MAEES,EAAM,KAAKN,EAAQG,EAASC,CAAO,CAAC,EACpCP,IAGJ,OAAOS,CACT,CASO,SAASI,EACdC,EACAC,EACAC,EACU,CACV,MAAMC,EAAe,CAAA,EACrB,IAAIC,EAAcC,EAAaJ,CAAU,EACrCA,IAAe,IACZC,EAAQ,IAAM,GAAKA,EAAQ,MAAQ,GAAMA,EAAQ,MAAQ,EAC5DE,EAAc,GACXA,EAAc,IAErBD,EAAa,KAAKd,EAAQ,GAAI,CAAC,EAAIW,CAAI,EACvC,QAAS,EAAI,EAAG,EAAII,EAAa,IAC/BD,EAAa,KAAKA,EAAa,EAAI,CAAC,EAAId,EAAQ,GAAI,CAAC,CAAC,EACxD,OAAOc,CACT,CAMO,SAASG,GAAa,CAC3B,IAAIC,EAAK,IAAI,KAAA,EAAO,QAAA,EAMpB,MALa,QAAQ,QAAQ,QAAUC,GAAM,CAC3C,MAAMC,GAAKF,EAAK,KAAK,SAAW,IAAM,GAAK,EAC3C,OAAAA,EAAK,KAAK,MAAMA,EAAK,EAAE,GACfC,IAAM,IAAMC,EAAKA,EAAI,EAAO,GAAK,SAAS,EAAE,CACtD,CAAC,CAEH"}