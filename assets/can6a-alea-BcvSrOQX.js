import{E,as as d,Y as r,ad as N,aP as w,F as G,n as R,a as D,aQ as S,u as k}from"./index-Bl1vqpvV.js";import{D as j}from"./vendors/decimal.js-BceHFVC1.js";import{s as F}from"./vendors/seedrandom-Cz-2rAdY.js";import{u as V}from"./json/uuidsToUrlFR-Cc7zu7XX.js";/* empty css                         */import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/three-q_6hD11P.js";import"./vendors/katex-BISJkeK-.js";import"./vendors/apigeom-CvUqzk7F.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-B10GlhlX.js";import"./json/refToUuidCH-CKb1Gq_b.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-BM0iwKz4.js";import"./json/referentiel2022FR-DRcEqmJS.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";const Ks="Choix aléatoires des questions",Ws=!0,Ys="mathLive",zs=!1,Hs="315b6",Xs={"fr-fr":["can6a-Aléa"],"fr-ch":["NR"]},i=function(C){window.logDebug>1&&console.info(C)};class Zs extends E{constructor(){super(),this.besoinFormulaireTexte=["Type de questions",[`Nombres séparés
 par des tirets :`,"All : Mélange","C1 à C65 : can de 6C01 à 6C65 (sauf 6C37)","G1 à G8 : can de 6G01 à 6G08","M1 à M20 : can de 6M01 à 6M20","N1 à N20 : can de 6N01 à 6N20","C : Mélange calcul","G : Mélange géométrie","M : Mélange mesure","N : Mélange numération"].join(`
`)],this.nbQuestions=4,this.sup="All",this.lastCallback="",this.nouvelleVersionWrapper=function(){this.nouvelleVersion()}}nouvelleVersion(){if(this.questionJamaisPosee(0,this.seed,this.sup,this.sup2,this.sup3,String(this.interactif),this.nbQuestions),this.lastCallback===this.listeArguments[0]){i("pas de recalcul");return}this.lastCallback=this.listeArguments[0],this.sup===null||this.sup===""?this.sup="All":this.sup=this.sup.toString(),i(this.sup);const A=this.sup.replaceAll("C","");let u=d(r({saisie:A,min:0,max:65,defaut:0,melange:66,nbQuestions:0,shuffle:!1,exclus:[37,0]}),0);i("pass1:"+u),u.length===0&&(this.sup.includes("C")||this.sup.includes("All"))&&(u=r({saisie:66,min:1,max:65,defaut:1,melange:66,nbQuestions:this.nbQuestions,shuffle:!0,exclus:[37]}),i("pass2:"+u));const $=this.sup.replaceAll("G","");let p=d(r({saisie:$,min:0,max:8,defaut:0,melange:9,nbQuestions:0,shuffle:!1}),0);i("pass1:"+p),p.length===0&&(this.sup.includes("G")||this.sup.includes("All"))&&(p=r({saisie:9,min:1,max:8,defaut:1,melange:9,nbQuestions:this.nbQuestions,shuffle:!0}),i("pass2:"+p));const M=this.sup.replaceAll("N","");let m=d(r({saisie:M,min:0,max:20,defaut:0,melange:21,nbQuestions:0,shuffle:!1}),0);i("pass1:"+m),m.length===0&&(this.sup.includes("N")||this.sup.includes("All"))&&(m=r({saisie:21,min:1,max:20,defaut:1,melange:21,nbQuestions:this.nbQuestions,shuffle:!0}),i("pass2:"+m));const v=this.sup.replaceAll("M","");let h=d(r({saisie:v,min:0,max:20,defaut:0,melange:21,nbQuestions:0,shuffle:!1}),0);i("pass1:"+h),h.length===0&&(this.sup.includes("M")||this.sup.includes("All"))&&(h=r({saisie:21,min:1,max:20,defaut:1,melange:21,nbQuestions:this.nbQuestions,shuffle:!0}),i("pass2:"+h));function y(...s){const o=[];let a=0;for(let l=0;l<s.length;l++)a=Math.max(s[l].length,a);for(let l=0;l<a;l++)for(let n=0;n<s.length;n++){const f=s[n].shift();f&&o.push(f)}return o}u.length===0&&p.length===0&&m.length===0&&h.length===0&&(u[0]="1",p[0]="1",m[0]="1",h[0]="1");const q=y(Array.from(u,s=>"C"+String(s).padStart(2,"0")),Array.from(p,s=>"G"+String(s).padStart(2,"0")),Array.from(m,s=>"N"+String(s).padStart(2,"0")),Array.from(h,s=>"M"+String(s).padStart(2,"0"))),Q=N(q,this.nbQuestions).slice(0,this.nbQuestions);i(Q.join(`
`));async function T(s,o){const a=[];for(let n=0;n<o.length;n++)n===0?await g(s,`can6${o[n]}`,n):a.push(g(s,`can6${o[n]}`,n));await Promise.all(a);const l=new window.Event("updateAsyncEx",{bubbles:!0});document.dispatchEvent(l),i("dispatched all Questions chargées")}function x(s){return(Object.entries(V).find(l=>{const[n,,]=l[1].replaceAll("\\","/").split("/").reverse();return n.split(".")[0]===s})??[])[0]}async function g(s,o,a){const l=x(o)??"",n=w(l).then(f=>{var b;const t=f,e=a;if(s.interactif?t.interactif=!0:t.interactif=!1,t.numeroExercice=s.numeroExercice,t.seed=s.seed,F(t.seed,{global:!0}),t.nouvelleVersion(),t.listeQuestions.length===0){s.listeCorrections[e]=t.correction,s.listeCanEnonces[e]=t.canEnonce,s.listeCanReponsesACompleter[e]=t.canReponseACompleter;let c;!(t.reponse instanceof G)&&!(t.reponse instanceof j)&&typeof t.reponse=="object"?c=t.reponse:c={reponse:{value:t.reponse,options:t.optionsDeComparaison??{}}},R(s,e,c,{formatInteractif:t.formatInteractif??"mathlive"}),s.listeQuestions[e]=t.question+D(s,e,S(t.formatChampTexte)||typeof t.formatChampTexte=="string"?t.formatChampTexte:"",t.optionsChampTexte||{})}else if(s.listeQuestions[e]=t.listeQuestions[0],s.listeCorrections[e]=t.listeCorrections[0],s.listeCanEnonces[e]=t.listeCanEnonces[0],s.listeCanReponsesACompleter[e]=t.listeCanReponsesACompleter[0],s.autoCorrection[e]=t.autoCorrection[0],((b=t==null?void 0:t.autoCorrection[0])==null?void 0:b.propositions)===void 0)s.listeQuestions[e]=s.listeQuestions[e].replaceAll(`champTexteEx${s.numeroExercice}Q0`,`champTexteEx${s.numeroExercice}Q${e}`),s.listeQuestions[e]=s.listeQuestions[e].replaceAll(`resultatCheckEx${s.numeroExercice}Q0`,`resultatCheckEx${s.numeroExercice}Q${e}`),s.listeQuestions[e]=s.listeQuestions[e].replaceAll(`tabMathliveEx${s.numeroExercice}Q0`,`tabMathliveEx${s.numeroExercice}Q${e}`),s.listeQuestions[e]=s.listeQuestions[e].replaceAll(`tabMathliveEx${s.numeroExercice}Q0`,`tabMathliveEx${s.numeroExercice}Q${e}`),s.listeQuestions[e]=s.listeQuestions[e].replaceAll(`spanEx${s.numeroExercice}Q0`,`spanEx${s.numeroExercice}Q${e}`);else{const c=k(s,e);s.listeCanReponsesACompleter[e]=c.texte,s.listeQuestions[e]=s.autoCorrection[e].enonce+c.texte}i("Question chargée"+a)}).catch(function(f){s instanceof E?(i(f),s.listeQuestions[a]="Erreur de chargement:"+o):window.notify("Erreur de chargement:"+o,{error:f})});return i("Calling Question chargée"+a),n}T(this,Q),this.listeQuestions=[],this.listeCorrections=[],this.listeCanEnonces=[],this.listeCanReponsesACompleter=[],this.autoCorrection=[];for(let s=0,o=0;s<this.nbQuestions&&o<50;o++)this.listeCorrections[s]="",this.listeCanEnonces[s]="",this.listeCanReponsesACompleter[s]="",this.listeQuestions[s]="chargement...",s++;i("fin nouvelleVersion")}}export{zs as amcReady,Zs as default,Ws as interactifReady,Ys as interactifType,Xs as refs,Ks as titre,Hs as uuid};
//# sourceMappingURL=can6a-alea-BcvSrOQX.js.map
