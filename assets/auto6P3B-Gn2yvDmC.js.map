{"version":3,"file":"auto6P3B-Gn2yvDmC.js","sources":["../../src/exercices/6e/auto6P3B.ts"],"sourcesContent":["import { texPrix } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Résoudre des problèmes de type : ... fois plus ou ... fois moins'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\nexport const dateDePublication = '02/05/2025'\n\n/**\n *\n * @author Mickael Guironnet\n */\nexport const uuid = 'c71fb'\n\nexport const refs = {\n  'fr-fr': ['auto6P3B'],\n  'fr-2016': ['6P11-3'],\n  'fr-ch': ['9NO16-6'],\n}\nexport default class ProblemesDeFoisPlusEtDeFoisMoins extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 4\n    this.sup = 1 // Niveau de difficulté\n    this.sup2 = 3\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      3,\n      '1 : Valeurs entières\\n2 : Une décimale\\n3 : Deux décimales',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Type de questions',\n      `Nombres séparés par des tirets :\n  1 : Fois moins que\n  2 : Fois plus que\n  3 : Mélange`,\n    ]\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestions = gestionnaireFormulaireTexte({\n      max: 2,\n      defaut: 1,\n      melange: 3,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup2,\n    })\n    const n = this.sup - 1\n\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Résoudre les problèmes suivants.'\n        : 'Résoudre le problème suivant.'\n\n    const listeTypeQuestions = []\n    const fois = [2, 3, 4, 5, 10]\n    const foisUsed: number[] = []\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      if (typesDeQuestions[i] === 1) {\n        listeTypeQuestions[i] =\n          randint(0, 1) < 1 ? 'foisMoinsQue' : 'combienDeFoisMoins'\n      } else if (typesDeQuestions[i] === 2) {\n        listeTypeQuestions[i] =\n          randint(0, 1) < 1 ? 'foisPlusQue' : 'combienDeFoisPlus'\n      }\n      // Boucle principale où i+1 correspond au numéro de la question\n      const f = choice(fois, foisUsed) // On choisit un nombre de fois aléatoire\n      const d = Math.floor(200 / f / 10) // pour éviter d'avoir des résultats supéreieurs à 200\n      const resu =\n        randint(2, d) * 10 +\n        randint(1, 9) +\n        (n > 0 ? randint(1, 9) * 0.1 : 0) +\n        (n > 1 ? randint(1, 9) * 0.01 : 0)\n      const value = resu * f\n      switch (\n        listeTypeQuestions[i] // Suivant le type de question, le contenu sera différent\n      ) {\n        case 'combienDeFoisPlus': {\n          texte = `J'ai $${texPrix(resu)}$ €. Combien font ${f} fois plus ?`\n          if (this.interactif && !context.isAmc) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n              {\n                texteApres: ' €',\n              },\n            )\n          }\n          texteCorr = `$${texPrix(resu)}$ € $\\\\times ${f}$ = $${texPrix(value)}$ € <br>`\n          texteCorr += `Donc le résultat est $${miseEnEvidence(texPrix(value))}$ €.`\n          if (context.isAmc) setReponse(this, i, value)\n          else handleAnswers(this, i, { reponse: { value: texPrix(value) } })\n          break\n        }\n        case 'combienDeFoisMoins': {\n          texte = `J'ai $${texPrix(value)}$ €. Combien font ${f} fois moins ?`\n          if (this.interactif && !context.isAmc) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n              {\n                texteApres: ' €',\n              },\n            )\n          }\n          texteCorr = `$${texPrix(value)}$ € $\\\\div ${f}$ = $${texPrix(resu)}$ € <br>`\n          texteCorr += `Donc le résultat est $${miseEnEvidence(texPrix(resu))}$ €.`\n          if (context.isAmc) setReponse(this, i, resu)\n          else handleAnswers(this, i, { reponse: { value: texPrix(resu) } })\n          break\n        }\n        case 'foisMoinsQue': {\n          texte = `${f} fois moins que $${texPrix(value)}$  €, c'est `\n          if (this.interactif && !context.isAmc) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n              {\n                texteApres: ' €',\n              },\n            )\n          } else {\n            texte += '$\\\\ldots\\\\ldots$ €'\n          }\n          texte += '.'\n          texteCorr = `$${texPrix(value)}$ € $\\\\div ${f}$ = $${texPrix(resu)}$ € <br>`\n          texteCorr += `Donc le résultat est $${miseEnEvidence(texPrix(resu))}$ €.`\n          if (context.isAmc) setReponse(this, i, resu)\n          else handleAnswers(this, i, { reponse: { value: texPrix(resu) } })\n          break\n        }\n        case 'foisPlusQue': {\n          texte = `${f} fois plus que $${texPrix(resu)}$  €, c'est `\n          if (this.interactif && !context.isAmc) {\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n              {\n                texteApres: ' €',\n              },\n            )\n          } else {\n            texte += '$\\\\ldots\\\\ldots$ €'\n          }\n          texte += '.'\n          texteCorr = `$${texPrix(resu)}$ € $\\\\times ${f}$ = $${texPrix(value)}$ € <br>`\n          texteCorr += `Donc le résultat est $${miseEnEvidence(texPrix(value))}$ €.`\n          handleAnswers(this, i, { reponse: { value: texPrix(value) } })\n          break\n        }\n      }\n      if (this.questionJamaisPosee(i, resu, f)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        foisUsed.push(f) // On enlève le nombre de fois utilisé pour ne pas le réutiliser\n        if (foisUsed.length === fois.length) foisUsed.splice(0, foisUsed.length) // Si tous les nombres de fois ont été utilisés, on les réinitialise\n        this.listeQuestions[i] = texte ?? ''\n        this.listeCorrections[i] = texteCorr ?? ''\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","ProblemesDeFoisPlusEtDeFoisMoins","Exercice","typesDeQuestions","gestionnaireFormulaireTexte","n","listeTypeQuestions","fois","foisUsed","texte","texteCorr","cpt","randint","f","choice","d","resu","value","texPrix","context","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","setReponse","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}