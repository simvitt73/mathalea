{"version":3,"file":"can3a-2026-Q19-CNxviNFO.js","sources":["../../src/exercices/can/can3a-2026/can3a-2026-Q19.ts"],"sourcesContent":["import { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { choice, shuffle } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport ExerciceCan from '../../ExerciceCan'\n\nexport const titre = 'Décomposition en produit de facteurs premiers'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'oohnm'\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': [],\n}\n\n/**\n * @author Gilles Mora\n\n*/\nexport default class Can32026Q19 extends ExerciceCan {\n   enonce(type?: 'a' | 'b' | 'c', facteurs?: number[]) {\n    if (type == null) {\n      type = choice(['a', 'b', 'c'])\n    }\n    \n    this.optionsChampTexte = { texteAvant: '<br>' }\n    this.optionsDeComparaison = { expressionNumerique: true }\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFractionPuissanceCrochets\n\n    if (type === 'a') {\n      // Cas a : produit de 3 facteurs premiers distincts SIMPLES\n      // Seulement 30, 42, 70 (pas de 105 qui est trop compliqué)\n      if (facteurs == null) {\n        const listeCasSimples = [\n          [2, 3, 5], // 30\n          [2, 3, 7], // 42\n          [2, 5, 7], // 70\n        ]\n        facteurs = choice(listeCasSimples)\n      }\n      \n      const nombre = facteurs[0] * facteurs[1] * facteurs[2]\n      const decomposition = `${facteurs[0]}\\\\times${facteurs[1]}\\\\times ${facteurs[2]}`\n      \n      this.reponse = [decomposition]\n      \n      this.question = `Décompose $${nombre}$ en produit de facteurs premiers.`\n      this.correction = `$${nombre}=${miseEnEvidence(decomposition)}$`\n      \n    } else if (type === 'b') {\n      // Cas b : produit de 2 facteurs premiers au carré (2², 3², 5²)\n      // Exemples : 36, 100\n      if (facteurs == null) {\n        facteurs = shuffle([2, 3, 5])\n        // Éviter que le produit soit trop grand (> 190)\n        while (facteurs[0] ** 2 * facteurs[1] ** 2 > 190) {\n          facteurs = shuffle([2, 3, 5])\n        }\n        facteurs = facteurs.slice(0, 2)\n      }\n      \n      const nombre = facteurs[0] * facteurs[0] * facteurs[1] * facteurs[1]\n      const decompositionComplete = `${facteurs[0]}\\\\times ${facteurs[0]}\\\\times ${facteurs[1]}\\\\times ${facteurs[1]}`\n      const decompositionCarres = `${facteurs[0]}^2\\\\times ${facteurs[1]}^2`\n      \n      this.reponse = [\n        `${facteurs[0]}\\\\times${facteurs[0]}\\\\times${facteurs[1]}\\\\times${facteurs[1]}`,\n        `${facteurs[1]}^2\\\\times${facteurs[0]}^2`,\n        decompositionCarres\n      ]\n      \n      this.question = `Décompose $${nombre}$ en produit de facteurs premiers.`\n      this.correction = `$${nombre}=${decompositionComplete}=${miseEnEvidence(decompositionCarres)}$`\n      \n    } else {\n      // Cas c : un facteur au carré (ou plus) et un facteur simple\n      // Exemples : 12 = 2²×3, 20 = 2²×5, 24 = 2³×3, 28 = 2²×7\n      if (facteurs == null) {\n        const exposant = choice([2, 3]) // 2² ou 2³\n        const base = choice([2, 3])\n        const autreFacteur = choice([2, 3, 5, 7].filter(x => x !== base))\n        facteurs = [base, exposant, autreFacteur]\n      }\n      \n      const [base, exposant, autreFacteur] = facteurs\n      const nombre = (base ** exposant) * autreFacteur\n      \n      let decompositionComplete = ''\n      for (let i = 0; i < exposant; i++) {\n        decompositionComplete += `${base}\\\\times `\n      }\n      decompositionComplete += autreFacteur\n      \n      const decompositionFactorisee = `${base}^${exposant}\\\\times ${autreFacteur}`\n      \n      this.reponse = [\n        decompositionComplete.replace(/\\\\times /g, '\\\\times'),\n        decompositionFactorisee,\n        `${autreFacteur}\\\\times ${base}^${exposant}`,\n      ]\n      \n      this.question = `Décompose $${nombre}$ en produit de facteurs premiers.`\n      this.correction = `$${nombre}=${decompositionComplete}=${miseEnEvidence(decompositionFactorisee)}$`\n    }\n    \n    this.canEnonce = this.question\n    this.canReponseACompleter = ''\n  }\n\n  nouvelleVersion() {\n    // Version officielle : 18 = 2×3×3 = 2×3²\n    if (this.canOfficielle) {\n      this.formatChampTexte = KeyboardType.clavierDeBaseAvecFractionPuissanceCrochets\n      this.optionsDeComparaison = { expressionNumerique: true }\n      this.optionsChampTexte = { texteAvant: '<br>' }\n      \n      const nombre = 18\n      const decompositionComplete = '2\\\\times 3\\\\times 3'\n      const decompositionCarres = '2\\\\times 3^2'\n      \n      this.reponse = [\n        '2\\\\times 3\\\\times3',\n        '3\\\\times 3\\\\times2',\n        '2\\\\times 3^2',\n        '3^2\\\\times 2',\n      ]\n      \n      this.question = `Décompose $${nombre}$ en produit de facteurs premiers.`\n      this.correction = `$${nombre}=${decompositionComplete}=${miseEnEvidence(decompositionCarres)}$`\n      this.canEnonce = this.question\n      this.canReponseACompleter = ''\n    } else {\n      this.enonce()\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","Can32026Q19","ExerciceCan","type","facteurs","choice","KeyboardType","nombre","decomposition","miseEnEvidence","shuffle","decompositionComplete","decompositionCarres","exposant","base","autreFacteur","x","i","decompositionFactorisee"],"mappings":"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"}