{"version":3,"file":"canTSpeAN03-BQ5-BlvI.js","sources":["../../src/exercices/can/TSpe/canTSpeAN03.ts"],"sourcesContent":["import Exercice from '../../Exercice'\nimport { choice, combinaisonListes } from '../../../lib/outils/arrayOutils'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../../modules/outils'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport { lettreDepuisChiffre } from '../../../lib/outils/outilString'\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { fraction } from '../../../modules/fractions'\n\nexport const titre = 'Résoudre des inéquations du type a^x<b'\nexport const dateDePublication = '4/5/2024'\nexport const uuid = 'ce764'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const refs = {\n  'fr-fr': ['canTSpeAN03'],\n  'fr-ch': [],\n}\n/**\n *\n * @author Claire Rousset\n\n*/\nexport default class ExerciceCalculsDeLog extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 5\n    this.spacingCorr = 2\n    this.sup = '4'\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? \"Résoudre l'inéquation suivante. \"\n        : 'Résoudre les inéquations suivantes. '\n    this.consigne +=\n      \"Les solutions devront être écrites sous la forme d'un intervalle.\"\n    type Operators = '>=' | '>' | '<=' | '<'\n    const operators: Operators[] = ['>=', '>', '<=', '<']\n\n    // La liste des signes de comparaison pour varier\n    const listeOperators: Operators[] = combinaisonListes(\n      operators,\n      this.nbQuestions,\n    ) as Operators[]\n    // La liste des types de questions fabriquée à partir du paramètre this.sup\n    const listeTypeQuestions = gestionnaireFormulaireTexte({\n      saisie: '1-2',\n      min: 1,\n      max: 4,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: this.nbQuestions,\n    })\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // on déclare les objets A et B qui servent à définir a et b\n      let A: { base: number; exp: number }\n      let B: { base: number; exp: number }\n      switch (listeTypeQuestions[i]) {\n        case 1:\n          do {\n            // Cas rationnel : même base pour a et b, mais exposants non multiples\n            A = { base: choice([2, 5]), exp: randint(-3, 3, [0, -1, 1]) }\n            B = { base: A.base, exp: randint(-4, 4, [0, A.exp]) }\n          } while (B.exp % A.exp === 0)\n\n          break\n        default: // Cas entier : même base et exposant de b multiple de |A.exp|\n          A = { base: choice([2, 3]), exp: randint(2, 3) }\n          B = { base: A.base, exp: Math.abs(A.exp) * 2 } // On évite l'exposant triple pour la base 5 car ça fait de trop grands nombres\n          break\n        /* default: // Cas irrationnel : base différentes\n          A = { base: choice([2, 5]), exp: randint(-2, 2, 0) }\n          B = { base: choice([2, 3, 5], [A.base]), exp: randint(2, 5, A.exp) }\n          break\n          */\n      }\n      // Les nombres a et b sont construits à partir de A et B.\n      const a = A.base ** A.exp\n      const b = B.base ** B.exp\n      // les nombres formatés\n      const stringA = texNombre(a, 5)\n      const stringB = texNombre(b, 5)\n      // pour cas 1 et 2 : on crée une fraction (classe FractionEtendue) qui peut être entière pour le cas 3 quotient vaut null\n      const quotient = A.base !== B.base ? null : fraction(B.exp, A.exp)\n      // un ternaire dans un ternaire... pour définir resultat selon le cas de figure\n      // Si quotient est null, alors on écrit le quotient de logs\n      // sinon, si quotient est entier, on écrit le nombre formaté par texNombre\n      // et sinon, on écrit la fraction formatée par texFSD (fraction signe devant)\n      const resultat =\n        quotient === null\n          ? `\\\\dfrac{\\\\log{(${stringB})}}{\\\\log{(${stringA})}}` // cas 3 (irrationnel)\n          : quotient.estEntiere\n            ? texNombre(quotient.valeurDecimale, 0) // cas 2 (entier)\n            : quotient.texFSD // cas 1 (rationnel)\n\n      // Un objet pour réunir toutes les corrections en un seul et même code où juste des morceaux changent.\n      // on accède à un élément avec dico['>'] par exemple.\n      // les propriétés d'un élément sont :\n      // signe pour l'opérateur\n      // signeInverse pour le signe dans la deuxième partie (qui a changé ou pas de côté)\n      // crochetG pour le crochet au début de l'intervalle\n      // crochetD pour celui de fin\n      // borneG pour la borne de gauche\n      // borneD pour la borne de droite\n      const dico = {\n        '<': {\n          signe: '<',\n          crochetG: '\\\\left]',\n          crochetD: '\\\\right[',\n          signeInverse: a > 1 ? '<' : '>',\n          borneG: a > 1 ? '-\\\\infty' : resultat,\n          borneD: a > 1 ? resultat : '+\\\\infty',\n        },\n        '>': {\n          signe: '>',\n          crochetG: '\\\\left]',\n          crochetD: '\\\\right[',\n          signeInverse: a > 1 ? '>' : '<',\n          borneG: a > 1 ? resultat : '-\\\\infty',\n          borneD: a > 1 ? '+\\\\infty' : resultat,\n        },\n        '<=': {\n          signe: '\\\\leq',\n          crochetG: a > 1 ? '\\\\left]' : '\\\\left[',\n          crochetD: a > 1 ? '\\\\right]' : '\\\\right[',\n          signeInverse: a > 1 ? '\\\\leq' : '\\\\geq',\n          borneG: a > 1 ? '-\\\\infty' : resultat,\n          borneD: a > 1 ? resultat : '+\\\\infty',\n        },\n        '>=': {\n          signe: '\\\\geq',\n          crochetG: a > 1 ? '\\\\left[' : '\\\\left]',\n          crochetD: a > 1 ? '\\\\right[' : '\\\\right]',\n          signeInverse: a > 1 ? '\\\\geq' : '\\\\leq',\n          borneG: a > 1 ? resultat : '-\\\\infty',\n          borneD: a > 1 ? '+\\\\infty' : resultat,\n        },\n      }\n\n      // On récupère les strings utiles pour le type de question dans notre dico.\n      const { signe, crochetG, crochetD, signeInverse, borneG, borneD } =\n        dico[listeOperators[i]]\n      // la question\n      let texte = `$${texNombre(a, 5)}^x ${signe} ${stringB}$`\n      // la correction\n      const compareAetZero = a > 1 ? '>0' : '<0' // pour la justification selon la valeur de a\n      let texteCorr = `$\\\\log{(${stringA}^x)} ${signe} \\\\log{(${stringB})}$`\n      texteCorr += `<br>$x\\\\log{(${stringA})} ${signe} \\\\log{(${stringB})}$`\n      texteCorr += `<br>$x ${signeInverse} \\\\dfrac{\\\\log{(${stringB})}}{\\\\log{(${stringA})}}$  car $\\\\log{(${stringA})}${compareAetZero}$`\n      // ici on traite le cas rationnel ou entier en ajoutant la phrase qui justifie\n      if (quotient !== null) {\n        texteCorr += `<br>Or, $\\\\dfrac{\\\\log{(${stringB})}}{\\\\log{(${stringA})}}= ${resultat}$ donc `\n      }\n      // La fin est commune\n      texteCorr += `<br>$\\\\mathcal{S}=${miseEnEvidence(`${crochetG} ${borneG} ; ${borneD} ${crochetD}`)}$`\n\n      if (this.interactif) {\n        // demander à Eric Elter pourquoi la comparaison d'intervalles ne fonctionne pas.\n        handleAnswers(this, i, {\n          reponse: {\n            value: `${crochetG} ${borneG} ; ${borneD} ${crochetD}`,\n            options: { intervalle: true },\n          },\n        })\n        texte += `<br>$${lettreDepuisChiffre(i + 1)} = $`\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFonctionsTerminales,\n        )\n      }\n      if (this.questionJamaisPosee(i, a, b, listeOperators[i])) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","interactifReady","interactifType","refs","ExerciceCalculsDeLog","Exercice","listeOperators","combinaisonListes","listeTypeQuestions","gestionnaireFormulaireTexte","i","cpt","A","B","choice","randint","a","stringA","texNombre","stringB","quotient","fraction","resultat","dico","signe","crochetG","crochetD","signeInverse","borneG","borneD","texte","compareAetZero","texteCorr","miseEnEvidence","handleAnswers","lettreDepuisChiffre","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"uoFAeO,MAAMA,GAAQ,yCACRC,GAAoB,WACpBC,GAAO,QACPC,GAAkB,GAClBC,GAAiB,WACjBC,GAAO,CAClB,QAAS,CAAC,aAAa,EACvB,QAAS,CAAA,CACX,EAMA,MAAqBC,WAA6BC,CAAS,CACzD,aAAc,CACZ,MAAA,EACA,KAAK,YAAc,EACnB,KAAK,YAAc,EACnB,KAAK,IAAM,IACX,KAAK,YAAc,CACrB,CAEA,iBAAkB,CAChB,KAAK,SACH,KAAK,cAAgB,EACjB,mCACA,uCACN,KAAK,UACH,oEAKF,MAAMC,EAA8BC,EAHL,CAAC,KAAM,IAAK,KAAM,GAAG,EAKlD,KAAK,WAAA,EAGDC,EAAqBC,EAA4B,CACrD,OAAQ,MACR,IAAK,EACL,IAAK,EACL,QAAS,EACT,OAAQ,EACR,YAAa,KAAK,WAAA,CACnB,EACD,QAASC,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAE3D,IAAIC,EACAC,EACJ,OAAQL,EAAmBE,CAAC,EAAA,CAC1B,IAAK,GACH,GAEEE,EAAI,CAAE,KAAME,EAAO,CAAC,EAAG,CAAC,CAAC,EAAG,IAAKC,EAAQ,GAAI,EAAG,CAAC,EAAG,GAAI,CAAC,CAAC,CAAA,EAC1DF,EAAI,CAAE,KAAMD,EAAE,KAAM,IAAKG,EAAQ,GAAI,EAAG,CAAC,EAAGH,EAAE,GAAG,CAAC,CAAA,QAC3CC,EAAE,IAAMD,EAAE,MAAQ,GAE3B,MACF,QACEA,EAAI,CAAE,KAAME,EAAO,CAAC,EAAG,CAAC,CAAC,EAAG,IAAKC,EAAQ,EAAG,CAAC,CAAA,EAC7CF,EAAI,CAAE,KAAMD,EAAE,KAAM,IAAK,KAAK,IAAIA,EAAE,GAAG,EAAI,CAAA,EAC3C,KAAA,CAQJ,MAAMI,EAAIJ,EAAE,MAAQA,EAAE,IAChB,EAAIC,EAAE,MAAQA,EAAE,IAEhBI,EAAUC,EAAUF,EAAG,CAAC,EACxBG,EAAUD,EAAU,EAAG,CAAC,EAExBE,EAAWR,EAAE,OAASC,EAAE,KAAO,KAAOQ,EAASR,EAAE,IAAKD,EAAE,GAAG,EAK3DU,EACJF,IAAa,KACT,kBAAkBD,CAAO,cAAcF,CAAO,MAC9CG,EAAS,WACPF,EAAUE,EAAS,eAAgB,CAAC,EACpCA,EAAS,OAWXG,EAAO,CACX,IAAK,CACH,MAAO,IACP,SAAU,UACV,SAAU,WACV,aAAcP,EAAI,EAAI,IAAM,IAC5B,OAAQA,EAAI,EAAI,WAAaM,EAC7B,OAAQN,EAAI,EAAIM,EAAW,UAAA,EAE7B,IAAK,CACH,MAAO,IACP,SAAU,UACV,SAAU,WACV,aAAcN,EAAI,EAAI,IAAM,IAC5B,OAAQA,EAAI,EAAIM,EAAW,WAC3B,OAAQN,EAAI,EAAI,WAAaM,CAAA,EAE/B,KAAM,CACJ,MAAO,QACP,SAAUN,EAAI,EAAI,UAAY,UAC9B,SAAUA,EAAI,EAAI,WAAa,WAC/B,aAAcA,EAAI,EAAI,QAAU,QAChC,OAAQA,EAAI,EAAI,WAAaM,EAC7B,OAAQN,EAAI,EAAIM,EAAW,UAAA,EAE7B,KAAM,CACJ,MAAO,QACP,SAAUN,EAAI,EAAI,UAAY,UAC9B,SAAUA,EAAI,EAAI,WAAa,WAC/B,aAAcA,EAAI,EAAI,QAAU,QAChC,OAAQA,EAAI,EAAIM,EAAW,WAC3B,OAAQN,EAAI,EAAI,WAAaM,CAAA,CAC/B,EAII,CAAE,MAAAE,EAAO,SAAAC,EAAU,SAAAC,EAAU,aAAAC,EAAc,OAAAC,EAAQ,OAAAC,GACvDN,EAAKjB,EAAeI,CAAC,CAAC,EAExB,IAAIoB,EAAQ,IAAIZ,EAAUF,EAAG,CAAC,CAAC,MAAMQ,CAAK,IAAIL,CAAO,IAErD,MAAMY,EAAiBf,EAAI,EAAI,KAAO,KACtC,IAAIgB,EAAY,WAAWf,CAAO,QAAQO,CAAK,WAAWL,CAAO,MACjEa,GAAa,gBAAgBf,CAAO,MAAMO,CAAK,WAAWL,CAAO,MACjEa,GAAa,UAAUL,CAAY,mBAAmBR,CAAO,cAAcF,CAAO,qBAAqBA,CAAO,KAAKc,CAAc,IAE7HX,IAAa,OACfY,GAAa,2BAA2Bb,CAAO,cAAcF,CAAO,QAAQK,CAAQ,WAGtFU,GAAa,qBAAqBC,EAAe,GAAGR,CAAQ,IAAIG,CAAM,MAAMC,CAAM,IAAIH,CAAQ,EAAE,CAAC,IAE7F,KAAK,aAEPQ,EAAc,KAAMxB,EAAG,CACrB,QAAS,CACP,MAAO,GAAGe,CAAQ,IAAIG,CAAM,MAAMC,CAAM,IAAIH,CAAQ,GACpD,QAAS,CAAE,WAAY,EAAA,CAAK,CAC9B,CACD,EACDI,GAAS,QAAQK,EAAoBzB,EAAI,CAAC,CAAC,OAC3CoB,GAASM,EACP,KACA1B,EACA2B,EAAa,0BAAA,GAGb,KAAK,oBAAoB3B,EAAGM,EAAG,EAAGV,EAAeI,CAAC,CAAC,IACrD,KAAK,eAAeA,CAAC,EAAIoB,EACzB,KAAK,iBAAiBpB,CAAC,EAAIsB,EAC3BtB,KAEFC,GACF,CACA2B,EAAwB,IAAI,CAC9B,CACF"}