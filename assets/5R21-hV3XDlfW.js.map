{"version":3,"file":"5R21-hV3XDlfW.js","sources":["../../src/exercices/5e/5R21.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureNombreRelatif,\n  ecritureNombreRelatifc,\n  ecritureParentheseSiNegatif,\n} from '../../lib/outils/ecritures'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieEntiere,\n} from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\n\nexport const titre = 'Soustraction de deux nombres relatifs'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDeModifImportante = '23/08/2024'\n\n/**\n * Effectuer la soustraction de  2 nombres relatifs.\n *\n * * On peut paramétrer la distance à zéro maximale des deux termes (par défaut égale à 20)\n * * On peut choisir d'avoir une écriture simplifiée  (par défaut ce n'est pas le cas)\n * * On peut choisir d'avoir des nombres décimaux (par défaut ce n'est pas le cas)\n * @author Rémi Angot\n * 5R21\n * Rendu les différentes situations équiprobables le 16/10/2021 par Guillaume Valmont\n * Ajout possibilité correction non détaillée le 11/11/2021 par Mireille Gain\n */\nexport const uuid = 'b6982'\n\nexport const refs = {\n  'fr-fr': ['5R21'],\n  'fr-ch': ['9NO9-13'],\n}\nexport default class ExerciceSoustractionsRelatifs extends Exercice {\n  constructor() {\n    super()\n    this.sup = 20\n    this.sup2 = false // écriture simplifiée\n    this.sup3 = false // nombres décimaux\n\n    this.consigne = this.interactif\n      ? 'Calculer (mentalement ou au brouillon) et indiquer seulement le résultat final.'\n      : 'Calculer.'\n    this.nbCols = 3\n    this.nbColsCorr = 2\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = true\n    this.besoinFormulaireNumerique = ['Valeur maximale', 99999]\n    this.besoinFormulaire2CaseACocher = ['Avec des écritures simplifiées']\n    this.besoinFormulaire3CaseACocher = ['Avec des nombres décimaux']\n    this.comment =\n      \"Si l'option « Avec des nombres décimaux » est activée, 2 fois sur 3 les nombres auront un chiffre après la virgule et une fois sur 3 un seul terme aura deux chiffres après la virgule.\"\n  }\n\n  nouvelleVersion() {\n    let liste: [1 | -1, 1 | -1][] = [\n      [-1, -1],\n      [-1, 1],\n      [1, -1],\n    ] // Les deux nombres relatifs ne peuvent pas être tous les deux positifs\n    liste = combinaisonListes(liste, this.nbQuestions)\n    const partieDecimaleAUnChiffre = combinaisonListes(\n      [true, true, false],\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let a: number\n      let b: number\n      let texte = ''\n      let texteCorr = ''\n      a = randint(1, this.sup)\n      b = randint(1, this.sup)\n      const k = liste[i]\n      a = a * k[0]\n      b = b * k[1]\n      if (this.sup3) {\n        a = new Decimal(randint(1, this.sup * 10)).div(10).mul(k[0]).toNumber()\n        if (partieDecimaleAUnChiffre[i]) {\n          b = new Decimal(randint(1, this.sup * 10))\n            .div(10)\n            .mul(k[1])\n            .toNumber()\n        } else {\n          b = new Decimal(randint(1, this.sup * 100))\n            .div(100)\n            .mul(k[1])\n            .toNumber()\n        }\n        if (choice([true, false])) {\n          ;[a, b] = [b, a]\n        }\n      }\n      if (this.sup2) {\n        texte = `$ ${a} - ${ecritureParentheseSiNegatif(b)} =$`\n        if (this.interactif && !context.isAmc) {\n          texte =\n            `$ ${a} - ${ecritureParentheseSiNegatif(b)} = $` +\n            ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase, {})\n        }\n        if (b > 0) {\n          texteCorr = `$ ${a} - ${ecritureParentheseSiNegatif(b)} = ${miseEnEvidence(texNombre(a - b))} $`\n        } else {\n          if (this.correctionDetaillee) {\n            texteCorr = `$ ${a} - ${ecritureParentheseSiNegatif(b)} = ${a} ${ecritureAlgebrique(-b)} = ${miseEnEvidence(texNombre(a - b))}$`\n          } else {\n            texteCorr = `$ ${a} - ${ecritureParentheseSiNegatif(b)} = ${miseEnEvidence(texNombre(a - b))}$`\n          }\n        }\n      } else {\n        texte =\n          '$ ' +\n          ecritureNombreRelatif(a) +\n          ' - ' +\n          ecritureNombreRelatif(b) +\n          ' =$'\n        if (this.interactif && !context.isAmc) {\n          texte =\n            '$ ' +\n            ecritureNombreRelatif(a) +\n            ' - ' +\n            ecritureNombreRelatif(b) +\n            ' = $' +\n            ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase, {})\n        }\n        if (this.correctionDetaillee) {\n          texteCorr =\n            '$ ' +\n            ecritureNombreRelatif(a) +\n            ' - ' +\n            ecritureNombreRelatif(b) +\n            ' = ' +\n            ecritureNombreRelatifc(a) +\n            ' + ' +\n            ecritureNombreRelatifc(-1 * b) +\n            ' = ' +\n            ecritureNombreRelatifc(a - b, { color: orangeMathalea }) +\n            ' $'\n        } else {\n          texteCorr =\n            '$ ' +\n            ecritureNombreRelatif(a) +\n            ' - ' +\n            ecritureNombreRelatif(b) +\n            ' = ' +\n            ecritureNombreRelatifc(a - b, { color: orangeMathalea }) +\n            ' $'\n        }\n      }\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          setReponse(\n            this,\n            i,\n            [arrondi(a - b), `(${ecritureAlgebrique(a - b)})`],\n            {\n              signe: true,\n              digits: Math.max(\n                2,\n                nombreDeChiffresDansLaPartieEntiere(arrondi(a - b)),\n              ),\n              decimals: 0,\n            },\n          )\n        } else\n          handleAnswers(this, i, {\n            reponse: {\n              value: arrondi(a - b).toString(),\n              options: { nombreDecimalSeulement: true },\n            },\n          })\n\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","ExerciceSoustractionsRelatifs","Exercice","liste","combinaisonListes","partieDecimaleAUnChiffre","i","cpt","a","b","texte","texteCorr","randint","k","Decimal","choice","ecritureParentheseSiNegatif","context","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","texNombre","ecritureAlgebrique","ecritureNombreRelatif","ecritureNombreRelatifc","orangeMathalea","setReponse","arrondi","nombreDeChiffresDansLaPartieEntiere","handleAnswers","listeQuestionsToContenu"],"mappings":"qsFA0BO,MAAMA,GAAQ,wCACRC,GAAkB,GAClBC,GAAiB,WACjBC,GAAW,GACXC,GAAU,SACVC,GAAwB,aAaxBC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,MAAM,EAChB,QAAS,CAAC,SAAS,CACrB,EACA,MAAqBC,WAAsCC,CAAS,CAClE,aAAc,CACZ,MAAA,EACA,KAAK,IAAM,GACX,KAAK,KAAO,GACZ,KAAK,KAAO,GAEZ,KAAK,SAAW,KAAK,WACjB,kFACA,YACJ,KAAK,OAAS,EACd,KAAK,WAAa,EAClB,KAAK,8BAAgC,GACrC,KAAK,oBAAsB,GAC3B,KAAK,0BAA4B,CAAC,kBAAmB,KAAK,EAC1D,KAAK,6BAA+B,CAAC,gCAAgC,EACrE,KAAK,6BAA+B,CAAC,2BAA2B,EAChE,KAAK,QACH,yLACJ,CAEA,iBAAkB,CAChB,IAAIC,EAA4B,CAC9B,CAAC,GAAI,EAAE,EACP,CAAC,GAAI,CAAC,EACN,CAAC,EAAG,EAAE,CAAA,EAERA,EAAQC,EAAkBD,EAAO,KAAK,WAAW,EACjD,MAAME,EAA2BD,EAC/B,CAAC,GAAM,GAAM,EAAK,EAClB,KAAK,WAAA,EAEP,QAASE,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,IAAIC,EACAC,EACAC,EAAQ,GACRC,EAAY,GAChBH,EAAII,EAAQ,EAAG,KAAK,GAAG,EACvBH,EAAIG,EAAQ,EAAG,KAAK,GAAG,EACvB,MAAMC,EAAIV,EAAMG,CAAC,EACjBE,EAAIA,EAAIK,EAAE,CAAC,EACXJ,EAAIA,EAAII,EAAE,CAAC,EACP,KAAK,OACPL,EAAI,IAAIM,EAAQF,EAAQ,EAAG,KAAK,IAAM,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,IAAIC,EAAE,CAAC,CAAC,EAAE,SAAA,EACzDR,EAAyBC,CAAC,EAC5BG,EAAI,IAAIK,EAAQF,EAAQ,EAAG,KAAK,IAAM,EAAE,CAAC,EACtC,IAAI,EAAE,EACN,IAAIC,EAAE,CAAC,CAAC,EACR,SAAA,EAEHJ,EAAI,IAAIK,EAAQF,EAAQ,EAAG,KAAK,IAAM,GAAG,CAAC,EACvC,IAAI,GAAG,EACP,IAAIC,EAAE,CAAC,CAAC,EACR,SAAA,EAEDE,EAAO,CAAC,GAAM,EAAK,CAAC,IACrB,CAACP,EAAGC,CAAC,EAAI,CAACA,EAAGD,CAAC,IAGf,KAAK,MACPE,EAAQ,KAAKF,CAAC,MAAMQ,EAA4BP,CAAC,CAAC,MAC9C,KAAK,YAAc,CAACQ,EAAQ,QAC9BP,EACE,KAAKF,CAAC,MAAMQ,EAA4BP,CAAC,CAAC,OAC1CS,EAAyB,KAAMZ,EAAGa,EAAa,cAAe,CAAA,CAAE,GAEhEV,EAAI,EACNE,EAAY,KAAKH,CAAC,MAAMQ,EAA4BP,CAAC,CAAC,MAAMW,EAAeC,EAAUb,EAAIC,CAAC,CAAC,CAAC,KAExF,KAAK,oBACPE,EAAY,KAAKH,CAAC,MAAMQ,EAA4BP,CAAC,CAAC,MAAMD,CAAC,IAAIc,EAAmB,CAACb,CAAC,CAAC,MAAMW,EAAeC,EAAUb,EAAIC,CAAC,CAAC,CAAC,IAE7HE,EAAY,KAAKH,CAAC,MAAMQ,EAA4BP,CAAC,CAAC,MAAMW,EAAeC,EAAUb,EAAIC,CAAC,CAAC,CAAC,MAIhGC,EACE,KACAa,EAAsBf,CAAC,EACvB,MACAe,EAAsBd,CAAC,EACvB,MACE,KAAK,YAAc,CAACQ,EAAQ,QAC9BP,EACE,KACAa,EAAsBf,CAAC,EACvB,MACAe,EAAsBd,CAAC,EACvB,OACAS,EAAyB,KAAMZ,EAAGa,EAAa,cAAe,EAAE,GAEhE,KAAK,oBACPR,EACE,KACAY,EAAsBf,CAAC,EACvB,MACAe,EAAsBd,CAAC,EACvB,MACAe,EAAuBhB,CAAC,EACxB,MACAgB,EAAuB,GAAKf,CAAC,EAC7B,MACAe,EAAuBhB,EAAIC,EAAG,CAAE,MAAOgB,CAAA,CAAgB,EACvD,KAEFd,EACE,KACAY,EAAsBf,CAAC,EACvB,MACAe,EAAsBd,CAAC,EACvB,MACAe,EAAuBhB,EAAIC,EAAG,CAAE,MAAOgB,CAAA,CAAgB,EACvD,MAGF,KAAK,oBAAoBnB,EAAGE,EAAGC,CAAC,IAElC,KAAK,eAAeH,CAAC,EAAII,EACzB,KAAK,iBAAiBJ,CAAC,EAAIK,EAEvBM,EAAQ,MACVS,EACE,KACApB,EACA,CAACqB,EAAQnB,EAAIC,CAAC,EAAG,IAAIa,EAAmBd,EAAIC,CAAC,CAAC,GAAG,EACjD,CACE,MAAO,GACP,OAAQ,KAAK,IACX,EACAmB,EAAoCD,EAAQnB,EAAIC,CAAC,CAAC,CAAA,EAEpD,SAAU,CAAA,CACZ,EAGFoB,EAAc,KAAMvB,EAAG,CACrB,QAAS,CACP,MAAOqB,EAAQnB,EAAIC,CAAC,EAAE,SAAA,EACtB,QAAS,CAAE,uBAAwB,EAAA,CAAK,CAC1C,CACD,EAEHH,KAEFC,GACF,CACAuB,EAAwB,IAAI,CAC9B,CACF"}