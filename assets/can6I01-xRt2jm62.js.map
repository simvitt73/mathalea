{"version":3,"file":"can6I01-xRt2jm62.js","sources":["../../src/exercices/can/6e/can6I01.ts"],"sourcesContent":["/* eslint-disable camelcase */\nimport { colorToLatexOrHTML } from '../../../lib/2d/colorToLatexOrHtml'\nimport { fixeBordures } from '../../../lib/2d/fixeBordures'\nimport { point } from '../../../lib/2d/PointAbstrait'\nimport { texteParPositionEchelle } from '../../../lib/2d/textes'\nimport { tracePoint } from '../../../lib/2d/TracePoint'\nimport { texteGras } from '../../../lib/format/style'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { ajouterLien } from '../../../lib/outils/enrichissements'\nimport { stringNombre } from '../../../lib/outils/texNombre'\nimport {\n  allerA,\n  angleScratchTo2d,\n  attendre,\n  baisseCrayon,\n  clone,\n  creerLutin,\n  ObjetLutin,\n  orienter,\n} from '../../../modules/2dLutin'\nimport { context } from '../../../modules/context'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport {\n  noteLaCouleur,\n  Plateau2dNLC,\n  testInstruction,\n  testSequence,\n  traducNum,\n} from '../../../modules/noteLaCouleur'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../../modules/outils'\nimport { roseDesVents, scratchblock } from '../../../modules/scratchblock'\nimport type { NestedObjetMathalea2dArray } from '../../../types/2d'\nimport Exercice from '../../Exercice'\n\nexport const dateDePublication = '11/04/2021'\nexport const titre = 'Noter la couleur (scratch)'\nexport const interactifType = 'mathLive'\nexport const interactifReady = true\nexport type NoteLaCouleurParams = {\n  x: number\n  y: number\n  orientation: number\n  plateau: string[][]\n  relatif: boolean\n  nx: number\n  ny: number\n  pas: number\n}\n\n/**\n * Note_la_couleur() Exercice inspiré de l'activité débranchée de Jean-Yves Labouche Note La Couleur\n * https://www.monclasseurdemaths.fr/profs/algorithmique-scratch/note-la-couleur/\n * @author Jean-Claude Lhote\n */\nexport const uuid = '667d1'\n\nexport const refs = {\n  'fr-fr': ['can6I01', '6I1B-flash1'],\n  'fr-ch': [],\n}\nexport default class CanNoteLaCouleur6 extends Exercice {\n  relatif: boolean\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de plateau',\n      4,\n      '1 : Plateau couleur sans numéro\\n2 : Plateau couleur avec numéros\\n3 : Plateau noir et blanc avec nom des couleurs\\n4 : Plateau noir et blanc avec numéros',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Graduations', true]\n    // this.besoinFormulaire3Numerique = ['Nombre de couleurs (Maximum 6)', 6]\n    this.besoinFormulaire4CaseACocher = ['Plateau de jeu original', false]\n    this.typeExercice = 'Scratch'\n    this.sup = 1\n    this.sup2 = true\n    this.sup3 = 1\n    this.sup4 = true\n    this.relatif = false\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = true\n    this.nbQuestions = 6\n  }\n\n  nouvelleVersion() {\n    const damier = [\n      ['Vert', 'Orange', 'Rose', 'Noir', 'Orange', 'Blanc'],\n      ['Noir', 'Rouge', 'Rose', 'Vert', 'Orange', 'Rose'],\n      ['Orange', 'Gris', 'Rouge', 'Jaune', 'Noir', 'Vert'],\n      ['Bleu', 'Jaune', 'Orange', 'Vert', 'Gris', 'Jaune'],\n      ['Rose', 'Bleu', 'Rouge', 'Bleu', 'Noir', 'Blanc'],\n    ]\n    this.sup = contraindreValeur(1, 4, this.sup, 1)\n    const echelleDessin = 0.4\n    const rose = roseDesVents()\n\n    let j, test\n    const paramsCorrection = {\n      xmin: -1,\n      ymin: -1,\n      xmax: 11,\n      ymax: 9,\n      pixelsParCm: 20,\n      scale: echelleDessin,\n      optionsTikz: ['baseline=3.5 cm'],\n    }\n    let commandes_disponibles\n    const sequences_disponibles = []\n    let sequence\n    let result\n    let nb_couleurs\n    let instruction\n    let couleurs: string[] = []\n    let liste_instructions\n\n    let lutin, lutindepart\n    let angledepart\n    let xdepart = 0\n    let ydepart = 0\n    context.unitesLutinParCm = 13.33\n    context.pixelsParCm = 20\n    let pion\n    const lePlateau = new Plateau2dNLC({\n      type: this.sup,\n      melange: !this.sup4,\n      scale: echelleDessin,\n      relatif: this.relatif,\n      nx: 6,\n      ny: 5,\n      pas: 20,\n      plateau: damier,\n    })\n    for (let q = 0; q < this.nbQuestions; ) {\n      const objetsCorrection: NestedObjetMathalea2dArray = []\n      const objetsEnonce: NestedObjetMathalea2dArray = []\n      objetsEnonce.push(lePlateau.objets ?? [])\n      objetsCorrection.push(lePlateau.objets ?? [])\n      let texte = ''\n      let texteCorr = ''\n      let compteur = 0\n      let retour_a_la_case_depart\n      let compteur_essais_sequence\n      commandes_disponibles = [\n        ['AV20', 'AV40'],\n        ['TD90', 'TG90'],\n      ]\n      for (let m = 0; m < 2; m++) {\n        for (let n = 0, ins1, ins2, ins3, ins4; n < 2; n++) {\n          ins1 = commandes_disponibles[0][m]\n          ins2 = commandes_disponibles[1][n]\n          ins3 = commandes_disponibles[0][1 - m]\n          ins4 = commandes_disponibles[1][1 - n]\n          sequences_disponibles.push(\n            [ins1, ins2, ins3, 'NLC'],\n            [ins3, ins2, ins1, 'NLC'],\n            [ins1, ins4, ins3, 'NLC'],\n            [ins3, ins4, ins1, 'NLC'],\n          )\n        }\n      }\n      retour_a_la_case_depart = true\n      angledepart = choice([90, 0, -90, 180]) as number\n      xdepart = 10 + randint(1, 5) * 20\n      ydepart = 10 + randint(1, 4) * 20\n      pion = noteLaCouleur({\n        x: xdepart,\n        y: ydepart,\n        orientation: angledepart,\n        plateau: lePlateau.plateauNLC,\n        relatif: this.relatif,\n        nx: 6,\n        ny: 5,\n        pas: 20,\n      })\n      do {\n        objetsEnonce.length = 1\n        lutin = creerLutin()\n        angledepart = choice([90, 0, -90, 180]) as number\n        xdepart = 10 + randint(1, 5) * 20\n        ydepart = 10 + randint(1, 4) * 20\n        pion = noteLaCouleur({\n          x: xdepart,\n          y: ydepart,\n          orientation: angledepart,\n          plateau: lePlateau.plateauNLC,\n          relatif: this.relatif,\n          nx: 6,\n          ny: 5,\n          pas: 20,\n        })\n        lutin.color = context.isHtml\n          ? colorToLatexOrHTML('green')\n          : colorToLatexOrHTML('black')\n        lutin.epaisseur = 2\n        lutin.pointilles = 2\n        allerA(xdepart, ydepart, lutin)\n        const alpha: number = angleScratchTo2d(angledepart)\n        orienter(alpha, lutin)\n        lutindepart = clone(lutin) as ObjetLutin\n        baisseCrayon(lutindepart)\n        allerA(xdepart, ydepart, lutindepart)\n        objetsEnonce.push(lutindepart)\n        baisseCrayon(lutin)\n        compteur++\n        if (compteur > 5) break\n        pion.codeScratch = ''\n        couleurs = []\n        nb_couleurs = parseInt(this.sup3)\n        liste_instructions = []\n        j = 0\n        compteur_essais_sequence = 0\n        pion.codeScratch =\n          '\\\\begin{scratch}[print,fill,blocks,scale=0.5]\\n \\\\blockinit{quand \\\\greenflag est cliqué}\\n '\n        pion.codeScratch += `\\\\blockmove{aller à x: \\\\ovalnum{${xdepart}} y: \\\\ovalnum{${ydepart}}}\\n \\\\blockmove{s'orienter à \\\\ovalnum{${angledepart}}}\\n`\n        pion.currentIndex += pion.codeScratch.length\n        while (nb_couleurs > j && compteur_essais_sequence < 10) {\n          compteur_essais_sequence = 0\n          sequence = choice(sequences_disponibles)\n          test = testSequence(sequence, pion)\n          while (!test[0] && compteur_essais_sequence < 10) {\n            compteur_essais_sequence++\n            sequence = choice(sequences_disponibles)\n            test = testSequence(sequence, pion)\n          }\n          if (compteur_essais_sequence < 10) {\n            retour_a_la_case_depart = false\n            for (let i = 0; i < sequence.length; i++) {\n              instruction = sequence[i]\n              result = testInstruction(instruction, lutin, pion)\n              if (instruction === 'NLC') {\n                liste_instructions.push(instruction)\n                couleurs.push(pion.nlc())\n                j++\n                pion.codeScratch += result[4] + '\\n'\n                pion.currentIndex += result[4].length + 1\n                lutin = result[5]\n                attendre(5, lutin)\n              } else {\n                liste_instructions.push(instruction)\n                pion.currentPos.x = result[1]\n                pion.currentPos.y = result[2]\n                pion.currentOrientation = result[3]\n                pion.codeScratch += result[4] + '\\n'\n                pion.currentIndex += result[4].length + 1\n                lutin = result[5]\n              }\n            }\n          } else {\n            angledepart = choice([90, 0, -90, 180])\n            xdepart = 10 + randint(1, 5) * 20\n            ydepart = 10 + randint(1, 4) * 20\n          }\n        }\n      } while (retour_a_la_case_depart)\n      if (this.sup2) {\n        objetsEnonce.push(tracePoint(point(xdepart * 0.075, ydepart * 0.075)))\n        for (let i = 1; i < 5; i++) {\n          if (i !== 1) {\n            objetsEnonce.push(\n              texteParPositionEchelle(\n                stringNombre(20 * i),\n                1.5 * i,\n                -0.3,\n                0,\n                'black',\n                1.2,\n                'milieu',\n                true,\n                echelleDessin,\n              ),\n            )\n          }\n        }\n        for (let i = 1; i < 4; i++) {\n          if (i !== 1) {\n            objetsEnonce.push(\n              texteParPositionEchelle(\n                stringNombre(20 * i),\n                -0.5,\n                1.5 * i,\n                0,\n                'black',\n                1.2,\n                'milieu',\n                true,\n                echelleDessin,\n              ),\n            )\n          }\n        }\n      }\n      pion.codeScratch += '\\\\end{scratch}'\n      if (context.isHtml && context.vue !== 'diap') {\n        texte = `Cet exercice est tiré de l'excellente activité débranchée ${ajouterLien('https://www.monclasseurdemaths.fr/profs/algorithmique-scratch/note-la-couleur/', 'Note la couleur')} de Jean-Yves Labouche.<br>`\n        texte +=\n          'Il a été conçu pour étendre les possibilités de fiches proposées.<br>'\n        texte += `N'hésitez pas à vous rendre sur le site ${ajouterLien('https://www.monclasseurdemaths.fr', 'Mon classeur de Maths.fr')} de Jean-Yves pour y découvrir la multitude de ressources qu'il propose.<br>`\n        texte += `Pour jouer, regarder les ${ajouterLien('https://coopmaths.fr/alea/assets/pdf/reglesnlc.pdf', 'Règles du jeu')} .<br>`\n      } else {\n        texte = ''\n      }\n      texte += `Exécuter le programme et trouver la couleur à noter. ${ajouteChampTexteMathLive(this, q, KeyboardType.alphanumeric)}<br><br>`\n      if (context.isHtml) {\n        texte +=\n          '<table><tr><td>' +\n          scratchblock(pion.codeScratch) +\n          '</td><td>' +\n          mathalea2d(Object.assign({}, fixeBordures([rose])), rose) +\n          '</td><td>' +\n          `${\n            this.sup === 4 || this.sup === 2\n              ? 'Correspondance chiffre-couleur : <br>0=Blanc ; 1=Noir ; 2=Rouge ; 3=Bleu ; 4=Orange ; 5=Rose ; 6=Jaune ; 7=Vert ; 8=Gris<br>'\n              : ''\n          }` +\n          mathalea2d(paramsCorrection, objetsEnonce) +\n          '</td></tr></table>'\n      } else {\n        texte += `\\\\begin{minipage}{0.1\\\\textwidth} ${scratchblock(pion.codeScratch)} \\n \\\\end{minipage}\n        \\\\begin{minipage}{0.4\\\\textwidth} \\n\\t ${mathalea2d(Object.assign({}, fixeBordures([rose]), { scale: 0.5 }), rose)} \\n \\\\end{minipage}\n      \\\\begin{minipage}{0.3\\\\textwidth} \\n\\t ${\n        this.sup === 4 || this.sup === 2\n          ? 'Correspondance chiffre-couleur : \\\\\\\\\\n0=Blanc, 1=Noir, 2=Rouge, 3=Bleu, 4=Orange, 5=Rose, 6=Jaune, 7=Vert, 8=Gris\\\\\\\\\\n'\n          : ''\n      } ${mathalea2d(paramsCorrection, objetsEnonce)} \\n \\\\end{minipage}`\n        if (q < this.nbQuestions - 1 && !context.isHtml) {\n          texte += '\\n \\\\medskip'\n        }\n        this.canEnonce =\n          \"Sur quelle case le lutin s'arrête pour noter la couleur ?\\\\\\\\\" +\n          `\\\\begin{minipage}{0.1\\\\textwidth}\\n${scratchblock(pion.codeScratch)}\\n \\\\end{minipage}\\n\\\\begin{minipage}{0.3\\\\textwidth}\\n ${mathalea2d(Object.assign({}, fixeBordures([rose]), { scale: 0.5 }), rose)}\\n \\\\end{minipage}`\n        this.canReponseACompleter = `${\n          this.sup === 4 || this.sup === 2\n            ? 'Correspondance chiffre-couleur : \\\\\\\\\\n0=Blanc, 1=Noir, 2=Rouge, 3=Bleu, 4=Orange, 5=Rose, 6=Jaune, 7=Vert, 8=Gris\\\\\\\\\\n'\n            : ''\n        } ${mathalea2d(paramsCorrection, objetsEnonce)}`\n      }\n      texteCorr = 'On obtient la couleur suivante :<br> '\n      texteCorr += `${texteGras(this.sup === 4 || this.sup === 2 ? '(' + traducNum(couleurs[0] as 'Blanc' | 'Noir' | 'Jaune' | 'Bleu' | 'Vert' | 'Orange' | 'Rouge' | 'Gris' | 'Rose') + ')' + couleurs[0] : couleurs[0])} `\n      setReponse(this, q, [couleurs[0], couleurs[0].toLowerCase()], {\n        formatInteractif: 'texte',\n      })\n      lutin.animation = `<radialGradient id=\"Ball\" cx=\"8\" cy=\"-3\" r=\"20\" gradientUnits=\"userSpaceOnUse\">\n    <stop offset=\"0\" style=\"stop-color:#FFFF99\"/>\n    <stop offset=\"1\" style=\"stop-color:#FF9400\"/>\n  </radialGradient> <circle fill=\"url(#Ball)\"  r=\"12\" stroke-width=\"1\"\n   x=\"${lutin.listeTraces[0][0] * context.pixelsParCm}\"\n    y=\"${-lutin.listeTraces[0][1] * context.pixelsParCm}\">\\n\n    <animateMotion path=\"M ${lutin.listeTraces[0][0] * context.pixelsParCm} ${-lutin.listeTraces[0][1] * context.pixelsParCm} L`\n\n      for (let i = 0; i < lutin.listeTraces.length; i++) {\n        const B = point(lutin.listeTraces[i][2], lutin.listeTraces[i][3])\n        lutin.animation += ` ${B.xSVG(context.pixelsParCm)} ${B.ySVG(context.pixelsParCm)} `\n      }\n      lutin.animation +=\n        '\" begin=\"10s\" dur=\"10s\" repeatCount=\"indefinite\" />; </circle>'\n      objetsCorrection.push(tracePoint(point(xdepart * 0.075, ydepart * 0.075)))\n      if (this.sup2) {\n        for (let i = 1; i < 5; i++) {\n          if (i !== 1) {\n            objetsEnonce.push(\n              texteParPositionEchelle(\n                stringNombre(20 * i),\n                1.5 * i,\n                -0.3,\n                0,\n                'black',\n                1.2,\n                'milieu',\n                true,\n                echelleDessin,\n              ),\n            )\n          }\n        }\n        for (let i = 1; i < 4; i++) {\n          if (i !== 1) {\n            objetsEnonce.push(\n              texteParPositionEchelle(\n                stringNombre(20 * i),\n                -0.5,\n                1.5 * i,\n                0,\n                'black',\n                1.2,\n                'milieu',\n                true,\n                echelleDessin,\n              ),\n            )\n          }\n        }\n      }\n\n      if (this.correctionDetaillee) {\n        for (let i = 1; i < 5; i++) {\n          if (i !== 1) {\n            objetsCorrection.push(\n              texteParPositionEchelle(\n                stringNombre(20 * i),\n                1.5 * i,\n                -0.3,\n                0,\n                'black',\n                1.2,\n                'milieu',\n                true,\n                echelleDessin,\n              ),\n            )\n          }\n        }\n        for (let i = 1; i < 4; i++) {\n          if (i !== 1) {\n            objetsCorrection.push(\n              texteParPositionEchelle(\n                stringNombre(20 * i),\n                -0.5,\n                1.5 * i,\n                0,\n                'black',\n                1.2,\n                'milieu',\n                true,\n                echelleDessin,\n              ),\n            )\n          }\n        }\n      }\n      texteCorr +=\n        '<br><br>' + mathalea2d(paramsCorrection, objetsCorrection, lutin)\n      if (q < this.nbQuestions - 1 && !context.isHtml) {\n        texteCorr += '\\n \\\\medskip'\n      }\n      if (this.questionJamaisPosee(q, xdepart, ydepart, angledepart)) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n\n        q++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","titre","interactifType","interactifReady","uuid","refs","CanNoteLaCouleur6","Exercice","__publicField","damier","contraindreValeur","echelleDessin","rose","roseDesVents","test","paramsCorrection","commandes_disponibles","sequences_disponibles","sequence","result","nb_couleurs","instruction","couleurs","liste_instructions","lutin","lutindepart","angledepart","xdepart","ydepart","context","pion","lePlateau","Plateau2dNLC","q","objetsCorrection","objetsEnonce","texte","texteCorr","compteur","retour_a_la_case_depart","compteur_essais_sequence","m","ins1","ins2","ins3","ins4","choice","randint","noteLaCouleur","creerLutin","colorToLatexOrHTML","allerA","alpha","angleScratchTo2d","orienter","clone","baisseCrayon","testSequence","i","testInstruction","attendre","tracePoint","point","texteParPositionEchelle","stringNombre","ajouterLien","ajouteChampTexteMathLive","KeyboardType","scratchblock","mathalea2d","fixeBordures","texteGras","traducNum","setReponse","B","listeQuestionsToContenu"],"mappings":"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"}