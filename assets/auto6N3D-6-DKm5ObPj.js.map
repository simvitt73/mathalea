{"version":3,"file":"auto6N3D-6-DKm5ObPj.js","sources":["../../src/exercices/6e/auto6N3D-6.ts"],"sourcesContent":["import type { MathfieldElement } from 'mathlive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport type { IExercice } from '../../lib/types'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Connaitre les tables de multiplication ¬´ √† l'envers ¬ª\"\nexport const dateDePublication = '4/4/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'ac64a'\nexport const refs = {\n  'fr-fr': ['auto6N3D-6'],\n  'fr-2016': ['6C10-9'],\n  'fr-ch': [],\n}\n\n/**\n * @author R√©mi Angot\n */\n\nexport default class nomExercice extends Exercice {\n  constructor() {\n    super()\n\n    this.sup = '3-4-5-6-7-8-9'\n    this.sup2 = 9\n    this.comment =\n      'Le multiplicande est issu des tables choisies et le multiplicateur est compris entre 2 et la valeur maximale ci-dessus (qui doit √™tre au moins 5).'\n    this.besoinFormulaireTexte = [\n      'Tables de multiplication (s√©par√©es par un tiret)',\n      '',\n    ]\n    this.besoinFormulaire2Numerique = ['Valeur maximale du multiplicande', 99]\n  }\n\n  nouvelleVersion() {\n    this.consigne = 'Compl√©ter avec deux nombres entiers diff√©rents de 1.'\n\n    // @ts-expect-error Il faut typer gestionnaireFormulaireTexte\n    const tables = gestionnaireFormulaireTexte({\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      defaut: 9,\n      max: 99,\n      min: 2,\n      enleveDoublons: true,\n    }) as number[]\n    const facteurMax = Number(this.sup2) > 5 ? Number(this.sup2) : 5\n    const facteurs1 = combinaisonListes(tables, this.nbQuestions)\n    const facteurs2 = Array.from({ length: facteurMax - 1 }, (_, i) => i + 2)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const a = facteurs1[i]\n      const b = choice(facteurs2)\n      let texte = ''\n      if (context.isDiaporama) {\n        this.consigne = ''\n      }\n      if (this.interactif) {\n        texte = remplisLesBlancs(\n          this,\n          i,\n          `${a * b}= ~ %{champ1} ~ \\\\times ~~ %{champ2}`,\n          KeyboardType.clavierNumbers as string,\n        )\n        handleAnswers(this, i, {\n          // bareme: (listePoints) => [listePoints[0] * listePoints[1] + listePoints[2], 2],\n          champ1: { value: '' },\n          champ2: { value: '' },\n          callback: (exercice: IExercice, question: number) => {\n            let feedback = ''\n            const mfe = document.querySelector(\n              `#champTexteEx${exercice.numeroExercice}Q${question}`,\n            ) as MathfieldElement\n            if (mfe == null)\n              return {\n                isOk: false,\n                feedback,\n                score: { nbBonnesReponses: 0, nbReponses: 0 },\n              }\n            const facteur1 = Number(mfe.getPromptValue('champ1') || 0)\n            const facteur2 = Number(mfe.getPromptValue('champ2') || 0)\n            const isOk =\n              facteur1 * facteur2 === a * b && facteur1 !== 1 && facteur2 !== 1\n            if (isOk) {\n              mfe.setPromptState('champ1', 'correct', true)\n              mfe.setPromptState('champ2', 'correct', true)\n            } else {\n              if ((a * b) % facteur1 === 0 && facteur1 !== 1) {\n                mfe.setPromptState('champ1', 'correct', true)\n                mfe.setPromptState('champ2', 'incorrect', false)\n              } else if ((a * b) % facteur2 === 0 && facteur2 !== 1) {\n                mfe.setPromptState('champ1', 'incorrect', false)\n                mfe.setPromptState('champ2', 'correct', true)\n              } else {\n                mfe.setPromptState('champ1', 'incorrect', false)\n                mfe.setPromptState('champ2', 'incorrect', false)\n              }\n              feedback = `Attention, ${a * b} n'est pas √©gal √† ${facteur1} √ó ${facteur2}.`\n            }\n            const spanReponseLigne = document.querySelector(\n              `#resultatCheckEx${exercice.numeroExercice}Q${question}`,\n            )\n            if (spanReponseLigne != null) {\n              spanReponseLigne.innerHTML = isOk ? 'üòé' : '‚òπÔ∏è'\n            }\n            return {\n              isOk,\n              feedback,\n              score: { nbBonnesReponses: isOk ? 1 : 0, nbReponses: 1 },\n            }\n          },\n        })\n      } else {\n        texte = `$${a * b}= \\\\ldots\\\\ldots \\\\times \\\\ldots\\\\ldots$`\n      }\n      const texteCorr = `$${a * b}=${miseEnEvidence(String(a))} \\\\times ${miseEnEvidence(String(b))}$`\n\n      if (this.questionJamaisPosee(i, a * b)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","nomExercice","Exercice","tables","gestionnaireFormulaireTexte","facteurMax","facteurs1","combinaisonListes","facteurs2","_","i","cpt","a","b","choice","texte","context","remplisLesBlancs","KeyboardType","handleAnswers","exercice","question","feedback","mfe","facteur1","facteur2","isOk","spanReponseLigne","texteCorr","miseEnEvidence","listeQuestionsToContenu"],"mappings":"knFAcO,MAAMA,GAAQ,wDACRC,GAAoB,WACpBC,GAAkB,GAClBC,GAAiB,WACjBC,GAAO,QACPC,GAAO,CAClB,QAAS,CAAC,YAAY,EACtB,UAAW,CAAC,QAAQ,EACpB,QAAS,CAAA,CACX,EAMA,MAAqBC,WAAoBC,CAAS,CAChD,aAAc,CACZ,MAAA,EAEA,KAAK,IAAM,gBACX,KAAK,KAAO,EACZ,KAAK,QACH,qJACF,KAAK,sBAAwB,CAC3B,mDACA,EAAA,EAEF,KAAK,2BAA6B,CAAC,mCAAoC,EAAE,CAC3E,CAEA,iBAAkB,CAChB,KAAK,SAAW,uDAGhB,MAAMC,EAASC,EAA4B,CACzC,YAAa,KAAK,YAClB,OAAQ,KAAK,IACb,OAAQ,EACR,IAAK,GACL,IAAK,EACL,eAAgB,EAAA,CACjB,EACKC,EAAa,OAAO,KAAK,IAAI,EAAI,EAAI,OAAO,KAAK,IAAI,EAAI,EACzDC,EAAYC,EAAkBJ,EAAQ,KAAK,WAAW,EACtDK,EAAY,MAAM,KAAK,CAAE,OAAQH,EAAa,CAAA,EAAK,CAACI,EAAGC,IAAMA,EAAI,CAAC,EACxE,QAASA,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,MAAMC,EAAIN,EAAUI,CAAC,EACfG,EAAIC,EAAON,CAAS,EAC1B,IAAIO,EAAQ,GACRC,EAAQ,cACV,KAAK,SAAW,IAEd,KAAK,YACPD,EAAQE,EACN,KACAP,EACA,GAAGE,EAAIC,CAAC,uCACRK,EAAa,cAAA,EAEfC,EAAc,KAAMT,EAAG,CAErB,OAAQ,CAAE,MAAO,EAAA,EACjB,OAAQ,CAAE,MAAO,EAAA,EACjB,SAAU,CAACU,EAAqBC,IAAqB,CACnD,IAAIC,EAAW,GACf,MAAMC,EAAM,SAAS,cACnB,gBAAgBH,EAAS,cAAc,IAAIC,CAAQ,EAAA,EAErD,GAAIE,GAAO,KACT,MAAO,CACL,KAAM,GACN,SAAAD,EACA,MAAO,CAAE,iBAAkB,EAAG,WAAY,CAAA,CAAE,EAEhD,MAAME,EAAW,OAAOD,EAAI,eAAe,QAAQ,GAAK,CAAC,EACnDE,EAAW,OAAOF,EAAI,eAAe,QAAQ,GAAK,CAAC,EACnDG,EACJF,EAAWC,IAAab,EAAIC,GAAKW,IAAa,GAAKC,IAAa,EAC9DC,GACFH,EAAI,eAAe,SAAU,UAAW,EAAI,EAC5CA,EAAI,eAAe,SAAU,UAAW,EAAI,IAEvCX,EAAIC,EAAKW,IAAa,GAAKA,IAAa,GAC3CD,EAAI,eAAe,SAAU,UAAW,EAAI,EAC5CA,EAAI,eAAe,SAAU,YAAa,EAAK,GACrCX,EAAIC,EAAKY,IAAa,GAAKA,IAAa,GAClDF,EAAI,eAAe,SAAU,YAAa,EAAK,EAC/CA,EAAI,eAAe,SAAU,UAAW,EAAI,IAE5CA,EAAI,eAAe,SAAU,YAAa,EAAK,EAC/CA,EAAI,eAAe,SAAU,YAAa,EAAK,GAEjDD,EAAW,cAAcV,EAAIC,CAAC,qBAAqBW,CAAQ,MAAMC,CAAQ,KAE3E,MAAME,EAAmB,SAAS,cAChC,mBAAmBP,EAAS,cAAc,IAAIC,CAAQ,EAAA,EAExD,OAAIM,GAAoB,OACtBA,EAAiB,UAAYD,EAAO,KAAO,MAEtC,CACL,KAAAA,EACA,SAAAJ,EACA,MAAO,CAAE,iBAAkBI,EAAO,EAAI,EAAG,WAAY,CAAA,CAAE,CAE3D,CAAA,CACD,GAEDX,EAAQ,IAAIH,EAAIC,CAAC,2CAEnB,MAAMe,EAAY,IAAIhB,EAAIC,CAAC,IAAIgB,EAAe,OAAOjB,CAAC,CAAC,CAAC,YAAYiB,EAAe,OAAOhB,CAAC,CAAC,CAAC,IAEzF,KAAK,oBAAoBH,EAAGE,EAAIC,CAAC,IACnC,KAAK,eAAeH,CAAC,EAAIK,EACzB,KAAK,iBAAiBL,CAAC,EAAIkB,EAC3BlB,KAEFC,GACF,CACAmB,EAAwB,IAAI,CAC9B,CACF"}