import{c as g}from"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";const $=new g.ComputeEngine;function l(o){if(!Array.isArray(o))return o;const c=o,a=c[0];if(a==="Delimiter"){const s=c.length===1?c[0]:c[1];if(Array.isArray(s)){const u=s[0];return u==="Add"||u==="Subtract"?["Delimiter",l(s)]:l(s)}return s}const t=c.slice(1).map(s=>l(s));return[a,...t]}function A(o){const c=Array.isArray,a=s=>c(s)&&typeof s[0]=="string"?s[0]:null;function t(s){if(!c(s))return String(s);const u=s[0],n=s.slice(1);switch(u){case"Number":case"Real":case"Integer":case"String":case"Symbol":return String(n[0]);case"Negate":{const e=n[0],r=a(e),i=t(e);return r==="Add"||r==="Subtract"?`-(${i})`:`-${i}`}case"Add":return n.map(t).join("+");case"Subtract":return n.length===1?"-"+t(n[0]):n.map((e,r)=>r===0?t(e):`-${t(e)}`).join("");case"Multiply":return n.map((r,i)=>{const p=a(r);if(Array.isArray(r)&&r[0]==="Number"&&typeof r[1]=="number"&&r[1]<0){const d=Math.abs(r[1]);return i===0?`-${d}`:`(-${d})`}if(Array.isArray(r)&&r[0]==="Negate"){const d=r[1],f=t(d);return i===0?`-${f}`:`(-${f})`}return p==="Add"||p==="Subtract"?`(${t(r)})`:p==="Divide"&&i>0?`(${t(r)})`:t(r)}).join("\\times");case"Divide":{const e=n[0],r=n[1],i=a(e),p=a(r),d=i==="Add"||i==="Subtract"?`(${t(e)})`:t(e);let f=t(r);return(p==="Add"||p==="Subtract")&&(f=`(${f})`),(p==="Negate"||c(r)&&r[0]==="Number"&&typeof r[1]=="number"&&r[1]<0)&&(f=`(${f})`),`${d}\\div${f}`}case"Frac":{const e=n[0],r=n[1];return`\\frac{${t(e)}}{${t(r)}}`}case"Power":{const e=t(n[0]),r=t(n[1]);return`${e}^{${r}}`}case"Delimiter":{const e=n.length===1?n[0]:n[1]??n[0];return`(${t(e)})`}default:{const e=u.toLowerCase(),r={sin:"\\sin",cos:"\\cos",tan:"\\tan"};return r[e]?`${r[e]}\\left(${n.map(t).join(",")}\\right)`:`${u}\\left(${n.map(t).join(",")}\\right)`}}}return t(o)}function m(o,c){if(!Array.isArray(o))return{node:o,used:0};const[a,...t]=o;if(a==="Divide"&&c>0){const[n,e]=t;return{node:["Frac",n,e],used:1}}let s=0;const u=t.map(n=>{const e=m(n,c-s);return s+=e.used,e.node});return{node:[a,...u],used:s}}function y(o){const c=(o.match(/\\dfrac\b/g)||[]).length,a=(o.match(/\\frac\b/g)||[]).length+c,t=o.replace(/\\dfrac\b/g,"\\frac"),u=$.parse(t,{canonical:!1}).json,n=l(u),e=m(n,a).node;let r=A(e);if(c>0){let i=0;r=r.replace(/\\frac\{/g,()=>(i++,i<=c?"\\dfrac{":"\\frac{"))}return r}export{y as d};
//# sourceMappingURL=EnleverParenthesesInutiles-DwwZRpVR.js.map
