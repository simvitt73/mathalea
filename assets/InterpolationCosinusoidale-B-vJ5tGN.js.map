{"version":3,"file":"InterpolationCosinusoidale-B-vJ5tGN.js","sources":["../../src/lib/2d/antecedentParDichotomie.ts","../../src/lib/2d/InterpolationCosinusoidale.ts"],"sourcesContent":["export function antecedentParDichotomie(\n  xmin: number,\n  xmax: number,\n  f: (x: number) => number,\n  y: number,\n  precision = 0.01,\n) {\n  // On arrondit à 1E-6 parce que sinon, on passe à côté de valeur qui devraient être nulle mais le sont pas à 1E-15 !\n  const ymax = Number(Math.max(f(xmax), f(xmin)).toFixed(6))\n  const ymin = Number(Math.min(f(xmax), f(xmin)).toFixed(6))\n  if (y > ymax || y < ymin) return false // y n'est pas entre les deux extrêmes, la méthode ne fonctionne pas.\n  let xmoy, ymoy\n  if (xmin > xmax) {\n    xmoy = xmin\n    xmin = xmax\n    xmax = xmoy\n  }\n  xmoy = (xmax + xmin) / 2\n  ymoy = f(xmoy)\n  let cpt = 0\n  while (Math.abs(ymoy - y) > precision && cpt < 1000) {\n    if (f(xmin) < f(xmax)) {\n      if (ymoy > y) {\n        xmax = xmoy\n      } else {\n        xmin = xmoy\n      }\n    } else if (ymoy > y) {\n      xmin = xmoy\n    } else {\n      xmax = xmoy\n    }\n    xmoy = (xmin + xmax) / 2\n    ymoy = f(xmoy)\n    cpt++\n  }\n  if (cpt > 1000) return false\n  return xmoy\n}\n","import { antecedentParDichotomie } from './antecedentParDichotomie'\n\n/**\n * @see : https://gist.github.com/ericelliott/80905b159e1f3b28634ce0a690682957\n * @private\n */\n// y1: start value\n// y2: end value\n// mu: the current frame of the interpolation,\n//     in a linear range from 0-1.\n\nexport const cosineInterpolate = (y1: number, y2: number, mu: number) => {\n  const mu2 = (1 - Math.cos(mu * Math.PI)) / 2\n  return y1 * (1 - mu2) + y2 * mu2\n}\n\nexport function imageInterpolee(tableau: number[][], antecedent: number) {\n  const x0 = tableau[0][0]\n  const y0 = tableau[0][1]\n  const x1 = tableau[1][0]\n  const y1 = tableau[1][1]\n  const f = (x: number) => cosineInterpolate(y0, y1, (x - x0) / (x1 - x0))\n  return f(antecedent)\n}\n\nexport function antecedentInterpole(tableau: number[][], image: number) {\n  const x0 = tableau[0][0]\n  const y0 = tableau[0][1]\n  const x1 = tableau[1][0]\n  const y1 = tableau[1][1]\n  const f = (x: number) => cosineInterpolate(y0, y1, (x - x0) / (x1 - x0))\n  return antecedentParDichotomie(x0, x1, f, image, 0.01)\n}\n"],"names":["antecedentParDichotomie","xmin","xmax","f","y","precision","ymax","ymin","xmoy","ymoy","cpt","cosineInterpolate","y1","y2","mu","mu2","imageInterpolee","tableau","antecedent","x0","y0","x1","x","antecedentInterpole","image"],"mappings":"AAAO,SAASA,EACdC,EACAC,EACAC,EACAC,EACAC,EAAY,IACZ,CAEA,MAAMC,EAAO,OAAO,KAAK,IAAIH,EAAED,CAAI,EAAGC,EAAEF,CAAI,CAAC,EAAE,QAAQ,CAAC,CAAC,EACnDM,EAAO,OAAO,KAAK,IAAIJ,EAAED,CAAI,EAAGC,EAAEF,CAAI,CAAC,EAAE,QAAQ,CAAC,CAAC,EACzD,GAAIG,EAAIE,GAAQF,EAAIG,EAAM,MAAO,GACjC,IAAIC,EAAMC,EACNR,EAAOC,IACTM,EAAOP,EACPA,EAAOC,EACPA,EAAOM,GAETA,GAAQN,EAAOD,GAAQ,EACvBQ,EAAON,EAAEK,CAAI,EACb,IAAIE,EAAM,EACV,KAAO,KAAK,IAAID,EAAOL,CAAC,EAAIC,GAAaK,EAAM,KACzCP,EAAEF,CAAI,EAAIE,EAAED,CAAI,EACdO,EAAOL,EACTF,EAAOM,EAEPP,EAAOO,EAEAC,EAAOL,EAChBH,EAAOO,EAEPN,EAAOM,EAETA,GAAQP,EAAOC,GAAQ,EACvBO,EAAON,EAAEK,CAAI,EACbE,IAEF,OAAIA,EAAM,IAAa,GAChBF,CACT,CC3BO,MAAMG,EAAoB,CAACC,EAAYC,EAAYC,IAAe,CACvE,MAAMC,GAAO,EAAI,KAAK,IAAID,EAAK,KAAK,EAAE,GAAK,EAC3C,OAAOF,GAAM,EAAIG,GAAOF,EAAKE,CAC/B,EAEO,SAASC,EAAgBC,EAAqBC,EAAoB,CACvE,MAAMC,EAAKF,EAAQ,CAAC,EAAE,CAAC,EACjBG,EAAKH,EAAQ,CAAC,EAAE,CAAC,EACjBI,EAAKJ,EAAQ,CAAC,EAAE,CAAC,EACjBL,EAAKK,EAAQ,CAAC,EAAE,CAAC,EAEvB,OADWK,GAAcX,EAAkBS,EAAIR,GAAKU,EAAIH,IAAOE,EAAKF,EAAG,GAC9DD,CAAU,CACrB,CAEO,SAASK,EAAoBN,EAAqBO,EAAe,CACtE,MAAML,EAAKF,EAAQ,CAAC,EAAE,CAAC,EACjBG,EAAKH,EAAQ,CAAC,EAAE,CAAC,EACjBI,EAAKJ,EAAQ,CAAC,EAAE,CAAC,EACjBL,EAAKK,EAAQ,CAAC,EAAE,CAAC,EAEvB,OAAOjB,EAAwBmB,EAAIE,EADxBC,GAAcX,EAAkBS,EAAIR,GAAKU,EAAIH,IAAOE,EAAKF,EAAG,EAC7BK,EAAO,GAAI,CACvD"}