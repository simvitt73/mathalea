{"version":3,"file":"2G30-7-CZJSt6Pc.js","sources":["../../src/exercices/2e/2G30-7.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { droite } from '../../lib/2d/droites'\nimport { repere } from '../../lib/2d/reperes'\nimport { Segment, segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPosition } from '../../lib/2d/textes'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { reduireAxPlusB } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { abs } from '../../lib/outils/nombres'\nimport { pgcd } from '../../lib/outils/primalite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { choice } from '../../lib/outils/arrayOutils'\n\nexport const titre =\n  'Déterminer une équation réduite à partir de sa représentation graphique'\nexport const dateDeModifImportante = '08/12/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n/**\n *\n * @author Stéphane Guyon + modif Gilles Mora (droite verticale)\n */\nexport const uuid = '41e6f'\n\nexport const refs = {\n  'fr-fr': ['2G30-7'],\n  'fr-ch': ['11FA9-7', '1mF2-6'],\n}\nexport default class Lecturegraphiquedeaetb extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Types de questions ',\n      2,\n      '1 : Valeurs entières\\n2 : Valeurs fractionnaires',\n    ]\n\n    this.nbQuestions = 1 // On complète le nb de questions\n\n    this.sup = 1\n  }\n\n  nouvelleVersion() {\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // on rajoute les variables dont on a besoin\n      let texte = ''\n      let texteCorr = ''\n      const b = randint(-5, 5) // ordonnée à l'origine\n\n      const choix = context.isAmc ? 1 : choice([1, 1, 1, 1, 2])\n\n      let d = this.sup === 1 ? 1 : choice([4, 5, 3]) * choice([-1, 1]) // dénominateur coefficient directeur\n      let a =\n        this.sup === 1\n          ? randint(-5, 5)\n          : choice([d + 1, d - 1]) * choice([-1, 1]) // coefficient directeur\n      if (a === 0 && b === 0) {\n        d = this.sup === 1 ? 1 : choice([4, 5, 3]) * choice([-1, 1]) // dénominateur coefficient directeur\n        a =\n          this.sup === 1\n            ? randint(-5, 5)\n            : choice([d + 1, d - 1]) * choice([-1, 1]) // coefficient directeur\n      } // On évite la situation de double nullité\n      const coeffDir = new FractionEtendue(a, d)\n      const A = point(a, 5, 'A') // droite horizontale\n      const B = point(a, -5, 'B') // droite horizontale\n      const droiteAB = droite(A, B) // droite horizontale\n      droiteAB.color = colorToLatexOrHTML('red') // droite horizontale\n      droiteAB.epaisseur = 2 // droite horizontale\n      const r = repere({\n        xMin: -8,\n        xMax: 8,\n        yMin: -8,\n        yMax: 8,\n        yLabelEcart: 0.8,\n        yLabelDistance: 2,\n        xLabelDistance: 2,\n        grilleX: false,\n        grilleY: false,\n        grilleSecondaire: true,\n        grilleSecondaireYDistance: 1,\n        grilleSecondaireXDistance: 1,\n        grilleSecondaireYMin: -8,\n        grilleSecondaireYMax: 8,\n        grilleSecondaireXMin: -8,\n        grilleSecondaireXMax: 8,\n      })\n      const c = droite(a / d, -1, b) // On définit l'objet qui tracera la courbe dans le repère\n      c.color = colorToLatexOrHTML('red')\n      c.epaisseur = 2\n      const o = texteParPosition('O', -0.5, -0.5, 0, 'black', 1)\n      texte =\n        'À partir de la représentation graphique de la droite ci-dessous, donner par lecture graphique son équation réduite.<br><br>'\n      texte += mathalea2d(\n        {\n          xmin: -8,\n          ymin: -8,\n          xmax: 8,\n          ymax: 8,\n          scale: 0.5,\n        },\n        r,\n        o,\n        choix === 1 ? c : droiteAB,\n      ) // On trace le graphique\n      if (choix === 1) {\n        if (a === 0) {\n          // La droite est horizontale\n          texteCorr = 'On observe que la droite est horizontale.'\n          texteCorr += `<br>La droite est l'ensemble des points ayant comme ordonnée : $${texNombre(b, 1)}$.`\n          texteCorr += `<br>L'équation réduite de cette droite est donc : $y=${miseEnEvidence(texNombre(b, 1))}$.`\n        } else {\n          // La droite n'est pas horizontale\n          texteCorr =\n            \"On sait que l'équation réduite d'une droite non verticale est de la forme : $y= ax+b$ avec $a$ et $b$ deux réels non tous deux nuls.<br>\"\n          texteCorr +=\n            \"Le premier coefficient à lire graphiquement est $b$, l'ordonnée à l'origine de la droite.<br>\"\n          texteCorr +=\n            \"C'est l'ordonnée du point d'intersection de la droite avec l'axe des ordonnées.<br>\"\n          texteCorr += `On lit ici que le point $(0;${texNombre(b, 1)}) \\\\in (d)$.<br>`\n          texteCorr += `On peut alors conclure que l'ordonnée à l'origine est : $b=${texNombre(b, 1)}$. <br>`\n          texteCorr +=\n            'On peut lire ensuite le coefficient directeur $a$ de la droite $(d)$.<br>'\n          texteCorr +=\n            'On sait que $a=\\\\dfrac{\\\\text{Dénivelé vertical}}{\\\\text{Déplacement horizontal}}$.'\n\n          texteCorr +=\n            this.sup === 1\n              ? ''\n              : '<br>On cherche un déplacement horizontal correspondant à un déplacement vertical entier.'\n          texteCorr += '<br>On lit que pour un déplacement vers la droite '\n          texteCorr +=\n            this.sup === 1 ? \"d'une unité\" : `de ${texNombre(d, 1)} unités`\n          texteCorr += ', il faut '\n          texteCorr += a > 0 ? 'monter de ' : 'descendre de '\n          texteCorr += `${abs(a)} unité${abs(a) === 1 ? '' : 's'} `\n          texteCorr += `et donc $a=\\\\dfrac{${texNombre(a, 1)}}{${texNombre(d, 1)}}`\n          if (pgcd(a, d) !== 1 || d === 1) {\n            texteCorr += `=${coeffDir.texFractionSimplifiee}`\n          }\n          texteCorr += '$'\n\n          texteCorr += `<br>On peut en déduire que l'équation réduite de la droite $(d)$ est : $y=${miseEnEvidence(reduireAxPlusB(coeffDir, b))}$.<br>`\n          let s1: Segment\n          let s2: Segment\n          if (b + a < -8 || b + a > 8) {\n            // Si cela sort du cadre\n            s1 = segment(-d, b - a, 0, b - a, 'blue')\n            s1.epaisseur = 4\n            s2 = segment(0, b - a, 0, b, 'blue')\n          } else {\n            s1 = segment(0, b, d, b, 'blue')\n            s1.epaisseur = 4\n            s2 = segment(d, b, d, a + b, 'blue')\n          }\n          s2.epaisseur = 4\n\n          if (a !== 0) {\n            texteCorr += mathalea2d(\n              {\n                xmin: -8,\n                ymin: -8,\n                xmax: 8,\n                ymax: 8,\n                scale: 0.5,\n              },\n              r,\n              s1,\n              s2,\n              c,\n              o,\n            )\n          } // On trace le graphique\n        }\n\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: texte + '<br>',\n            propositions: [\n              {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: texteCorr,\n                    statut: '',\n                    reponse: {\n                      texte: 'coefficient directeur',\n                      valeur: coeffDir.toNumber(),\n                      param: {\n                        digits: this.sup === 1 ? 1 : 3,\n                        decimals: this.sup === 1 ? 0 : 2,\n                        signe: true,\n                        approx: 0,\n                      },\n                    },\n                  },\n                ],\n              },\n              {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: \"ordonnée à l'origine\",\n                      valeur: b,\n                      param: {\n                        digits: 1,\n                        decimals: 0,\n                        signe: true,\n                        approx: 0,\n                      },\n                    },\n                  },\n                ],\n              },\n            ],\n          }\n        }\n\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFullOperations,\n          {\n            texteAvant: \"<br>L'équation réduite de la droite est : $y=$\",\n          },\n        )\n        const reponse = reduireAxPlusB(coeffDir.simplifie(), b)\n        handleAnswers(this, i, { reponse: { value: reponse } })\n      } else {\n        texteCorr = 'On observe que la droite est verticale.'\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFullOperations,\n          {\n            texteAvant: \"<br>L'équation réduite de la droite est : \",\n          },\n        )\n        texteCorr += `<br>On peut en déduire que l'équation réduite de la droite $(d)$ est : $x=${miseEnEvidence(a)}$.`\n        const reponse = `x=${a}`\n        handleAnswers(this, i, {\n          reponse: { value: reponse, options: { egaliteExpression: true } },\n        })\n      }\n      if (this.questionJamaisPosee(i, a, b)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDeModifImportante","interactifReady","interactifType","amcReady","amcType","uuid","refs","Lecturegraphiquedeaetb","Exercice","i","cpt","texte","texteCorr","b","randint","choix","context","choice","d","a","coeffDir","FractionEtendue","A","point","B","droiteAB","droite","colorToLatexOrHTML","r","repere","c","o","texteParPosition","mathalea2d","texNombre","miseEnEvidence","abs","pgcd","reduireAxPlusB","s1","s2","segment","ajouteChampTexteMathLive","KeyboardType","reponse","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}