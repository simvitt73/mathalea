{"version":3,"file":"6I1B-3-C_H7jBtX.js","sources":["../../src/exercices/6e/6I1B-3.ts"],"sourcesContent":["// on importe les fonctions n√©cessaires.\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { texteGras } from '../../lib/format/style'\nimport {\n  combinaisonListesSansChangerOrdre,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n// Ici ce sont les fonctions de la librairie maison 2d.js qui g√®rent tout ce qui est graphique (SVG/tikz) et en particulier ce qui est li√© √† l'objet lutin\nimport { grille } from '../../lib/2d/Grille'\nimport { ajouteFeedback } from '../../lib/interactif/questionMathLive'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport {\n  allerA,\n  angleScratchTo2d,\n  avance,\n  baisseCrayon,\n  creerLutin,\n  leveCrayon,\n  orienter,\n  tournerD,\n  tournerG,\n} from '../../modules/2dLutin'\nimport { scratchblock } from '../../modules/scratchblock'\n\ninterface Fig extends HTMLOrSVGElement {\n  etat: boolean\n}\n\nexport const interactifReady = true\n// il y avait un fonctionnement avec amcType cf commit 3ae7c43\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\n\nexport const titre = 'Trouver le bon trac√© avec Scratch'\nexport const uuid = 'e9cac'\n\nexport const refs = {\n  'fr-fr': ['6I1B-3'],\n  'fr-2016': ['6I12'],\n  'fr-ch': [],\n}\nexport default class AlgoTortue extends Exercice {\n  // √ßa c'est la classe qui permet de cr√©er cet exercice\n  indiceBonneFigure!: number\n  constructor() {\n    super()\n    this.exoCustomResultat = false\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n    this.typeExercice = 'Scratch'\n    this.sup2 = 1 // types d'instructionsde d√©placement (ici seulement avancer et tourner)\n    this.listeAvecNumerotation = false\n    this.besoinFormulaireTexte = [\n      \"Nombres d'instructions successives (entre 5 et 15) 16 pour le hasard\",\n      '',\n    ]\n  }\n\n  nouvelleVersion(numeroExercice: number) {\n    const nbInstructions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 5,\n      max: 15,\n      defaut: 7,\n      melange: 16,\n      nbQuestions: 1,\n    }).map(Number)\n    const angleDepart = 90 // On choisit l'orientation de d√©part (On pourrait en faire un param√®tre de l'exo)\n    // const xDepart = 0 // Le d√©part est en (0,0) pour avoir la m√™me marge dans toutes les directions\n    // const yDepart = 0\n    const objetsCorrection = []\n    let paramsCorrection\n    let paramsEnonces\n    const sequences = [\n      // s√©quences d'intruction pr√©-√©tablies, on en choisit une parmi celles-ci\n      [\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n      ],\n      [\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n      ],\n      [\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n      ],\n      [\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n      ],\n      [\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n      ],\n      [\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n      ],\n      [\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n      ],\n      [\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n      ],\n      [\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n      ],\n      [\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n      ],\n      [\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerD',\n        'avancer',\n      ],\n      [\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerG',\n        'avancer',\n        'tournerD',\n        'avancer',\n      ],\n    ]\n    let erreursDeDeplacement = [0, 1, 0]\n\n    erreursDeDeplacement = combinaisonListesSansChangerOrdre(\n      erreursDeDeplacement,\n      nbInstructions[0],\n    )\n    const choix = randint(0, 11) // On va choisir une des 12 sequences\n    const commandes = combinaisonListesSansChangerOrdre(\n      sequences[choix],\n      nbInstructions[0],\n    ) // on cr√©e la succession de commandes en r√©p√©tant la s√©quence choisie si le nombre d'instructions demand√©es d√©passe la longueur de la s√©quence\n    const val = []\n    const lutins = []\n\n    // Ici on cr√©e 5 instances de l'objet Lutin.\n    for (let i = 0; i < 5; i++) {\n      lutins[i] = creerLutin()\n      lutins[i].color = colorToLatexOrHTML('green') // la couleur de la trace\n      lutins[i].epaisseur = 3 // son epaisseur\n    }\n    context.unitesLutinParCm = 10 // avancer de 10 pour le lutin lui fait parcourir 1cm (en fait 0,5cm car j'ai ajout√© un scale=0.5 pour la sortie latex)\n    context.pixelsParCm = 20 // 20 pixels d'√©cran repr√©sentent 1cm (enfin √ßa d√©pend du zoom, donc c'est juste un r√©glage par d√©faut)\n\n    let texte = '' // la chaine qui va contenir l'√©nonc√©\n    let texteCorr = '' // la chaine qui va contenir la correction\n    // On √©crit le d√©but du programme dans l'attribut codeScratch du lutins[0][0]... cet attribut de type chaine contient le code du programme du lutin en Scratch Latex\n    // A chaque instruction ajout√©e dans le programme correspond une action √† effectu√©e sur l'objet lutins[0]..\n    lutins[0].codeScratch =\n      '\\\\begin{scratch}[print,fill,blocks,scale=0.75]\\n \\\\blockinit{quand \\\\greenflag est cliqu√©}\\n '\n    lutins[0].codeScratch += `\\\\blockmove{s'orienter √† \\\\ovalnum{${angleDepart}}}\\n`\n    lutins[0].codeScratch += \"\\\\blockpen{stylo en position d'√©criture}\\n\"\n    for (let i = 0; i < 5; i++) {\n      allerA(0, 0, lutins[i]) // √ßa c'est pour faire bouger le lutin (√©crire le programme ne le fait pas ex√©cuter !)\n      baisseCrayon(lutins[i])\n      orienter(angleScratchTo2d(angleDepart), lutins[i]) // l'angle 2d est l'angle trigonom√©trique... Scratch est d√©call√© de 90¬∞, il faut donc convertir pour utiliser Orienter()\n    }\n    for (let i = 0; i < nbInstructions[0]; i++) {\n      // On va parcourir la listes des commandes de d√©placement mais certains lutins font des erreurs\n      switch (commandes[i]) {\n        case 'avancer':\n          val[i] = randint(1, 4) * 5 // La longueur du d√©placement est 10, 20, 30 ou 40\n          lutins[0].codeScratch += `\\\\blockmove{avancer de \\\\ovalnum{${val[i]}} pas}\\n`\n          avance(val[i], lutins[0])\n          avance(val[i], lutins[1])\n          avance(val[i], lutins[2])\n          avance(val[i], lutins[3])\n          avance(val[i] + 5 * erreursDeDeplacement[i], lutins[4]) // avance trop\n          break\n        case 'tournerD': // On peut difficilement choisir autre chose que de tourner de 90¬∞...\n          lutins[0].codeScratch +=\n            '\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{90} degr√©s}\\n'\n          tournerD(90, lutins[0])\n          tournerD(90, lutins[2])\n          orienter(90, lutins[4])\n          tournerG(90, lutins[1]) // tournent dans le mauvais sens\n          tournerG(90, lutins[3])\n          break\n        case 'tournerG':\n          lutins[0].codeScratch +=\n            '\\\\blockmove{tourner \\\\turnleft{} de \\\\ovalnum{90} degr√©s}\\n'\n          tournerG(90, lutins[0])\n          tournerG(90, lutins[1])\n          tournerG(90, lutins[4])\n          tournerD(90, lutins[2]) // tournent dans le mauvais sens\n          tournerD(90, lutins[3])\n          break\n      }\n    }\n    lutins[0].codeScratch += '\\\\blockpen{relever le stylo}\\n'\n\n    let largeur = 1\n    let hauteur = 1\n    for (let i = 0; i < 5; i++) {\n      // on calcule la largeur et la hauteur maximale des parcours.\n      leveCrayon(lutins[i])\n      largeur = Math.max(largeur, lutins[i].xMax - lutins[i].xMin)\n      hauteur = Math.max(hauteur, lutins[i].yMax - lutins[i].yMin)\n    }\n    largeur++\n    lutins[0].codeScratch += '\\\\end{scratch}'\n    texte =\n      \"Quelle figure est trac√©e par le stylo √† l'ex√©cution du programme ci-dessous ?<br>Un carreau repr√©sente 5 pas<br>Le trac√© d√©marre √† la croix bleue.<br>\"\n    texte +=\n      \"S'orienter √† 90¬∞ signifie s'orienter vers la droite de l'√©cran.<br>\"\n\n    if (context.isHtml) {\n      // On cr√©e 2 colonnes selon le contexte html / Latex\n      texte += '<table style=\"width: 100%\"><tr><td>'\n    } else {\n      texte += '\\\\begin{minipage}[t]{.25\\\\textwidth}'\n    }\n    texte += scratchblock(lutins[0].codeScratch) // la fonction scratchblock va convertir le code Latex en code html si besoin.\n    if (context.isHtml) {\n      // on change de colonne...\n      texte += '</td><td style=\"vertical-align: top; text-align: center\">'\n      texte += this.interactif\n        ? `${texteGras('Cliquer sur la figure puis v√©rifier la r√©ponse.')}<br><br>`\n        : '<br><br>'\n    } else {\n      texte += '\\\\end{minipage} '\n      texte += '\\\\hfill \\\\begin{minipage}[t]{.70\\\\textwidth}'\n    }\n\n    let ordreLutins = [0, 1, 2, 3, 4]\n    ordreLutins = shuffle(ordreLutins) // On m√©lange les emplacements pour √©viter d'avoir la bonne r√©ponse au m√™me endroit\n    for (let i = 0; i < 5; i++) {\n      for (let j = 0; j < lutins[i].listeTraces.length; j++) {\n        // On recadre les traces des lutins...\n        lutins[i].listeTraces[j][0] -= lutins[i].xMin\n        lutins[i].listeTraces[j][2] -= lutins[i].xMin\n        lutins[i].listeTraces[j][1] -= lutins[i].yMin\n        lutins[i].listeTraces[j][3] -= lutins[i].yMin\n      }\n    }\n    const depart = []\n    for (let i = 0; i < 5; i++) {\n      // ajouter le point de d√©part de chaque trac√©\n      depart[i] = tracePoint(\n        point(lutins[i].listeTraces[0][0], lutins[i].listeTraces[0][1]),\n      )\n      depart[i].taille = 5\n      depart[i].color = colorToLatexOrHTML('blue')\n      depart[i].epaisseur = 2\n      if (i === 0) {\n        objetsCorrection.push(depart[0])\n      }\n    }\n    const echelle = segment(0, hauteur + 0.5, 1, hauteur + 0.5)\n    echelle.epaisseur = 2\n    echelle.styleExtremites = '|-|'\n    objetsCorrection.push(\n      grille(-1, -1, largeur + 1, hauteur + 1, 'gray', 0.5, 0.5),\n    )\n    objetsCorrection.push(lutins[0])\n\n    // mathalea2d() est la fonction qui ajoute soit une figure SVG (en html), soit une figure tikz en Latex. Ici, juste la grille est le point de d√©part.\n    for (let i = 0; i < 5; i++) {\n      paramsEnonces = {\n        xmin: -0.5,\n        ymin: -1.5,\n        xmax: largeur,\n        ymax: hauteur + 1,\n        pixelsParCm: Math.round(100 / largeur),\n        scale: 2.5 / largeur,\n        zoom: 1,\n        style: 'display:inline-block; margin-right:0.5em;',\n        id: `figure${i}exo${numeroExercice}`,\n      }\n      paramsCorrection = {\n        xmin: -0.5,\n        ymin: -0.5,\n        xmax: largeur,\n        ymax: hauteur + 1,\n        pixelsParCm: Math.round(100 / largeur),\n        scale: 2.5 / largeur,\n      }\n      texte += mathalea2d(\n        paramsEnonces,\n        lutins[ordreLutins[i]],\n        depart[ordreLutins[i]],\n        grille(-0.5, -0.5, largeur, hauteur + 1, 'gray', 0.5, 0.5),\n        texteParPoint('10 pas', point(0.5, hauteur + 0.2), 0, 'black', 1),\n        texteParPoint(\n          `figure ${i + 1}`,\n          point(\n            (lutins[ordreLutins[i]].xMax - lutins[ordreLutins[i]].xMin) / 2,\n            -0.8,\n          ),\n          0,\n          'black',\n          1,\n        ),\n        echelle,\n      )\n      if (!context.isHtml) {\n        texte += '\\\\ \\\\hfill '\n      }\n    }\n    if (context.isHtml) {\n      texte += '</td></tr></table>'\n      texte += `<div id=\"resultatCheckEx${this.numeroExercice}Q${0}\"></div>`\n    } else {\n      texte += '\\\\end{minipage} '\n    }\n    if (this.interactif) {\n      texte += ajouteFeedback(this, 0)\n    }\n    if (context.isAmc) {\n      this.autoCorrection[0] = {\n        enonce: texte,\n        propositions: [\n          {\n            texte: 'figure 1',\n            statut: false,\n          },\n          {\n            texte: 'figure 2',\n            statut: false,\n          },\n          {\n            texte: 'figure 3',\n            statut: false,\n          },\n          {\n            texte: 'figure 4',\n            statut: false,\n          },\n          {\n            texte: 'figure 5',\n            statut: false,\n          },\n        ],\n        options: { ordered: true },\n      }\n      // @ts-expect-error\n      this.autoCorrection[0].propositions[ordreLutins.indexOf(0)].statut = true\n    }\n    this.indiceBonneFigure = ordreLutins.indexOf(0)\n    // Ici, la figure contient la grille, le point de d√©part et le lutin qui s'anime sur sa trace...\n    texteCorr += `La bonne figure est la figure ${texteEnCouleurEtGras(this.indiceBonneFigure + 1)}.<br>`\n\n    texteCorr += mathalea2d(paramsCorrection, objetsCorrection)\n    this.listeQuestions.push(texte) // on met √† jour la liste des questions\n    this.listeCorrections.push(texteCorr) // et la liste des corrections\n\n    listeQuestionsToContenuSansNumero(this) // on envoie tout √† la fonction qui va mettre en forme.\n\n    // Gestion de la souris\n    // ToFix si on passe de interactif √† non interactif il y a toujours l'effet au survol\n\n    document.addEventListener('exercicesAffiches', () => {\n      // D√®s que l'exercice est affich√©, on rajoute des listenners sur chaque Svg.\n      for (let i = 0; i < 5; i++) {\n        const figSvg = document.getElementById(\n          `figure${i}exo${this.numeroExercice}`,\n        )\n        if (figSvg) {\n          const fig = figSvg as unknown as Fig\n          if (this.interactif) {\n            figSvg.addEventListener('mouseover', mouseOverSvgEffect)\n            figSvg.addEventListener('mouseout', mouseOutSvgEffect)\n            figSvg.addEventListener('click', mouseSvgClick)\n            fig.etat = false\n          } else {\n            figSvg.removeEventListener('mouseover', mouseOverSvgEffect)\n            figSvg.removeEventListener('mouseout', mouseOutSvgEffect)\n            figSvg.removeEventListener('click', mouseSvgClick)\n            fig.etat = true\n          }\n        }\n      }\n    })\n  }\n\n  // Pour pouvoir r√©cup√©rer this dans la correction interactive\n  // Pour distinguer les deux types de codage de recuperation des r√©sultats\n\n  // Gestion de la correction\n  correctionInteractive = (i: number) => {\n    let nbFiguresCliquees = 0\n    const spanResultat = document.querySelector(\n      `#resultatCheckEx${this.numeroExercice}Q${0}`,\n    ) as HTMLSpanElement\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${0}`,\n    ) as HTMLDivElement\n\n    const figures = []\n    for (let i = 0; i < 5; i++) {\n      const figure = document.getElementById(\n        `figure${i}exo${this.numeroExercice}`,\n      )\n      if (figure != null) {\n        const fig = figure as unknown as Fig\n        figures.push(figure)\n        figure.removeEventListener('mouseover', mouseOverSvgEffect)\n        figure.removeEventListener('mouseout', mouseOutSvgEffect)\n        figure.removeEventListener('click', mouseSvgClick)\n        if (fig.etat) nbFiguresCliquees++\n      }\n    }\n    if (nbFiguresCliquees > 1) {\n      divFeedback.innerHTML = \"Vous ne pouvez choisir qu'une seule figure.\"\n      divFeedback.style.display = 'block'\n    }\n    if (nbFiguresCliquees < 1) {\n      divFeedback.innerHTML = 'Vous devez choisir une figure.'\n      divFeedback.style.display = 'block'\n    }\n    if (\n      nbFiguresCliquees === 1 &&\n      (figures[this.indiceBonneFigure] as unknown as Fig).etat\n    ) {\n      spanResultat.innerHTML = 'üòé'\n      // nbBonnesReponses++\n      return 'OK'\n    } else {\n      spanResultat.innerHTML = '‚òπÔ∏è'\n      // nbMauvaisesReponses++\n      return 'KO'\n    }\n    //    afficheScore(this, nbBonnesReponses, nbMauvaisesReponses)\n  }\n}\n\nfunction mouseOverSvgEffect(this: any) {\n  this.style.border = 'inset'\n}\n\nfunction mouseOutSvgEffect(this: any) {\n  this.style.border = 'none'\n}\n\nfunction mouseSvgClick(this: any) {\n  if (this.etat) {\n    // D√©ja choisi, donc on le r√©initialise\n    this.style.border = 'none'\n    this.addEventListener('mouseover', mouseOverSvgEffect)\n    this.addEventListener('mouseout', mouseOutSvgEffect)\n    this.addEventListener('click', mouseSvgClick)\n    this.etat = false\n  } else {\n    // Passe √† l'√©tat choisi donc on d√©sactive les listenners pour over et pour out\n    this.removeEventListener('mouseover', mouseOverSvgEffect)\n    this.removeEventListener('mouseout', mouseOutSvgEffect)\n    this.style.border = 'solid #f15929'\n    this.etat = true\n  }\n}\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","uuid","refs","AlgoTortue","Exercice","__publicField","i","nbFiguresCliquees","spanResultat","divFeedback","figures","figure","fig","mouseOverSvgEffect","mouseOutSvgEffect","mouseSvgClick","numeroExercice","nbInstructions","gestionnaireFormulaireTexte","angleDepart","objetsCorrection","paramsCorrection","paramsEnonces","sequences","erreursDeDeplacement","combinaisonListesSansChangerOrdre","choix","randint","commandes","val","lutins","creerLutin","colorToLatexOrHTML","context","texte","texteCorr","allerA","baisseCrayon","orienter","angleScratchTo2d","avance","tournerD","tournerG","largeur","hauteur","leveCrayon","scratchblock","texteGras","ordreLutins","shuffle","j","depart","tracePoint","point","echelle","segment","grille","mathalea2d","texteParPoint","ajouteFeedback","texteEnCouleurEtGras","listeQuestionsToContenuSansNumero","figSvg"],"mappings":"yxHAwCO,MAAMA,GAAkB,GAElBC,GAAiB,SACjBC,GAAW,GACXC,GAAU,UAEVC,GAAQ,oCACRC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,QAAQ,EAClB,UAAW,CAAC,MAAM,EAClB,QAAS,CAAA,CACX,EACA,MAAqBC,WAAmBC,CAAS,CAG/C,aAAc,CACZ,MAAA,EAFFC,EAAA,0BAmbAA,EAAA,6BAAyBC,GAAc,CACrC,IAAIC,EAAoB,EACxB,MAAMC,EAAe,SAAS,cAC5B,mBAAmB,KAAK,cAAc,IAAK,EAEvCC,EAAc,SAAS,cAC3B,cAAc,KAAK,cAAc,IAAK,EAGlCC,EAAU,CAAA,EAChB,QAASJ,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMK,EAAS,SAAS,eACtB,SAASL,CAAC,MAAM,KAAK,cAAc,EAAA,EAErC,GAAIK,GAAU,KAAM,CAClB,MAAMC,EAAMD,EACZD,EAAQ,KAAKC,CAAM,EACnBA,EAAO,oBAAoB,YAAaE,CAAkB,EAC1DF,EAAO,oBAAoB,WAAYG,CAAiB,EACxDH,EAAO,oBAAoB,QAASI,CAAa,EAC7CH,EAAI,MAAML,GAChB,CACF,CASA,OARIA,EAAoB,IACtBE,EAAY,UAAY,8CACxBA,EAAY,MAAM,QAAU,SAE1BF,EAAoB,IACtBE,EAAY,UAAY,iCACxBA,EAAY,MAAM,QAAU,SAG5BF,IAAsB,GACrBG,EAAQ,KAAK,iBAAiB,EAAqB,MAEpDF,EAAa,UAAY,KAElB,OAEPA,EAAa,UAAY,KAElB,KAGX,GA5dE,KAAK,kBAAoB,GACzB,KAAK,YAAc,EACnB,KAAK,sBAAwB,GAC7B,KAAK,aAAe,UACpB,KAAK,KAAO,EACZ,KAAK,sBAAwB,GAC7B,KAAK,sBAAwB,CAC3B,uEACA,EAAA,CAEJ,CAEA,gBAAgBQ,EAAwB,CACtC,MAAMC,EAAiBC,EAA4B,CACjD,OAAQ,KAAK,IACb,IAAK,EACL,IAAK,GACL,OAAQ,EACR,QAAS,GACT,YAAa,CAAA,CACd,EAAE,IAAI,MAAM,EACPC,EAAc,GAGdC,EAAmB,CAAA,EACzB,IAAIC,EACAC,EACJ,MAAMC,EAAY,CAEhB,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,UAAA,EAEF,CACE,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,UAAA,EAEF,CACE,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,UAAA,EAEF,CACE,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,UAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,EAEF,CACE,WACA,UACA,WACA,UACA,WACA,UACA,WACA,UACA,WACA,SAAA,CACF,EAEF,IAAIC,EAAuB,CAAC,EAAG,EAAG,CAAC,EAEnCA,EAAuBC,EACrBD,EACAP,EAAe,CAAC,CAAA,EAElB,MAAMS,EAAQC,EAAQ,EAAG,EAAE,EACrBC,EAAYH,EAChBF,EAAUG,CAAK,EACfT,EAAe,CAAC,CAAA,EAEZY,EAAM,CAAA,EACNC,EAAS,CAAA,EAGf,QAASxB,EAAI,EAAGA,EAAI,EAAGA,IACrBwB,EAAOxB,CAAC,EAAIyB,EAAA,EACZD,EAAOxB,CAAC,EAAE,MAAQ0B,EAAmB,OAAO,EAC5CF,EAAOxB,CAAC,EAAE,UAAY,EAExB2B,EAAQ,iBAAmB,GAC3BA,EAAQ,YAAc,GAEtB,IAAIC,EAAQ,GACRC,EAAY,GAGhBL,EAAO,CAAC,EAAE,YACR;AAAA;AAAA,GACFA,EAAO,CAAC,EAAE,aAAe,sCAAsCX,CAAW;AAAA,EAC1EW,EAAO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"}