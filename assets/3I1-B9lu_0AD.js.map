{"version":3,"file":"3I1-B9lu_0AD.js","sources":["../../src/exercices/3e/3I1.ts"],"sourcesContent":["import Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport { scratchblock } from '../../modules/scratchblock'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre =\n  \"Trouver la position d'un lutin grâce à des instructions conditionnelles (scratch)\"\nexport const dateDePublication = '24/11/2020'\nexport const dateDeModifImportante = '02/01/2025'\n\n/**\n * * Instructions conditionnelles\n * @author Erwan Duplessy (rendu interactif par Eric Elter)(TS et sortie PDF par Olivier Mimeau)\n */\nexport const uuid = '8cbd6'\n\nexport const refs = {\n  'fr-fr': ['3I1'],\n  'fr-ch': [],\n}\nexport default class InstructionConditionnelle extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Variante',\n      3,\n      '1 : Sans condition imbriquée\\n2 : Avec une condition imbriquée\\n3 : Avec deux conditions imbriquées',\n    ]\n    this.sup = 1\n    this.nbQuestions = 1\n    this.consigne = 'Donner les coordonnées de la position finale du lutin.'\n    this.typeExercice = 'Scratch'\n    // this.nbCols = 2\n    this.nbQuestionsModifiable = false\n  }\n\n  nouvelleVersion() {\n    let txtintroscratch = ''\n    txtintroscratch = `\\\\begin{scratch}[${context.issortieNB ? 'print,' : ''}fill blocks,scale=0.8]\\n`\n    txtintroscratch += '\\\\blockvariable{\\\\ovalvariable{var}}' // refuse d'afficher si '\\\\ovalvariable{var}' seul\n    // txtintroscratch += '\\\\blockmoreblocks{\\\\ovalvariable{var}}'\n    txtintroscratch += '\\\\end{scratch}'\n    let texte =\n      \"La position initiale d'un lutin dans un repère est (0,0).<br> Dans le programme, x désigne l'abscisse, et y désigne l'ordonnée d'un lutin. <br>\" // texte de l'énoncé\n    texte += \"Une variable a été créée, elle s'appelle\"\n    texte += scratchblock(txtintroscratch)\n    texte += '. <br>'\n    let texteCorr = ' ' // texte du corrigé\n    let codeTikz = '' // code pour dessiner les blocs en tikz\n    let xLutin = 0\n    let yLutin = 0\n\n    codeTikz += `\\\\begin{scratch}[${context.issortieNB ? 'print,' : ''}fill blocks,scale=0.8]\\n` // \\n est impératif pour l'affichage HTML\n\n    const n1 = randint(1, 10)\n    const n2 = randint(1, 10)\n    const n3 = randint(1, 10)\n    const n4 = randint(1, 10)\n    const xLutin1 = randint(1, 10) * 10\n    const xLutin2 = randint(1, 10) * 10\n    const yLutin1 = randint(1, 10) * 10\n    const yLutin2 = randint(1, 10) * 10\n\n    codeTikz += '\\\\blockinit{quand \\\\greenflag est cliqué}\\n' // \\n est impératif pour l'affichage HTML\n    codeTikz += '\\\\blockmove{aller à x: \\\\ovalnum{0} y: \\\\ovalnum{0}}\\n'\n    codeTikz += `\\\\blockvariable{mettre \\\\selectmenu{var} à \\\\ovalnum{${n1}}}\\n`\n    codeTikz += `\\\\blockifelse{si \\\\booloperator{\\\\ovalvariable{var} < \\\\ovalnum{${n2}}} alors}\\n`\n    codeTikz += `{\\\\blockmove{ajouter \\\\ovalnum{${xLutin1}} à x}\\n`\n    if (this.sup > 1) {\n      codeTikz += `\\\\blockif{si \\\\booloperator{\\\\ovalvariable{var} > \\\\ovalnum{${n3}}} alors}\\n`\n      codeTikz += `{\\\\blockmove{ajouter \\\\ovalnum{${xLutin2}} à x}\\n}\\n` // attention aux /n qui marque la fin des chacun des blocs (blockmove et block si)\n    }\n    codeTikz += '}\\n' // fin du si\n    codeTikz += `{\\\\blockmove{ajouter \\\\ovalnum{${yLutin1}} à y}\\n` // `{sinon \\\\blockmove{ajouter \\\\ovalnum{${yLutin1}} à y}\\n`\n    if (this.sup > 2) {\n      codeTikz += `\\\\blockif{si \\\\booloperator{\\\\ovalvariable{var} > \\\\ovalnum{${n4}}} alors}\\n`\n      codeTikz += `{\\\\blockmove{ajouter \\\\ovalnum{${yLutin2}} à y}\\n}\\n` // attention aux /n qui marque la fin des chacun des blocs (blockmove et block si)\n    }\n    codeTikz += '}\\n' // fin du sinon ?\n    codeTikz += '\\\\end{scratch}'\n\n    texte += scratchblock(codeTikz)\n    if (n1 < n2) {\n      texteCorr += `Comme l'inégalité \"${n1} < ${n2}\" est vraie, alors on ajoute ${xLutin1} à l'abscisse du lutin. <br>`\n      xLutin += xLutin1\n      if (this.sup > 1) {\n        if (n1 > n3) {\n          texteCorr += `Comme l'inégalité \"${n1} > ${n3}\" est vraie, alors on ajoute ${xLutin2} à l'abscisse du lutin. <br>`\n          xLutin += xLutin2\n        } else {\n          texteCorr += `Comme l'inégalité \"${n1} > ${n3}\" est fausse, alors on ne change pas l'abscisse du lutin. <br>`\n        }\n      }\n    } else {\n      texteCorr += `Comme l'inégalité \"${n1} < ${n2}\" est fausse, alors on ajoute ${yLutin1} à l'ordonnée du lutin. <br>`\n      yLutin += yLutin1\n      if (this.sup > 2) {\n        if (n1 > n4) {\n          texteCorr += `Comme l'inégalité \"${n1} > ${n4}\" est vraie, on ajoute ${yLutin2} à l'ordonnée du lutin. <br>`\n          yLutin += yLutin2\n        } else {\n          texteCorr += `Comme l'inégalité \"${n1} > ${n4}\" est fausse, alors on ne change pas l'ordonnée du lutin. <br>`\n        }\n      }\n    }\n    texteCorr += ` La position finale est donc : (${texteEnCouleurEtGras(xLutin)} ; ${texteEnCouleurEtGras(yLutin)}).`\n    if (this.interactif) {\n      texte +=\n        '<br>La position finale du lutin est : ' +\n        remplisLesBlancs(\n          this,\n          0,\n          ' (~%{champ1}~;~%{champ2}~).',\n          KeyboardType.clavierDeBase,\n        )\n    }\n    handleAnswers(\n      this,\n      0,\n      {\n        // bareme: (listePoints: number[]) => [Math.min(listePoints[0], listePoints[1]), 1],\n        champ1: { value: xLutin },\n        champ2: { value: yLutin },\n      },\n      { formatInteractif: 'fillInTheBlank' },\n    )\n\n    this.listeQuestions.push(texte)\n    this.listeCorrections.push(texteCorr)\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","titre","dateDePublication","dateDeModifImportante","uuid","refs","InstructionConditionnelle","Exercice","txtintroscratch","context","texte","scratchblock","texteCorr","codeTikz","xLutin","yLutin","n1","randint","n2","n3","n4","xLutin1","xLutin2","yLutin1","yLutin2","texteEnCouleurEtGras","remplisLesBlancs","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"0rFASO,MAAMA,GAAkB,GAClBC,GAAiB,WACjBC,GACX,oFACWC,GAAoB,aACpBC,GAAwB,aAMxBC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,KAAK,EACf,QAAS,CAAA,CACX,EACA,MAAqBC,WAAkCC,CAAS,CAC9D,aAAc,CACZ,MAAA,EACA,KAAK,0BAA4B,CAC/B,WACA,EACA;AAAA;AAAA,oCAAA,EAEF,KAAK,IAAM,EACX,KAAK,YAAc,EACnB,KAAK,SAAW,yDAChB,KAAK,aAAe,UAEpB,KAAK,sBAAwB,EAC/B,CAEA,iBAAkB,CAChB,IAAIC,EAAkB,GACtBA,EAAkB,oBAAoBC,EAAQ,WAAa,SAAW,EAAE;AAAA,EACxED,GAAmB,uCAEnBA,GAAmB,iBACnB,IAAIE,EACF,kJACFA,GAAS,2CACTA,GAASC,EAAaH,CAAe,EACrCE,GAAS,SACT,IAAIE,EAAY,IACZC,EAAW,GACXC,EAAS,EACTC,EAAS,EAEbF,GAAY,oBAAoBJ,EAAQ,WAAa,SAAW,EAAE;AAAA,EAElE,MAAMO,EAAKC,EAAQ,EAAG,EAAE,EAClBC,EAAKD,EAAQ,EAAG,EAAE,EAClBE,EAAKF,EAAQ,EAAG,EAAE,EAClBG,EAAKH,EAAQ,EAAG,EAAE,EAClBI,EAAUJ,EAAQ,EAAG,EAAE,EAAI,GAC3BK,EAAUL,EAAQ,EAAG,EAAE,EAAI,GAC3BM,EAAUN,EAAQ,EAAG,EAAE,EAAI,GAC3BO,EAAUP,EAAQ,EAAG,EAAE,EAAI,GAEjCJ,GAAY;AAAA,EACZA,GAAY;AAAA,EACZA,GAAY,wDAAwDG,CAAE;AAAA,EACtEH,GAAY,mEAAmEK,CAAE;AAAA,EACjFL,GAAY,kCAAkCQ,CAAO;AAAA,EACjD,KAAK,IAAM,IACbR,GAAY,+DAA+DM,CAAE;AAAA,EAC7EN,GAAY,kCAAkCS,CAAO;AAAA;AAAA,GAEvDT,GAAY;AAAA,EACZA,GAAY,kCAAkCU,CAAO;AAAA,EACjD,KAAK,IAAM,IACbV,GAAY,+DAA+DO,CAAE;AAAA,EAC7EP,GAAY,kCAAkCW,CAAO;AAAA;AAAA,GAEvDX,GAAY;AAAA,EACZA,GAAY,iBAEZH,GAASC,EAAaE,CAAQ,EAC1BG,EAAKE,GACPN,GAAa,sBAAsBI,CAAE,MAAME,CAAE,gCAAgCG,CAAO,+BACpFP,GAAUO,EACN,KAAK,IAAM,IACTL,EAAKG,GACPP,GAAa,sBAAsBI,CAAE,MAAMG,CAAE,gCAAgCG,CAAO,+BACpFR,GAAUQ,GAEVV,GAAa,sBAAsBI,CAAE,MAAMG,CAAE,oEAIjDP,GAAa,sBAAsBI,CAAE,MAAME,CAAE,iCAAiCK,CAAO,+BACrFR,GAAUQ,EACN,KAAK,IAAM,IACTP,EAAKI,GACPR,GAAa,sBAAsBI,CAAE,MAAMI,CAAE,0BAA0BI,CAAO,+BAC9ET,GAAUS,GAEVZ,GAAa,sBAAsBI,CAAE,MAAMI,CAAE,mEAInDR,GAAa,mCAAmCa,EAAqBX,CAAM,CAAC,MAAMW,EAAqBV,CAAM,CAAC,KAC1G,KAAK,aACPL,GACE,yCACAgB,EACE,KACA,EACA,8BACAC,EAAa,aAAA,GAGnBC,EACE,KACA,EACA,CAEE,OAAQ,CAAE,MAAOd,CAAA,EACjB,OAAQ,CAAE,MAAOC,CAAA,CAAO,EAE1B,CAAE,iBAAkB,gBAAA,CAAiB,EAGvC,KAAK,eAAe,KAAKL,CAAK,EAC9B,KAAK,iBAAiB,KAAKE,CAAS,EACpCiB,EAAwB,IAAI,CAC9B,CACF"}