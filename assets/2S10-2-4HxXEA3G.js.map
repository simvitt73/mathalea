{"version":3,"file":"2S10-2-4HxXEA3G.js","sources":["../../src/exercices/2e/2S10-2.ts"],"sourcesContent":["import { texPrix } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Calculer une proportion ou appliquer un pourcentage'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '9/12/2021'\nexport const dateDeModifImportante = '28/04/2023' // ajout du cas entreprise\n/**\n * Problèmes de proportions\n *\n * * Situations variées : spectacle, cadeau, réserve, entreprise\n *\n * * Déterminer l'effectif de la sous population\n * * Calculer une proportion\n * * Retrouver l'effectif de la population totale'\n * * Mélange des 3 types de problèmes\n * @author Florence Tapiero\n * * ajout de lignes pour l'export AMC par Jean-Claude Lhote\n * 2S10-1\n * ajout du cas entreprise par Gilles Mora\n */\nexport const uuid = '612a5'\n\nexport const refs = {\n  'fr-fr': ['2S10-2', 'BP2SP8'],\n  'fr-ch': ['9NO14-8'],\n}\nexport default class Proportions extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      4,\n      \"1 : Déterminer l'effectif d'une sous-population \\n2 : Calculer une proportion en pourcentage\\n3 : Calculer l'effectif de la population totale \\n4 : Mélange\",\n    ]\n\n    this.nbQuestions = 2\n\n    this.sup = 4 // type de questions mettre 4\n\n    this.spacingCorr = 2\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestionsDisponibles: (\n      | 'sous-population'\n      | 'proportion'\n      | 'population-totale'\n    )[] = []\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = ['sous-population']\n    }\n    if (this.sup === 2) {\n      typesDeQuestionsDisponibles = ['proportion']\n    }\n    if (this.sup === 3) {\n      typesDeQuestionsDisponibles = ['population-totale']\n    }\n    if (this.sup === 4) {\n      typesDeQuestionsDisponibles = [\n        'sous-population',\n        'proportion',\n        'population-totale',\n      ]\n    }\n    const situationsDisponibles = [\n      'spectacle',\n      'cadeau',\n      'réserve',\n      'entreprise',\n    ] //\n    // const situationsDisponibles = ['cadeau'] pour test de chaque situation\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    const typesDeSituations = combinaisonListes(\n      situationsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    let prénom, espèces\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let totale: number\n      let taux: number\n      let p: number\n      let sous: number\n      let sous2: number\n      let texte = ''\n      let texteCorr = ''\n      let reponse: number = 0\n      let paramAMC\n      switch (typesDeSituations[i]) {\n        case 'spectacle':\n          // Le nombre de spectateurs doit être entier\n          // Multiple de 50 et multiple de 2%\n          // Multiple de 20 et multiple de 5%\n          // Multiple de 100 et n%\n          switch (randint(1, 3)) {\n            case 1:\n              totale = 50 * randint(2, 60)\n              taux = 2 * randint(3, 30)\n              break\n            case 2:\n              totale = 20 * randint(5, 150)\n              taux = 5 * randint(1, 16)\n              break\n            case 3:\n            default:\n              totale = 100 * randint(1, 30)\n              taux = randint(10, 80)\n              break\n          }\n          p = taux / 100\n          sous = p * totale\n          sous2 = totale - sous\n          switch (listeTypeDeQuestions[i]) {\n            case 'sous-population':\n              switch (randint(1, 2)) {\n                case 1:\n                  texte = `$${texNombre(totale, 0)}$ personnes assistent à un concert. $${taux}~\\\\%$ ont moins de $18$ ans. <br>Calculer le nombre de personnes mineures dans le public.`\n                  texteCorr = `Pour appliquer une proportion à une valeur, on multiplie celle-ci par la proportion $p$. <br>Comme $${taux}~\\\\%$ des $${texNombre(totale, 0)}$ personnes sont mineures, le nombre de personnes mineures est donné par :`\n                  texteCorr += `<br>$\\\\dfrac{${taux}}{100} \\\\times ${texNombre(totale, 0)} = ${texNombre(p, 2)} \\\\times ${texNombre(totale, 0)}=${texNombre(sous, 2)}$`\n                  texteCorr += `<br>Il y a donc $${miseEnEvidence(texNombre(sous))}$ personnes mineures dans le public.`\n                  reponse = arrondi(sous)\n                  break\n                case 2:\n                  texte = `$${texNombre(totale, 0)}$ personnes assistent à un concert. $${taux}~\\\\%$ ont moins de $18$ ans. <br>Calculer le nombre de personnes majeures dans le public.`\n                  texteCorr = `On commence par déterminer la proportion de personnes majeures avec ce calcul : <br> $100-${taux}=${100 - taux}$.<br>`\n                  texteCorr +=\n                    'Pour appliquer une proportion à une valeur, on multiplie celle-ci par la proportion $p$.'\n                  texteCorr += `<br>Comme $${100 - taux}~\\\\%$ des $${texNombre(totale, 0)}$ personnes sont majeures, le nombre de personnes majeures est donné par :`\n                  texteCorr += `<br>$\\\\dfrac{${100 - taux}}{100} \\\\times ${texNombre(totale, 0)} = ${texNombre(1 - p, 4)} \\\\times ${texNombre(totale, 0)} = ${texNombre(sous2, 2)}$`\n                  texteCorr += `<br>Il y a donc $${miseEnEvidence(texNombre(sous2, 2))}$ personnes majeures dans le public.`\n                  reponse = arrondi(sous2)\n                  break\n              }\n              paramAMC = { digits: 4, decimals: 0, signe: false, approx: 0 } // on mets 4 chiffres même si la plupart des réponses n'en ont que 3 pour ne pas contraindre les réponses\n              break\n            case 'population-totale':\n              texte = `Lors d'un concert, il y a $${texNombre(sous, 2)}$ spectateurs de plus de $60$ ans, ce qui représente $${taux}~\\\\%$ du public. <br>Combien de spectateurs ont assisté au concert ?`\n              texteCorr = `Soit $x$ le nombre total de spectateur. <br> Comme $${taux}~\\\\%$ de $x$ est égal à $${texNombre(sous, 2)}$, on a :`\n              texteCorr += `<br>$\\\\begin{aligned}\n              \\\\dfrac{${taux}}{100} \\\\times x &= ${texNombre(sous, 2)} \\\\\\\\\\\\\n              ${texNombre(p, 2)} \\\\times x &= ${texNombre(sous, 2)} \\\\\\\\\n              x &= \\\\dfrac{${texNombre(sous, 2)}}{${texNombre(p, 2)}} \\\\\\\\\n              x &= ${texNombre(totale, 0)}\n              \\\\end{aligned}$`\n              texteCorr += `<br>Il y avait donc $${miseEnEvidence(texNombre(totale, 0))}$ spectateurs.`\n              reponse = arrondi(totale)\n              paramAMC = { digits: 4, decimals: 0, signe: false, approx: 0 } // Le nombre attendu a bien 4 chiffres maxi\n              break\n            case 'proportion':\n            default:\n              texte = `Parmi les $${texNombre(totale, 0)}$ spectateurs d'un concert, $${texNombre(sous, 2)}$ ont moins de $18$ ans. <br>Calculer la proportion des personnes mineures dans le public en pourcentage.`\n              texteCorr = `La proportion $p$ est donnée par le quotient : $\\\\dfrac{${texNombre(sous, 2)}}{${texNombre(totale, 0)}} = ${texNombre(p, 2)}$.`\n              texteCorr += `<br>$${texNombre(p, 2)}=\\\\dfrac{${texNombre(taux, 0)}}{100}$. Il y a donc $${miseEnEvidence(taux)}~\\\\%$ de personnes mineures dans le public.`\n              reponse = arrondi(taux)\n              paramAMC = { digits: 2, decimals: 0, signe: false, approx: 0 } // Le taux est ici inférieur à 100%\n              break\n          }\n          break\n        case 'cadeau':\n          switch (randint(1, 3)) {\n            case 1:\n              totale = 50 * randint(1, 3, 2)\n              taux = 2 * randint(3, 17)\n              break\n            case 2:\n              totale = 20 * randint(2, 8, 5)\n              taux = 5 * randint(2, 7)\n              break\n            case 3:\n            default:\n              totale = 10 * randint(1, 15)\n              taux = 10 * randint(1, 3)\n              break\n          }\n          p = taux / 100\n          sous = p * totale\n          sous2 = totale - sous\n          prénom = choice([\n            'Frédéric',\n            'Brice',\n            'Marion',\n            'Christelle',\n            'Léo',\n            'Gabriel',\n            'Maël',\n            'Louise',\n            'Lina',\n            'Mia',\n            'Rose',\n            'Mohamed',\n            'Mehdi',\n            'Rayan',\n            'Karim',\n            'Yasmine',\n            'Noûr',\n            'Kaïs',\n            'Louna',\n            'Nora',\n            'Fatima',\n            'Nora',\n            'Nadia',\n            'Sohan',\n            'Timothée',\n            'Jamal',\n          ])\n          switch (listeTypeDeQuestions[i]) {\n            case 'sous-population':\n              texte = `Le cadeau commun que nous souhaitons faire à ${prénom} coûte $${texPrix(totale)}$ €. Je participe à hauteur de $${taux}~\\\\%$ du prix total. <br>Combien ai-je donné pour le cadeau de ${prénom} ?`\n              texteCorr = `Pour appliquer une proportion à une valeur, on multiplie celle-ci par la proportion $p$. <br>Comme ma participation représente $${taux}~\\\\%$ de $${texPrix(totale)}$, j'ai donné :`\n              texteCorr += `<br>$\\\\dfrac{${taux}}{100} \\\\times ${texNombre(totale, 0)} = ${texNombre(p, 2)} \\\\times ${texNombre(totale, 0)}=${texNombre(sous, 2)}$`\n              texteCorr += `<br>Ma participation au cadeau est de $${miseEnEvidence(texPrix(sous))}$ €.`\n              reponse = arrondi(sous)\n              paramAMC = { digits: 3, decimals: 0, signe: false, approx: 0 } // la participation n'a que 2 chiffres mais on ne contraint pas la réponse\n              break\n            case 'population-totale':\n              texte = `Pour le cadeau de ${prénom}, j'ai donné $${texPrix(sous)}$ €. Cela représente $${taux}~\\\\%$ du prix total du cadeau. <br>Quel est le montant du cadeau ?`\n              texteCorr = `Soit $x$ le montant du cadeau. <br> Comme $${taux}~\\\\%$ de $x$ est égal à $${texPrix(sous)}$, on a :`\n              texteCorr += `<br>$\\\\begin{aligned}\n              \\\\dfrac{${taux}}{100} \\\\times x &= ${texNombre(sous)} \\\\\\\\\\\\\n              ${texNombre(p, 2)} \\\\times x &= ${texNombre(sous)} \\\\\\\\\n              x &= \\\\dfrac{${texNombre(sous)}}{${texNombre(p, 2)}} \\\\\\\\\n              x &= ${texPrix(totale)}\n              \\\\end{aligned}$`\n              texteCorr += `<br>Le cadeau coûte $${miseEnEvidence(texPrix(totale))}$ €.`\n              reponse = arrondi(totale)\n              paramAMC = { digits: 3, decimals: 0, signe: false, approx: 0 }\n              break\n            case 'proportion':\n            default:\n              texte = `Le cadeau commun que nous souhaitons faire à ${prénom} coûte $${texPrix(totale)}$ €. Je participe à hauteur de $${texPrix(sous)}$ €. <br>Calculer la proportion en pourcentage de ma participation sur le prix total du cadeau.`\n              texteCorr = `La proportion $p$ est donnée par le quotient : $\\\\dfrac{${texPrix(sous)}}{${texPrix(totale)}} = ${texNombre(p, 2)}$.`\n              texteCorr += `<br>$${texNombre(p, 2)}=\\\\dfrac{${texNombre(taux, 0)}}{100}$. J'ai donc donné $${miseEnEvidence(taux)}~\\\\%$ du montant total du cadeau.`\n              reponse = arrondi(taux)\n              paramAMC = { digits: 2, decimals: 0, signe: false, approx: 0 } // Le taux est ici inférieur à 100%\n              break\n          }\n          break\n        case 'réserve':\n          switch (randint(1, 3)) {\n            case 1:\n              totale = 50 * randint(10, 60)\n              taux = 2 * randint(3, 20)\n              break\n            case 2:\n              totale = 20 * randint(25, 150)\n              taux = 5 * randint(1, 9)\n              break\n            case 3:\n            default:\n              totale = 100 * randint(5, 30)\n              taux = randint(8, 40)\n              break\n          }\n          p = taux / 100\n          sous = p * totale\n          sous2 = totale - sous\n          // espèce = choice(['pic noir', 'pipit farlouse', 'bruant des roseaux']) au singulier, inutile à priori\n          espèces = choice([\n            'pics noirs',\n            'pipits farlouse',\n            'bruants des roseaux',\n          ])\n          switch (listeTypeDeQuestions[i]) {\n            case 'sous-population':\n              texte = `Une réserve de protection d'oiseaux contient $${texNombre(totale, 0)}$ individus d'oiseaux. On dénombre $${taux}~\\\\%$ de ${espèces}.<br>Quel est le nombre de ${espèces} ?`\n              texteCorr = `Pour appliquer une proportion à une valeur, on multiplie celle-ci par la proportion $p$. <br>Comme les ${espèces} représentent $${taux}~\\\\%$ de $${texNombre(totale, 0)}$, leur nombre est donné par :`\n              texteCorr += `<br>$\\\\dfrac{${taux}}{100} \\\\times ${texNombre(totale, 0)} = ${texNombre(p, 2)} \\\\times ${texNombre(totale, 0)}=${texNombre(sous, 2)}$`\n              texteCorr += `<br>Il y a $${miseEnEvidence(texNombre(sous, 2))}$ ${espèces} dans la réserve.`\n              reponse = arrondi(sous)\n              paramAMC = { digits: 4, decimals: 0, signe: false, approx: 0 } // on mets 4 chiffres même si la plupart des réponses n'en ont que 3 pour ne pas contraindre les réponses\n\n              break\n            case 'population-totale':\n              texte = `Dans une réserve de protection d'oiseaux, il y a $${texNombre(sous, 2)}$ ${espèces}, ce qui représente $${taux}~\\\\%$ du nombre total d'oiseaux. <br>Quel est le nombre d'oiseaux de cette réserve ?`\n              texteCorr = `Soit $x$ le nombre d'oiseaux. <br> Comme $${taux}~\\\\%$ de $x$ est égal à $${texNombre(sous, 2)}$, on a :`\n              texteCorr += `<br>$\\\\begin{aligned}\n                \\\\dfrac{${taux}}{100} \\\\times x &= ${texNombre(sous, 2)} \\\\\\\\\\\\\n                ${texNombre(p, 2)} \\\\times x &= ${texNombre(sous, 2)} \\\\\\\\\n                x &= \\\\dfrac{${texNombre(sous, 2)}}{${texNombre(p, 2)}} \\\\\\\\\n                x &= ${texNombre(totale, 0)}\n                \\\\end{aligned}$`\n              texteCorr += `<br>Il y a $${miseEnEvidence(texNombre(totale, 0))}$ oiseaux dans la réserve.`\n              reponse = arrondi(totale)\n              paramAMC = { digits: 4, decimals: 0, signe: false, approx: 0 } // population à 4 chiffres (souvent)\n\n              break\n            case 'proportion':\n            default:\n              texte = `Une réserve de protection d'oiseaux contient $${texNombre(totale, 0)}$ individus d'oiseaux. On dénombre $${texNombre(sous, 2)}$ ${espèces}. <br>Calculer la proportion en pourcentage de ${espèces} dans la réserve.`\n              texteCorr = `La proportion $p$ est donnée par le quotient : $\\\\dfrac{${texNombre(sous, 2)}}{${texNombre(totale, 0)}} = ${texNombre(p, 2)}$.`\n              texteCorr += `<br>$${texNombre(p, 2)}=\\\\dfrac{${texNombre(taux, 0)}}{100}$. Le pourcentage de ${espèces} dans la réserve est donc de $${miseEnEvidence(taux)}~\\\\%$.`\n              reponse = arrondi(taux)\n              paramAMC = { digits: 2, decimals: 0, signe: false, approx: 0 } // Le taux est ici inférieur à 100%\n              break\n          }\n          break\n\n        case 'entreprise':\n        default:\n          switch (randint(1, 3)) {\n            case 1:\n              totale = 50 * randint(1, 9, 2)\n              taux = 2 * randint(3, 17)\n              break\n            case 2:\n              totale = 50 * randint(1, 9, 2)\n              taux = 2 * randint(3, 29)\n              break\n            case 3:\n            default:\n              totale = 10 * randint(3, 25)\n              taux = 10 * randint(1, 4)\n              break\n          }\n          p = taux / 100\n          sous = p * totale\n          sous2 = totale - sous\n          switch (listeTypeDeQuestions[i]) {\n            case 'sous-population':\n              texte = `Dans une entreprise de $${texNombre(totale, 0)}$ salariés, il y a  $${taux}\\\\,\\\\%$ de cadres. <br>Combien y a-t-il de cadres dans cette entreprise ?`\n              texteCorr = `Pour appliquer une proportion à une valeur, on multiplie celle-ci par la proportion $p$. <br>Comme il y a  $${taux}\\\\,\\\\%$ des $${texNombre(totale, 0)}$ salariés qui sont cadres, le nombre de cadres est donné par :`\n              texteCorr += `<br>$\\\\dfrac{${taux}}{100} \\\\times ${texNombre(totale, 0)} = ${texNombre(p, 2)} \\\\times ${texNombre(totale, 0)}=${texNombre(sous, 2)}$`\n              texteCorr += `<br>Il y a donc  $${miseEnEvidence(texNombre(sous))}$  cadres dans cette entreprise.`\n              reponse = arrondi(sous)\n              paramAMC = { digits: 3, decimals: 0, signe: false, approx: 0 } // la participation n'a que 2 chiffres mais on ne contraint pas la réponse\n              break\n            case 'population-totale':\n              texte = `Dans un entreprise, il y a  $${texNombre(sous)}$ cadres. Ils  représentent $${taux}\\\\,\\\\%$ du nombre total de salariés. <br>Quel est le nombre total de salariés dans cette entreprise ?`\n              texteCorr = `Soit $n$ le nombre total de salariés dans l'entreprise. <br> Comme $${taux}\\\\,\\\\%$ de $n$ est égal à $${texNombre(sous)}$, on a :`\n              texteCorr += `<br>$\\\\begin{aligned}\n                \\\\dfrac{${taux}}{100} \\\\times n &= ${sous} \\\\\\\\\\\\\n                ${texNombre(p, 2)} \\\\times n &= ${sous} \\\\\\\\\n                x &= \\\\dfrac{${texNombre(sous, 2)}}{${texNombre(p, 2)}} \\\\\\\\\n                x &= ${texNombre(totale, 2)}\n                \\\\end{aligned}$`\n              texteCorr += `<br>Le nombre total de salariés dans l'entreprise est $${miseEnEvidence(texNombre(totale))}$.`\n              reponse = arrondi(totale)\n              paramAMC = { digits: 3, decimals: 0, signe: false, approx: 0 }\n              break\n            case 'proportion':\n            default:\n              texte = `Dans une entreprise, il y a $${texNombre(totale)}$ salariés au total. Parmi eux, on dénombre  $${texNombre(sous)}$ cadres. <br>Calculer la proportion en pourcentage de cadres dans cette entreprise.`\n              texteCorr = `La proportion $p$ est donnée par le quotient : $\\\\dfrac{${texNombre(sous)}}{${texNombre(totale)}} = ${texNombre(p, 2)}$.`\n              texteCorr += `<br>$${texNombre(p, 2)}=\\\\dfrac{${texNombre(taux, 0)}}{100}$. Il y a donc $${miseEnEvidence(taux)}\\\\,\\\\%$ de cadres dans cette entreprise.`\n              reponse = arrondi(taux)\n              paramAMC = { digits: 2, decimals: 0, signe: false, approx: 0 }\n              break\n          }\n          break\n      }\n      if (context.isAmc) setReponse(this, i, reponse, paramAMC)\n      else handleAnswers(this, i, { reponse: { value: reponse.toString() } })\n      if (context.isAmc && listeTypeDeQuestions[i] === 'proportion') {\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.textePosition = 'left'\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.texte = '\\\\\\\\En \\\\% : '\n      }\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n        texteApres:\n          listeTypeDeQuestions[i] === 'proportion'\n            ? ' %'\n            : typesDeSituations[i] === 'cadeau' &&\n                listeTypeDeQuestions[i] !== 'proportion'\n              ? '€'\n              : '',\n      })\n\n      if (this.questionJamaisPosee(i, taux, totale, sous)) {\n        // on utilise donc cette fonction basée sur les variables aléatoires pour éviter les doublons\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","Proportions","Exercice","typesDeQuestionsDisponibles","situationsDisponibles","listeTypeDeQuestions","combinaisonListes","typesDeSituations","prénom","espèces","i","cpt","totale","taux","p","sous","sous2","texte","texteCorr","reponse","paramAMC","randint","texNombre","miseEnEvidence","arrondi","choice","texPrix","context","setReponse","handleAnswers","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}