{"version":3,"file":"representantVecteur-BEpsuVcA.js","sources":["../../src/lib/2d/NomVecteurParPosition.ts","../../src/lib/2d/representantVecteur.ts"],"sourcesContent":["import { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { fixeBordures } from './fixeBordures'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport { point } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { latex2d, texteParPosition } from './textes'\nimport { rotation, similitude, translation } from './transformations'\nimport { vecteur } from './Vecteur'\n\n/**\n * @author Jean-Claude Lhote le 31/01/2021\n * crée un nom de vecteur avec sa petite flèche\n * l'angle formé par avec l'horizontale est à donner comme argument, par défaut c'est 0\n * la taille impactera le nom et la flèche en proportion.\n * (x,y) sont les coordonnées du centre du nom.\n */\nexport class NomVecteurParPosition extends ObjetMathalea2D {\n  nom: string\n  x: number\n  y: number\n  angle: number\n  taille: number\n  constructor(\n    nom: string,\n    x: number,\n    y: number,\n    taille = 1,\n    angle = 0,\n    color = 'black',\n  ) {\n    super()\n    this.nom = nom\n    this.x = x\n    this.y = y\n    this.color = colorToLatexOrHTML(color)\n    this.angle = angle\n    this.taille = taille\n    // @todo créer deux objets : vecteurI et vecteurJ pour ça.\n    // if (this.nom === 'i') return latex2d('\\\\vec \\\\imath', this.x, this.y, { color })\n    // if (this.nom === 'j') return latex2d('\\\\vec \\\\jmath', this.x, this.y, { color })\n    const t = texteParPosition(\n      this.nom,\n      this.x,\n      this.y,\n      -this.angle,\n      color,\n      this.taille,\n      'milieu',\n      true,\n    )\n    const M = point(this.x, this.y)\n    const P = point(M.x + 0.25 * this.nom.length, M.y)\n    const M0 = similitude(P, M, 90 + this.angle, 1.5)\n    const M1 = rotation(translation(M0, vecteur(P, M)), M0, this.angle)\n    const M2 = similitude(M1, M0, 180, 1.5)\n    const s = segment(M1, M2, color)\n    s.styleExtremites = '->'\n    s.tailleExtremites = 3\n    this.objets = [t, s]\n    const bordures = fixeBordures(this.objets, {\n      rxmin: 0,\n      rxmax: 0,\n      rymin: 0,\n      rymax: 0,\n    })\n    this.bordures = [bordures.xmin, bordures.ymin, bordures.xmax, bordures.ymax]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n\nexport function nomVecteurParPosition(\n  nom: string,\n  x: number,\n  y: number,\n  taille = 1,\n  angle = 0,\n  color = 'black',\n) {\n  // Katex ne reconnais pas \\\\vec qui est une commande définie ailleurs.\n  if (nom === 'i') return latex2d('\\\\vec{\\\\imath}', x, y, { color })\n  if (nom === 'j') return latex2d('\\\\vec{\\\\jmath}', x, y, { color })\n  return new NomVecteurParPosition(nom, x, y, taille, angle, color)\n}\n","import { nomVecteurParPosition } from './NomVecteurParPosition'\nimport { PointAbstrait, pointAbstrait } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { similitude, translation } from './transformations'\nimport { milieu } from './utilitairesPoint'\nimport type { Vecteur } from './Vecteur'\n\nexport function representant(v: Vecteur, A: PointAbstrait, color = 'black') {\n  const B = pointAbstrait(A.x + v.x, A.y + v.y)\n  const s = segment(A, B, color, '->')\n  s.tailleExtremites = 5\n  return s\n}\n\nexport function representantNomme(\n  v: Vecteur,\n  A: PointAbstrait,\n  nom: string,\n  taille = 1,\n  color = 'black',\n) {\n  let s\n  let vTransformed\n  const B = pointAbstrait(A.x + v.x, A.y + v.y)\n  const M = milieu(A, B)\n  s = segment(A, B, color)\n  const angle = s.angleAvecHorizontale\n  vTransformed = similitude(v, A, 90, 0.5 / v.norme())\n  if (Math.abs(angle) > 90) {\n    s = segment(B, A, color)\n    vTransformed = similitude(v, A, -90, 0.5 / v.norme())\n  }\n  const N = translation(M, vTransformed)\n  return nomVecteurParPosition(nom, N.x, N.y, taille, 0, color)\n}\n"],"names":["NomVecteurParPosition","ObjetMathalea2D","nom","x","y","taille","angle","color","__publicField","colorToLatexOrHTML","t","texteParPosition","M","point","P","M0","similitude","M1","rotation","translation","vecteur","M2","s","segment","bordures","fixeBordures","coeff","code","objet","nomVecteurParPosition","latex2d","representant","v","A","B","pointAbstrait","representantNomme","vTransformed","milieu","N"],"mappings":"0kBAgBO,MAAMA,UAA8BC,CAAgB,CAMzD,YACEC,EACAC,EACAC,EACAC,EAAS,EACTC,EAAQ,EACRC,EAAQ,QACR,CACA,MAAA,EAbFC,EAAA,YACAA,EAAA,UACAA,EAAA,UACAA,EAAA,cACAA,EAAA,eAUE,KAAK,IAAMN,EACX,KAAK,EAAIC,EACT,KAAK,EAAIC,EACT,KAAK,MAAQK,EAAmBF,CAAK,EACrC,KAAK,MAAQD,EACb,KAAK,OAASD,EAId,MAAMK,EAAIC,EACR,KAAK,IACL,KAAK,EACL,KAAK,EACL,CAAC,KAAK,MACNJ,EACA,KAAK,OACL,SACA,EAAA,EAEIK,EAAIC,EAAM,KAAK,EAAG,KAAK,CAAC,EACxBC,EAAID,EAAMD,EAAE,EAAI,IAAO,KAAK,IAAI,OAAQA,EAAE,CAAC,EAC3CG,EAAKC,EAAWF,EAAGF,EAAG,GAAK,KAAK,MAAO,GAAG,EAC1CK,EAAKC,EAASC,EAAYJ,EAAIK,EAAQN,EAAGF,CAAC,CAAC,EAAGG,EAAI,KAAK,KAAK,EAC5DM,EAAKL,EAAWC,EAAIF,EAAI,IAAK,GAAG,EAChCO,EAAIC,EAAQN,EAAII,EAAId,CAAK,EAC/Be,EAAE,gBAAkB,KACpBA,EAAE,iBAAmB,EACrB,KAAK,OAAS,CAACZ,EAAGY,CAAC,EACnB,MAAME,EAAWC,EAAa,KAAK,OAAQ,CACzC,MAAO,EACP,MAAO,EACP,MAAO,EACP,MAAO,CAAA,CACR,EACD,KAAK,SAAW,CAACD,EAAS,KAAMA,EAAS,KAAMA,EAAS,KAAMA,EAAS,IAAI,CAC7E,CAEA,IAAIE,EAAe,CACjB,IAAIC,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWC,KAAS,KAAK,OACvBD,GAAQ;AAAA,GAASC,EAAM,IAAIF,CAAK,EAElC,OAAOC,CACT,CAEA,MAAO,CACL,IAAIA,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWC,KAAS,KAAK,OACvBD,GAAQ;AAAA,GAASC,EAAM,KAAA,EAEzB,OAAOD,CACT,CACF,CAEO,SAASE,EACd3B,EACAC,EACAC,EACAC,EAAS,EACTC,EAAQ,EACRC,EAAQ,QACR,CAEA,OAAIL,IAAQ,IAAY4B,EAAQ,iBAAkB3B,EAAGC,EAAG,CAAE,MAAAG,EAAO,EAC7DL,IAAQ,IAAY4B,EAAQ,iBAAkB3B,EAAGC,EAAG,CAAE,MAAAG,EAAO,EAC1D,IAAIP,EAAsBE,EAAKC,EAAGC,EAAGC,EAAQC,EAAOC,CAAK,CAClE,CC5FO,SAASwB,EAAaC,EAAYC,EAAkB1B,EAAQ,QAAS,CAC1E,MAAM2B,EAAIC,EAAcF,EAAE,EAAID,EAAE,EAAGC,EAAE,EAAID,EAAE,CAAC,EACtCV,EAAIC,EAAQU,EAAGC,EAAG3B,EAAO,IAAI,EACnC,OAAAe,EAAE,iBAAmB,EACdA,CACT,CAEO,SAASc,EACdJ,EACAC,EACA/B,EACAG,EAAS,EACTE,EAAQ,QACR,CACA,IAAIe,EACAe,EACJ,MAAMH,EAAIC,EAAcF,EAAE,EAAID,EAAE,EAAGC,EAAE,EAAID,EAAE,CAAC,EACtCpB,EAAI0B,EAAOL,EAAGC,CAAC,EACrBZ,EAAIC,EAAQU,EAAGC,EAAG3B,CAAK,EACvB,MAAMD,EAAQgB,EAAE,qBAChBe,EAAerB,EAAWgB,EAAGC,EAAG,GAAI,GAAMD,EAAE,OAAO,EAC/C,KAAK,IAAI1B,CAAK,EAAI,KACpBgB,EAAIC,EAAQW,EAAGD,EAAG1B,CAAK,EACvB8B,EAAerB,EAAWgB,EAAGC,EAAG,IAAK,GAAMD,EAAE,OAAO,GAEtD,MAAMO,EAAIpB,EAAYP,EAAGyB,CAAY,EACrC,OAAOR,EAAsB3B,EAAKqC,EAAE,EAAGA,EAAE,EAAGlC,EAAQ,EAAGE,CAAK,CAC9D"}