{"version":3,"file":"2G30-2-DmfXB7cq.js","sources":["../../src/exercices/2e/2G30-2.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  ecritureParentheseSiNegatif,\n  reduireAxPlusB,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { pgcd } from '../../lib/outils/primalite'\nimport { getLang } from '../../lib/stores/languagesStore'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Déterminer une équation réduite de droite'\nexport const dateDeModifImportante = '08/12/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n *\n * @author Stéphane Guyon + modif Gilles Mora (droite verticale)\n */\nexport const uuid = '0cee9'\n\nexport const refs = {\n  'fr-fr': ['2G30-2'],\n  'fr-ch': ['11FA9-5', '1mF2-2'],\n}\nexport default class EquationReduiteDeDroites extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      2,\n      \"1 : Détermination équation réduite de droite à partir de 2 points \\n2 : Détermination équation réduite à partir d'un point et d'un vecteur directeur.\",\n    ]\n\n    this.nbQuestions = 1\n    this.nbCols = 2 // Uniquement pour la sortie LaTeX\n    this.nbColsCorr = 2 // Uniquement pour la sortie LaTeX\n    this.sup = 1 // Niveau de difficulté\n  }\n\n  nouvelleVersion() {\n    const lang = getLang()\n    if (lang === 'fr-CH') {\n      if (this.sup === 1) {\n        this.consigne =\n          'Déterminer une équation réduite de ' +\n          (this.nbQuestions !== 1 ? 'chaque' : 'la') +\n          ' droite $(AB)$ avec les points $A$ et $B$ de coordonnées suivantes.'\n      } else {\n        this.consigne =\n          'Déterminer une équation réduite de ' +\n          (this.nbQuestions !== 1 ? 'chaque' : 'la') +\n          ' droite $(d)$  passant par le point $A$  et ayant comme pente $m$.'\n      }\n    } else {\n      if (this.sup === 1)\n        this.consigne =\n          'Soit $\\\\big(O ; \\\\vec \\\\imath,\\\\vec \\\\jmath\\\\big)$ un repère orthogonal.<br>Déterminer une équation réduite de ' +\n          (this.nbQuestions !== 1 ? 'chaque' : 'la') +\n          ' droite $(AB)$ avec les points $A$ et $B$ de coordonnées suivantes.'\n      else\n        this.consigne =\n          'Soit $\\\\big(O ; \\\\vec \\\\imath,\\\\vec \\\\jmath\\\\big)$ un repère orthogonal.<br>Déterminer une équation réduite de ' +\n          (this.nbQuestions !== 1 ? 'chaque' : 'la') +\n          ' droite $(d)$  passant par le point $A$  et ayant le vecteur $\\\\vec {u}$ comme vecteur directeur. $A$ et $\\\\vec {u}$ ont les coordonnées suivantes.'\n    }\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let xA: number\n      let xB: number\n      let yA: number\n      let yB: number\n      let xu: number\n      let yu: number\n      let n: number\n      let d: number\n      let texte = ''\n      let texteCorr = ''\n      let reponse: string[] | string\n      if (this.sup === 1) {\n        // case 'A et B':\n        xA = randint(-7, 7)\n        yA = randint(-7, 7)\n        xB = randint(-7, 7)\n        yB = randint(-7, 7)\n        xu = xB - xA\n        yu = yB - yA\n        n = yB - yA\n        d = xB - xA\n        while (xA === xB && yA === yB) {\n          yA = randint(-7, 7)\n          yB = randint(-7, 7)\n          xA = randint(-7, 7)\n          xu = xB - xA\n          yu = yB - yA\n          n = yB - yA\n          d = xB - xA\n        }\n\n        texte = `$A(${xA}\\\\,;\\\\,${yA})$ et $B(${xB}\\\\,;\\\\,${yB})$`\n        texteCorr = 'On observe que $ x_B\\\\neq x_A$.'\n        texteCorr +=\n          '<br>La droite $(AB)$ a donc une équation du type $y=mx+p$.'\n        texteCorr +=\n          '<br>On commence par calculer le coefficient directeur $m$ :'\n        texteCorr +=\n          \"<br>On sait d'après le cours : $m=\\\\dfrac{y_B-y_A}{x_B-x_A}$.\"\n        texteCorr += `<br>On applique avec les données de l'énoncé : $m=\\\\dfrac{${yB}-${ecritureParentheseSiNegatif(yA)}}{${xB}-${ecritureParentheseSiNegatif(xA)}}`\n      } else {\n        // case 'A et u':\n        xA = randint(-5, 5)\n        yA = randint(-5, 5)\n        xu = randint(-5, 5, 0)\n        yu = randint(-5, 5)\n        n = yu\n        d = xu\n        if (lang === 'fr-CH') {\n          texte = `$A(${xA}\\\\,;\\\\,${yA})$ et $m`\n          texte += `=${new FractionEtendue(n, d).texFraction}`\n          if ((pgcd(n, d) !== 1 || d === 1 || d < 0 || n < 0) && n !== 0) {\n            texte += `=${new FractionEtendue(n, d).texFractionSimplifiee}`\n          }\n          texte += '$.'\n        } else {\n          texte = `$A(${xA}\\\\,;\\\\,${yA})$ et $\\\\vec {u} \\\\begin{pmatrix}${xu}\\\\\\\\${yu}\\\\end{pmatrix}$`\n          texteCorr =\n            \"On observe que $ \\\\vec u$ n'est pas colinéaire au vecteur $\\\\vec \\\\jmath$, puisque son déplacement horizontal est non nul.\"\n          texteCorr +=\n            \"<br>La droite $(d)$ n'est donc pas verticale. Elle admet donc une équation du type : $(d) :y=mx+p$.\"\n          texteCorr +=\n            '<br>On commence par calculer le coefficient directeur $m$.'\n          texteCorr +=\n            \"<br>On sait d'après le cours que si $\\\\vec u \\\\begin{pmatrix}a\\\\\\\\b\\\\end{pmatrix}$, alors $m=\\\\dfrac{b}{a}$.\"\n          texteCorr += \"<br>On applique avec les données de l'énoncé : $m\"\n        }\n      }\n      const nomDroite = this.sup === 1 ? 'AB' : 'd'\n      if (this.sup === 1 && xA === xB!) {\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFullOperations,\n          {\n            texteAvant: `<br>$(${nomDroite}) :$`,\n          },\n        )\n        reponse = [`x=${xA}`, `${xA}=x`]\n      } else {\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFullOperations,\n          {\n            texteAvant: `<br>$(${nomDroite}) : y=$`,\n          },\n        )\n        reponse = reduireAxPlusB(\n          new FractionEtendue(n, d).simplifie(),\n          new FractionEtendue(d * yA - n * xA, d).simplifie(),\n        )\n      }\n      handleAnswers(this, i, { reponse: { value: reponse } })\n      if (lang !== 'fr-CH') {\n        // Correction commune aux deux this.sup\n        texteCorr += `=${new FractionEtendue(n, d).texFraction}`\n        if ((pgcd(n, d) !== 1 || d === 1 || d < 0 || n < 0) && n !== 0) {\n          texteCorr += `=${new FractionEtendue(n, d).texFractionSimplifiee}`\n        }\n        texteCorr += '$.<br><br>'\n      } else {\n        texteCorr = ''\n      }\n      texteCorr += `L'équation de la droite $(${nomDroite})$ est donc de la forme : $y=`\n      texteCorr += `${new FractionEtendue(n, d).texFractionSimplifiee} \\\\times x+p$`\n      texteCorr += `<br><br>Comme $A \\\\in (${nomDroite})$, les coordonnées du point $A$ vérifient l'équation, donc :`\n      texteCorr += `<br>$${yA}=${new FractionEtendue(n, d).texFractionSimplifiee} \\\\times ${ecritureParentheseSiNegatif(xA)} +p$`\n      texteCorr += `<br>$\\\\iff p=${yA}${new FractionEtendue(-n, d).simplifie().texFractionSignee} \\\\times ${ecritureParentheseSiNegatif(xA)}$`\n      texteCorr += `<br>$\\\\iff p=${new FractionEtendue(d * yA - n * xA, d).texFractionSimplifiee}$`\n      texteCorr += `<br>Au final, $(${nomDroite}) : y = ${miseEnEvidence(Array.isArray(reponse) ? reponse[0] : reponse)}$.`\n      // if (d * yA - n * xA !== 0) { // cas ou p!=0 :\n      if (this.sup === 1 && yA === yB!) {\n        texteCorr = `On constate que $y_A=y_B=${yA}$, c'est donc une droite horizontale d'équation $y = ${miseEnEvidence(yA)}$.`\n      }\n      if (this.sup === 1 && xA === xB!) {\n        texteCorr = `On constate que $x_A=x_B=${xA}$, c'est donc une droite verticale d'équation $ ${miseEnEvidence(`x =${xA}`)}$.`\n      }\n      // }\n\n      if (this.questionJamaisPosee(i, xA, yA, xu, yu)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDeModifImportante","interactifReady","interactifType","uuid","refs","EquationReduiteDeDroites","Exercice","lang","getLang","i","cpt","xA","xB","yA","yB","xu","yu","n","d","texte","texteCorr","reponse","randint","ecritureParentheseSiNegatif","FractionEtendue","pgcd","nomDroite","ajouteChampTexteMathLive","KeyboardType","reduireAxPlusB","handleAnswers","miseEnEvidence","listeQuestionsToContenu"],"mappings":"koFAcO,MAAMA,GAAQ,4CACRC,GAAwB,aACxBC,GAAkB,GAClBC,GAAiB,WAMjBC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,QAAQ,EAClB,QAAS,CAAC,UAAW,QAAQ,CAC/B,EACA,MAAqBC,WAAiCC,CAAS,CAC7D,aAAc,CACZ,MAAA,EACA,KAAK,0BAA4B,CAC/B,uBACA,EACA;AAAA,kFAAA,EAGF,KAAK,YAAc,EACnB,KAAK,OAAS,EACd,KAAK,WAAa,EAClB,KAAK,IAAM,CACb,CAEA,iBAAkB,CAChB,MAAMC,EAAOC,EAAA,EACTD,IAAS,QACP,KAAK,MAAQ,EACf,KAAK,SACH,uCACC,KAAK,cAAgB,EAAI,SAAW,MACrC,sEAEF,KAAK,SACH,uCACC,KAAK,cAAgB,EAAI,SAAW,MACrC,qEAGA,KAAK,MAAQ,EACf,KAAK,SACH,mHACC,KAAK,cAAgB,EAAI,SAAW,MACrC,sEAEF,KAAK,SACH,mHACC,KAAK,cAAgB,EAAI,SAAW,MACrC,sJAGN,QAASE,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAQ,GACRC,EAAY,GACZC,EACJ,GAAI,KAAK,MAAQ,EAAG,CAUlB,IARAV,EAAKW,EAAQ,GAAI,CAAC,EAClBT,EAAKS,EAAQ,GAAI,CAAC,EAClBV,EAAKU,EAAQ,GAAI,CAAC,EAClBR,EAAKQ,EAAQ,GAAI,CAAC,EAClBP,EAAKH,EAAKD,EACVK,EAAKF,EAAKD,EACVI,EAAIH,EAAKD,EACTK,EAAIN,EAAKD,EACFA,IAAOC,GAAMC,IAAOC,GACzBD,EAAKS,EAAQ,GAAI,CAAC,EAClBR,EAAKQ,EAAQ,GAAI,CAAC,EAClBX,EAAKW,EAAQ,GAAI,CAAC,EAClBP,EAAKH,EAAKD,EACVK,EAAKF,EAAKD,EACVI,EAAIH,EAAKD,EACTK,EAAIN,EAAKD,EAGXQ,EAAQ,MAAMR,CAAE,UAAUE,CAAE,YAAYD,CAAE,UAAUE,CAAE,KACtDM,EAAY,kCACZA,GACE,6DACFA,GACE,8DACFA,GACE,gEACFA,GAAa,6DAA6DN,CAAE,IAAIS,EAA4BV,CAAE,CAAC,KAAKD,CAAE,IAAIW,EAA4BZ,CAAE,CAAC,GAC3J,MAEEA,EAAKW,EAAQ,GAAI,CAAC,EAClBT,EAAKS,EAAQ,GAAI,CAAC,EAClBP,EAAKO,EAAQ,GAAI,EAAG,CAAC,EACrBN,EAAKM,EAAQ,GAAI,CAAC,EAClBL,EAAID,EACJE,EAAIH,EACAR,IAAS,SACXY,EAAQ,MAAMR,CAAE,UAAUE,CAAE,WAC5BM,GAAS,IAAI,IAAIK,EAAgBP,EAAGC,CAAC,EAAE,WAAW,IAC7CO,EAAKR,EAAGC,CAAC,IAAM,GAAKA,IAAM,GAAKA,EAAI,GAAKD,EAAI,IAAMA,IAAM,IAC3DE,GAAS,IAAI,IAAIK,EAAgBP,EAAGC,CAAC,EAAE,qBAAqB,IAE9DC,GAAS,OAETA,EAAQ,MAAMR,CAAE,UAAUE,CAAE,oCAAoCE,CAAE,OAAOC,CAAE,kBAC3EI,EACE,6HACFA,GACE,sGACFA,GACE,6DACFA,GACE,+GACFA,GAAa,qDAGjB,MAAMM,EAAY,KAAK,MAAQ,EAAI,KAAO,IACtC,KAAK,MAAQ,GAAKf,IAAOC,GAC3BO,GAASQ,EACP,KACAlB,EACAmB,EAAa,sBACb,CACE,WAAY,SAASF,CAAS,MAAA,CAChC,EAEFL,EAAU,CAAC,KAAKV,CAAE,GAAI,GAAGA,CAAE,IAAI,IAE/BQ,GAASQ,EACP,KACAlB,EACAmB,EAAa,sBACb,CACE,WAAY,SAASF,CAAS,SAAA,CAChC,EAEFL,EAAUQ,EACR,IAAIL,EAAgBP,EAAGC,CAAC,EAAE,UAAA,EAC1B,IAAIM,EAAgBN,EAAIL,EAAKI,EAAIN,EAAIO,CAAC,EAAE,UAAA,CAAU,GAGtDY,EAAc,KAAMrB,EAAG,CAAE,QAAS,CAAE,MAAOY,CAAA,EAAW,EAClDd,IAAS,SAEXa,GAAa,IAAI,IAAII,EAAgBP,EAAGC,CAAC,EAAE,WAAW,IACjDO,EAAKR,EAAGC,CAAC,IAAM,GAAKA,IAAM,GAAKA,EAAI,GAAKD,EAAI,IAAMA,IAAM,IAC3DG,GAAa,IAAI,IAAII,EAAgBP,EAAGC,CAAC,EAAE,qBAAqB,IAElEE,GAAa,cAEbA,EAAY,GAEdA,GAAa,6BAA6BM,CAAS,gCACnDN,GAAa,GAAG,IAAII,EAAgBP,EAAGC,CAAC,EAAE,qBAAqB,gBAC/DE,GAAa,0BAA0BM,CAAS,gEAChDN,GAAa,QAAQP,CAAE,IAAI,IAAIW,EAAgBP,EAAGC,CAAC,EAAE,qBAAqB,YAAYK,EAA4BZ,CAAE,CAAC,OACrHS,GAAa,gBAAgBP,CAAE,GAAG,IAAIW,EAAgB,CAACP,EAAGC,CAAC,EAAE,YAAY,iBAAiB,YAAYK,EAA4BZ,CAAE,CAAC,IACrIS,GAAa,gBAAgB,IAAII,EAAgBN,EAAIL,EAAKI,EAAIN,EAAIO,CAAC,EAAE,qBAAqB,IAC1FE,GAAa,mBAAmBM,CAAS,WAAWK,EAAe,MAAM,QAAQV,CAAO,EAAIA,EAAQ,CAAC,EAAIA,CAAO,CAAC,KAE7G,KAAK,MAAQ,GAAKR,IAAOC,IAC3BM,EAAY,4BAA4BP,CAAE,wDAAwDkB,EAAelB,CAAE,CAAC,MAElH,KAAK,MAAQ,GAAKF,IAAOC,IAC3BQ,EAAY,4BAA4BT,CAAE,mDAAmDoB,EAAe,MAAMpB,CAAE,EAAE,CAAC,MAIrH,KAAK,oBAAoBF,EAAGE,EAAIE,EAAIE,EAAIC,CAAE,IAE5C,KAAK,eAAeP,CAAC,EAAIU,EACzB,KAAK,iBAAiBV,CAAC,EAAIW,EAC3BX,KAEFC,GACF,CACAsB,EAAwB,IAAI,CAC9B,CACF"}