{"version":3,"file":"6G0-4-BBWZWbl1.js","sources":["../../src/exercices/6e/6G0-4.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/view/view.capytale.review.1.test.ts ⚠️\n */\n\nimport { demiDroite } from '../../lib/2d/DemiDroite'\nimport { droite } from '../../lib/2d/droites'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { segmentAvecExtremites } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { vide2d } from '../../lib/2d/Vide2d'\nimport { setCliqueFigure } from '../../lib/interactif/gestionInteractif'\nimport {\n  combinaisonListes,\n  enleveElement,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre = 'Choisir la bonne figure'\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifReady = true\nexport const interactifType = 'cliqueFigure'\n\n/**\n * Plusieurs éléments sont proposés, il faut choisir le bon (par clic si interactif, par case à cocher par AMC)\n * @author ANGOT Rémi (Ajout AMC par Eric Elter)\n\n*/\nexport const uuid = '83763'\n\nexport const refs = {\n  'fr-fr': ['6G0-4'],\n  'fr-2016': ['6G10-3'],\n  'fr-ch': ['9ES1-8'],\n}\nexport default class CliqueFigure extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 3\n  }\n\n  nouvelleVersion() {\n    this.figures = [[], [], [], []]\n    this.consigne = this.interactif\n      ? 'Cliquer sur la bonne figure.'\n      : context.vue !== 'diap' && !context.isAmc\n        ? 'Entourer la bonne figure.'\n        : 'Choisir la bonne figure représentant : ' /// Penser ici à AMC aussi.\n    const typesDeQuestions = combinaisonListes(\n      ['segment', 'droite', 'demidroite', 'demidroite2'],\n      this.nbQuestions,\n    )\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const numeroLettre = randint(1, 20)\n      const A = point(0, 0)\n      const B = point(4, randint(-1, 3, 0))\n      A.nom = lettreDepuisChiffre(numeroLettre)\n      B.nom = lettreDepuisChiffre(numeroLettre + 1)\n      // context.pixelsParCm = 10\n      context.pixelsParCm = 20\n      const labels = labelPoint(A, B)\n      this.figures[i] = [\n        { id: `cliquefigure0Ex${this.numeroExercice}Q${i}`, solution: false },\n        { id: `cliquefigure1Ex${this.numeroExercice}Q${i}`, solution: false },\n        { id: `cliquefigure2Ex${this.numeroExercice}Q${i}`, solution: false },\n        { id: `cliquefigure3Ex${this.numeroExercice}Q${i}`, solution: false },\n      ]\n      const figSegment = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.4,\n          id: `cliquefigure0Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n      )\n      const figDroite = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.4,\n          id: `cliquefigure1Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n        droite(A, B),\n      )\n      const figDemiDroite = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.4,\n          id: `cliquefigure2Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n        demiDroite(A, B),\n      )\n      const figDemiDroite2 = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.4,\n          id: `cliquefigure3Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n        demiDroite(B, A),\n      )\n      const figSegmentAMC = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.3,\n          id: `cliquefigure0Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n      )\n      const figDroiteAMC = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.3,\n          id: `cliquefigure1Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n        droite(A, B),\n      )\n      const figDemiDroiteAMC = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.3,\n          id: `cliquefigure2Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n        demiDroite(A, B),\n      )\n      const figDemiDroite2AMC = mathalea2d(\n        {\n          style: 'display: inline-block',\n          xmin: -2,\n          xmax: 6,\n          ymin: -2,\n          scale: 0.3,\n          id: `cliquefigure3Ex${this.numeroExercice}Q${i}`,\n        },\n        labels,\n        segmentAvecExtremites(A, B),\n        demiDroite(B, A),\n      )\n      let figCorr\n      let figCorrecteAMC\n      const figIncorrectAMC = [\n        figSegmentAMC,\n        figDroiteAMC,\n        figDemiDroiteAMC,\n        figDemiDroite2AMC,\n      ]\n      switch (typesDeQuestions[i]) {\n        case 'segment':\n          texte = `Le segment d'extrémités $${A.nom}$ et $${B.nom}$.`\n          this.figures[i][0].solution = true\n          figCorr = vide2d()\n          figCorrecteAMC = figSegmentAMC\n          break\n        case 'droite':\n          texte = `La droite passant par les points $${A.nom}$ et $${B.nom}$.`\n          this.figures[i][1].solution = true\n          figCorr = droite(A, B)\n          figCorrecteAMC = figDroiteAMC\n          break\n        case 'demidroite':\n          texte = `La demi-droite d'origine $${A.nom}$ passant par $${B.nom}$.`\n          this.figures[i][2].solution = true\n          figCorr = demiDroite(A, B)\n          figCorrecteAMC = figDemiDroiteAMC\n          break\n        case 'demidroite2':\n        default:\n          texte = `La demi-droite d'origine $${B.nom}$ passant par $${A.nom}$.`\n          this.figures[i][3].solution = true\n          figCorr = demiDroite(B, A)\n          figCorrecteAMC = figDemiDroite2AMC\n          break\n      }\n\n      // PROPRE A AMC\n      enleveElement(figIncorrectAMC, figCorrecteAMC)\n      this.autoCorrection[i] = {}\n      setCliqueFigure(this.autoCorrection[i])\n      this.autoCorrection[i].enonce = this.consigne + texte\n      this.autoCorrection[i].propositions = [\n        {\n          texte: figCorrecteAMC,\n          statut: true,\n        },\n        {\n          texte: figIncorrectAMC[0],\n          statut: false,\n        },\n        {\n          texte: figIncorrectAMC[1],\n          statut: false,\n        },\n        {\n          texte: figIncorrectAMC[2],\n          statut: false,\n        },\n      ]\n      this.autoCorrection[i].options = {\n        ordered: false,\n        lastChoice: 4,\n      }\n      // FIN DE AMC\n\n      if (!context.isAmc) {\n        texte += '<br>'\n        texteCorr =\n          texte +\n          mathalea2d(\n            {\n              xmin: -4,\n              xmax: 6,\n              ymin: -2,\n              style: '',\n              scale: 0.4,\n              id: `figure3Ex${this.numeroExercice}Q${i}`,\n            },\n            labels,\n            segmentAvecExtremites(A, B),\n            figCorr,\n          )\n        const figures = shuffle([\n          figSegment,\n          figDroite,\n          figDemiDroite,\n          figDemiDroite2,\n        ])\n        texte += figures.join('')\n        if (this.interactif && context.isHtml) {\n          texte += `<span id=\"resultatCheckEx${this.numeroExercice}Q${i}\"></span>`\n        }\n      }\n\n      if (this.questionJamaisPosee(i, texte)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr ?? ''\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","interactifReady","interactifType","uuid","refs","CliqueFigure","Exercice","context","typesDeQuestions","combinaisonListes","texte","texteCorr","cpt","numeroLettre","randint","A","point","B","lettreDepuisChiffre","labels","labelPoint","figSegment","mathalea2d","segmentAvecExtremites","figDroite","droite","figDemiDroite","demiDroite","figDemiDroite2","figSegmentAMC","figDroiteAMC","figDemiDroiteAMC","figDemiDroite2AMC","figCorr","figCorrecteAMC","figIncorrectAMC","vide2d","enleveElement","setCliqueFigure","figures","shuffle","listeQuestionsToContenu"],"mappings":"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"}