{"version":3,"file":"can6C57-ChP2MOwi.js","sources":["../../src/exercices/can/6e/can6C57.ts"],"sourcesContent":["import { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { pgcd, ppcm } from '../../../lib/outils/primalite'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { obtenirListeFractionsIrreductibles } from '../../../modules/fractions'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre =\n  'Calculer une somme ou une différence de fractions à dénominateurs compatibles'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '05/07/2025'\n/**\n * @author Gilles Mora avec IA\n * Rémi Angot a jouté les cas 3 et 4\n */\nexport const uuid = '058e4'\n\nexport const refs = {\n  'fr-fr': ['can6C57', '6N3K-flash3'],\n  'fr-ch': ['NR'],\n}\nexport default class SommeDiffFractionsCompatibles extends ExerciceSimple {\n  constructor() {\n    super()\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.spacingCorr = 1.5\n    this.optionsDeComparaison = { fractionEgale: true }\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n  }\n\n  nouvelleVersion() {\n    let frac1: FractionEtendue\n    let frac2: FractionEtendue\n    let resultat: FractionEtendue\n    let p: number\n    switch (choice([1, 2, 3, 4])) {\n      case 1: // addition\n        do {\n          frac1 = choice(obtenirListeFractionsIrreductibles())\n          const den2 = frac1.den * randint(2, 5)\n          const num2 = randint(1, den2 - 1)\n          frac2 = new FractionEtendue(num2, den2)\n          p = ppcm(frac1.den, frac2.den)\n          const num1Adapte = frac1.num * (p / frac1.den)\n          const num2Adapte = frac2.num * (p / frac2.den)\n          resultat = new FractionEtendue(num1Adapte + num2Adapte, p)\n        } while (resultat.num === resultat.den) // éviter que ça fasse 1\n        this.question = `Calculer $${frac1.texFraction} + ${frac2.texFraction}$.`\n        this.correction = `On cherche un dénominateur commun (ici $${ppcm(frac1.den, frac2.den)}$), puis on additionne les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} + ${frac2.texFraction} &= \\\\dfrac{${frac1.num}\\\\times ${texNombre(p / frac1.den, 0)}}{${frac1.den}\\\\times ${texNombre(p / frac1.den, 0)}} +${frac2.texFraction} \\\\\\\\\n&=\\\\dfrac{${(frac1.num * p) / frac1.den}}{${resultat.den}} +${frac2.texFraction} \\\\\\\\[0.7em]\n&=${miseEnEvidence(resultat.texFraction)}${pgcd(resultat.num, resultat.den) !== 1 ? ` \\\\\\\\[0.7em]\\n&= ${miseEnEvidence(resultat.texFractionSimplifiee)}` : ''}\n\\\\end{aligned}$`\n        if (this.interactif) {\n          this.question = `$${frac1.texFraction} + ${frac2.texFraction} = $`\n        }\n        break\n\n      case 2: // soustraction\n        do {\n          frac1 = choice(obtenirListeFractionsIrreductibles())\n          const den2 = frac1.den * randint(2, 5)\n          const num2 = randint(1, den2 - 1)\n          frac2 = new FractionEtendue(num2, den2)\n          p = ppcm(frac1.den, frac2.den)\n          const num1Adapte = frac1.num * (p / frac1.den)\n          const num2Adapte = frac2.num * (p / frac2.den)\n          const diff = num1Adapte - num2Adapte\n          resultat = new FractionEtendue(diff, p)\n        } while (resultat.num <= 0 || resultat.num === resultat.den)\n\n        this.question = `Calculer $${frac1.texFraction} - ${frac2.texFraction}$.`\n\n        this.correction = `On réduit au même dénominateur ($${resultat.den}$), puis on soustrait les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} + ${frac2.texFraction} &= \\\\dfrac{${frac1.num}\\\\times ${texNombre(p / frac1.den, 0)}}{${frac1.den}\\\\times ${texNombre(p / frac1.den, 0)}} -${frac2.texFraction} \\\\\\\\\n&=\\\\dfrac{${(frac1.num * p) / frac1.den}}{${resultat.den}} -${frac2.texFraction} \\\\\\\\[0.7em]\n&=${miseEnEvidence(resultat.texFraction)}${pgcd(resultat.num, resultat.den) !== 1 ? ` \\\\\\\\[0.7em]\\n&= ${miseEnEvidence(resultat.texFractionSimplifiee)}` : ''}\n\\\\end{aligned}$`\n        if (this.interactif) {\n          this.question = `$${frac1.texFraction} - ${frac2.texFraction} = $`\n        }\n        break\n\n      case 3: // addition avec ordre inversé\n        do {\n          frac2 = choice(obtenirListeFractionsIrreductibles())\n          const den1 = frac2.den * randint(2, 5)\n          const num1 = randint(1, den1 - 1)\n          frac1 = new FractionEtendue(num1, den1)\n          p = ppcm(frac1.den, frac2.den)\n          const num1Adapte = frac1.num * (p / frac1.den)\n          const num2Adapte = frac2.num * (p / frac2.den)\n          resultat = new FractionEtendue(num1Adapte + num2Adapte, p)\n        } while (resultat.num === resultat.den) // éviter que ça fasse 1\n        this.question = `Calculer $${frac1.texFraction} + ${frac2.texFraction}$.`\n        this.correction = `On cherche un dénominateur commun (ici $${ppcm(frac1.den, frac2.den)}$), puis on additionne les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} + ${frac2.texFraction} &= ${frac1.texFraction} + \\\\dfrac{${frac2.num}\\\\times ${texNombre(p / frac2.den, 0)}}{${frac2.den}\\\\times ${texNombre(p / frac2.den, 0)}} \\\\\\\\\n&=${frac1.texFraction} + \\\\dfrac{${(frac2.num * p) / frac2.den}}{${resultat.den}} \\\\\\\\[0.7em]\n&=${miseEnEvidence(resultat.texFraction)}${pgcd(resultat.num, resultat.den) !== 1 ? ` \\\\\\\\[0.7em]\\n&= ${miseEnEvidence(resultat.texFractionSimplifiee)}` : ''}\n\\\\end{aligned}$`\n        if (this.interactif) {\n          this.question = `$${frac1.texFraction} + ${frac2.texFraction} = $`\n        }\n        break\n\n      case 4: // soustraction avec ordre inversé\n      default:\n        do {\n          frac2 = choice(obtenirListeFractionsIrreductibles())\n          const den1 = frac2.den * randint(2, 5)\n          const num1 = randint(1, den1 - 1)\n          frac1 = new FractionEtendue(num1, den1)\n          p = ppcm(frac1.den, frac2.den)\n          const num1Adapte = frac1.num * (p / frac1.den)\n          const num2Adapte = frac2.num * (p / frac2.den)\n          const diff = num1Adapte - num2Adapte\n          resultat = new FractionEtendue(diff, p)\n        } while (resultat.num <= 0 || resultat.num === resultat.den)\n\n        this.question = `Calculer $${frac1.texFraction} - ${frac2.texFraction}$.`\n\n        this.correction = `On réduit au même dénominateur ($${resultat.den}$), puis on soustrait les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} - ${frac2.texFraction} &= ${frac1.texFraction} - \\\\dfrac{${frac2.num}\\\\times ${texNombre(p / frac2.den, 0)}}{${frac2.den}\\\\times ${texNombre(p / frac2.den, 0)}} \\\\\\\\\n&=${frac1.texFraction} - \\\\dfrac{${(frac2.num * p) / frac2.den}}{${resultat.den}} \\\\\\\\[0.7em]\n&=${miseEnEvidence(resultat.texFraction)}${pgcd(resultat.num, resultat.den) !== 1 ? ` \\\\\\\\[0.7em]\\n&= ${miseEnEvidence(resultat.texFractionSimplifiee)}` : ''}\n\\\\end{aligned}$`\n        if (this.interactif) {\n          this.question = `$${frac1.texFraction} - ${frac2.texFraction} = $`\n        }\n        break\n    }\n\n    this.reponse = resultat\n    this.canEnonce = this.question\n    this.canReponseACompleter = ''\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","SommeDiffFractionsCompatibles","ExerciceSimple","KeyboardType","frac1","frac2","resultat","p","choice","obtenirListeFractionsIrreductibles","den2","randint","num2","FractionEtendue","ppcm","num1Adapte","num2Adapte","texNombre","miseEnEvidence","pgcd","diff","den1","num1"],"mappings":"gnFASO,MAAMA,GACX,gFACWC,GAAkB,GAClBC,GAAiB,WACjBC,GAAW,GACXC,GAAU,SACVC,GAAoB,aAKpBC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,UAAW,aAAa,EAClC,QAAS,CAAC,IAAI,CAChB,EACA,MAAqBC,WAAsCC,CAAe,CACxE,aAAc,CACZ,MAAA,EACA,KAAK,aAAe,SACpB,KAAK,YAAc,EACnB,KAAK,YAAc,IACnB,KAAK,qBAAuB,CAAE,cAAe,EAAA,EAC7C,KAAK,iBAAmBC,EAAa,yBACvC,CAEA,iBAAkB,CAChB,IAAIC,EACAC,EACAC,EACAC,EACJ,OAAQC,EAAO,CAAC,EAAG,EAAG,EAAG,CAAC,CAAC,EAAA,CACzB,IAAK,GACH,EAAG,CACDJ,EAAQI,EAAOC,GAAoC,EACnD,MAAMC,EAAON,EAAM,IAAMO,EAAQ,EAAG,CAAC,EAC/BC,EAAOD,EAAQ,EAAGD,EAAO,CAAC,EAChCL,EAAQ,IAAIQ,EAAgBD,EAAMF,CAAI,EACtCH,EAAIO,EAAKV,EAAM,IAAKC,EAAM,GAAG,EAC7B,MAAMU,EAAaX,EAAM,KAAOG,EAAIH,EAAM,KACpCY,EAAaX,EAAM,KAAOE,EAAIF,EAAM,KAC1CC,EAAW,IAAIO,EAAgBE,EAAaC,EAAYT,CAAC,CAC3D,OAASD,EAAS,MAAQA,EAAS,KACnC,KAAK,SAAW,aAAaF,EAAM,WAAW,MAAMC,EAAM,WAAW,KACrE,KAAK,WAAa,2CAA2CS,EAAKV,EAAM,IAAKC,EAAM,GAAG,CAAC;AAAA;AAAA,EAE7FD,EAAM,WAAW,MAAMC,EAAM,WAAW,eAAeD,EAAM,GAAG,WAAWa,EAAUV,EAAIH,EAAM,IAAK,CAAC,CAAC,KAAKA,EAAM,GAAG,WAAWa,EAAUV,EAAIH,EAAM,IAAK,CAAC,CAAC,MAAMC,EAAM,WAAW;AAAA,YACtKD,EAAM,IAAMG,EAAKH,EAAM,GAAG,KAAKE,EAAS,GAAG,MAAMD,EAAM,WAAW;AAAA,IAC3Ea,EAAeZ,EAAS,WAAW,CAAC,GAAGa,EAAKb,EAAS,IAAKA,EAAS,GAAG,IAAM,EAAI;AAAA,KAAoBY,EAAeZ,EAAS,qBAAqB,CAAC,GAAK,EAAE;AAAA,iBAEjJ,KAAK,aACP,KAAK,SAAW,IAAIF,EAAM,WAAW,MAAMC,EAAM,WAAW,QAE9D,MAEF,IAAK,GACH,EAAG,CACDD,EAAQI,EAAOC,GAAoC,EACnD,MAAMC,EAAON,EAAM,IAAMO,EAAQ,EAAG,CAAC,EAC/BC,EAAOD,EAAQ,EAAGD,EAAO,CAAC,EAChCL,EAAQ,IAAIQ,EAAgBD,EAAMF,CAAI,EACtCH,EAAIO,EAAKV,EAAM,IAAKC,EAAM,GAAG,EAC7B,MAAMU,EAAaX,EAAM,KAAOG,EAAIH,EAAM,KACpCY,EAAaX,EAAM,KAAOE,EAAIF,EAAM,KACpCe,EAAOL,EAAaC,EAC1BV,EAAW,IAAIO,EAAgBO,EAAMb,CAAC,CACxC,OAASD,EAAS,KAAO,GAAKA,EAAS,MAAQA,EAAS,KAExD,KAAK,SAAW,aAAaF,EAAM,WAAW,MAAMC,EAAM,WAAW,KAErE,KAAK,WAAa,oCAAoCC,EAAS,GAAG;AAAA;AAAA,EAExEF,EAAM,WAAW,MAAMC,EAAM,WAAW,eAAeD,EAAM,GAAG,WAAWa,EAAUV,EAAIH,EAAM,IAAK,CAAC,CAAC,KAAKA,EAAM,GAAG,WAAWa,EAAUV,EAAIH,EAAM,IAAK,CAAC,CAAC,MAAMC,EAAM,WAAW;AAAA,YACtKD,EAAM,IAAMG,EAAKH,EAAM,GAAG,KAAKE,EAAS,GAAG,MAAMD,EAAM,WAAW;AAAA,IAC3Ea,EAAeZ,EAAS,WAAW,CAAC,GAAGa,EAAKb,EAAS,IAAKA,EAAS,GAAG,IAAM,EAAI;AAAA,KAAoBY,EAAeZ,EAAS,qBAAqB,CAAC,GAAK,EAAE;AAAA,iBAEjJ,KAAK,aACP,KAAK,SAAW,IAAIF,EAAM,WAAW,MAAMC,EAAM,WAAW,QAE9D,MAEF,IAAK,GACH,EAAG,CACDA,EAAQG,EAAOC,GAAoC,EACnD,MAAMY,EAAOhB,EAAM,IAAMM,EAAQ,EAAG,CAAC,EAC/BW,EAAOX,EAAQ,EAAGU,EAAO,CAAC,EAChCjB,EAAQ,IAAIS,EAAgBS,EAAMD,CAAI,EACtCd,EAAIO,EAAKV,EAAM,IAAKC,EAAM,GAAG,EAC7B,MAAMU,EAAaX,EAAM,KAAOG,EAAIH,EAAM,KACpCY,EAAaX,EAAM,KAAOE,EAAIF,EAAM,KAC1CC,EAAW,IAAIO,EAAgBE,EAAaC,EAAYT,CAAC,CAC3D,OAASD,EAAS,MAAQA,EAAS,KACnC,KAAK,SAAW,aAAaF,EAAM,WAAW,MAAMC,EAAM,WAAW,KACrE,KAAK,WAAa,2CAA2CS,EAAKV,EAAM,IAAKC,EAAM,GAAG,CAAC;AAAA;AAAA,EAE7FD,EAAM,WAAW,MAAMC,EAAM,WAAW,OAAOD,EAAM,WAAW,cAAcC,EAAM,GAAG,WAAWY,EAAUV,EAAIF,EAAM,IAAK,CAAC,CAAC,KAAKA,EAAM,GAAG,WAAWY,EAAUV,EAAIF,EAAM,IAAK,CAAC,CAAC;AAAA,IAC/KD,EAAM,WAAW,cAAeC,EAAM,IAAME,EAAKF,EAAM,GAAG,KAAKC,EAAS,GAAG;AAAA,IAC3EY,EAAeZ,EAAS,WAAW,CAAC,GAAGa,EAAKb,EAAS,IAAKA,EAAS,GAAG,IAAM,EAAI;AAAA,KAAoBY,EAAeZ,EAAS,qBAAqB,CAAC,GAAK,EAAE;AAAA,iBAEjJ,KAAK,aACP,KAAK,SAAW,IAAIF,EAAM,WAAW,MAAMC,EAAM,WAAW,QAE9D,MAGF,QACE,EAAG,CACDA,EAAQG,EAAOC,GAAoC,EACnD,MAAMY,EAAOhB,EAAM,IAAMM,EAAQ,EAAG,CAAC,EAC/BW,EAAOX,EAAQ,EAAGU,EAAO,CAAC,EAChCjB,EAAQ,IAAIS,EAAgBS,EAAMD,CAAI,EACtCd,EAAIO,EAAKV,EAAM,IAAKC,EAAM,GAAG,EAC7B,MAAMU,EAAaX,EAAM,KAAOG,EAAIH,EAAM,KACpCY,EAAaX,EAAM,KAAOE,EAAIF,EAAM,KACpCe,EAAOL,EAAaC,EAC1BV,EAAW,IAAIO,EAAgBO,EAAMb,CAAC,CACxC,OAASD,EAAS,KAAO,GAAKA,EAAS,MAAQA,EAAS,KAExD,KAAK,SAAW,aAAaF,EAAM,WAAW,MAAMC,EAAM,WAAW,KAErE,KAAK,WAAa,oCAAoCC,EAAS,GAAG;AAAA;AAAA,EAExEF,EAAM,WAAW,MAAMC,EAAM,WAAW,OAAOD,EAAM,WAAW,cAAcC,EAAM,GAAG,WAAWY,EAAUV,EAAIF,EAAM,IAAK,CAAC,CAAC,KAAKA,EAAM,GAAG,WAAWY,EAAUV,EAAIF,EAAM,IAAK,CAAC,CAAC;AAAA,IAC/KD,EAAM,WAAW,cAAeC,EAAM,IAAME,EAAKF,EAAM,GAAG,KAAKC,EAAS,GAAG;AAAA,IAC3EY,EAAeZ,EAAS,WAAW,CAAC,GAAGa,EAAKb,EAAS,IAAKA,EAAS,GAAG,IAAM,EAAI;AAAA,KAAoBY,EAAeZ,EAAS,qBAAqB,CAAC,GAAK,EAAE;AAAA,iBAEjJ,KAAK,aACP,KAAK,SAAW,IAAIF,EAAM,WAAW,MAAMC,EAAM,WAAW,QAE9D,KAAA,CAGJ,KAAK,QAAUC,EACf,KAAK,UAAY,KAAK,SACtB,KAAK,qBAAuB,EAC9B,CACF"}