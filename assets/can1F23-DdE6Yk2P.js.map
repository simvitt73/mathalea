{"version":3,"file":"can1F23-DdE6Yk2P.js","sources":["../../src/exercices/can/1e/can1F23.ts"],"sourcesContent":["import Exercice from '../../../exercices/Exercice'\nimport { repere } from '../../../lib/2d/reperes'\nimport { texteParPosition } from '../../../lib/2d/textes'\nimport { handleAnswers } from '../../../lib/interactif/gestionInteractif'\nimport { choixDeroulant } from '../../../lib/interactif/questionListeDeroulante'\nimport { tableauSignesFonction } from '../../../lib/mathFonctions/etudeFonction'\nimport { spline, type NoeudSpline } from '../../../lib/mathFonctions/Spline'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../../modules/outils'\nexport const interactifReady = true\nexport const interactifType = 'listeDeroulante'\nexport const titre =\n  \"Dresser le tableau de signes d'une fonction dérivée à partir d'un graphique\"\nexport const dateDePublication = '18/11/2023'\nexport const dateDeModifImportante = '08/10/2025'\nexport const uuid = 'ad915'\n\nexport const refs = {\n  'fr-fr': ['can1F23'],\n  'fr-ch': [],\n}\n// une liste de nœuds pour définir une fonction Spline\nexport default class SignesTabGSpline extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const noeuds1: NoeudSpline[] = [\n      { x: -4, y: -1, deriveeGauche: 0.5, deriveeDroit: 0.5, isVisible: true },\n      { x: -3, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 4, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -1, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 0, y: 1, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 2, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: 3, y: -2, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 4, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 5, y: 1, deriveeGauche: 0.5, deriveeDroit: 0.5, isVisible: true },\n    ]\n    const noeuds2: NoeudSpline[] = [\n      { x: -6, y: -2, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n      { x: -5, y: 0, deriveeGauche: 2, deriveeDroit: 3, isVisible: true },\n      { x: -4, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -3, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: -2, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n      { x: -1, y: -1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 0, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 1, y: 3, deriveeGauche: 3, deriveeDroit: 3, isVisible: true },\n      { x: 2, y: 5, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 3, y: 4, deriveeGauche: -2, deriveeDroit: -2, isVisible: true },\n      { x: 4, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 5, y: 4, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 6, y: 5, deriveeGauche: 0.2, deriveeDroit: 0.2, isVisible: true },\n    ]\n\n    const noeuds3: NoeudSpline[] = [\n      { x: -6, y: -4, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -2, y: 0, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: 2, y: 2, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 4, y: 0, deriveeGauche: -2, deriveeDroit: -2, isVisible: true },\n      { x: 6, y: -3, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n    ]\n\n    const noeuds4: NoeudSpline[] = [\n      { x: -6, y: 3, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n      { x: -5, y: 4, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: -4, y: 2, deriveeGauche: -1.5, deriveeDroit: -1.5, isVisible: true },\n      { x: -2, y: 0, deriveeGauche: -1, deriveeDroit: -1.5, isVisible: true },\n      { x: 0, y: -3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 1, y: -1, deriveeGauche: 1.5, deriveeDroit: 1.5, isVisible: true },\n      { x: 2, y: 0, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      { x: 3, y: -3, deriveeGauche: -2, deriveeDroit: -2, isVisible: true },\n    ]\n\n    // une liste des listes\n    const mesFonctions = [noeuds1, noeuds2, noeuds3, noeuds4]\n    function aleatoiriseCourbe(listeFonctions: NoeudSpline[][]) {\n      const coeffX = choice([-1, 1]) // symétries ou pas\n      const coeffY = choice([-1, 1])\n      const deltaX = randint(-2, +2) // translations\n      const deltaY = 0\n      const choix = choice(listeFonctions)\n      return choix.map((noeud) =>\n        Object({\n          x: (noeud.x + deltaX) * coeffX,\n          y: (noeud.y + deltaY) * coeffY,\n          deriveeGauche: noeud.deriveeGauche * coeffX * coeffY,\n          deriveeDroit: noeud.deriveeDroit * coeffX * coeffY,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n\n    for (\n      let i = 0, cpt = 0, texte = '', texteCorr = '';\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      let bornes = {}\n      const o = texteParPosition('O', -0.3, -0.3)\n      const nuage = aleatoiriseCourbe(mesFonctions)\n      const maSpline = spline(nuage)\n      bornes = maSpline.trouveMaxes()\n\n      const fonctionD = (x) => maSpline.derivee(x)\n      const { xMin, xMax, yMin, yMax } = bornes\n      const tableau = tableauSignesFonction(maSpline.fonction, xMin, xMax, {\n        step: 1,\n        tolerance: 0.1,\n        nomVariable: 'x',\n        nomFonction: 'f^\\\\prime(x)',\n      })\n      const tableauD = tableauSignesFonction(fonctionD, xMin, xMax, {\n        step: 1,\n        tolerance: 0.1,\n        nomVariable: 'x',\n        nomFonction: 'f^\\\\prime(x)',\n      })\n      const choixInteractif = choice([tableau, tableauD])\n      const repere1 = repere({\n        xMin: bornes.xMin - 1,\n        xMax: bornes.xMax + 1,\n        yMin: bornes.yMin - 1,\n        yMax: bornes.yMax + 1,\n        grilleX: false,\n        grilleY: false,\n        grilleSecondaire: true,\n        grilleSecondaireYDistance: 1,\n        grilleSecondaireXDistance: 1,\n        grilleSecondaireYMin: bornes.yMin - 1,\n        grilleSecondaireYMax: bornes.yMax + 1,\n        grilleSecondaireXMin: bornes.xMin - 1,\n        grilleSecondaireXMax: bornes.xMax + 1,\n      })\n      const courbe1 = maSpline.courbe({\n        epaisseur: 1.5,\n        ajouteNoeuds: true,\n        optionsNoeuds: { color: 'blue', taille: 2, style: 'x', epaisseur: 2 },\n        color: 'blue',\n      })\n      const objetsEnonce = [repere1, courbe1]\n\n      texte =\n        `On donne la représentation graphique d'une fonction $f$. <br>\n    Dresser le tableau de signes de sa fonction dérivée $f^\\\\prime$.<br>` +\n        mathalea2d(\n          Object.assign(\n            { pixelsParCm: 30, scale: 0.55, style: 'margin: auto' },\n            { xmin: xMin - 1, ymin: yMin - 1, xmax: xMax + 1, ymax: yMax + 1 },\n          ),\n          objetsEnonce,\n          o,\n        )\n      if (this.interactif) {\n        texte = \"Voici la représentation graphique d'une fonction $f$ :<br>\"\n        texte += mathalea2d(\n          Object.assign(\n            { pixelsParCm: 30, scale: 0.55, style: 'margin: auto' },\n            { xmin: xMin - 1, ymin: yMin - 1, xmax: xMax + 1, ymax: yMax + 1 },\n          ),\n          objetsEnonce,\n          o,\n        )\n        texte +=\n          '<br>Le tableau de signes de la fonction $f^\\\\prime$ est : <br>'\n        texte += choixInteractif\n        texte +=\n          '<br> Réponse : ' +\n          choixDeroulant(this, i, [\n            { label: 'Choisir la réponse', value: '' },\n            { label: 'Vrai', value: 'Vrai' },\n            { label: 'Faux', value: 'Faux' },\n          ])\n        handleAnswers(this, i, {\n          reponse: {\n            value: choixInteractif === tableauD ? 'Vrai' : 'Faux',\n          },\n        })\n        texteCorr = `L'ensemble de définition de $f$ est $[${maSpline.x[0]}\\\\,;\\\\,${maSpline.x[maSpline.n - 1]}]$.<br>\n    Lorsque la fonction $f$ est croissante, $f^\\\\prime$ est positive et lorsque $f$ est décroissante, $f^\\\\prime$ est négative.<br>`\n        if (choixInteractif === tableau) {\n          texteCorr +=\n            'Voici le tableau de signes de $f^\\\\prime(x)$ sur son ensemble de définition :<br> '\n          texteCorr += tableauD\n        } else {\n          texteCorr +=\n            'Ce tableau de signe est bien celui de la dérivée de $f$. A ne pas confondre avec le tableau de signe de $f$ : <br>'\n          texteCorr += tableauSignesFonction(maSpline.fonction, xMin, xMax, {\n            step: 1,\n            tolerance: 0.1,\n            nomVariable: 'x',\n            nomFonction: 'f(x)',\n          })\n        }\n      } else {\n        texteCorr = `L'ensemble de définition de $f$ est $[${maSpline.x[0]}\\\\,;\\\\,${maSpline.x[maSpline.n - 1]}]$.<br>\n    Lorsque la fonction $f$ est croissante, $f^\\\\prime$ est positive et lorsque $f$ est décroissante, $f^\\\\prime$ est négative. Le tableau de signe de $f^\\\\prime$ est donc<br>`\n        texteCorr += tableauD\n      }\n      if ((this.questionJamaisPosee(i), tableau)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","titre","dateDePublication","dateDeModifImportante","uuid","refs","SignesTabGSpline","Exercice","mesFonctions","aleatoiriseCourbe","listeFonctions","coeffX","choice","coeffY","deltaX","randint","deltaY","noeud","i","cpt","texte","texteCorr","bornes","o","texteParPosition","nuage","maSpline","spline","fonctionD","x","xMin","xMax","yMin","yMax","tableau","tableauSignesFonction","tableauD","choixInteractif","repere1","repere","courbe1","objetsEnonce","mathalea2d","choixDeroulant","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}