{"version":3,"file":"1G13-rxFYmra9.js","sources":["../../src/exercices/1e/1G13.ts"],"sourcesContent":["import type { MathfieldElement } from 'mathlive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport engine from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriqueSauf1,\n  ecritureParentheseSiNegatif,\n  reduireAxPlusByPlusC,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { getLang } from '../../lib/stores/languagesStore'\nimport type { IExercice } from '../../lib/types'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre =\n  'D√©terminer une √©quation cart√©sienne avec un point et un vecteur normal'\nexport const dateDePublication = '04/07/2024'\nexport const dateDeModifImportante = '03/03/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n *\n * @author Gilles Mora+Jean Claude Lhote interactif\n */\nexport const uuid = '816d5'\n\nexport const refs = {\n  'fr-fr': ['1G13'],\n  'fr-ch': [],\n}\n\nclass EqCartDroite extends Exercice {\n  version: number\n  constructor() {\n    super()\n    this.nbQuestions = 1\n\n    this.version = 1\n  }\n\n  nouvelleVersion(): void {\n    // Lettre entre A et W mais pas L, M, N ou O pour ne pas avoir O dans les 4 points\n    const lang = getLang()\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let xA, yA, xB, yB, xn, yn, constante, xu, yu, m\n      let texte = ''\n      let texteCorr = ''\n      switch (this.version) {\n        case 4: // 2G30-5 Point et pente\n          xA = randint(-5, 5)\n          yA = randint(-5, 5)\n          m = randint(1, 5) * choice([-1, 1])\n          xn = m\n          yn = -1\n          constante = -m * xA + yA\n          texte = `Dans un rep√®re orthonorm√© du plan, on consid√®re le point $A(${xA}\\\\,;\\\\,${yA})$.`\n          texte += `<br>D√©terminer une √©quation cart√©sienne de la droite $(d)$ passant par le point $A$ et ayant ${lang === 'fr-CH' ? 'une pente √©gale √†' : 'pour coefficient directeur'} $${m}$`\n          texteCorr = ''\n          if (lang === 'fr-CH') {\n            texteCorr =\n              \"On sait que si une droite $(d)$ poss√®de une pente √©gale √† un r√©el $m$, alors elle peut s'√©crire sous la forme $y=mx+p$. On veut √©crire cette √©quation sous la forme $ax+by+c=0$.\"\n          } else {\n            texteCorr =\n              'On sait que si une droite $(d)$ poss√®de une pente √©gale √† un r√©el $m$, alors elle admet $\\\\vec u \\\\begin{pmatrix}1\\\\\\\\m\\\\end{pmatrix}$ comme vecteur directeur.'\n            texteCorr += `<br>Cela signifie que la droite $(d)$ dont nous cherchons une √©quation cart√©sienne, admet comme vecteur directeur $\\\\vec u \\\\begin{pmatrix}1\\\\\\\\${m}\\\\end{pmatrix}$.`\n            texteCorr +=\n              \"<br>On sait d'autre part qu'une droite port√©e par un vecteur directeur de coordonn√©es $\\\\vec u \\\\begin{pmatrix}-b\\\\\\\\a\\\\end{pmatrix}$, avec $(-b\\\\,;\\\\,a)\\\\neq (0\\\\,;\\\\,0)$, admet une √©quation cartesienne de la forme $ax+by+c=0$.\"\n          }\n          texteCorr += `<br>Ce qui signifie que : $-b=1$ (soit $b=-1$) et $a=${m}$ (on √©crit la droite sous la forme $0=ax+by+c$, ce qui revient au m√™me).`\n          texteCorr += `<br>On en d√©duit que la droite $(d)$ admet une √©quation cart√©sienne de la forme $${m}x-y+c=0.$`\n          texteCorr += `<br>Pour d√©terminer la valeur de $c$, on utilise le fait que $A$ appartient √† la droite $(d)$, donc ses coordonn√©es $(${xA};${yA})$ v√©rifient l'√©quation : `\n          texteCorr += `$${m} x-y+c=0$`\n          texteCorr += `<br>Ce qui implique que  $${m}\\\\times ${ecritureParentheseSiNegatif(xA)}-${ecritureParentheseSiNegatif(yA)}+c=0$`\n          texteCorr += `, d'o√π $c=${-m * xA + yA}$.`\n\n          break\n        case 3: // 2G30-4 Point et vecteur directeur\n          xA = randint(-5, 5)\n          yA = randint(-5, 5)\n          do {\n            xu = randint(-5, 5)\n            yu = randint(-5, 5)\n          } while (xu === 0 && yu === 0) // EE : Pour √©viter le cas du vecteur nul\n          xn = yu\n          yn = -xu\n          constante = -xA * yu + yA * xu\n          texte = `Dans un rep√®re orthonorm√© du plan, on consid√®re la droite $(d)$ qui passe par le point $A$ de coordonn√©es $(${xA}\\\\,;\\\\,${yA})$ et qui a le vecteur $\\\\vec u \\\\begin{pmatrix}${xu}\\\\\\\\${yu}\\\\end{pmatrix}$ comme vecteur directeur.<br>\n    D√©terminer une √©quation cart√©sienne de la droite $(d)$`\n          if (this.sup === 1) {\n            texte +=\n              '<br><i>On demande une r√©daction utilisant un r√©sultat de cours.</i>'\n            texteCorr =\n              \"On sait, d'apr√®s le cours, que si une droite $(d)$ admet un vecteur directeur de coordonn√©es :\"\n            texteCorr +=\n              ' $\\\\vec {u} \\\\begin{pmatrix}-b\\\\\\\\a\\\\end{pmatrix}$, alors une √©quation cart√©sienne de la droite $(d)$ est de la forme $ax+by+c=0$. '\n            texteCorr += `<br>Avec les donn√©es de l'√©nonc√©, $\\\\vec u \\\\begin{pmatrix}${xu}\\\\\\\\${yu}\\\\end{pmatrix}$, on en d√©duit donc que : $-b = ${xu}$ (soit $b=${-xu}$) et $a=${yu}$.`\n            texteCorr += ` <br>L'√©quation cart√©sienne est donc de la forme : $ ${yu} x ${ecritureAlgebriqueSauf1(-xu)} y + c=0$. `\n            texteCorr += `<br>Comme $A\\\\in (d)$, ses coordonn√©es $(${xA}\\\\,;\\\\,${yA})$ v√©rifient l'√©quation de la droite $(d)$. `\n            texteCorr += ` <br>$\\\\begin{aligned}\n       ${yu} \\\\times ${ecritureParentheseSiNegatif(xA)} ${ecritureAlgebrique(-xu)} \\\\times ${ecritureParentheseSiNegatif(yA)}+ c&=0\\\\\\\\\n        ${yu * xA} ${ecritureAlgebrique(-xu * yA)} + c&=0\\\\\\\\\n        c&= ${-xA * yu + yA * xu}\n        \\\\end{aligned}$`\n          } else {\n            texte +=\n              \"<br><i>On demande une d√©monstration n'utilisant pas de r√©sultat de cours.</i>\"\n            texteCorr = 'Soit $M(x;y)$ un point du plan distinct de $A$.'\n            texteCorr += '<br>$M(x;y) \\\\in (d)$'\n            texteCorr +=\n              ' <br>$\\\\iff \\\\overrightarrow {AM}$ est un vecteur directeur de la droite $(d)$. '\n            texteCorr +=\n              ' <br>$\\\\iff \\\\overrightarrow {AM}$ et $\\\\vec u$ sont donc des vecteurs colin√©aires. '\n            texteCorr +=\n              ' <br>$\\\\iff Det\\\\big(\\\\overrightarrow {AM};\\\\vec u\\\\big)=0$ <br>'\n            texteCorr +=\n              ' <br>$\\\\iff \\\\begin{vmatrix}x-x_A&x_u\\\\\\\\y-y_A&y_u\\\\end{vmatrix}=0$ <br>'\n            texteCorr += `<br>$\\\\iff \\\\begin{vmatrix}x-${ecritureParentheseSiNegatif(xA)}&${xu}\\\\\\\\y-${ecritureParentheseSiNegatif(yA)}&${yu}\\\\end{vmatrix}=0$<br>`\n            texteCorr += `<br>$\\\\iff (x-${ecritureParentheseSiNegatif(xA)})\\\\times ${yu}-( y-${ecritureParentheseSiNegatif(yA)}) \\\\times ${ecritureParentheseSiNegatif(xu)}=0$`\n            texteCorr += `<br>$\\\\iff ${yu} x ${ecritureAlgebriqueSauf1(-xu)} y -${ecritureParentheseSiNegatif(xA)} \\\\times ${yu} ${ecritureAlgebrique(yA)} \\\\times ${ecritureParentheseSiNegatif(xu)}=0$`\n          }\n          texteCorr +=\n            this.sup === 2 ? ' <br>Apr√®s r√©duction, une ' : ' <br>Une '\n\n          break\n        case 2: // 2G30-3 Deux points\n          xA = randint(-5, 5)\n          yA = randint(-5, 5)\n          xB = randint(-5, 5)\n          yB = randint(-5, 5)\n          xn = yB - yA\n          yn = xA - xB\n          constante = -xA * yA + xB * yA - yB * xA + yA * xA\n          if (xA === xB && yA === yB) {\n            xB = xB + randint(1, 2)\n            yB = yB - randint(1, 2)\n          }\n          if (this.nbQuestions === 1) {\n            texte = `Dans un rep√®re orthonorm√© du plan, on consid√®re les points $A$ et $B$ de coordonn√©es respectives $(${xA}\\\\,;\\\\,${yA})$ et $(${xB}\\\\,;\\\\,${yB})$.<br>\n      D√©terminer une √©quation cart√©sienne de la droite $(AB)$`\n            this.consigne = ''\n          } else {\n            this.consigne = `Dans un rep√®re orthonorm√© du plan, on consid√®re les points $A$ et $B$.<br>\n      D√©terminer une √©quation cart√©sienne de la droite $(AB)$ dans chacun des cas suivants.`\n            texte = `Avec $A(${xA}\\\\,;\\\\,${yA})$ et $B(${xB}\\\\,;\\\\,${yB})$.`\n          }\n          texteCorr =\n            \"On sait qu'une √©quation cart√©sienne de la droite $(AB)$ est de la forme :\"\n          texteCorr += ' $ax+by+c=0$, avec $(a;b)\\\\neq (0\\\\,;\\\\,0)$.'\n          if (lang === 'fr-CH') {\n            const pente = new FractionEtendue(yB - yA, xB - xA)\n            const oo = new FractionEtendue(yA, 1)\n              .sommeFraction(\n                pente.produitFraction(new FractionEtendue(xA, 1).oppose()),\n              )\n              .simplifie()\n            texteCorr += `<br>On sait que la pente de la droite $(AB)$ est donn√©e par : $m=\\\\dfrac{y_B-y_A}{x_B-x_A}=\\\\dfrac{${yB}-${ecritureParentheseSiNegatif(yA)}}{${xB}-${ecritureParentheseSiNegatif(xA)}}$. On r√©duit cette fraction pour obtenir $m=${pente.texFractionSimplifiee}$.`\n            texteCorr += `<br>On en d√©duit que l'√©quation r√©duite de la droite $(AB)$ est de la forme : \\\\[y=${pente.texFractionSimplifiee}x+p.\\\\]\n            <br>On d√©termine la valeur de $p$ en utilisant que $A\\\\in (AB)$. Ainsi, \n            \\\\[${yA}=${pente.texFractionSimplifiee}\\\\cdot ${ecritureParentheseSiNegatif(xA)}+p\\\\] et donc $p=${yA}${pente.simplifie().oppose().texFractionSignee}\\\\cdot ${ecritureParentheseSiNegatif(xA)}=${oo.texFractionSimplifiee}$.\n            <br>On en d√©duit que l'√©quation r√©duite de la droite $(AB)$ est : $y=${pente.texFractionSimplifiee}x${oo.texFractionSignee}$.`\n          } else {\n            texteCorr +=\n              '<br>On sait aussi que dans ces conditions, un vecteur directeur de cette droite a pour coordonn√©es :'\n            texteCorr += ' $\\\\vec {u} \\\\begin{pmatrix}-b\\\\\\\\a\\\\end{pmatrix}$'\n            texteCorr +=\n              ' <br>Il suffit donc de trouver un vecteur directeur √† cette droite pour d√©terminer une valeur possible pour les coefficients $a$ et $b$. <br>Or le vecteur $\\\\overrightarrow{AB}$ est un vecteur  directeur de la droite, dont on peut calculer les coordonn√©es :'\n            texteCorr +=\n              ' <br>$\\\\overrightarrow{AB}  \\\\begin{pmatrix}x_B-x_A\\\\\\\\y_B-y_A\\\\end{pmatrix}$'\n            texteCorr += ` $\\\\iff\\\\overrightarrow{AB}  \\\\begin{pmatrix} ${xB}-${ecritureParentheseSiNegatif(xA)}\\\\\\\\${yB}-${ecritureParentheseSiNegatif(yA)}\\\\end{pmatrix}$`\n            texteCorr += ` $\\\\iff\\\\overrightarrow{AB}  \\\\begin{pmatrix} ${xB - xA}\\\\\\\\${yB - yA}\\\\end{pmatrix}$`\n            texteCorr += ` <br>On en d√©duit $-b = ${xB - xA}$ (soit $b=${xA - xB}$) et $a=${yB - yA}$.`\n            texteCorr += ` <br>L'√©quation cart√©sienne de la droite $(AB)$ est donc de la forme : $ ${yB - yA} x ${ecritureAlgebriqueSauf1(xA - xB)} y + c=0$ `\n            texteCorr += `<br>Comme $A\\\\in (AB)$, ses coordonn√©es $(${xA}\\\\,;\\\\,${yA})$ v√©rifient l'√©quation de la droite $(AB)$. `\n            texteCorr += ` <br>$\\\\begin{aligned}\n       ${yB - yA} \\\\times ${ecritureParentheseSiNegatif(xA)} ${ecritureAlgebriqueSauf1(xA - xB)} \\\\times ${ecritureParentheseSiNegatif(yA)}+ c&=0\\\\\\\\\n       ${yB * xA - yA * xA} ${ecritureAlgebrique(xA * yA - xB * yA)} + c&=0\\\\\\\\\n       c&= ${-xA * yA + xB * yA - yB * xA + yA * xA}\n       \\\\end{aligned}$`\n          }\n\n          break\n        default: // 1G13 Point et vecteur normal\n          xA = randint(-5, 5, 0)\n          yA = randint(-5, 5, 0)\n          xn = randint(-5, 5, 0)\n          yn = randint(-5, 5, 0)\n          constante = -xA * xn - yA * yn\n          texte = `La droite $(d)$ passe par le point $A$ de coordonn√©es $(${xA}\\\\,;\\\\,${yA})$ et a le vecteur $\\\\vec n \\\\begin{pmatrix}${xn}\\\\\\\\${yn}\\\\end{pmatrix}$ comme vecteur normal.<br>\n          D√©terminer une √©quation cart√©sienne de $(d)$`\n          texteCorr =\n            \"On sait, d'apr√®s le cours, que si une droite $(d)$ admet un vecteur normal de coordonn√©es :\"\n          texteCorr += ' $\\\\vec {n} \\\\begin{pmatrix}a\\\\\\\\b\\\\end{pmatrix}$, '\n          texteCorr +=\n            'alors une √©quation cart√©sienne de la droite $(d)$ est de la forme $ax+by+c=0$. '\n          texteCorr += `<br>Avec les donn√©es de l'√©nonc√©, $\\\\vec n \\\\begin{pmatrix}${xn}\\\\\\\\${yn}\\\\end{pmatrix}$,`\n          texteCorr += ` on en d√©duit  que $a = ${xn}$ et $b=${yn}$.`\n          texteCorr += ` <br>L'√©quation cart√©sienne est donc de la forme : $ ${xn} x ${ecritureAlgebriqueSauf1(yn)} y + c=0$. `\n          texteCorr += `<br>On cherche maintenant la valeur correspondante de $c$. <br>On utilise pour cela que $A(${xA}\\\\,;\\\\,${yA}) \\\\in(d)$. `\n          texteCorr += ` <br>En rempla√ßant $x$ et $y$ par les coordonn√©es de $A$, on obtient : $${xn} \\\\times ${ecritureParentheseSiNegatif(xA)} ${ecritureAlgebrique(yn)} \\\\times ${ecritureParentheseSiNegatif(yA)}+ c=0$, \n          soit $ c= ${-xA * xn - yA * yn}$.`\n\n          break\n      }\n      const reponse = `${reduireAxPlusByPlusC(xn, yn, constante)}=0`\n\n      const callback = (Exercice: IExercice, question: number) => {\n        const spanReponseLigne = document.querySelector(\n          `#resultatCheckEx${Exercice.numeroExercice}Q${question}`,\n        )\n        let resultat\n        const feedback: string = ''\n        const mfe = document.querySelector(\n          `#champTexteEx${Exercice.numeroExercice}Q${question}`,\n        ) as MathfieldElement\n        const equation = mfe.value.split('=')\n        if (equation.length !== 2) {\n          resultat = {\n            isOk: false,\n            feedback: 'Il faut saisir une √©quation',\n            score: { nbBonnesReponses: 0, nbReponses: 1 },\n          }\n        } else if (Number(equation[1]) !== 0) {\n          resultat = {\n            isOk: false,\n            feedback: \"L'√©quation n'a pas la forme demand√©e\",\n            score: { nbBonnesReponses: 0, nbReponses: 1 },\n          }\n        } else {\n          const fxy = engine\n            .box([\n              'Divide',\n              engine.parse(equation[0]).json,\n              engine.parse(reduireAxPlusByPlusC(xn, yn, constante)).json,\n            ])\n            .compile()\n          if (fxy == null) {\n            resultat = {\n              isOk: false,\n              feedback: \"La saisie n'est pas conforme\",\n              score: { nbBonnesReponses: 0, nbReponses: 1 },\n            }\n          } else {\n            const valAlea = () => -5 + 10 * Math.random()\n            const [aa, bb, cc] = [valAlea(), valAlea(), valAlea()]\n            const [A, B, C] = [valAlea(), valAlea(), valAlea()]\n            const results: number[] = []\n            for (const x of [aa, bb, cc]) {\n              for (const y of [A, B, C]) {\n                const vars = Object.fromEntries([\n                  ['x', x],\n                  ['y', y],\n                ])\n                results.push(Number(fxy(vars)))\n              }\n            }\n            let isOk = true\n            for (let k = 0; k < 8; k++) {\n              if (isNaN(Math.abs(results[k]))) {\n                // Cela peut arriver si un des termes de l'√©quation de droite est une lettre autre que x et y\n                isOk = false\n                break\n              }\n              if (Math.abs(results[k] - results[k + 1]) > 1e-8) {\n                isOk = false\n                break\n              }\n            }\n            resultat = {\n              isOk,\n              feedback:\n                isOk === true\n                  ? ''\n                  : \"L'√©quation n'est pas celle de la droite $(d)$.\",\n              score: {\n                nbBonnesReponses: isOk ? 1 : 0,\n                nbReponses: 1,\n              },\n            }\n          }\n        }\n        // on met le smiley\n        if (spanReponseLigne != null) {\n          spanReponseLigne.innerHTML = resultat.isOk ? 'üòé' : '‚òπÔ∏è'\n        }\n        const spanFeedback = document.querySelector(\n          `#feedbackEx${Exercice.numeroExercice}Q${question}`,\n        )\n        // on met le feedback\n        if (feedback != null && spanFeedback != null && feedback.length > 0) {\n          spanFeedback.innerHTML = 'üí° ' + feedback\n          spanFeedback.classList.add(\n            'py-2',\n            'italic',\n            'text-coopmaths-warn-darkest',\n            'dark:text-coopmathsdark-warn-darkest',\n          )\n        }\n        return resultat\n      }\n      if (this.version === 4) {\n        texteCorr += `<br>On en d√©duit qu'une √©quation cart√©sienne de ${lang === 'fr-CH' ? '$(AB)$' : '$(d)$'} est : $${miseEnEvidence(reponse)}$.`\n        if (m != null) {\n          if (m < 0 && -m * xA + yA < 0) {\n            texteCorr += `<br>Cette √©quation peut s'√©crire plus simplement :  $${-m} x+y${ecritureAlgebrique(m * xA - yA)}=0$.`\n          }\n        }\n      } else if (this.version === 3) {\n        texteCorr +=\n          '√©quation cart√©sienne de la droite $(d)$ est donc de la forme : '\n        texteCorr += `$${miseEnEvidence(reponse)}$.`\n      } else {\n        texteCorr += `<br>Une √©quation cart√©sienne de la droite ${this.version === 2 ? '$(AB)$' : '$(d)$'} est donc de la forme : `\n        texteCorr += `$${miseEnEvidence(reponse)}$.`\n      }\n\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.lyceeClassique, {\n        texteAvant:\n          this.nbQuestions > 1\n            ? ` √âquation cart√©sienne de la droite ${this.version === 2 ? '$(AB)$' : '$(d)$'} : `\n            : ' : ',\n      })\n      texte += '.'\n      handleAnswers(this, i, { reponse: { value: reponse }, callback })\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\nexport default EqCartDroite\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","uuid","refs","EqCartDroite","Exercice","__publicField","lang","getLang","i","cpt","xA","yA","xB","yB","xn","yn","constante","xu","yu","m","texte","texteCorr","randint","choice","ecritureParentheseSiNegatif","ecritureAlgebriqueSauf1","ecritureAlgebrique","pente","FractionEtendue","oo","reponse","reduireAxPlusByPlusC","callback","question","spanReponseLigne","resultat","feedback","equation","fxy","engine","valAlea","aa","bb","cc","A","B","C","results","y","vars","isOk","k","spanFeedback","miseEnEvidence","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}