{"version":3,"file":"4L11-0-CvruUEj2.js","sources":["../../src/exercices/4e/4L11-0.ts"],"sourcesContent":["import { choice } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureParentheseSiNegatif,\n} from '../../lib/outils/ecritures'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenuSansNumero,\n} from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nexport const titre = 'Factoriser une expression littérale (Niveau 1)'\nexport const dateDePublication = '20/04/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n\n/**\n * Factoriser des expressions\n * Trois types d'expressions:\n * - Niveau 1: facteur commun visible (3x+3*11)\n * - Niveau 2: facteur commun à mettre en évidence (4x+8)\n * - Niveau 3: avec des expressions de type ax²+b\n * @author Eric Elter\n */\nexport const uuid = '0ee90'\nexport const refs = {\n  'fr-fr': ['4L11-0'],\n  'fr-ch': ['11FA3-6', '1mCL2-0'],\n}\n\nexport default class FactoriserExpressionsNiv1 extends Exercice {\n  constructor() {\n    super()\n    this.sup = 4\n    this.nbQuestions = 8\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1)\n    this.listeAvecNumerotation = false\n    this.besoinFormulaireTexte = [\n      \"Type d'expressions\",\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Expressions de type ax+ab',\n        '2 : Expressions de type ax+b',\n        '3 : Expressions de type ax²+b',\n        '4 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire2Texte = [\n      'Nombre de facteurs négatifs',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Aucun',\n        '2 : Un seul',\n        '3 : Deux',\n        '4 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire3CaseACocher = [\n      'Signe $\\\\times$ dans la reponse finale',\n      true,\n    ]\n    this.besoinFormulaire4CaseACocher = ['Avec uniquement la lettre $x$', true]\n    this.sup2 = 4\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Factoriser les expressions suivantes.'\n        : \"Factoriser l'expression suivante.\"\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: [\n        'facteurVisible',\n        'facteurInvisible',\n        'facteurInvisibleAvecX2',\n      ],\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n    }).map(String)\n    const nombreDeSignesNegatifs = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      nbQuestions: this.nbQuestions,\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n    }).map(String)\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let reponse = ''\n      const k = choice([2, 3, 5, 7, 11])\n      const a = choice([2, 3, 4, 5, 6, 7, 8, 9, 10])\n      const b = choice([2, 3, 4, 5, 6, 7, 8, 9, 10, 11], [a])\n\n      const lettre = lettreDepuisChiffre(i + 1)\n\n      // Initialisation des variables pour les signes\n      let var1 = a\n      let var2 = a\n\n      // Variation des signes des facteurs selon sup2\n      switch (parseInt(nombreDeSignesNegatifs[i]) - 1) {\n        case 1:\n          if (choice([true, false])) var1 = -a\n          else var2 = -a\n          break\n        case 2:\n          var1 = -a\n          var2 = -a\n          break\n      }\n\n      const inconnue = this.sup4\n        ? 'x'\n        : choice(['x', 'y', 'z', 'k', 'n', 'a', 'b', 'c'])\n\n      // Variation dans l'ordre des termes\n      const premierTermesX = choice([true, false]) // ordre aléatoire des termes\n      const terme =\n        inconnue +\n        (listeTypeDeQuestions[i] === 'facteurInvisibleAvecX2' ? '^2' : '')\n      const expr1 =\n        listeTypeDeQuestions[i] === 'facteurVisible'\n          ? premierTermesX\n            ? `${var1}${terme}${ecritureAlgebrique(var2)}\\\\times${b}` // Expressions de type var1*x + var2*b où il faut mettre en évidence le facteur\n            : `${var1}\\\\times${b}${ecritureAlgebrique(var2)}${terme}` // Expressions de type var1*b + var2*x où il faut mettre en évidence le facteur\n          : premierTermesX\n            ? `${var1}${terme}${ecritureAlgebrique(var2 * b)}` // Expressions de type var1*x + var2*b où il faut mettre en évidence le facteur\n            : `${var1 * b}${ecritureAlgebrique(var2)}${terme}` // Expressions de type var1*b + var2*x où il faut mettre en évidence le facteur\n      texte = `$${lettre}=${expr1}$`\n      texteCorr = texte\n\n      if (premierTermesX) {\n        // Étape 1: Réécrivons avec les facteurs explicites\n        texteCorr +=\n          var1 > 0\n            ? var1 === var2\n              ? `<br>$${lettre}=${miseEnEvidence(var1, 'blue')}\\\\times ${terme}+${miseEnEvidence(var2, 'blue')}\\\\times${b}$`\n              : `<br>$${lettre}=${miseEnEvidence(var1, 'blue')}\\\\times ${terme}-${miseEnEvidence(-var2, 'blue')}\\\\times${b}$`\n            : `<br>$${lettre}=${var1}\\\\times ${terme}${ecritureAlgebrique(var2)}\\\\times${b}$`\n\n        // Si var2 est négatif ou var1 est négatif (mais pas les deux)\n        if (var1 * var2 < 0) {\n          // Étape 2: Factorisation finale\n          if (var1 > 0) {\n            reponse = `${var1}\\\\times(${terme}-${b})`\n          } else {\n            texteCorr += `<br>$${lettre}=${miseEnEvidence(-var1, 'blue')}\\\\times(-${terme})+${miseEnEvidence(var2, 'blue')}\\\\times${b}$`\n            reponse = `${-var1}\\\\times(-${terme}+${b})`\n          }\n        } else {\n          // Les deux termes ont le même signe\n          reponse = `${var1}\\\\times(${terme}+${b})`\n          if (var1 < 0) {\n            texteCorr += `<br>$${lettre}=${miseEnEvidence(var1, 'blue')}\\\\times ${terme}+${miseEnEvidence(ecritureParentheseSiNegatif(var2), 'blue')}\\\\times${b}$`\n          }\n        }\n      } else {\n        // Étape 1: Réécrivons avec les facteurs explicites\n        texteCorr +=\n          var1 > 0\n            ? var1 === var2\n              ? `<br>$${lettre}=${miseEnEvidence(var1, 'blue')}\\\\times${b}+${miseEnEvidence(var2, 'blue')}\\\\times ${terme}$`\n              : `<br>$${lettre}=${miseEnEvidence(var1, 'blue')}\\\\times${b}-${miseEnEvidence(-var2, 'blue')}\\\\times ${terme}$`\n            : `<br>$${lettre}=${var1}\\\\times${b}${ecritureAlgebrique(var2)}\\\\times ${terme}$`\n\n        // Si var1 est négatif ou var2 est négatif (mais pas les deux)\n        if (var1 * var2 < 0) {\n          // Étape 2: Factorisation finale\n          if (var1 > 0) {\n            reponse = `${var1}\\\\times(${b}-${terme})`\n          } else {\n            texteCorr += `<br>$${lettre}=${miseEnEvidence(-var1, 'blue')}\\\\times(-${b})+${miseEnEvidence(var2, 'blue')}\\\\times ${terme}$`\n            reponse = `${-var1}\\\\times(-${b}+${terme})`\n          }\n        } else {\n          // Les deux termes ont le même signe\n          reponse = `${var1}\\\\times(${b}+${terme})`\n          if (var1 < 0) {\n            texteCorr += `<br>$${lettre}=${miseEnEvidence(var1, 'blue')}\\\\times${b}+${miseEnEvidence(ecritureParentheseSiNegatif(var2), 'blue')}\\\\times ${terme}$`\n          }\n        }\n      }\n\n      // Suppression du signe \\times si sup3 est faux\n      if (!this.sup3) reponse = reponse.replace('\\\\times', '')\n\n      // Affichage de la réponse finale\n      texteCorr += `<br>$${lettre}=${reponse}$`\n\n      if (!context.isAmc) {\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierDeBaseAvecVariable,\n          { texteAvant: ' $=$' },\n        )\n        handleAnswers(this, i, {\n          reponse: { value: reponse, options: { factorisation: true } },\n        })\n      } else {\n        this.autoCorrection[i] = {\n          enonce: texte,\n          propositions: [{ texte: texteCorr, statut: 3, feedback: '' }],\n        }\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      // texte += `<br>$${lettre}=${reponse}$` // Pour débuggage\n\n      if (this.questionJamaisPosee(i, a, b, k)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","FactoriserExpressionsNiv1","Exercice","context","listeTypeDeQuestions","gestionnaireFormulaireTexte","nombreDeSignesNegatifs","i","cpt","texte","texteCorr","reponse","k","choice","b","lettre","lettreDepuisChiffre","var1","var2","inconnue","premierTermesX","terme","expr1","ecritureAlgebrique","miseEnEvidence","ecritureParentheseSiNegatif","ajouteChampTexteMathLive","KeyboardType","handleAnswers","textCorrSplit","aRemplacer","ee","listeQuestionsToContenuSansNumero"],"mappings":"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"}