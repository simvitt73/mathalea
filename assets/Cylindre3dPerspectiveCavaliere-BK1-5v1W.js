var Y=Object.defineProperty;var Z=(n,c,a)=>c in n?Y(n,c,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[c]=a;var s=(n,c,a)=>Z(n,typeof c!="symbol"?c+"":c,a);import{P as z}from"./index-Dkwu26bg.js";import{c as L,d as _}from"./utilitairesGeometriques-rO8Jz15i.js";import{h as u,d as F,v as T}from"./droites-1cMQNrTw.js";import{O as $}from"./ObjetMathalea2D-CXcNXRpD.js";import{p as J}from"./polygones-BMzqJQvg.js";import{s as p,e as ee}from"./segmentsVecteurs-DWWtoN_4.js";import{t as te}from"./TracePoint-bp5vgHPG.js";import{t as j}from"./transformations-CrKJZhMe.js";import{v as H,c as se,e as I,t as N,d as A}from"./elementsEtTransformations3d-DWr5Geaa.js";import{E as ie,D as oe}from"./vendors/mathjs-DKCMnljp.js";class re extends ${constructor(a,D,B,v,w="black",k=!0,G=!1,M=!1,O="black",R=!1,K="lightgray",S=!0){super();s(this,"normal");s(this,"centrebase1");s(this,"centrebase2");s(this,"pointsBase1");s(this,"pointsBase2");s(this,"rayon1");s(this,"rayon2");s(this,"color");s(this,"affichageGeneratrices");s(this,"affichageCentreBases");s(this,"affichageAxe");s(this,"colorAxe");s(this,"cylindreColore");s(this,"colorCylindre");s(this,"angleDepart");s(this,"c2d");this.centrebase1=a,this.centrebase2=D,this.rayon1=B,this.rayon2=v,this.color=L(w),this.affichageGeneratrices=k,this.affichageCentreBases=G,this.affichageAxe=M,this.colorAxe=O,this.cylindreColore=R,this.colorCylindre=K,this.c2d=[];let e;this.normal=H(this.centrebase1,this.centrebase2);const E=ie(this.normal.matrice,this.rayon1.matrice).toArray().map(Number),U=H(E[0],E[1],E[2]),V=oe(U.matrice,H(0,1,0).matrice);let y,b;const g=this.centrebase1.c2d.y!==this.centrebase2.c2d.y?this.centrebase1.c2d.y<this.centrebase2.c2d.y:z.anglePerspective>0;V*z.anglePerspective>0?(y=g?"direct":"indirect",b=g?"indirect":"direct"):(b=g?"direct":"indirect",y=g?"indirect":"direct"),b=this.rayon1.x===0&&this.rayon1.y===0?"indirect":b,y=this.rayon1.x===0&&this.rayon1.y===0?"direct":y;let i=0,Q=0;const h=se(this.centrebase1,this.normal);let P=I(N(this.centrebase1,this.rayon1),h,i);const W=I(N(this.centrebase1,this.rayon1),h,i+1),q=u(P.c2d,h.c2d)<u(W.c2d,h.c2d)?1:-1;for(;u(P.c2d,h.c2d)>Q;)Q=u(P.c2d,h.c2d),i=i+q,P=I(N(this.centrebase1,this.rayon1),h,i);i=i-q,this.angleDepart=i;const x=A(this.centrebase1,this.normal,this.rayon1,y,!0,this.color[0],i),C=A(this.centrebase2,this.normal,this.rayon2,y,!1,this.color[0],i),o=A(this.centrebase1,this.normal,this.rayon1,b,!1,this.color[0],i),l=A(this.centrebase2,this.normal,this.rayon2,b,!1,this.color[0],i);if(this.pointsBase1=[...x.listePoints,...o.listePoints],this.pointsBase2=[...C.listePoints,...l.listePoints],this.cylindreColore){let t=[...l.listePoints];for(let r=o.listePoints.length-1;r>=0;r--)t.push(o.listePoints[r]);const f=J(t,"white");f.couleurDeRemplissage=L(this.colorCylindre),this.c2d.push(f),t=[...C.listePoints];for(let r=l.listePoints.length-1;r>=0;r--)t.push(l.listePoints[r]);const d=J(t,"white");d.couleurDeRemplissage=L(_(this.colorCylindre,25)),this.c2d.push(d)}if(this.affichageGeneratrices)for(let t=1;t<x.listePoints.length-1;t+=2)e=p(C.listePoints[t],x.listePoints[t],this.color[0]),e.pointilles=2,e.opacite=.3,this.c2d.push(e);if(e=p(l.listePoints[0],o.listePoints[0],this.color[0]),this.c2d.push(e),this.affichageGeneratrices)for(let t=1;t<o.listePoints.length-1;t++)e=p(l.listePoints[t],o.listePoints[t],this.color[0]),this.c2d.push(e);if(e=p(l.listePoints[o.listePoints.length-1],o.listePoints[o.listePoints.length-1],this.color[0]),this.c2d.push(e),this.c2d.push(x,o),S&&this.c2d.push(C,l),this.affichageCentreBases&&this.c2d.push(te(this.centrebase1.c2d,this.centrebase2.c2d,this.colorAxe)),this.affichageAxe){let t=9999;const f=o.listePoints;let d=0;const r=F(this.centrebase2.c2d,this.centrebase1.c2d);for(;u(f[d],r)<t;)t=u(f[d],h.c2d),d++;e=p(this.centrebase2.c2d,this.centrebase1.c2d,this.colorAxe),e.pointilles=2,e.opacite=.7,this.c2d.push(e),e=F(f[d],f[d-1]);const m=ee(e,r);if(!m){window.notify("Axe du cylindre non dÃ©fini correctement",{s:e,axeCylindre:r});return}e=p(this.centrebase1.c2d,m,this.colorAxe),e.pointilles=2,e.opacite=.7,this.c2d.push(e),e=p(j(m,T(this.centrebase1.c2d,m)),m,this.colorAxe),e.opacite=.7,this.c2d.push(e);const X=j(this.centrebase2.c2d,T(j(m,T(this.centrebase1.c2d,m)),this.centrebase1.c2d));e=p(X,this.centrebase2.c2d),e.opacite=.7,this.c2d.push(e)}}}function ge(n,c,a,D,B="black",v=!0,w=!1,k=!1,G="black",M=!1,O="lightgray",R=!0){return new re(n,c,a,D,B,v,w,k,G,M,O,R)}export{ge as c};
//# sourceMappingURL=Cylindre3dPerspectiveCavaliere-BK1-5v1W.js.map
