{"version":3,"file":"TEA1-04-cDqQtmIC.js","sources":["../../src/exercices/TEx/TEA1-04.ts"],"sourcesContent":["import { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Déterminer l'inverse d'un entier modulo $k$\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '27/11/2025'\nexport const uuid = '42f60'\n\nexport const refs = {\n  'fr-fr': ['TEA1-04'],\n  'fr-ch': [],\n}\n/**\n *\n * @author Stéphane Guyon\n\n*/\n\n// modulo positif\nfunction mod(n: number, k: number): number {\n  return ((n % k) + k) % k\n}\n\n// pgcd\nfunction pgcd(a: number, b: number): number {\n  a = Math.abs(a)\n  b = Math.abs(b)\n  while (b !== 0) {\n    const t = b\n    b = a % b\n    a = t\n  }\n  return a\n}\n\nexport default class ExerciceInverseModulo extends Exercice {\n  constructor() {\n    super()\n    this.consigne = ''\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // k entre 3 et 10\n      const k = randint(3, 10)\n\n      // a dans [-9, 9] sans -1,0,1 et pgcd(a,k)=1 pour assurer l'inversibilité\n      const possibles = [-9, -8, -7, -6, -5, -4, -3, -2, 2, 3, 4, 5, 6, 7, 8, 9]\n      let a: number\n      do a = possibles[randint(0, possibles.length - 1)]\n      while (pgcd(a, k) !== 1)\n\n      // inverse de a modulo k\n      const aMod = mod(a, k)\n      let invA = 1\n      for (let t = 1; t < k; t++) {\n        if (mod(aMod * t, k) === 1) {\n          invA = t\n          break\n        }\n      }\n\n      // Construction du tableau (compatible HTML / LaTeX)\n      const entetesColonnes = [\n        `x \\\\equiv \\\\ldots [${k}]`,\n        ...Array.from({ length: k }, (_, n) =>\n          n === invA ? miseEnEvidence(n) : `${n}`,\n        ),\n      ]\n      const entetesLignes = [`${a}x \\\\equiv \\\\ldots [${k}]`]\n      const cellules = [\n        ...Array.from({ length: k }, (_, n) => {\n          const valeur = mod(a * n, k)\n          return valeur === 1 ? miseEnEvidence(valeur, '#2563a5') : `${valeur}`\n        }),\n      ]\n      const style: { [key: string]: string } = {\n        L0C0: '#f4f4f4',\n        LC0: '#f5f5f5',\n      }\n      for (let col = 0; col < k; col++) {\n        style[`L0C${col + 1}`] = '#f4f4f4'\n      }\n      style[`L1C${invA + 1}`] = '#fde7dd'\n      const table = tableauColonneLigne(\n        entetesColonnes,\n        entetesLignes,\n        cellules,\n        1.2,\n        true,\n        this.numeroExercice ?? 0,\n        i,\n        this.interactif,\n        style,\n      )\n\n      // Énoncé\n      const texte = `\nDéterminer l'inverse de $${a}$ modulo $${k}$. <br>`\n\n      // Correction\n      let texteCorr = ''\n      texteCorr += `Déterminer l'inverse de $${a}$ modulo $${k}$, c'est trouver un entier $x$ tel que $${a}x \\\\equiv 1 \\\\,[${k}]$.<br>`\n      texteCorr += `On dresse pour cela une table des congruences modulo $${k}$  :<br>`\n      texteCorr += table\n      texteCorr += `<br>On observe que  si $x\\\\equiv ${invA}  [${k}]$ alors $${a}\\\\times${invA} \\\\equiv 1 \\\\,[${k}]$.`\n      texteCorr += `<br>Donc l'inverse de $${a}$ modulo $${k}$ est $${miseEnEvidence(`${invA}`)}$ .`\n\n      if (this.questionJamaisPosee(i, texte)) {\n        // Question affichée + champ interactif\n        this.listeQuestions[i] =\n          texte +\n          ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n            texteAvant: `L'inverse de $${a}$ modulo $${k}$ est`,\n            texteApres: ``,\n          })\n\n        this.listeCorrections[i] = texteCorr\n\n        handleAnswers(this, i, {\n          reponse: { value: `${invA}` },\n        })\n\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","mod","n","k","pgcd","a","b","t","ExerciceInverseModulo","Exercice","i","cpt","randint","possibles","aMod","invA","entetesColonnes","_","miseEnEvidence","entetesLignes","cellules","valeur","style","col","table","tableauColonneLigne","texte","texteCorr","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}