{"version":3,"file":"6N1F-2-CJ9aYhAF.js","sources":["../../src/exercices/6e/6N1F-2.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport {\n  ajouteChampTexte,\n  ajouteChampTexteMathLive,\n} from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { nombreEnLettres } from '../../modules/nombreEnLettres'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDeModifImportante = '08/09/2024'\nexport const titre = 'Écrire un nombre décimal en chiffres ou en lettres'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n// export const interactifReady = true // EE : J'enlève l'interactivité car elle a été mal codée. Faudrait le refaire avec des remplisLesBlancs ou Drag & Drop\n// export const interactifType = 'mathLive'\n\n/**\n * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement\n * On peut fixer la classe maximale : unités, milliers, millions, milliards\n * @author Jean-Claude Lhote\n */\n\nexport const uuid = '5eb83'\n\nexport const refs = {\n  'fr-fr': ['6N1F-2'],\n  'fr-2016': ['6N23-0'],\n  'fr-ch': ['9NO7-10'],\n}\nexport default class ÉcrireNombresDecimal extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de questions',\n      3,\n      '1 : Écrire en lettres un nombre donné en chiffres\\n2 : Écrire en chiffres un nombre donné en lettres\\n3 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Classe maximum',\n      2,\n      '1 : Unités\\n2 : Milliers',\n    ]\n    this.besoinFormulaire3Numerique = [\n      \"Type d'écriture\",\n      3,\n      '1 : Écriture avec le mot virgule\\n2 : Ériture sans le mot virgule\\n3 : Mélange',\n    ]\n\n    this.nbQuestions = 5\n\n    this.sup = 1\n    this.sup2 = 1\n    this.sup3 = 3\n  }\n\n  nouvelleVersion() {\n    let formatEcriture = []\n    if (this.sup === 1) {\n      formatEcriture = combinaisonListes([true], this.nbQuestions)\n    } else if (this.sup === 2) {\n      formatEcriture = combinaisonListes([false], this.nbQuestions)\n    } else {\n      formatEcriture = combinaisonListes([false, true], this.nbQuestions)\n    }\n    if (context.isAmc) {\n      formatEcriture = combinaisonListes([false], this.nbQuestions)\n      this.sup2 = 1\n    }\n    const typesDeQuestionsDemandees = this.sup2 + 1 // <1 000, <1 000 000)\n    let typesDeQuestionsDisponibles\n    if (this.sup3 === 1) {\n      typesDeQuestionsDisponibles = [2]\n    } else if (this.sup3 === 2) {\n      typesDeQuestionsDisponibles = [1]\n    } else {\n      typesDeQuestionsDisponibles = [1, 2]\n    }\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n\n    for (\n      let i = 0,\n        texte,\n        texteCorr,\n        a,\n        b,\n        c,\n        type,\n        nombre,\n        tranche,\n        partEnt,\n        partDec,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      type = listeTypeDeQuestions[i]\n      nombre = 0\n      tranche = []\n      while (nombre === 0) {\n        tranche.splice(0)\n        partEnt = 0\n        partDec = 0\n        for (let j = 0; j < typesDeQuestionsDemandees; j++) {\n          a = randint(1, 9)\n          b = randint(1, 9)\n          c = randint(1, 9)\n          tranche.push(\n            choice([\n              0,\n              100,\n              20,\n              80,\n              a,\n              a * 100,\n              a * 100 + b * 10 + c,\n              a * 100 + 80 + b,\n              a * 10,\n              a * 100 + b * 10 + 1,\n            ]),\n          )\n        }\n        for (let j = 1; j < typesDeQuestionsDemandees; j++) {\n          partEnt += tranche[j] * 10 ** ((j - 1) * 3)\n        }\n        partDec = tranche[0]\n        nombre = partEnt + partDec / 1000\n        if (tranche[1] < 2) nombre = 0\n        if (tranche[0] === 0) nombre = 0\n      }\n      if (formatEcriture[i]) {\n        if (context.vue !== 'diap') {\n          texte = `Écrire le nombre $${texNombre(nombre)}$ en lettres ${type === 2 ? 'en utilisant le mot virgule' : 'sans utiliser le mot virgule'} : ${this.interactif ? ajouteChampTexte(this, i, '') : '\\\\dotfill'}`\n        } else texte = `$${texNombre(nombre)}$`\n        if (context.vue !== 'diap') {\n          texteCorr = `$${texNombre(nombre)}$ : ${nombreEnLettres(nombre, type)}.`\n        } else {\n          texteCorr = `${nombreEnLettres(nombre, type)}.`\n        }\n        handleAnswers(this, i, {\n          reponse: {\n            value: nombreEnLettres(200.3, 1),\n            options: { texteSansCasse: true },\n          },\n        })\n      } else {\n        if (context.vue !== 'diap') {\n          texte = `Écrire le nombre ${nombreEnLettres(nombre, type)} en chiffres :  ${this.interactif ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) : '\\\\dotfill'}`\n        } else {\n          texte = ` ${nombreEnLettres(nombre, type)}`\n        }\n        if (context.vue !== 'diap') {\n          texteCorr = ` ${nombreEnLettres(nombre, type)} : $${texNombre(nombre)}$.`\n        } else {\n          texteCorr = `$${texNombre(nombre)}$.`\n        }\n        setReponse(this, i, nombre, { formatInteractif: 'calcul' })\n      }\n\n      texte = texte.replace('et-un unités', 'et-une unités')\n      texteCorr = texteCorr.replace('et-un unités', 'et-une unités')\n      if (context.isAmc) {\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.param.digits = 6\n        // @ts-expect-error\n        this.autoCorrection[i].reponse.param.decimals = 3\n      }\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDeModifImportante","titre","amcReady","amcType","uuid","refs","ÉcrireNombresDecimal","Exercice","formatEcriture","combinaisonListes","context","typesDeQuestionsDemandees","typesDeQuestionsDisponibles","listeTypeDeQuestions","i","texte","texteCorr","a","b","c","type","nombre","tranche","partEnt","partDec","cpt","j","randint","choice","texNombre","ajouteChampTexte","nombreEnLettres","handleAnswers","ajouteChampTexteMathLive","KeyboardType","setReponse","listeQuestionsToContenu"],"mappings":"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"}