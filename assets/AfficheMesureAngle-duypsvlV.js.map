{"version":3,"file":"AfficheMesureAngle-duypsvlV.js","sources":["../../src/lib/2d/AfficheMesureAngle.ts"],"sourcesContent":["import { context } from '../../modules/context'\nimport { arc } from './Arc'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { latexParCoordonnees } from './textes'\nimport { rotation } from './transformations'\nimport { angleOriente } from './utilitairesGeometriques'\nimport { pointSurSegment } from './utilitairesPoint'\n\n/**\n * Affiche la mesure de l'angle ABC arrondie au degré près\n * @param {Point} A Point sur un côté de l'angle\n * @param {Point} B Sommet de l'angle\n * @param {Point} C Point sur l'autre côté de l'angle\n * @param {string} [color='black'] Couleur de la mesure de l'angle : du type 'blue' ou du type '#f15929'.\n * @param {number} [distance=1.5] Taille de l'angle\n * @param {string} [label=''] Si vide, alors affiche la mesure de l'angle sinon affiche ce label.\n * @param {Object} parametres À saisir entre accolades\n * @param {number} [parametres.ecart=0.5] Distance entre l'arc et sa mesure\n * @param {boolean} [parametres.saillant=true] True si on veut l'angle saillant, false si on veut l'angle rentrant.\n * @param {string} [parametres.colorArc='black']  Couleur de l'arc  : du type 'blue' ou du type '#f15929'.\n * @param {boolean} [parametres.rayon=false] True pour fermer l'angle, par deux rayons (en vue de colorier l'intérieur).\n * @param {string} [parametres.couleurDeRemplissage='none'] 'none' si on ne veut pas de remplissage, sinon une couleur du type 'blue' ou du type '#f15929'.\n * @param {number} [parametres.opaciteDeRemplissage=0.5] Taux d'opacité du remplissage entre 0 et 1\n * @param {number} [parametres.arcEpaisseur=1] Epaisseur de l'arc\n * @param {boolean} [parametres.mesureEnGras=false] True pour mettre en gras la mesure affichée\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {Point} depart Point sur un côté de l'angle\n * @property {Point} sommet Sommet de l'angle\n * @property {Point} arrivee Point sur l'autre côté de l'angle\n * @property {number} distance Taille de l'angle\n * @property {number} ecart Distance entre l'arc et sa mesure\n * @property {boolean} saillant True si on veut l'angle saillant, false si on veut l'angle rentrant.\n * @property {number} epaisseur Epaisseur de l'arc\n * @class\n */\n// JSDOC Validee par EE Juin 2022\n\nexport class AfficheMesureAngle extends ObjetMathalea2D {\n  depart: PointAbstrait\n  sommet: PointAbstrait\n  arrivee: PointAbstrait\n  distance: number\n  ecart: number\n  saillant: boolean\n\n  constructor(\n    A: PointAbstrait,\n    B: PointAbstrait,\n    C: PointAbstrait,\n    color = 'black',\n    distance = 1.5,\n    label = '',\n    {\n      ecart = 0.5,\n      mesureEnGras = false,\n      saillant = true,\n      colorArc = 'black',\n      rayon = false,\n      couleurDeRemplissage = 'none',\n      opaciteDeRemplissage = 0.5,\n      arcEpaisseur = 1,\n    } = {},\n  ) {\n    super()\n    this.depart = A\n    this.arrivee = C\n    this.sommet = B\n    this.distance = distance\n    const mesureAngle = saillant\n      ? angleOriente(this.depart, this.sommet, this.arrivee)\n      : angleOriente(this.depart, this.sommet, this.arrivee) > 0\n        ? angleOriente(this.depart, this.sommet, this.arrivee) - 360\n        : 360 + angleOriente(this.depart, this.sommet, this.arrivee)\n    this.ecart = ecart\n    this.saillant = saillant\n    this.epaisseur = arcEpaisseur\n    const M = pointSurSegment(this.sommet, this.depart, this.distance)\n    const N = rotation(\n      pointSurSegment(\n        this.sommet,\n        M,\n        this.distance + (this.ecart * 20) / context.pixelsParCm,\n      ),\n      this.sommet,\n      mesureAngle / 2,\n    )\n    let mesureAngleString\n    if (label !== '') {\n      mesureAngleString = label\n    } else {\n      mesureAngleString =\n        Math.round(Math.abs(mesureAngle)).toString() + '^\\\\circ'\n    }\n    const mesure = latexParCoordonnees(\n      mesureAngleString,\n      N.x,\n      N.y,\n      color,\n      0,\n      0,\n      '',\n      8,\n    )\n    const marque = arc(\n      M,\n      B,\n      mesureAngle,\n      rayon,\n      couleurDeRemplissage,\n      colorArc,\n      opaciteDeRemplissage,\n    )\n    marque.epaisseur = this.epaisseur\n    this.bordures = [\n      Math.min(N.x, M.x) - 0.5,\n      Math.min(N.y, M.y) - 0.5,\n      Math.max(N.x, M.x) + 0.5,\n      Math.max(N.y, M.y) + 0.5,\n    ]\n    this.objets = [mesure, marque]\n  }\n}\n/**\n * Affiche la mesure de l'angle ABC arrondie au degré près\n * @param {Point} A Point sur un côté de l'angle\n * @param {Point} B Sommet de l'angle\n * @param {Point} C Point sur l'autre côté de l'angle\n * @param {string} [color='black'] Couleur de la mesure de l'angle : du type 'blue' ou du type '#f15929'.\n * @param {number} [distance=1.5] Rayon de l'arc de cercle.\n * @param {string} [label=''] Si vide, alors affiche la mesure de l'angle sinon affiche ce label.\n * @param {Object} parametres À saisir entre accolades\n * @param {number} [parametres.ecart=0.5] Distance entre l'arc et sa mesure\n * @param {boolean} [parametres.saillant=true] True si on veut l'angle saillant, false si on veut l'angle rentrant.\n * @param {string} [parametres.colorArc='black']  Couleur de l'arc  : du type 'blue' ou du type '#f15929'.\n * @param {boolean} [parametres.rayon=false] True pour fermer l'angle, par deux rayons (en vue de colorier l'intérieur).\n * @param {string} [parametres.couleurDeRemplissage='none'] 'none' si on ne veut pas de remplissage, sinon une couleur du type 'blue' ou du type '#f15929'.\n * @param {number} [parametres.opaciteDeRemplissage=0.5] Taux d'opacité du remplissage entre 0 et 1\n * @param {number} [parametres.arcEpaisseur=1] Epaisseur de l'arc\n * @param {boolean} [parametres.mesureEnGras=false] True pour mettre en gras la mesure affichée\n * @example afficheMesureAngle(M,N,O)\n * // Affiche la mesure de l'angle MNO (en noir, avec un arc de rayon 1,5 \"cm\").\n * @example afficheMesureAngle(M,N,O,'red',2,'pop',{ecart:1,saillant:false,colorArc:'blue',rayon:true,couleurDeRemplissage:'#f15929',opaciteDeRemplissage:0.8,arcEpaisseur:2,mesureEnGras:true})\n * // Affiche le label pop en gras et rouge, sur l'angle rentrant MNO, avec un arc bleu, epais de 2 et de rayon 2 \"cm\", à 1 \"cm\" de l'arc rempli en orange avec une opacité de 80%, cerné par ses rayons.\n * @return {AfficheMesureAngle}\n */\n// JSDOC Validee par EE Juin 2022\n\nexport function afficheMesureAngle(\n  A: PointAbstrait,\n  B: PointAbstrait,\n  C: PointAbstrait,\n  color = 'black',\n  distance = 1.5,\n  label = '',\n  {\n    ecart = 0.5,\n    mesureEnGras = false,\n    saillant = true,\n    colorArc = 'black',\n    rayon = false,\n    couleurDeRemplissage = 'none',\n    opaciteDeRemplissage = 0.5,\n    arcEpaisseur = 1,\n  } = {},\n) {\n  return new AfficheMesureAngle(A, B, C, color, distance, label, {\n    ecart,\n    mesureEnGras,\n    saillant,\n    colorArc,\n    rayon,\n    couleurDeRemplissage,\n    opaciteDeRemplissage,\n    arcEpaisseur,\n  })\n}\n"],"names":["AfficheMesureAngle","ObjetMathalea2D","A","B","C","color","distance","label","ecart","mesureEnGras","saillant","colorArc","rayon","couleurDeRemplissage","opaciteDeRemplissage","arcEpaisseur","__publicField","mesureAngle","angleOriente","M","pointSurSegment","N","rotation","context","mesureAngleString","mesure","latexParCoordonnees","marque","arc","afficheMesureAngle"],"mappings":"4eAuCO,MAAMA,UAA2BC,CAAgB,CAQtD,YACEC,EACAC,EACAC,EACAC,EAAQ,QACRC,EAAW,IACXC,EAAQ,GACR,CACE,MAAAC,EAAQ,GACR,aAAAC,EAAe,GACf,SAAAC,EAAW,GACX,SAAAC,EAAW,QACX,MAAAC,EAAQ,GACR,qBAAAC,EAAuB,OACvB,qBAAAC,EAAuB,GACvB,aAAAC,EAAe,CAAA,EACb,GACJ,CACA,MAAA,EAzBFC,EAAA,eACAA,EAAA,eACAA,EAAA,gBACAA,EAAA,iBACAA,EAAA,cACAA,EAAA,iBAqBE,KAAK,OAASd,EACd,KAAK,QAAUE,EACf,KAAK,OAASD,EACd,KAAK,SAAWG,EAChB,MAAMW,EAAcP,EAChBQ,EAAa,KAAK,OAAQ,KAAK,OAAQ,KAAK,OAAO,EACnDA,EAAa,KAAK,OAAQ,KAAK,OAAQ,KAAK,OAAO,EAAI,EACrDA,EAAa,KAAK,OAAQ,KAAK,OAAQ,KAAK,OAAO,EAAI,IACvD,IAAMA,EAAa,KAAK,OAAQ,KAAK,OAAQ,KAAK,OAAO,EAC/D,KAAK,MAAQV,EACb,KAAK,SAAWE,EAChB,KAAK,UAAYK,EACjB,MAAMI,EAAIC,EAAgB,KAAK,OAAQ,KAAK,OAAQ,KAAK,QAAQ,EAC3DC,EAAIC,EACRF,EACE,KAAK,OACLD,EACA,KAAK,SAAY,KAAK,MAAQ,GAAMI,EAAQ,WAAA,EAE9C,KAAK,OACLN,EAAc,CAAA,EAEhB,IAAIO,EACAjB,IAAU,GACZiB,EAAoBjB,EAEpBiB,EACE,KAAK,MAAM,KAAK,IAAIP,CAAW,CAAC,EAAE,WAAa,UAEnD,MAAMQ,EAASC,EACbF,EACAH,EAAE,EACFA,EAAE,EACFhB,EACA,EACA,EACA,GACA,CAAA,EAEIsB,EAASC,EACbT,EACAhB,EACAc,EACAL,EACAC,EACAF,EACAG,CAAA,EAEFa,EAAO,UAAY,KAAK,UACxB,KAAK,SAAW,CACd,KAAK,IAAIN,EAAE,EAAGF,EAAE,CAAC,EAAI,GACrB,KAAK,IAAIE,EAAE,EAAGF,EAAE,CAAC,EAAI,GACrB,KAAK,IAAIE,EAAE,EAAGF,EAAE,CAAC,EAAI,GACrB,KAAK,IAAIE,EAAE,EAAGF,EAAE,CAAC,EAAI,EAAA,EAEvB,KAAK,OAAS,CAACM,EAAQE,CAAM,CAC/B,CACF,CA0BO,SAASE,EACd3B,EACAC,EACAC,EACAC,EAAQ,QACRC,EAAW,IACXC,EAAQ,GACR,CACE,MAAAC,EAAQ,GACR,aAAAC,EAAe,GACf,SAAAC,EAAW,GACX,SAAAC,EAAW,QACX,MAAAC,EAAQ,GACR,qBAAAC,EAAuB,OACvB,qBAAAC,EAAuB,GACvB,aAAAC,EAAe,CACjB,EAAI,GACJ,CACA,OAAO,IAAIf,EAAmBE,EAAGC,EAAGC,EAAGC,EAAOC,EAAUC,EAAO,CAC7D,MAAAC,EACA,aAAAC,EACA,SAAAC,EACA,SAAAC,EACA,MAAAC,EACA,qBAAAC,EACA,qBAAAC,EACA,aAAAC,CAAA,CACD,CACH"}