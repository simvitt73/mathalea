{"version":3,"file":"2N60-4-MKeaEIPH.js","sources":["../../src/exercices/2e/2N60-4.ts"],"sourcesContent":["import { texSymbole } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport {\n  texFractionFromString,\n  texFractionReduite,\n} from '../../lib/outils/deprecatedFractions'\nimport {\n  ecritureAlgebrique,\n  ecritureParentheseSiNegatif,\n  reduireAxPlusB,\n  rienSi1,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { abs, signe } from '../../lib/outils/nombres'\nimport { pgcd } from '../../lib/outils/primalite'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\ntype SymboleInegalite = '≤' | '≥' | '<' | '>'\ntype Question =\n  | 'ax≤b'\n  | 'x+b≤c'\n  | 'ax+b≤c'\n  | 'ax+b≤0'\n  | 'ax+b≤cx+d'\n  | 'a(bx+c)≤dx+e'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre = 'Résoudre une inéquation du premier degré'\nexport const dateDeModifImportante = '08/10/2025'\n/**\n * Inéquations du premier degré\n * * Type 1 : x+a≤b ou ax≤b\n * * Type 2 : ax+b≤c\n * * Type 3 : ax+b≤cx+d\n * * Tous les types\n * @author Remi Angot et Guillaume Valmont et Gilles Mora pour l'interactif\n * 2N60-4, ex 2L13\n */\nexport const uuid = 'bc1e4'\n\nexport const refs = {\n  'fr-fr': ['2N60-4', 'BP2RES19'],\n  'fr-ch': [],\n}\n\nfunction buildConclusion(\n  borneInfinie: 'gauche' | 'droite',\n  borneFinie: FractionEtendue,\n  estStrict: boolean,\n): { reponse: string; correction: string } {\n  let reponse: string\n  if (borneInfinie === 'gauche') {\n    reponse = `\\\\left] -\\\\infty\\\\,;\\\\,${borneFinie.texFractionSimplifiee}\\\\right${estStrict ? '[' : ']'}`\n  } else {\n    reponse = `\\\\left${estStrict ? ']' : '['}${borneFinie.texFractionSimplifiee}\\\\,;\\\\,+\\\\infty\\\\right[`\n  }\n  return {\n    reponse,\n    correction: `L'ensemble de solutions de l'inéquation est $S = ${miseEnEvidence(reponse)}$.`,\n  }\n}\n\nexport default class ExerciceInequation1 extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Avec des nombres relatifs']\n    this.besoinFormulaire2Texte = [\n      \"Type d'inéquations\",\n      '1 : ax≤b ou x+a≤b\\n2 : ax+b≤c ou ax+b≤0\\n3 : ax+b≤cx+d\\n4 : a(bx+c)≤dx+e\\n5 : Mélange',\n    ]\n\n    this.spacing = 1.5\n    this.spacingCorr = 1.5\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1.5)\n    this.correctionDetailleeDisponible = true\n    if (!context.isHtml) {\n      this.correctionDetaillee = false\n    }\n    this.sup = true // Avec des nombres relatifs\n    this.sup2 = 5 // Choix du type d'inéquation\n    this.nbQuestions = 2\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      'Résoudre ' +\n      (this.nbQuestions !== 1\n        ? 'les inéquations suivantes'\n        : \"l'inéquation suivante\") +\n      '.'\n    if (this.interactif) {\n      this.consigne +=\n        \"<p>On donnera la réponse sous forme d'un intervalle.</p>\"\n    }\n\n    const typeQuestionsPermis: Question[] = [\n      'ax≤b',\n      'x+b≤c',\n      'ax+b≤c',\n      'ax+b≤0', // pourquoi ce cas là est-il géré à part bien que non proposé explicitement à l'utilisateur\n      'ax+b≤cx+d',\n      'a(bx+c)≤dx+e',\n    ]\n    const listeTypeDeQuestions: Question[] = []\n    const typeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 1,\n      nbQuestions: this.nbQuestions,\n    })\n\n    for (let index = 0; index < this.nbQuestions; index++) {\n      switch (typeDeQuestions[index]) {\n        case 1:\n          listeTypeDeQuestions.push(choice(typeQuestionsPermis.slice(0, 2)))\n          break\n        case 2:\n          listeTypeDeQuestions.push(choice(typeQuestionsPermis.slice(2, 4)))\n          break\n        case 3:\n          listeTypeDeQuestions.push(typeQuestionsPermis[4])\n          break\n        case 4:\n          listeTypeDeQuestions.push(typeQuestionsPermis[5])\n          break\n        case 5:\n          listeTypeDeQuestions.push(choice(typeQuestionsPermis))\n          break\n      }\n    }\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // On limite le nombre d'essais pour chercher des valeurs nouvelles\n      let a = randint(2, 13)\n      let b = randint(1, 13)\n      let c = randint(1, 13)\n      let d = randint(1, 13)\n      let e = randint(1, 13) // sert seulement dans le dernier des types de questions\n      let symboleInegalite: SymboleInegalite | '\\\\' = '>'\n      let symboleInegaliteOppose: SymboleInegalite | '\\\\' = '<'\n      let texte = ''\n      let texteCorr = ''\n      let reponse = ''\n\n      switch (randint(1, 4)) {\n        case 1:\n          symboleInegalite = '<'\n          symboleInegaliteOppose = '>'\n          break\n        case 2:\n          symboleInegalite = '≤'\n          symboleInegaliteOppose = '≥'\n          break\n        case 3:\n          symboleInegalite = '>'\n          symboleInegaliteOppose = '<'\n          break\n        case 4:\n          symboleInegalite = '≥'\n          symboleInegaliteOppose = '≤'\n          break\n      }\n      const estStrict = ['<', '>'].includes(symboleInegalite)\n      if (this.sup) {\n        a *= choice([-1, 1])\n        b *= choice([-1, 1])\n        c *= choice([-1, 1])\n        d *= choice([-1, 1])\n        e *= choice([-1, 1])\n      }\n\n      if (\n        listeTypeDeQuestions[i] === 'ax+b≤0' ||\n        listeTypeDeQuestions[i] === 'ax+b≤c'\n      ) {\n        if (listeTypeDeQuestions[i] === 'ax+b≤0') {\n          c = 0\n        }\n        if (!this.sup && c < b) {\n          b = randint(1, 9)\n          c = randint(b, 15) // c sera plus grand que b pour que c-b≥0\n        }\n        texte = `$${a}x${ecritureAlgebrique(b)}${texSymbole(symboleInegalite)}${c}$`\n        texteCorr = texte + '<br>'\n        if (this.correctionDetaillee) {\n          if (b > 0) {\n            texteCorr += `On soustrait $${b}$ aux deux membres.<br>`\n          } else {\n            texteCorr += `On ajoute $${-1 * b}$ aux deux membres.<br>`\n          }\n        }\n        texteCorr += `$${a}x${ecritureAlgebrique(b)}${miseEnEvidence(ecritureAlgebrique(-1 * b), 'blue')}\n          ${texSymbole(symboleInegalite)}${c}${miseEnEvidence(ecritureAlgebrique(-1 * b), 'blue')}$<br>`\n        texteCorr += `$${a}x${texSymbole(symboleInegalite)}${c - b}$<br>`\n        if (this.correctionDetaillee) {\n          texteCorr += `On divise les deux membres par $${a}$.<br>`\n          if (a < 0) {\n            texteCorr += `Comme $${a}$ est négatif, l'inégalité change de sens.<br>`\n          }\n        }\n        if (a < 0) {\n          texteCorr += `$${a}x${miseEnEvidence(\n            '\\\\div' +\n              ecritureParentheseSiNegatif(a) +\n              texSymbole(symboleInegaliteOppose),\n            'blue',\n          )}${c - b + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a), 'blue')}$<br>`\n          texteCorr += `$x${texSymbole(symboleInegaliteOppose)}${texFractionFromString(c - b, a)}$`\n          texteCorr += `<br>$x${texSymbole(symboleInegaliteOppose)}${texFractionReduite(c - b, a)}$`\n        } else {\n          texteCorr += `$${a}x${miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a), 'blue')}\n            ${texSymbole(symboleInegalite)}${c - b + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a), 'blue')}$<br>`\n          texteCorr += `$x${texSymbole(symboleInegalite)}${texFractionFromString(c - b, a)}$`\n          if (pgcd(abs(a), abs(c - b)) > 1) {\n            texteCorr += `<br>$x${texSymbole(symboleInegalite)}${texFractionReduite(c - b, a)}$`\n          }\n        }\n        // Conclusion\n        const borneInfinie =\n          (symboleInegalite === '<' && a >= 0) ||\n          (symboleInegalite === '>' && a < 0) ||\n          (symboleInegalite === '≤' && a >= 0) ||\n          (symboleInegalite === '≥' && a < 0)\n            ? 'gauche'\n            : 'droite'\n        const borneFinie = new FractionEtendue(c - b, a)\n        const conclusion = buildConclusion(borneInfinie, borneFinie, estStrict)\n        reponse = conclusion.reponse\n        texteCorr += `<br> ${conclusion.correction}`\n      } else if (listeTypeDeQuestions[i] === 'x+b≤c') {\n        a = 1\n        if (!this.sup && c < b) {\n          b = randint(-9, 9, [0]) // b peut être négatif, ça sera une inéquation du type x-b=c\n          c = abs(randint(b, 15)) // c sera plus grand que b pour que c-b>0\n        }\n        texte = `$x${ecritureAlgebrique(b)}${texSymbole(symboleInegalite)}${c}$`\n        texteCorr = texte + '<br>'\n        if (this.correctionDetaillee) {\n          if (b > 0) {\n            texteCorr += `On soustrait $${b}$ aux deux membres.<br>`\n          } else {\n            texteCorr += `On ajoute $${-1 * b}$ aux deux membres.<br>`\n          }\n        }\n        texteCorr += `$x${ecritureAlgebrique(b)}${miseEnEvidence(ecritureAlgebrique(-1 * b), 'blue')}\n          ${texSymbole(symboleInegalite)}${c}${miseEnEvidence(ecritureAlgebrique(-1 * b), 'blue')}$<br>`\n        texteCorr += `$x${texSymbole(symboleInegalite)}${c - b}$`\n        // Conclusion\n        const borneInfinie =\n          (symboleInegalite === '<' && a >= 0) ||\n          (symboleInegalite === '>' && a < 0) ||\n          (symboleInegalite === '≤' && a >= 0) ||\n          (symboleInegalite === '≥' && a < 0)\n            ? 'gauche'\n            : 'droite'\n        const borneFinie = new FractionEtendue(c - b, 1)\n        const conclusion = buildConclusion(borneInfinie, borneFinie, estStrict)\n        reponse = conclusion.reponse\n        texteCorr += `<br> ${conclusion.correction}`\n      } else if (listeTypeDeQuestions[i] === 'ax≤b') {\n        texte = `$${a}x${texSymbole(symboleInegalite)}${b}$`\n        texteCorr = texte + '<br>'\n        if (this.correctionDetaillee) {\n          texteCorr += `On divise les deux membres par $${a}$.<br>`\n          if (a < 0) {\n            texteCorr += `Comme $${a}$ est négatif, l'inégalité change de sens.<br>`\n          }\n        }\n        if (a < 0) {\n          texteCorr += `$${a}x${miseEnEvidence(\n            '\\\\div' +\n              ecritureParentheseSiNegatif(a) +\n              texSymbole(symboleInegaliteOppose),\n            'blue',\n          )}${b + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a), 'blue')}$<br>`\n          texteCorr += `$x${texSymbole(symboleInegaliteOppose)}${texFractionFromString(b, a)}$`\n          texteCorr += `<br>$x${texSymbole(symboleInegaliteOppose)}${texFractionReduite(b, a)}$`\n        } else {\n          texteCorr += `$${a}x${miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a), 'blue')}\n            ${texSymbole(symboleInegalite)}${b + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a), 'blue')}$<br>`\n          texteCorr += `$x${texSymbole(symboleInegalite)}${texFractionFromString(b, a)}$`\n          if (pgcd(abs(a), abs(b)) > 1 || a < 0) {\n            texteCorr += `<br>$x${texSymbole(symboleInegalite)}${texFractionReduite(b, a)}$`\n          }\n        }\n        // Conclusion\n        const borneInfinie =\n          (symboleInegalite === '<' && a >= 0) ||\n          (symboleInegalite === '>' && a < 0) ||\n          (symboleInegalite === '≤' && a >= 0) ||\n          (symboleInegalite === '≥' && a < 0)\n            ? 'gauche'\n            : 'droite'\n        const borneFinie = new FractionEtendue(b, a)\n        const conclusion = buildConclusion(borneInfinie, borneFinie, estStrict)\n        reponse = conclusion.reponse\n        texteCorr += `<br> ${conclusion.correction}`\n      } else if (listeTypeDeQuestions[i] === 'ax+b≤cx+d') {\n        if (c === a) {\n          c = randint(1, 13, [a])\n        } // sinon on arrive à une division par 0\n        if (!this.sup && a < c) {\n          c = randint(1, 9)\n          a = randint(c + 1, 15) // a sera plus grand que c pour que a-c>0\n        }\n        if (!this.sup && d < b) {\n          b = randint(1, 9)\n          d = randint(b + 1, 15) // d sera plus grand que b pour que d-b>0\n        }\n        texte = `$${rienSi1(a)}x${ecritureAlgebrique(b)}${texSymbole(symboleInegalite)} ${rienSi1(c)}x${ecritureAlgebrique(d)}$`\n        texteCorr = texte + '<br>'\n        if (this.correctionDetaillee) {\n          if (c > 0) {\n            texteCorr += `On soustrait $${rienSi1(c)}x$ aux deux membres.<br>`\n          } else {\n            texteCorr += `On ajoute $${rienSi1(-1 * c)}x$ aux deux membres.<br>`\n          }\n        }\n        texteCorr += `$${rienSi1(a)}x${ecritureAlgebrique(b)}${miseEnEvidence(signe(-1 * c) + rienSi1(abs(c)) + 'x', 'blue')}\n          ${texSymbole(symboleInegalite)}${c}x${ecritureAlgebrique(d)}${miseEnEvidence(signe(-1 * c) + rienSi1(abs(c)) + 'x', 'blue')}$<br>`\n        texteCorr += `$${rienSi1(a - c)}x${ecritureAlgebrique(b)}${texSymbole(symboleInegalite)}${d}$<br>`\n        if (this.correctionDetaillee) {\n          if (b > 0) {\n            texteCorr += `On soustrait $${b}$ aux deux membres.<br>`\n          } else {\n            texteCorr += `On ajoute $${-1 * b}$ aux deux membres.<br>`\n          }\n        }\n        texteCorr += `$${rienSi1(a - c)}x${ecritureAlgebrique(b)}${miseEnEvidence(ecritureAlgebrique(-1 * b), 'blue')}\n          ${texSymbole(symboleInegalite)}${d}${miseEnEvidence(ecritureAlgebrique(-1 * b), 'blue')}$<br>`\n        texteCorr += `$${rienSi1(a - c)}x${texSymbole(symboleInegalite)}${d - b}$<br>`\n\n        if (this.correctionDetaillee) {\n          texteCorr += `On divise les deux membres par $${a - c}$.<br>`\n          if (a - c < 0) {\n            texteCorr += `Comme $${a - c}$ est négatif, l'inégalité change de sens.<br>`\n          }\n        }\n        if (a - c < 0) {\n          texteCorr += `$${rienSi1(a - c)}x${miseEnEvidence(\n            '\\\\div' +\n              ecritureParentheseSiNegatif(a - c) +\n              texSymbole(symboleInegaliteOppose),\n            'blue',\n          )}${d - b + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a - c), 'blue')}$<br>`\n          texteCorr += `$x${texSymbole(symboleInegaliteOppose)}${texFractionFromString(d - b, a - c)}$`\n          texteCorr += `<br>$x${texSymbole(symboleInegaliteOppose)}${texFractionReduite(d - b, a - c)}$`\n        } else {\n          texteCorr += `$${rienSi1(a - c)}x${miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a - c), 'blue')}\n            ${texSymbole(symboleInegalite)}${d - b + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a - c), 'blue')}$<br>`\n          texteCorr += `$x${texSymbole(symboleInegalite)}${texFractionFromString(d - b, a - c)}$`\n          if (pgcd(abs(d - b), abs(a - c)) > 1 || a - c < 0) {\n            texteCorr += `<br>$x${texSymbole(symboleInegalite)}${texFractionReduite(d - b, a - c)}$`\n          }\n        }\n        // Conclusion\n        const borneInfinie =\n          (symboleInegalite === '<' && a - c >= 0) ||\n          (symboleInegalite === '>' && a - c < 0) ||\n          (symboleInegalite === '≤' && a - c >= 0) ||\n          (symboleInegalite === '≥' && a - c < 0)\n            ? 'gauche'\n            : 'droite'\n        const borneFinie = new FractionEtendue(d - b, a - c)\n        const conclusion = buildConclusion(borneInfinie, borneFinie, estStrict)\n        reponse = conclusion.reponse\n        texteCorr += `<br> ${conclusion.correction}`\n      } else {\n        if (d === a * b) {\n          // évitons une division par 0\n          d = randint(1, 13, [a * b])\n        }\n        if (e === a * c) {\n          // évitons un résultat nul\n          e = randint(1, 13, [a * c])\n        }\n        texte = `$${a}(${reduireAxPlusB(b, c)}) ${texSymbole(symboleInegalite)} ${reduireAxPlusB(d, e)}$`\n        texteCorr = texte + '<br>'\n        texteCorr += 'On commence par développer le membre de gauche.<br>'\n        texteCorr += `$${a}\\\\times ${b === 1 ? '' : ecritureParentheseSiNegatif(b)}x${ecritureAlgebrique(a)}\\\\times${ecritureParentheseSiNegatif(c)}${texSymbole(symboleInegalite)}${reduireAxPlusB(d, e)}$<br>`\n        texteCorr += `$${reduireAxPlusB(a * b, a * c)}${texSymbole(symboleInegalite)}${reduireAxPlusB(d, e)}$<br>`\n        if (this.correctionDetaillee) {\n          if (d > 0) {\n            texteCorr += `On soustrait $${rienSi1(d)}x$ aux deux membres.<br>`\n          } else {\n            texteCorr += `On ajoute $${rienSi1(-d)}x$ aux deux membres.<br>`\n          }\n        }\n        texteCorr += `$${reduireAxPlusB(a * b, a * c)}${miseEnEvidence(signe(-1 * d) + rienSi1(abs(d)) + 'x', 'blue')}${texSymbole(symboleInegalite)}${reduireAxPlusB(d, e)}${miseEnEvidence(signe(-1 * d) + rienSi1(abs(d)) + 'x', 'blue')}$<br>`\n        texteCorr += `$${rienSi1(a * b - d)}x${ecritureAlgebrique(a * c)}${texSymbole(symboleInegalite)}${e}$<br>`\n        if (this.correctionDetaillee) {\n          if (a * c > 0) {\n            texteCorr += `On soustrait $${a * c}$ aux deux membres.<br>`\n          } else {\n            texteCorr += `On ajoute $${-a * c}$ aux deux membres.<br>`\n          }\n        }\n        texteCorr += `$${rienSi1(a * b - d)}x${ecritureAlgebrique(a * c)}${miseEnEvidence(ecritureAlgebrique(-a * c), 'blue')}\n           ${texSymbole(symboleInegalite)}${e}${miseEnEvidence(ecritureAlgebrique(-a * c), 'blue')}$<br>`\n        texteCorr += `$${rienSi1(a * b - d)}x${texSymbole(symboleInegalite)}${e - a * c}$<br>`\n        if (this.correctionDetaillee) {\n          texteCorr += `On divise les deux membres par $${a * b - d}$.<br>`\n          if (a * b - d < 0) {\n            texteCorr += `Comme $${a * b - d}$ est négatif, l'inégalité change de sens.<br>`\n          }\n        }\n        const borneFinie = new FractionEtendue(e - a * c, a * b - d)\n        const symboleInegaliteFinal =\n          a * b - d > 0 ? symboleInegalite : symboleInegaliteOppose\n        texteCorr += `$${rienSi1(a * b - d)}x${miseEnEvidence(\n          '\\\\div' +\n            ecritureParentheseSiNegatif(a * b - d) +\n            texSymbole(symboleInegaliteFinal),\n          'blue',\n        )}${e - a * c + miseEnEvidence('\\\\div' + ecritureParentheseSiNegatif(a * b - d), 'blue')}$<br>`\n        texteCorr += `$x${texSymbole(symboleInegaliteFinal)}${borneFinie.texFraction}$`\n        if (!borneFinie.estIrreductible) {\n          texteCorr += `<br><br>$x${texSymbole(symboleInegaliteFinal)}${borneFinie.texFractionSimplifiee}$`\n        }\n\n        // Conclusion\n        const borneInfinie = ['≥', '>'].includes(symboleInegaliteFinal)\n          ? 'droite'\n          : 'gauche'\n        const conclusion = buildConclusion(borneInfinie, borneFinie, estStrict)\n        reponse = conclusion.reponse\n        texteCorr += `<br> ${conclusion.correction}`\n      }\n      // texte += `<br> Solution : $${reponse}$` // pour test\n      texte +=\n        '<br>' +\n        ajouteChampTexteMathLive(this, i, KeyboardType.clavierEnsemble, {\n          texteAvant: ' $S=$',\n        })\n      handleAnswers(this, i, {\n        reponse: { value: reponse, options: { intervalle: true } },\n      })\n      if (\n        this.questionJamaisPosee(\n          i,\n          JSON.stringify([a, b, c, d, symboleInegalite]),\n        )\n      ) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","titre","dateDeModifImportante","uuid","refs","buildConclusion","borneInfinie","borneFinie","estStrict","reponse","miseEnEvidence","ExerciceInequation1","Exercice","context","typeQuestionsPermis","listeTypeDeQuestions","typeDeQuestions","gestionnaireFormulaireTexte","index","choice","i","cpt","a","randint","b","c","d","e","symboleInegalite","symboleInegaliteOppose","texte","texteCorr","ecritureAlgebrique","texSymbole","ecritureParentheseSiNegatif","texFractionFromString","texFractionReduite","pgcd","abs","FractionEtendue","conclusion","rienSi1","signe","reduireAxPlusB","symboleInegaliteFinal","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}