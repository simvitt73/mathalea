{"version":3,"file":"4G20-7-COCvoik0.js","sources":["../../src/lib/blockly/blocks.ts","../../src/exercices/4e/4G20-7.ts"],"sourcesContent":["import * as Blockly from 'blockly/core'\n\n// Define the block styles: https://developers.google.com/blockly/guides/configure/web/themes#block_style\n/* const blockStyles = {\n  hat_blocks: {\n    colourPrimary: '#4C97FF',\n    colourSecondary: '#4280D7',\n    colourTertiary: '#3373CC',\n    hat: 'cap',\n  },\n}\n\n// Create the theme: https://developers.google.com/blockly/guides/configure/web/themes#create_a_theme\n const theme = Blockly.Theme.defineTheme('themeName', {\n  blockStyles,\n})\n*/\n\nexport function init() {\n  Blockly.Blocks['start'] = {\n    init: function () {\n      this.appendDummyInput().appendField('Démonstration')\n      this.setInputsInline(true)\n      this.setNextStatement(true, null)\n      this.setStyle('hat_blocks') // Set the style to match the style *name*.\n      this.setColour(50)\n      this.setTooltip('Démonstration')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['reciproque'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldLabelSerializable('Réciproque'),\n        'reciproque',\n      )\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(30)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['thales'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldLabelSerializable('Théorème de Thalès'),\n        'trigo',\n      )\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(30)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['demonstration'] = {\n    init: function () {\n      this.appendStatementInput('Condition')\n        .setCheck(null)\n        .appendField(new Blockly.FieldLabelSerializable('Condition'), 'Cond')\n      this.appendStatementInput('Propriété')\n        .setCheck(null)\n        .appendField(new Blockly.FieldLabelSerializable('Propriété'), 'Prop')\n      this.appendStatementInput('Conclusion')\n        .setCheck(null)\n        .appendField(new Blockly.FieldLabelSerializable('Conclusion'), 'Concl')\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(150)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['triangle_rect_iso'] = {\n    init: function () {\n      this.appendDummyInput()\n        .appendField('Le triangle ')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'prepoint',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'deuxpoint',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'troispoint',\n        )\n      this.appendDummyInput()\n        .appendField('est ')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['rectangle', 'rect'],\n            ['isocèle', 'iso'],\n          ]),\n          'tritype',\n        )\n      this.appendDummyInput()\n        .appendField('en')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'trisommet',\n        )\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.getField('prepoint').setValue('A')\n      this.getField('deuxpoint').setValue('B')\n      this.getField('troispoint').setValue('C')\n      this.getField('trisommet').setValue('A')\n      this.setColour(80)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['pythagore'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldLabelSerializable('Théorème de Pythagore'),\n        'pytha',\n      )\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(30)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['trigonometrie'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldLabelSerializable('Trigonométrie'),\n        'trigo',\n      )\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(30)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['egale_comp'] = {\n    init: function () {\n      this.appendValueInput('op1').setCheck(null)\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['=', 'equal'],\n          ['≠', 'different'],\n          ['≃', 'approx'],\n          ['<', 'pluspetit'],\n          ['>', 'plusgrand'],\n        ]),\n        'op',\n      )\n      this.appendValueInput('op2').setCheck(null)\n      this.setInputsInline(true)\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(180)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['egale_2_comp'] = {\n    init: function () {\n      this.appendValueInput('op1').setCheck(null)\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['=', 'equal'],\n          ['≠', 'different'],\n          ['≃', 'approx'],\n          ['<', 'pluspetit'],\n          ['>', 'plusgrand'],\n        ]),\n        'ope1',\n      )\n      this.appendValueInput('op2').setCheck(null)\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['=', 'equal'],\n          ['≠', 'different'],\n          ['≃', 'approx'],\n          ['<', 'pluspetit'],\n          ['>', 'plusgrand'],\n        ]),\n        'ope2',\n      )\n      this.appendValueInput('op3').setCheck(null)\n      this.setInputsInline(true)\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(180)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['longueur'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['AB', 'AB'],\n          ['BC', 'BC'],\n          ['CA', 'CA'],\n          ['DE', 'DE'],\n          ['EF', 'EF'],\n          ['FD', 'FD'],\n        ]),\n        'Longueur_triangle',\n      )\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(190)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['carre'] = {\n    init: function () {\n      this.appendValueInput('value').setCheck(null)\n      this.appendDummyInput().appendField('²')\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(210)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['operation'] = {\n    init: function () {\n      this.appendValueInput('op1').setCheck(null)\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['+', 'plus'],\n          ['-', 'moins'],\n          ['x', 'multi'],\n          ['÷', 'divise'],\n          ['/', 'fraction'],\n        ]),\n        'op',\n      )\n      this.appendValueInput('op2').setCheck(null)\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(210)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['operation_square_trigo'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['√', 'racine'],\n          ['cos', 'cos'],\n          ['sin', 'sin'],\n          ['tan', 'tan'],\n          ['arccos', 'arccos'],\n          ['arcsin', 'arcsin'],\n          ['arctan', 'arctan'],\n        ]),\n        'op',\n      )\n      this.appendValueInput('value').setCheck(null)\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(230)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['unite'] = {\n    init: function () {\n      this.appendValueInput('value').setCheck(null)\n      this.appendDummyInput().appendField(\n        new Blockly.FieldDropdown([\n          ['cm', 'cm'],\n          ['m', 'm'],\n          ['km', 'km'],\n          ['°', 'deg'],\n        ]),\n        'unite',\n      )\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(230)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['textinput'] = {\n    init: function () {\n      this.appendDummyInput().appendField(\n        new Blockly.FieldTextInput('123'),\n        'NUM',\n      )\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(230)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['angle'] = {\n    init: function () {\n      this.appendDummyInput()\n        .appendField('Angle:')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n          ]),\n          'premlettre',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['B', 'B'],\n            ['C', 'C'],\n            ['A', 'A'],\n          ]),\n          'deuxlettre',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['C', 'C'],\n            ['A', 'A'],\n            ['B', 'B'],\n          ]),\n          'troislettre',\n        )\n      this.setInputsInline(true)\n      this.setOutput(true, null)\n      this.setColour(190)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['secantes'] = {\n    init: function () {\n      this.appendDummyInput()\n        .appendField('Les droites (')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd1prepoint',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd1deuxpoint',\n        )\n        .appendField(')')\n      this.appendDummyInput()\n        .appendField('et (')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd2prepoint',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd2deuxpoint',\n        )\n        .appendField(')')\n      this.appendDummyInput()\n        .appendField('sont sécantes en')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'sommet',\n        )\n      this.getField('d1prepoint').setValue('A')\n      this.getField('d1deuxpoint').setValue('B')\n      this.getField('d2prepoint').setValue('C')\n      this.getField('d2deuxpoint').setValue('D')\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(80)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  Blockly.Blocks['paralleles'] = {\n    init: function () {\n      this.appendDummyInput()\n        .appendField('Les droites (')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd1prepoint',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd1deuxpoint',\n        )\n        .appendField(')')\n      this.appendDummyInput()\n        .appendField('et (')\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd2prepoint',\n        )\n        .appendField(\n          new Blockly.FieldDropdown([\n            ['A', 'A'],\n            ['B', 'B'],\n            ['C', 'C'],\n            ['D', 'D'],\n            ['E', 'E'],\n            ['F', 'F'],\n          ]),\n          'd2deuxpoint',\n        )\n        .appendField(')')\n      this.appendDummyInput().appendField('sont parallèles')\n      this.getField('d1prepoint').setValue('A')\n      this.getField('d1deuxpoint').setValue('B')\n      this.getField('d2prepoint').setValue('C')\n      this.getField('d2deuxpoint').setValue('D')\n      this.setPreviousStatement(true, null)\n      this.setNextStatement(true, null)\n      this.setColour(80)\n      this.setTooltip('')\n      this.setHelpUrl('')\n    },\n  }\n\n  return ''\n}\n","import * as Blockly from 'blockly/core'\nimport * as En from 'blockly/msg/en'\nimport { afficheLongueurSegment } from '../../lib/2d/afficheLongueurSegment'\nimport { codageAngleDroit } from '../../lib/2d/CodageAngleDroit'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { nommePolygone, polygone } from '../../lib/2d/polygones'\nimport { rotation, similitude } from '../../lib/2d/transformations'\nimport { longueur } from '../../lib/2d/utilitairesGeometriques'\nimport blocklypyt from '../../lib/blockly/blocklypyt.json'\nimport { init } from '../../lib/blockly/blocks'\nimport { ajouteFeedback } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListesSansChangerOrdre } from '../../lib/outils/arrayOutils'\nimport { stringNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\nimport { RedactionPythagore } from './_pythagore'\n\nexport const titre =\n  'Calculer une longueur avec le théorème de Pythagore (blockly)'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\n/**\n * Exercices sur le théorème de Pythagore\n * @author Mickael Guironnet (ajout de blockly)\n * 4G20\n */\nexport const uuid = 'c0f90'\n\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': [],\n}\n\nBlockly.setLocale(En as unknown as { [key: string]: string })\n\nexport default class Pythagore2DBlockly extends Exercice {\n  typeDeQuestion: string\n  saveArguments: {\n    nomDuPolygone: string\n    longueurBC: number\n    longueurAC: number\n    longueurAB: number\n    listeTypeDeQuestion: string\n    key: string\n  }[]\n\n  constructor() {\n    super()\n\n    this.nbQuestions = 2\n    this.sup = 3\n    this.sup2 = 3\n    this.typeDeQuestion = 'Calculer :'\n    this.besoinFormulaire2Numerique = [\n      'Recherche de côtés ',\n      3,\n      \"1 : Hypoténuse\\n2 : Côtés de l'angle droit\\n3: Mélange\",\n    ]\n    this.saveArguments = []\n  }\n\n  nouvelleVersion(numeroExercice: number) {\n    let listeTypeDeQuestions\n    if (this.sup2 === 1) {\n      listeTypeDeQuestions = ['BC']\n    } else if (this.sup2 === 2) {\n      listeTypeDeQuestions = ['AB', 'AC']\n    } else {\n      listeTypeDeQuestions = ['AB', 'BC', 'AC']\n    }\n    const listeDeNomsDePolygones = ['ABC', 'DEF']\n    this.consigne =\n      (this.nbQuestions > 1 ? 'Dans chaque cas, calculer' : 'Calculer') +\n      \" la longueur manquante (si nécessaire, l'arrondir au millimètre près).\"\n\n    listeTypeDeQuestions = combinaisonListesSansChangerOrdre(\n      listeTypeDeQuestions,\n      this.nbQuestions,\n    )\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      texte = ''\n      texteCorr = ''\n      const A1 = point(0, 0)\n      const B1 = point(randint(22, 50) / 10, 0)\n      const C1 = similitude(B1, A1, 90, randint(22, 50) / 10 / longueur(A1, B1))\n      const p1 = polygone(A1, B1, C1)\n      const p2 = rotation(p1, A1, randint(0, 360))\n      const A = p2.listePoints[0]\n      const B = p2.listePoints[1]\n      const C = p2.listePoints[2]\n      const codage = codageAngleDroit(B, A, C)\n      const xmin = Math.min(A.x, B.x, C.x) - 1\n      const ymin = Math.min(A.y, B.y, C.y) - 1\n      const xmax = Math.max(A.x, B.x, C.x) + 1\n      const ymax = Math.max(A.y, B.y, C.y) + 1\n      const nomDuPolygone = listeDeNomsDePolygones[i % 2]\n      const nomme = nommePolygone(p2, nomDuPolygone)\n      const affAB = afficheLongueurSegment(B, A)\n      const affAC = afficheLongueurSegment(A, C)\n      const affBC = afficheLongueurSegment(C, B)\n      const longueurAB = longueur(A, B, 1)\n      const longueurAC = longueur(A, C, 1)\n      const longueurBC = longueur(B, C, 1)\n      const mesObjetsATracer: NestedObjetMathalea2dArray = [codage, p2, nomme]\n\n      if (\n        this.typeDeQuestion === 'Calculer :' &&\n        listeTypeDeQuestions[i] === 'AB'\n      ) {\n        mesObjetsATracer.push(affAC, affBC)\n      } else if (\n        this.typeDeQuestion === 'Calculer :' &&\n        listeTypeDeQuestions[i] === 'BC'\n      ) {\n        mesObjetsATracer.push(affAC, affAB)\n      } else if (\n        this.typeDeQuestion === 'Calculer :' &&\n        listeTypeDeQuestions[i] === 'AC'\n      ) {\n        mesObjetsATracer.push(affAB, affBC)\n      }\n\n      texte += mathalea2d(\n        { xmin, xmax, ymin, ymax, scale: 0.6, style: 'display: block' },\n        mesObjetsATracer,\n      )\n\n      if (this.typeDeQuestion === 'Calculer :') {\n        let redaction\n        if (listeTypeDeQuestions[i] === 'AB') {\n          redaction = RedactionPythagore(\n            A.nom,\n            B.nom,\n            C.nom,\n            2,\n            longueurAB,\n            longueurAC,\n            longueurBC,\n          )\n        } else if (listeTypeDeQuestions[i] === 'BC') {\n          redaction = RedactionPythagore(\n            A.nom,\n            B.nom,\n            C.nom,\n            1,\n            longueurAB,\n            longueurAC,\n            longueurBC,\n          )\n        } else {\n          // listeTypeDeQuestions[i] === 'AC'\n          redaction = RedactionPythagore(\n            A.nom,\n            C.nom,\n            B.nom,\n            2,\n            longueurAC,\n            longueurAB,\n            longueurBC,\n          )\n        }\n        texteCorr = redaction[0] ?? ''\n\n        if (context.isHtml) {\n          texte += `<div> \n  <table id=\"tableBlockly${numeroExercice}_${i}\" style= \"height: 100%;width: 100%;border: 0px solid black;border-collapse: collapse;min-height: 500px\">\n    <tr>\n      <td id=\"blocklyArea${numeroExercice}_${i}\"></td>\n    </tr>\n  </table></div>\n\n  <div id=\"blocklyDiv${numeroExercice}_${i}\" style=\"position: absolute\"></div>\n  `\n          texteCorr = `<div>\n  <table id=\"tableBlocklyCor${numeroExercice}_${i}\" style= \"height: 100%;width: 100%;border: 0px solid black;border-collapse: collapse;min-height: 500px\">\n    <tr>\n      <td id=\"secondaryArea${numeroExercice}_${i}\"></td>\n    </tr>\n    <tr>\n    </tr>\n  </table>\n  <div id=\"secondaryDiv${numeroExercice}_${i}\" style=\"position: absolute\"></div>\n  `\n          texte += `<div class=\"ml-2 py-2\" id=\"resultatCheckEx${this.numeroExercice}Q${i}\"></div>`\n          texte += ajouteFeedback(this, i)\n        }\n      }\n      if (this.questionJamaisPosee(i, B1.x, B1.y, C1.x, C1.y)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        const key =\n          nomDuPolygone +\n          longueurBC.toString() +\n          longueurAC.toString() +\n          longueurAB.toString()\n        this.saveArguments[i] = {\n          nomDuPolygone,\n          longueurBC,\n          longueurAC,\n          longueurAB,\n          listeTypeDeQuestion: listeTypeDeQuestions[i],\n          key,\n        }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n\n    init() // blockly initialisation\n    const that = this\n    const createAllBlockly = function () {\n      const nbQ = that.nbQuestions\n      const numExercice = numeroExercice\n      // console log('nbQ:' + nbQ)\n      for (let k = 0; k < nbQ; k++) {\n        // console log('k:' + k)\n        createBlockly(\n          k,\n          numExercice,\n          that.saveArguments[k].nomDuPolygone,\n          that.saveArguments[k].longueurBC,\n          that.saveArguments[k].longueurAC,\n          that.saveArguments[k].longueurAB,\n          that.saveArguments[k].listeTypeDeQuestion,\n          that.saveArguments[k].key,\n        )\n      }\n    }\n    const createBlockly = function (\n      questId: number,\n      numExercice: number,\n      nomDuPolygone: string,\n      longueurBC: number,\n      longueurAC: number,\n      longueurAB: number,\n      listeTypeDeQuestion: string,\n      key: string,\n    ) {\n      const toolbox = {\n        kind: 'flyoutToolbox',\n        contents: [\n          {\n            kind: 'block',\n            type: 'start',\n          },\n          {\n            kind: 'block',\n            type: 'demonstration',\n          },\n          {\n            kind: 'block',\n            type: 'triangle_rect_iso',\n          },\n          {\n            kind: 'block',\n            type: 'secantes',\n          },\n          {\n            kind: 'block',\n            type: 'paralleles',\n          },\n          {\n            kind: 'block',\n            type: 'pythagore',\n          },\n          {\n            kind: 'block',\n            type: 'thales',\n          },\n          {\n            kind: 'block',\n            type: 'trigonometrie',\n          },\n          {\n            kind: 'block',\n            type: 'reciproque',\n          },\n          {\n            kind: 'block',\n            type: 'egale_comp',\n          },\n          {\n            kind: 'block',\n            type: 'longueur',\n          },\n          {\n            kind: 'block',\n            type: 'angle',\n          },\n          {\n            kind: 'block',\n            type: 'carre',\n          },\n          {\n            kind: 'block',\n            type: 'egale_comp',\n            inputs: {\n              op1: {\n                block: {\n                  type: 'carre',\n                  inputs: {\n                    value: {\n                      block: {\n                        type: 'longueur',\n                      },\n                    },\n                  },\n                },\n              },\n              op2: {\n                block: {\n                  type: 'operation',\n                  inputs: {\n                    op1: {\n                      block: {\n                        type: 'carre',\n                      },\n                    },\n                    op2: {\n                      block: {\n                        type: 'carre',\n                      },\n                    },\n                  },\n                },\n              },\n            },\n          },\n          {\n            kind: 'block',\n            type: 'operation',\n          },\n          {\n            kind: 'block',\n            type: 'operation_square_trigo',\n          },\n          {\n            kind: 'block',\n            type: 'unite',\n          },\n          {\n            kind: 'block',\n            type: 'textinput',\n          },\n        ],\n      }\n      const secondaryArea = document.getElementById(\n        'secondaryArea' + numExercice + '_' + questId,\n      )\n      const secondaryDiv = document.getElementById(\n        'secondaryDiv' + numExercice + '_' + questId,\n      )\n      const workspaceExisting = retrieveWorkspace(\n        'workspace_sol_' + numExercice + '_' + questId + '_' + key,\n      )\n      if (\n        secondaryDiv !== null &&\n        secondaryDiv.querySelector('.injectionDiv') &&\n        workspaceExisting\n      ) {\n        // already loaded\n        document.dispatchEvent(\n          new window.Event('blocklyEvent', { bubbles: true }),\n        )\n      } else if (secondaryDiv !== null) {\n        const workspaceExisting = retrieveWorkspace(\n          'workspace_sol_' + numExercice + '_' + questId,\n        )\n        if (workspaceExisting) {\n          // console log('dispatchEvent: dispose')\n          workspaceExisting.dispose()\n        }\n        const secondaryWorkspace = Blockly.inject(secondaryDiv, {\n          media: './node_modules/blockly/media/',\n          readOnly: true,\n          zoom: {\n            controls: true,\n            wheel: false,\n            startScale: 0.8,\n            maxScale: 3,\n            minScale: 0.3,\n            scaleSpeed: 1.2,\n            pinch: false,\n          },\n        })\n        secondaryWorkspace.idkey =\n          'workspace_sol_' + numExercice + '_' + questId + '_' + key\n        const solution1 = JSON.parse(JSON.stringify(blocklypyt)) // POUR CLONER SINON BUG\n        solution1.blocks.blocks[0].next.block.inputs.Condition.block.fields.prepoint =\n          nomDuPolygone[0]\n        solution1.blocks.blocks[0].next.block.inputs.Condition.block.fields.deuxpoint =\n          nomDuPolygone[1]\n        solution1.blocks.blocks[0].next.block.inputs.Condition.block.fields.troispoint =\n          nomDuPolygone[2]\n        solution1.blocks.blocks[0].next.block.inputs.Condition.block.fields.trisommet =\n          nomDuPolygone[0]\n        const egalitePytagore =\n          solution1.blocks.blocks[0].next.block.inputs.Propriété.block.next\n            .block\n        egalitePytagore.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n          nomDuPolygone[1] + nomDuPolygone[2]\n        egalitePytagore.inputs.op2.block.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n          nomDuPolygone[0] + nomDuPolygone[1]\n        egalitePytagore.inputs.op2.block.inputs.op2.block.inputs.value.block.fields.Longueur_triangle =\n          nomDuPolygone[2] + nomDuPolygone[0]\n        const egalitePytagoreMoins = egalitePytagore.next.block\n        const egalitePytagoreCalcul1 = egalitePytagoreMoins.next.block\n        const egalitePytagoreCalcul2 = egalitePytagoreCalcul1.next.block\n        const egalitePytagoreCalcul3 = egalitePytagoreCalcul2.next.block\n        const egalitePytagoreCalcul4 = egalitePytagoreCalcul3.next.block\n        if (listeTypeDeQuestion === 'AB') {\n          egalitePytagoreMoins.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          egalitePytagoreMoins.inputs.op2.block.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          egalitePytagoreMoins.inputs.op2.block.inputs.op2.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          egalitePytagoreCalcul1.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          egalitePytagoreCalcul1.inputs.op2.block.inputs.op1.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurBC, 1)\n          egalitePytagoreCalcul1.inputs.op2.block.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAC, 1)\n          egalitePytagoreCalcul2.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          egalitePytagoreCalcul2.inputs.op2.block.inputs.op1.block.fields.NUM =\n            stringNombre(longueurBC ** 2, 2)\n          egalitePytagoreCalcul2.inputs.op2.block.inputs.op2.block.fields.NUM =\n            stringNombre(longueurAC ** 2, 2)\n          egalitePytagoreCalcul3.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          egalitePytagoreCalcul3.inputs.op2.block.fields.NUM = stringNombre(\n            longueurBC ** 2 - longueurAC ** 2,\n            2,\n          )\n          egalitePytagoreCalcul4.inputs.op1.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          egalitePytagoreCalcul4.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurBC ** 2 - longueurAC ** 2, 2)\n          solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.inputs.op1.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAB, 2)\n          if (\n            stringNombre(Math.sqrt(longueurBC ** 2 - longueurAC ** 2), 1) ===\n            stringNombre(Math.sqrt(longueurBC ** 2 - longueurAC ** 2), 5)\n          ) {\n            solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.fields.op =\n              'equal'\n          } else {\n            solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.fields.op =\n              'approx'\n          }\n        } else if (listeTypeDeQuestion === 'AC') {\n          egalitePytagoreMoins.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          egalitePytagoreMoins.inputs.op2.block.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          egalitePytagoreMoins.inputs.op2.block.inputs.op2.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[0] + nomDuPolygone[1]\n          egalitePytagoreCalcul1.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          egalitePytagoreCalcul1.inputs.op2.block.inputs.op1.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurBC, 1)\n          egalitePytagoreCalcul1.inputs.op2.block.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAB, 1)\n          egalitePytagoreCalcul2.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          egalitePytagoreCalcul2.inputs.op2.block.inputs.op1.block.fields.NUM =\n            stringNombre(longueurBC ** 2, 2)\n          egalitePytagoreCalcul2.inputs.op2.block.inputs.op2.block.fields.NUM =\n            stringNombre(longueurAB ** 2, 2)\n          egalitePytagoreCalcul3.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          egalitePytagoreCalcul3.inputs.op2.block.fields.NUM = stringNombre(\n            longueurBC ** 2 - longueurAB ** 2,\n            2,\n          )\n          egalitePytagoreCalcul4.inputs.op1.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          egalitePytagoreCalcul4.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurBC ** 2 - longueurAB ** 2, 2)\n          solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.inputs.op1.block.fields.Longueur_triangle =\n            nomDuPolygone[2] + nomDuPolygone[0]\n          solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAC, 2)\n          if (\n            stringNombre(Math.sqrt(longueurBC ** 2 - longueurAB ** 2), 1) ===\n            stringNombre(Math.sqrt(longueurBC ** 2 - longueurAB ** 2), 5)\n          ) {\n            solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.fields.op =\n              'equal'\n          } else {\n            solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.fields.op =\n              'approx'\n          }\n        } else {\n          egalitePytagore.next.block = egalitePytagoreCalcul1\n          egalitePytagoreCalcul1.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          egalitePytagoreCalcul1.inputs.op2.block.fields.op = 'plus'\n          egalitePytagoreCalcul1.inputs.op2.block.inputs.op1.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAB, 1)\n          egalitePytagoreCalcul1.inputs.op2.block.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAC, 1)\n          egalitePytagoreCalcul2.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          egalitePytagoreCalcul2.inputs.op2.block.fields.op = 'plus'\n          egalitePytagoreCalcul2.inputs.op2.block.inputs.op1.block.fields.NUM =\n            stringNombre(longueurAB ** 2, 2)\n          egalitePytagoreCalcul2.inputs.op2.block.inputs.op2.block.fields.NUM =\n            stringNombre(longueurAC ** 2, 2)\n          egalitePytagoreCalcul3.inputs.op1.block.inputs.value.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          egalitePytagoreCalcul3.inputs.op2.block.fields.NUM = stringNombre(\n            longueurAB ** 2 + longueurAC ** 2,\n            2,\n          )\n          egalitePytagoreCalcul4.inputs.op1.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          egalitePytagoreCalcul4.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurAB ** 2 + longueurAC ** 2, 2)\n          solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.inputs.op1.block.fields.Longueur_triangle =\n            nomDuPolygone[1] + nomDuPolygone[2]\n          solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.inputs.op2.block.inputs.value.block.fields.NUM =\n            stringNombre(longueurBC, 2)\n          if (\n            stringNombre(Math.sqrt(longueurAB ** 2 + longueurAC ** 2), 1) ===\n            stringNombre(Math.sqrt(longueurAB ** 2 + longueurAC ** 2), 5)\n          ) {\n            solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.fields.op =\n              'equal'\n          } else {\n            solution1.blocks.blocks[0].next.block.inputs.Conclusion.block.fields.op =\n              'approx'\n          }\n        }\n        Blockly.serialization.workspaces.load(solution1, secondaryWorkspace)\n\n        const onresize2 = function () {\n          // Compute the absolute coordinates and dimensions of blocklyArea.\n          if (secondaryArea === null) {\n            return\n          }\n          let element: HTMLElement | null = secondaryArea\n          let x = 0\n          let y = 0\n          let nb = 0\n          do {\n            x += element.offsetLeft\n            y += element.offsetTop\n            element = element.offsetParent as HTMLElement | null\n            nb++\n            // console log('Co:x:' + x + ';y=' + y)\n          } while (element && nb < 2)\n          // Position blocklyDiv over blocklyArea.\n          secondaryDiv.style.left = x + 'px'\n          secondaryDiv.style.top = y + 'px'\n          secondaryDiv.style.width = secondaryArea.offsetWidth + 'px'\n          secondaryDiv.style.height = secondaryArea.offsetHeight + 'px'\n          Blockly.svgResize(secondaryWorkspace)\n          // console log('resize2')\n        }\n        onresize2()\n        window.addEventListener('resize', onresize2, false)\n      }\n\n      const blocklyArea = document.getElementById(\n        'blocklyArea' + numExercice + '_' + questId,\n      )\n      if (blocklyArea === null) return\n      const blocklyDiv = document.getElementById(\n        'blocklyDiv' + numExercice + '_' + questId,\n      )\n      if (blocklyDiv !== null && blocklyDiv.querySelector('.injectionDiv')) {\n        // already loaded\n        setTimeout(function () {\n          document.dispatchEvent(\n            new window.Event('blocklyEvent', { bubbles: true }),\n          )\n        }, 1000)\n      } else if (blocklyDiv !== null) {\n        const workspaceExisting = retrieveWorkspace(\n          'workspace_quest_' + numExercice + '_' + questId,\n        )\n        if (workspaceExisting) {\n          // console log('dispatchEvent: dispose')\n          workspaceExisting.dispose()\n        }\n        const demoWorkspace = Blockly.inject(blocklyDiv, {\n          media: './node_modules/blockly/media/',\n          toolbox,\n          collapse: false,\n          comments: false,\n          disable: false,\n          maxBlocks: Infinity,\n          trashcan: false,\n          horizontalLayout: false,\n          toolboxPosition: 'start',\n          css: true,\n          rtl: false,\n          scrollbars: false,\n          sounds: false,\n          oneBasedIndex: false,\n          zoom: {\n            controls: true,\n            wheel: false,\n            startScale: 0.8,\n            maxScale: 3,\n            minScale: 0.3,\n            scaleSpeed: 1.2,\n            pinch: false,\n          },\n        })\n        demoWorkspace.idkey =\n          'workspace_quest_' + numExercice + '_' + questId + '_' + key\n        // console log('blockly loaded nbr:' + Blockly.Workspace.getAll().length)\n        // console log('demoWorkspace.idkey:' + demoWorkspace.idkey)\n\n        const onresize = function () {\n          // Compute the absolute coordinates and dimensions of blocklyArea.\n          let element: HTMLElement | null = blocklyArea\n          if (element === null) {\n            return\n          }\n          let x = 0\n          let y = 0\n          let nb = 0\n          do {\n            x += element.offsetLeft\n            y += element.offsetTop\n            element = element.offsetParent as HTMLElement | null\n            nb++\n          } while (element && nb < 2)\n          // Position blocklyDiv over blocklyArea.\n          blocklyDiv.style.left = x + 'px'\n          blocklyDiv.style.top = y + 'px'\n          blocklyDiv.style.width = blocklyArea.offsetWidth + 'px'\n          blocklyDiv.style.height = blocklyArea.offsetHeight + 'px'\n          Blockly.svgResize(demoWorkspace)\n        }\n        window.addEventListener('resize', onresize, false)\n        document.addEventListener('blocklyEvent', onresize, false)\n        onresize()\n      }\n    }\n    document.addEventListener('exercicesAffiches', createAllBlockly)\n  }\n\n  correctionInteractive = (i: number) => {\n    if (i === undefined) return ''\n    if (this.answers === undefined) this.answers = {}\n    let result = 'OK'\n    const spanResultat = document.querySelector(\n      `#resultatCheckEx${this.numeroExercice}Q${i}`,\n    )\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    ) as HTMLElement | null\n    if (spanResultat) spanResultat.innerHTML = ''\n    let feedback = ''\n    const workspaceExisting = retrieveWorkspace(\n      'workspace_quest_' + this.numeroExercice + '_' + i,\n    )\n    if (!workspaceExisting) {\n      throw new Error('Workspace introuvable')\n    }\n    const start = workspaceExisting.getBlocksByType('start')[0]\n    if (!start) {\n      feedback += 'Manque le bloc \"démonstration\"<br>'\n      if (spanResultat) spanResultat.innerHTML = '☹️'\n      result = 'KO'\n      if (divFeedback) divFeedback.innerHTML = feedback\n      return result\n    }\n    const demo = start.getNextBlock()\n    if (!demo) {\n      feedback += 'Manque le bloc \"Condition Propriété Conclusion\"<br>'\n      if (spanResultat) spanResultat.innerHTML = '☹️'\n      result = 'KO'\n      if (divFeedback) divFeedback.innerHTML = feedback\n      if (divFeedback) divFeedback.style.display = 'block'\n\n      return result\n    }\n\n    const condition = demo.getInputTargetBlock('Condition')\n    if (!condition) {\n      feedback += 'Pas de condition définie<br>'\n      if (spanResultat) spanResultat.innerHTML = '☹️'\n      result = 'KO'\n    } else {\n      if (\n        condition.type === 'triangle_rect_iso' &&\n        condition.getFieldValue('tritype') === 'rect'\n      ) {\n        feedback += 'Condition: le bloc triangle rectangle défini<br>'\n      } else {\n        feedback += 'Condition: le bloc triangle rectangle mal défini<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n      if (\n        this.saveArguments[i].nomDuPolygone.includes(\n          condition.getFieldValue('prepoint'),\n        ) &&\n        this.saveArguments[i].nomDuPolygone.includes(\n          condition.getFieldValue('deuxpoint'),\n        ) &&\n        this.saveArguments[i].nomDuPolygone.includes(\n          condition.getFieldValue('troispoint'),\n        ) &&\n        this.saveArguments[i].nomDuPolygone.includes(\n          condition.getFieldValue('troispoint'),\n        )\n      ) {\n        feedback += 'Condition: le bloc triangle rectangle bien défini<br>'\n      } else {\n        feedback +=\n          'Condition: le bloc triangle rectangle avec des points mal définis<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n    }\n\n    const longueurBC = this.saveArguments[i].longueurBC\n    const longueurAB = this.saveArguments[i].longueurAB\n    const longueurAC = this.saveArguments[i].longueurAC\n    const nomDuPolygone = this.saveArguments[i].nomDuPolygone\n\n    const prop = demo.getInputTargetBlock('Propriété')\n    if (!prop) {\n      feedback += 'Pas de propriété définie<br>'\n      if (spanResultat) spanResultat.innerHTML = '☹️'\n      result = 'KO'\n    } else {\n      if (prop.type === 'pythagore') {\n        feedback += 'Propriété: le bloc Pythagore défini<br>'\n      } else {\n        feedback += 'Propriété: le bloc Pythagore absent<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n\n      const egalitePyt = prop.getNextBlock() // égalité de Pythagore\n      if (\n        egalitePyt &&\n        egalitePyt.type === 'egale_comp' &&\n        egalitePyt.getFieldValue('op') === 'equal' &&\n        egalitePyt.getInputTargetBlock('op1') &&\n        egalitePyt.getInputTargetBlock('op1')?.type === 'carre' &&\n        egalitePyt.getInputTargetBlock('op1')?.getInputTargetBlock('value') &&\n        egalitePyt.getInputTargetBlock('op1')?.getInputTargetBlock('value')\n          ?.type === 'longueur' &&\n        egalitePyt\n          .getInputTargetBlock('op1')\n          ?.getInputTargetBlock('value')\n          ?.getFieldValue('Longueur_triangle') ===\n          nomDuPolygone[1] + nomDuPolygone[2]\n      ) {\n        feedback +=\n          'Propriété: Egalité de Pythagore : bloc correct à gauche<br>'\n      } else {\n        feedback +=\n          'Propriété: Egalité de Pythagore : bloc incorrecte à gauche<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n\n      if (\n        egalitePyt &&\n        egalitePyt.type === 'egale_comp' &&\n        egalitePyt.getFieldValue('op') === 'equal' &&\n        egalitePyt.getInputTargetBlock('op2') &&\n        egalitePyt.getInputTargetBlock('op2')?.type === 'operation' &&\n        egalitePyt.getInputTargetBlock('op2')?.getFieldValue('op') === 'plus' &&\n        egalitePyt.getInputTargetBlock('op2')?.getInputTargetBlock('op1') &&\n        egalitePyt.getInputTargetBlock('op2')?.getInputTargetBlock('op1')\n          ?.type === 'carre' &&\n        egalitePyt\n          .getInputTargetBlock('op2')\n          ?.getInputTargetBlock('op1')\n          ?.getInputTargetBlock('value') &&\n        egalitePyt\n          .getInputTargetBlock('op2')\n          ?.getInputTargetBlock('op1')\n          ?.getInputTargetBlock('value')?.type === 'longueur' &&\n        (egalitePyt\n          .getInputTargetBlock('op2')\n          ?.getInputTargetBlock('op1')\n          ?.getInputTargetBlock('value')\n          ?.getFieldValue('Longueur_triangle') ===\n          nomDuPolygone[0] + nomDuPolygone[1] ||\n          egalitePyt\n            .getInputTargetBlock('op2')\n            ?.getInputTargetBlock('op1')\n            ?.getInputTargetBlock('value')\n            ?.getFieldValue('Longueur_triangle') ===\n            nomDuPolygone[2] + nomDuPolygone[0]) &&\n        egalitePyt.getInputTargetBlock('op2')?.getInputTargetBlock('op2') &&\n        egalitePyt.getInputTargetBlock('op2')?.getInputTargetBlock('op2')\n          ?.type === 'carre' &&\n        egalitePyt\n          .getInputTargetBlock('op2')\n          ?.getInputTargetBlock('op2')\n          ?.getInputTargetBlock('value') &&\n        egalitePyt\n          .getInputTargetBlock('op2')\n          ?.getInputTargetBlock('op2')\n          ?.getInputTargetBlock('value')?.type === 'longueur' &&\n        (egalitePyt\n          .getInputTargetBlock('op2')\n          ?.getInputTargetBlock('op2')\n          ?.getInputTargetBlock('value')\n          ?.getFieldValue('Longueur_triangle') ===\n          nomDuPolygone[0] + nomDuPolygone[1] ||\n          egalitePyt\n            .getInputTargetBlock('op2')\n            ?.getInputTargetBlock('op2')\n            ?.getInputTargetBlock('value')\n            ?.getFieldValue('Longueur_triangle') ===\n            nomDuPolygone[2] + nomDuPolygone[0])\n      ) {\n        feedback +=\n          'Propriété: Egalité de Pythagore : bloc correct à droite<br>'\n      } else {\n        feedback +=\n          'Propriété: Egalité de Pythagore : bloc incorrect à droite<br>'\n      }\n      if (spanResultat) spanResultat.innerHTML = '☹️'\n      result = 'KO'\n      let racineCarre = egalitePyt?.getNextBlock() // égalité de Pythagore\n      while (racineCarre) {\n        const [resu, feed] = this.racineCarreSearch(\n          racineCarre,\n          nomDuPolygone,\n          this.saveArguments[i].listeTypeDeQuestion,\n          longueurBC,\n          longueurAC,\n          longueurAB,\n        )\n        racineCarre = racineCarre.getNextBlock()\n        if (resu) {\n          feedback += feed\n          break\n        }\n        if (!racineCarre) {\n          feedback += feed\n          if (spanResultat) spanResultat.innerHTML = '☹️'\n          result = 'KO'\n          break\n        }\n      }\n    }\n\n    const conclusion = demo.getInputTargetBlock('Conclusion')\n    if (!conclusion) {\n      feedback += 'Pas de conclusion définie<br>'\n      if (spanResultat) spanResultat.innerHTML = '☹️'\n      result = 'KO'\n    } else {\n      let equalOrApprox = ''\n      let nomLongueur = ''\n      let longueurCherche: string = longueurAB.toString()\n      if (this.saveArguments[i].listeTypeDeQuestion === 'AB') {\n        nomLongueur = nomDuPolygone[0] + nomDuPolygone[1]\n        longueurCherche = stringNombre(longueurAB)\n        if (\n          stringNombre(Math.sqrt(longueurBC ** 2 - longueurAC ** 2), 1) ===\n          stringNombre(Math.sqrt(longueurBC ** 2 - longueurAC ** 2), 5)\n        ) {\n          equalOrApprox = 'equal'\n        } else {\n          equalOrApprox = 'approx'\n        }\n      } else if (this.saveArguments[i].listeTypeDeQuestion === 'AC') {\n        nomLongueur = nomDuPolygone[2] + nomDuPolygone[0]\n        longueurCherche = stringNombre(longueurAC)\n        if (\n          stringNombre(Math.sqrt(longueurBC ** 2 - longueurAB ** 2), 1) ===\n          stringNombre(Math.sqrt(longueurBC ** 2 - longueurAB ** 2), 5)\n        ) {\n          equalOrApprox = 'equal'\n        } else {\n          equalOrApprox = 'approx'\n        }\n      } else {\n        nomLongueur = nomDuPolygone[1] + nomDuPolygone[2]\n        longueurCherche = stringNombre(longueurBC)\n        if (\n          stringNombre(Math.sqrt(longueurAB ** 2 + longueurAC ** 2), 1) ===\n          stringNombre(Math.sqrt(longueurAB ** 2 + longueurAC ** 2), 5)\n        ) {\n          equalOrApprox = 'equal'\n        } else {\n          equalOrApprox = 'approx'\n        }\n      }\n      if (conclusion.type === 'egale_comp') {\n        // feedback += 'Conclusion: le block conclusion défini<br>'\n      } else {\n        feedback += 'Conclusion: le bloc conclusion avec le mauvais block<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n      if (\n        conclusion.type === 'egale_comp' &&\n        conclusion.getFieldValue('op') === equalOrApprox\n      ) {\n        feedback +=\n          'Conclusion: le bloc conclusion défini avec le bon signe<br>'\n      } else if (conclusion.type === 'egale_comp') {\n        feedback +=\n          'Conclusion: le bloc conclusion défini avec le mauvais signe<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n      const op1 = conclusion.getInputTargetBlock('op1')\n      if (\n        op1 &&\n        op1.type === 'longueur' &&\n        op1.getFieldValue('Longueur_triangle') === nomLongueur\n      ) {\n        feedback +=\n          'Conclusion: le bloc conclusion défini avec le bon segment<br>'\n      } else {\n        feedback +=\n          'Conclusion: le bloc conclusion défini avec le mauvais segment<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n      const op2 = conclusion.getInputTargetBlock('op2')\n      if (op2 && op2.type === 'unite' && op2.getFieldValue('unite') === 'cm') {\n        feedback +=\n          'Conclusion: le bloc conclusion défini avec la bonne unité<br>'\n      } else {\n        feedback +=\n          'Conclusion: le bloc conclusion défini avec la mauvaise unité<br>'\n        if (spanResultat) spanResultat.innerHTML = '☹️'\n        result = 'KO'\n      }\n      if (op2 && op2.getInputTargetBlock('value')) {\n        const valBlock = op2.getInputTargetBlock('value')\n        if (valBlock) {\n          if (\n            valBlock.type === 'textinput' &&\n            valBlock.getFieldValue('NUM') === longueurCherche\n          ) {\n            feedback +=\n              'Conclusion: le bloc conclusion défini avec la bonne longueur<br>'\n          } else {\n            feedback +=\n              'Conclusion: le bloc conclusion défini avec la mauvaise longueur<br>'\n            if (spanResultat) spanResultat.innerHTML = '☹️'\n            result = 'KO'\n          }\n        }\n      }\n    }\n    if (result === 'OK') if (spanResultat) spanResultat.innerHTML = '😎'\n    if (divFeedback) divFeedback.innerHTML = feedback\n    return result\n  }\n\n  racineCarreSearch(\n    racineCarre: Blockly.Block,\n    nomDuPolygone: string,\n    listeTypeDeQuestion: string,\n    longueurBC: number,\n    longueurAC: number,\n    longueurAB: number,\n  ) {\n    let feedback = ''\n    let result = true\n    let value = ''\n    let nom = ''\n    if (listeTypeDeQuestion === 'AB') {\n      value = stringNombre(longueurBC ** 2 - longueurAC ** 2)\n      nom = nomDuPolygone[0] + nomDuPolygone[1]\n    } else if (listeTypeDeQuestion === 'BC') {\n      value = stringNombre(longueurAC ** 2 + longueurAC ** 2)\n      nom = nomDuPolygone[1] + nomDuPolygone[2]\n    } else {\n      value = stringNombre(longueurBC ** 2 - longueurAB ** 2)\n      nom = nomDuPolygone[2] + nomDuPolygone[0]\n    }\n\n    if (\n      racineCarre &&\n      racineCarre.type === 'egale_comp' &&\n      racineCarre.getFieldValue('op') === 'equal' &&\n      racineCarre.getInputTargetBlock('op1')?.type === 'longueur' &&\n      racineCarre\n        .getInputTargetBlock('op1')\n        ?.getFieldValue('Longueur_triangle') === nom\n    ) {\n      feedback += 'Propriété: bloc racine carré correct à gauche<br>'\n    } else {\n      result = false\n      feedback += 'Propriété: bloc racine carré incorrect à gauche<br>'\n    }\n\n    if (\n      racineCarre &&\n      racineCarre.type === 'egale_comp' &&\n      racineCarre.getFieldValue('op') === 'equal' &&\n      racineCarre.getInputTargetBlock('op2')?.type ===\n        'operation_square_trigo' &&\n      racineCarre.getInputTargetBlock('op2')?.getFieldValue('op') ===\n        'racine' &&\n      racineCarre\n        .getInputTargetBlock('op2')\n        ?.getInputTargetBlock('value')\n        ?.getFieldValue('NUM') === value\n    ) {\n      feedback += 'Propriété: bloc racine carré correct à droite<br>'\n    } else {\n      feedback += 'Propriété: bloc racine carré incorrect à droite<br>'\n      result = false\n    }\n    return [result, feedback]\n  }\n}\n\nfunction retrieveWorkspace(name: string) {\n  const workspacesAll = Blockly.Workspace.getAll()\n  for (let k = 0; k < workspacesAll.length; k++) {\n    const ws = workspacesAll[k] as Blockly.Workspace & { idkey?: string }\n    if (ws.idkey && ws.idkey.startsWith(name)) {\n      return ws\n    }\n  }\n  return null\n}\n"],"names":["init","Blockly.Blocks","Blockly.FieldLabelSerializable","Blockly.FieldDropdown","Blockly.FieldTextInput","titre","interactifReady","interactifType","uuid","refs","Blockly.setLocale","En","Pythagore2DBlockly","Exercice","__publicField","i","result","spanResultat","divFeedback","feedback","workspaceExisting","retrieveWorkspace","start","demo","condition","longueurBC","longueurAB","longueurAC","nomDuPolygone","prop","egalitePyt","_a","_b","_d","_c","_f","_e","_g","_h","_i","_k","_j","_m","_l","_p","_o","_n","_s","_r","_q","_v","_u","_t","_w","_y","_x","_A","_z","_D","_C","_B","_G","_F","_E","_J","_I","_H","racineCarre","resu","feed","conclusion","equalOrApprox","nomLongueur","longueurCherche","stringNombre","op1","op2","valBlock","numeroExercice","listeTypeDeQuestions","listeDeNomsDePolygones","combinaisonListesSansChangerOrdre","texte","texteCorr","cpt","A1","point","B1","randint","C1","similitude","longueur","p1","polygone","p2","rotation","A","B","C","codage","codageAngleDroit","xmin","ymin","xmax","ymax","nomme","nommePolygone","affAB","afficheLongueurSegment","affAC","affBC","mesObjetsATracer","mathalea2d","redaction","RedactionPythagore","context","ajouteFeedback","key","listeQuestionsToContenu","that","createAllBlockly","nbQ","numExercice","k","createBlockly","questId","listeTypeDeQuestion","toolbox","secondaryArea","secondaryDiv","secondaryWorkspace","Blockly.inject","solution1","blocklypyt","egalitePytagore","egalitePytagoreMoins","egalitePytagoreCalcul1","egalitePytagoreCalcul2","egalitePytagoreCalcul3","egalitePytagoreCalcul4","Blockly.serialization","onresize2","element","x","y","nb","Blockly.svgResize","blocklyArea","blocklyDiv","demoWorkspace","onresize","value","nom","name","workspacesAll","Blockly.Workspace","ws"],"mappings":"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"}