{"version":3,"file":"auto6N2B-2-BuCc-Ow7.js","sources":["../../src/exercices/6e/auto6N2B-2.ts"],"sourcesContent":["import { choice } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport {\n  barre3d,\n  plaque3d,\n} from '../../lib/3d/3dProjectionMathalea2d/BarreEtPlaque3dPerspectiveCavaliere'\nimport { cube3d } from '../../lib/3d/3dProjectionMathalea2d/Cube3dPerspectiveCavaliere'\nimport { paveLPH3d } from '../../lib/3d/3dProjectionMathalea2d/PaveEtPaveLPH3dPerspectiveCavaliere'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { arrondi } from '../../lib/outils/nombres'\n\nexport const titre =\n  'Recomposer un nombre décimal représenté par des fractions du cube unité'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\nexport const dateDeModifImportante = '13/12/2023'\n\nexport const uuid = '63f03'\n\nexport const refs = {\n  'fr-fr': ['auto6N2B-2'],\n  'fr-2016': ['6N23-7'],\n  'fr-ch': ['9NO10-8'],\n}\n/**\n * Exercice de recomposition décimale avec des solides 3D\n * @author Jean-Claude Lhote et Eric Elter\n */\nexport default class RecompositionDecimale extends Exercice {\n  constructor() {\n    super()\n\n    this.nbQuestions = 1 // Ici le nombre de questions\n    this.spacingCorr = 3\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = true\n  }\n\n  nouvelleVersion() {\n    context.anglePerspective = 30\n    context.coeffPerspective = 0.5\n    const cubeUnite = paveLPH3d(0, 0, 0, 0.6, 10, 10, 10, 'black')\n    const reponses = []\n    this.consigne =\n      'Voici un cube représentant une unité, une plaque représentant $\\\\dfrac{1}{10}$, une barre représentant $\\\\dfrac{1}{100}$ et un petit cube représentant $\\\\dfrac{1}{1000}$.<br>'\n    let objets = []\n    objets.push(\n      ...cubeUnite.c2d,\n      ...plaque3d(9, 0, 0, 0.5, 10, 10).c2d,\n      ...barre3d(9, 0, 3, 0.5, 10).c2d,\n      ...cube3d(12, 0, 5, 0.5).c2d,\n    )\n    this.introduction = mathalea2d(\n      Object.assign({ scale: 0.5 }, fixeBordures(objets)),\n      objets,\n    )\n    for (\n      let q = 0, cpt = 0, e, d, c, m, texte, texteCorr, xDecal;\n      q < this.nbQuestions && cpt < 50;\n    ) {\n      do {\n        e = choice([0, 1])\n        d = choice([0, randint(0, 5), randint(0, 7)])\n        c = choice([0, randint(0, 5), randint(5, 9)])\n        m = randint(0, 9)\n      } while (e + d + c + m === 0)\n\n      xDecal = 0\n\n      texteCorr = ''\n      texte =\n        'Quel est le nombre décimal représenté par cet ensemble de solides ?<br>'\n      objets = []\n      if (e === 1) {\n        objets.push(...cubeUnite.c2d)\n        xDecal += 7\n      }\n      if (d !== 0) {\n        for (let i = 0; i < d; i++) {\n          objets.push(...plaque3d(xDecal, 0, i * 0.6, 0.5, 10, 10, 'black').c2d)\n        }\n        xDecal += 6.5\n      }\n      if (c !== 0) {\n        for (let i = c - 1; i >= 0; i--) {\n          objets.push(...barre3d(xDecal, i * 0.75, 0, 0.5, 10, 'black').c2d)\n        }\n        xDecal += 6 + c * 0.2\n      }\n      if (m !== 0) {\n        for (let i = 0; i < m; i++) {\n          objets.push(...cube3d(xDecal + i * 0.8, 0, 0, 0.5, 'black').c2d)\n        }\n      }\n      xDecal += m * 0.8\n      if (objets.length !== 0) {\n        texte += mathalea2d(\n          Object.assign({ scale: 0.5 }, fixeBordures(objets)),\n          objets,\n        )\n      }\n\n      if (!context.isAmc)\n        texte += ajouteChampTexteMathLive(this, q, KeyboardType.clavierNumbers)\n\n      if (this.correctionDetaillee) {\n        if (e === 1) texteCorr += 'Il y a 1 cube unité.<br>'\n        if (d !== 0) {\n          if (d === 1)\n            texteCorr += 'Il y a 1 plaque représentant $\\\\dfrac{1}{10}$.<br>'\n          else\n            texteCorr += `Il y a ${d} plaques représentant chacune $\\\\dfrac{1}{10}$, soit $\\\\dfrac{${d}}{10}$.<br>`\n        }\n        if (c !== 0) {\n          if (c === 1)\n            texteCorr += 'Il y a 1 barre représentant $\\\\dfrac{1}{100}$.<br>'\n          else\n            texteCorr += `Il y a ${c} barres représentant chacune $\\\\dfrac{1}{100}$, soit $\\\\dfrac{${c}}{100}$.<br>`\n        }\n        if (m !== 0) {\n          if (m === 1)\n            texteCorr +=\n              'Il y a 1 petit cube représentant $\\\\dfrac{1}{1000}$.<br>'\n          else\n            texteCorr += `Il y a ${m} cubes représentant chacun $\\\\dfrac{1}{1000}$, soit $\\\\dfrac{${m}}{1000}$.<br>`\n        }\n        texteCorr += `Le nombre représenté ci-dessus est donc : $${texNombre(e + d / 10 + c / 100 + m / 1000)}$.`\n      } else {\n        texteCorr += 'On compte '\n        if (e === 1) texteCorr += '1 unité, '\n        texteCorr += `$\\\\dfrac{${d}}{10}$, `\n        texteCorr += `$\\\\dfrac{${c}}{100}$ et `\n        texteCorr += `$\\\\dfrac{${m}}{1000}$.<br>Le nombre décimal représenté ci-dessus est le nombre $${texNombre(e + d / 10 + c / 100 + m / 1000)}$.`\n      }\n      // if (reponses.indexOf(e + d / 10 + c / 100 + m / 1000) === -1) {\n      if (this.questionJamaisPosee(q, e, d, c, m)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        reponses[q] = arrondi(e + d / 10 + c / 100 + m / 1000, 3)\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n\n        setReponse(this, q, reponses[q], { digits: 4, decimals: 3 })\n        q++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this) // On envoie l'exercice à la fonction de mise en page\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","RecompositionDecimale","Exercice","context","cubeUnite","paveLPH3d","reponses","objets","plaque3d","barre3d","cube3d","mathalea2d","fixeBordures","q","cpt","e","d","c","m","texte","texteCorr","xDecal","choice","randint","i","ajouteChampTexteMathLive","KeyboardType","texNombre","arrondi","setReponse","listeQuestionsToContenu"],"mappings":"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"}