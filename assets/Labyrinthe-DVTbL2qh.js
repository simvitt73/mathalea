var g=Object.defineProperty;var B=(k,a,u)=>a in k?g(k,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):k[a]=u;var x=(k,a,u)=>B(k,typeof a!="symbol"?a+"":a,u);import{p as r}from"./PointAbstrait-Cz1GEocE.js";import{s as l}from"./segmentsVecteurs-BYbXXoZp.js";import{b as A,g as G,d as I,a as O}from"./textes-Dv2jXPNF.js";import{r as v,ad as D,ac as T}from"./index-BvuGzI-o.js";import{r as $}from"./findPath-_qdi366R.js";class q{constructor({nbLignes:a=3,nbColonnes:u=6,scaleFigure:E=1}={}){x(this,"niveau");x(this,"murs2d");x(this,"chemin2d");x(this,"nombres2d");x(this,"choisitChemin");x(this,"construitMurs");x(this,"traceChemin");x(this,"placeNombres");this.niveau=1,this.murs2d=[],this.chemin2d=[],this.nombres2d=[];const w=[];for(let s=0;s<a;s++)for(let p=0;p<a;p++){const i=$(a,u,s,0,p,u-1);w.push(...i)}w.sort((s,p)=>p.length-s.length);const S=[];w.forEach(s=>{const p=[];s.forEach(i=>{p.push([i.x+1,a-i.y-1])}),S.push(p)});const j=S,P=w;let y=[];const M=P[0].length,N=P[P.length-1].length,V=(M-N)/4;for(let s=0;s<4;s++)y.push(P.findIndex(p=>p.length<M-s*V));y[4]=P.length,y=y.map(s=>s-1),this.choisitChemin=function(s){let p;switch(s){case 1:p=v(0,y[0]);break;case 2:case 3:case 4:case 5:p=v(y[s-2]+1,y[s-1]);break;case 6:p=v(0,P.length-1);break}return typeof p>"u"?(window.notify("choisitChemin(niveau) doit être appelé avec un niveau entre 1 et 6.",{niveau:s}),j[0]):j[p]},this.construitMurs=function(s,p){const i=[];let e,c;const h=s[0][1];for(let t=0;t<u;t++)e=l(r(t*3,1),r(t*3,2)),e.epaisseur=2,i.push(e),c=l(r(t*3,1+3*a),r(t*3,3*a)),c.epaisseur=2,i.push(c);e=l(r(0,1+3*a),r(0,3+h*3)),e.epaisseur=3,i.push(e),e=l(r(0,1),r(0,2+h*3)),e.epaisseur=3,i.push(e),e=l(r(-3,1+h*3),r(0,1+h*3),"green"),e.epaisseur=3,i.push(e),e=l(r(-3,1+h*3),r(-3,4+h*3),"green"),e.epaisseur=3,i.push(e),e=l(r(-3,4+h*3),r(0,4+h*3),"green"),e.epaisseur=3,i.push(e),i.push(A("Départ",r(-1.5,2.5+h*3),0,"blue",p,"milieu",!1));for(let t=1;t<u;t++)for(let m=0;m<a-1;m++)e=l(r(t*3,5+3*m),r(t*3,3+3*m),"black"),e.epaisseur=2,c=l(r(t*3-.5,4+3*m),r(t*3+.5,4+3*m),"black"),c.epaisseur=2,i.push(c,e);e=l(r(0,1+3*a),r(3*u,1+3*a)),e.epaisseur=3,i.push(e),e=l(r(3*u,1+3*a-1),r(3*u,1+3*a)),e.epaisseur=3,i.push(e),e=l(r(3*u,1),r(3*u,2)),e.epaisseur=3,i.push(e),e=l(r(0,1),r(3*u,1)),e.epaisseur=3,i.push(e);for(let t=0;t<a-1;t++)e=l(r(3*u,3+t*3),r(3*u,5+t*3)),e.epaisseur=3,i.push(e);for(let t=0;t<a;t++)e=l(r(3*u,2+t*3),r(3*u+2,2+t*3)),e.epaisseur=3,c=l(r(3*u,3+t*3),r(3*u+2,3+t*3)),c.epaisseur=3,i.push(e,c);for(let t=1;t<=a;t++)i.push(A(`Sortie ${t}`,r(3*u+1.5,2.5+3*a-3*t),0,"blue",p,"milieu",!1));return i},this.traceChemin=function(s,p="brown"){let i=s[0][1],e=0;const c=[];let h;for(let t=0;t<s.length;t++)h=l(r(e*3-1.5,i*3+2.5),r(s[t][0]*3-1.5,s[t][1]*3+2.5),p),h.pointilles=5,h.stylePointilles=2,h.epaisseur=5,h.opacite=.3,c.push(h),e=s[t][0],i=s[t][1];return h=l(r(e*3-1.5,i*3+2.5),r(e*3+1.5,i*3+2.5),p),h.pointilles=5,h.stylePointilles=2,h.epaisseur=5,h.opacite=.3,c.push(h),c},this.placeNombres=function(s,p,i,e){p=D(p,s.length),i=D(i,u*a-s.length);const c=[],h=[];let t,m=0,z=0;for(let f=0;f<u;f++)h.push([0,0]);for(let f=1;f<u+1;f++)for(let o=0;o<a;o++){t=!1;for(let d=0;d<s.length;d++)s[d][0]===f&&s[d][1]===o&&(t=!0);t?(h[f-1][o]=p[m],m++):(h[f-1][o]=i[z],z++)}for(let f=1;f<u+1;f++)for(let o=0;o<a;o++){const d=h[f-1][o];typeof d=="number"?c.push(G(T(d),r(-1.5+f*3,2.5+o*3),0,"black",e,"milieu",!0,E)):typeof d=="string"?c.push(I(d,-1.5+f*3,2.5+o*3,0,"black",e,"milieu",!0,E)):c.push(O(d.texFraction,-1.5+f*3,2.5+o*3,{color:"black",backgroundColor:"white",letterSize:"scriptsize"}))}return c}}}function W({nbLignes:k=3,nbColonnes:a=6,scaleFigure:u=1}={}){return new q({nbLignes:k,nbColonnes:a,scaleFigure:u})}export{W as l};
//# sourceMappingURL=Labyrinthe-DVTbL2qh.js.map
