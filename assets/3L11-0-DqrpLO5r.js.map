{"version":3,"file":"3L11-0-DqrpLO5r.js","sources":["../../src/exercices/3e/3L11-0.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  ecritureParentheseSiMoins,\n  ecritureParentheseSiNegatif,\n  reduirePolynomeDegre3,\n  rienSi1,\n  simpleDeveloppement,\n  simpleDeveloppementAvecDoubleX,\n} from '../../lib/outils/ecritures'\n\nexport const titre = 'Effectuer la simple distributivité'\nexport const dateDePublication = '03/02/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcType = 'AMCHybride'\nexport const amcReady = true\n\n/**\n * Développer des expressions de la forme (ax+b)c ou (ax+b)c ou (ax+b)cx ou cx(ax+b) avec a, b, c relatifs et paramétrables ainsi que x\n * @author Eric Elter (modifié par Rémi Angot 10/10/2025 pour utiliser combinaisonListes)\n */\nexport const uuid = 'f61d9'\n\nexport const refs = {\n  'fr-fr': ['3L11-0'],\n  'fr-ch': ['10FA2-4', '11FA2-16', '1mCL1-1'],\n}\n\nexport default class SimpleDistributivite extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      \"Type d'expressions\",\n      'Nombres séparés par des tirets :\\n1 : c(ax+b)\\n2 : (ax+b)*c\\n3 : cx(ax+b) \\n4 : (ax+b)*cx\\n5 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Signe de $a$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Signe de $b$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Signe de $c$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire5CaseACocher = [\n      'Uniquement avec la variable $x$',\n      false,\n    ]\n    this.sup = 5\n    this.sup2 = 3\n    this.sup3 = 3\n    this.sup4 = 3\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 4\n\n    this.listeAvecNumerotation = false\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Développer et réduire les expressions suivantes.'\n        : \"Développer et réduire l'expression suivante.\"\n\n    const typesDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n    })\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    \n    let signesa: (-1 | 1)[] = []\n    if (this.sup2 === 1) {\n      signesa = Array.from({ length: this.nbQuestions }, () => 1)\n    } else if (this.sup2 === 2) {\n      signesa = Array.from({ length: this.nbQuestions }, () => -1)\n    } else {\n      signesa = combinaisonListes([-1, 1], this.nbQuestions)\n    }\n    let signesb: (-1 | 1)[] = []\n    if (this.sup3 === 1) {\n      signesb = Array.from({ length: this.nbQuestions }, () => 1)\n    } else if (this.sup3 === 2) {\n      signesb = Array.from({ length: this.nbQuestions }, () => -1)\n    } else {\n      signesb = combinaisonListes([-1, 1], this.nbQuestions)\n    }\n    let signesc: (-1 | 1)[] = []\n    if (this.sup4 === 1) {\n      signesc = Array.from({ length: this.nbQuestions }, () => 1)\n    } else if (this.sup4 === 2) {\n      signesc = Array.from({ length: this.nbQuestions }, () => -1)\n    } else {\n      signesc = combinaisonListes([-1, 1], this.nbQuestions)\n    }\n    \n    for (\n      let i = 0, reponse, cpt = 0, a, b, c;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      a = randint(1, 9) * signesa[i]\n      b = randint(1, 9) * signesb[i]\n      c = randint(2, 9) * signesc[i]\n      let reponse1 = 0\n      let reponse2 = 0\n      let texteCorr = ''\n      let texte = ''\n      const variable = this.sup5\n        ? 'x'\n        : choice(['x', 'y', 'z', 'a', 'b', 'c', 'n', 'k'])\n      texte = `$${lettreDepuisChiffre(i + 1)} = `\n      const typeDeQuestions = parseInt(listeTypeDeQuestions[i].toString())\n      switch (typeDeQuestions) {\n        case 1:\n          texte += `${c} (${reduirePolynomeDegre3(0, 0, a, b, variable)})$`\n          break\n        case 2:\n          texte += `(${reduirePolynomeDegre3(0, 0, a, b, variable)})\\\\times ${ecritureParentheseSiNegatif(c)} $`\n          break\n        case 3:\n          texte += `${c}${variable} (${reduirePolynomeDegre3(0, 0, a, b, variable)})$`\n          break\n        default:\n          texte += `(${reduirePolynomeDegre3(0, 0, a, b, variable)}) \\\\times ${ecritureParentheseSiMoins(rienSi1(c) + variable)} $`\n          break\n      }\n      texteCorr = texte.slice(0, -1)\n      reponse1 = a * c\n      reponse2 = b * c\n      if (typeDeQuestions < 3) {\n        texteCorr += `= ${simpleDeveloppement({ a, b, c, x: variable, sommeAGauche: typeDeQuestions === 2 })[0]}`\n        texteCorr += `= ${simpleDeveloppement({ a, b, c, x: variable, sommeAGauche: typeDeQuestions === 2 })[1]}`\n        reponse = reduirePolynomeDegre3(0, 0, reponse1, reponse2, variable)\n      } else {\n        texteCorr += `= ${simpleDeveloppementAvecDoubleX({ a, b, c, x: variable, sommeAGauche: typeDeQuestions === 4 })[0]}`\n        texteCorr += `= ${simpleDeveloppementAvecDoubleX({ a, b, c, x: variable, sommeAGauche: typeDeQuestions === 4 })[1]}`\n        reponse = reduirePolynomeDegre3(0, reponse1, reponse2, 0, variable)\n      }\n      texteCorr += reponse2 > 0 ? '$' : `=${reponse}$`\n\n      // On enlève la première égalité pour ne pas avoir A = A en première ligne\n      texteCorr = texteCorr.slice(4)\n      // On découpe\n      const etapes = texteCorr.split('=')\n      texteCorr = ''\n      for (const etape of etapes) {\n        const etapeModifiee = etape.replace('$', '')\n        texteCorr +=\n          etapeModifiee === lettreDepuisChiffre(i + 1)\n            ? ''\n            : `$${lettreDepuisChiffre(i + 1)} = ${etapeModifiee}$ <br>`\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += `${textCorrSplit[ee]}=`\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      handleAnswers(this, i, {\n        reponse: {\n          value: reponse,\n          options: { expressionsForcementReduites: true },\n        },\n      })\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecVariable,\n        { texteAvant: ' $=$' },\n      )\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: '',\n          enonceAvant: false,\n          options: { multicols: true, barreseparation: true },\n          propositions: [\n            {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: texteCorr,\n                  enonce: `${texte}<br>`,\n                  statut: 4,\n                },\n              ],\n            },\n          ],\n        }\n        if (typeDeQuestions < 3) {\n          this.autoCorrection[i].propositions?.push(\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $a$ dans $ax+b$',\n                    valeur: reponse1,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $b$ dans $ax+b$',\n                    valeur: reponse2,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          )\n        } else {\n          this.autoCorrection[i].propositions?.push(\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $a$ dans $ax^2+bx$',\n                    valeur: reponse1,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $b$ dans $ax^2+bx$',\n                    valeur: reponse2,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          )\n        }\n      }\n      if (this.questionJamaisPosee(i, a, b, c)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcType","amcReady","uuid","refs","SimpleDistributivite","Exercice","typesDeQuestionsDisponibles","gestionnaireFormulaireTexte","listeTypeDeQuestions","combinaisonListes","signesa","signesb","signesc","i","reponse","cpt","a","b","c","randint","reponse1","reponse2","texteCorr","texte","variable","choice","lettreDepuisChiffre","typeDeQuestions","reduirePolynomeDegre3","ecritureParentheseSiNegatif","ecritureParentheseSiMoins","rienSi1","simpleDeveloppement","simpleDeveloppementAvecDoubleX","etapes","etape","etapeModifiee","textCorrSplit","aRemplacer","ee","miseEnEvidence","handleAnswers","ajouteChampTexteMathLive","KeyboardType","context","_a","_b","listeQuestionsToContenuSansNumero"],"mappings":"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"}