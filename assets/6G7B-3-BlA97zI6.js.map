{"version":3,"file":"6G7B-3-BlA97zI6.js","sources":["../../src/exercices/6e/6G7B-3.ts"],"sourcesContent":["import { cibleCarree, dansLaCibleCarree } from '../../lib/2d/cibles'\nimport { codageMediatrice } from '../../lib/2d/CodageMediatrice'\nimport { distancePointDroite, droite } from '../../lib/2d/droites'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { traceCompas } from '../../lib/2d/traceCompas'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport {\n  homothetie,\n  symetrieAxiale,\n  translation,\n} from '../../lib/2d/transformations'\nimport { longueur } from '../../lib/2d/utilitairesGeometriques'\nimport { arcenciel } from '../../lib/format/style'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre =\n  \"Construire le symétrique d'un point avec cible auto-corrective\"\n\n/**\n * Construction de symétrique avec dispositif d'auto-correction aléatoire\n * Ref 6G24-3\n * @author Jean-Claude Lhote\n * Publié le 30/11/2020\n */\nexport const uuid = '60e16'\n\nexport const refs = {\n  'fr-fr': ['6G7B-3'],\n  'fr-2016': ['6G24-3'],\n  'fr-ch': ['9ES6-14'],\n}\nexport default class ConstruireSymetriquePoint6e extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n    this.besoinFormulaireNumerique = ['Nombre de points (1 à 5)', 5]\n    // this.besoinFormulaire2CaseACocher = [\"Avec des points de part et d'autre\"];\n    this.sup = 3\n  }\n\n  nouvelleVersion() {\n    let result = [0, 0]\n    let texteCorr = ''\n    const nbpoints = parseInt(this.sup)\n    let nontrouve\n    let assezloin\n    let cible\n    const celluleAlea = function (rang: number) {\n      const lettre = lettreDepuisChiffre(randint(1, rang))\n      const chiffre = Number(randint(1, rang)).toString()\n      return lettre + chiffre\n    }\n    // On prépare la figure...\n    const a = randint(-10, 10)\n    const b = randint(-10, 10, a)\n    const d = droite(a, b, 0, '(d)')\n    const A = translation(\n      point(0, 0),\n      homothetie(d.directeur, point(0, 0), -0.5),\n    )\n    const B = translation(\n      point(0, 0),\n      homothetie(d.directeur, point(0, 0), 0.5),\n    )\n    const marks = ['/', '//', '///', 'x', 'o', 'S', 'V']\n    const noms = choisitLettresDifferentes(nbpoints, 'Q', true)\n    this.consigne = `Construire le symétrique des points $${noms[0]}$`\n    for (let i = 1; i < nbpoints - 1; i++) {\n      this.consigne += `, $${noms[i]}$`\n    }\n    this.consigne += ` et $${noms[nbpoints - 1]}$ par rapport à $(d)$.`\n    const cibles = []\n    const M = []\n    const N = []\n    const objetsEnonce = []\n    const objetsCorrection = [] // cibles, M point marqués, N symétrique de M\n    const cellules = []\n    let xMin, yMin, xMax, yMax\n    ;[xMin, yMin, xMax, yMax] = [0, 0, 0, 0]\n    for (let i = 0; i < nbpoints; i++) {\n      // On place les cibles.\n      N.push(\n        point(\n          arrondi(randint(-80, 80, 0) / 10),\n          arrondi(randint(-80, 80, 0) / 10),\n          noms[i] + \"'\",\n        ),\n      )\n      nontrouve = true\n      while (distancePointDroite(N[i], d) < 3 || nontrouve) {\n        nontrouve = true\n        if (distancePointDroite(N[i], d) < 3) {\n          N[i].x = arrondi(randint(-80, 80, 0) / 10)\n          N[i].y = arrondi(randint(-80, 80, 0) / 10)\n        } else {\n          assezloin = true\n          for (let j = 0; j < i; j++) {\n            if (longueur(N[i], N[j]) < 4.5) assezloin = false\n          }\n          if (assezloin === false) {\n            // éloigner les points donc les grilles\n            N[i].x = arrondi(randint(-80, 80, 0) / 10)\n            N[i].y = arrondi(randint(-80, 80, 0) / 10)\n          } else nontrouve = false\n        }\n      }\n    }\n\n    objetsEnonce.push(d)\n    objetsCorrection.push(d, tracePoint(A, B))\n\n    for (let i = 0; i < nbpoints; i++) {\n      cellules.push(celluleAlea(4))\n      result = dansLaCibleCarree(N[i].x, N[i].y, 4, 0.6, cellules[i])\n      cible = cibleCarree({\n        x: result[0],\n        y: result[1],\n        rang: 4,\n        num: i + 1,\n        taille: 0.6,\n        color: '#f15929',\n      })\n      cible.taille = 0.6\n      cible.opacite = 0.7\n      cibles.push(cible)\n    }\n    for (let i = 0; i < nbpoints; i++) {\n      M.push(symetrieAxiale(N[i], d, noms[i]))\n      objetsEnonce.push(tracePoint(M[i]), labelPoint(M[i]), cibles[i])\n      objetsCorrection.push(\n        tracePoint(M[i], N[i]),\n        labelPoint(M[i], N[i]),\n        cibles[i],\n      )\n      objetsCorrection.push(\n        segment(M[i], N[i], arcenciel(i)),\n        codageMediatrice(M[i], N[i], arcenciel(i + 5), marks[i]),\n      )\n      objetsCorrection.push(traceCompas(A, N[i], 20), traceCompas(B, N[i], 20))\n      texteCorr += `$${noms[i]}'$, le symétrique du point $${noms[i]}$ est dans la case ${cellules[i]} de la grille ${i + 1}.<br>`\n    }\n\n    for (let i = 0; i < nbpoints; i++) {\n      xMin = Math.min(xMin, N[i].x - 3, M[i].x - 3)\n      yMin = Math.min(yMin, N[i].y - 3, M[i].y - 3)\n      xMax = Math.max(xMax, N[i].x + 3, M[i].x + 3)\n      yMax = Math.max(yMax, N[i].y + 3, M[i].y + 3)\n    }\n\n    context.fenetreMathalea2d = [xMin, yMin, xMax, yMax]\n\n    this.listeQuestions.push(\n      mathalea2d(\n        {\n          xmin: xMin,\n          ymin: yMin,\n          xmax: xMax,\n          ymax: yMax,\n          pixelsParCm: 20,\n          scale: 0.7,\n        },\n        objetsEnonce,\n      ),\n    )\n    this.listeCorrections.push(\n      texteCorr +\n        mathalea2d(\n          {\n            xmin: xMin,\n            ymin: yMin,\n            xmax: xMax,\n            ymax: yMax,\n            pixelsParCm: 20,\n            scale: 0.7,\n          },\n          objetsCorrection,\n        ),\n    )\n    listeQuestionsToContenu(this)\n\n    //  let nonchoisi,coords=[],x,y,objetsEnonce=[],objetsCorrection=[],nomd,label_pos\n  }\n}\n"],"names":["titre","uuid","refs","ConstruireSymetriquePoint6e","Exercice","result","texteCorr","nbpoints","nontrouve","assezloin","cible","celluleAlea","rang","lettre","lettreDepuisChiffre","randint","chiffre","a","b","d","droite","A","translation","point","homothetie","B","marks","noms","choisitLettresDifferentes","i","cibles","M","N","objetsEnonce","objetsCorrection","cellules","xMin","yMin","xMax","yMax","arrondi","distancePointDroite","j","longueur","tracePoint","dansLaCibleCarree","cibleCarree","symetrieAxiale","labelPoint","segment","arcenciel","codageMediatrice","traceCompas","context","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}