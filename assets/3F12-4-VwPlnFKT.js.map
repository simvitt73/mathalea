{"version":3,"file":"3F12-4-VwPlnFKT.js","sources":["../../src/exercices/3e/3F12-4.ts"],"sourcesContent":["import { courbe } from '../../lib/2d/Courbe'\nimport { repere } from '../../lib/2d/reperes'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { chercheMinMaxFonction } from '../../lib/mathFonctions/etudeFonction'\nimport {\n  resolutionSystemeLineaire2x2,\n  resolutionSystemeLineaire3x3,\n} from '../../lib/mathFonctions/outilsMaths'\nimport {\n  abs,\n  nombreDeChiffresDansLaPartieEntiere,\n} from '../../lib/outils/nombres'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Lire l'image d'un nombre à partir d'un graphique\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * Un graphique étant tracé, déterminer l'image de nombres donnés.\n * La fonction est un polynôme de degré 1, 2 ou 3 et les nombres des questions ne sont que des entiers.\n *\n * @author Rémi Angot\n * 3F12-4\n */\nexport const uuid = 'b8946'\n\nexport const refs = {\n  'fr-fr': ['3F12-4'],\n  'fr-ch': ['11FA7-3', '1mF1-3'],\n}\nexport default class ImageGraphique extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de fonction',\n      3,\n      '1 : Affine\\n2 : Polynôme du 2nd degré\\n3 : Polynôme du 3e degré',\n    ]\n\n    this.sup = 3\n\n    context.isHtml ? (this.spacingCorr = 3) : (this.spacingCorr = 1)\n    this.nbQuestions = 1\n    this.pointsParQuestions = 3\n    // this.nbQuestionsModifiable = false\n  }\n\n  nouvelleVersion() {\n    let a = 0\n    let b = 0\n    let c = 0\n    let d = 0\n    let x1 = 0\n    let x2 = 0\n    let x3 = 0\n    let fx1 = 0\n    let fx2 = 0\n    let fx3 = 0\n    let ymax = 0\n    let f: (x: number) => number\n\n    function initialiseVariables() {\n      x1 = randint(-6, -3)\n      x2 = randint(x1 + 3, 2)\n      x3 = randint(x2 + 2, 8)\n      fx1 = randint(-5, 5)\n      fx2 = randint(-6, 6)\n      fx3 = randint(-5, 5)\n      d = randint(-5, 5)\n      c = randint(-5, 5)\n      ymax = 7\n    }\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      initialiseVariables()\n\n      texte =\n        'On a tracé ci-dessous la courbe représentative de la fonction $f$.<br>'\n      texteCorr = ''\n      const r = repere({ xMin: -7, xMax: 9, yMin: -7, yMax: 7 })\n      f = (x) => 0\n      if (this.sup === 1) {\n        a = (fx2 - fx1) / (x2 - x1)\n        b = a * x1 - fx1\n        f = (x: number): number => a * x - b\n\n        texte += `Déterminer par lecture graphique les images respectives de $${x1}$ et de $${x2}$ par cette fonction $f$.<br>`\n        texteCorr = `L'image de $${x1}$ est $${fx1}$, on note $f(${x1})=${fx1}$.<br>`\n        texteCorr += `L'image de $${x2}$ est $${fx2}$, on note $f(${x2})=${fx2}$.`\n      }\n\n      if (this.sup === 2) {\n        x1 = randint(-6, -3)\n        x3 = randint(1, 6)\n        fx1 = randint(-5, 5)\n        fx3 = randint(-6, 6, c)\n        ;[a, b] = resolutionSystemeLineaire2x2(x1, x3, fx1, fx3, c)\n        while (Number.isNaN(a) || Number.isNaN(b) || a === 0) {\n          x1 = randint(-6, -3)\n          x3 = randint(1, 6)\n          fx1 = randint(-5, 5)\n          fx3 = randint(-6, 6, c)\n          ;[a, b] = resolutionSystemeLineaire2x2(x1, x3, fx1, fx3, c)\n        }\n        x2 = 0\n        fx2 = c\n\n        f = (x) => a * x ** 2 + b * x + c\n      }\n\n      if (this.sup === 3) {\n        let a1: Number, b1: Number, c1: Number\n        ;[a1, b1, c1] = resolutionSystemeLineaire3x3(\n          x1,\n          x2,\n          x3,\n          fx1,\n          fx2,\n          fx3,\n          d,\n        )\n        a = a1.valueOf()\n        b = b1.valueOf()\n        c = c1.valueOf()\n        let [extremum1, extremum2] = chercheMinMaxFonction([a, b, c, d])\n        while (\n          Number.isNaN(a) ||\n          Number.isNaN(b) ||\n          Number.isNaN(c) ||\n          a === 0 ||\n          abs(extremum1[1]) > ymax ||\n          abs(extremum2[1]) > ymax\n        ) {\n          initialiseVariables()\n          ;[a1, b1, c1] = resolutionSystemeLineaire3x3(\n            x1,\n            x2,\n            x3,\n            fx1,\n            fx2,\n            fx3,\n            d,\n          )\n          a = a1.valueOf()\n          b = b1.valueOf()\n          c = c1.valueOf()\n          if (chercheMinMaxFonction([a, b, c, d]).length === 0) {\n            ;[extremum1, extremum2] = [\n              [0, 999],\n              [0, 999],\n            ]\n          } else {\n            ;[extremum1, extremum2] = chercheMinMaxFonction([a, b, c, d])\n          }\n        }\n        f = (x) => a * x ** 3 + b * x ** 2 + c * x + d\n      }\n\n      if (this.sup === 2 || this.sup === 3) {\n        texte += `Déterminer par lecture graphique les images respectives de $${x1}$, de $${x2}$ et de $${x3}$ par cette fonction $f$.<br>`\n        texteCorr = `L'image de $${x1}$ est $${fx1}$, on note $f(${x1})=${fx1}$.<br>`\n        texteCorr += `L'image de $${x2}$ est $${fx2}$, on note $f(${x2})=${fx2}$.<br>`\n        texteCorr += `L'image de $${x3}$ est $${fx3}$, on note $f(${x3})=${fx3}$.<br>`\n      }\n\n      const C = courbe(f, { repere: r, step: 0.25 })\n      texte += mathalea2d(\n        { xmin: -7.5, xmax: 9.5, ymin: -7.5, ymax: 7.5, scale: 0.6 },\n        r,\n        C,\n      )\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte + '<br>',\n          options: {\n            multicols: true,\n            barreseparation: true,\n            numerotationEnonce: true,\n          },\n          propositions: [\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: `L'image de $${x1}$ est $${fx1}$, on note $f(${x1})=${fx1}$.\\\\\\\\`,\n                  statut: '',\n                  reponse: {\n                    texte: numAlpha(0) + `$f(${x1})$`,\n                    valeur: fx1,\n                    param: {\n                      digits: nombreDeChiffresDansLaPartieEntiere(fx1),\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: `L'image de $${x2}$ est $${fx2}$, on note $f(${x2})=${fx2}$.\\\\\\\\`,\n                  statut: '',\n                  reponse: {\n                    texte: numAlpha(1) + `$f(${x2})$`,\n                    valeur: fx2,\n                    param: {\n                      digits: nombreDeChiffresDansLaPartieEntiere(fx2),\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        }\n        if (this.sup !== 1) {\n          this.autoCorrection[i].propositions?.push({\n            type: 'AMCNum',\n            propositions: [\n              {\n                texte: `L'image de $${x3}$ est $${fx3}$, on note $f(${x3})=${fx3}$.\\\\\\\\`,\n                statut: '',\n                reponse: {\n                  texte: numAlpha(2) + `$f(${x3})$`,\n                  valeur: fx3,\n                  param: {\n                    digits: nombreDeChiffresDansLaPartieEntiere(fx3),\n                    decimals: 0,\n                    signe: true,\n                    approx: 0,\n                  },\n                },\n              },\n            ],\n          })\n        }\n      } else if (this.interactif) {\n        if (this.sup === 1) {\n          texte += `$f(${x1})=$` + ajouteChampTexteMathLive(this, 2 * i, ' ')\n          texte +=\n            `<br><br>$f(${x2})=$` +\n            ajouteChampTexteMathLive(this, 2 * i + 1, ' ')\n          setReponse(this, 2 * i, fx1)\n          setReponse(this, 2 * i + 1, fx2)\n        } else {\n          texte += `$f(${x1})=$` + ajouteChampTexteMathLive(this, 3 * i, ' ')\n          texte +=\n            `<br><br>$f(${x2})=$` +\n            ajouteChampTexteMathLive(this, 3 * i + 1, ' ')\n          texte +=\n            `<br><br>$f(${x3})=$` +\n            ajouteChampTexteMathLive(this, 3 * i + 2, ' ')\n          setReponse(this, 3 * i, fx1)\n          setReponse(this, 3 * i + 1, fx2)\n          setReponse(this, 3 * i + 2, fx3)\n        }\n      }\n      if (this.questionJamaisPosee(i, a, b, c, d)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","ImageGraphique","Exercice","context","a","b","c","d","x1","x2","x3","fx1","fx2","fx3","ymax","f","initialiseVariables","randint","i","texte","texteCorr","cpt","r","repere","x","resolutionSystemeLineaire2x2","a1","b1","c1","resolutionSystemeLineaire3x3","extremum1","extremum2","chercheMinMaxFonction","abs","C","courbe","mathalea2d","numAlpha","nombreDeChiffresDansLaPartieEntiere","_a","ajouteChampTexteMathLive","setReponse","listeQuestionsToContenu"],"mappings":"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"}