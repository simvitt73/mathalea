{"version":3,"file":"canCE1-2025-Q18-CKOBAN87.js","sources":["../../src/exercices/can/canCE1a-2025/canCE1-2025-Q18.ts"],"sourcesContent":["import type { MathfieldElement } from 'mathlive'\nimport { fixeBordures } from '../../../lib/2d/fixeBordures'\nimport Horloge from '../../../lib/2d/horloge'\nimport { handleAnswers } from '../../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport Hms from '../../../modules/Hms'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { randint } from '../../../modules/outils'\nimport Exercice from '../../Exercice'\nexport const titre = 'Lire une heure sur une horloge'\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const uuid = '0e237'\nexport const refs = {\n  'fr-fr': [],\n  'fr-ch': ['NR'],\n}\n\n/**\n * @author Gilles Mora\n\n*/\n\nexport default class Can2025CE1Q18 extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.canOfficielle = true\n    this.besoinFormulaireCaseACocher = ['CAN Officielle', true]\n    this.nbQuestionsModifiable = false\n  }\n\n  nouvelleVersion() {\n    let texte = ''\n    let texteCorr = ''\n    const hour = this.canOfficielle ? 13 : randint(13, 22)\n    const minute = this.canOfficielle ? 30 : randint(1, 11) * 5\n    const horloge2 = new Horloge(0, 0, 2, new Hms({ hour: hour % 12, minute }))\n    const horloge = new Horloge(0, 0, 2)\n    const objets = horloge.objets ?? []\n    texte = mathalea2d(\n      Object.assign(\n        { scale: 0.7, style: 'margin: auto; display: block' },\n        fixeBordures(objets, { rxmin: 0, rxmax: 0, rymin: 0, rymax: 0.5 }),\n      ),\n      horloge,\n    )\n    texte += `Il est $${hour}$ h $${minute}$. `\n    if (this.interactif) {\n      texte +=\n        'La petite aiguille doit Ãªtre entre le ' +\n        ajouteChampTexteMathLive(this, 0) +\n        'et le ' +\n        ajouteChampTexteMathLive(this, 1) +\n        '.<br>'\n      texte +=\n        'La grande aiguille doit Ãªtre sur le ' +\n        ajouteChampTexteMathLive(this, 2) +\n        '.'\n    } else {\n      texte +=\n        'La petite aiguille doit Ãªtre entre le $\\\\ldots$ et le $\\\\ldots$ <br>'\n      texte += 'La grande aiguille doit Ãªtre sur le $\\\\ldots$ '\n    }\n\n    texteCorr =\n      `La petite aiguille doit se situer entre le $${miseEnEvidence(hour - 12)}$ et le $${miseEnEvidence(hour - 11)}$.<br>\n    La grande aiguille doit Ãªtre sur le $${miseEnEvidence(minute / 5)}$.<br>` +\n      mathalea2d(\n        {\n          xmin: -3,\n          ymin: -3,\n          xmax: 3,\n          ymax: 3,\n          scale: 0.7,\n          style: 'margin: auto',\n        },\n        horloge2,\n      )\n    handleAnswers(this, 0, { reponse: { value: String(hour - 12) } })\n    handleAnswers(this, 1, { reponse: { value: String(hour - 11) } })\n    handleAnswers(this, 2, { reponse: { value: String(minute / 5) } })\n    this.question = texte\n    this.correction = texteCorr\n    this.reponse = ''\n    this.canEnonce = `Dessine les deux aiguilles de la pendule pour indiquer $${hour}$ h $${minute}$.`\n    this.canReponseACompleter = mathalea2d(\n      Object.assign(\n        { scale: 0.7, style: 'margin: auto; display: block' },\n        fixeBordures(objets, { rxmin: 0, rxmax: 0, rymin: 0, rymax: 0.5 }),\n      ),\n      horloge,\n    )\n    this.listeQuestions = [texte]\n    this.listeCorrections = [texteCorr]\n  }\n\n  correctionInteractive(i: number) {\n    const champsTexte = []\n    const saisies = []\n    let resultatOK = true\n    for (let k = 0; k < 3; k++) {\n      champsTexte[k] = document.getElementById(\n        `champTexteEx${this.numeroExercice}Q${k}`,\n      ) as MathfieldElement\n      if (champsTexte[k] === null) {\n        window.notify('champsTexte[k] est null', {\n          k,\n          champsTexte,\n          this: this,\n        })\n        return 'KO'\n      }\n      saisies[k] = champsTexte[k].value\n        .replace(',', '.')\n        .replace(/\\((\\+?-?\\d+)\\)/, '$1')\n      resultatOK =\n        resultatOK &&\n        saisies[k] ===\n          (this.autoCorrection[k]?.reponse?.valeur?.reponse?.value ?? '')\n    }\n    const spanResultat = document.querySelector(\n      `#resultatCheckEx${this.numeroExercice}Q${2}`,\n    )\n    if (spanResultat != null) {\n      if (resultatOK) {\n        spanResultat.innerHTML += 'ðŸ˜Ž'\n        return 'OK'\n      }\n      spanResultat.innerHTML += 'â˜¹ï¸'\n      return 'KO'\n    }\n    return 'KO'\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","Can2025CE1Q18","Exercice","texte","texteCorr","hour","randint","minute","horloge2","Horloge","Hms","horloge","objets","mathalea2d","fixeBordures","ajouteChampTexteMathLive","miseEnEvidence","handleAnswers","champsTexte","saisies","resultatOK","k","_d","_c","_b","_a","spanResultat"],"mappings":"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"}