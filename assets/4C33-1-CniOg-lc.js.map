{"version":3,"file":"4C33-1-CniOg-lc.js","sources":["../../src/exercices/4e/4C33-1.ts"],"sourcesContent":["import { texteGras } from '../../lib/format/style'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { eclatePuissance, simpNotPuissance } from '../../lib/outils/puissance'\nimport { context } from '../../modules/context'\n\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\n\nexport const titre = 'Effectuer des calculs avec des puissances'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDeModifImportante = '09/05/2025'\n/**\n * Puissances d'un relatif (1)\n * * L\\'objectif est de travailler le sens des règles de calcul sur les puissances plutôt que les formules magiques\n *\n * Paramétrages possibles :\n * * 1 : produit de puissances de même base\n * * 2 : quotient de puissances de même base\n * * 3 : puissance de puissance\n * * 4 : produit de puissances de même exposant\n * * 5 : quotient de puissances de même exposant\n * * 6 : mélange des quatre autres niveaux\n * @author Sébastien Lozano (Rajout du paramètre 5 par Eric Elter)\n */\nexport const uuid = 'bae57'\n\nexport const refs = {\n  'fr-fr': ['4C33-1'],\n  'fr-ch': ['10NO2-11'],\n}\n// une fonction pour des infos supp sur les exposants\nfunction remarquesPuissances(\n  base: number,\n  baseUtile: number | string,\n  exposant: number,\n) {\n  let sortie = ''\n  if (base < 0 && exposant % 2 === 0) {\n    sortie += '<br>'\n    sortie += `${texteGras('Remarque : ')} Dans ce cas, comme les puissances d'exposant pair de deux nombres opposés sont égales, on peut écrire $${simpNotPuissance(base, exposant)}$ à la place de $${baseUtile}^{${exposant}}$.`\n  }\n  if (base < 0 && exposant % 2 === 1) {\n    sortie += '<br>'\n    sortie += `${texteGras('Remarque : ')} Dans ce cas, comme les puissances d'exposant impair de deux nombres négatifs sont opposées, on pourrait écrire $${simpNotPuissance(base, exposant)}$  à la place de $${baseUtile}^{${exposant}}$.`\n  }\n\n  return sortie\n}\n/**\n * Fonction pour écrire avec deux couleurs la forme éclatée d'un produit de puissances de même exposant\n * @param b1 base1\n * @param b2 base2\n * @param e exposant\n * @param couleur1\n * @param couleur2\n */\nexport function reorganiseProduitPuissance(\n  b1: number | string,\n  b2: number | string,\n  e: number,\n  couleur1: string,\n  couleur2: string,\n) {\n  let str\n  switch (e) {\n    case 0:\n      return '1'\n    case 1:\n      return `\\\\mathbf{\\\\color{${couleur1}}{${b1}}} \\\\times \\\\mathbf{\\\\color{${couleur2}}{${b2}}}`\n    default:\n      str = `\\\\mathbf{(\\\\color{${couleur1}}{${b1}}} \\\\times \\\\mathbf{\\\\color{${couleur2}}{${b2}}}) `\n      for (let i = 1; i < e; i++) {\n        str =\n          str +\n          `\\\\times (\\\\mathbf{\\\\color{${couleur1}}{${b1}}} \\\\times \\\\mathbf{\\\\color{${couleur2}}{${b2}}})`\n      }\n      return str\n  }\n}\n\nexport default class PuissancesDunRelatif1 extends Exercice {\n  classe = 4\n\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Règle à travailler',\n      'Nombres séparés par des tirets :\\n1 : Produit de deux puissances de même base\\n2 : Quotient de deux puissances de même base\\n3 : Puissance de puissances\\n4 : Produit de puissances positives de même exposant\\n5 : Quotient de puissances de même exposant\\n6 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Signe de la mantisse',\n      3,\n      '1 : Positif\\n2 : Négatif\\n3 : Mélange',\n    ]\n    this.consigne = 'Écrire sous la forme $a^n$.'\n    context.isHtml ? (this.spacing = 3) : (this.spacing = 2)\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1)\n    this.nbQuestions = 5\n    this.correctionDetailleeDisponible = true\n    this.sup = '1-2-3-4'\n    this.sup2 = 1\n    this.classe = 4\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 5, // Changé de 4 à 5 pour inclure le nouveau type d'exercice\n      melange: 6, // Changé de 5 à 6 pour correspondre à la nouvelle option de mélange\n      defaut: 6,\n      nbQuestions: this.nbQuestions,\n      shuffle: true,\n    })\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n\n    // pour pouvoir adapter les couleurs en cas de besoin\n    const coul0 = 'green'\n    const coul1 = 'blue'\n\n    for (\n      let i = 0,\n        base0,\n        base1,\n        base,\n        baseUtile,\n        baseUtileBisAMC,\n        exp0,\n        exp1,\n        exp,\n        couleurExp0,\n        couleurExp1,\n        lettre,\n        texte,\n        texteCorr,\n        reponseInteractive,\n        exposantInteractif,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      base = randint(2, 9)\n      base =\n        base * (this.sup2 === 1 ? 1 : this.sup2 === 2 ? -1 : choice([-1, 1])) // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances\n      exp0 = randint(3, 5)\n      exp1 = this.classe === 4 ? randint(2, exp0 - 1) : randint(2, 5, exp0)\n      exp = [exp0, exp1] // on choisit deux exposants différents c'est mieux\n      lettre = lettreDepuisChiffre(i + 1) // on utilise des lettres pour les calculs\n\n      if (base < 0) {\n        baseUtile = '(' + base + ')' // on définit une base avec des parenthèses pour l'affichage du cas negatif\n      } else {\n        baseUtile = base\n      }\n\n      texteCorr = ''\n\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // produit de puissances de même base\n          texte = `$${lettre}=${baseUtile}^{${exp[0]}}\\\\times ${baseUtile}^{${exp[1]}}$`\n\n          // texteCorr += `$${lettre}=${baseUtile}^${exp[0]}\\\\times ${baseUtile}^${exp[1]}$`\n          if (this.correctionDetaillee) {\n            texteCorr += `$${lettre}=${eclatePuissance(\n              baseUtile,\n              exp[0],\n              coul0,\n            )} \\\\times ${eclatePuissance(baseUtile, exp[1], coul1)}$`\n            texteCorr += '<br>'\n            texteCorr += `Il y a donc $\\\\mathbf{\\\\color{${coul0}}{${exp[0]}}~\\\\color{black}{+}~\\\\color{${coul1}}{${exp[1]}}}$ facteurs tous égaux à $${baseUtile}$.`\n            texteCorr += '<br>'\n          }\n          if (base < 0 && (exp[1] + exp[0]) % 2 === 0) {\n            texteCorr += `$${lettre}=${baseUtile}^{${exp[0]}+${exp[1]}} = ${baseUtile}^{${exp[0] + exp[1]}}=${miseEnEvidence(simpNotPuissance(base, exp[1] + exp[0]))}$`\n          } else {\n            texteCorr += `$${lettre}=${baseUtile}^{${exp[0]}+${exp[1]}} = ${miseEnEvidence(`${baseUtile}^{${exp[0] + exp[1]}}`)}$`\n          }\n          texteCorr += remarquesPuissances(base, baseUtile, exp[1] + exp[0])\n          if (base < 0 && (exp[0] + exp[1]) % 2 === 0) {\n            reponseInteractive = [\n              `${baseUtile}^{${exp[1] + exp[0]}}`,\n              `${-base}^{${exp[1] + exp[0]}}`,\n            ]\n            baseUtileBisAMC = -base\n          } else {\n            reponseInteractive = `${baseUtile}^{${exp[1] + exp[0]}}`\n          }\n          exposantInteractif = exp[1] + exp[0]\n          break\n        case 2: // quotient de puissances de même base\n          // Pour que la couleur de la base associée à l'exposant max soit toujours rouge.\n          if (Math.max(exp[0], exp[1]) === exp[0]) {\n            couleurExp0 = coul0\n            couleurExp1 = coul1\n          } else {\n            couleurExp0 = coul1\n            couleurExp1 = coul0\n          }\n\n          texte = `$${lettre}=\\\\dfrac{${baseUtile}^{${exp[0]}}}{${baseUtile}^{${exp[1]}}}$`\n\n          if (this.correctionDetaillee) {\n            texteCorr += `$${lettre}=\\\\dfrac{${eclatePuissance(baseUtile, exp[0], couleurExp0)}}{${eclatePuissance(baseUtile, exp[1], couleurExp1)}}$`\n            texteCorr += '<br>'\n            texteCorr += `Il y a donc $\\\\mathbf{\\\\color{${coul1}}{${Math.min(exp[0], exp[1])}}}$ simplification${Math.min(exp[0], exp[1]) === 1 ? '' : 's'} par $${baseUtile}$ possibles.`\n            texteCorr += '<br>'\n          }\n          if (exp[0] - exp[1] === 0) {\n            if (this.correctionDetaillee) {\n              texteCorr += `$${lettre}=\\\\dfrac{${eclatePuissance(\n                `\\\\cancel{${baseUtile}}`,\n                exp[0],\n                couleurExp0,\n              )}}{${eclatePuissance(\n                `\\\\cancel{${baseUtile}}`,\n                exp[0],\n                couleurExp1,\n              )}}$`\n              texteCorr += '<br>'\n            }\n            texteCorr += `$${lettre}=1$`\n          } else if (exp[0] - exp[1] < 0) {\n            if (this.correctionDetaillee) {\n              texteCorr += `$${lettre}=\\\\dfrac{${eclatePuissance(\n                `\\\\cancel{${baseUtile}}`,\n                exp[0],\n                couleurExp0,\n              )}}{${eclatePuissance(\n                `\\\\cancel{${baseUtile}}`,\n                exp[0],\n                couleurExp1,\n              )}\\\\times${eclatePuissance(\n                baseUtile,\n                exp[1] - exp[0],\n                couleurExp1,\n              )}}$`\n              texteCorr += '<br>'\n            }\n            texteCorr += `$${lettre}=\\\\dfrac{1}{${baseUtile}^{${exp[1]}-${exp[0]}}}=\\\\dfrac{1}{${baseUtile}^{${exp[1] - exp[0]}}}`\n            if (base < 0 && (exp[1] - exp[0]) % 2 === 0) {\n              texteCorr += `=\\\\dfrac{1}{${simpNotPuissance(\n                base,\n                exp[1] - exp[0],\n              )}}=${miseEnEvidence(`${simpNotPuissance(base, exp[0] - exp[1])}`)}$`\n            } else {\n              texteCorr += `=${miseEnEvidence(`${baseUtile}^{${exp[0] - exp[1]}}`)}$`\n            }\n          } else {\n            if (this.correctionDetaillee) {\n              texteCorr += `$${lettre}=\\\\dfrac{${eclatePuissance(\n                `\\\\cancel{${baseUtile}}`,\n                exp[1],\n                couleurExp0,\n              )}\\\\times${eclatePuissance(\n                baseUtile,\n                exp[0] - exp[1],\n                couleurExp0,\n              )}}{${eclatePuissance(\n                `\\\\cancel{${baseUtile}}`,\n                exp[1],\n                couleurExp1,\n              )}}$`\n              texteCorr += '<br>'\n            }\n            texteCorr += `$${lettre}=${baseUtile}^{${exp[0]}-${exp[1]}}`\n            if (base < 0 && (exp[0] - exp[1]) % 2 === 0) {\n              texteCorr += `=${baseUtile}^{${exp[0] - exp[1]}}=${miseEnEvidence(simpNotPuissance(base, exp[0] - exp[1]))}$`\n            } else {\n              texteCorr += `=${miseEnEvidence(`${baseUtile}^{${exp[0] - exp[1]}}`)}$`\n            }\n          }\n          texteCorr += remarquesPuissances(base, baseUtile, exp[0] - exp[1])\n          if (base < 0 && (exp[0] - exp[1]) % 2 === 0) {\n            reponseInteractive = [\n              `${baseUtile}^{${exp[0] - exp[1]}}`,\n              `${-base}^{${exp[0] - exp[1]}}`,\n            ]\n            baseUtileBisAMC = -base\n          } else {\n            reponseInteractive = `${baseUtile}^{${exp[0] - exp[1]}}`\n          }\n          exposantInteractif = exp[0] - exp[1]\n          break\n        case 3: // exponentiation\n          exp = [randint(2, 4), randint(2, 4)] // on redéfinit les deux exposants pour ne pas avoir d'écritures trop longues et pour éviter 1\n          texte = `$${lettre}=(${baseUtile}^{${exp[0]}})^{${exp[1]}}$`\n\n          if (this.correctionDetaillee) {\n            texteCorr += `$${lettre}=\\\\color{${coul0}}{\\\\underbrace{${eclatePuissance(\n              `(${baseUtile}^{${exp[0]}})`,\n              exp[1],\n              coul0,\n            )}}_{${exp[1]}\\\\thickspace\\\\text{facteurs}}}$`\n            texteCorr += '<br>'\n            texteCorr += `$${lettre}=\\\\color{${coul0}}{\\\\underbrace{${eclatePuissance(\n              `(\\\\color{${coul1}}{\\\\underbrace{${eclatePuissance(\n                baseUtile,\n                exp[0],\n                coul1,\n              )}}_{${exp[0]}\\\\thickspace\\\\text{facteurs}}}\\\\color{${coul0}})`,\n              exp[1],\n              coul0,\n            )}}_{${exp[1]}\\\\times\\\\color{${coul1}}{${\n              exp[0]\n            }}\\\\thickspace\\\\color{black}{\\\\text{facteurs}}}}$`\n            texteCorr += '<br>'\n          }\n          texteCorr += `Il y a donc $\\\\mathbf{\\\\color{${coul0}}{${exp[1]}}~\\\\color{black}{\\\\times}~\\\\color{${coul1}}{${exp[0]}}}$ facteurs tous égaux à $${baseUtile}$.`\n          texteCorr += '<br>'\n          texteCorr += `$${lettre}=${baseUtile}^{${exp[0]}\\\\times${exp[1]}} `\n          if (base < 0 && (exp[1] * exp[0]) % 2 === 0) {\n            texteCorr += `= ${baseUtile}^{${exp[0] * exp[1]}} = ${miseEnEvidence(simpNotPuissance(base, exp[0] * exp[1]))}$`\n          } else {\n            texteCorr += `= ${miseEnEvidence(`${baseUtile}^{${exp[0] * exp[1]}}`)}$`\n          }\n          texteCorr += remarquesPuissances(base, baseUtile, exp[0] * exp[1])\n          if (base < 0 && (exp[0] * exp[1]) % 2 === 0) {\n            reponseInteractive = [\n              `${baseUtile}^{${exp[0] * exp[1]}}`,\n              `${-base}^{${exp[0] * exp[1]}}`,\n            ]\n            baseUtileBisAMC = -base\n          } else {\n            reponseInteractive = `${baseUtile}^{${exp[0] * exp[1]}}`\n          }\n          exposantInteractif = exp[0] * exp[1]\n          break\n        case 4: // produit de puissances de même exposant\n          base0 = randint(2, 8, [4, 6])\n          base1 = randint(2, 8, [4, 6, base0])\n          base0 =\n            base0 *\n            (this.sup2 === 1 ? 1 : this.sup2 === 2 ? -1 : choice([-1, 1])) // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances\n          base1 =\n            base1 *\n            (this.sup2 === 1 ? 1 : this.sup2 === 2 ? -1 : choice([-1, 1])) // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances\n\n          base = [base0, base1] // on choisit 2 bases différentes c'est mieux\n          exp = randint(2, 5, 6) // on choisit un exposant\n          texte = `$${lettre}=${ecritureParentheseSiNegatif(base0)}^{${exp}}\\\\times ${ecritureParentheseSiNegatif(base1)}^{${exp}}$`\n          texteCorr += texte\n\n          if (this.correctionDetaillee) {\n            texteCorr += '<br>'\n            texteCorr += `$${lettre}=${eclatePuissance(\n              ecritureParentheseSiNegatif(base0),\n              exp,\n              coul0,\n            )} \\\\times ${eclatePuissance(ecritureParentheseSiNegatif(base1), exp, coul1)}$`\n            texteCorr += '<br>'\n            texteCorr += `$${lettre}=${reorganiseProduitPuissance(\n              ecritureParentheseSiNegatif(base0),\n              ecritureParentheseSiNegatif(base1),\n              exp,\n              coul0,\n              coul1,\n            )}$`\n          }\n          texteCorr += '<br>'\n          texteCorr += `$${lettre}= (${miseEnEvidence(ecritureParentheseSiNegatif(base0), coul0)} \\\\times ${miseEnEvidence(ecritureParentheseSiNegatif(base1), coul1)})^{${exp}}=${miseEnEvidence(`(${base0 * base1})^{${exp}}`)}$`\n\n          reponseInteractive =\n            base0 * base1 > 0\n              ? `${base0 * base1}^{${exp}}`\n              : `(${base0 * base1})^{${exp}}`\n          baseUtile = base0 * base1\n          baseUtileBisAMC = base[0] * base1 // juste pour ne pas avoir à ajouter une batterie de lignes spécifiques pour ce cas, je mets deux fois la même chose\n          base = baseUtile\n          exposantInteractif = exp\n          break\n        case 5: // quotient de puissances de même exposant (a^n/b^n = (a/b)^n)\n        default:\n          base0 = randint(2, 8, [4, 6])\n          base1 = randint(2, 8, [4, 6, base0]) // on choisit 2 bases différentes pour le numérateur et dénominateur\n          exp = randint(2, 5, 6) // on choisit un exposant\n\n          // On s'assure que base0 > base1 pour avoir un quotient positif et entier\n          if (base0 < base1) {\n            ;[base0, base1] = [base1, base0]\n          }\n\n          // On vérifie que le quotient est un entier pour simplifier les calculs\n          if (base0 % base1 !== 0) {\n            base0 = base1 * randint(2, 4)\n          }\n          base0 =\n            base0 *\n            (this.sup2 === 1 ? 1 : this.sup2 === 2 ? -1 : choice([-1, 1])) // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances\n          base1 =\n            base1 *\n            (this.sup2 === 1 ? 1 : this.sup2 === 2 ? -1 : choice([-1, 1])) // on choisit une base sauf 1 ... penser à gérer le cas des bases qui sont des puissances\n\n          texte = `$${lettre}=\\\\dfrac{${ecritureParentheseSiNegatif(base0)}^{${exp}}}{${ecritureParentheseSiNegatif(base1)}^{${exp}}}$`\n          texteCorr += texte\n\n          if (this.correctionDetaillee) {\n            texteCorr += '<br>'\n            texteCorr += `$${lettre}=\\\\dfrac{${eclatePuissance(ecritureParentheseSiNegatif(base0), exp, coul0)}}{${eclatePuissance(ecritureParentheseSiNegatif(base1), exp, coul1)}}$`\n            texteCorr += '<br>'\n\n            // Explication de la réorganisation des termes\n            const fractions = []\n            for (let i = 0; i < exp; i++) {\n              fractions.push(\n                `\\\\dfrac{\\\\color{${coul0}}{${base0}}}{\\\\color{${coul1}}{${base1}}}`,\n              )\n            }\n            texteCorr += `$${lettre}=${fractions.join(' \\\\times ')}$`\n          }\n\n          texteCorr += '<br>'\n          texteCorr += `$${lettre}= \\\\left(\\\\dfrac{\\\\color{${coul0}}{${base0}}}{\\\\color{${coul1}}{${base1}}}\\\\right)^{${exp}}=${miseEnEvidence(`${ecritureParentheseSiNegatif(base0 / base1)}^{${exp}}`)}$`\n\n          reponseInteractive =\n            base0 / base1 > 0\n              ? `${base0 / base1}^{${exp}}`\n              : `(${base0 / base1})^{${exp}}`\n          baseUtile = base0 / base1\n          baseUtileBisAMC = base0 / base1\n          base = baseUtile\n          exposantInteractif = exp\n          break\n      }\n\n      if (this.interactif && !context.isAmc) {\n        handleAnswers(this, i, {\n          reponse: { value: reponseInteractive, options: { puissance: true } },\n        })\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFullOperations,\n          { texteAvant: ' $=$' },\n        )\n      }\n      if (context.isAmc) {\n        setReponse(this, i, reponseInteractive, {\n          formatInteractif: 'puissance',\n          basePuissance: base,\n          exposantPuissance: exposantInteractif,\n          exposantNbChiffres: 2,\n          signe: true,\n          aussiCorrect: baseUtileBisAMC,\n        })\n      }\n      if (\n        this.questionJamaisPosee(i, base, exp0, exp1, listeTypeDeQuestions[i])\n      ) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","remarquesPuissances","base","baseUtile","exposant","sortie","texteGras","simpNotPuissance","reorganiseProduitPuissance","b1","b2","e","couleur1","couleur2","str","i","PuissancesDunRelatif1","Exercice","__publicField","context","typesDeQuestionsDisponibles","gestionnaireFormulaireTexte","listeTypeDeQuestions","combinaisonListes","coul0","coul1","base0","base1","baseUtileBisAMC","exp0","exp1","exp","couleurExp0","couleurExp1","lettre","texte","texteCorr","reponseInteractive","exposantInteractif","cpt","randint","choice","lettreDepuisChiffre","eclatePuissance","miseEnEvidence","ecritureParentheseSiNegatif","fractions","handleAnswers","ajouteChampTexteMathLive","KeyboardType","setReponse","listeQuestionsToContenu"],"mappings":"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"}