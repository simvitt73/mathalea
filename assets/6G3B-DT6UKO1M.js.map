{"version":3,"file":"6G3B-DT6UKO1M.js","sources":["../../src/exercices/6e/6G3B.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport Element2D from 'apigeom/src/elements/Element2D'\nimport type Point from 'apigeom/src/elements/points/Point'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { combinaisonListes, shuffle } from '../../lib/outils/arrayOutils'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Construire des m√©diatrices'\n\nexport const dateDePublication = '18/03/2025'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\nexport const uuid = '0dbe7'\nexport const refs = {\n  'fr-fr': ['6G3B'],\n  'fr-2016': ['6G25-0'],\n  'fr-ch': ['9ES3-11'],\n}\n/**\n * Construire des m√©diatrices\n * @author Eric Elter\n */\n\ninterface Couleur {\n  couleurFrancais: string\n  couleurHTML: string\n}\n\ninterface Mediatrice {\n  pointSeg1: Point\n  pointSeg2: Point\n  pointMed1: Point\n  pointMed2: Point\n  codage: string\n  couleurMed: Couleur\n}\ninterface EnsembleDesQuestions {\n  mediatrice: Mediatrice[]\n}\n\nexport default class nomExercice extends Exercice {\n  figuresApiGeom: Figure[] = []\n  figuresApiGeomCorr: Figure[] = []\n  lesPoints: Point[][] = []\n  lesPointsCorr: Point[][] = []\n  mediatrices: Mediatrice[][] = []\n  nbMediatrices: number = 1\n  ensembleDesQuestions: EnsembleDesQuestions[] = []\n\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.besoinFormulaireNumerique = [\n      'Nombre de points par question (entre 2 et 23)',\n      23,\n    ]\n    this.besoinFormulaire2Numerique = ['Nombre de m√©diatrices (4 maximum)', 4]\n    this.besoinFormulaire3Numerique = [\n      'Type de construction',\n      3,\n      \"1 : Avec une perpendiculaire\\n2 : Avec des cercles\\n3 : L'un ou l'autre\",\n    ]\n    this.sup = 3\n    this.sup2 = 1\n    this.sup3 = 1\n    this.exoCustomResultat = true\n    this.interactif = true\n    this.comment =\n      'Dans cet exercice, vous pouvez choisir le nombre de points visibles, le nombre de m√©diatrices √† construire (plafonn√© √† 4) ainsi si la construction doit se faire avec une perpendiculaire ou avec des cercles.'\n  }\n\n  nouvelleVersion() {\n    this.figuresApiGeom.forEach((fig) => {\n      if (\n        fig instanceof Figure &&\n        'destroy' in fig &&\n        typeof fig.destroy === 'function'\n      ) {\n        fig.destroy()\n      }\n    })\n    this.figuresApiGeom = []\n    this.figuresApiGeomCorr.forEach((fig) => {\n      if (\n        fig instanceof Figure &&\n        'destroy' in fig &&\n        typeof fig.destroy === 'function'\n      ) {\n        fig.destroy()\n      }\n    })\n    this.figuresApiGeomCorr = []\n    this.lesPoints = []\n    this.lesPointsCorr = []\n    this.ensembleDesQuestions = []\n    this.mediatrices = []\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      this.mediatrices[i] = []\n      this.lesPoints[i] = []\n      this.lesPointsCorr[i] = []\n      const nbPoints = contraindreValeur(2, 23, this.sup, 3)\n      const nomDesPoints = choisitLettresDifferentes(nbPoints, 'OQW')\n      let texte = ''\n      let texteCorr = ''\n      const coordonnees: number[][] = []\n\n      this.figuresApiGeom[i] = new Figure({\n        xMin: -5.5,\n        yMin: -5.5,\n        width: 330,\n        height: 330,\n        border: true,\n      })\n      this.figuresApiGeomCorr[i] = new Figure({\n        xMin: -5.5,\n        yMin: -5.5,\n        width: 330,\n        height: 330,\n        border: true,\n      })\n\n      // On choisit des points qui ne seront pas confondus.\n      let isDuplicate = true // Pour ne pas cr√©er deux points l'un sur l'autre\n      let newElement: number[] = []\n      for (let ee = 0; ee < nbPoints; ee++) {\n        do {\n          newElement = [randint(-4, 4), randint(-4, 4)]\n          // V√©rifie si le nouvel √©l√©ment est d√©j√† dans le tableau\n          isDuplicate = coordonnees.some(\n            (el) => el[0] === newElement[0] && el[1] === newElement[1],\n          )\n        } while (isDuplicate)\n        coordonnees[ee] = newElement\n        this.lesPoints[i][ee] = this.figuresApiGeom[i].create('Point', {\n          x: newElement[0],\n          y: newElement[1],\n          shape: 'x',\n          label: nomDesPoints[ee],\n          labelDxInPixels: 10,\n          labelDyInPixels: 20,\n        })\n        this.lesPoints[i][ee].isDeletable = false\n        this.lesPointsCorr[i][ee] = this.figuresApiGeomCorr[i].create('Point', {\n          x: newElement[0],\n          y: newElement[1],\n          shape: 'x',\n          label: nomDesPoints[ee],\n          labelDxInPixels: 10,\n          labelDyInPixels: 20,\n        })\n      }\n\n      // G√©n√©ration de toutes les m√©diatrices possibles avec tous ces points\n      for (let ee = 0; ee < nbPoints; ee++) {\n        for (let j = ee + 1; j < nbPoints; j++) {\n          this.mediatrices[i].push({\n            pointSeg1: this.lesPoints[i][ee],\n            pointSeg2: this.lesPoints[i][j],\n            pointMed1: this.lesPoints[i][ee], // Cette valeur sera chang√©e ensuite. C'est juste pour ne pas avoir d'erreur de typage\n            pointMed2: this.lesPoints[i][j], // Cette valeur sera chang√©e ensuite. C'est juste pour ne pas avoir d'erreur de typage\n            codage: '', // Cette valeur sera chang√©e ensuite. C'est juste pour ne pas avoir d'erreur de typage\n            couleurMed: { couleurFrancais: '', couleurHTML: '' }, // Cette valeur sera chang√©e ensuite. C'est juste pour ne pas avoir d'erreur de typage\n          })\n        }\n      }\n      this.mediatrices[i] = shuffle(this.mediatrices[i])\n      const nbMediatricesPossibles = this.mediatrices[i].length\n      this.nbMediatrices = contraindreValeur(\n        1,\n        Math.min(nbMediatricesPossibles, 4),\n        this.sup2,\n        1,\n      )\n      this.mediatrices[i] = this.mediatrices[i].slice(0, this.nbMediatrices)\n\n      // On construit l'√©nonc√© et les m√©diatrices en fonction du nombre de m√©diatrices demand√©s par l'utilisateur.\n      const choixCouleur = combinaisonListes([\n        ['rouge', 'red'],\n        ['bleu', 'blue'],\n        ['orange', 'orange'],\n        ['vert', 'green'],\n      ])\n      const codage = combinaisonListes(['||', 'O', '|', '|||'])\n\n      for (let ee = 0; ee < this.nbMediatrices; ee++) {\n        this.mediatrices[i][ee].couleurMed = {\n          couleurFrancais: choixCouleur[ee][0],\n          couleurHTML: choixCouleur[ee][1],\n        }\n        texte +=\n          (this.nbMediatrices === 1 ? '' : numAlpha(ee)) +\n          `Tracer, en ${this.mediatrices[i][ee].couleurMed.couleurFrancais}, `\n        texte += `la m√©diatrice du segment $[${this.mediatrices[i][ee].pointSeg1.label}${this.mediatrices[i][ee].pointSeg2.label}]$.<br>`\n        texteCorr += this.nbMediatrices === 1 ? '' : numAlpha(ee)\n\n        switch (this.sup3) {\n          case 2: {\n            // Construction au compas\n            texteCorr += `La m√©diatrice du segment $[${this.mediatrices[i][ee].pointSeg1.label}${this.mediatrices[i][ee].pointSeg2.label}]$ est la droite contenant tous les points √† √©gale distance de $${this.mediatrices[i][ee].pointSeg1.label}$ et de $${this.mediatrices[i][ee].pointSeg2.label}$.<br>`\n\n            // Le segment reliant les deux points\n            this.figuresApiGeomCorr[i].create('Segment', {\n              point1: this.mediatrices[i][ee].pointSeg1,\n              point2: this.mediatrices[i][ee].pointSeg2,\n            })\n\n            // Le rayon du cercle √† tracer\n            const rayonCercle = this.figuresApiGeomCorr[i].create('Distance', {\n              point1: this.mediatrices[i][ee].pointSeg1,\n              point2: this.mediatrices[i][ee].pointSeg2,\n            })\n\n            // Les deux cercles\n            const c1 = this.figuresApiGeomCorr[i].create('Circle', {\n              center: this.mediatrices[i][ee].pointSeg1,\n              radius: 0.75 * rayonCercle.value,\n              isDashed: true,\n            })\n            const c2 = this.figuresApiGeomCorr[i].create('Circle', {\n              center: this.mediatrices[i][ee].pointSeg2,\n              radius: 0.75 * rayonCercle.value,\n              isDashed: true,\n            })\n\n            // Les 2 points d'intersection des cercles\n            const intersection2Cercles = this.figuresApiGeomCorr[i].create(\n              'PointsIntersectionCC',\n              {\n                circle1: c1,\n                circle2: c2,\n              },\n            )\n\n            this.mediatrices[i][ee].pointMed1 = intersection2Cercles.point1\n            this.mediatrices[i][ee].pointMed2 = intersection2Cercles.point2\n\n            // Les 4 segements √©gaux\n            this.figuresApiGeomCorr[i].create('Segment', {\n              point1: this.mediatrices[i][ee].pointSeg1,\n              point2: this.mediatrices[i][ee].pointMed1,\n              isDashed: true,\n            })\n            this.figuresApiGeomCorr[i].create('Segment', {\n              point1: this.mediatrices[i][ee].pointSeg2,\n              point2: this.mediatrices[i][ee].pointMed1,\n              isDashed: true,\n            })\n            this.figuresApiGeomCorr[i].create('Segment', {\n              point1: this.mediatrices[i][ee].pointSeg1,\n              point2: this.mediatrices[i][ee].pointMed2,\n              isDashed: true,\n            })\n            this.figuresApiGeomCorr[i].create('Segment', {\n              point1: this.mediatrices[i][ee].pointSeg2,\n              point2: this.mediatrices[i][ee].pointMed2,\n              isDashed: true,\n            })\n\n            // Les 4 marques des segments √©gaux\n            this.figuresApiGeomCorr[i].create('MarkBetweenPoints', {\n              point1: this.mediatrices[i][ee].pointMed1,\n              point2: this.mediatrices[i][ee].pointSeg1,\n              text: codage[ee],\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n            })\n            this.figuresApiGeomCorr[i].create('MarkBetweenPoints', {\n              point1: this.mediatrices[i][ee].pointMed2,\n              point2: this.mediatrices[i][ee].pointSeg1,\n              text: codage[ee],\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n            })\n            this.figuresApiGeomCorr[i].create('MarkBetweenPoints', {\n              point1: this.mediatrices[i][ee].pointMed1,\n              point2: this.mediatrices[i][ee].pointSeg2,\n              text: codage[ee],\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n            })\n            this.figuresApiGeomCorr[i].create('MarkBetweenPoints', {\n              point1: this.mediatrices[i][ee].pointMed2,\n              point2: this.mediatrices[i][ee].pointSeg2,\n              text: codage[ee],\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n            })\n\n            // La m√©diatrice\n            this.figuresApiGeomCorr[i].create('Line', {\n              point1: this.mediatrices[i][ee].pointMed1,\n              point2: this.mediatrices[i][ee].pointMed2,\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n              thickness: 2,\n            })\n            if (this.interactif) {\n              this.figuresApiGeom[i].setToolbar({\n                tools: [\n                  'POINT',\n                  'POINT_ON',\n                  'POINT_INTERSECTION',\n                  'SEGMENT',\n                  'LINE',\n                  'CIRCLE_CENTER_POINT',\n                  'CIRCLE_RADIUS',\n                  'DRAG',\n                  'SHAKE',\n                  'REMOVE',\n                  'SET_OPTIONS',\n                ],\n              })\n              this.figuresApiGeom[\n                i\n              ].options.changeColorChangeActionToSetOptions = true\n            }\n            break\n          }\n          default: {\n            // Construction √† l'√©querre\n            texteCorr += `La m√©diatrice du segment $[${this.mediatrices[i][ee].pointSeg1.label}${this.mediatrices[i][ee].pointSeg2.label}]$ est la droite perpendiculaire √† $[${this.mediatrices[i][ee].pointSeg1.label}${this.mediatrices[i][ee].pointSeg2.label}]$ passant par son milieu.<br>`\n\n            const segmentConstruit = this.figuresApiGeomCorr[i].create(\n              'Segment',\n              {\n                point1: this.mediatrices[i][ee].pointSeg1,\n                point2: this.mediatrices[i][ee].pointSeg2,\n              },\n            )\n\n            const milieuDuSegment = this.figuresApiGeomCorr[i].create(\n              'Middle',\n              {\n                point1: this.mediatrices[i][ee].pointSeg1,\n                point2: this.mediatrices[i][ee].pointSeg2,\n                color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n              },\n            )\n\n            this.figuresApiGeomCorr[i].create('MarkBetweenPoints', {\n              point1: milieuDuSegment,\n              point2: this.mediatrices[i][ee].pointSeg2,\n              text: codage[ee],\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n            })\n            this.figuresApiGeomCorr[i].create('MarkBetweenPoints', {\n              point1: this.mediatrices[i][ee].pointSeg1,\n              point2: milieuDuSegment,\n              text: codage[ee],\n              color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n            })\n\n            const perpendiculaire = this.figuresApiGeomCorr[i].create(\n              'LinePerpendicular',\n              {\n                point: milieuDuSegment,\n                line: segmentConstruit,\n                color: this.mediatrices[i][ee].couleurMed.couleurHTML,\n                thickness: 2,\n              },\n            )\n\n            const pointSurMediatrice = this.figuresApiGeomCorr[i].create(\n              'PointOnLine',\n              {\n                line: perpendiculaire,\n                isVisible: false,\n              },\n            )\n\n            this.mediatrices[i][ee].pointMed1 = milieuDuSegment\n            this.mediatrices[i][ee].pointMed2 = pointSurMediatrice\n\n            this.figuresApiGeomCorr[i].create('MarkRightAngle', {\n              point: milieuDuSegment,\n              directionPoint: pointSurMediatrice,\n            })\n\n            if (this.interactif) {\n              if (this.sup3 === 1)\n                this.figuresApiGeom[i].setToolbar({\n                  tools: [\n                    'POINT',\n                    'MIDDLE',\n                    'POINT_ON',\n                    'POINT_INTERSECTION',\n                    'SEGMENT',\n                    'LINE',\n                    'LINE_PERPENDICULAR',\n                    'DRAG',\n                    'SHAKE',\n                    'REMOVE',\n                    'SET_OPTIONS',\n                  ],\n                })\n              else\n                this.figuresApiGeom[i].setToolbar({\n                  tools: [\n                    'POINT',\n                    'MIDDLE',\n                    'POINT_ON',\n                    'POINT_INTERSECTION',\n                    'SEGMENT',\n                    'LINE',\n                    'LINE_PERPENDICULAR',\n                    'CIRCLE_CENTER_POINT',\n                    'CIRCLE_RADIUS',\n                    'DRAG',\n                    'SHAKE',\n                    'REMOVE',\n                    'SET_OPTIONS',\n                  ],\n                })\n              this.figuresApiGeom[\n                i\n              ].options.changeColorChangeActionToSetOptions = true\n            }\n            break\n          }\n        }\n      }\n\n      if (!context.isHtml) {\n        texte += this.figuresApiGeom[i].tikz()\n        texteCorr += this.figuresApiGeomCorr[i].tikz()\n      } else {\n        texte += figureApigeom({\n          exercice: this,\n          i,\n          figure: this.figuresApiGeom[i],\n          idAddendum: '6G25' + i,\n          defaultAction: 'DRAG',\n        })\n        texteCorr += figureApigeom({\n          exercice: this,\n          i,\n          figure: this.figuresApiGeomCorr[i],\n          idAddendum: '6G25Cor' + i,\n        })\n        this.figuresApiGeomCorr[i].isDynamic = false\n        this.figuresApiGeomCorr[i].divButtons.style.display = 'none'\n        this.figuresApiGeomCorr[i].divUserMessage.style.display = 'none'\n      }\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        this.ensembleDesQuestions[i] = { mediatrice: this.mediatrices[i] }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  async shakeCorrection(i: number) {\n    if (this.figuresApiGeom[i].elements.size === 0) return\n    await this.figuresApiGeom[i].shake()\n    for (let ee = 0; ee < this.lesPoints[i].length; ee++) {\n      this.lesPointsCorr[i][ee].x = this.lesPoints[i][ee].x\n      this.lesPointsCorr[i][ee].y = this.lesPoints[i][ee].y\n    }\n  }\n\n  correctionInteractive = (i: number) => {\n    if (this.answers == null) this.answers = {}\n    // Sauvegarde de la r√©ponse pour Capytale\n    this.answers[this.figuresApiGeom[i].id] = this.figuresApiGeom[i].json\n    const resultat: ('OK' | 'KO')[] = []\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    ) as HTMLDivElement\n    let feedback = ''\n    this.shakeCorrection(i)\n    for (let ee = 0; ee < this.nbMediatrices; ee++) {\n      let feedbackUneQuestion = ''\n      const elementsCouleur = [\n        ...this.figuresApiGeom[i].elements.values(),\n      ].filter(\n        (e) =>\n          e instanceof Element2D &&\n          e.color ===\n            this.ensembleDesQuestions[i].mediatrice[ee].couleurMed.couleurHTML,\n      )\n      const elementsLigneCouleur = [\n        ...this.figuresApiGeom[i].elements.values(),\n      ].filter(\n        (e) =>\n          e instanceof Element2D &&\n          e.color ===\n            this.ensembleDesQuestions[i].mediatrice[ee].couleurMed\n              .couleurHTML &&\n          e.type.includes('Line'),\n      )\n      if (elementsCouleur.length === 0) {\n        resultat[ee] = 'KO'\n        feedbackUneQuestion =\n          \"Aucun √©lement n'est en \" +\n          this.ensembleDesQuestions[i].mediatrice[ee].couleurMed\n            .couleurFrancais +\n          '.'\n      } else if (elementsCouleur.length > 1) {\n        resultat[ee] = 'KO'\n        feedbackUneQuestion =\n          \"Il y a trop d'√©lements en \" +\n          this.ensembleDesQuestions[i].mediatrice[ee].couleurMed\n            .couleurFrancais +\n          '.'\n      } else if (elementsLigneCouleur.length !== 1) {\n        resultat[ee] = 'KO'\n        feedbackUneQuestion =\n          \"L'√©lement en \" +\n          this.ensembleDesQuestions[i].mediatrice[ee].couleurMed\n            .couleurFrancais +\n          \" n'est pas une droite.\"\n      } else {\n        const verif = this.figuresApiGeom[i].checkPerpendicularBisector({\n          label1: this.mediatrices[i][ee].pointSeg1.label,\n          label2: this.mediatrices[i][ee].pointSeg2.label,\n          color:\n            this.ensembleDesQuestions[i].mediatrice[ee].couleurMed.couleurHTML,\n        })\n        resultat[ee] = verif.isValid ? 'OK' : 'KO'\n        if (!verif.isValid)\n          feedbackUneQuestion = `La droite en ${this.ensembleDesQuestions[i].mediatrice[ee].couleurMed.couleurFrancais} n'est pas la m√©diatrice de $[${this.ensembleDesQuestions[i].mediatrice[ee].pointSeg1.label}${this.ensembleDesQuestions[i].mediatrice[ee].pointSeg2.label}]$.`\n      }\n      feedbackUneQuestion =\n        (feedbackUneQuestion === '' ? 'üòé ' : '‚òπÔ∏è ') + feedbackUneQuestion\n      if (ee !== this.nbMediatrices - 1) feedbackUneQuestion += '<br>'\n      feedback +=\n        (this.nbMediatrices === 1 ? '' : numAlpha(ee)) + feedbackUneQuestion\n    }\n\n    if (divFeedback) divFeedback.innerHTML = feedback\n    this.figuresApiGeom[i].isDynamic = false\n    this.figuresApiGeom[i].divButtons.style.display = 'none'\n    this.figuresApiGeom[i].divUserMessage.style.display = 'none'\n    return resultat\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","nomExercice","Exercice","__publicField","i","resultat","divFeedback","feedback","ee","feedbackUneQuestion","elementsCouleur","e","Element2D","elementsLigneCouleur","verif","numAlpha","fig","Figure","cpt","nbPoints","contraindreValeur","nomDesPoints","choisitLettresDifferentes","texte","texteCorr","coordonnees","isDuplicate","newElement","randint","el","j","shuffle","nbMediatricesPossibles","choixCouleur","combinaisonListes","codage","rayonCercle","c1","c2","intersection2Cercles","segmentConstruit","milieuDuSegment","perpendiculaire","pointSurMediatrice","context","figureApigeom","listeQuestionsToContenu"],"mappings":"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"}