{"version":3,"file":"3F10-BS1s2hln.js","sources":["../../src/exercices/3e/3F10.ts"],"sourcesContent":["import { choice, shuffle2tableaux } from '../../lib/outils/arrayOutils'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { context } from '../../modules/context'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { getLang } from '../../lib/stores/languagesStore'\n\nexport const titre = 'Lire images et antécédents depuis un tableau de valeurs'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * @author Rémi Angot\n */\nexport const uuid = 'b92da'\n\nexport const refs = {\n  'fr-fr': ['3F10', 'BP2AutoO1'],\n  'fr-ch': ['10FA5-4', '1mF1-6'],\n}\nexport default class ImageAntecedentDepuisTableauOuFleche extends Exercice {\n  constructor() {\n    super()\n\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const lang = getLang()\n    for (\n      let i = 0, texte, texteCorr, texteAMC, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const a = randint(-20, 20)\n      const b = randint(-20, 20, [a])\n      const c = randint(-20, 20, [a, b])\n      const d = randint(-20, 20, [a, b, c])\n      const e = randint(-20, 20, [a, b, c, d])\n      const f = randint(-20, 20, [a, b, c, d, e])\n      // a->b ; c->d ; e->d ; d->a ; f->c\n      const ligneX = [a, c, e, d, f]\n      const ligneY = [b, d, d, a, c]\n      shuffle2tableaux(ligneX, ligneY) // mélange les 2 lignes de la même manière\n      texte = \"Voici un tableau de valeurs d'une fonction $f$ : \"\n      texte += '<br><br>'\n      texte += `$\\\\def\\\\arraystretch{1.5}\\\\begin{array}{|l|c|c|c|c|c|}\n    \\\\hline\n    x & ${ligneX[0]} & ${ligneX[1]} & ${ligneX[2]} & ${ligneX[3]} & ${ligneX[4]} \\\\\\\\\n    \\\\hline\n    f(x) & ${ligneY[0]} & ${ligneY[1]} & ${ligneY[2]} & ${ligneY[3]} & ${ligneY[4]} \\\\\\\\\n    \\\\hline\n    \\\\end{array}\n    $<br>\n    `\n      if (this.interactif)\n        texte +=\n          \"<br><br> <em>S'il y a plusieurs réponses, les séparer avec le point-virgule</em>.<br>\"\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte,\n          enonceAvant: true, // EE : ce champ est facultatif et permet (si false) de supprimer l'énoncé ci-dessus avant la numérotation de chaque question.\n          enonceAvantUneFois: false, // EE : ce champ est facultatif et permet (si true) d'afficher l'énoncé ci-dessus une seule fois avant la numérotation de la première question de l'exercice. Ne fonctionne correctement que si l'option melange est à false.\n          enonceCentre: true, // EE : ce champ est facultatif et permet (si true) de centrer le champ 'enonce' ci-dessus.}\n          options: {\n            multicols: true,\n            barreseparation: true,\n            numerotationEnonce: true,\n          },\n          propositions: [],\n        }\n      }\n      texteAMC =\n        numAlpha(0) + `Quelle est l'image de $${a}$ par la fonction $f$ ?`\n      texte += '<br>' + texteAMC\n      texteCorr =\n        numAlpha(0) +\n        `L'image de $${a}$ par la fonction $f$ est $${b}$, on note $f(${a})=${b}$.<br>`\n      setReponse(this, 6 * i, b)\n      texte += ajouteChampTexteMathLive(this, 6 * i)\n      if (context.isAmc) {\n        this.autoCorrection[i].propositions?.push(\n          ajouteProposition(texteAMC, b),\n        )\n      }\n\n      texteAMC =\n        numAlpha(1) + `Quelle est l'image de $${c}$ par la fonction $f$ ?`\n      texte += '<br>' + texteAMC\n      texteCorr +=\n        numAlpha(1) +\n        `L'image de $${c}$ par la fonction $f$ est $${d}$, on note $f(${c})=${d}$.`\n      texte += ajouteChampTexteMathLive(this, i * 6 + 1)\n      setReponse(this, i * 6 + 1, d)\n      if (context.isAmc) {\n        this.autoCorrection[i].propositions?.push(\n          ajouteProposition(texteAMC, d),\n        )\n      }\n\n      let texte3 = `Déterminer ${lang === 'fr-CH' ? 'la préimage' : \"l'antécédent ou les antécédents\"} de $${a}$ par la fonction $f$.`\n      const texteCorr3 = `$${a}$ a ${lang === 'fr-CH' ? 'un seul élément dans la préimage' : 'un seul antécédent'} par la fonction $f$ qui est $${d}$, on note $f(${d})=${a}$.`\n      setReponse(this, i * 6 + 2, d)\n      texte3 += ajouteChampTexteMathLive(this, i * 6 + 2)\n      if (context.isAmc) {\n        this.autoCorrection[i].propositions?.push(\n          ajouteProposition(\n            numAlpha(2) +\n              `Déterminer un antécédent de $${a}$ par la fonction $f$.`,\n            d,\n          ),\n        )\n      }\n\n      let texte4 = `Déterminer l'antécédent ou les antécédents de $${d}$ par la fonction $f$.`\n      const texteCorr4 = `$${d}$ ${lang === 'fr-CH' ? 'deux éléments dans la préimage' : 'a deux antécédents'} par la fonction $f$ qui sont $${c}$ et $${e}$, on note $f(${c})=f(${e})=${d}$.`\n      setReponse(this, i * 6 + 3, [`${c};${e}`, `${e};${c}`], {\n        formatInteractif: 'texte',\n      })\n      texte4 += ajouteChampTexteMathLive(this, i * 6 + 3)\n      if (context.isAmc) {\n        this.autoCorrection[i].propositions?.push(\n          ajouteProposition(\n            numAlpha(3) +\n              `Déterminer un antécédent de $${d}$ par la fonction $f$.`,\n            c,\n          ),\n        )\n      }\n\n      if (choice([true, false])) {\n        // Une fois sur 2 on inverse les questions 3 et 4\n        texte += '<br>' + numAlpha(2) + texte3 + '<br>' + numAlpha(3) + texte4\n        texteCorr +=\n          '<br>' + numAlpha(2) + texteCorr3 + '<br>' + numAlpha(3) + texteCorr4\n      } else {\n        texte += '<br>' + numAlpha(2) + texte4 + '<br>' + numAlpha(3) + texte3\n        texteCorr +=\n          '<br>' + numAlpha(2) + texteCorr4 + '<br>' + numAlpha(3) + texteCorr3\n      }\n\n      texte += '<br>' + numAlpha(4)\n      texte += this.interactif\n        ? `Compléter : $f(${c})=\\\\ldots$`\n        : `Recopier et compléter : $f(${c})=\\\\ldots$`\n      texteCorr += '<br>' + numAlpha(4) + `$f(${c})=${d}$`\n      texte += ajouteChampTexteMathLive(this, i * 6 + 4)\n      setReponse(this, i * 6 + 4, [`f(${c})=${d}`, `${d}`], {\n        formatInteractif: 'texte',\n      })\n      if (context.isAmc) {\n        this.autoCorrection[i].propositions?.push(\n          ajouteProposition(numAlpha(4) + `Compléter : $f(${c})=\\\\ldots$`, d),\n        )\n      }\n\n      texte += '<br>' + numAlpha(5)\n      texte += this.interactif\n        ? `Compléter : $f(\\\\ldots)=${c}$`\n        : `Recopier et compléter : $f(\\\\ldots)=${c}$`\n\n      texteCorr += '<br>' + numAlpha(5) + `$f(${f})=${c}$`\n      texte += ajouteChampTexteMathLive(this, i * 6 + 5)\n      setReponse(this, i * 6 + 5, [`f(${f})=${c}`, `${f}`], {\n        formatInteractif: 'texte',\n      })\n      if (context.isAmc) {\n        this.autoCorrection[i].propositions?.push(\n          ajouteProposition(numAlpha(5) + `Compléter : $f(\\\\ldots)=${c}$`, f),\n        )\n      }\n\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\nfunction ajouteProposition(texteProposition: string, nombre: number) {\n  return {\n    type: 'AMCNum', // on donne le type de la première question-réponse qcmMono, qcmMult, AMCNum, AMCOpen\n    propositions: [\n      // une ou plusieurs (Qcms) 'propositions'\n      {\n        texte: '', // Facultatif. la proposition de Qcm ou ce qui est affiché dans le corrigé pour cette question quand ce n'est pas un Qcm\n        reponse: {\n          // utilisé si type = 'AMCNum'\n          texte: texteProposition, // facultatif\n          valeur: nombre, // obligatoire (la réponse numérique à comparer à celle de l'élève). EE : Si une fraction est la réponse, mettre un tableau sous la forme [num,den]\n          alignement: 'center', // EE : ce champ est facultatif et n'est fonctionnel que pour l'hybride. Il permet de choisir où les cases sont disposées sur la feuille. Par défaut, c'est comme le texte qui le précède. Pour mettre à gauche, au centre ou à droite, choisir parmi ('flushleft', 'center', 'flushright').\n          param: {\n            digits: 2, // obligatoire pour AMC (le nombre de chiffres dans le nombre, si digits est mis à 0, alors il sera déterminé pour coller au nombre décimal demandé)\n            decimals: 0, // obligatoire pour AMC (le nombre de chiffres dans la partie décimale du nombre, si decimals est mis à 0, alors il sera déterminé pour coller au nombre décimal demandé)\n            signe: true, // obligatoire pour AMC (présence d'une case + ou -)\n            approx: 0, // (0 = valeur exacte attendue, sinon valeur de tolérance (voir explication détaillée dans type AMCNum))\n          },\n        },\n      },\n    ],\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","ImageAntecedentDepuisTableauOuFleche","Exercice","lang","getLang","i","texte","texteCorr","texteAMC","cpt","a","randint","b","c","d","e","f","ligneX","ligneY","shuffle2tableaux","context","numAlpha","setReponse","ajouteChampTexteMathLive","_a","ajouteProposition","_b","texte3","texteCorr3","_c","texte4","texteCorr4","_d","choice","_e","_f","listeQuestionsToContenu","texteProposition","nombre"],"mappings":"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"}