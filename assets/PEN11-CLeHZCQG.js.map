{"version":3,"file":"PEN11-CLeHZCQG.js","sources":["../../src/exercices/PE/PEN11.ts"],"sourcesContent":["import Exercice from '../Exercice'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  obtenirListeFacteursPremiers,\n  texFactorisation,\n} from '../../lib/outils/primalite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Decimal from 'decimal.js'\nexport const titre = 'Déterminer si un nombre rationnel est décimal'\nexport const uuid = 'b2f0c'\nexport const dateDePublication = '2/1/2025'\nexport const refs = {\n  'fr-fr': ['PEN11'],\n  'fr-ch': [],\n}\n/**\n *\n * @author Rémi Angot\n */\nexport default class IsDecimal extends Exercice {\n  typeQuestionsDisponibles = [\n    'decimalEstRationnel',\n    'num/2^m5^n',\n    'num/2^m5^nX',\n    'numX/2^m5^nX',\n  ]\n\n  constructor() {\n    super()\n    this.typeQuestionsDisponibles = [\n      'num/2^m5^n',\n      'num/2^m5^nX',\n      'numX/2^m5^nX',\n    ]\n    this.nbQuestions = 3\n  }\n\n  nouvelleVersion() {\n    const listeTypeQuestions = combinaisonListes(\n      this.typeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      const typeQuestion = listeTypeQuestions[i]\n      switch (typeQuestion) {\n        case 'decimalEstRationnel': {\n          const nombreDeDecimales = randint(1, 3)\n          let n = new Decimal(randint(1, 10 ** nombreDeDecimales - 1)).div(\n            10 ** nombreDeDecimales,\n          )\n          if (Math.random() < 0.5) {\n            n = n.add(randint(1, 20))\n          }\n          texte = `Le nombre $${texNombre(n)}$ est-il rationnel ?`\n          if (n.mul(10).mod(1).eq(0)) {\n            texteCorr = `$${texNombre(n)} = \\\\dfrac{${texNombre(n.mul(10))}}{10}$`\n          } else if (n.mul(100).mod(1).eq(0)) {\n            texteCorr = `$${texNombre(n)} = \\\\dfrac{${texNombre(n.mul(100))}}{100}$`\n          } else {\n            texteCorr = `$${texNombre(n)} = \\\\dfrac{${texNombre(n.mul(1000))}}{1\\\\,000}$`\n          }\n          texteCorr +=\n            \"<br><br>Ce nombre peut s'écrire sous forme de fraction donc il est rationnel.\"\n          break\n        }\n        case 'num/2^m5^n': {\n          const n = randint(2, 6)\n          const m = randint(2, 4, [n])\n          const num = randint(50, 200)\n          const den = 2 ** n * 5 ** m\n          const f = new FractionEtendue(num, den)\n          texte = `Le nombre $${f.texFraction}$ est-il décimal ?`\n          texteCorr =\n            'Décomposons en produit de facteurs premiers le numérateur et le dénominateur de la fraction.'\n          texteCorr += `<br><br>$${f.texFraction} = \\\\dfrac{${texFactorisation(num)}}{2^{${n}}\\\\times5^{${m}}}$`\n          texteCorr +=\n            \"<br><br>Ce nombre peut s'écrire sous la forme $\\\\dfrac{k}{2^n \\\\times 5^m}$, avec $k$ un entier naturel, il est donc décimal.\"\n          break\n        }\n        case 'num/2^m5^nX': {\n          let num = 1\n          let den = 2\n          let f = new FractionEtendue(num, den)\n          let cpt = 0\n          while (!isDecimal(f) && cpt < 10) {\n            const n = randint(2, 6)\n            const m = randint(2, 4, [n])\n            let x = choice([3, 7, 11, 13])\n            const situation = randint(1, 3)\n            if (situation === 1) {\n              x = x ** randint(2, 3)\n            } else if (situation === 2) {\n              x = x * choice([3, 7, 11, 13], [x]) ** randint(1, 3)\n            }\n            num = randint(50, 200)\n            den = 2 ** n * 5 ** m * x\n            f = new FractionEtendue(num, den)\n            cpt++\n          }\n          if (cpt === 10) {\n            console.error('Problème de génération de la question')\n          }\n          texte = `Le nombre $${f.texFraction}$ est-il décimal ?`\n          texteCorr =\n            'Décomposons en produit de facteurs premiers le numérateur et le dénominateur de la fraction.'\n          texteCorr += `<br><br>$${f.texFraction} = \\\\dfrac{${texFactorisation(num)}}{${texFactorisation(den)}}`\n          if (f.estIrreductible) {\n            texteCorr += '$'\n          } else {\n            texteCorr += `=\\\\dfrac{${texFactorisation(f.numIrred)}}{${texFactorisation(f.denIrred)}}$`\n          }\n          texteCorr +=\n            \"<br><br>Ce nombre peut s'écrire sous la forme d'une  fraction irréductible qui a un facteur différent de 2 et 5 au dénominateur, il n'est donc pas décimal.\"\n          break\n        }\n        case 'numX/2^m5^nX': {\n          const n = randint(2, 6)\n          const m = randint(2, 4, [n])\n          let x = choice([3, 7, 11, 13])\n          const situation = randint(1, 3)\n          if (situation === 1) {\n            x = x ** randint(2, 3)\n          } else if (situation === 2) {\n            x = x * choice([3, 7, 11, 13], [x]) ** randint(1, 3)\n          }\n          const num = randint(50, 200) * x\n          const den = 2 ** n * 5 ** m * x\n          const f = new FractionEtendue(num, den)\n          texte = `Le nombre $${f.texFraction}$ est-il décimal ?`\n          texteCorr =\n            'Décomposons en produit de facteurs premiers le numérateur et le dénominateur de la fraction.'\n          texteCorr += `<br><br>$${f.texFraction} = \\\\dfrac{${texFactorisation(num)}}{${texFactorisation(den)}}`\n          if (f.estIrreductible) {\n            texteCorr += '$'\n          } else {\n            texteCorr += `=\\\\dfrac{${texFactorisation(f.numIrred)}}{${texFactorisation(f.denIrred)}}$`\n          }\n          texteCorr +=\n            \"<br><br>Ce nombre peut s'écrire sous la forme $\\\\dfrac{k}{2^n \\\\times 5^m}$, il est donc décimal.\"\n          break\n        }\n      }\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\nfunction isDecimal(f: FractionEtendue): boolean {\n  const liste = obtenirListeFacteursPremiers(f.denIrred)\n  return liste.some((e) => e !== 2 && e !== 5)\n}\n"],"names":["titre","uuid","dateDePublication","refs","IsDecimal","Exercice","__publicField","listeTypeQuestions","combinaisonListes","i","cpt","texte","texteCorr","nombreDeDecimales","randint","n","Decimal","texNombre","m","num","den","f","FractionEtendue","texFactorisation","isDecimal","x","choice","situation","listeQuestionsToContenu","obtenirListeFacteursPremiers","e"],"mappings":"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"}