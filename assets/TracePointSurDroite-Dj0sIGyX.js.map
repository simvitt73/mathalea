{"version":3,"file":"TracePointSurDroite-Dj0sIGyX.js","sources":["../../src/lib/2d/TracePointSurDroite.ts"],"sourcesContent":["import { context } from '../../modules/context'\nimport { droite, Droite, droiteParPointEtPerpendiculaire } from './droites'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport { point, PointAbstrait } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { rotation } from './transformations'\nimport { longueur } from './utilitairesGeometriques'\nimport { milieu, pointSurSegment } from './utilitairesPoint'\n\n/**\n * P=tracePointSurDroite(A,d) //Ajoute un trait perpendiculaire à d supposée tracée marquant la posiion du point A\n * P=tracePointSurDroite(A,B) //Ajoute un trait perpendiculaire à la droite (AB) supposée tracée marquant la posiion du point A\n *\n * @author Rémi Angot et Jean-Claude Lhote\n */\n\nexport class TracePointSurDroite extends ObjetMathalea2D {\n  lieu: PointAbstrait\n  taille: number\n  x: number\n  y: number\n  direction: PointAbstrait\n  stringColor: string\n\n  constructor(A: PointAbstrait, O: PointAbstrait | Droite, color = 'black') {\n    super()\n    this.stringColor = color\n    this.lieu = A\n    this.taille = 0.2\n    this.x = A.x\n    this.y = A.y\n    let M, d\n    this.bordures = [A.x - 0.2, A.y - 0.2, A.x + 0.2, A.y + 0.2]\n\n    if (O instanceof PointAbstrait) {\n      if (longueur(this.lieu, O) < 0.001) {\n        window.notify(\n          'TracePointSurDroite : points trop rapprochés pour définir une droite',\n          {\n            A,\n            O,\n          },\n        )\n      }\n      M = pointSurSegment(this.lieu, O, 1)\n      this.direction = rotation(M, this.lieu, 90)\n    } else {\n      d = droiteParPointEtPerpendiculaire(this.lieu, O as Droite)\n      this.direction = pointSurSegment(point(d.x1, d.y1), point(d.x2, d.y2), 1)\n    }\n  }\n\n  svg(coeff: number) {\n    const A1 = pointSurSegment(\n      this.lieu,\n      this.direction,\n      (this.taille * 20) / coeff,\n    )\n    const A2 = pointSurSegment(\n      this.lieu,\n      this.direction,\n      (-this.taille * 20) / coeff,\n    )\n    const s = segment(A1, A2, this.stringColor)\n    this.id = s.id\n    return s.svg(coeff)\n  }\n\n  tikz() {\n    const A1 = pointSurSegment(\n      this.lieu,\n      this.direction,\n      this.taille / context.scale,\n    )\n    const A2 = pointSurSegment(\n      this.lieu,\n      this.direction,\n      -this.taille / context.scale,\n    )\n    const s = segment(A1, A2, this.stringColor)\n    return s.tikz()\n  }\n}\n\nexport function tracePointSurDroite(\n  A: PointAbstrait,\n  O: PointAbstrait | Droite,\n  color = 'black',\n) {\n  return new TracePointSurDroite(A, O, color)\n}\n\nexport function traceMilieuSegment(A: PointAbstrait, B: PointAbstrait) {\n  return new TracePointSurDroite(milieu(A, B), droite(A, B))\n}\n"],"names":["TracePointSurDroite","ObjetMathalea2D","A","O","color","__publicField","M","d","PointAbstrait","longueur","pointSurSegment","rotation","droiteParPointEtPerpendiculaire","point","coeff","A1","A2","s","segment","context","tracePointSurDroite"],"mappings":"qgBAgBO,MAAMA,UAA4BC,CAAgB,CAQvD,YAAYC,EAAkBC,EAA2BC,EAAQ,QAAS,CACxE,MAAA,EARFC,EAAA,aACAA,EAAA,eACAA,EAAA,UACAA,EAAA,UACAA,EAAA,kBACAA,EAAA,oBAIE,KAAK,YAAcD,EACnB,KAAK,KAAOF,EACZ,KAAK,OAAS,GACd,KAAK,EAAIA,EAAE,EACX,KAAK,EAAIA,EAAE,EACX,IAAII,EAAGC,EACP,KAAK,SAAW,CAACL,EAAE,EAAI,GAAKA,EAAE,EAAI,GAAKA,EAAE,EAAI,GAAKA,EAAE,EAAI,EAAG,EAEvDC,aAAaK,GACXC,EAAS,KAAK,KAAMN,CAAC,EAAI,MAC3B,OAAO,OACL,uEACA,CACE,EAAAD,EACA,EAAAC,CAAA,CACF,EAGJG,EAAII,EAAgB,KAAK,KAAMP,EAAG,CAAC,EACnC,KAAK,UAAYQ,EAASL,EAAG,KAAK,KAAM,EAAE,IAE1CC,EAAIK,EAAgC,KAAK,KAAMT,CAAW,EAC1D,KAAK,UAAYO,EAAgBG,EAAMN,EAAE,GAAIA,EAAE,EAAE,EAAGM,EAAMN,EAAE,GAAIA,EAAE,EAAE,EAAG,CAAC,EAE5E,CAEA,IAAIO,EAAe,CACjB,MAAMC,EAAKL,EACT,KAAK,KACL,KAAK,UACJ,KAAK,OAAS,GAAMI,CAAA,EAEjBE,EAAKN,EACT,KAAK,KACL,KAAK,UACJ,CAAC,KAAK,OAAS,GAAMI,CAAA,EAElBG,EAAIC,EAAQH,EAAIC,EAAI,KAAK,WAAW,EAC1C,YAAK,GAAKC,EAAE,GACLA,EAAE,IAAIH,CAAK,CACpB,CAEA,MAAO,CACL,MAAMC,EAAKL,EACT,KAAK,KACL,KAAK,UACL,KAAK,OAASS,EAAQ,KAAA,EAElBH,EAAKN,EACT,KAAK,KACL,KAAK,UACL,CAAC,KAAK,OAASS,EAAQ,KAAA,EAGzB,OADUD,EAAQH,EAAIC,EAAI,KAAK,WAAW,EACjC,KAAA,CACX,CACF,CAEO,SAASI,EACdlB,EACAC,EACAC,EAAQ,QACR,CACA,OAAO,IAAIJ,EAAoBE,EAAGC,EAAGC,CAAK,CAC5C"}