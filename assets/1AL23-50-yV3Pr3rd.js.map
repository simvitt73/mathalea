{"version":3,"file":"1AL23-50-yV3Pr3rd.js","sources":["../../src/exercices/1e/1AL23-50.ts"],"sourcesContent":["import { courbe } from '../../lib/2d/Courbe'\nimport { repere } from '../../lib/2d/reperes'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport {\n  ajouteChampTexteMathLive,\n  remplisLesBlancs,\n} from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\nimport { lettreMinusculeDepuisChiffre, sp } from '../../lib/outils/outilString'\nimport {\n  premierMultipleInferieur,\n  premierMultipleSuperieur,\n} from '../../lib/outils/primalite'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Utiliser la représentation graphique d'un polynôme du second degré\"\nexport const dateDeModifImportante = '13/11/2025'\nexport const interactifType = ['mathLive', 'qcm']\nexport const interactifReady = true\n\n/**\n * @author Jean-Léon Henry (modifié par Éric Elter pour corriger exo et remplacer Repere et Courbe par Repere2 et Courbe2 (juillet 2022))\n * Éric Elter le rend interactif le 13/11/2025\n * Faire lire sur un graphique :\n * - le signe du coefficient dominant\n * - les racines\n * - les coordonnées du sommet et/ou la valeur de l'extremum\n * - les 3 trucs précédents\n\n */\nexport const uuid = 'a896e'\n\nexport const refs = {\n  'fr-fr': ['1AL23-50'],\n  'fr-ch': ['1mF3-1'],\n}\nexport default class LireElementsCarac extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de questions ',\n      4,\n      '1 : Signe du coefficient dominant\\n2 : Racines\\n3 : Coordonnées du sommet\\n4 : Mélange des trois type de questions',\n    ]\n\n    this.nbQuestions = 5 // Nombre de questions par défaut\n    this.sup = 4\n  }\n\n  nouvelleVersion() {\n    this.consigne = 'Répondre à '\n    this.consigne += this.nbQuestions > 1 ? 'ces questions' : 'cette question'\n    this.consigne += ' par lecture graphique.'\n    const pixelsParCm = 20\n    let typesDeQuestionsDisponibles\n    if (this.sup < 4) typesDeQuestionsDisponibles = [parseInt(this.sup)]\n    else typesDeQuestionsDisponibles = [1, 2, 3]\n    const fName = []\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    let Ymin\n    let Yscale\n    let Ymax\n    let Xmin\n    let Xmax\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      fName.push(lettreMinusculeDepuisChiffre(i + 6))\n      let texteCorr = ''\n      let texte = ''\n      const a = randint(-2, 2, 0) // On prend a au hasard quoi qu'il arrive\n      let b: number, c: number\n      let x1: number = 0\n      let x2: number = 0\n      let racines: number[] = []\n      let absReponse = 0\n      let ordReponse = 0\n      // Générons les coefficients du trinôme, la consigne, la correction\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // Signe du coefficient dominant\n          texte = 'Quel est le signe du coefficient dominant'\n          // On choisit 2 racines entières distinctes dans [-10;10]\n          do {\n            x1 = randint(-10, 10)\n            x2 = randint(-10, 10, x1)\n          } while (x1 * x2 > 0) // Flemme de coder la gestion d'une racine double\n          // On fabrique les coeffs à partir des racines\n          b = -a * (x1 + x2)\n          c = x1 * x2 * a\n\n          texteCorr = `La parabole est orientée vers le ${a < 0 ? 'bas' : 'haut'}, on en déduit que le coefficient dominant de $\\\\mathscr{${fName[i]}}$ est ${texteEnCouleurEtGras(a < 0 ? 'négatif' : 'positif')}.`\n          break\n        case 2: // Racines\n          texte = 'Quelles sont les racines'\n          // On choisit 2 racines entières distinctes dans [-10;10]\n          do {\n            x1 = randint(-10, 10)\n            x2 = randint(-10, 10, x1)\n          } while (x1 * x2 > 0) // Flemme de coder la gestion d'une racine double\n          // On fabrique les coeffs à partir des racines\n          b = -a * (x1 + x2)\n          c = x1 * x2 * a\n          racines = [x1, x2]\n          texteCorr = `La courbe de $\\\\mathscr{${fName[i]}}$ coupe l'axe horizontal aux points $(${Math.min(x1, x2)};0)$ et $(${Math.max(x1, x2)};0)$. Les deux racines sont donc $${miseEnEvidence(Math.min(x1, x2))}$ et $${miseEnEvidence(Math.max(x1, x2))}$.`\n          break\n        case 3: // Coordonnées du sommet\n        default:\n          texte = 'Quelles sont les coordonnées du sommet'\n          // On choisit le sommet au hasard\n          absReponse = randint(-5, 5)\n          ordReponse = randint(-5, 5)\n          // On fabrique les coefficients\n          b = -2 * a * absReponse\n          c = a * absReponse ** 2 + ordReponse\n\n          texteCorr = `Le sommet, c'est-à-dire le point le plus ${a > 0 ? 'bas' : 'haut'} de la parabole, a pour coordonnées $(${miseEnEvidence(absReponse)}~;~${miseEnEvidence(ordReponse)})$.`\n          break\n      }\n      // Les coeffs sont générés, on peut donc créer la fonction\n      const f = function (x: number) {\n        return a * x ** 2 + b * x + c\n      }\n      texte += ` de la fonction polynomiale $\\\\mathscr{${fName[i]}}$ du second degré représentée ci-dessous ?<br>`\n      if (this.interactif)\n        switch (listeTypeDeQuestions[i]) {\n          case 1:\n            this.autoCorrection[i] = {\n              enonce: texte,\n              propositions: [\n                {\n                  texte: 'positif',\n                  statut: a > 0,\n                  feedback: '',\n                },\n                {\n                  texte: 'négatif',\n                  statut: a < 0,\n                  feedback: '',\n                },\n              ],\n            }\n            texte += propositionsQcm(this, i).texte\n            break\n          case 2:\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierDeBaseAvecFractionPuissanceCrochets,\n              {\n                texteAvant: 'Les racines sont : ',\n                texteApres:\n                  sp(4) + '(Séparer les racines par un point-virgule.)',\n              },\n            )\n            handleAnswers(this, i, {\n              reponse: {\n                value: racines.join(';'),\n                options: { suiteDeNombres: true },\n              },\n            })\n            break\n          case 3:\n            texte +=\n              'Les coordonnées du point recherché sont : ' +\n              remplisLesBlancs(\n                this,\n                i,\n                `$(%{champ1}~;~ %{champ2})`,\n                KeyboardType.clavierNumbers,\n              ) +\n              '.'\n            handleAnswers(this, i, {\n              bareme: (listePoints) => [\n                Math.min(listePoints[0], listePoints[1]),\n                1,\n              ],\n              champ1: { value: absReponse },\n              champ2: { value: ordReponse },\n            })\n        }\n      /** Génération du graphique\n       * a = randint(-2,2,0)\n       * Q1,Q2 :\n       *    deux racines dans [-9;9]\n       * Q3 :\n       *    le sommet dans le carré [-9;9]²\n       */\n\n      if (listeTypeDeQuestions[i] === 3) {\n        Xmin = absReponse - 5\n        Xmax = absReponse + 5\n        Ymin = ordReponse - 5\n        Ymax = ordReponse + 5\n      } else {\n        Xmin = Math.min(x1, x2) - 2\n        Xmax = Math.max(x1, x2) + 2\n        if (a < 0) {\n          Ymax = Math.ceil(f(-b / (2 * a)) + 2)\n          Ymin = f(Xmin)\n        } else {\n          Ymin = Math.floor(f(-b / (2 * a)) - 2)\n          Ymax = f(Xmax)\n        }\n      }\n\n      if (Ymax - Ymin < 10) Yscale = 2\n      else\n        Yscale =\n          Math.max(1, Math.round(Math.ceil((Ymax - Ymin) / 10) / 5) * 5) * 2\n      if (listeTypeDeQuestions[i] === 3) {\n        // Nécessaire pour permettre la lecture graphique\n        Yscale = 1\n      }\n      const r = repere({\n        xMin: Xmin,\n        yMin: premierMultipleInferieur(Yscale, Ymin),\n        yMax: premierMultipleSuperieur(Yscale, Ymax),\n        xMax: Xmax,\n        yUnite: 1 / Yscale,\n        yThickDistance: Yscale,\n        grilleYDistance: Yscale,\n        yLabelEcart: 0.8,\n      })\n\n      const svgYmin = Math.min(Ymin / Yscale, -1)\n      const svgYmax = Math.max(Ymax / Yscale, 1)\n\n      const F = (x: number) => a * x ** 2 + b * x + c\n      const objets = [\n        r,\n        courbe(F, {\n          repere: r,\n          xMin: Xmin,\n          xMax: Xmax,\n          color: 'blue',\n          epaisseur: 1.5,\n        }),\n      ]\n      texte += mathalea2d(\n        {\n          xmin: Xmin - 1,\n          xmax: Xmax + 1,\n          ymin: svgYmin,\n          ymax: svgYmax + 2,\n          pixelsParCm,\n          scale: 0.6,\n        },\n        objets,\n      )\n\n      if (this.questionJamaisPosee(i, a, b, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDeModifImportante","interactifType","interactifReady","uuid","refs","LireElementsCarac","Exercice","pixelsParCm","typesDeQuestionsDisponibles","fName","listeTypeDeQuestions","combinaisonListes","Ymin","Yscale","Ymax","Xmin","Xmax","i","cpt","lettreMinusculeDepuisChiffre","texteCorr","texte","a","randint","b","c","x1","x2","racines","absReponse","ordReponse","texteEnCouleurEtGras","miseEnEvidence","f","x","propositionsQcm","ajouteChampTexteMathLive","KeyboardType","sp","handleAnswers","remplisLesBlancs","listePoints","r","repere","premierMultipleInferieur","premierMultipleSuperieur","svgYmin","svgYmax","objets","courbe","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}