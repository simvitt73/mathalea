{"version":3,"file":"1A-S02-5-Dgukc_yZ.js","sources":["../../src/exercices/1e/1A-S02-5.ts"],"sourcesContent":["import { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { randint } from '../../modules/outils'\nimport { nombreElementsDifferents } from '../ExerciceQcm'\nimport ExerciceQcmA from '../ExerciceQcmA'\n\nexport const uuid = 'dbebb'\nexport const refs = {\n  'fr-fr': ['1A-S02-5'],\n  'fr-ch': [],\n}\nexport const interactifReady = true\nexport const interactifType = 'qcm'\nexport const amcReady = 'true'\nexport const amcType = 'qcmMono'\nexport const titre = \"Déterminer la moyenne d'une série rangée en classes\"\nexport const dateDePublication = '05/08/2025'\n// Ceci est un exemple de QCM avec version originale et version aléatoire\n/**\n * @author Stéphane Guyon\n */\n\nexport default class MoyenneClasseQCM extends ExerciceQcmA {\n  // Ceci est la fonction qui s'occupe d'écrire l'énoncé, la correction et les réponses\n  // Elle factorise le code qui serait dupliqué dans versionAleatoire et versionOriginale\n  private appliquerLesValeurs(): void {\n    const valeurInferieure = randint(2, 4) // valeur inférieure de la première classe\n    const pas = choice([2, 4]) // pas de la classe\n    const nombreClasses = 2 // nombre de classes\n    let effectifs = []\n\n    // Génère un tableau d'effectifs de longueur nombreClasses, avec des valeurs aléatoires entre 1 et 7\n    effectifs = Array.from({ length: nombreClasses }, () => randint(3, 7))\n    if (effectifs[0] === effectifs[1]) {\n      effectifs[1] = randint(3, 7, effectifs[0])\n    }\n    // Génère les bornes des classes sous forme de chaînes '[a ; b['\n    const classes = [\n      `[${valeurInferieure} ; ${valeurInferieure + pas}[`,\n      `[${valeurInferieure + pas} ; ${valeurInferieure + 2 * pas}[`,\n    ]\n\n    // On choisit les effectifs pour que la moyenne soit un entier\n    // On fixe la somme des produits centre[i] * effectifs[i] pour que, divisée par sommeEffectifs, ça donne un entier\n    // On choisit un entier cible pour la moyenne\n    // const moyenneCible = randint(valeurInferieure + pas/2, valeurInferieure + 2 * pas)\n    // On choisit des effectifs aléatoires sauf le dernier, qu'on ajuste pour que la moyenne soit entière\n    const effectifs1 = randint(1, 7)\n    const effectifs2 = randint(1, 7, effectifs1)\n    effectifs = [effectifs1, effectifs2]\n    const centres = [\n      valeurInferieure + pas / 2,\n      valeurInferieure + (3 * pas) / 2,\n    ]\n\n    const sommePartielle = effectifs1 * centres[0] + effectifs2 * centres[1]\n    const sommeEffPartielle = effectifs1 + effectifs2\n    const moyenne = sommePartielle / sommeEffPartielle\n    // ⚠️ Test de sécurité\n    if (!Number.isInteger(moyenne) || moyenne < 1 || moyenne > 10)\n      return this.appliquerLesValeurs()\n\n    // On crée le tableau de répartition des tailles\n    // On utilise tableauColonneLigne pour créer un tableau avec les classes et les effectifs\n    // tableauColonneLigne prend en premier argument un tableau de titres de colonnes,\n    // en second argument un tableau de titres de lignes, et en troisième argument un tableau de valeurs\n    // Ici, on utilise les classes comme titres de colonnes et 'Effectifs' comme titre de ligne\n    // On utilise les effectifs comme valeurs\n    const tableau = tableauColonneLigne(\n      ['\\\\text{Taille}', ...classes],\n      ['\\\\text{Effectifs}'],\n      [...effectifs],\n    )\n    const distracteur1 = Number(\n      effectifs.reduce((a, b) => a + b, 0) / effectifs.length,\n    )\n    const distracteur2 = moyenne + (randint(-1, 1, 0) * randint(1, 3, 2)) / 2\n    let distracteur3\n    do {\n      distracteur3 = moyenne + randint(-2, 2, 0)\n    } while (distracteur3 === distracteur1)\n    this.reponses = [\n      `$${moyenne}$`,\n      `  $${distracteur1}$`,\n      `  $${texNombre(distracteur2)}$`,\n      `  $${texNombre(distracteur3)}$`,\n    ]\n\n    this.enonce = `On donne ci-dessous le tableau de répartition des tailles de plants d'une serre, rangées en classes.\n <br><br> ${tableau}\n <br><br> Les tailles sont exprimées en centimètres.\n <br> Quelle est la taille moyenne en cm des plants de cette serre ?`\n    this.correction = `Pour calculer la taille d'une série rangée en classes, on calcule d'abord la valeur centrale de chaque classe :<br>\n    La première classe a pour centre $\\\\dfrac{${valeurInferieure} + ${valeurInferieure + pas}}{2} = ${valeurInferieure + pas / 2}\\\\text{ cm}$.<br>\n    La seconde classe a pour centre $\\\\dfrac{${valeurInferieure + pas} + ${valeurInferieure + 2 * pas}}{2} = ${valeurInferieure + (3 * pas) / 2}\\\\text{ cm}$.<br>\n    On calcule ensuite la moyenne pondérée des tailles, en multipliant chaque centre de classe par l'effectif de la classe correspondante, puis en divisant par la somme des effectifs :<br>\n    $\\\\dfrac{${effectifs[0]} \\\\times ${centres[0]} + ${effectifs[1]} \\\\times ${centres[1]}}{${effectifs[0]} + ${effectifs[1]}} = \\\\dfrac{${sommePartielle}}{${sommeEffPartielle}} = ${moyenne}$ .<br>\n    <br> La taille moyenne des plants de cette serre est donc de $${miseEnEvidence(moyenne)}\\\\text{ cm}$.`\n    this.reponse = `${moyenne}`\n  }\n\n  versionAleatoire: () => void = () => {\n    const n = 4 // nombre de réponses différentes voulues (on rappelle que la première réponse est la bonne)\n    do {\n      this.appliquerLesValeurs()\n    } while (nombreElementsDifferents(this.reponses) < n)\n  }\n\n  // Ici il n'y a rien à faire, on appelle juste la version aleatoire (pour un qcm aleatoirisé, c'est le fonctionnement par défaut)\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = false\n    this.options = { vertical: false, ordered: false }\n    this.versionAleatoire()\n  }\n}\n"],"names":["uuid","refs","interactifReady","interactifType","amcReady","amcType","titre","dateDePublication","MoyenneClasseQCM","ExerciceQcmA","__publicField","nombreElementsDifferents","valeurInferieure","randint","pas","choice","nombreClasses","effectifs","classes","effectifs1","effectifs2","centres","sommePartielle","sommeEffPartielle","moyenne","tableau","tableauColonneLigne","distracteur1","a","b","distracteur2","distracteur3","texNombre","miseEnEvidence"],"mappings":"mzGAQO,MAAMA,GAAO,QACPC,GAAO,CAClB,QAAS,CAAC,UAAU,EACpB,QAAS,CAAA,CACX,EACaC,GAAkB,GAClBC,GAAiB,MACjBC,GAAW,OACXC,GAAU,UACVC,GAAQ,sDACRC,GAAoB,aAMjC,MAAqBC,WAAyBC,CAAa,CAuFzD,aAAc,CACZ,MAAA,EATFC,EAAA,wBAA+B,IAAM,CAEnC,GACE,KAAK,oBAAA,QACEC,EAAyB,KAAK,QAAQ,EAAI,EACrD,GAKE,KAAK,4BAA8B,GACnC,KAAK,QAAU,CAAE,SAAU,GAAO,QAAS,EAAA,EAC3C,KAAK,iBAAA,CACP,CAzFQ,qBAA4B,CAClC,MAAMC,EAAmBC,EAAQ,EAAG,CAAC,EAC/BC,EAAMC,EAAO,CAAC,EAAG,CAAC,CAAC,EACnBC,EAAgB,EACtB,IAAIC,EAAY,CAAA,EAGhBA,EAAY,MAAM,KAAK,CAAE,OAAQD,CAAA,EAAiB,IAAMH,EAAQ,EAAG,CAAC,CAAC,EACjEI,EAAU,CAAC,IAAMA,EAAU,CAAC,IAC9BA,EAAU,CAAC,EAAIJ,EAAQ,EAAG,EAAGI,EAAU,CAAC,CAAC,GAG3C,MAAMC,EAAU,CACd,IAAIN,CAAgB,MAAMA,EAAmBE,CAAG,IAChD,IAAIF,EAAmBE,CAAG,MAAMF,EAAmB,EAAIE,CAAG,GAAA,EAQtDK,EAAaN,EAAQ,EAAG,CAAC,EACzBO,EAAaP,EAAQ,EAAG,EAAGM,CAAU,EAC3CF,EAAY,CAACE,EAAYC,CAAU,EACnC,MAAMC,EAAU,CACdT,EAAmBE,EAAM,EACzBF,EAAoB,EAAIE,EAAO,CAAA,EAG3BQ,EAAiBH,EAAaE,EAAQ,CAAC,EAAID,EAAaC,EAAQ,CAAC,EACjEE,EAAoBJ,EAAaC,EACjCI,EAAUF,EAAiBC,EAEjC,GAAI,CAAC,OAAO,UAAUC,CAAO,GAAKA,EAAU,GAAKA,EAAU,GACzD,OAAO,KAAK,oBAAA,EAQd,MAAMC,EAAUC,EACd,CAAC,iBAAkB,GAAGR,CAAO,EAC7B,CAAC,mBAAmB,EACpB,CAAC,GAAGD,CAAS,CAAA,EAETU,EAAe,OACnBV,EAAU,OAAO,CAACW,EAAGC,IAAMD,EAAIC,EAAG,CAAC,EAAIZ,EAAU,MAAA,EAE7Ca,EAAeN,EAAWX,EAAQ,GAAI,EAAG,CAAC,EAAIA,EAAQ,EAAG,EAAG,CAAC,EAAK,EACxE,IAAIkB,EACJ,GACEA,EAAeP,EAAUX,EAAQ,GAAI,EAAG,CAAC,QAClCkB,IAAiBJ,GAC1B,KAAK,SAAW,CACd,IAAIH,CAAO,IACX,MAAMG,CAAY,IAClB,MAAMK,EAAUF,CAAY,CAAC,IAC7B,MAAME,EAAUD,CAAY,CAAC,GAAA,EAG/B,KAAK,OAAS;AAAA,YACNN,CAAO;AAAA;AAAA,sEAGf,KAAK,WAAa;AAAA,gDAC0Bb,CAAgB,MAAMA,EAAmBE,CAAG,UAAUF,EAAmBE,EAAM,CAAC;AAAA,+CACjFF,EAAmBE,CAAG,MAAMF,EAAmB,EAAIE,CAAG,UAAUF,EAAoB,EAAIE,EAAO,CAAC;AAAA;AAAA,eAEhIG,EAAU,CAAC,CAAC,YAAYI,EAAQ,CAAC,CAAC,MAAMJ,EAAU,CAAC,CAAC,YAAYI,EAAQ,CAAC,CAAC,KAAKJ,EAAU,CAAC,CAAC,MAAMA,EAAU,CAAC,CAAC,eAAeK,CAAc,KAAKC,CAAiB,OAAOC,CAAO;AAAA,oEACzHS,EAAeT,CAAO,CAAC,gBACvF,KAAK,QAAU,GAAGA,CAAO,EAC3B,CAgBF"}