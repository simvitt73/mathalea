{"version":3,"file":"3F21-3-BtHUV8zD.js","sources":["../../src/exercices/3e/3F21-3.ts"],"sourcesContent":["import { cercle } from '../../lib/2d/cercle'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { droite } from '../../lib/2d/droites'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { repere } from '../../lib/2d/reperes'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport { milieu } from '../../lib/2d/utilitairesPoint'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { functionCompare } from '../../lib/interactif/comparisonFunctions'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { ecritureAlgebrique, rienSi1 } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { numAlpha, sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Lire graphiquement les caractéristiques de la courbe représentative d'une fonction affine ou linéaire\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDeModifImportante = '28/05/2023'\n\n/**\n * Lire la pente et l'ordonnée à l'origine d'une droite pour en déduire la forme algébrique de la fonction affine\n * @author Rémi Angot (modifié par EE pour l'ajout de paramètres)\n\n */\nexport const uuid = '056fa'\n\nexport const refs = {\n  'fr-fr': ['3F21-3'],\n  'fr-ch': ['11FA8-12'],\n}\nexport default class PenteEtOrdonneeOrigineDroite extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaire2Numerique = [\n      'Signe du coefficient directeur ',\n      3,\n      '1 : Positif\\n2 : Négatif\\n3: Peu importe',\n    ]\n    this.besoinFormulaireNumerique = [\n      'Coefficient directeur ',\n      3,\n      '1 : Entier\\n2 : Décimal\\n3: Peu importe',\n    ]\n    this.besoinFormulaire3Numerique = [\n      \"Signe de l'ordonnée à l'origine \",\n      3,\n      '1 : Positif\\n2 : Négatif\\n3: Peu importe',\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Type de fonctions ',\n      3,\n      '1 : Linéaires\\n2 : Affines et non linéaires\\n3: Affines ou linéaires',\n    ]\n\n    this.nbQuestions = 2\n    // this.nbCols = 2 // Uniquement pour la sortie LaTeX\n    // this.nbColsCorr = 2 // Uniquement pour la sortie LaTeX\n\n    this.sup = 3\n    this.sup2 = 3\n    this.sup3 = 3\n    this.sup4 = 2\n  }\n\n  nouvelleVersion() {\n    let questionInteractif = 0\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      const signeNum =\n        this.sup2 === 3 ? choice([-1, 1]) : this.sup2 === 2 ? -1 : 1\n      const num =\n        (this.sup === 2 ? choice([1, 3, 5]) : randint(1, 5)) * signeNum\n      this.sup = contraindreValeur(1, 3, this.sup, 1)\n      const den = this.sup === 3 ? randint(1, 2) : this.sup\n      const a = num / den\n      const b =\n        this.sup4 === 1\n          ? 0\n          : (this.sup3 === 3 ? choice([-1, 1]) : this.sup3 === 2 ? -1 : 1) *\n            randint(this.sup4 === 2 ? 1 : 0, 4)\n      const vocabulaire = b === 0 ? 'linéaire' : 'affine'\n      let xMin\n      context.isHtml ? (xMin = -10) : (xMin = -8)\n      const xMax = -xMin\n      const yMin = xMin\n      const yMax = -yMin\n\n      const r = repere({ xMin, yMin, xMax, yMax })\n      const f = (x: number): number => a * x + b\n\n      const d = droite(a, -1, b)\n      d.color = colorToLatexOrHTML('blue')\n      d.epaisseur = 2\n      const c = cercle(point(0, b), 0.8, '#f15929')\n      c.epaisseur = 2\n      let x0 = -7\n      while (\n        !Number.isInteger(f(x0)) ||\n        f(x0) <= yMin ||\n        f(x0) >= yMax ||\n        x0 === -1 ||\n        x0 === 0\n      ) {\n        x0 += 1\n        if (x0 >= xMax) {\n          // pour éviter une boucle infinie\n          x0 = 1\n          break\n        }\n      }\n      const A = point(x0, f(x0))\n      const B = point(x0 + 1, f(x0))\n      const C = point(x0 + 1, f(x0 + 1))\n      const s1 = segment(A, B, '#f15929')\n      const s2 = segment(B, C, '#f15929')\n      const M1 = milieu(A, B)\n      const M2 = milieu(B, C)\n      const t1 = texteParPoint('$1$', point(M1.x, M1.y + (a > 0 ? -0.4 : 0.4)))\n      const t2 = texteParPoint(`$${texNombre(a)}$`, point(M2.x + 0.6, M2.y))\n      t1.color = colorToLatexOrHTML('#f15929')\n      t2.color = colorToLatexOrHTML('#f15929')\n\n      s1.epaisseur = 3\n      s1.pointilles = 5\n      s2.epaisseur = 3\n      s2.pointilles = 5\n\n      const nomFonction = choice(['f', 'g', 'h', 'f_1', 'f_2', 'f_3'])\n\n      const introduction =\n        `On a représenté ci-dessous une fonction ${vocabulaire} $${nomFonction}$.<br>` +\n        mathalea2d(\n          {\n            xmin: xMin,\n            xmax: xMax,\n            ymin: yMin,\n            ymax: yMax,\n            scale: context.isHtml ? 1 : 0.5,\n          },\n          r,\n          d,\n        )\n      const consigneCorrection = mathalea2d(\n        {\n          xmin: xMin,\n          xmax: xMax,\n          ymin: yMin,\n          ymax: yMax,\n        },\n        r,\n        d,\n        c,\n        s1,\n        s2,\n        t1,\n        t2,\n      )\n      let question1\n      let question2\n      let question3\n      let indice = 0\n      let correction1, correction2, correction3\n      if (vocabulaire === 'affine') {\n        question1 =\n          numAlpha(indice) +\n          `Quelle est l'ordonnée à l'origine de la fonction $${nomFonction}$ ?`\n        question1 += ajouteChampTexteMathLive(\n          this,\n          questionInteractif,\n          KeyboardType.clavierDeBase,\n        )\n        correction1 = consigneCorrection + '<br>'\n        correction1 +=\n          numAlpha(indice) +\n          `La droite coupe l'axe des ordonnées au point de coordonnées $(0;${b})$. L'ordonnée de $${nomFonction}$ à l'origine est donc $${miseEnEvidence(b)}$.`\n        indice++\n      }\n      question2 =\n        numAlpha(indice) +\n        `Quel est le coefficient directeur de $${nomFonction}$ ?`\n      question2 += ajouteChampTexteMathLive(\n        this,\n        (vocabulaire === 'affine' ? 1 : 0) + questionInteractif,\n        KeyboardType.clavierDeBase,\n      )\n      correction2 =\n        numAlpha(indice) +\n        `À chaque fois que l'on avance de 1 unité d'abscisses, on ${a > 0 ? 'monte' : 'descend'} de $${texNombre(Math.abs(a))}$ unité${Math.abs(a) >= 2 ? 's' : ''} d'ordonnées. `\n      correction2 += `Le coefficient directeur de $${nomFonction}$ est donc $${miseEnEvidence(texNombre(a))}$.`\n      indice++\n      question3 =\n        numAlpha(indice) +\n        `En déduire l'expression algébrique de $${nomFonction}$.`\n      question3 += ajouteChampTexteMathLive(\n        this,\n        (vocabulaire === 'affine' ? 2 : 1) + questionInteractif,\n        KeyboardType.clavierDeBaseAvecX,\n        { texteAvant: `$${sp(10)}${nomFonction} : x \\\\mapsto $` },\n      )\n      correction3 =\n        numAlpha(indice) +\n        `$${nomFonction}$ étant une fonction ${vocabulaire}, on a $${nomFonction} : x \\\\mapsto $` +\n        (vocabulaire === 'affine'\n          ? \"$ax + b$ avec $a$ son coefficient directeur (ou pente) et $b$ son ordonnée à l'origine.\"\n          : '$ax$ avec $a$ son coefficient directeur (ou pente).')\n      correction3 +=\n        `<br>Finalement, $${nomFonction} : x \\\\mapsto ${miseEnEvidence(`${(rienSi1(a) as string).toString().replace('.', ',')}x`)}$` +\n        (vocabulaire === 'affine'\n          ? `$${miseEnEvidence(ecritureAlgebrique(b))}$.`\n          : '.')\n\n      if (vocabulaire === 'affine') setReponse(this, questionInteractif, b)\n      handleAnswers(\n        this,\n        (vocabulaire === 'affine' ? 1 : 0) + questionInteractif,\n        { reponse: { value: `\\\\frac{${num}}{${den}}` } },\n      )\n      handleAnswers(\n        this,\n        (vocabulaire === 'affine' ? 2 : 1) + questionInteractif,\n        {\n          reponse: {\n            value: `\\\\frac{${num}}{${den}}x+${b}`,\n            options: { variable: 'x' },\n            compare: functionCompare,\n          },\n        },\n      )\n\n      texte =\n        introduction +\n        (vocabulaire === 'affine' ? question1 + '<br>' : '') +\n        question2 +\n        '<br>' +\n        question3\n      texteCorr =\n        (vocabulaire === 'affine' ? correction1 + '<br>' : '') +\n        correction2 +\n        '<br>' +\n        correction3\n\n      if (this.questionJamaisPosee(i, a, b, num, den)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: introduction + '<br>',\n            enonceAvant: false,\n            // enonceAvantUneFois: true, // EE : ce champ est facultatif et permet (si true) d'afficher l'énoncé ci-dessus une seule fois avant la numérotation de la première question de l'exercice. Ne fonctionne correctement que si l'option melange est à false.\n            // enonceCentre: false, // EE : ce champ est facultatif et permet (si true) de centrer le champ 'enonce' ci-dessus.\n            enonceApresNumQuestion: true, // New (12/2022) EE : ce champ est facultatif et permet (si true) de mettre le champ 'enonce' à côté du numéro de question (et non avant par défaut). Ne fonctionne (pour l'instant) que si la première question est AMCNum (pas de besoin autre pour l'instant).\n            options: { multicolsAll: true },\n            propositions: [],\n          }\n          if (vocabulaire === 'affine') {\n            this.autoCorrection[i].propositions?.push({\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: question1,\n                    valeur: [b],\n                    param: {\n                      signe: true,\n                    },\n                  },\n                },\n              ],\n            })\n          }\n          this.autoCorrection[i].propositions?.push(\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: question2,\n                    valeur: [a],\n                    param: {\n                      signe: true,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: '',\n                  enonce: question3 + '<br>',\n                  statut: 1,\n                },\n              ],\n            },\n          )\n        }\n        i++\n        questionInteractif += vocabulaire === 'linéaire' ? 2 : 3\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","PenteEtOrdonneeOrigineDroite","Exercice","questionInteractif","i","texte","texteCorr","cpt","signeNum","choice","num","randint","contraindreValeur","den","a","b","vocabulaire","xMin","context","xMax","yMin","yMax","r","repere","f","x","d","droite","colorToLatexOrHTML","c","cercle","point","x0","A","B","C","s1","segment","s2","M1","milieu","M2","t1","texteParPoint","t2","texNombre","nomFonction","introduction","mathalea2d","consigneCorrection","question1","question2","question3","indice","correction1","correction2","correction3","numAlpha","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","sp","rienSi1","ecritureAlgebrique","setReponse","handleAnswers","functionCompare","_a","_b","listeQuestionsToContenu"],"mappings":"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"}