var H=Object.defineProperty;var O=($,n,r)=>n in $?H($,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):$[n]=r;var C=($,n,r)=>O($,typeof n!="symbol"?n+"":n,r);import{D as E}from"./vendors/decimal.js-BceHFVC1.js";import{V as T,s as w,c as N,f as B,d as G,e as _,u as J,p as K,a as U,g as W,b as X,l as Y}from"./patternsPreDef-DmCq29UJ.js";import{l as y,a as q}from"./shapes2d-D_BSmQTa.js";import{f as k}from"./fixeBordures-BSnKuTIe.js";import{V}from"./VisualPattern-C3nSLND_.js";import{p as j}from"./PointAbstrait-Cz1GEocE.js";import{p as Z}from"./polygones-dllpvdk8.js";import{t as ee}from"./textes-CS7rU0Yo.js";import{E as te,P as D,a1 as F,s as ie,x as se,r as re,p as oe}from"./index-vfG7N0N9.js";import{m as z}from"./mathalea2d-CVCH8NiC.js";import"./Canvas3DElement-YTHQSdXB.js";import"./vendors/troika-three-text-BBDrwUFb.js";import"./vendors/three-DbtVOfJ6.js";import"./vendors/troika-worker-utils-DbVzmR1E.js";import"./vendors/webgl-sdf-generator-qD_8IFx2.js";import"./vendors/bidi-js-DLACMwmw.js";import"./vendors/troika-three-utils-BcJLkcKO.js";import"./ObjetMathalea2D-CXcNXRpD.js";import"./Figures2D-CC6hNZK0.js";import"./transformations-BnhWpg4x.js";import"./droites-C34ydQPV.js";import"./utilitairesGeometriques-rO8Jz15i.js";import"./segmentsVecteurs-Dh5p_FwX.js";import"./vendors/roughjs-CycZv-lV.js";import"./Vide2d-lYMmc9eB.js";import"./vendors/earcut-jJVragJp.js";import"./pattern-I1sXJuF2.js";/* empty css                         */import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/katex-BSW5_u9c.js";import"./vendors/seedrandom-Cz-2rAdY.js";import"./vendors/apigeom-DuS4UMKQ.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./json/uuidsToUrlFR-BymNGK-G.js";import"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-CKp8Whw5.js";import"./json/refToUuidCH-C3otjGt1.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-CxJkatM_.js";import"./json/referentiel2022FR-DUyIuCDZ.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";const Vt="Liste des patterns stockés dans MathALÉA avec leurs numéros de référence",zt={"fr-fr":["P023-old"],"fr-ch":[]},At="4c9ca";class Ht extends te{constructor(){super();C(this,"destroyers",[]);this.nbQuestions=1,this.listePackages=["twemojis"],this.nbQuestionsModifiable=!1,this.besoinFormulaireNumerique=["Liste restreinte pour la référence",6,`1 : 4L13-3
2 : 6I13-1
3 : PLus de 6I13-2
4 : Plus de 6I14
5 : 5L10-5
6 : 5P12-2`],this.sup=1,this.besoinFormulaire3Numerique=["Nombre de motifs par pattern",6],this.sup3=4,this.comment=`Affiche la liste des patterns stockés dans Mathaléa avec leurs numéros de référence.<br>
Vous pouvez choisir d'afficher un ou plusieurs patterns en indiquant leur numéro de référence dans le formulaire.<br>
Le nombre de motifs par pattern (3 par défaut) est aussi modifiable dans le formulaire.<br>
Le nombre de patterns à afficher est aussi modifiable dans le formulaire.<br>
Le nombre donné entre parenthèses est le nombre d'éléments au rang 43 de chaque pattern.<br>
L'expression donnée entre crochets est la formule qui permet de calculer le nombre d'éléments au rang n de chaque pattern.<br>`}destroy(){this.destroyers.forEach(r=>r()),this.destroyers.length=0}nouvelleVersion(){this.destroyers.forEach(t=>t()),this.sup3=Math.max(2,this.sup3);let r=[];switch(this.sup){case 1:case 2:r=Y;break;case 3:r=X;break;case 4:break;case 5:r=W;break;case 6:r=U;break}const A=Array.from(new Set(r.map(t=>t.shapes).flat()));let p="";if(D.isHtml||(p+=`${A.map(t=>y[t].shapeDef.tikz()).join(`
`)}
`),!(r==null||r.length===0)){for(let t=0;t<r.length;t++){const i=r[t];if(i==null){p+=`
${F(`Pattern ${t+1}`,"red")}: ${F("Pattern inexistant","red")}`;continue}if("nbMotifMin"in i){const x=[];for(const o of i.shapes)o in y&&x.push(y[o].shapeDef);for(let o=0;o<=i.nbMotifMin;o++){const g=new V([]);g.shapes=i.shapes,g.iterate=i.iterate,x.push(g.render(o,o+1,0))}p+=`
${F(`Pattern ${t+1}`,"blue")}:  <br>`,p+=z(Object.assign(k(x,{rxmin:0,rymin:-1,rxmax:0,rymax:1}),{pixelsParCm:20,scale:.4,optionsTikz:"transform shape"}),x)}else{const x="nbMotifMin"in i?null:new E(i.fonctionNb(43)).toString(),o="nbMotifMin"in i?null:i.fonctionRatio?i.fonctionRatio(43).values.map(e=>new E(e).toString()).join("~:~"):null,g="nbMotifMin"in i?null:i.fonctionFraction&&i.fonctionRatio?`\\dfrac{${(i.fonctionRatio(43).values[0]??0).toString()}}{${new E(i.fonctionNb(43)).toString()}}`:null;p+=`
${F(`Pattern ${t+1}`,"blue")}: Motif 43 : $\\left(${x}\\right)$ ${g?`; fraction : $${g}$ `:""} ${o?`; ratio : $${o}$`:""} ; formule : ${ie(6)}$\\left[${se(i.formule??"")}\\right]$ <br>`;const M=i;D.isHtml&&(p+=M.visualImg!=null?`<a href="${M.visualImg}" target="_blank">Image</a><br><br>`:"");const s="iterate3d"in i?new T({initialCells:[],type:"iso",shapes:i.shapes,prefixId:`Ex${this.numeroExercice}Q${t}`}):new V([]);"iterate3d"in s?(s.shapes=["cube"],s.iterate3d=M.iterate3d):(s.shapes=M.shapes||q[re(0,q.length-1)],s.iterate=M.iterate);const P=Math.PI/2.5;let L=0,S=0;const l=[];for(let e=0;e<this.sup3;e++){l[e]=[];let m=[],I=1/0,f=-1/0,c=1/0,u=-1/0;if(D.isHtml)for(let h=0;h<s.shapes.length;h++){let d=s.shapes[h];if(d in y){if(d==="carré"){const a=String(oe(Object.keys(y)));d=a,s.shapes[h]=a}l[e].push(y[d].shapeDef)}else if(d==="cube"){s.shape==null&&(s.shape=w());const a=N(`cubeIsoQ${t}F${e}`,1);a.svg=function(v){return`
          <defs>
            <g id="cubeIsoQ${t}F${e}">
              ${B(P)}
              ${G(P)}
              ${_(P)}
            </g>
          </defs>`},l[e].push(a)}else console.warn(`Shape ${d} n'est pas dans listeShapesDef ou emojis et n'est pas un cube`)}if("iterate3d"in s)if(s.shape==null&&(s.shape=w(`cubeIsoQ${t}F${e}`,0,0,{scale:1})),D.isHtml){const h=J({pattern:s,i:t,j:e,angle:P,inCorrectionMode:!1});h&&this.destroyers.push(h),s.shape.codeSvg=`<use href="#cubeIsoQ${t}F${e}"></use>`,s.update3DCells(e+1).forEach(a=>{const[v,R]=K(a[0],a[1],a[2],P),b=w(`cubeIsoQ${t}F${e}`,v,R,{scale:1});b.x=v/20,b.y=-R/20,m.push(b),I=Math.min(I,b.y),f=Math.max(f,b.y+1),c=Math.min(c,b.x),u=Math.max(u,b.x+1)})}else m=[N(`cubeIsoQ${t}F${e}`),...s.render(e+1,0,0,Math.PI/6)],{xmin:c,ymin:I,xmax:u,ymax:f}=k(m);else m=s.render(e+1,0,0),{xmin:c,ymin:I,xmax:u,ymax:f}=k(m);l[e].push(...m),l[e].push(ee(`Motif ${e+1}`,(u+c)/2,-1.5,0,"black",.8,"milieu"));const Q=Z(j(c-2,-2),j(u+2,-2),j(u+2,f+2),j(c-2,f+2));Q.pointilles=4,l[e].push(Q),L=Math.max(L,f),S=Math.min(S,I)}p+=l.map((e,m)=>z(Object.assign(k(e,{rxmin:0,rymin:-1,rxmax:0,rymax:1}),{id:`Motif${t}F${m}`,pixelsParCm:20,yMax:L,yMin:S,scale:.5,style:"display: inline-block",optionsTikz:"transform shape"}),e)).join(`
`)+"<br>"}}this.listeQuestions=[p]}}}export{Ht as default,zt as refs,Vt as titre,At as uuid};
//# sourceMappingURL=listePatternsOld-Bdg8m-u7.js.map
