{"version":3,"file":"4C20-2-DzzWnrGQ.js","sources":["../../src/exercices/4e/4C20-2.ts"],"sourcesContent":["import { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { pgcd, ppcmListe } from '../../lib/outils/primalite'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport Exercice from '../Exercice'\nexport const titre = 'Comparer trois fractions (dénominateurs non multiples) et un nombre entier'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '25/10/2025'\n\nexport const uuid = '80ed9'\nexport const refs = {\n  'fr-fr': ['4C20-2'],\n  'fr-ch': [],\n}\n\n/**\n * @author Rémi Angot\n*/\nexport default class Comparer3FractionsDenominateursNonMultiples extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const orders = combinaisonListes(['croissant', 'décroissant'], this.nbQuestions)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // On choisit les dénominateurs pour qu'il y ait un entier\n      // deux dénominateurs multiples et un 3e dénominateur premier  avec les 2 autres\n      const denominateursPossibles = [1]\n      switch (randint(1, 7)) {\n        case 1:\n          denominateursPossibles.push(2, 4, choice([3, 5, 7, 9]))\n          break;\n        case 2:\n          denominateursPossibles.push(2, 6, choice([5, 7, 9]))\n          break;\n        case 3:\n          denominateursPossibles.push(2, 8, choice([3, 5, 7, 9]))\n          break;\n        case 4:\n          denominateursPossibles.push(3, 6, choice([4, 5, 7, 9]))\n          break;\n        case 5:\n          denominateursPossibles.push(3, 9, choice([2, 4, 5, 7, 9]))\n          break;\n        case 6:\n          denominateursPossibles.push(4, 8, choice([3, 5, 7, 9]))\n          break;\n        case 7:\n          denominateursPossibles.push(5, 10, choice([3, 7, 9]))\n          break;\n      }\n      const denominateurs = denominateursPossibles.sort(() => Math.random() - 0.5)\n      const denominateurCommun = ppcmListe(denominateursPossibles)\n      const numerateurs = []\n      const order = orders[i]\n      const signeComparaison = order === 'croissant' ? '<' : '>'\n\n      for (let indiceFraction = 0; indiceFraction < denominateurs.length; indiceFraction++) {\n        let numerateur = randint(1, 2 * denominateurs[indiceFraction])\n        let cpt = 0\n        if (denominateurs[indiceFraction] !== 1) {\n          // Fraction irréductible\n          while (pgcd(numerateur, denominateurs[indiceFraction]) !== 1) {\n            numerateur = randint(1, 2 * denominateurs[indiceFraction])\n            cpt++\n            if (cpt > 30) throw new Error('Problème de génération de l\\'énoncé')\n          }\n        }\n        numerateurs.push(numerateur)\n      }\n\n      const fractions = [new FractionEtendue(numerateurs[0], denominateurs[0]), new FractionEtendue(numerateurs[1], denominateurs[1]), new FractionEtendue(numerateurs[2], denominateurs[2]), new FractionEtendue(numerateurs[3], denominateurs[3])]\n      const orderedFractions = fractions.toSorted((a, b) => order === 'croissant' ? a.valeurDecimale - b.valeurDecimale : b.valeurDecimale - a.valeurDecimale)\n\n      let question = `Ranger les nombres suivants dans l'ordre ${order} : `\n      question += '$'\n      question += fractions.map(fraction => `${fraction.texFraction}`).join('\\\\text{, } ~ ')\n      question += '$.'\n      let correction = `Un dénominateur commun possible est $${denominateurCommun}$.<br><br>`\n\n      // Mise au dénominateur commun\n      for (let indiceFraction = 0; indiceFraction < orderedFractions.length; indiceFraction++) {\n        const den = orderedFractions[indiceFraction].den\n        const num = orderedFractions[indiceFraction].num\n        const k = denominateurCommun / den\n        if (num !== den) {\n          correction += `$${orderedFractions[indiceFraction].texFraction} = \\\\dfrac{${num} \\\\times ${k}}{${den} \\\\times ${k}} = ${orderedFractions[indiceFraction].reduire(k).texFraction}$<br><br>`\n        } else {\n          // 1 se met directement au dénominateur commun\n          correction += `$${orderedFractions[indiceFraction].texFraction} = ${orderedFractions[indiceFraction].reduire(k).texFraction}$<br><br>`\n        }\n      }\n\n      correction += `Finalement, on a : $${miseEnEvidence(orderedFractions.map(fraction => `${fraction.texFraction}`).join(`~${signeComparaison} ~`))}$.`\n\n      if (this.interactif) {\n        question += '<br>'\n        question += remplisLesBlancs(this,\n          i,\n          `%{champ1}~${signeComparaison}~%{champ2}~${signeComparaison}~%{champ3}~${signeComparaison}~%{champ4}`,\n          ` ${KeyboardType.clavierDeBaseAvecFraction}`,\n        )\n        handleAnswers(this, i, {\n          bareme: (listePoints) => [\n            listePoints[0] +\n            listePoints[1] +\n            listePoints[2] +\n            listePoints[3],\n            4,\n          ],\n          champ1: {\n            value: orderedFractions[0],\n            options: { fractionIdentique: true },\n          },\n          champ2: {\n            value: orderedFractions[1],\n            options: { fractionIdentique: true },\n          },\n          champ3: {\n            value: orderedFractions[2],\n            options: { fractionIdentique: true },\n          },\n          champ4: {\n            value: orderedFractions[3],\n            options: { fractionIdentique: true },\n          }\n        })\n      }\n      if (this.questionJamaisPosee(i, ...denominateurs)) {\n        this.listeQuestions.push(question ?? '')\n        this.listeCorrections.push(correction ?? '')\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","Comparer3FractionsDenominateursNonMultiples","Exercice","orders","combinaisonListes","i","cpt","denominateursPossibles","randint","choice","denominateurs","denominateurCommun","ppcmListe","numerateurs","order","signeComparaison","indiceFraction","numerateur","pgcd","fractions","FractionEtendue","orderedFractions","a","b","question","fraction","correction","den","num","k","miseEnEvidence","remplisLesBlancs","KeyboardType","handleAnswers","listePoints","listeQuestionsToContenu"],"mappings":"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"}