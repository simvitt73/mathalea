{"version":3,"file":"CM2D3B-1-DSWqsEm4.js","sources":["../../src/exercices/CM2/CM2D3B-1.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { createList } from '../../lib/format/lists'\nimport { ajouteQuestionMathlive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { egalOuApprox } from '../../lib/outils/ecritures'\nimport { premiereLettreEnMajuscule } from '../../lib/outils/outilString'\nimport SchemaEnBoite from '../../lib/outils/SchemaEnBoite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport operation from '../../modules/operations'\nimport { randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const uuid = '559fc'\nexport const refs = {\n  'fr-fr': ['CM2D3B-1', 'BP2AutoL10'],\n  'fr-2016': ['c3C32-01', 'BP2AutoL10'],\n  'fr-ch': [],\n}\nexport const titre =\n  'Savoir résoudre un problème de proportionnalité : À la pêche aux coquillages'\nexport const dateDePublication = '15/11/2024'\nexport const interactifType = 'mathLive'\nexport const interactifReady = true\n/**\n * @Author Jean-Claude Lhote\n * Sources (eduscol) : https://eduscol.education.fr/ressources/numerique/2020/2020-exercices-mathematiques-6e\n * Ces exercices seront proposés systématiquement pour 3 niveaux de difficulté afin de différencier autour d'un même problème\n */\nexport default class ExerciceProbleme001 extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.besoinFormulaireNumerique = [\n      'niveau de difficulté',\n      3,\n      '1 : Élèves à besoin\\n2 : Moyens\\n3 : Avancés',\n    ]\n    this.sup = 2\n    this.besoinFormulaire2CaseACocher = [\n      \"Schéma dans l'énoncé (élèves à besoin seulement)\",\n      false,\n    ]\n    this.sup2 = false\n    this.besoinFormulaire3CaseACocher = [\n      'Opération posée dans la correction',\n      false,\n    ]\n  }\n\n  nouvelleVersion() {\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let nbCoquillages: number\n      let nouveauNombre: number | undefined\n      const coquillages = [\n        {\n          nomSingulier: 'un bigorneau',\n          nomPluriel: 'bigorneaux',\n          masseMoyenne: 2,\n        },\n        {\n          nomSingulier: 'une palourde',\n          nomPluriel: 'palourdes',\n          masseMoyenne: 20,\n        },\n        { nomSingulier: 'un bulot', nomPluriel: 'bulots', masseMoyenne: 50 },\n        { nomSingulier: 'une coque', nomPluriel: 'coques', masseMoyenne: 15 },\n        { nomSingulier: 'une moule', nomPluriel: 'moules', masseMoyenne: 25 },\n        { nomSingulier: 'une praire', nomPluriel: 'praires', masseMoyenne: 30 },\n        {\n          nomSingulier: 'une telline',\n          nomPluriel: 'tellines',\n          masseMoyenne: 5,\n        },\n        {\n          nomSingulier: 'un pétoncle',\n          nomPluriel: 'pétoncles',\n          masseMoyenne: 35,\n        },\n      ]\n      const coquillage = choice(coquillages)\n      const pronom = coquillage.nomSingulier.startsWith('une') ? 'elles' : 'ils'\n      const tout = coquillage.nomSingulier.startsWith('une') ? 'toutes' : 'tous'\n      const masseMoyenne = coquillage.masseMoyenne\n      let masseCoquillages: Decimal\n      switch (this.sup) {\n        case 1:\n          nbCoquillages = choice([10, 100])\n          nouveauNombre = randint(1, 6) * 10 + 5\n          masseCoquillages = new Decimal(nbCoquillages).mul(\n            randint(\n              Math.floor((masseMoyenne * 2) / 3),\n              Math.ceil((masseMoyenne * 3) / 2),\n            ),\n          )\n          break\n        case 3:\n          nbCoquillages = randint(31, 59, [40, 50])\n          masseCoquillages = new Decimal(nbCoquillages).mul(\n            (10 *\n              randint(\n                Math.floor((masseMoyenne * 2) / 3),\n                Math.ceil((masseMoyenne * 3) / 2),\n              ) +\n              randint(1, 9)) /\n              10,\n          )\n          break\n        default:\n          nbCoquillages = randint(31, 59, [40, 50])\n          masseCoquillages = new Decimal(nbCoquillages).mul(\n            randint(\n              Math.floor((masseMoyenne * 2) / 3),\n              Math.ceil((masseMoyenne * 3) / 2),\n            ),\n          )\n          nouveauNombre = undefined\n          break\n      }\n      let listePrincipale: string\n      let correction: string\n      if (this.sup !== 1) {\n        // this.sup = 2 et 3\n        listePrincipale = `Aujourd'hui, j'ai trouvé $${nbCoquillages}$ ${coquillage.nomPluriel}. ${premiereLettreEnMajuscule(pronom)} pèsent ensemble $${this.sup === 2 ? `${texNombre(masseCoquillages, 2)}` : `${texNombre(masseCoquillages, 0)}`}$ g.<br>En supposant qu'${pronom} aient ${tout} la même masse, trouve combien pèse ${coquillage.nomSingulier}.\n        ${this.sup === 3 ? '<br>Donner une valeur approchée au gramme près.' : ''}`\n\n        if (this.sup === 2) {\n          listePrincipale += ajouteQuestionMathlive({\n            exercice: this,\n            question: i,\n            objetReponse: {\n              reponse: {\n                value: texNombre(masseCoquillages.div(nbCoquillages), 2),\n              },\n            },\n            typeInteractivite: 'mathlive',\n            texteApres: 'g',\n          })\n          correction = `Pour trouver la masse moyenne d'${coquillage.nomSingulier}, on divise la masse totale par le nombre de ${coquillage.nomPluriel}.<br>\n   $${texNombre(masseCoquillages)}\\\\text{ g}\\\\div ${nbCoquillages}$ ${egalOuApprox(masseCoquillages.div(nbCoquillages), 2)} $${texNombre(masseCoquillages.div(nbCoquillages), 2)}$ g<br>\n     ${this.sup3 ? `${operation({ operande1: masseCoquillages.toNumber(), operande2: nbCoquillages, type: 'division', precision: 2 })}` : ''}\n        ${premiereLettreEnMajuscule(coquillage.nomSingulier)} pèse $${texNombre(masseCoquillages.div(nbCoquillages), 2)}$ g.<br>`\n        } else {\n          listePrincipale += ajouteQuestionMathlive({\n            exercice: this,\n            question: i,\n            objetReponse: {\n              reponse: {\n                value: texNombre(masseCoquillages.div(nbCoquillages), 0),\n              },\n            },\n            typeInteractivite: 'mathlive',\n            texteApres: 'g',\n          })\n          correction = `Pour trouver la masse moyenne d'${coquillage.nomSingulier}, on divise la masse totale par le nombre de ${coquillage.nomPluriel}.<br>\n    $${texNombre(masseCoquillages.round())}\\\\text{ g}\\\\div ${nbCoquillages} ${egalOuApprox(masseCoquillages.div(nbCoquillages), 0)} ${texNombre(masseCoquillages.div(nbCoquillages), 0)}$ g<br>\n    ${this.sup3 ? `${operation({ operande1: masseCoquillages.round().toNumber(), operande2: nbCoquillages, type: 'division', precision: 1 })}` : ''}\n        ${premiereLettreEnMajuscule(coquillage.nomSingulier)} pèse environ $${texNombre(masseCoquillages.div(nbCoquillages), 0)}$ g au gramme près.<br>`\n        }\n      } else {\n        // this.sup = 1\n        listePrincipale = createList({\n          items: [\n            `Aujourd'hui, j'ai trouvé $${nbCoquillages}$ ${coquillage.nomPluriel}. ${premiereLettreEnMajuscule(pronom)} pèsent ensemble $${texNombre(masseCoquillages, 2)}$ g.<br>En supposant qu'${pronom} aient ${tout} la même masse, trouve combien pèse ${coquillage.nomSingulier}.\n          ${this.sup2 ? `${SchemaEnBoite.division(masseCoquillages.toNumber(), undefined, nbCoquillages, 0).display()}<br>` : ''}\n          ${ajouteQuestionMathlive({ exercice: this, question: 2 * i, objetReponse: { reponse: { value: texNombre(masseCoquillages.div(nbCoquillages), 2) } }, typeInteractivite: 'mathlive', texteApres: 'g' })}`,\n            `Combien pèsent $${nouveauNombre}$ ${coquillage.nomPluriel} (on suppose toujours qu'${pronom} ont ${tout} la même masse) ?\n     ${this.sup2 ? `${SchemaEnBoite.division(undefined, undefined, Number(nouveauNombre), 0).display()}` : ''}\n      ${ajouteQuestionMathlive({ exercice: this, question: 2 * i + 1, objetReponse: { reponse: { value: texNombre(masseCoquillages.mul(Number(nouveauNombre)).div(nbCoquillages), 2) } }, typeInteractivite: 'mathlive', texteApres: 'g' })}`,\n          ],\n          style: 'alpha',\n          classOptions: 'display: inline-block;',\n        })\n        correction = createList({\n          items: [\n            `Pour trouver la masse moyenne d'${coquillage.nomSingulier}, on divise la masse totale par le nombre de ${coquillage.nomPluriel}.<br>\n    ${SchemaEnBoite.division(masseCoquillages.toNumber(), masseCoquillages.div(nbCoquillages).toNumber(), nbCoquillages, 0).display()}\n     $${texNombre(masseCoquillages)}\\\\text{ g}\\\\div ${nbCoquillages}$ = $${texNombre(masseCoquillages.div(nbCoquillages), 2)}$ g<br>\n${this.sup3 ? `${operation({ operande1: masseCoquillages.toNumber(), operande2: nbCoquillages, type: 'division', precision: 1 })}` : ''}${premiereLettreEnMajuscule(coquillage.nomSingulier)} pèse $${texNombre(masseCoquillages.div(nbCoquillages), 2)}$ g en moyenne.<br>`,\n            `Pour trouver la masse de $${nouveauNombre}$ ${coquillage.nomPluriel}, on multiplie la masse moyenne d'${coquillage.nomSingulier} par le nombre de ${coquillage.nomPluriel}.<br>\n    ${SchemaEnBoite.division(masseCoquillages.mul(Number(nouveauNombre)).div(nbCoquillages).toNumber(), masseCoquillages.div(nbCoquillages).toNumber(), Number(nouveauNombre), 0).display()}<br><br>\n    $${texNombre(masseCoquillages.div(nbCoquillages), 2)}\\\\text{ g}\\\\times ${nouveauNombre}$ = $${texNombre(masseCoquillages.mul(Number(nouveauNombre)).div(nbCoquillages), 2)}$ g<br>\n     ${this.sup3 ? `${operation({ operande1: masseCoquillages.div(nbCoquillages).toNumber(), operande2: nouveauNombre, type: 'multiplication', precision: 1 })}` : ''}$\n     ${nouveauNombre}$ ${coquillage.nomPluriel} pèsent $${texNombre(masseCoquillages.mul(Number(nouveauNombre)).div(nbCoquillages), 2)}$ g.<br>`,\n          ],\n          style: 'alpha',\n        })\n      }\n      if (\n        this.questionJamaisPosee(\n          i,\n          nbCoquillages,\n          masseCoquillages.toString(),\n          coquillage.nomPluriel,\n        )\n      ) {\n        this.listeQuestions[i] = listePrincipale\n        this.listeCorrections[i] = correction\n        i++\n      }\n      cpt++\n    }\n  }\n}\n"],"names":["uuid","refs","titre","dateDePublication","interactifType","interactifReady","ExerciceProbleme001","Exercice","i","cpt","nbCoquillages","nouveauNombre","coquillage","choice","pronom","tout","masseMoyenne","masseCoquillages","randint","Decimal","listePrincipale","correction","premiereLettreEnMajuscule","texNombre","ajouteQuestionMathlive","egalOuApprox","operation","createList","SchemaEnBoite"],"mappings":"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"}