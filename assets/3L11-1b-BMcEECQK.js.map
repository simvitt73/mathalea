{"version":3,"file":"3L11-1b-BMcEECQK.js","sources":["../../src/exercices/3e/3L11-1b.ts"],"sourcesContent":["import { choice } from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport {\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { context } from '../../modules/context'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\n\nimport {\n  doubleDeveloppement,\n  reduirePolynomeDegre3,\n} from '../../lib/outils/ecritures'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { abs } from '../../lib/outils/nombres'\n\nexport const titre = 'Effectuer la double distributivité'\nexport const dateDePublication = '03/02/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcType = 'AMCHybride'\nexport const amcReady = true\n\n/**\n * Développer des expressions de la forme (ax+b)(cx+d) avec a, b, c et d relatifs et paramétrables ainsi que x\n * @author Eric Elter (Fork 3L11-1 de Jean-Claude Lhote)\n */\nexport const uuid = '67396'\n\nexport const refs = {\n  'fr-fr': ['3L11-1b'],\n  'fr-ch': ['11FA2-17', '1mCL1-2'],\n}\n\nexport default class MultipleDistributivite extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Signe de $a$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Signe de $b$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Signe de $c$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Signe de $d$',\n      3,\n      '1 : Positif\\n2 : Négatif \\n3 : Hasard',\n    ]\n    this.besoinFormulaire5CaseACocher = [\n      'Uniquement avec la variable $x$',\n      false,\n    ]\n    this.sup = 3\n    this.sup2 = 3\n    this.sup3 = 3\n    this.sup4 = 3\n    this.comment = 'Les expressions sont toutes de la forme $(ax+b)(cx+d)$.<br>'\n    this.comment +=\n      'Le paramétrage permet de choisir finement les signes des coefficients et de modifier le nom de la variable $x$.'\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 4\n\n    this.listeAvecNumerotation = false\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Développer et réduire les expressions suivantes.'\n        : \"Développer et réduire l'expression suivante.\"\n\n    for (\n      let i = 0, reponse, cpt = 0, a, b, c, d;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      a =\n        randint(1, 9) *\n        (this.sup === 1 ? 1 : this.sup === 2 ? -1 : choice([1, -1]))\n      b =\n        randint(1, 9) *\n        (this.sup2 === 1 ? 1 : this.sup2 === 2 ? -1 : choice([1, -1]))\n      c =\n        randint(1, 9, [abs(a)]) *\n        (this.sup3 === 1 ? 1 : this.sup3 === 2 ? -1 : choice([1, -1]))\n      d =\n        randint(1, 9, [abs(b)]) *\n        (this.sup4 === 1 ? 1 : this.sup4 === 2 ? -1 : choice([1, -1]))\n      let reponse1 = 0\n      let reponse2 = 0\n      let reponse3 = 0\n      let texteCorr = ''\n      let texte = ''\n      const variable = this.sup5\n        ? 'x'\n        : choice(['x', 'y', 'z', 'a', 'b', 'c', 'n', 'k'])\n      texte = `$${lettreDepuisChiffre(i + 1)} = (${reduirePolynomeDegre3(0, 0, a, b, variable)})(${reduirePolynomeDegre3(0, 0, c, d, variable)})$`\n      texteCorr = texte.slice(0, -1)\n      texteCorr += `= ${doubleDeveloppement({ a, b, c, d, x: variable })[0]}`\n      texteCorr += `=${doubleDeveloppement({ a, b, c, d, x: variable })[1]}`\n      reponse1 = a * c\n      reponse2 = a * d + b * c\n      reponse3 = b * d\n\n      reponse = reduirePolynomeDegre3(0, reponse1, reponse2, reponse3, variable)\n      texteCorr += `=${reponse}$`\n\n      // On enlève la première égalité pour ne pas avoir A = A en première ligne\n      texteCorr = texteCorr.slice(4)\n      // On découpe\n      const etapes = texteCorr.split('=')\n      texteCorr = ''\n      for (const etape of etapes) {\n        const etapeModifiee = etape.replace('$', '')\n        texteCorr +=\n          etapeModifiee === lettreDepuisChiffre(i + 1)\n            ? ''\n            : `$${lettreDepuisChiffre(i + 1)} = ${etapeModifiee}$ <br>`\n      }\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += `${textCorrSplit[ee]}=`\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      handleAnswers(this, i, {\n        reponse: {\n          value: reponse,\n          options: { expressionsForcementReduites: true },\n        },\n      })\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecVariable,\n        { texteAvant: ' $=$' },\n      )\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: '',\n          enonceAvant: false,\n          options: { multicols: true, barreseparation: true },\n          propositions: [\n            {\n              type: 'AMCOpen',\n              propositions: [\n                {\n                  texte: texteCorr,\n                  enonce: `${texte}<br>`,\n                  statut: 4,\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $a$ dans $ax^2+bx+c$',\n                    valeur: reponse1,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $b$ dans $ax^2+bx+c$',\n                    valeur: reponse2,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: 'valeur de $c$ dans $ax^2+bx+c$',\n                    valeur: reponse3,\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        }\n      }\n      if (this.questionJamaisPosee(i, a, b, c, d)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcType","amcReady","uuid","refs","MultipleDistributivite","Exercice","i","reponse","cpt","a","b","c","d","randint","choice","abs","reponse1","reponse2","reponse3","texteCorr","texte","variable","lettreDepuisChiffre","reduirePolynomeDegre3","doubleDeveloppement","etapes","etape","etapeModifiee","textCorrSplit","aRemplacer","ee","miseEnEvidence","handleAnswers","ajouteChampTexteMathLive","KeyboardType","context","listeQuestionsToContenuSansNumero"],"mappings":"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"}