{"version":3,"file":"EN-squaro-CjrMSpo9.js","sources":["../../src/exercices/enigmes-jeux/svg/blueCirclePoint.svg","../../src/exercices/enigmes-jeux/svg/redPoint.svg","../../src/exercices/enigmes-jeux/EN-squaro.ts"],"sourcesContent":["export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3ccircle%20id='circle1225'%20style='fill:blue;stroke:blue;stroke-width:0.9375'%20cx='482.85648'%20cy='369.90331'%20r='17.21113'/%3e%3c/g%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='48.542221mm'%20height='48.542221mm'%20viewBox='0%200%20172%20172'%20id='svg9132'%20version='1.1'%20inkscape:version='1.1.1%20(3bf5ae0d25,%202021-09-20)'%20sodipodi:docname='PointLibre.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:dc='http://purl.org/dc/elements/1.1/'%3e%3cdefs%20id='defs9134'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='9.963663'%20inkscape:cx='91.733331'%20inkscape:cy='91.733331'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='false'%20fit-margin-top='0'%20fit-margin-left='0'%20fit-margin-right='0'%20fit-margin-bottom='0'%20inkscape:window-width='3840'%20inkscape:window-height='2066'%20inkscape:window-x='1609'%20inkscape:window-y='-11'%20inkscape:window-maximized='1'%20inkscape:pagecheckerboard='0'%20/%3e%3cmetadata%20id='metadata9137'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Calque%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(-396.85714,-289.21935)'%3e%3cpath%20id='rect1225'%20style='fill:red;stroke:red;stroke-width:0.9375;stroke-linecap:round;stroke-linejoin:round'%20d='m%20494.9404,357.8194%20-12.08391,12.08391%20-12.08392,-12.08391%20-5.12721,5.12721%2012.08391,12.08391%20-12.08391,12.08392%205.12721,5.12721%2012.08392,-12.08391%2012.08521,12.08521%205.12721,-5.12722%20-12.08521,-12.0852%2012.08392,-12.08392%20z'%20/%3e%3c/g%3e%3c/svg%3e\"","import Figure from 'apigeom'\nimport remove from 'apigeom/src/assets/svg/restart.svg'\nimport { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport Element2D from 'apigeom/src/elements/Element2D'\nimport Circle from 'apigeom/src/elements/lines/Circle'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\nimport { randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nimport bluePoint from './svg/blueCirclePoint.svg'\nimport redPoint from './svg/redPoint.svg'\n\nexport const dateDePublication = '15/07/2024'\nexport const titre = 'Résoudre une grille de SquarO'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\n/** Résoudre une grille de SquarO\n * @author Eric Elter\n * Soutenu par Rémi Angot pour l'aide pour le développement avec ApiGeom\n */\n\nexport const uuid = 'e2024'\nexport const refs = {\n  'fr-fr': ['EN-SquarO'],\n  'fr-ch': [],\n}\n\nclass squaro extends Exercice {\n  // On déclare des propriétés supplémentaires pour cet exercice afin de pouvoir les réutiliser dans la correction\n  figure!: Figure\n  figureCorrection!: Figure\n  goodAnswers: Array<{ x: number; y: number }>\n  nbSommets: Array<number>\n  longueur: number\n  largeur: number\n  blueButton!: HTMLElement\n\n  constructor() {\n    super()\n    this.goodAnswers = []\n    this.nbSommets = []\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.exoCustomResultat = true\n    this.besoinFormulaireTexte = [\n      'Longueur de la grille',\n      'Choisir un nombre entier entre 2 et 15.',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Hauteur de la grille',\n      'Choisir un nombre entier entre 2 et 15.',\n    ]\n    this.besoinFormulaire3CaseACocher = [\n      'Aide sur le nombre total de points bleus',\n    ]\n    this.besoinFormulaire4Texte = [\n      'Nombre de points bleus déjà affichés',\n      '1 : Un seul point\\n2 : Deux points\\n3 : Trois points\\n4 : Le quart des points\\n5 : Le tiers des points\\n6 : La moitié des points\\n7 : Aucun',\n    ]\n    this.sup = 5\n    this.sup2 = 5\n    this.sup3 = true\n    this.sup4 = 7\n    this.longueur = this.sup\n    this.largeur = this.sup2\n  }\n\n  nouvelleVersion(): void {\n    this.consigne =\n      'Cette grille de SquarO est à compléter en plaçant un certain nombre de points bleus dans les ronds vides qui sont sur les sommets des cases. '\n    this.consigne +=\n      'Le chiffre présent dans chaque case indique le nombre de points bleus qui l’entourent parmi les 4 sommets.'\n    this.consigne += this.interactif\n      ? '<br>Si vous le souhaitez, vous pouvez placer les points rouges en forme de croix pour signaler des positions impossibles des points bleus.'\n      : ''\n    this.comment =\n      \"Grâce au choix de la longueur et de la hauteur de la grille et grâce à l'aide ci-dessus sur des points initialement affichés, vous pouvez graduer la difficulté des grilles SquarO proposées.\"\n    this.longueur = Math.max(2, Math.min(parseInt(this.sup), 15)) || 2\n    this.largeur = Math.max(2, Math.min(parseInt(this.sup2), 15)) || 2\n    // Quand on duplique un exercice le numeroExercice ne semble pas se mettre à jour\n    this.figure = new Figure({\n      xMin: -0.25, // On enlève 0.25 unités\n      yMin: -0.25,\n      width: this.longueur * 30 + 20, // On ajoute 20 pixels\n      height: this.largeur * 30 + 20,\n      border: false,\n    })\n    this.figure.create('Grid', {\n      strokeWidthGrid: 1,\n      color: 'black',\n      yMin: 0,\n      yMax: this.largeur,\n      xMax: this.longueur,\n      xMin: 0,\n      axeX: false,\n      axeY: false,\n      labelX: false,\n      labelY: false,\n    })\n    this.figure.snapGrid = true\n    this.figure.options.color = 'blue'\n    this.figure.options.shape = 'o'\n    this.figure.options.labelIsVisible = false\n    this.figure.setToolbar({ tools: ['DRAG', 'REMOVE'], position: 'top' })\n\n    // Figure correction\n    this.figureCorrection = new Figure({\n      xMin: -0.25,\n      yMin: -0.25,\n      width: this.longueur * 30 + 20,\n      height: this.largeur * 30 + 20,\n      border: false,\n    })\n    this.figureCorrection.create('Grid', {\n      strokeWidthGrid: 1,\n      color: 'black',\n      yMin: 0,\n      yMax: this.largeur,\n      xMax: this.longueur,\n      xMin: 0,\n      axeX: false,\n      axeY: false,\n      labelX: false,\n      labelY: false,\n    })\n    this.figureCorrection.snapGrid = true\n    this.figureCorrection.options.color = orangeMathalea\n    this.figureCorrection.options.shape = 'o'\n    this.figureCorrection.options.labelIsVisible = false\n    this.figure.options.gridWithTwoPointsOnSamePosition = false // Pour éviter que deux points aient la même position\n\n    const drawBluePoint = () => {\n      this.figure.options.shape = 'o'\n      this.figure.options.color = 'blue'\n      this.figure.ui?.send({ type: 'POINT' })\n    }\n    const drawRedPoint = () => {\n      this.figure.options.shape = 'x'\n      this.figure.options.color = 'red'\n      this.figure.ui?.send({ type: 'POINT' })\n    }\n    const eraseAllPoints = () => {\n      for (const element of this.figure.elements.values()) {\n        if (\n          element.type === 'Point' &&\n          element instanceof Element2D &&\n          element.isVisible\n        ) {\n          element.remove()\n        }\n      }\n      this.figure.saveState()\n      setTimeout(() => {\n        if (this.blueButton != null) {\n          this.blueButton.click()\n        }\n      }, 500)\n      // this.figure.ui?.send('INIT') // bug apiGeom, l'état INIT ne fonctionne pas et permet toujours de placer des points\n      // this.figure.ui?.send('DRAG')\n    }\n    this.blueButton = this.figure.addCustomButton({\n      action: drawBluePoint,\n      tooltip: 'Placer un point bleu',\n      userMessage: 'Cliquer pour placer un point bleu',\n      url: bluePoint,\n    })\n    this.figure.addCustomButton({\n      action: drawRedPoint,\n      tooltip: 'Placer une croix rouge',\n      userMessage: 'Cliquer pour placer une croix rouge',\n      url: redPoint,\n    })\n    this.figure.addCustomButton({\n      action: eraseAllPoints,\n      tooltip: 'Effacer tous les points',\n      url: remove,\n    })\n    const emplacementPourFigure = figureApigeom({\n      exercice: this,\n      i: 0,\n      figure: this.figure,\n    })\n    this.goodAnswers = []\n    const codagePoints = []\n    for (let j = 0; j <= this.largeur; j++) {\n      for (let i = 0; i <= this.longueur; i++) {\n        const valide = randint(0, 1)\n        codagePoints.push(valide)\n        if (valide === 0) {\n          this.goodAnswers.push({ x: i, y: this.largeur - j })\n          this.figureCorrection.create('Point', { x: i, y: this.largeur - j })\n        }\n      }\n    }\n\n    let enonce = `Cette grille doit contenir ${texteEnCouleurEtGras(this.goodAnswers.length.toString(), 'blue')} `\n    enonce += this.goodAnswers.length === 1 ? 'point bleu.' : 'points bleus.'\n    this.nbSommets = []\n    for (let j = 0; j < this.largeur; j++) {\n      for (let i = 0; i < this.longueur; i++) {\n        const nbPoints =\n          4 -\n          (codagePoints[i + j * (this.longueur + 1)] +\n            codagePoints[i + 1 + j * (this.longueur + 1)] +\n            codagePoints[i + (j + 1) * (this.longueur + 1)] +\n            codagePoints[i + 1 + (j + 1) * (this.longueur + 1)])\n        this.nbSommets.push(nbPoints)\n        this.figure.create('TextByPosition', {\n          anchor: 'middleCenter',\n          text: nbPoints.toString(),\n          x: i + 0.5,\n          y: this.largeur - j - 0.5,\n          isDeletable: false,\n        })\n        this.figureCorrection.create('TextByPosition', {\n          anchor: 'middleCenter',\n          text: nbPoints.toString(),\n          x: i + 0.5,\n          y: this.largeur - j - 0.5,\n          isDeletable: false,\n        })\n      }\n    }\n    for (let j = 0; j <= this.largeur; j++) {\n      for (let i = 0; i <= this.longueur; i++) {\n        const center = this.figure.create('Point', {\n          x: i,\n          y: j,\n          isVisible: false,\n          color: 'white',\n          isSelectable: false,\n        }) // Il ne faut pas qu'ils soient bleus.\n        this.figure.create('Circle', {\n          center,\n          radius: 0.2,\n          fillColor: 'white',\n          color: 'black',\n          fillOpacity: 1,\n          isSelectable: false,\n        })\n      }\n    }\n    this.figure.elements.forEach((ele) => {\n      if (ele instanceof Circle) {\n        ele.isDeletable = false\n      }\n    })\n\n    let nbPointsAide = 0\n    switch (this.sup4) {\n      case '1':\n      case '2':\n      case '3':\n        nbPointsAide = parseInt(this.sup4)\n        break\n      case '4':\n        nbPointsAide = this.goodAnswers.length / 4\n        break\n      case '5':\n        nbPointsAide = this.goodAnswers.length / 3\n        break\n      case '6':\n        nbPointsAide = this.goodAnswers.length / 2\n        break\n    }\n    let bonnesReponsesEncoreDispo = this.goodAnswers.slice()\n    for (let i = 0; i < nbPointsAide; i++) {\n      const unBonPoint = choice(bonnesReponsesEncoreDispo) as {\n        x: number\n        y: number\n      }\n      this.figure.create('Point', {\n        x: unBonPoint.x,\n        y: unBonPoint.y,\n        color: 'blue',\n      })\n      bonnesReponsesEncoreDispo = bonnesReponsesEncoreDispo.filter(\n        (obj) => !(obj.x === unBonPoint.x && obj.y === unBonPoint.y),\n      )\n    }\n\n    // Besoin de l'aide sur l'affichage du nombre de points\n    if (this.interactif) {\n      this.figure.divUserMessage.style.textAlign = 'left'\n      const divNbPoints = document.createElement('div')\n      const divCheckbox = document.createElement('div')\n      const checkbox = document.createElement('input')\n      checkbox.type = 'checkbox'\n      checkbox.id = `${this.numeroExercice}checkboxAide`\n      checkbox.checked = true\n      checkbox.onchange = () => {\n        divNbPoints.style.display = checkbox.checked ? 'block' : 'none'\n      }\n      const label = document.createElement('label')\n      label.htmlFor = `${this.numeroExercice}checkboxAide`\n      label.textContent =\n        'Afficher le nombre de points bleus présents sur la grille'\n      label.classList.add('m-2')\n      divCheckbox.classList.add('mt-4', 'text-coopmaths-struct')\n      divNbPoints.classList.add('mt-4', 'text-coopmaths-struct')\n      this.figure.divFigureAndUserMessage.appendChild(divCheckbox)\n      divCheckbox.appendChild(checkbox)\n      divCheckbox.appendChild(label)\n      this.figure.divFigureAndUserMessage.appendChild(divNbPoints)\n      this.figure.onChange(() => {\n        const nbBluePoints = [...this.figure.elements.values()].filter(\n          // @ts-expect-error e est un point donc a de la couleur\n          (e) => e.type === 'Point' && e.color === 'blue',\n        ).length\n        divNbPoints.innerHTML = `Cette grille contient actuellement ${nbBluePoints} point${nbBluePoints === 1 ? '' : 's'} bleu${nbBluePoints === 1 ? '' : 's'}.`\n      })\n      const handleExercicesAffiches = () => {\n        this.blueButton.click()\n        document.removeEventListener(\n          'exercicesAffiches',\n          handleExercicesAffiches,\n        )\n      }\n      document.addEventListener('exercicesAffiches', handleExercicesAffiches)\n    } else {\n      this.figure.isDynamic = false\n      this.figure.divButtons.style.display = 'none'\n      this.figure.divUserMessage.style.display = 'none'\n    }\n\n    let texteCorr =\n      'Voici une solution possible :<br>' +\n      this.figureCorrection.getStaticHtml()\n    let texte = (this.sup3 ? enonce : '') + emplacementPourFigure\n\n    if (!context.isHtml) {\n      let persoSquaro = ''\n      for (let ee = 0; ee < codagePoints.length - 1; ee++) {\n        persoSquaro += codagePoints[ee] + ','\n      }\n      persoSquaro += codagePoints[codagePoints.length - 1]\n\n      texte =\n        (this.sup3 ? '<br>' + enonce : '') +\n        `<br><br>\\\\SquarO[Largeur=${this.largeur},Longueur=${this.longueur},Perso]{`\n      texte += persoSquaro\n      texte += '}'\n\n      texteCorr = `Voici une solution possible :<br>\\\\SquarO[Largeur=${this.largeur},Longueur=${this.longueur},Perso,Solution]{`\n      texteCorr += persoSquaro\n      texteCorr += '}'\n    }\n    this.listeQuestions.push(texte)\n    this.listeCorrections.push(texteCorr)\n  }\n\n  correctionInteractive = () => {\n    if (this.answers == null) this.answers = {}\n    // Sauvegarde de la réponse pour Capytale\n    this.answers[this.figure.id] = this.figure.json\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${0}`,\n    ) as HTMLDivElement\n    let isValid = true\n    let validUnPoint = true\n    let compteurPointsOK = 0\n\n    /* Validation correction si unicité de la réponse mais ce n'est pas le cas\n    for (let i = 0; i < this.goodAnswers.length; i++) {\n      validUnPoint = this.figure.checkCoords({\n        ...this.goodAnswers[i]\n      }).isValid\n      if (validUnPoint) compteurPointsOK++\n      isValid &&= validUnPoint\n    } */\n\n    for (let j = 0; j < this.largeur; j++) {\n      for (let i = 0; i < this.longueur; i++) {\n        const nbPointsValides =\n          (this.figure.checkCoords({ x: i, y: this.largeur - j, color: 'blue' })\n            .isValid\n            ? 1\n            : 0) +\n          (this.figure.checkCoords({\n            x: i,\n            y: this.largeur - j - 1,\n            color: 'blue',\n          }).isValid\n            ? 1\n            : 0) +\n          (this.figure.checkCoords({\n            x: i + 1,\n            y: this.largeur - j,\n            color: 'blue',\n          }).isValid\n            ? 1\n            : 0) +\n          (this.figure.checkCoords({\n            x: i + 1,\n            y: this.largeur - j - 1,\n            color: 'blue',\n          }).isValid\n            ? 1\n            : 0)\n        validUnPoint = nbPointsValides === this.nbSommets[i + j * this.longueur]\n        if (validUnPoint) compteurPointsOK++\n        isValid &&= validUnPoint\n      }\n    }\n\n    this.figure.isDynamic = false\n    this.figure.divButtons.style.display = 'none'\n    this.figure.divUserMessage.style.display = 'none'\n    this.figure.buttons.get('SHAKE')?.click()\n    const nbPoints = [...this.figure.elements.values()].filter(\n      // @ts-expect-error e est un point donc a de la couleur\n      (e) => e.type !== 'pointer' && e.type === 'Point' && e.color === 'blue',\n    ).length\n    isValid &&= nbPoints === this.goodAnswers.length\n    let message: string\n    if (isValid) {\n      divFeedback.innerHTML = 'Bravo !'\n      return ['OK']\n    }\n    if (nbPoints === this.goodAnswers.length) {\n      message =\n        'Le nombre de points placés est correct mais ' +\n        (compteurPointsOK === 1\n          ? 'seul 1 est bien placé.'\n          : `seuls ${compteurPointsOK} sont bien placés.`)\n    } else if (nbPoints > this.goodAnswers.length) {\n      message =\n        'Le nombre de points placés est trop important par rapport à ce qui est attendu.'\n    } else {\n      message =\n        \"Le nombre de points placés n'est pas assez important par rapport à ce qui est attendu.\"\n    }\n    divFeedback.innerHTML = message\n    return ['KO']\n  }\n}\n\nexport default squaro\n"],"names":["bluePoint","redPoint","dateDePublication","titre","interactifReady","interactifType","uuid","refs","squaro","Exercice","__publicField","divFeedback","isValid","validUnPoint","compteurPointsOK","j","i","_a","nbPoints","e","message","Figure","orangeMathalea","drawBluePoint","drawRedPoint","eraseAllPoints","element","Element2D","remove","emplacementPourFigure","figureApigeom","codagePoints","valide","randint","enonce","texteEnCouleurEtGras","center","ele","Circle","nbPointsAide","bonnesReponsesEncoreDispo","unBonPoint","choice","obj","divNbPoints","divCheckbox","checkbox","label","nbBluePoints","handleExercicesAffiches","texteCorr","texte","context","persoSquaro","ee"],"mappings":"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"}