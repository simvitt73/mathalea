{"version":3,"file":"5G11-10-Cag_Sczq.js","sources":["../../src/exercices/5e/5G11-10.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/unit/5G11-10.test.ts ⚠️\n */\n\nimport Figure from 'apigeom'\nimport { rotationCoord } from 'apigeom/src/elements/calculus/Coords'\nimport type PointApigeom from 'apigeom/src/elements/points/Point'\nimport { cercleCentrePoint } from '../../lib/2d/cercle'\nimport { codageMilieu } from '../../lib/2d/CodageMilieu'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { demiDroite } from '../../lib/2d/DemiDroite'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { grille } from '../../lib/2d/Grille'\nimport { pointAbstrait, PointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { TracePoint } from '../../lib/2d/TracePoint'\nimport { rotation } from '../../lib/2d/transformations'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { choisitLettresDifferentes } from '../../lib/outils/aleatoires'\nimport { shuffle } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { contraindreValeur, egal, randint } from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Construire des symétriques de points par rapport à un point'\nexport const dateDePublication = '27/09/2024'\nexport const interactifReady = true\nexport const interactifType = 'custom'\n\nexport const uuid = '67c96'\nexport const refs = {\n  'fr-fr': ['5G11-10'],\n  'fr-ch': ['9ES6-27', '10ES2-14'],\n}\n\n/**\n * Fonction pour positionner le label\n * @param pointA\n * @param pointB\n */\nfunction positionneLabel(pointA: PointAbstrait, pointB: PointAbstrait) {\n  if (pointA.x < pointB.x) return 'above left'\n  else if (pointA.x > pointB.x) return 'below right'\n  else {\n    if (pointA.y > pointB.y) return 'above left'\n    else return 'below right'\n  }\n}\n\n/**\n * fonction pour verifier qu'on est dans le cadre\n * @param points\n */\nfunction checkDistance(points: { x: number; y: number }[]) {\n  for (const point of points) {\n    if (point.y < -8 || point.y > 8) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Construction interactive de symétriques de points\n * @author Jean-Claude Lhote\n */\nclass ConstrctionsSymetrieCentralePoints extends Exercice {\n  antecedents2d!: object[][]\n  antecedentsApiGeom!: PointApigeom[][]\n  labels!: string[][]\n  centres2d!: PointAbstrait[]\n  centresApiGeom!: PointApigeom[]\n  exoCustomResultat: boolean\n  nbPoints!: number\n  figuresApiGeom!: Figure[]\n  constructor() {\n    super()\n    this.exoCustomResultat = true\n    this.nbQuestions = 1\n\n    this.besoinFormulaireNumerique = [\n      \"Type d'aide\",\n      4,\n      'Quadrillages\\nDemi-droites en pointillés\\nMarques de compas\\nAucune',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Nombre de points à construire (5 maxi)',\n      5,\n    ]\n    this.sup = 1\n    this.sup2 = 3\n  }\n\n  nouvelleVersion() {\n    const marks: string[] = ['//', '///', 'x', 'O', '|||']\n    const colors: string[] = context.isHtml\n      ? ['red', 'green', 'purple', 'blue', 'gray']\n      : ['gray', 'gray', 'gray', 'gray', 'gray']\n    this.answers = {}\n\n    this.figuresApiGeom = []\n    this.nbPoints = contraindreValeur(1, 5, this.sup2, 3) // on veut entre 1 et 5 points à construire\n    this.antecedents2d = []\n    this.labels = []\n    this.centres2d = []\n    this.centresApiGeom = []\n    this.antecedentsApiGeom = []\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 20; ) {\n      let enonce = ''\n      // Ici on fait une figure Mathalea2d, pas apiGeom. On est en mode non interactif pour l'instant\n      let antecedents2d: Array<PointAbstrait> = []\n      const symetriques: PointAbstrait[] = []\n      const objets: NestedObjetMathalea2dArray = []\n      let objetsCorrection: NestedObjetMathalea2dArray = []\n\n      objets.length = 0\n      objetsCorrection.length = 0\n      symetriques.length = 0\n      antecedents2d.length = 0\n      let nuage: { x: number; y: number }[] = []\n      // On construit les points\n      do {\n        nuage = []\n        for (let x = -8; x < 8; x += 1) {\n          if (x !== 0) nuage.push({ y: (randint(2, 8) + 1) * (-1) ** x, x })\n        }\n        nuage = shuffle(nuage)\n        nuage = nuage.slice(0, this.nbPoints)\n      } while (!checkDistance(nuage))\n\n      this.labels[i] = Array.from(\n        choisitLettresDifferentes(nuage.length, 'Q', true),\n      )\n      const labelCentre = choisitLettresDifferentes(\n        1,\n        this.labels[i].join('') + 'Q',\n        true,\n      )[0]\n\n      // Les antécédents sont des points nommés\n      antecedents2d = shuffle(nuage).map((el, k) =>\n        pointAbstrait(el.x, el.y, this.labels[i][k]),\n      ) // on mélange et on ne prendra que les this.nbPoints premiers\n      this.centres2d[i] = pointAbstrait(0, 0, labelCentre, 'above')\n\n      const guideDroites = []\n      for (let k = 0; k < this.nbPoints; k++) {\n        const guide = demiDroite(antecedents2d[k], this.centres2d[i])\n        guide.pointilles = 2\n        guide.color = colorToLatexOrHTML(colors[k])\n        guide.opacite = 0.8\n        guideDroites.push(guide)\n      }\n      enonce =\n        `${this.sup === 1 ? 'Placer' : 'Construire'} le${this.nbPoints > 1 ? 's' : ''} symétrique${this.nbPoints > 1 ? 's' : ''} $${this.nbPoints > 1 ? this.labels[i].slice(0, this.nbPoints - 1).join(\"',\") + \"'\" : this.labels[i][0] + \"' \"}$` +\n        (this.nbPoints > 1\n          ? ` et $${this.labels[i][this.nbPoints - 1] + \"'\"}$`\n          : '') +\n        (this.nbPoints > 1 ? ' respectifs ' : '')\n      enonce +=\n        `${this.nbPoints > 1 ? ' des' : ' du'} point${this.nbPoints > 1 ? 's' : ''} $${this.nbPoints > 1 ? this.labels[i].slice(0, this.nbPoints - 1).join(',') : this.labels[i][0] + `$ par rapport au point $${labelCentre}$.`}$` +\n        (this.nbPoints > 1\n          ? ` et $${this.labels[i][this.nbPoints - 1]}$ par rapport au point $${labelCentre}$.<br>`\n          : '<br>')\n      const guidesArc = []\n      for (let k = 0; k < this.nbPoints; k++) {\n        symetriques[k] = rotation(antecedents2d[k], this.centres2d[i], 180)\n        /*  const angleOffset = choice([-12, -10, -8, 8, 10, 12])\n          const ext1 = rotation(symetriques[k], middle[k], 3 * angleOffset)\n          const ext2 = rotation(symetriques[k], middle[k], -angleOffset)\n         */\n        const guide = cercleCentrePoint(\n          this.centres2d[i],\n          antecedents2d[k],\n          colors[k],\n        )\n        guide.pointilles = 2\n        guide.opacite = 0.8\n        guidesArc.push(guide)\n      }\n      if (this.sup === 1) {\n        objets.push(grille(-8, -8, 8, 8, 'gray', 0.5, 1, 0))\n      } else if (this.sup === 2) {\n        enonce += `Les demi-droites tracées en pointillés passent par $${labelCentre}$.<br>`\n        objets.push(...guideDroites)\n      } else if (this.sup === 3) {\n        enonce += `Les cercles tracés en pointillés sont centrés en $${labelCentre}$.<br>`\n        objets.push(...guidesArc)\n      }\n      objets.push(\n        new TracePoint(this.centres2d[i]),\n        labelPoint(this.centres2d[i]),\n      )\n      objetsCorrection.push(\n        new TracePoint(this.centres2d[i]),\n        labelPoint(this.centres2d[i]),\n      )\n      for (let k = 0; k < this.nbPoints; k++) {\n        objets.push(new TracePoint(antecedents2d[k]))\n        const sym = rotation(\n          antecedents2d[k],\n          this.centres2d[i],\n          180,\n          antecedents2d[k].nom + \"'\",\n        )\n        sym.positionLabel = positionneLabel(sym, antecedents2d[k])\n        antecedents2d[k].positionLabel = positionneLabel(antecedents2d[k], sym)\n        const egalite = codageMilieu(antecedents2d[k], sym, colors[k], marks[k])\n        const trace: TracePoint = new TracePoint(sym)\n        trace.color = colorToLatexOrHTML('red')\n        const labelSym = labelPoint(sym)\n        const label = labelPoint(antecedents2d[k])\n        objets.push(label)\n        objetsCorrection.push(trace, labelSym, egalite)\n      }\n      objetsCorrection = [...objets, ...objetsCorrection, ...guideDroites]\n      if (this.sup2 === 2) {\n        guideDroites.forEach((guide) => {\n          guide.epaisseur = 1\n          guide.opacite = 0.8\n        })\n        objetsCorrection.push(...guideDroites)\n      }\n      if (this.sup2 === 3) {\n        guidesArc.forEach((guide) => {\n          guide.epaisseur = 1\n          guide.opacite = 0.8\n        })\n        objetsCorrection.push(...guidesArc)\n      }\n      const options = {}\n      if (this.sup === 1)\n        Object.assign(options, { snapGrid: true, dx: 1, dy: 1 })\n      if (this.questionJamaisPosee(i, labelCentre, this.labels.join())) {\n        if (context.isHtml && this.interactif) {\n          // On crée la figure avec apigeom pour l'interactif\n          this.figuresApiGeom[i] = new Figure(\n            Object.assign(options, {\n              xMin: -10,\n              yMin: -10,\n              width: 600,\n              height: 600,\n            }),\n          )\n          this.figuresApiGeom[i].scale = 1\n          this.figuresApiGeom[i].setToolbar({\n            tools: [\n              'NAME_POINT',\n              'POINT_ON',\n              'POINT_INTERSECTION',\n              'CIRCLE_CENTER_POINT',\n              'RAY',\n              'UNDO',\n              'REDO',\n              'REMOVE',\n            ],\n            position: 'top',\n          })\n          this.centresApiGeom[i] = this.figuresApiGeom[i].create('Point', {\n            x: 0,\n            y: 0,\n            isVisible: true,\n            isSelectable: true,\n            label: labelCentre,\n          })\n          this.antecedentsApiGeom[i] = []\n          for (let k = 0; k < this.nbPoints; k++) {\n            ;(this.antecedentsApiGeom[i][k] as PointApigeom) =\n              this.figuresApiGeom[i].create('Point', {\n                x: antecedents2d[k].x,\n                y: antecedents2d[k].y,\n                isFree: false,\n                isSelectable: true,\n                label: antecedents2d[k].nom,\n              })\n          }\n          if (this.sup === 1) {\n            this.figuresApiGeom[i].create('Grid', {\n              xMin: -10,\n              yMin: -10,\n              xMax: 10,\n              yMax: 10,\n              stepX: 1,\n              stepY: 1,\n              color: 'gray',\n              axeX: false,\n              axeY: false,\n              labelX: false,\n              labelY: false,\n            })\n          }\n          if (this.sup === 2) {\n            for (let k = 0; k < this.nbPoints; k++) {\n              this.figuresApiGeom[i].create('Ray', {\n                point1: this.antecedentsApiGeom[i][k] as PointApigeom,\n                point2: this.centresApiGeom[i] as PointApigeom,\n                isDashed: true,\n                color: 'gray',\n              })\n            }\n          }\n          if (this.sup === 3) {\n            for (let k = 0; k < this.nbPoints; k++) {\n              this.figuresApiGeom[i].create('CircleCenterPoint', {\n                center: this.figuresApiGeom[i].create('Point', {\n                  isVisible: false,\n                  x: this.centresApiGeom[i].x,\n                  y: this.centresApiGeom[i].y,\n                }),\n                point: this.antecedentsApiGeom[i][k],\n                isDashed: true,\n                color: 'gray',\n              })\n            }\n          }\n          const emplacementPourFigure = figureApigeom({\n            exercice: this,\n            i,\n            figure: this.figuresApiGeom[i],\n            defaultAction: 'NAME_POINT',\n          })\n          this.listeQuestions[i] = enonce + '<br><br>' + emplacementPourFigure\n        } else {\n          this.listeQuestions[i] =\n            enonce +\n            '<br><br>' +\n            mathalea2d(\n              Object.assign(\n                { scale: 0.5, pixelsParCm: 20 },\n                fixeBordures([...objets, ...objetsCorrection]),\n              ),\n              objets,\n            )\n        }\n        this.listeCorrections[i] = mathalea2d(\n          Object.assign(\n            { scale: 0.5, pixelsParCm: 20 },\n            fixeBordures(objetsCorrection),\n          ),\n          objetsCorrection,\n        )\n        i++\n      }\n      cpt++\n    }\n  }\n\n  correctionInteractive = (i: number) => {\n    if (this.answers === undefined) this.answers = {}\n    // Sauvegarde de la réponse pour Capytale\n    this.answers[this.figuresApiGeom[i].id] = this.figuresApiGeom[i].json\n    const resultat = []\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    ) as HTMLDivElement\n    let feedback = ''\n\n    // on crée les bons symétriques :\n    for (let k = 0; k < this.nbPoints; k++) {\n      const { x, y } = rotationCoord(\n        this.antecedentsApiGeom[i][k],\n        this.centresApiGeom[i],\n        180,\n      )\n      const elts = Array.from(this.figuresApiGeom[i].elements.values())\n      const points = elts.filter(\n        (e) =>\n          e.type !== 'pointer' &&\n          (e.type === 'Point' ||\n            e.type === 'PointOnLine' ||\n            e.type === 'PointOnCircle' ||\n            e.type === 'PointIntersectionLL' ||\n            e.type === 'PointIntersectionLC' ||\n            e.type === 'PointIntersectionCC'),\n      ) as PointApigeom[]\n      const matchPoint = points.find((p) => p.label === `${this.labels[i][k]}'`)\n      const sym = points.find((p) => egal(x, p.x, 0.001) && egal(y, p.y, 0.001))\n      if (matchPoint != null) {\n        if (egal(x, matchPoint.x, 0.001) && egal(y, matchPoint.y, 0.001)) {\n          matchPoint.color = 'green'\n          matchPoint.thickness = 2\n          matchPoint.colorLabel = 'green'\n          resultat.push('OK')\n        } else {\n          matchPoint.color = 'red'\n          matchPoint.thickness = 2\n          matchPoint.colorLabel = 'green'\n          feedback += `Il y a  bien un point nommé $${(this.antecedentsApiGeom[i][k] as PointApigeom).label}'$ mais ce n'est pas le symétrique de $${this.antecedentsApiGeom[i][k].label}$ !<br>`\n          resultat.push('KO')\n        }\n      } else {\n        if (sym != null) {\n          sym.color = 'green'\n          sym.thickness = 2\n          sym.colorLabel = 'red'\n          feedback += `Le symétrique de $${this.antecedentsApiGeom[i][k].label}$ est bien construit mais il n'est pas nommé $${this.antecedentsApiGeom[i][k].label}'$ !<br>`\n        } else {\n          feedback += `Il n'y a pas de point symétrique de $${this.antecedentsApiGeom[i][k].label}$ et il n'y a pas de point nommé $${this.antecedentsApiGeom[i][k].label}'$ !<br>`\n        }\n        resultat.push('KO')\n      }\n    }\n    if (divFeedback) divFeedback.innerHTML = feedback\n    this.figuresApiGeom[i].isDynamic = false\n    this.figuresApiGeom[i].divButtons.style.display = 'none'\n    this.figuresApiGeom[i].divUserMessage.style.display = 'none'\n    return resultat\n  }\n}\n\nexport default ConstrctionsSymetrieCentralePoints\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","positionneLabel","pointA","pointB","checkDistance","points","point","ConstrctionsSymetrieCentralePoints","Exercice","__publicField","i","resultat","divFeedback","feedback","k","x","y","rotationCoord","e","matchPoint","p","sym","egal","marks","colors","context","contraindreValeur","cpt","enonce","antecedents2d","symetriques","objets","objetsCorrection","nuage","randint","shuffle","choisitLettresDifferentes","labelCentre","el","pointAbstrait","guideDroites","guide","demiDroite","colorToLatexOrHTML","guidesArc","rotation","cercleCentrePoint","grille","TracePoint","labelPoint","egalite","codageMilieu","trace","labelSym","label","options","Figure","emplacementPourFigure","figureApigeom","mathalea2d","fixeBordures"],"mappings":"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"}