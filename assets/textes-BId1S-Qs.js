var B=Object.defineProperty;var M=(n,r,t)=>r in n?B(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var l=(n,r,t)=>M(n,typeof r!="symbol"?r+"":r,t);import{P as x,R as $,O as C}from"./index-CMKaCP9B.js";import{c as b}from"./utilitairesGeometriques-rO8Jz15i.js";import{O as k}from"./ObjetMathalea2D-CXcNXRpD.js";import{a as z,P}from"./PointAbstrait-Cz1GEocE.js";const w={gauche:"west",milieu:"center",droite:"east"},v={gauche:"start",milieu:"middle",droite:"end"};function I({points:n,color:r,taille:t,largeur:i,hauteur:e,couleurDeRemplissage:h}={points:[],color:"black",taille:8,largeur:10,hauteur:10,couleurDeRemplissage:""}){const o=.25*Math.log10(t);let s,c;const a=[];let u;Array.isArray(n[0])?u=n[0]:u=n,u=u.map(f=>"c2d"in f?f.c2d:f);for(const f of u)switch(s=$(f.x),c=$(f.y),f.positionLabel){case"left":a.push(d(f.nom,s-o,c,r,i,e,h,t));break;case"right":a.push(d(f.nom,s+o,c,r,i,e,h,t));break;case"below":a.push(d(f.nom,s,c-o,r,i,e,h,t));break;case"above":a.push(d(f.nom,s,c+o,r,i,e,h,t));break;case"above right":a.push(d(f.nom,s+o,c+o,r,i,e,h,t));break;case"below left":a.push(d(f.nom,s-o,c-o,r,i,e,h,t));break;case"below right":a.push(d(f.nom,s+o,c-o,r,i,e,h,t));break;default:a.push(d(f.nom,s-o,c+o,r,i,e,h,t));break}return a}function q(...n){const t=[...n];let i;typeof t[t.length-1]=="string"?(i=b(String(t[t.length-1])),t.length--):i=b("black");const e=[];for(const h of t){let o,s;if(h instanceof P||h instanceof P)switch(o=h.x,s=h.y,h.positionLabel){case"left":e.push(g(h.nom,o-10/x.pixelsParCm,s,0,i[0],1,"milieu",!0,1));break;case"right":e.push(g(h.nom,o+10/x.pixelsParCm,s,0,i[0],1,"milieu",!0,1));break;case"below":e.push(g(h.nom,o,s-10/x.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"above":e.push(g(h.nom,o,s+10/x.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"above left":e.push(g(h.nom,o-10/x.pixelsParCm,s+10/x.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"above right":e.push(g(h.nom,o+10/x.pixelsParCm,s+10/x.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"below left":e.push(g(h.nom,o-10/x.pixelsParCm,s-10/x.pixelsParCm,0,i[0],1,"milieu",!0,1));break;case"below right":e.push(g(h.nom,o+10/x.pixelsParCm,s-10/x.pixelsParCm,0,i[0],1,"milieu",!0,1));break;default:e.push(g(h.nom,o,s,0,i[0],1,"milieu",!0,1));break}}return e}class S extends k{constructor(t,i,e=0,h="black",o=1,s="milieu",c=!1,a=1){super();l(this,"texte");l(this,"point");l(this,"orientation");l(this,"color");l(this,"scale");l(this,"ancrageDeRotation");l(this,"mathOn");l(this,"opacite");l(this,"gras");l(this,"opaciteDeRemplissage");l(this,"bordures");l(this,"couleurDeRemplissage");l(this,"contour");l(this,"taille");typeof e!="number"&&(e==="milieu"||typeof e=="string")&&(s=e,e=0),["milieu","gauche","droite"].includes(s)||(s="milieu"),this.ancrageDeRotation=s,this.orientation=e,this.color=b(h),this.scale=o,this.taille=Math.round(14*o),this.opacite=a,this.couleurDeRemplissage=b(h),this.mathOn=c,this.point=i,this.gras=!1,this.contour=!1,this.opaciteDeRemplissage=a,typeof t!="string"&&(Number.isNaN(t)||(t=C(t,3)));const u=Math.PI*e/180,f=Math.cos(u),p=Math.sin(u),O=.25,y=.3*o,m=t.length*O*o;s==="milieu"?this.bordures=[i.x-m*f,i.y-m*p-y,i.x+m*f,i.y+m*p+y]:s==="gauche"?this.bordures=[i.x,i.y-2*(m*p)-y,i.x+2*(m*f),i.y+y]:this.bordures=[i.x-2*m*f,i.y-y,i.x,i.y+2*(m*p)+y],typeof t!="string"&&(t=String(t)),t=t.replaceAll("$$","$"),this.texte=t}svg(t){if(this.texte.charAt(0)==="$")return this.point.positionLabel||(this.point.positionLabel="above"),L(this.texte.substring(1,this.texte.length-1),this.point.x,this.point.y,{color:this.color[0],orientation:this.orientation,letterSize:"normalsize"}).svg();{let i="",e="";this.mathOn&&(e=' font-family= "Book Antiqua"; font-style= "italic" '),this.contour?e+=` style="font-size: ${this.taille}px;fill: ${this.couleurDeRemplissage[0]};fill-opacity: ${this.opaciteDeRemplissage};stroke: ${this.color[0]};stroke-width: 0.5px;stroke-linecap: butt;stroke-linejoin:miter;stroke-opacity: ${this.opacite}" `:e+=` style="font-size:${this.taille}px;fill:${this.color[0]};fill-opacity:${this.opacite};${this.gras?"font-weight:bolder":""}" `;const h=v[this.ancrageDeRotation];return i=`<text ${e} x="${this.point.xSVG(t)}" y="${this.point.ySVG(t)}" text-anchor = "${h}" dominant-baseline = "central" fill="${this.couleurDeRemplissage[0]}" transform="rotate(${String(this.orientation)} ${this.point.xSVG(t)} ${this.point.ySVG(t)})" id="${this.id}" >${this.texte}</text>
 `,i}}tikz(){if(this.texte.charAt(0)==="$"){this.point.positionLabel||(this.point.positionLabel="above");let t="";const i=w[this.ancrageDeRotation];return t=`\\draw [color=${this.color[1]}] (${String($(this.point.x))},${String($(this.point.y))}) node[anchor = ${i},scale=${String(this.scale)}, rotate = ${String(-this.orientation)}] {${this.texte}};`,t}else{let t="";const i=w[this.ancrageDeRotation];return t=`\\draw [color=${this.color[1]}] (${$(this.point.x)},${$(this.point.y)}) node[anchor = ${i},scale=${String(this.scale)}, rotate = ${String(-this.orientation)}] {${this.texte}};`,t}}}function J(n,r,t=0,i="black",e=1,h="milieu",o=!1,s=1){return new S(n,r,t,i,e,h,o,s)}class G extends k{constructor(t,i,e=0,h="black",o=1,s="milieu",c=!1,a){super();l(this,"gras");l(this,"texte");l(this,"point");l(this,"orientation");l(this,"color");l(this,"scale");l(this,"ancrageDeRotation");l(this,"mathOn");l(this,"scaleFigure");l(this,"contour");l(this,"couleurDeRemplissage");l(this,"opaciteDeRemplissage");l(this,"bordures");l(this,"taille");typeof e!="number"&&(e==="milieu"||typeof e=="string")&&(s=e,e=0),["milieu","gauche","droite"].includes(s)||(s="milieu"),this.color=b(h),this.contour=!1,this.mathOn=c,this.gras=!1,this.point=i,this.scale=o,this.scaleFigure=a,this.taille=10*o,this.opacite=1,this.couleurDeRemplissage=b(h),this.opaciteDeRemplissage=this.opacite,this.bordures=[i.x-t.length*.2,i.y-.4,i.x+t.length*.2,i.y+.4],this.texte=t,this.orientation=e,this.ancrageDeRotation=s}svg(t){if(this.texte.charAt(0)==="$")return V(this.texte.substring(1,this.texte.length-2),this.point,this.color[0],this.texte.length*8,10,"",this.taille*.8).svg(t);{let i="";return this.mathOn&&(i=' font-family= "Book Antiqua"; font-style= "italic" '),this.contour?i+=` style="font-size: ${this.taille}px;fill: ${this.couleurDeRemplissage[0]};fill-opacity: ${this.opaciteDeRemplissage};stroke: ${this.color[0]};stroke-width: 0.5px;stroke-linecap: butt;stroke-linejoin:miter;stroke-opacity: ${this.opacite}" `:i+=` style="font-size:${this.taille}px;fill:${this.color[0]};fill-opacity:${this.opacite};${this.gras?"font-weight:bolder":""}" `,`<text ${i} x="${this.point.xSVG(t)}" y="${this.point.ySVG(t)}" text-anchor = "${v[this.ancrageDeRotation]}" dominant-baseline = "central" fill="${this.color[0]}" transform="rotate(${String(this.orientation)} ${this.point.xSVG(t)} ${this.point.ySVG(t)})" id="${this.id}" >${this.texte}</text>
 `}}tikz(){let t=this.texte;return this.mathOn&&t[0]!=="$"&&(t="$"+this.texte+"$"),`\\draw ${this.color[0]==="black"?"":`[color=${this.color[1]}]`} (${String($(this.point.x))},${String($(this.point.y))}) node[anchor = ${w[this.ancrageDeRotation]}, rotate = ${String(-this.orientation)}, scale=${(this.scale*this.scaleFigure*1.25).toFixed(2)}] {${t}};`}}function T(n,r,t=0,i="black",e=1,h="milieu",o=!1,s=1){return new G(n,r,t,i,e,h,o,s)}function K(n,r,t,i=0,e="black",h=1,o="milieu",s=!1,c=1){return T(n,z($(r,2),$(t,2),"","center"),i,e,h,o,s,c)}function g(n,r,t,i=0,e="black",h=1,o="milieu",s=!1,c){return typeof n=="number"&&(n=String(n)),typeof i!="number"&&(o=i,i=0),o==="middle"&&(o="milieu"),["milieu","droite","gauche"].includes(o)||(o="milieu"),n[0]==="$"?L(n.substring(1,n.length-1),r,t,{color:e,backgroundColor:"white",letterSize:"normalsize"}):new S(n,z(r,t,""),i,e,h,o,s,c)}function V(n,r,t="black",i=20,e=12,h="white",o=8){let s,c;const a=x.pixelsParCm,u=10*Math.log10(o);switch(r.positionLabel){case"above":s=r.x,c=r.y+u/a;break;case"below":s=r.x,c=r.y-u/a;break;case"left":s=r.x-u/a,c=r.y;break;case"right":s=r.x+u/a,c=r.y;break;case"above right":s=r.x+u/a,c=r.y+u/a;break;case"above left":s=r.x-u/a,c=r.y+u/a;break;case"below right":s=r.x+u/a,c=r.y-u/a;break;case"below left":s=r.x-u/a,c=r.y-u/a;break;case"center":s=r.x,c=r.y;break;default:s=r.x,c=r.y;break}return d(n,s,c,t,i,e,h,o)}class j extends k{constructor(t,i,e,h,o,s,c="",a=8){super();l(this,"x");l(this,"y");l(this,"largeur");l(this,"hauteur");l(this,"colorBackground");l(this,"texte");l(this,"bordures");l(this,"taille");l(this,"orientation");if(this.x=i,this.y=e,this.largeur=o*Math.log10(2*a),this.hauteur=s*Math.log10(a),this.colorBackground=c,this.color=b(h),this.texte=t,this.orientation=0,this.bordures=[this.x-(this.texte.length??0)*.15,this.y-.02*this.hauteur,this.x+(this.texte.length??0)*.15,this.y+.02*this.hauteur],a>19?this.taille="\\huge":a>16?this.taille="\\LARGE":a>13?this.taille="\\Large":a>11?this.taille="\\large":a<6?this.taille="\\tiny":a<8?this.taille="\\scriptsize":a<9?this.taille="\\footnotesize":a<10?this.taille="\\small":this.taille="\\normalsize",typeof this.texte!="string")throw Error(`Vous n'avez pas passer un string Ã  latexParCoordonnees() : ${this.texte}`);this.texte[0]==="$"&&this.texte[this.texte.length-1]==="$"&&(this.texte=this.texte.substring(1,this.texte.length-2))}svg(){return{latex:this.texte,x:this.x,y:this.y,opacity:this.opacite,orientation:this.orientation,letterSize:this.taille.substring(1),color:this.color[0],backgroundColor:this.colorBackground}}tikz(){let t;return this.colorBackground!==""&&this.colorBackground!=="none"?t=`\\draw (${this.x},${this.y}) node[anchor = center] {\\colorbox ${b(this.colorBackground)[1]}{${this.taille}  \\color${this.color[1]}{$${this.texte}$}}};`:t=`\\draw (${this.x},${this.y}) node[anchor = center] {${this.taille} \\color${this.color[1]}{$${this.texte}$}};`,t}}function d(n,r,t,i="black",e=50,h=20,o="",s=8){return n===""&&(n="\\phantom{ }"),new j(n,r,t,i,e,h,o,s)}class E extends k{constructor(t,i,e,h,o,s,c,a=8,u){super();l(this,"texte");l(this,"x");l(this,"y");l(this,"color");l(this,"largeur");l(this,"hauteur");l(this,"colorBackground");l(this,"taille","footnotesize");l(this,"options");l(this,"bordures");l(this,"style");if(this.x=i,this.y=e,this.largeur=o,this.hauteur=s,this.colorBackground=b(c),this.color=b(h),this.texte=t,this.style="",this.bordures=[i-this.texte.length*.2,e-.02*this.hauteur,i+this.texte.length*.2,e+.02*this.hauteur],a>19?this.taille="\\huge":a>16?this.taille="\\LARGE":a>13?this.taille="\\Large":a>11?this.taille="\\large":a<6?this.taille="\\tiny":a<8?this.taille="\\scriptsize":a<9?this.taille="\\footnotesize":a<10?this.taille="\\small":this.taille="\\normalsize",u.anchor!==void 0&&u.anchor!=="")switch(u.anchor){case"center":{let f=0;u.dy===void 0||u.dy===""||u.dy.indexOf("%")<0?f=0:f=parseInt(u.dy.substr(0,u.dy.indexOf("%")));let p=0;u.dx===void 0||u.dx===""||u.dx.indexOf("%")<0?p=0:p=parseInt(u.dx.substr(0,u.dx.indexOf("%"))),this.style=`position:fixed;top: 50%;left: 50%;transform: translate(${-50+p}%, ${-50+f}%);`;break}case"above":this.style="position:fixed;bottom:0;";break;case"left":this.style="position:fixed;right:0;";break;case"right":this.style="position:fixed;left:0;";break;case"below":this.style="position:fixed;top:0;";break}c!==""&&(this.style+=`background-color: ${this.colorBackground[0]};`)}svg(t){const i=this.largeur/2;return`<foreignObject style=" overflow: visible; line-height: 0;" x="${this.x*t-i}" y="${-this.y*t-0-this.hauteur/2}"  width="${this.largeur}" height="${this.hauteur}" id="${this.id}" ><div style="width:${this.largeur}px;height:${this.hauteur}px;position:fixed!important; text-align:center">
      <div style='${this.style}'>
      $${this.taille} \\color{${this.color[0]}}{${this.texte}}$
      </div></div></foreignObject>`}tikz(){let t;return this.colorBackground[1]!==""?t=`\\draw (${this.x},${this.y}) node[anchor = center] {\\colorbox ${this.colorBackground[1]}{${this.taille}  \\color${this.color[1]}{$${this.texte}$}}};`:t=`\\draw (${this.x},${this.y}) node[anchor = center] {${this.taille} \\color${this.color[1]}{$${this.texte}$}};`,t}}function Q(n,r,t,i="black",e=50,h=20,o="white",s=8,c){return n===""&&(n="\\phantom{ }"),new E(n,r,t,i,e,h,o,s,c)}class R extends k{constructor(t,i,e,{color:h="black",backgroundColor:o="",letterSize:s="normalsize",orientation:c=0,opacity:a=1,gras:u=!1}){super();l(this,"letterSize");l(this,"latex");l(this,"x");l(this,"y");l(this,"opacity");l(this,"orientation");l(this,"bordures");l(this,"col");l(this,"backgroundCol");l(this,"gras");this.col=h,this.backgroundCol=o,this.letterSize=s,this.orientation=c,this.opacity=a,this.latex=t,this.x=i,this.y=e;const f=.25;this.bordures=[i-f,e-f,i+f,e+f],this.gras=u}svg(){return{latex:this.latex,x:this.x,y:this.y,opacity:this.opacity,orientation:this.orientation,letterSize:this.letterSize,color:this.col.replace("#",""),backgroundColor:this.backgroundCol.replace("#",""),bordures:this.bordures,gras:this.gras}}tikz(){return this.backgroundCol.startsWith("#")?this.backgroundCol=`[HTML]{${this.backgroundCol.substring(1)}}`:this.backgroundCol=`${this.backgroundCol}`,this.col.startsWith("#")?this.col=`[HTML]{${this.col.substring(1)}}`:this.col=this.col.startsWith("{")&&this.col.endsWith("}")?this.col:`{${this.col}}`,this.backgroundCol!==""&&this.backgroundCol!=="none"?`\\draw[opacity=${this.opacity}] (${this.x},${this.y}) node[anchor = center, rotate=${this.orientation}] {\\colorbox{${this.backgroundCol}} {\\${this.letterSize}  \\color${this.col}$${this.gras?"\\boldsymbol{":""}${this.latex}${this.gras?"}":""}$}};`:`\\draw[opacity=${this.opacity}] (${this.x},${this.y}) node[anchor = center, rotate=${this.orientation}] {\\${this.letterSize} \\color${this.col}$${this.gras?"\\boldsymbol{":""}${this.latex}${this.gras?"}":""}$};`}}function L(n,r,t,{color:i,backgroundColor:e,letterSize:h,orientation:o,opacity:s,gras:c}){return i=i??"black",e=e==null||e===""||e==="none"?"":e,h=h??"normalsize",o=o??0,c=c??!1,s=s??1,new R(n,r,t,{color:i,backgroundColor:e,letterSize:h,orientation:o,opacity:s,gras:c})}function U(n){return n>1.9?"huge":n>1.6?"LARGE":n>1.3?"Large":n>1.1?"large":n<.6?"tiny":n<.8?"scriptsize":n<.9?"footnotesize":n<1?"small":"normalsize"}export{R as L,S as T,L as a,J as b,q as c,K as d,I as e,V as f,T as g,Q as h,U as i,d as l,g as t};
//# sourceMappingURL=textes-BId1S-Qs.js.map
