{"version":3,"file":"CM2N2D-1-CE6sUxo2.js","sources":["../../src/exercices/CM2/CM2N2D-1.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/interactivity/mathLive.fillInTheBlanks.test.ts ⚠️\n */\n\nimport { consecutiveCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Encadrer une fraction décimale entre deux nombres entiers'\nexport const uuid = '3bdcd'\n\nexport const refs = {\n  'fr-fr': ['CM2N2D-1'],\n  'fr-2016': ['6N20-3'],\n  'fr-ch': ['9NO11-3'],\n}\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '14/12/2023'\n\n/**\n * @author Rémi Angot\n */\n\nexport default class nomExercice extends Exercice {\n  constructor() {\n    super()\n    this.consigne = 'Compléter avec deux nombres entiers consécutifs.'\n    this.nbQuestions = 4\n  }\n\n  nouvelleVersion() {\n    type TypeQuestionsDisponibles = 'dixieme' | 'centieme' | 'millieme'\n    const typeQuestionsDisponibles = ['dixieme', 'centieme', 'millieme']\n\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    ) as TypeQuestionsDisponibles[]\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let den = 1\n      let num = 1\n      let texteEgaliteUnite: string\n      let texteCorr = ''\n      switch (listeTypeQuestions[i]) {\n        case 'dixieme':\n          den = 10\n          texteEgaliteUnite = 'dix dixièmes'\n          break\n        case 'centieme':\n          den = 100\n          texteEgaliteUnite = 'cent centièmes'\n          break\n        case 'millieme':\n          den = 1000\n          texteEgaliteUnite = 'mille millièmes'\n          break\n      }\n      do {\n        num = randint(0, den * 10)\n      } while (num % den === 0)\n      const texte = remplisLesBlancs(\n        this,\n        i,\n        `%{champ1}~~ < ~~\\\\dfrac{${texNombre(num, 1)}}{${texNombre(den, 1)}}~~ < ~~%{champ2}`,\n        ' clavierDeBaseAvecFraction fillInTheBlank',\n      )\n      const a = Math.floor(num / den)\n      const b = a + 1\n      texteCorr = ` $\\\\dfrac{${texNombre(a * den, 1)}}{${texNombre(den, 1)}} < \\\\dfrac{${texNombre(num, 1)}}{${texNombre(den, 1)}} < \\\\dfrac{${texNombre(b * den, 1)}}{${texNombre(den, 1)}}\\\\quad$ `\n      texteCorr += ` donc $\\\\quad${a} < \\\\dfrac{${texNombre(num, 1)}}{${texNombre(den, 1)}} < ${b}$.<br><br>`\n      if (a === 0) {\n        texteCorr += `Remarque : on sait que $0 = \\\\dfrac{0}{${texNombre(den, 1)}}\\\\quad$ et $\\\\quad\\\\dfrac{${texNombre(den, 1)}}{${texNombre(den, 1)}} = ${b}$.`\n      } else {\n        texteCorr += `Remarque : il faut ${texteEgaliteUnite} pour faire une unité donc $\\\\dfrac{${texNombre(a * den, 1)}}{${texNombre(den, 1)}} = ${a}$ et $\\\\dfrac{${texNombre(b * den, 1)}}{${texNombre(den, 1)}} = ${b}$.`\n      }\n      handleAnswers(\n        this,\n        i,\n        {\n          bareme: (listePoints: number[]) => [\n            Math.min(listePoints[0], listePoints[1]),\n            1,\n          ],\n          feedback: (saisies: { champ1: string; champ2: string }) => {\n            const rep1 = saisies.champ1\n            const rep2 = saisies.champ2\n            // on teste consecutifsCompare pour le feedback seulement, comme c'est un fillInTheBlank, la comparaison se fait sur les valeurs exactes des bornes entières.\n            // consecutifsCompare peut être utilisée pour évaluer des saisies complètes d'encadrements avec les signes < ou >\n            const { feedback } = consecutiveCompare(\n              `${rep1}<${(num / den).toFixed(4)}<${rep2}`,\n              `${a}<${(a + b) / 2}<${b}`,\n            )\n            return feedback\n          },\n          champ1: { value: String(a) },\n          champ2: { value: String(b) },\n        },\n        { formatInteractif: 'fillInTheBlank' },\n      )\n      if (this.questionJamaisPosee(i, num, den)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","uuid","refs","interactifReady","interactifType","dateDePublication","nomExercice","Exercice","listeTypeQuestions","combinaisonListes","i","cpt","den","num","texteEgaliteUnite","texteCorr","randint","texte","remplisLesBlancs","texNombre","a","b","handleAnswers","listePoints","saisies","rep1","rep2","feedback","consecutiveCompare","listeQuestionsToContenu"],"mappings":"qmFAYO,MAAMA,GAAQ,4DACRC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,UAAU,EACpB,UAAW,CAAC,QAAQ,EACpB,QAAS,CAAC,SAAS,CACrB,EACaC,GAAkB,GAClBC,GAAiB,WACjBC,GAAoB,aAMjC,MAAqBC,WAAoBC,CAAS,CAChD,aAAc,CACZ,MAAA,EACA,KAAK,SAAW,mDAChB,KAAK,YAAc,CACrB,CAEA,iBAAkB,CAIhB,MAAMC,EAAqBC,EAFM,CAAC,UAAW,WAAY,UAAU,EAIjE,KAAK,WAAA,EAEP,QAASC,EAAI,EAAGC,EAAM,EAAGD,EAAI,KAAK,aAAeC,EAAM,IAAM,CAC3D,IAAIC,EAAM,EACNC,EAAM,EACNC,EACAC,EAAY,GAChB,OAAQP,EAAmBE,CAAC,EAAA,CAC1B,IAAK,UACHE,EAAM,GACNE,EAAoB,eACpB,MACF,IAAK,WACHF,EAAM,IACNE,EAAoB,iBACpB,MACF,IAAK,WACHF,EAAM,IACNE,EAAoB,kBACpB,KAAA,CAEJ,GACED,EAAMG,EAAQ,EAAGJ,EAAM,EAAE,QAClBC,EAAMD,IAAQ,GACvB,MAAMK,EAAQC,EACZ,KACAR,EACA,2BAA2BS,EAAUN,EAAK,CAAC,CAAC,KAAKM,EAAUP,EAAK,CAAC,CAAC,oBAClE,2CAAA,EAEIQ,EAAI,KAAK,MAAMP,EAAMD,CAAG,EACxBS,EAAID,EAAI,EACdL,EAAY,aAAaI,EAAUC,EAAIR,EAAK,CAAC,CAAC,KAAKO,EAAUP,EAAK,CAAC,CAAC,eAAeO,EAAUN,EAAK,CAAC,CAAC,KAAKM,EAAUP,EAAK,CAAC,CAAC,eAAeO,EAAUE,EAAIT,EAAK,CAAC,CAAC,KAAKO,EAAUP,EAAK,CAAC,CAAC,YACpLG,GAAa,gBAAgBK,CAAC,cAAcD,EAAUN,EAAK,CAAC,CAAC,KAAKM,EAAUP,EAAK,CAAC,CAAC,OAAOS,CAAC,aACvFD,IAAM,EACRL,GAAa,0CAA0CI,EAAUP,EAAK,CAAC,CAAC,8BAA8BO,EAAUP,EAAK,CAAC,CAAC,KAAKO,EAAUP,EAAK,CAAC,CAAC,OAAOS,CAAC,KAErJN,GAAa,sBAAsBD,CAAiB,uCAAuCK,EAAUC,EAAIR,EAAK,CAAC,CAAC,KAAKO,EAAUP,EAAK,CAAC,CAAC,OAAOQ,CAAC,iBAAiBD,EAAUE,EAAIT,EAAK,CAAC,CAAC,KAAKO,EAAUP,EAAK,CAAC,CAAC,OAAOS,CAAC,KAEpNC,EACE,KACAZ,EACA,CACE,OAASa,GAA0B,CACjC,KAAK,IAAIA,EAAY,CAAC,EAAGA,EAAY,CAAC,CAAC,EACvC,CAAA,EAEF,SAAWC,GAAgD,CACzD,MAAMC,EAAOD,EAAQ,OACfE,EAAOF,EAAQ,OAGf,CAAE,SAAAG,GAAaC,EACnB,GAAGH,CAAI,KAAKZ,EAAMD,GAAK,QAAQ,CAAC,CAAC,IAAIc,CAAI,GACzC,GAAGN,CAAC,KAAKA,EAAIC,GAAK,CAAC,IAAIA,CAAC,EAAA,EAE1B,OAAOM,CACT,EACA,OAAQ,CAAE,MAAO,OAAOP,CAAC,CAAA,EACzB,OAAQ,CAAE,MAAO,OAAOC,CAAC,CAAA,CAAE,EAE7B,CAAE,iBAAkB,gBAAA,CAAiB,EAEnC,KAAK,oBAAoBX,EAAGG,EAAKD,CAAG,IACtC,KAAK,eAAeF,CAAC,EAAIO,EACzB,KAAK,iBAAiBP,CAAC,EAAIK,EAC3BL,KAEFC,GACF,CACAkB,EAAwB,IAAI,CAC9B,CACF"}