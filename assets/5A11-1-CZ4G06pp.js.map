{"version":3,"file":"5A11-1-CZ4G06pp.js","sources":["../../src/exercices/5e/5A11-1.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { labyrinthe } from '../../modules/Labyrinthe'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  contraindreValeur,\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '7/12/2020'\nexport const dateDeModifImportante = '29/10/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const titre =\n  'Parcourir un labyrinthe de multiples basé sur les critères de divisibilité'\n\n/**\n * @author Jean-Claude Lhote (remaniée par EE pour la prise en compte du nb de lignes et de colonnes du labyrinthe)\n * Sortir du labyrinthe en utilisant les critères de divisibilité.\n */\nexport const uuid = 'a3870'\n\nexport const refs = {\n  'fr-fr': ['5A11-1'],\n  'fr-ch': ['9NO4-11'],\n}\nexport default class ExerciceLabyrintheDivisibilite1 extends Exercice {\n  niveau: string\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Critères de divisibilité pour chaque question',\n      'Nombres séparés par des tirets :',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Niveau de rapidité',\n      6,\n      '1 : Escargot\\n2 : Tortue\\n3 : Lièvre\\n4 : Antilope\\n5 : Guépard\\n6 : Au hasard',\n    ]\n    this.besoinFormulaire3Numerique = [\n      'Nombre de lignes du labyrinthe (entre 2 et 8 ou bien 1 si vous laissez le hasard décider)',\n      8,\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Nombre de colonnes du labyrinthe (entre 2 et 8 ou bien 1 si vous laissez le hasard décider)',\n      8,\n    ]\n\n    this.niveau = '5e'\n    this.nbQuestions = 5\n\n    this.sup = '2-5-10'\n    this.sup3 = 1\n    this.sup4 = 1\n    this.sup2 = this.niveau === 'CM' ? 3 : 4\n    // this.consigne=`Trouver la sortie en ne passant que par les cases contenant un nombre divisible par $${parseInt(this.sup)}$.`\n  }\n\n  nouvelleVersion() {\n    const tailleChiffre = 0.8\n\n    let texte, texteCorr\n\n    let monChemin\n\n    const tables = gestionnaireFormulaireTexte({\n      min: 2,\n      max: 20,\n      defaut: choice([2, 5, 10]),\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      shuffle: false,\n      melange: 0,\n    }).map(Number)\n\n    for (let q = 0; q < this.nbQuestions; ) {\n      const nbL = this.sup3 === 1 ? randint(2, 8) : Math.max(2, this.sup3)\n      const nbC =\n        this.sup4 === 1 ? randint(3, 11 - nbL) : Math.max(3, this.sup4)\n      const laby = labyrinthe({\n        nbLignes: nbL,\n        nbColonnes: nbC,\n        scaleFigure: 0.7,\n      })\n      laby.niveau = contraindreValeur(1, 6, this.sup2, randint(1, 6)) // Le niveau (de 1 à 6=mélange) définit le nombre d'étapes\n      monChemin = laby.choisitChemin(laby.niveau) // On choisit un chemin\n      laby.murs2d = laby.construitMurs(monChemin) // On construit le labyrinthe\n      laby.chemin2d = laby.traceChemin(monChemin) // On trace le chemin solution\n      texte = `Trouver la sortie en ne passant que par les cases contenant un nombre divisible par ${tables[q]}.<br>`\n      // Zone de construction du tableau de nombres : S'ils sont sur monChemin et seulement si, ils doivent vérifier la consigne\n      let listeMultiples = []\n      const listeNonMultiples = []\n      for (let i = 200; i <= 12000; i += randint(1, 100)) {\n        listeMultiples.push(tables[q] * i)\n      }\n      for (let i = 1; i <= nbC * nbL; i++) {\n        listeNonMultiples.push(\n          randint(200, 5000) * tables[q] + randint(1, tables[q] - 1),\n        )\n      }\n      listeMultiples = combinaisonListes(listeMultiples, 12)\n      // Le tableau de nombre étant fait, on place les objets nombres.\n      laby.nombres2d = laby.placeNombres(\n        monChemin,\n        listeMultiples,\n        listeNonMultiples,\n        tailleChiffre,\n      )\n      const params = {\n        xmin: -4,\n        ymin: 0,\n        xmax: 5 + 3 * nbC,\n        ymax: 2 + 3 * nbL,\n        pixelsParCm: 20,\n        scale: 0.7,\n      }\n      texte += mathalea2d(params, laby.murs2d, laby.nombres2d)\n      texte += ajouteChampTexteMathLive(\n        this,\n        2 * q,\n        KeyboardType.clavierNumbers,\n        { texteAvant: 'Indiquer le numéro de la bonne sortie :' },\n      )\n      handleAnswers(this, 2 * q, {\n        reponse: { value: `${nbL - monChemin[monChemin.length - 1][1]}` },\n      })\n      texte += ajouteChampTexteMathLive(\n        this,\n        2 * q + 1,\n        KeyboardType.clavierNumbers,\n        { texteAvant: '<br>Combien de nombres rencontrés avant la sortie ?' },\n      )\n      handleAnswers(this, 2 * q + 1, {\n        reponse: { value: `${laby.chemin2d.length - 1}` },\n      })\n      texteCorr = `Voici le chemin en couleur ($${miseEnEvidence(laby.chemin2d.length - 1)}$ nombres rencontrés avant la sortie) et la sortie est le numéro $${miseEnEvidence(nbL - monChemin[monChemin.length - 1][1])}$.<br>`\n      texteCorr += mathalea2d(\n        params,\n        laby.murs2d,\n        laby.nombres2d,\n        laby.chemin2d,\n      )\n      if (\n        this.questionJamaisPosee(q, listeMultiples[0], listeNonMultiples[0])\n      ) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n\n        q++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n} // Fin de l'exercice.\n"],"names":["dateDePublication","dateDeModifImportante","interactifReady","interactifType","titre","uuid","refs","ExerciceLabyrintheDivisibilite1","Exercice","__publicField","texte","texteCorr","monChemin","tables","gestionnaireFormulaireTexte","choice","q","nbL","randint","nbC","laby","labyrinthe","contraindreValeur","listeMultiples","listeNonMultiples","i","combinaisonListes","params","mathalea2d","ajouteChampTexteMathLive","KeyboardType","handleAnswers","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}