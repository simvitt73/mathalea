{"version":3,"file":"TSP1-02-C8VmUJFq.js","sources":["../../src/exercices/TSpe/TSP1-02.ts"],"sourcesContent":["import { bleuMathalea } from '../../lib/colors'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  compteOccurences,\n  enleveDoublonNum,\n} from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { numAlpha, sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  factorielle,\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Tirer des boules avec remise dans une urne.'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDePublication = '18/11/2024'\nexport const dateDeModifImportante = '10/12/2025'\nexport const uuid = 'daabf'\n\n/**\n * @author Stéphane Guyon\n */\n\nexport const refs = {\n  'fr-fr': ['TSP1-02'],\n  'fr-ch': [],\n}\n\nexport default class LoiBinomialeUrne extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.besoinFormulaireTexte = [\n      'Type de questions',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : $P(X>0)$',\n        '2 : $P(X=k)$',\n        '3 : Espérance de X',\n        '4 : Mélange',\n      ].join('\\n'),\n    ]\n    this.sup = '4'\n    this.spacing = 2\n    this.spacingCorr = 2\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: 3,\n      shuffle: false,\n    }).map(Number)\n    typesDeQuestionsDisponibles = enleveDoublonNum(typesDeQuestionsDisponibles)\n\n    let nbDeQuestions = typesDeQuestionsDisponibles.length\n    if (compteOccurences(typesDeQuestionsDisponibles, 1) > 0) nbDeQuestions++\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let r, b, n, k, p, q, Xzero\n      do {\n        r = randint(4, 11) // nombre de boules rouges\n        b = randint(4, 11, r) // nombre de boules bleues\n        n = randint(4, r + b - 1) // nombre de tirages\n        k = randint(3, n - 1) // nombre de succès\n\n        p = new FractionEtendue(r, r + b)\n        q = new FractionEtendue(b, r + b)\n        Xzero = new FractionEtendue(b ** n, (r + b) ** n)\n      } while (Xzero.valeurDecimale < 0.01)\n      if (this.questionJamaisPosee(i, r, b, n, k)) {\n        const esp = p.multiplieEntier(n)\n\n        let texte = `Une urne contient ${r} boules rouges et ${b} boules bleues. On effectue ${n} tirages successifs avec remise.`\n        texte +=\n          '<br>On note $X$ la variable aléatoire qui compte le nombre de boules rouges obtenues.<br>'\n        texte +=\n          numAlpha(0) +\n          ' Déterminer la loi de probabilité suivie par la variable aléatoire $X$.<br>'\n        // let texteCorr = `${texteGras('1. Déterminer la loi de probabilité suivie par la variable aléatoire $X$.<br>')}`\n        let texteCorr = ''\n        texteCorr +=\n          numAlpha(0) +\n          `Les tirages sont identiques et indépendants puisque chaque tirage est effectué avec remise.<br>\n      Il y a ${r} boules rouges pour un total de ${r + b} boules dans l'urne.<br>\n      La probabilité d'obtenir une boule rouge lors d'un tirage est donc $p = ${p.texFractionSimplifiee}$ .<br>\n      Si on appelle succès le fait d'obtenir une boule rouge, l'expérience consiste à répéter ${n} fois une épreuve de Bernoulli de paramètre $p = ${p.texFractionSimplifiee}$.`\n        texteCorr += `<br>On a donc $${miseEnEvidence(`X \\\\sim \\\\mathcal B\\\\left(${n}\\\\,;\\\\,${p.texFractionSimplifiee}\\\\right)`, bleuMathalea)}$.<br>`\n        let texteApres = sp(5) + '(Arrondir au centième.)'\n        let indiceInteractif = 0\n        for (let j = 0; j < typesDeQuestionsDisponibles.length; j++) {\n          texte += numAlpha(j + 1)\n          texteCorr += numAlpha(j + 1)\n          switch (typesDeQuestionsDisponibles[j]) {\n            case 1:{\n              texte += 'Calculer $P(X=0)$ et en déduire $P(X>0)$.<br>'\n              // texteCorr += `${texteGras('2. Calculer $P(X=0)$ puis $P(X>0)$.<br>')}`\n              const reponseNum0 = arrondi(Xzero.valeurDecimale, 2)\n              const reponseNum1 = arrondi(1 - Xzero.valeurDecimale, 2)\n              texteCorr += `On sait que la probabilité d'avoir $k$ succès quand $X$ suit une loi binomiale de paramètre $n$ et $p$ est :<br>\n      $\\\\mathrm{P}(X=k)=\\\\displaystyle\\\\binom{n}{k}\\\\times p^k\\\\times (1-p)^{n-k}$.<br> \n      ce qui donne dans notre situation : $\\\\mathrm{P}(X=k)=\\\\displaystyle\\\\binom{${n}}{k}\\\\times \\\\left(${p.texFractionSimplifiee}\\\\right)^k\\\\times \\\\left(${q.texFractionSimplifiee}\\\\right)^{${n}-k}\\\\quad$ (pour $0\\\\leqslant k\\\\leqslant ${n}$).<br> \n      Pour $k=0$, on a $\\\\mathrm{P}(X=0) = \\\\displaystyle\\\\binom{${n}}{0}\\\\times \\\\left(${p.texFractionSimplifiee}\\\\right)^0\\\\times \\\\left(${q.texFractionSimplifiee}\\\\right)^{${n}}$.\n      <br>Par calcul, on obtient que $\\\\mathrm{P}(X=0)\\\\approx ${miseEnEvidence(texNombre(reponseNum0))}$.<br>`\n              texteCorr += `Et comme $\\\\mathrm{P}(X>0) = 1 - \\\\mathrm{P}(X=0)$, on en déduit que $\\\\mathrm{P}(X>0) \\\\approx ${miseEnEvidence(texNombre(reponseNum1))}$.<br>`\n              if (this.interactif) {\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i * nbDeQuestions + indiceInteractif,\n                  KeyboardType.clavierNumbers,\n                  { texteAvant: `$P(X=0)=$`, texteApres },\n                )\n                texte += '<br>'\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i * nbDeQuestions + indiceInteractif + 1,\n                  KeyboardType.clavierNumbers,\n                  { texteAvant: `$P(X>0)=$`, texteApres },\n                )\n                texte += '<br>'\n                handleAnswers(this, i * nbDeQuestions + indiceInteractif, {\n                  reponse: {\n                    value: reponseNum0,\n                    options: {\n                      nombreDecimalSeulement: true,\n                    },\n                  },\n                })\n                handleAnswers(this, i * nbDeQuestions + indiceInteractif + 1, {\n                  reponse: {\n                    value: reponseNum1,\n                    options: {\n                      nombreDecimalSeulement: true,\n                    },\n                  },\n                })\n              }\n              indiceInteractif = indiceInteractif + 2\n            }break\n            case 2:{\n              texte += `Calculer $P(X=${k})$.<br>`\n              // texteCorr += `${texteGras(`3. Calculer $P(X=${k})$.<br>`)}`\n              texteCorr += `On sait que  $P(X=${k}) = \\\\displaystyle\\\\binom{${n}}{${k}}\\\\times \\\\left(${p.texFractionSimplifiee}\\\\right)^{${k}}\\\\times \\\\left(${q.texFractionSimplifiee}\\\\right)^{${n - k}}$.<br>`\n              const bino =\n                factorielle(n) / (factorielle(k) * factorielle(n - k))\n              const reponseNum = arrondi(bino * p.valeurDecimale ** k * q.valeurDecimale ** (n - k), 2)\n              texteCorr += `Par calcul, on obtient que $P(X=${k})\\\\approx ${miseEnEvidence(texNombre(arrondi(reponseNum, 2)))}$.<br>`\n              if (this.interactif) {\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i * nbDeQuestions + indiceInteractif,\n                  KeyboardType.clavierNumbers,\n                  { texteAvant: `$P(X=${k})=$`, texteApres },\n                )\n                texte += '<br>'\n                handleAnswers(this, i * nbDeQuestions + indiceInteractif, {\n                  reponse: {\n                    value: reponseNum,\n                    options: {\n                      nombreDecimalSeulement: true,\n                    },\n                  },\n                })\n              }\n              indiceInteractif++\n            }break\n            default:{\n              // texte += \"Calculer l'espérance $E(X)$ et interpréter ce résultat.\"\n              texte += \"Calculer l'espérance $\\\\mathrm{E}(X)$.<br>\"\n              // texteCorr += `${texteGras(\"4. Calculer l'espérance $E(X)$ et interprétez ce résultat.<br>\")}`\n              const reponse = esp.texFractionSimplifiee\n              texteCorr += `On sait que l'espérance de $X \\\\sim \\\\mathcal B\\\\left(n\\\\,;\\\\,p\\\\right)$ est donnée par $\\\\mathrm{E}(X) = n\\\\,p $.\n      <br>On obtient donc $\\\\mathrm{E}(X)= ${n}\\\\times ${p.texFractionSimplifiee}$ et finalement $\\\\mathrm{E}(X) = ${miseEnEvidence(reponse)}$.<br>`\n              texteApres = sp(5) + '(Saisir la valeur exacte.)'\n              if (this.interactif) {\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i * nbDeQuestions + indiceInteractif,\n                  KeyboardType.clavierNumbers,\n                  { texteAvant: `$E(X)=$`, texteApres },\n                )\n                texte += '<br>'\n                handleAnswers(this, i * nbDeQuestions + indiceInteractif, {\n                  reponse: {\n                    value: reponse,\n                    options: {\n                      nombreDecimalSeulement: true,\n                      fractionEgale: true,\n                    },\n                  },\n                })\n              }\n              indiceInteractif++\n            }\n            break\n          }\n        }\n\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","dateDeModifImportante","uuid","refs","LoiBinomialeUrne","Exercice","typesDeQuestionsDisponibles","gestionnaireFormulaireTexte","enleveDoublonNum","nbDeQuestions","compteOccurences","cpt","r","b","n","k","p","q","Xzero","randint","FractionEtendue","esp","texte","numAlpha","texteCorr","miseEnEvidence","bleuMathalea","texteApres","sp","indiceInteractif","j","reponseNum0","arrondi","reponseNum1","texNombre","ajouteChampTexteMathLive","KeyboardType","handleAnswers","bino","factorielle","reponseNum","reponse","listeQuestionsToContenu"],"mappings":"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"}