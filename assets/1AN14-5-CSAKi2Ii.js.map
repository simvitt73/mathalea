{"version":3,"file":"1AN14-5-CSAKi2Ii.js","sources":["../../src/exercices/1e/1AN14-5.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport engine, {\n  functionCompare,\n} from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { ecritureAlgebrique, rienSi1 } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { signe } from '../../lib/outils/nombres'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Dériver une fonction du type $u\\\\times v$'\nexport const dateDePublication = '22/01/2022'\nexport const dateDeModifImportante = '28/01/2026'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * Calculer la dérivée d'un produit\n * @author Jean-Léon Henry modifié par Rémi Angot (choix des fonctions + parenthèses)\n * mise en jour par Jean-Claude Lhote à la demande des collègues de lycée (notations + paramétrage + quelques améliorations esthétiques)\n\n */\n\nexport const uuid = '1a60f'\nexport const refs = {\n  'fr-fr': ['1AN14-5'],\n  'fr-ch': ['3mA2-8'],\n}\n\ntype TypeDeProduit =\n  | 'monome2/poly1'\n  | 'inv/poly1'\n  | 'racine/poly'\n  | 'racine/poly2centre'\n  | 'monome2/racine'\n  | 'exp/poly'\n  | 'exp/poly2centre'\ntype TypeDeFonction =\n  | 'monome2'\n  | 'inv'\n  | 'racine'\n  | 'poly1'\n  | 'poly2centre'\n  | 'poly'\n  | 'exp'\n\nexport default class DeriveeProduit extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Types de fonctions :',\n      'Nombres séparés par des tirets :\\n1 Monôme2 et affine\\n2 : Inverse et affine\\n3 : Racine et polynôme\\n4 : Racine et polynôme degré 2 sans degré 1\\n5 : Monôme2 et racine\\n6 : Mélange',\n    ]\nthis.spacing= 1.5\n    this.nbQuestions = 3\n    // Sortie LaTeX\n    this.nbCols = 2 // Nombre de colonnes\n    this.nbColsCorr = 2 // Nombre de colonnes dans la correction\n    this.sup = '6'\n    // On modifie les règles de simplifications par défaut de math.js pour éviter 10x+10 = 10(x+1) et -4x=(-4x)\n    // const reglesDeSimplifications = math.simplify.rules.slice()\n    // reglesDeSimplifications.splice(reglesDeSimplifications.findIndex(rule => rule.l === 'n1*n2 + n2'), 1)\n    // reglesDeSimplifications.splice(reglesDeSimplifications.findIndex(rule => rule.l === 'n1*n3 + n2*n3'), 1)\n    // reglesDeSimplifications.push({ l: '-(n1*v)', r: '-n1*v' })\n    // reglesDeSimplifications.push('-(n1/n2) -> -n1/n2')\n  }\n\n  nouvelleVersion() {\n     if (this.nbQuestions > 1) {\n      this.consigne = 'Dans chacun des cas suivants, on admet que la fonction est définie et dérivable sur un intervalle $I$. <br>Déterminer une expression de la fonction dérivée sur $I$.'\n    } else {\n      this.consigne = 'On admet que la fonction est définie et dérivable sur un intervalle $I$. <br>Déterminer une expression de la fonction dérivée sur $I$.'\n    }\n     const listeValeurs = [] // Les questions sont différentes du fait du nom de la fonction, donc on stocke les valeurs\n\n    // Types d'énoncés\n    // const listeTypeDeQuestionsDisponibles = ['monome2/poly1', 'inv/poly1']\n    // if (this.sup === 2) {\n    //   listeTypeDeQuestionsDisponibles.push('racine/poly', 'racine/poly2centre', 'monome2/racine')\n    //   if (this.sup2) {\n    //     listeTypeDeQuestionsDisponibles.push('exp/poly', 'exp/poly2centre')\n    //   }\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: [\n        'monome2/poly1',\n        'inv/poly1',\n        'racine/poly',\n        'racine/poly2centre',\n        'monome2/racine',\n      ],\n      min: 1,\n      max: 5,\n      melange: 6,\n      defaut: 1,\n    }).map(String) as TypeDeProduit[]\n    for (\n      let i = 0,\n        texte,\n        texteCorr,\n        terme1,\n        terme2,\n        expression,\n        askFacto,\n        askFormule,\n        askQuotient,\n        namef,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      // On commence par générer des fonctions qui pourrait servir\n      const dictFonctions = {\n        exp: 'e^x',\n        racine: '\\\\sqrt{x}',\n        inv: '1/x',\n        poly1: new Polynome({ rand: true, deg: 1 }),\n        poly2centre: new Polynome({\n          rand: true,\n          coeffs: [[10, true], 0, [10, true]],\n        }),\n        monome2: new Polynome({ rand: true, coeffs: [0, 0, [10, true]] }),\n        poly: new Polynome({ rand: true, deg: randint(1, 2) }),\n      }\n      const listeTypeFonctions = listeTypeDeQuestions[i].split(\n        '/',\n      ) as TypeDeFonction[]\n      // On précise les énoncés\n      askFacto = listeTypeFonctions.includes('exp')\n      askFormule = listeTypeFonctions.includes('poly1')\n      askQuotient = listeTypeFonctions.includes('inv')\n      // On randomise l'ordre des termes, sauf pour l'inverse et un monome devant une racine/une affine\n      let f1 = 0\n      let f2 = 1\n      if (\n        !['monome2/racine', 'monome2/poly1', 'inv/poly1'].includes(\n          listeTypeDeQuestions[i],\n        )\n      ) {\n        f1 = randint(0, 1)\n        f2 = 1 - f1\n      }\n      const typef1: TypeDeFonction = listeTypeFonctions[f1]\n      const typef2: TypeDeFonction = listeTypeFonctions[f2]\n      // On gère les parenthèses autour des fonctions spéciales\n      const noPar = (type: string) =>\n        ['monome2', 'racine', 'exp', 'inv'].includes(type)\n      const parenth = (expr: string, type: string) =>\n        noPar(type) ? expr : `(${expr})`\n      // On crée les expressions des fonctions : les polynômes dans dictFonctions ne sont pas des chaînes\n      const exprf1 = ['poly', 'mono'].includes(typef1.substring(0, 4))\n        ? (dictFonctions[typef1] as Polynome).toMathExpr()\n        : (dictFonctions[typef1] as string)\n      const exprf2 = ['poly', 'mono'].includes(typef2.substring(0, 4))\n        ? (dictFonctions[typef2] as Polynome).toMathExpr()\n        : (dictFonctions[typef2] as string)\n      terme1 = parenth(exprf1, typef1)\n      terme2 = parenth(exprf2, typef2)\n      // Expression finale de la fonction\n      expression = `${terme1}*${terme2}`\n      \n      // Pour le cas monome2/poly1, on crée l'affichage directement en LaTeX\n      let affichageFonction = ''\n      if (listeTypeDeQuestions[i] === 'monome2/poly1') {\n        const mon2 = dictFonctions[typef1] as Polynome\n        const poly1 = dictFonctions[typef2] as Polynome\n        const coeff = mon2.monomes[2] // coefficient de x²\n        // On affiche : coeff x² (poly1)\n        const coeffStr = coeff === 1 ? '' : coeff === -1 ? '-' : `${coeff}`\n        affichageFonction = `${coeffStr}x^{2}(${poly1.toLatex()})`\n      } else {\n        affichageFonction = engine.parse(expression).latex\n      }\n\n      // Enoncé\n      namef = [\n        'f',\n        'g',\n        'h',\n        'l',\n        'm',\n        'p',\n        'r',\n        's',\n        't',\n        'u',\n        'v',\n        'w',\n        'b',\n        'c',\n        'd',\n        'e',\n      ][i % 16]\n      texte = askFacto\n        ? 'Dans cette question, on demande la réponse sous forme factorisée.<br>'\n        : ''\n      texte = askFormule\n        ? `Dans cette question, on demande d'utiliser la formule de dérivation d'un produit${\n            askQuotient\n              ? \" et de mettre le résultat sous forme d'un quotient.\"\n              : '.'\n          }<br>`\n        : texte\n      texte += `$${namef}(x)=${affichageFonction}$`\n      // Correction\n      texteCorr = ''\n      texteCorr +=\n        'On rappelle le cours : si $u,v$ sont  deux fonctions dérivables sur un même intervalle $I$ alors leur produit est dérivable sur $I$ et on a la formule : '\n      texteCorr += \"\\\\[(u\\\\times v)'=u'\\\\times v+u\\\\times v'.\\\\]\"\n      texteCorr += `Ici $${namef}=u\\\\times v$ avec : `\n      texteCorr += `\\\\[\\\\begin{aligned}u(x)&=${engine.parse(exprf1).latex}\\\\\\\\ v(x)&=${engine.parse(exprf2).latex}.\\\\end{aligned}\\\\]`\n      switch (listeTypeDeQuestions[i]) {\n        case 'inv/poly1': {\n          const b = (dictFonctions[typef2] as Polynome).monomes[0] // coeffs du poly1\n          const a = (dictFonctions[typef2] as Polynome).monomes[1] // coeffs du poly1\n          const f2 = dictFonctions[typef2] as Polynome\n          // Début correction\n          texteCorr += 'On utilise la formule rappelée plus haut et on a : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\underbrace{-\\\\frac{1}{x^2}}_{u'(x)}\\\\times${engine.parse(terme2).latex}+\\\\frac{1}{x}\\\\times\\\\underbrace{${Number(a) > 0 ? a : `(${a})`}}_{v'(x)}.\\\\]`\n          texteCorr += `Ce qui donne, en simplifiant : \\\\[${namef}'(x)=\\\\frac{${f2.multiply(-1)}}{x^2}+\\\\frac{${a}}{x}.\\\\]`\n          texteCorr += 'On additionne les deux fractions pour obtenir : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\frac{${f2.multiply(-1)}}{x^2}+\\\\frac{${Polynome.print([0, Number(a)])}}{x^2}=\\\\frac{${f2.multiply(-1)}${Polynome.print([0, Number(a)], true)}}{x^2}.\\\\]`\n          texteCorr += 'Des termes se simplifient au numérateur et on a : '\n          texteCorr += `\\\\[${namef}'(x)=${miseEnEvidence(`\\\\frac{${Polynome.print([-b])}}{x^2}`)}.\\\\]`\n          // Remarque sur la méthode alternative\n          const fExpand = engine.parse(`${a}${ecritureAlgebrique(b)}/x`).latex\n          texteCorr += `Remarque : on pourrait bien entendu développer avant de dériver.<br>Dans ce cas, $${namef}(x)=${fExpand}$.<br>`\n          const maReponse = engine\n            .box(['D', engine.parse(fExpand), 'x'])\n            .evaluate().latex\n          texteCorr += `Et donc $${namef}'(x)=${miseEnEvidence(maReponse)}$. Ce qui est bien cohérent avec le résultat trouvé plus haut.`\n          // Sans le replace { x} est mal interprété par le parser de mathLive\n          handleAnswers(this, i, {\n            reponse: { value: maReponse, compare: functionCompare },\n          })\n          break\n        }\n        case 'monome2/poly1': {\n          const mon2 = dictFonctions[typef1] as Polynome\n          const poly1 = dictFonctions[typef2] as Polynome\n          const a = poly1.monomes[1]\n          const polExpand = mon2.multiply(poly1)\n          // Début correction\n          texteCorr += `On utilise la formule rappelée plus haut et on a  \\\\[${namef}'(x)=\\\\underbrace{${mon2.derivee()}}_{u'(x)}\\\\times(${exprf2})+(${mon2.toMathExpr()})\\\\times\\\\underbrace{${Number(a) > 0 ? a.toString() : `(${a})`}}_{v'(x)}.\\\\]`\n          texteCorr += `On développe pour obtenir : \\\\[${namef}'(x)=${mon2.derivee().multiply(poly1)}${mon2.multiply(a).toMathExpr(true)}.\\\\]`\n          texteCorr += `Puis, en regroupant les termes de même degré : \\\\[${namef}'(x)=${miseEnEvidence(`${polExpand.derivee()}`)}.\\\\]`\n          // Remarque sur la méthode alternative\n          texteCorr += `Remarque : on pourrait bien entendu développer avant de dériver.<br>Dans ce cas, $${namef}(x)=${polExpand}$.<br>`\n          texteCorr += `Et donc $${namef}'(x)=${miseEnEvidence(`${polExpand.derivee()}`)}$. Ce qui est bien cohérent avec le résultat trouvé plus haut.`\n          handleAnswers(this, i, {\n            reponse: {\n              value: polExpand.derivee().toString(),\n              compare: functionCompare,\n            },\n          })\n          break\n        }\n        case 'monome2/racine': {\n          const mon2 = dictFonctions[typef1] as Polynome\n          const m = Number(mon2.monomes[2]) // coeff du monome2\n          texteCorr += 'On applique la  formule rappellée plus haut : '\n          texteCorr += `\\\\[${namef}'(x)=\\\\underbrace{${mon2.derivee()}}_{u'(x)}\\\\times\\\\sqrt{x}+(${mon2.toMathExpr()})\\\\times\\\\underbrace{\\\\frac{1}{2\\\\sqrt{x}}}_{v'(x)}.\\\\]`\n          texteCorr += \"On peut réduire un peu l'expression : \"\n          texteCorr += `\\\\[${namef}'(x)=${miseEnEvidence(`${rienSi1(2 * m)}x\\\\sqrt{x}${signe(m)}`)}` // attention l'équation finit ligne suivante\n          if (m % 2 !== 0) {\n            texteCorr += `${miseEnEvidence(`\\\\frac{${rienSi1(Math.abs(m))}x^2}{2\\\\sqrt{x}}`)}.\\\\]`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `${rienSi1(2 * m)}x\\\\sqrt{x}${signe(m)}\\\\frac{${rienSi1(Math.abs(m))}x^2}{2\\\\sqrt{x}}`,\n                compare: functionCompare,\n              },\n            })\n            // Réponse réduite à ajouter\n          } else {\n            texteCorr += `${miseEnEvidence(`\\\\frac{${Polynome.print([0, 0, Math.abs(m / 2)])}}{\\\\sqrt{x}}`)}.\\\\]`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `${rienSi1(2 * m)}x\\\\sqrt{x}${signe(m)}\\\\frac{${Polynome.print([0, 0, Math.abs(m / 2)])}}{\\\\sqrt{x}}`,\n                compare: functionCompare,\n              },\n            })\n            // Réponse réduite à ajouter\n          }\n          break\n        }\n        case 'racine/poly2centre': // traité ci-après\n        case 'racine/poly': {\n          const racineGauche = typef1 === 'racine'\n          const poly =\n            listeTypeDeQuestions[i] === 'racine/poly2centre'\n              ? dictFonctions.poly2centre\n              : dictFonctions.poly\n          const derivee = poly.derivee()\n          const tex = derivee.toLatex()\n          const neg = tex.startsWith('-')\n          // 1ère étape : application de la formule\n          let intermediaire\n          if (racineGauche)\n            intermediaire = `\\\\underbrace{\\\\frac{1}{2\\\\sqrt{x}}}_{u'(x)}\\\\times(${poly})+\\\\sqrt{x}\\\\times\\\\underbrace{(${derivee})}_{v'(x)}`\n          else\n            intermediaire = `\\\\underbrace{${derivee.isMon() ? derivee.toLatex() : '(' + derivee.toLatex() + ')'}}_{u'(x)}\\\\times\\\\sqrt{x}+(${poly})\\\\times\\\\underbrace{\\\\frac{1}{2\\\\sqrt{x}}}_{v'(x)}`\n          texteCorr += `On utilise la formule rappelée plus haut et on a \\\\[${namef}'(x)=${intermediaire}.\\\\]`\n          // 2ème étape : simplification\n          let interm2\n          if (racineGauche) {\n            interm2 = `\\\\frac{${poly}}{2\\\\sqrt{x}}${\n              derivee.isMon()\n                ? neg\n                  ? tex\n                  : '+' + tex\n                : '+' + `(${derivee.toLatex()})`\n            }\\\\sqrt{x}`\n          } else\n            interm2 = `${derivee.isMon() ? `${derivee.toLatex()}` : `(${derivee.toLatex()})`}\\\\sqrt{x}+\\\\frac{${poly}}{2\\\\sqrt{x}}`\n          texteCorr +=\n            \"L'énoncé ne demandant rien de plus, on se contente de simplifier l'expression :\"\n          texteCorr += `\\\\[${namef}'(x)=${miseEnEvidence(`${interm2}`)}.\\\\]`\n          handleAnswers(this, i, {\n            reponse: { value: interm2, compare: functionCompare },\n          })\n          break\n        }\n        case 'exp/poly': // traité ci-après\n        case 'exp/poly2centre':\n          {\n            const expGauche = typef1 === 'exp'\n            const poly =\n              listeTypeDeQuestions[i] === 'exp/poly2centre'\n                ? dictFonctions.poly2centre\n                : dictFonctions.poly\n            const derivee = poly.derivee()\n            // 1ère étape : application de la formule\n            let intermediaire\n            if (expGauche)\n              intermediaire = `\\\\underbrace{e^x}_{u'(x)}\\\\times(${poly})+e^x\\\\times\\\\underbrace{(${derivee})}_{v'(x)}`\n            else\n              intermediaire = `\\\\underbrace{${derivee.isMon() ? `${derivee.toLatex()}` : `(${derivee.toLatex()})`}}_{u'(x)}\\\\times e^x+(${poly})\\\\times\\\\underbrace{e^x}_{v'(x)}`\n            texteCorr += `On utilise la formule rappelée plus haut et on a \\\\[${namef}'(x)=${intermediaire}.\\\\]`\n            // 2ème étape : Factorisation\n            const interm2 = `(${poly.add(derivee).toLatex()})`\n            const termeGauche = expGauche ? 'e^x' : interm2\n            const termeDroite = expGauche ? interm2 : 'e^x'\n            texteCorr += \"Comme demandé, on factorise l'expression par $e^x$ : \"\n            // texteCorr += `\\\\[${namef}'(x)=${termeGauche}${termeDroite}\\\\]`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `${termeGauche}${termeDroite}`,\n                compare: functionCompare,\n              },\n            })\n            // 3e étape : Simplification si nécessaire\n            const interm2Simp = `(${poly.add(derivee)})`\n            const termeGauche2 = expGauche ? 'e^x' : interm2Simp\n            const termeDroite2 = expGauche ? interm2Simp : 'e^x'\n            if (\n              `${termeGauche2}${termeDroite2}` ===\n              `${termeGauche}${termeDroite}`\n            ) {\n              texteCorr += `\\\\[${namef}'(x)=${miseEnEvidence(`${termeGauche}${termeDroite}`)}.\\\\]`\n            } else {\n              texteCorr += `\\\\[${namef}'(x)=${termeGauche}${termeDroite}\\\\]`\n              texteCorr +=\n                \"On peut réduire ou réordonner l'expression entre parenthèses : \"\n              texteCorr += `\\\\[${namef}'(x)=${miseEnEvidence(`${termeGauche2}${termeDroite2}`)}.\\\\]`\n              handleAnswers(this, i, {\n                reponse: {\n                  value: `${termeGauche2}${termeDroite2}`,\n                  compare: functionCompare,\n                },\n              })\n            }\n          }\n          break\n        default:\n          texteCorr += 'Correction non encore implémentée.'\n          break\n      }\n      texte = texte.replaceAll('\\\\frac', '\\\\dfrac')\n      texteCorr = texteCorr.replaceAll('\\\\frac', '\\\\dfrac')\n      if (this.interactif) {\n        texte +=\n          '<br><br>' +\n          ajouteChampTexteMathLive(this, i, KeyboardType.lyceeClassique, {\n            texteAvant: `$${namef}'(x)=$`,\n          })\n      }\n\n      if (listeValeurs.indexOf(expression) === -1) {\n        listeValeurs.push(expression)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","uuid","refs","DeriveeProduit","Exercice","listeValeurs","listeTypeDeQuestions","gestionnaireFormulaireTexte","texte","texteCorr","terme1","terme2","expression","askFacto","askFormule","askQuotient","namef","cpt","dictFonctions","Polynome","randint","listeTypeFonctions","f1","f2","typef1","typef2","noPar","type","parenth","expr","exprf1","exprf2","affichageFonction","mon2","poly1","coeff","engine","b","a","miseEnEvidence","fExpand","ecritureAlgebrique","maReponse","handleAnswers","functionCompare","polExpand","m","rienSi1","signe","racineGauche","poly","derivee","tex","neg","intermediaire","interm2","expGauche","termeGauche","termeDroite","interm2Simp","termeGauche2","termeDroite2","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}