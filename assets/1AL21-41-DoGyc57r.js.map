{"version":3,"file":"1AL21-41-DoGyc57r.js","sources":["../../src/exercices/1e/1AL21-41.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriqueSauf1,\n  rienSi1,\n} from '../../lib/outils/ecritures'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Trinome from '../../modules/Trinome'\nimport Exercice from '../Exercice'\n\nimport type { MathfieldElement } from 'mathlive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\n\nexport const titre =\n  'Factoriser un polynôme du second degré avec racines entières'\nexport const interactifReady = true\nexport const interactifType = 'mathlive'\nexport const dateDeModifImportante = '9/10/2024'\n\n/**\n *\n * @author Rémi Angot et Stéphane Guyon\n */\nexport const uuid = 'a8e1b'\n\nexport const refs = {\n  'fr-fr': ['1AL21-41'],\n  'fr-ch': ['11FA10-13'],\n}\nexport default class ResoudreEquationDegre2 extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 4\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.spacingCorr = 3\n    this.comment =\n      'Une fois sur 2, il y a deux racines entières, une fois sur 4 une racine double et une fois sur 4, pas de racine.'\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      'Factoriser, si cela est possible, ' +\n      (this.nbQuestions !== 1 ? 'chaque' : 'le') +\n      ' polynôme $P$ suivant défini pour tout $x$ de $\\\\mathbb R$ par : '\n    const listeTypeDeQuestions = combinaisonListes(\n      [\n        'solutionsEntieres',\n        'solutionsEntieres',\n        'identiteRemarquable',\n        'pasDeSolution',\n      ],\n      this.nbQuestions,\n    )\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let a: number\n      let b: number\n      let c: number\n      let x1: number\n      let x2: number\n      let y1: number\n      let k: number\n      if (listeTypeDeQuestions[i] === 'solutionsEntieres') {\n        // k(x-x1)(x-x2)\n        x1 = randint(-5, 2, [0])\n        x2 = randint(x1 + 1, 5, [0, -x1])\n        k = randint(-4, 4, [0])\n        a = k\n        b = -k * x1 - k * x2\n        c = k * x1 * x2\n\n        const trinome = new Trinome(a, b, c)\n\n        texte = `$P(x)=${rienSi1(a)}x^2${ecritureAlgebriqueSauf1(b)}x${ecritureAlgebrique(c)}$`\n\n        texteCorr = `On a $P$ le polynôme défini pour tout $x$ de $\\\\mathbb R$ par $P(x)=${rienSi1(a)}x^2${ecritureAlgebriqueSauf1(b)}x${ecritureAlgebrique(c)}$.`\n        texteCorr +=\n          '<br>On reconnaît un polynôme du second degré. On cherche ses éventuelles racines en calculant son discriminant.'\n        texteCorr += `<br>$\\\\Delta = ${trinome.texCalculDiscriminant}$`\n        texteCorr += '<br>$\\\\Delta>0$ donc $P(x)$ admet deux racines :'\n        texteCorr += `<br>$${trinome.texCalculRacine1()}$`\n        texteCorr += `<br>$${trinome.texCalculRacine2()}$.`\n        texteCorr +=\n          '<br>On peut donc factoriser le polynôme sous la forme : $P(x)=a(x-x_1)(x-x_2)$.'\n        texteCorr += `<br>$P(x)=${miseEnEvidence(trinome.texFormeFactorisee)}$`\n        handleAnswers(this, i, {\n          reponse: {\n            value: trinome.texFormeFactorisee,\n            options: { factorisation: true },\n          },\n        })\n      } else if (listeTypeDeQuestions[i] === 'identiteRemarquable') {\n        // k(x-x1)(x-x1)\n        x1 = randint(-5, 2, [0])\n        x2 = x1\n        k = randint(-4, 4, [0])\n        a = k\n        b = -k * x1 - k * x2\n        c = k * x1 * x2\n\n        const trinome = new Trinome(a, b, c)\n\n        texte = `$P(x)=${rienSi1(a)}x^2${ecritureAlgebriqueSauf1(b)}x${ecritureAlgebrique(c)}$`\n\n        texteCorr = `On a $P$ le polynôme défini pour tout $x$ de $\\\\mathbb R$ par $P(x)=${rienSi1(a)}x^2${ecritureAlgebriqueSauf1(b)}x${ecritureAlgebrique(c)}$.`\n        texteCorr +=\n          '<br>On reconnaît un polynôme du second degré. On cherche ses éventuelles racines en calculant son discriminant.'\n        texteCorr += `<br>$\\\\Delta = ${trinome.texCalculDiscriminant}$`\n        texteCorr += '<br>$\\\\Delta=0$ donc $P(x)$ admet une unique racine :'\n        texteCorr += `<br> $x_0 = ${trinome.texCalculRacine1()}$.`\n        texteCorr +=\n          '<br>On peut donc factoriser le polynôme sous la forme : $P(x)=a(x-x_0)^2$.'\n        texteCorr += `<br>$P(x)=${miseEnEvidence(trinome.texFormeFactorisee)}$`\n        handleAnswers(this, i, {\n          reponse: {\n            value: trinome.texFormeFactorisee,\n            options: { factorisation: true },\n          },\n        })\n      } else {\n        // listeTypeDeQuestions[i] === 'pasDeSolution'\n        k = randint(1, 5)\n        x1 = randint(-3, 3, [0])\n        y1 = randint(1, 5)\n        if (choice(['+', '-']) === '+') {\n          // k(x-x1)^2 + y1 avec k>0 et y1>0\n          a = k\n          b = -2 * k * x1\n          c = k * x1 * x1 + y1\n        } else {\n          // -k(x-x1)^2 -y1 avec k>0 et y1>0\n          a = -k\n          b = 2 * k * x1\n          c = -k * x1 * x1 - y1\n        }\n        texte = `$P(x)=${rienSi1(a)}x^2${ecritureAlgebriqueSauf1(b)}x${ecritureAlgebrique(c)}$`\n\n        texteCorr = `On a $P$ le polynôme défini pour tout $x$ de $\\\\mathbb R$ par $P(x)=${rienSi1(a)}x^2${ecritureAlgebriqueSauf1(b)}x${ecritureAlgebrique(c)}$`\n        texteCorr +=\n          '<br>On reconnaît un polynôme du second degré. On cherche ses éventuelles racines en calculant son discriminant.'\n        texteCorr +=\n          \"<br>$\\\\Delta<0$ donc le polynôme n'admet pas de racines réelles.\"\n        texteCorr += `<br>D'après le cours, il n'est ${texteEnCouleurEtGras('pas factorisable')}.`\n        handleAnswers(this, i, {\n          reponse: { value: '\\\\text{Pas factorisable}' },\n        })\n      }\n      texte +=\n        '<br>' +\n        ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBaseAvecX, {\n          texteAvant: '$P(x)=$',\n        })\n\n      if (this.questionJamaisPosee(i, a, b, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n    document.addEventListener('exercicesAffiches', () => {\n      for (let i = 0; i < this.nbQuestions; i++) {\n        const question = document.getElementById(\n          `exercice${this.numeroExercice}Q${i}`,\n        )\n        if (question?.querySelector('button')) continue\n        const feedback = document.getElementById(\n          `resultatCheckEx${this.numeroExercice}Q${i}`,\n        )\n        if (feedback && question) {\n          const button = document.createElement('button')\n          button.classList.add(\n            'flex-inline',\n            'px-6',\n            'py-2.5',\n            'ml-6',\n            'bg-coopmaths-action',\n            'dark:bg-coopmathsdark-action',\n            'text-coopmaths-canvas',\n            'dark:text-coopmathsdark-canvas',\n            'font-medium',\n            'text-xs',\n            'leading-tight',\n            'uppercase',\n            'rounded',\n            'shadow-md',\n            'transform',\n            'hover:bg-coopmaths-action-lightest',\n            'dark:hover:bg-coopmathsdark-action-lightest',\n            'hover:shadow-lg',\n            'focus:bg-coopmaths-action-lightest',\n            'dark:focus:bg-coopmathsdark-action-lightest',\n            'focus:shadow-lg',\n            'focus:outline-none',\n            'focus:ring-0',\n            'active:bg-coopmaths-action-lightest',\n            'dark:active:bg-coopmathsdark-action-lightest',\n            'active:shadow-lg',\n            'transition',\n            'duration-150',\n            'ease-in-out',\n          )\n          button.textContent = 'Pas factorisable'\n          // ✅ insertion robuste\n          feedback.after(button)\n\n          button.addEventListener('click', () => {\n            const mathfield = document.getElementById(\n              `champTexteEx${this.numeroExercice}Q${i}`,\n            ) as MathfieldElement\n            if (mathfield) {\n              mathfield.setValue('\\\\text{Pas factorisable}')\n            }\n          })\n        }\n      }\n    })\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDeModifImportante","uuid","refs","ResoudreEquationDegre2","Exercice","listeTypeDeQuestions","combinaisonListes","i","cpt","texte","texteCorr","a","b","c","x1","x2","y1","k","randint","trinome","Trinome","rienSi1","ecritureAlgebriqueSauf1","ecritureAlgebrique","miseEnEvidence","handleAnswers","choice","texteEnCouleurEtGras","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu","question","feedback","button","mathfield"],"mappings":"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"}