{"version":3,"file":"6G4B-Ca4gw80w.js","sources":["../../src/exercices/6e/6G4B.ts"],"sourcesContent":["import { afficheMesureAngle } from '../../lib/2d/AfficheMesureAngle'\nimport { demiDroite } from '../../lib/2d/DemiDroite'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport { homothetie, rotation, similitude } from '../../lib/2d/transformations'\nimport { pointSurSegment } from '../../lib/2d/utilitairesPoint'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifReady = true\nexport const interactifType = 'qcm'\n\nexport const titre = \"Estimer un angle sans rapporteur sur l'énoncé\"\n\n/**\n * Estimer un angle\n * @author Jean-Claude Lhote\n */\nexport const uuid = 'c7f7a'\n\nexport const refs = {\n  'fr-fr': ['6G4B'],\n  'fr-2016': ['6G23-1'],\n  'fr-ch': ['9ES5-4'],\n}\nexport default class MesurerUnAngle extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      \"Précision de l'angle\",\n      4,\n      '1 : Angle à 10°\\n2 : Angle à 5°\\n3 : Angle à 1°\\n 4 : Mélange',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Utilisation du rapporteur', false]\n    this.nbQuestions = 2\n\n    this.sup = 1\n    this.sup2 = false\n    this.video = 'TEzu9uky56M'\n  }\n\n  nouvelleVersion() {\n    let delta, arrondiA10Pres\n    let angle: number\n    let anglerot\n    let Apos\n    let Bpos\n    let Cpos\n    let p\n    let texte\n    let texteCorr\n    let A\n    let B\n    let C\n    let s2\n    let s1\n    let bis\n    const signes = []\n    let xMin, xMax, yMin, yMax, objetsEnonce, secteur0\n    let typeDeQuestions\n    if (this.sup < 4) typeDeQuestions = [this.sup]\n    else typeDeQuestions = [1, 2, 3]\n    const listeTypeDeQuestion = combinaisonListes(\n      typeDeQuestions,\n      this.nbQuestions,\n    )\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      // on évite d'avoir deux propositions différentes de 2° (comme 69° et 71°)\n      do {\n        signes.push(choice([-1, 1]))\n        switch (listeTypeDeQuestion[i]) {\n          case 1:\n            angle = randint(1, 17, 9) * 10\n            break\n          case 2:\n            angle = randint(1, 8) * 10 + randint(0, 1) * 90 + 5\n            break\n          case 3:\n          default:\n            angle = randint(1, 16) * 10 + randint(1, 9)\n            break\n        }\n        arrondiA10Pres = Math.round(angle / 10) * 10\n        delta = Math.round(Math.abs(angle / 10 - Math.round(angle / 10)) * 10)\n      } while (delta === 1)\n\n      anglerot = randint(-4, 4, 0) * 5\n      angle = signes[i] * angle\n      p = [\n        choice(['x', 'y', 'z', 't']),\n        lettreDepuisChiffre(randint(1, 16)),\n        choice(['s', 'u', 'v', 'w']),\n      ]\n      if (!this.sup2) {\n        texte = `Estimer la mesure de l'angle $\\\\widehat{${p[0] + p[1] + p[2]}}$ sans instrument.<br>`\n      } else {\n        texte = `Mesurer l'angle $\\\\widehat{${p[0] + p[1] + p[2]}}$.<br>`\n      }\n      A = point(0, 0)\n      B = point(6, 0)\n      B = rotation(B, A, anglerot)\n\n      Bpos = texteParPoint(\n        p[0],\n        similitude(A, homothetie(B, A, 0.95), signes[i] * 90, 0.1),\n        0,\n        'black',\n        1.5,\n        'milieu',\n        true,\n      )\n      s1 = demiDroite(A, B)\n      C = rotation(B, A, angle)\n      bis = rotation(B, A, angle / 2)\n      Apos = texteParPoint(\n        p[1],\n        pointSurSegment(A, bis, -0.5),\n        0,\n        'black',\n        1.5,\n        'milieu',\n        true,\n      )\n      Cpos = texteParPoint(\n        p[2],\n        similitude(A, homothetie(C, A, 0.95), -signes[i] * 90, 0.1),\n        0,\n        'black',\n        1.5,\n        'milieu',\n        true,\n      )\n      s2 = demiDroite(A, C)\n      // labels = labelPoint(A, B, C)\n      secteur0 = afficheMesureAngle(B, A, C, 'black', 1.5, ' ')\n      texteCorr = ''\n      xMin = Math.min(A.x, C.x, B.x) - 1\n      xMax = Math.max(A.x, C.x, B.x) + 1\n      yMin = Math.min(A.y, C.y, B.y) - 1\n      yMax = Math.max(A.y, C.y, B.y) + 1\n      context.fenetreMathalea2d = [xMin, yMin, xMax, yMax]\n      objetsEnonce = [s1, s2, Apos, Bpos, Cpos, secteur0]\n      texte += mathalea2d(\n        {\n          xmin: xMin,\n          ymin: yMin,\n          xmax: xMax,\n          ymax: yMax,\n          pixelsParCm: 20,\n          scale: 0.7,\n        },\n        objetsEnonce,\n      )\n      texteCorr += `$${Math.abs(angle)}^\\\\circ$`\n      this.autoCorrection[i] = {}\n      this.autoCorrection[i].enonce = `${texte}\\n`\n      if (!this.sup2) {\n        this.autoCorrection[i].propositions = [\n          {\n            texte: `$${Math.abs(angle)}^\\\\circ$`,\n            statut: true,\n          },\n          {\n            texte: `$${(Math.abs(angle) + 45) % 180}^\\\\circ$`,\n            statut: false,\n          },\n          {\n            texte: `$${(Math.abs(angle) + 90) % 180}^\\\\circ$`,\n            statut: false,\n          },\n          {\n            texte: `$${(Math.abs(angle) + 135) % 180}^\\\\circ$`,\n            statut: false,\n          },\n          {\n            texte: '$180^\\\\circ$',\n            statut: false,\n          },\n          {\n            texte: '$90^\\\\circ$',\n            statut: false,\n          },\n        ]\n      } else {\n        this.autoCorrection[i].propositions = [\n          {\n            texte: `$${Math.abs(angle)}^\\\\circ$`,\n            statut: true,\n          },\n          {\n            texte: `$${180 - Math.abs(angle)}^\\\\circ$`,\n            statut: false,\n          },\n          {\n            texte: `$${Math.round(Math.abs(angle) / 2)}^\\\\circ$`,\n            statut: false,\n          },\n          {\n            texte: `$${this.interactif ? Math.abs(angle) + 20 : arrondiA10Pres > angle ? arrondiA10Pres + delta : arrondiA10Pres - delta}^\\\\circ$`,\n            statut: false,\n          },\n          {\n            texte: '$180^\\\\circ$',\n            statut: false,\n          },\n          {\n            texte: '$90^\\\\circ$',\n            statut: false,\n          },\n        ]\n      }\n      this.autoCorrection[i].options = {\n        ordered: false,\n        lastChoice: 6,\n      }\n      const props = propositionsQcm(this, i)\n      if (!context.isAmc) {\n        texte += props.texte\n      }\n      if (this.questionJamaisPosee(i, angle)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["amcReady","amcType","interactifReady","interactifType","titre","uuid","refs","MesurerUnAngle","Exercice","delta","arrondiA10Pres","angle","anglerot","Apos","Bpos","Cpos","p","texte","texteCorr","A","B","C","s2","s1","bis","signes","xMin","xMax","yMin","yMax","objetsEnonce","secteur0","typeDeQuestions","listeTypeDeQuestion","combinaisonListes","i","cpt","choice","randint","lettreDepuisChiffre","point","rotation","texteParPoint","similitude","homothetie","demiDroite","pointSurSegment","afficheMesureAngle","context","mathalea2d","props","propositionsQcm","listeQuestionsToContenu"],"mappings":"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"}