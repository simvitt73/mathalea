{"version":3,"file":"6N0A-4-DTlIgtLd.js","sources":["../../src/exercices/6e/6N0A-4.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { creerCouples, shuffle } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { texNombre, texNombre2 } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifReady = true\nexport const interactifType = ['qcm', 'mathLive']\n\nexport const titre =\n  'Utiliser tables de multiplication pour effectuer produits avec multiple de 10'\n\n/**\n * Les 2 facteurs peuvent terminer par aucun, 1, 2 ou 3 zéros\n * @author Rémi Angot\n\n */\nexport const uuid = '23bc8'\n\nexport const refs = {\n  'fr-fr': ['6N0A-4'],\n  'fr-2016': ['6C10-2'],\n  'fr-ch': ['9NO3-15'],\n}\nexport default class ExerciceTablesMultiplicationsEtMultiplesDe10 extends Exercice {\n  constructor(tablesParDefaut = '2-3-4-5-6-7-8-9') {\n    super()\n    // Multiplier deux nombres\n    this.sup = tablesParDefaut\n    this.sup2 = 1\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n\n    this.besoinFormulaireTexte = [\n      'Choix des tables (entre 2 et 9)',\n      'Nombres séparés par des tirets :',\n    ] // Texte, tooltip\n    if (context.isHtml) {\n      this.besoinFormulaire2Numerique = [\n        'Exercice interactif',\n        2,\n        '1 : QCM\\n2 : Numérique',\n      ]\n    }\n    this.sup3 = 5\n    this.besoinFormulaire3Texte = [\n      'types de questions',\n      \"Nombres séparés par des tirets :\\n1 : un facteur à 1 chiffre l'autre à 2 chiffres\\n2 : Un facteur à 1 chiffre l'autre à 3 chiffres\\n3 : Deux facteurs à 2chiffres\\n4 : Un facteur à 2 chiffres l'autre à 3 chiffres\\n5 : Mélange\",\n    ]\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestions = gestionnaireFormulaireTexte({\n      min: 1,\n      max: 4,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup3,\n      melange: 5,\n    }).map(Number)\n    if (context.isHtml)\n      this.besoinFormulaire2Numerique = [\n        'Exercice interactif',\n        2,\n        '1 : QCM\\n2 : Numérique',\n      ]\n    // Texte, tooltip\n    else this.besoinFormulaire2Numerique = false\n\n    this.interactifType = this.sup2 === 2 ? 'mathLive' : 'qcm'\n\n    const tables = gestionnaireFormulaireTexte({\n      min: 2,\n      max: 9,\n      defaut: randint(2, 9),\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      melange: 11,\n    })\n\n    const couples = creerCouples(\n      tables.map(Number),\n      [2, 3, 4, 5, 6, 7, 8, 9],\n      this.nbQuestions,\n    ) // Liste tous les couples possibles (2,3)≠(3,2)\n    for (\n      let i = 0, cpt = 0, a, b, texte, texteCorr, melange;\n      i < this.nbQuestions && cpt < 100;\n\n    ) {\n      this.autoCorrection[i] = {}\n      const [k1, k2] = shuffle(\n        typesDeQuestions[i] === 1\n          ? [1, 10] // un facteur à 1 chiffre l'autre à 2 chiffres\n          : typesDeQuestions[i] === 2\n            ? [1, 100] // Un facteur à 1 chiffre l'autre à 3 chiffres\n            : typesDeQuestions[i] === 3\n              ? [10, 10] // Deux facteurs à 2chiffres\n              : [10, 100], // Un facteur à 2 chiffres l'autre à 3 chiffres\n      )\n      a = couples[i][0]\n      b = couples[i][1]\n      a = k1 * a\n      b = k2 * b\n      melange = randint(0, 1)\n      if (melange === 1) {\n        // échange a et b pour que les multiplications ne soient pas toujours dans le même ordre (surtout lorsque tables n'a qu'un seul élément)\n        const c = a\n        a = b\n        b = c\n      }\n      texte = '$ ' + texNombre(a) + ' \\\\times ' + texNombre(b) + ' =  $'\n      texteCorr =\n        '$ ' +\n        texNombre(a) +\n        ' \\\\times ' +\n        texNombre(b) +\n        ' = ' +\n        texNombre(a * b) +\n        ' $'\n\n      this.autoCorrection[i].enonce = `${texte}\\n`\n      this.autoCorrection[i].propositions = [\n        {\n          texte: `$${texNombre2(a * b)}$`,\n          statut: true,\n          feedback: 'Correct !',\n        },\n        {\n          texte: `$${texNombre2(arrondi((a * b) / 10))}$`,\n          statut: false,\n          feedback: 'Compte le nombre de zéros dans chaque facteur',\n        },\n        {\n          texte: `$${texNombre2(arrondi(a * b * 10))}$`,\n          statut: false,\n          feedback: 'Compte le nombre de zéros dans chaque facteur',\n        },\n        {\n          texte: `$${texNombre2(arrondi((a * b) / 100))}$`,\n          statut: false,\n          feedback: 'Compte le nombre de zéros dans chaque facteur',\n        },\n        {\n          texte: `$${texNombre2(arrondi(a * b * 100))}$`,\n          statut: false,\n          feedback: 'Compte le nombre de zéros dans chaque facteur',\n        },\n      ]\n      this.autoCorrection[i].options = {\n        ordered: false,\n        lastChoice: 5,\n      }\n      const props = propositionsQcm(this, i)\n\n      if (this.interactif && this.interactifType === 'qcm') {\n        texte += props.texte\n      } else {\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)\n        setReponse(this, i, a * b)\n      }\n      if (this.questionJamaisPosee(i, a, b)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      } else {\n        cpt++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["amcReady","amcType","interactifReady","interactifType","titre","uuid","refs","ExerciceTablesMultiplicationsEtMultiplesDe10","Exercice","tablesParDefaut","context","typesDeQuestions","gestionnaireFormulaireTexte","tables","randint","couples","creerCouples","i","cpt","a","b","texte","texteCorr","melange","k1","k2","shuffle","c","texNombre","texNombre2","arrondi","props","propositionsQcm","ajouteChampTexteMathLive","KeyboardType","setReponse","listeQuestionsToContenu"],"mappings":"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"}