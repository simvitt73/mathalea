{"version":3,"file":"can1P02-BN6y4z1r.js","sources":["../../src/exercices/can/1e/can1P02.ts"],"sourcesContent":["import Decimal from 'decimal.js'\nimport { choisitLettresDifferentes } from '../../../lib/outils/aleatoires'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { sp } from '../../../lib/outils/outilString'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport { Arbre } from '../../../modules/arbres'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../../modules/outils'\nimport Exercice from '../../Exercice'\n\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\n\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../../lib/interactif/gestionInteractif'\n\nexport const titre = 'Lire une probabilité  à partir d’un arbre'\nexport const dateDePublication = '03/07/2022'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * On donne un arbre de probabilité et lit une probabilité sur l'arbre\n * @author Gilles Mora\n\n */\nexport const uuid = '32394'\n\nexport const refs = {\n  'fr-fr': ['can1P02'],\n  'fr-ch': ['3mP-3'],\n}\nexport default class LectureProbabilite extends Exercice {\n  constructor() {\n    super()\n\n    this.sup = true\n    this.keyboard = [\n      'numbers',\n      'fullOperations',\n      'variables',\n      'trigo',\n      'advanced',\n    ]\n\n    this.nbQuestions = 1\n    this.nbCols = 2 // Uniquement pour la sortie LaTeX\n\n    // this.sup = 1; // Niveau de difficulté\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0,\n        cpt = 0,\n        pA,\n        pB,\n        pAC,\n        pBC,\n        omega,\n        texte,\n        texteCorr,\n        choix,\n        nom1,\n        nom2,\n        objets;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      objets = []\n      // On choisit les probas de l'arbre\n      nom1 = choisitLettresDifferentes(1, ['D', 'P'])[0]\n      nom2 = choisitLettresDifferentes(1, nom1 + ['D', 'P'])[0]\n      pA = new Decimal(randint(1, 9, 5)).div(10)\n\n      pB = new Decimal(1 - pA)\n      pAC = new Decimal(randint(1, 9) * 10 + randint(1, 9)).div(100)\n      pBC = new Decimal(randint(1, 9) * 10 + randint(1, 9)).div(100)\n      while (pAC === pBC || pAC === 1 - pBC) {\n        pA = new Decimal(randint(1, 9, 5)).div(10)\n\n        pB = new Decimal(1 - pA)\n        pAC = new Decimal(randint(1, 9) * 10 + randint(1, 9)).div(100)\n        pBC = new Decimal(randint(1, 9) * 10 + randint(1, 9)).div(100)\n      }\n      choix = choice([pA, pB, pAC, 1 - pAC, pBC, 1 - pBC])\n\n      // On définit l'arbre complet\n      omega = new Arbre({\n        racine: true,\n        rationnel: false,\n        nom: '',\n        proba: 1,\n        visible: false,\n        alter: '',\n        enfants: [\n          new Arbre({\n            rationnel: false,\n            nom: `${nom1}`,\n            proba: pA,\n            enfants: [\n              new Arbre({\n                rationnel: false,\n                nom: `${nom2}`,\n                proba: new Decimal(pAC),\n              }),\n              new Arbre({\n                rationnel: false,\n                nom: `\\\\overline{${nom2}}`,\n                proba: new Decimal(1 - pAC),\n              }),\n            ],\n          }),\n          new Arbre({\n            rationnel: false,\n            nom: `\\\\overline{${nom1}}`,\n            proba: new Decimal(1 - pA),\n            enfants: [\n              new Arbre({\n                rationnel: false,\n                nom: `${nom2}`,\n                proba: new Decimal(pBC),\n              }),\n              new Arbre({\n                rationnel: false,\n                nom: `\\\\overline{${nom2}}`,\n                proba: new Decimal(1 - pBC),\n              }),\n            ],\n          }),\n        ],\n      })\n\n      omega.setTailles() // On calcule les tailles des arbres.\n      objets = omega.represente(0, 7, 0, 1.5, true, 1) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n      texte = \"On donne l'arbre de probabilités :<br><br>\"\n      texte += mathalea2d(\n        { xmin: -0.1, xmax: 14, ymin: 0, ymax: 7, style: 'inline', scale: 0.5 },\n        ...objets,\n      )\n      texte += '<br>Compléter avec la notation qui convient : '\n      if (this.interactif) {\n        texte += ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierProbabilite,\n        )\n      } else {\n        texte += `${sp(7)}$\\\\ldots\\\\ldots $`\n      }\n      texte += ` $= ${texNombre(choix, 2)}$`\n      texteCorr = `Les probabilités conditionnelles se lisent sur la deuxième partie de l'arbre.<br>\n            `\n\n      if (choix === pA) {\n        texteCorr += `$${texNombre(pA, 2)}$ n'est pas une probabilité conditionnelle, \n        $${miseEnEvidence(`P(${nom1})=${texNombre(pA, 2)}`)}$.`\n        setReponse(this, i, [`p(${nom1})`, `P(${nom1})`])\n      }\n      if (choix === pB) {\n        texteCorr += `$${texNombre(pA, 2)}$ n'est pas une probabilité conditionnelle, \n        $${miseEnEvidence(`P(\\\\overline{${nom1}})=${texNombre(pB, 2)}`)}$.`\n        setReponse(this, i, [\n          `p(\\\\overline{${nom1}})`,\n          `P(\\\\overline{${nom1}})`,\n        ])\n      }\n      if (choix === pAC) {\n        texteCorr += `$${texNombre(pAC, 2)}$ est une probabilité conditionnelle, \n        $${miseEnEvidence(`P_{${nom1}}(${nom2})=${texNombre(pAC, 2)}`)}$.`\n        setReponse(this, i, [`p_${nom1}({${nom2}})`, `P_${nom1}({${nom2}})`]) // Testé et Correct\n      }\n      if (choix === 1 - pAC) {\n        texteCorr += `$${texNombre(1 - pAC, 2)}$ est une probabilité conditionnelle, \n        $${miseEnEvidence(`P_{${nom1}}(\\\\overline{${nom2}})=${texNombre(1 - pAC, 2)}`)}$.`\n        setReponse(this, i, [\n          `p_${nom1}({\\\\overline{${nom2}}})`,\n          `P_${nom1}({\\\\overline{${nom2}}})`,\n          `p_${nom1}(\\\\overline{{${nom2}}})`,\n          `P_${nom1}(\\\\overline{{${nom2}}})`,\n        ]) // Testé et Correct\n      }\n      if (choix === pBC) {\n        texteCorr += `$${texNombre(pBC, 2)}$ est une probabilité conditionnelle, \n        $${miseEnEvidence(`P_{\\\\overline{${nom1}}}(${nom2})=${texNombre(pBC, 2)}`)}$.`\n        setReponse(this, i, [\n          `p_{\\\\overline{${nom1}}}({${nom2}})`,\n          `P_{\\\\overline{${nom1}}}({${nom2}})`,\n          `p\\\\overline{_${nom1}}({${nom2}})`,\n          `P\\\\overline{_${nom1}}({${nom2}})`,\n        ]) // Testé et Correct\n      }\n      if (choix === 1 - pBC) {\n        texteCorr += `$${texNombre(1 - pBC, 2)}$ est une probabilité conditionnelle, \n        $${miseEnEvidence(`P_{\\\\overline{${nom1}}}(\\\\overline{${nom2}})=${texNombre(1 - pBC, 2)}`)}$.`\n        setReponse(this, i, [\n          `p_{\\\\overline{${nom1}}}({\\\\overline{${nom2}}})`,\n          `P_{\\\\overline{${nom1}}}({\\\\overline{${nom2}}})`,\n          `p\\\\overline{_${nom1}}(\\\\overline{{${nom2}}})`,\n          `P\\\\overline{_${nom1}}(\\\\overline{{${nom2}}})`,\n          `p_{\\\\overline{${nom1}}}(\\\\overline{{${nom2}}})`,\n          `P_{\\\\overline{${nom1}}}(\\\\overline{{${nom2}}})`,\n          `p\\\\overline{_${nom1}}({\\\\overline{${nom2}}})`,\n          `P\\\\overline{_${nom1}}({\\\\overline{${nom2}}})`,\n        ])\n      }\n      this.canEnonce = `On donne l'arbre de probabilités :<br>\n      \n      `\n      this.canEnonce += mathalea2d(\n        {\n          xmin: -0.1,\n          xmax: 14,\n          ymin: 0,\n          ymax: 7,\n          style: 'inline',\n          scale: 0.5,\n        },\n        ...objets,\n      )\n      this.canReponseACompleter = `Compléter avec la notation qui convient.<br>\n\n      $\\\\ldots= ${texNombre(choix, 2)}$`\n      if (this.questionJamaisPosee(i, pA, pAC, pBC)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        this.listeCanEnonces.push(this.canEnonce)\n        this.listeCanReponsesACompleter.push(this.canReponseACompleter)\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","LectureProbabilite","Exercice","i","cpt","pA","pB","pAC","pBC","omega","texte","texteCorr","choix","nom1","nom2","objets","choisitLettresDifferentes","Decimal","randint","choice","Arbre","mathalea2d","ajouteChampTexteMathLive","KeyboardType","sp","texNombre","miseEnEvidence","setReponse","listeQuestionsToContenu"],"mappings":"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"}