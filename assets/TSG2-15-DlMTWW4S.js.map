{"version":3,"file":"TSG2-15-DlMTWW4S.js","sources":["../../src/exercices/TSpe/TSG2-15.ts"],"sourcesContent":["import { createList } from '../../lib/format/lists'\nimport { lampeMessage } from '../../lib/format/message'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriqueSauf0,\n  ecritureAlgebriqueSauf1,\n  ecritureParentheseSiNegatif,\n  rienSi0,\n  rienSi1,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { abs } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Calculer le volume d'un tétraèdre.\"\n\nexport const dateDePublication = '28/01/2026'\n\nexport const uuid = '7c2r9'\n\nexport const refs = {\n  'fr-fr': ['TSG2-15'],\n  'fr-ch': [],\n}\n/**\n *\n * @author Stéphane Guyon\n */\nexport default class NomExercice extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n  }\n\n  nouvelleVersion() {\n    const pgcd = (x: number, y: number): number =>\n      y === 0 ? Math.abs(x) : pgcd(y, x % y)\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n\n      // Point A\n      const xA = randint(-4, 4)\n      const yA = randint(-4, 4)\n      const zA = randint(-4, 4)\n\n      // Vecteur AB non nul\n      let ABx = randint(-4, 4, 0)\n      let ABy = randint(-4, 4, 0)\n      let ABz = randint(-4, 4, 0)\n      while (ABx === 0 && ABy === 0 && ABz === 0) {\n        ABx = randint(-4, 4, 0)\n        ABy = randint(-4, 4, 0)\n        ABz = randint(-4, 4, 0)\n      }\n\n      // Vecteur AC choisi orthogonal à AB, avec composantes entières simples\n      let ACx: number\n      let ACy: number\n      let ACz: number\n      if (ABx !== 0 || ABy !== 0) {\n        ACx = -ABy\n        ACy = ABx\n        ACz = 0\n      } else {\n        // AB est (0,0,ABz)\n        ACx = 1\n        ACy = 0\n        ACz = 0\n      }\n\n      // Points B et C\n      const xB = xA + ABx\n      const yB = yA + ABy\n      const zB = zA + ABz\n      const xC = xA + ACx\n      const yC = yA + ACy\n      const zC = zA + ACz\n\n      // Vecteur normal via produit vectoriel AB ^ AC\n      let nx = ABy * ACz - ABz * ACy\n      let ny = ABz * ACx - ABx * ACz\n      let nz = ABx * ACy - ABy * ACx\n\n      // Simplifier le vecteur normal\n      const g = pgcd(pgcd(Math.abs(nx), Math.abs(ny)), Math.abs(nz))\n      nx /= g\n      ny /= g\n      nz /= g\n\n      // Point D quelconque, distinct pour la droite (d)\n      const xD = randint(-4, 4, [xA, xB, xC])\n      const yD = randint(-4, 4, [yA, yB, yC])\n      const zD = randint(-4, 4, [zA, zB, zC])\n\n      const dPlan = -(nx * xA + ny * yA + nz * zA)\n\n      const question1 = 'Montrer que le triangle $ABC$ est rectangle en $A$.'\n      const question2 = `Soit $\\\\vec n \\\\begin{pmatrix}${nx}\\\\\\\\${ny}\\\\\\\\${nz}\\\\end{pmatrix}$. Vérifier que ce vecteur est orthogonal au plan $(ABC)$.`\n      const question3 = 'En déduire une équation cartésienne du plan $(ABC)$.'\n      const question4 = `Donner une représentation paramétrique de la droite $(d)$ passant par $D$ et de vecteur directeur $\\\\vec n$.`\n      const question5 =\n        'Calculer les coordonnées du point $H$, projection orthogonale de $D$ sur $(ABC)$.'\n      const question6 = 'Calculer la longueur $DH$.'\n      const question7 =\n        'Calculer le volume du tétraèdre $ABCD$. On donnera la valeur exacte et le cas échéant, une valeur approchée au centième.'\n\n      texte =\n        'Dans un repère orthonormé de l’espace, on considère les points :<br>' +\n        `$A(${xA} ; ${yA} ; ${zA})$, $B(${xB} ; ${yB} ; ${zB})$, $C(${xC} ; ${yC} ; ${zC})$ et $D(${xD} ; ${yD} ; ${zD})$.<br>` +\n        createList({\n          items: [\n            question1,\n            question2,\n            question3,\n            question4,\n            question5,\n            question6,\n            question7,\n          ],\n          style: 'nombres',\n        })\n\n      // Corrections\n      let reponse1 = lampeMessage({\n        titre: 'Méthode :',\n        texte:\n          'Pour montrer qu’un triangle $ABC$ est rectangle en $A$, il suffit de vérifier que les vecteurs $\\\\overrightarrow{AB}$ et $\\\\overrightarrow{AC}$ sont orthogonaux en calculant leur produit scalaire.',\n      })\n\n      reponse1 +=\n        '<br>On calcule les coordonnées des vecteurs $\\\\overrightarrow{AB}$ et $\\\\overrightarrow{AC}$ : <br>' +\n        `$\\\\overrightarrow{AB}\\\\begin{pmatrix}${xB}${ecritureAlgebrique(-xA)}\\\\\\\\${yB}${ecritureAlgebrique(-yA)}\\\\\\\\${zB}${ecritureAlgebrique(-zA)}\\\\end{pmatrix}$ donc $\\\\overrightarrow{AB}\\\\begin{pmatrix}${ABx}\\\\\\\\${ABy}\\\\\\\\${ABz}\\\\end{pmatrix}$.<br>` +\n        `$\\\\overrightarrow{AC}\\\\begin{pmatrix}${xC}${ecritureAlgebrique(-xA)}\\\\\\\\${yC}${ecritureAlgebrique(-yA)}\\\\\\\\${zC}${ecritureAlgebrique(-zA)}\\\\end{pmatrix}$ donc $\\\\overrightarrow{AC}\\\\begin{pmatrix}${ACx}\\\\\\\\${ACy}\\\\\\\\${ACz}\\\\end{pmatrix}$.<br>` +\n        'Pour vérifier si ces vecteurs sont orthogonaux, on calcule leur produit scalaire :<br>' +\n        ` $\\\\begin{aligned}\\\\overrightarrow{AB}\\\\cdot\\\\overrightarrow{AC} &= ${ABx}\\\\times${ecritureParentheseSiNegatif(ACx)} + ${ABy}\\\\times${ecritureParentheseSiNegatif(ACy)} + ${ABz}\\\\times${ecritureParentheseSiNegatif(ACz)} \\\\\\\\\n        &= ${ABx * ACx + ABy * ACy + ABz * ACz}\\\\end{aligned}$.<br>` +\n        '$\\\\overrightarrow{AB}\\\\cdot\\\\overrightarrow{AC}$ et les deux vecteurs sont non nuls, ils sont donc orthogonaux. <br>' +\n        'donc $ABC$ est un triangle rectangle en $A$.'\n\n      let reponse2 = lampeMessage({\n        titre: 'Méthode :',\n        texte:\n          \"Pour montrer qu’un vecteur est orthogonal à un plan, il suffit de vérifier qu'il est orthogonal à deux vecteurs non-colinéaires de ce plan. <br> Il suffit ici de montrer par exemple que $\\\\vec n \\\\cdot \\\\overrightarrow{AB}=0$ et $\\\\vec n \\\\cdot \\\\overrightarrow{AC}=0$ .\",\n      })\n      reponse2 +=\n        `<br>On calcule <br>$\\\\begin{aligned}\\\\vec n \\\\cdot \\\\overrightarrow{AB} &= ${nx}\\\\times${ecritureParentheseSiNegatif(\n          ABx,\n        )} ${ecritureAlgebrique(nx)}\\\\times ${ecritureParentheseSiNegatif(ABy)} ${ecritureAlgebrique(nx)}\\\\times ${ecritureParentheseSiNegatif(ABz)} \\\\\\\\\n        &=${nx * ABx} ${ecritureAlgebrique(ny * ABy)} ${ecritureAlgebrique(nz * ABz)} \\\\\\\\\n      &= ${nx * ABx + ny * ABy + nz * ABz}\\\\end{aligned}$<br>` +\n        ` $\\\\begin{aligned}\\\\vec n \\\\cdot \\\\overrightarrow{AC} &= ${nx}\\\\times${ecritureParentheseSiNegatif(ACx)} ${ecritureAlgebrique(nx * ACy)} ${ecritureAlgebrique(nx * ACz)} \\\\\\\\\n        &= ${nx * ACx} ${ecritureAlgebrique(ny * ACy)} ${ecritureAlgebrique(nz * ACz)} \\\\\\\\\n        &= ${nx * ACx + ny * ACy + nz * ACz}\\\\end{aligned}$.<br>` +\n        'Le vecteur $\\\\vec n$ est bien orthogonal à deux vecteurs non-colinéaires du plan $(ABC)$ (à une base), il est donc orthogonal au plan $(ABC)$.'\n\n      const reponse3 =\n        lampeMessage({\n          titre: 'Méthode :',\n          texte:\n            \"Un vecteur  $\\\\vec{n}\\\\begin{pmatrix}a\\\\\\\\b\\\\\\\\c\\\\end{pmatrix}$ est un vecteur normal aux plans d'équation cartésienne $ax+by+cz+d=0$ où $d$ est un réel. <br>Pour déterminer $d$, on remplace les coordonnées d'un point du plan dans l'équation.\",\n        }) +\n        `On vient de montrer que le vecteur $\\\\vec n \\\\begin{pmatrix}${nx}\\\\\\\\${ny}\\\\\\\\${nz}\\\\end{pmatrix}$ est normal au plan $ABC$.<br>\n         Une équation cartésienne de ce plan est donc sous la forme :\n        $${rienSi1(nx)}x ${ecritureAlgebrique(ny)}y ${ecritureAlgebrique(nz)}z + d = 0$ où $d$ est un réel à trouver.<br>\n        Pour déterminer $d$, on utilise que le point $A(${xA} ; ${yA} ; ${zA})$ appartient au plan $(ABC)$, ses coordonnées vérifient donc l'équation cartésienne de ce plan :<br>\n        $\\\\begin{aligned}&${nx}\\\\times ${ecritureParentheseSiNegatif(xA)} ${ecritureAlgebrique(ny)}\\\\times${ecritureParentheseSiNegatif(yA)} ${ecritureAlgebrique(nz)}\\\\times${ecritureParentheseSiNegatif(\n          zA,\n        )} + d = 0\\\\\\\\\n       \\\\iff &${rienSi0(nx * xA)} ${ecritureAlgebriqueSauf0(ny * yA)} ${ecritureAlgebriqueSauf0(nz * zA)} + d = 0\\\\\\\\\n        \\\\iff&d = ${dPlan}\\\\end{aligned}$.<br>` +\n        `Ainsi, une équation du plan $(ABC)$ est : $${rienSi1(nx)}x ${ecritureAlgebriqueSauf1(ny)}y ${ecritureAlgebriqueSauf1(\n          nz,\n        )}z ${ecritureAlgebriqueSauf0(dPlan)} = 0$`\n\n      const reponse4 =\n        lampeMessage({\n          titre: 'Méthode :',\n          texte: `La représentation paramétrique d'une droite de vecteur directeur $\\\\vec{u} \\\\begin{pmatrix}a\\\\\\\\b\\\\\\\\c\\\\end{pmatrix}$ (avec $a,\\\\, b$ et $c$ trois réels) et passant par un point $A(x_A ; y_A ; z_A)$  est donnée par :\n        $\\\\begin{cases} x=x_A+at\\\\\\\\y=y_A+bt\\\\quad(t\\\\in\\\\mathbb{R})\\\\\\\\z=z_A+ct\\\\end{cases}$`,\n        }) +\n        `La droite passe par le point $D(${xD} ; ${yD} ; ${zD})$ et a pour vecteur directeur $\\\\vec n \\\\begin{pmatrix}${nx}\\\\\\\\${ny}\\\\\\\\${nz}\\\\end{pmatrix}$.<br>\n         Une représentation paramétrique de la droite $(d)$ est<br>` +\n        `$ (d) :\\\\begin{cases}\nx = ${xD} ${ecritureAlgebriqueSauf1(nx)}t \\\\\\\\\ny = ${yD} ${ecritureAlgebriqueSauf1(ny)}t \\\\quad (t\\\\in\\\\mathbb{R})\\\\\\\\\nz = ${zD} ${ecritureAlgebriqueSauf1(nz)}t\n\\\\end{cases}  $.`\n\n      // Projection orthogonale de D sur le plan (ABC)\n      const denom = nx * nx + ny * ny + nz * nz // dénominateur de t pour calculer coordonénes de H\n      const numer = nx * xD + ny * yD + nz * zD + dPlan // numérateur de t pour calculer coordonénes de H\n      const fracT = new FractionEtendue(abs(-numer), abs(denom)) // Valeur de t pour trouver H\n      const xHFrac = new FractionEtendue(xD * denom - numer * nx, denom) // coordonnées de H\n      const yHFrac = new FractionEtendue(yD * denom - numer * ny, denom)\n      const zHFrac = new FractionEtendue(zD * denom - numer * nz, denom)\n      const fracTDec = -numer / denom\n      const fracTSimplifie = fracT.simplifie()\n      const reponse5 =\n        lampeMessage({\n          titre: 'Méthode :',\n          texte:\n            \"Le point $H$ est le projeté orthogonal du point $D$ sur le plan $(ABC)$ donc $H\\\\in(ABC)$ et $H\\\\in(d)$. Les coordonnées du point $H$ vérifient donc l'équation cartésienne du plan $(ABC)$ et la représentation paramétrique de la droite $(d)$.\",\n        }) +\n        `<br>On cherche l'ensemble des $(x_H,y_H,z_H,t)$ qui vérifient le système :  :\n      $\\\\begin{cases} \n      x_H = ${xD} ${ecritureAlgebriqueSauf1(nx)}t \\\\\\\\\n      y_H = ${yD} ${ecritureAlgebriqueSauf1(ny)}t \\\\\\\\\n      z_H = ${zD} ${ecritureAlgebriqueSauf1(nz)}t\\\\\\\\\n      ${rienSi1(nx)}x_H ${ecritureAlgebriqueSauf1(ny)}y_H ${ecritureAlgebriqueSauf1(nz)}z_H ${ecritureAlgebriqueSauf0(dPlan)} = 0\n      \\\\end{cases}$.<br>` +\n        `En remplaçant $x_H$, $y_H$ et $z_H$ par leurs expressions en fonction de $t$, dans l'équation cartésienne, on obtient :<br>` +\n        `$\\\\begin{aligned}\n        ${rienSi1(nx)}(${xD} ${ecritureAlgebrique(nx)} t) ${ecritureAlgebrique(ny)}(${yD} ${ecritureAlgebrique(ny)}t) ${ecritureAlgebrique(nz)}(${zD} ${ecritureAlgebrique(nz)}t) ${ecritureAlgebrique(dPlan)} &= 0\\\\\\\\\n         ${nx * nx + ny * ny + nz * nz} t ${ecritureAlgebrique(nx * xD + ny * yD + nz * zD + dPlan)} &= 0\\\\\\\\\n         t&=${fracT.texFractionSimplifiee}\n         \\\\end{aligned}.$<br>` +\n        `En remplaçant $t$ dans les $3$ premières équations du système, on trouve : <br>` +\n        `$\\\\begin{cases}  x_H = ${xD} ${ecritureAlgebrique(nx)}\\\\times ${fracTSimplifie}\\\\\\\\\\\\\\\\\n      y_H = ${yD} ${ecritureAlgebrique(ny)}\\\\times ${fracTSimplifie} \\\\\\\\\\\\\\\\\n      z_H = ${zD} ${ecritureAlgebrique(nz)}\\\\times ${fracTSimplifie}\\\\\\\\\\\\end{cases} \n      \\\\iff \\\\begin{cases}  x_H = ${xHFrac.texFractionSimplifiee} \\\\\\\\\\\\\\\\\n      y_H = ${yHFrac.texFractionSimplifiee} \\\\\\\\\\\\\\\\\n      z_H = ${zHFrac.texFractionSimplifiee}\\\\\\\\\\\\end{cases}$\n      Donc $H\\\\left(${xHFrac.texFractionSimplifiee} ; ${yHFrac.texFractionSimplifiee} ; ${zHFrac.texFractionSimplifiee}\\\\right)$.`\n\n      const normeDHDec = Math.abs(fracTDec) * Math.sqrt(denom)\n      let reponse6 = lampeMessage({\n        titre: 'Méthode :',\n        texte:\n          'Pour calculer la longueur $DH$, on peut calculer la norme du vecteur $\\\\overrightarrow{DH}$ : $\\\\vert\\\\vert\\\\overrightarrow{DH}\\\\vert\\\\vert=\\\\sqrt{(x_H - x_D)^2 + (y_H - y_D)^2 + (z_H - z_D)^2}$.',\n      })\n      reponse6 += `On calcule la norme du vecteur $\\\\overrightarrow{DH}$ :<br>\n       $\\\\begin{aligned}\\\\vert\\\\vert\\\\overrightarrow{DH}\\\\vert\\\\vert&=\\\\sqrt{\\\\left(${xHFrac.texFractionSimplifiee} ${ecritureAlgebriqueSauf0(-xD)}\\\\right)^2 + \\\\left(${yHFrac.texFractionSimplifiee}  ${ecritureAlgebriqueSauf0(-yD)}\\\\right)^2 + \\\\left(${zHFrac.texFractionSimplifiee}  ${ecritureAlgebriqueSauf0(-zD)}\\\\right)^2}\\\\\\\\\n       & = ${fracT.texFractionSimplifiee}\\\\sqrt{${denom}}. \\\\end{aligned}.$`\n\n      // Volume tétraèdre sans produit vectoriel : aire du triangle rectangle ABC puis hauteur DH\n      const AB2 = ABx * ABx + ABy * ABy + ABz * ABz\n      const AC2 = ACx * ACx + ACy * ACy + ACz * ACz\n      const volumeDec = (Math.sqrt(AB2) * Math.sqrt(AC2) * normeDHDec) / 6\n      let reponse7 =\n        lampeMessage({\n          titre: 'Méthode :',\n          texte:\n            \"Pour calculer le volume d'un tétraèdre, on utilise la formule de la pyramide : $\\\\mathscr V = \\\\dfrac{\\\\mathscr A_{base} \\\\times hauteur}{3}$, où $\\\\mathscr A_{base}$ est l'aire de la base et la hauteur la distance du sommet au plan de base.<br> Ici, on prend le triangle $ABC$ comme base et $DH$ comme hauteur.\",\n        }) +\n        `Le triangle $ABC$ est rectangle en $A$, donc <br>$\\\\begin{aligned}\n        \\\\mathscr A_{ABC} &= \\\\dfrac{\\\\|\\\\overrightarrow{AB}\\\\|\\\\times\\\\|\\\\overrightarrow{AC}\\\\|}{2}\\\\\\\\\n        & = \\\\dfrac{\\\\sqrt{${AB2}}\\\\times \\\\sqrt{${AC2}}}{2}.\\\\end{aligned}$<br>` +\n        `On peut maintenant calculer le volume du tétraèdre :<br>\n        $\\\\begin{aligned}\\\\mathscr V &= \\\\dfrac{\\\\mathscr A_{ABC}\\\\times DH}{3}\\\\\\\\\n        & = \\\\dfrac{\\\\sqrt{${AB2}}\\\\times\\\\sqrt{${AC2}}\\\\times${fracT.texFractionSimplifiee}\\\\times\\\\sqrt{${denom}}}{6} \\\\\\\\\\\\end{aligned}$`\n      const vol10 = Math.round(volumeDec * 10) // arrondi au dixième\n      const estEntierAuDixieme = Number.isInteger(vol10)\n      const vol100 = Math.round(volumeDec * 100) // arrondi au centieme\n      const estEntierAuCentieme = Number.isInteger(vol100)\n      if (Number.isInteger(volumeDec) || estEntierAuDixieme|| estEntierAuCentieme) {\n        reponse7 += `<br>\n          $\\\\begin{aligned} \\\\phantom{ \\\\mathscr V}&= ${texNombre(volumeDec)}.\\\\end{aligned}$<br>\n          La valeur excate du volume du tétraèdre est $${miseEnEvidence(`${texNombre(volumeDec)}`)}$ `\n      } else {\n        reponse7 += `<br>$\\\\begin{aligned} \\\\phantom{ \\\\mathscr V}&\\\\approx ${texNombre(volumeDec, 2)}.\\\\end{aligned}$<br>\n  La valeur approchée du volume du tétraèdre est $${miseEnEvidence(`${texNombre(volumeDec, 4)}`)}. $`\n      }\n      texteCorr = createList({\n        items: [\n          reponse1,\n          reponse2,\n          reponse3,\n          reponse4,\n          reponse5,\n          reponse6,\n          reponse7,\n        ],\n        style: 'nombres',\n      })\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","refs","NomExercice","Exercice","pgcd","x","y","i","cpt","texte","texteCorr","xA","randint","yA","zA","ABx","ABy","ABz","ACx","ACy","ACz","xB","yB","zB","xC","yC","zC","nx","ny","nz","g","xD","yD","zD","dPlan","question1","question2","createList","reponse1","lampeMessage","ecritureAlgebrique","ecritureParentheseSiNegatif","reponse2","reponse3","rienSi1","rienSi0","ecritureAlgebriqueSauf0","ecritureAlgebriqueSauf1","reponse4","denom","numer","fracT","FractionEtendue","abs","xHFrac","yHFrac","zHFrac","fracTDec","fracTSimplifie","reponse5","normeDHDec","reponse6","AB2","AC2","volumeDec","reponse7","vol10","estEntierAuDixieme","vol100","estEntierAuCentieme","texNombre","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}