import"./vendors/mathlive-2YgxEGya.js";import{P as Q,aF as O,B as P,O as T}from"./index-BvuGzI-o.js";import{p as F}from"./colors-vbveSA7f.js";import{f as I}from"./fixeBordures-BSnKuTIe.js";import{O as W}from"./ObjetMathalea2D-CXcNXRpD.js";import{a as x,P as X}from"./PointAbstrait-Cz1GEocE.js";import{p as Y}from"./polygones-89tGuAkc.js";import{p as V}from"./Polyline-C6hvR_V-.js";import{s as D,m as q}from"./segmentsVecteurs-BYbXXoZp.js";import{a as S,t as z,l as J}from"./textes-Dv2jXPNF.js";function N(a,e,t,c=1){const m=new X(a.x,a.y+c),H=x(e.x,e.y+c),r=V(a,m,H),i=D(H,e);i.styleExtremites="->";const n=q(m,H),h=[r,i];let d;if(t){const l=t.color??"black";if(t.latex)d=J(t.texte,n.x,n.y+(c>0?.5:-.8),l,50,20,"",10);else{const p=t.math??!1;d=z(t.texte,n.x,n.y+(c>0?.5:-.8),0,l,1,"gauche",p),d.gras=t.gras??!1}h.push(d)}return h}function B(a,e,t,c=1,m=!1){m&&(c=-c);const H=x(a.x+c,a.y),r=x(e.x+c,e.y),i=V(a,H,r),n=D(r,e);n.styleExtremites="->";const h=q(H,r),d=[i,n];let l;const p=t.color??"black",y=t.math??!1;return t&&(t.latex?l=J(t.texte,h.x+t.texte.length/10+c/2,h.y,p,50,20,"",10):(l=z(t.texte,h.x+c,h.y-.6,0,p,1,m?"droite":"gauche",y),l.gras=t.gras??!1),d.push(l)),d}class Z extends W{constructor({largeurTitre:e=7,largeur:t=3,hauteur:c=2,nbColonnes:m=3,origine:H=x(0,0),ligne1:r,ligne2:i,flecheHaut:n=[],flecheBas:h=[],flecheDroite:d,flecheDroiteSens:l="bas",flecheGauche:p,flecheGaucheSens:y="haut"}){super(),r&&i&&Array.isArray(r)&&Array.isArray(i)&&(m=Math.max(r.length,i.length,m));const o=H,f=x(o.x+e+t*(m-1),o.y),w=x(f.x,f.y+2*c),$=x(o.x,o.y+2*c);this.objets=[],this.objets.push(Y(o,f,w,$)),this.objets.push(D(x(o.x,o.y+c),x(f.x,f.y+c)));let k=o.x+e;for(let s=0;s<m;s++){if(this.objets.push(D(x(k,o.y),x(k,w.y))),r[s+1])if(r[s+1].latex)this.objets.push(S(r[s+1].texte??"",k+t/2,o.y+1.4*c,{letterSize:"normalsize",color:r[s+1].color||"black",gras:r[s+1].gras||!1}));else{const b=r[s+1].color??"black",u=r[s+1].math??!1,M=z(r[s+1].texte??"",k+t/2,o.y+1.4*c,0,b,1.2,"milieu",u);M.gras=r[s+1].gras??!1,this.objets.push(M)}if(i[s+1])if(i[s+1].latex)this.objets.push(S(i[s+1].texte??"",k+t/2,o.y+.4*c,{letterSize:"normalsize",gras:i[s+1].gras||!1,color:i[s+1].color||"black"}));else{const b=i[s+1].color??"black",u=i[s+1].math??!1,M=z(i[s+1].texte??"",k+t/2,o.y+.4*c,0,b,1.2,"milieu",u);M.gras=i[s+1].gras??!1,this.objets.push(M)}k+=t}if(r[0])if(r[0].latex)this.objets.push(S(r[0].texte??"",o.x+e/2,o.y+1.4*c,{letterSize:"normalsize",color:r[0].color||"black",gras:r[0].gras||!1}));else{const s=r[0].color??"black",b=r[0].math??!1,u=z(r[0].texte??"",o.x+e/2,o.y+1.4*c,0,s,1.2,"milieu",b);u.gras=r[0].gras??!1,this.objets.push(u)}if(i[0])if(i[0].latex)this.objets.push(S(i[0].texte??"",o.x+e/2,o.y+.4*c,{letterSize:"normalsize",color:i[0].color||"black",gras:i[0].gras||!1}));else{const s=i[0].color??"black",b=i[0].math??!1,u=z(i[0].texte??"",o.x+e/2,o.y+.4*c,0,s,1.2,"milieu",b);u.gras=i[0].gras??!1,this.objets.push(u)}for(const s of n){const b=x(o.x+e+s[0]*t-.4*t,o.y+2.1*c),u=x(o.x+e+s[1]*t-.6*t,o.y+2.1*c);s[3]?this.objets.push(...N(b,u,s[2],s[3])):this.objets.push(...N(b,u,s[2]))}for(const s of h){const b=x(o.x+e+s[0]*t-.4*t,o.y-.1*c),u=x(o.x+e+s[1]*t-.6*t,o.y-.1*c);let M;s[3]?M=-Math.abs(s[3]):M=-1,this.objets.push(...N(b,u,s[2],M))}if(d){const s=x(o.x+e+(m-1)*t+.2,o.y+1.5*c),b=x(o.x+e+(m-1)*t+.2,o.y+.5*c);l==="bas"?this.objets.push(...B(s,b,d)):this.objets.push(...B(b,s,d));const{xmin:u,ymin:M,xmax:R,ymax:U}=I(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});this.bordures=[u,M,R,U]}if(p){const s=x(o.x,o.y+1.5*c),b=x(o.x,o.y+.5*c);y==="bas"?this.objets.push(...B(s,b,p,1,!0)):this.objets.push(...B(b,s,p,1,!0))}const{xmin:j,ymin:A,xmax:v,ymax:K}=I(this.objets,{rxmin:0,rxmax:0,rymin:0,rymax:0});return this.bordures=[j,A,v,K],this}}function eo(a){return new Z(a)}function lo(a,e,t,c=1,m=!0,H=0,r=0,i=!1,n={}){const h=a.length>0?a.length:t.length/e.length+1,d=e.length>0?e.length:t.length/a.length+1;if(Q.isHtml)return O.create(H,r,O.convertTclToTableauMathlive(a,e,t),`tableauMathlive ${n.classes?n.classes:""}`,i,n).output;{let l="";(c===void 0||typeof c=="boolean")&&(c=1),l+=`$\\renewcommand{\\arraystretch}{${c}}
`,l+="\\begin{array}{|";for(let o=0;o<h;o++)l+="c|";l+=`}
`,l+=`\\hline
`;const p=n.L0C0?n.L0C0:"lightgray",y=F(p);if(a.length>0){typeof a[0]=="number"?l+=`\\cellcolor${y?"[HTML]":""}{${y?y.withoutHash:p}} ${m?P(a[0],2):"\\text{"+T(a[0],2)+"}"}`:l+=`\\cellcolor${y?"[HTML]":""}{${y?y.withoutHash:p}} ${m?a[0]:"\\text{"+a[0]+"}"}`;for(let o=1;o<h;o++){const f=a[o],w=n[`L0C${o}`]!=null?n[`L0C${o}`]:"lightgray",$=F(w);typeof f=="number"?l+=` & \\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${m?P(f,6):"\\text{"+T(f,6)+"}"}`:l+=` & \\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${m?f:"\\text{"+f+"}"}`}l+=`\\\\
`,l+=`\\hline
`}for(let o=0;o<d;o++){const f=e[o],w=n[`L${o+1}C0`]?n[`L${o+1}C0`]:n.LC0?n.LC0:"lightgray",$=F(w);typeof f=="number"?l+=`\\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${m?P(f,6):"\\text{"+T(f,6)+"}"}`:l+=`\\cellcolor${$?"[HTML]":""}{${$?$.withoutHash:w}} ${m?f:"\\text{"+f+"}"}`;for(let k=0;k<h-1;k++){const j=t[(h-1)*o+k],A=n[`L${o+1}C${k+1}`]!=null?n[`L${o+1}C${k+1}`]:"",v=F(A);typeof j=="number"?A!==""?l+=` & \\cellcolor${v?"[HTML]":""}{${v?v.withoutHash:A}} ${m?P(j,6):"\\text{"+T(j,6)+"}"}`:l+=` & ${m?P(j,6):"\\text{"+T(j,6)+"}"}`:A!==""?l+=` & \\cellcolor${v?"[HTML]":""}{${v?v.withoutHash:A}} ${m?j:"\\text{"+j+"}"}`:l+=` & ${m?j:"\\text{"+j+"}"}`}l+=`\\\\
`,l+=`\\hline
 `}return l+=`\\end{array}
`,l+=`\\renewcommand{\\arraystretch}{1}$
`,l}}function no({L0C0:a,L0C1:e,L1C0:t,L1C1:c},m,H,r,i){let n;if(Q.isHtml){const h=document.createElement("table");h.className="tableau2x2",h.id=`tableau2x2Ex${m}Q${H}`;const d=document.createElement("tr"),l=document.createElement("tr");h.appendChild(d),h.appendChild(l);const p=document.createElement("td"),y=document.createElement("td"),o=document.createElement("td"),f=document.createElement("td");d.appendChild(p),d.appendChild(y),l.appendChild(o),l.appendChild(f),p.textContent=a.content??"",y.textContent=e.content??"",o.textContent=t.content??"",f.textContent=c.content??"",a.background!=null&&(p.style.backgroundColor=a.background),e.background!=null&&(y.style.backgroundColor=e.background),t.background!=null&&(o.style.backgroundColor=t.background),c.background!=null&&(f.style.backgroundColor=c.background),a.color!=null&&(p.style.color=a.color),e.color!=null&&(y.style.color=e.color),t.color!=null&&(o.style.color=t.color),c.color!=null&&(f.style.color=c.color),n=h.outerHTML}else n=`$\\renewcommand{\\arraystretch}{1.5}
\\begin{array}{|c|c|}
\\hline`,a!=null&&a.content!==""&&(n+=`${a.background!==null&&a.background!==void 0?"\\cellcolor{"+a.background+"}":""} ${a.content} `),n+=" & ",e!=null&&e.content!==""&&(n+=`${e.background!=null&&e.background!==void 0?"\\cellcolor{"+e.background+"}":""} ${e.content} `),n+=`\\\\
 \\hline
 `,t!=null&&t.content!==""&&(n+=`${t.background!==null&&t.background!==void 0?"\\cellcolor{"+t.background+"}":""} ${t.content} `),n+=" & ",c!=null&&c.content!==""&&(n+=`${c.background!==null&&c.background!==void 0?"\\cellcolor{"+c.background+"}":""} ${c.content} `),n+=`\\\\
 \\hline
 `,n+=`\\end{array}
\\renewcommand{\\arraystretch}{1}$`;return n}export{Z as T,no as a,eo as b,lo as t};
//# sourceMappingURL=tableau-BhXMMYON.js.map
