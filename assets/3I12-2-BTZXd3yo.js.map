{"version":3,"file":"3I12-2-BTZXd3yo.js","sources":["../../src/exercices/3e/3I12-2.ts"],"sourcesContent":["import { lampeMessage } from '../../lib/format/message'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport { rangeMinMax } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre, numAlpha } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport {\n  contraindreValeur,\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { scratchblock } from '../../modules/scratchblock'\nimport Exercice from '../Exercice'\nexport const titre = 'Comprendre un script Scratch - 1'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\nexport const dateDePublication = '20/09/2022'\nexport const dateDeModifImportante = '08/05/2023' // par EE : Le nb de questions peut être supérieur à 1.\n\n/**\n * Comprendre un script sur les multiples et diviseurs\n * @author Eric Elter\n */\nexport const uuid = 'defeb'\n\nexport const refs = {\n  'fr-fr': ['3I12-2'],\n  'fr-ch': [],\n}\nexport default class ComprendreScriptMultiples extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Question(s) à sélectionner',\n      \"Nombres séparés par des tirets :\\n1 : Nombre de variables\\n2 : Nom de variables\\n3 : Description du script\\n4 : Test du script avec deux nombres multiples\\n5 : Test du script avec deux nombres non multiples\\n6 : Action initiale\\n   ------------   \\n7 : Une seule question parmi celles choisies\\n8 : Deux questions parmi celles choisies\\n9 : Trois questions parmi celles choisies\\n10 : Quatre questions parmi celles choisies\\n11 : Cinq questions parmi celles choisies\\n12 : L'ensemble des six questions\",\n    ]\n    this.besoinFormulaire2Texte = [\n      'Choix sur la brique intiale',\n      'Nombres séparés par des tirets :\\n1 : La brique initiale est un clic sur drapeau vert.\\n2 : La brique initiale est un clic sur lutin.\\n3 : La brique initiale est un appui sur touche imposée\\n4 : La brique initiale est un appui sur touche non imposée\\n5 : Une des possiblités précédentes choisie au hasard',\n    ]\n    this.besoinFormulaire3Texte = [\n      'Choix sur une des phrases finales',\n      'Nombres séparés par des tirets :\\n1 : Une phrase finale contient : ... est un multiple de ...\\n2 : Une phrase finale contient : ... divise ...\\n3 : Une phrase finale contient : ... est un diviseur de ...\\n4 : Une des possiblités précédentes choisie au hasard',\n    ]\n    this.besoinFormulaire4Numerique = [\n      \"Choix de l'ordre sur la brique modulo\",\n      3,\n      '1 : Premier entier demandé modulo le second\\n2 : Second entier demandé modulo le premier \\n3 : Une des possiblités précédentes choisie au hasard',\n    ]\n\n    this.sup = 9\n    this.sup2 = 5\n    this.sup3 = 4\n    this.sup4 = 3\n    this.spacing = 2\n    this.spacingCorr = 2\n    this.nbQuestions = 1\n    this.typeExercice = 'Scratch'\n  }\n\n  nouvelleVersion() {\n    /*\n    let optionsBriques = []\n\n    if (!this.sup2) { // Si aucune liste n'est saisie\n      optionsBriques = [randint(1, 4)]\n    } else {\n      if (typeof (this.sup2) === 'number') {\n        this.sup2 = contraindreValeur(1, 5, this.sup2, 5)\n        optionsBriques = [this.sup2 === 5 ? randint(1, 4) : this.sup2]\n      } else {\n        optionsBriques = this.sup2.split('-')// Sinon on créé un tableau à partir des valeurs séparées par des -\n        for (let i = 0; i < optionsBriques.length; i++) { // on a un tableau avec des strings : ['1', '1', '2']\n          optionsBriques[i] = contraindreValeur(1, 5, parseInt(optionsBriques[i]), 5)\n        }\n        if (compteOccurences(optionsBriques, 5) > 0) optionsBriques = [randint(1, 4)]\n        else optionsBriques = combinaisonListes(optionsBriques, optionsBriques.length)\n      }\n    }\n    const briqueInitiale = optionsBriques[0]\n    */\n\n    const briqueInitiale = gestionnaireFormulaireTexte({\n      max: 4,\n      defaut: 5,\n      melange: 5,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup2,\n    })\n\n    /*\n    optionsBriques = []\n    if (!this.sup3) { // Si aucune liste n'est saisie\n      optionsBriques = [randint(1, 3)]\n    } else {\n      if (typeof (this.sup3) === 'number') {\n        this.sup3 = contraindreValeur(1, 4, this.sup3, 4)\n        optionsBriques = [this.sup3 === 4 ? randint(1, 3) : this.sup3]\n      } else {\n        optionsBriques = this.sup3.split('-')// Sinon on créé un tableau à partir des valeurs séparées par des -\n        for (let i = 0; i < optionsBriques.length; i++) { // on a un tableau avec des strings : ['1', '1', '2']\n          optionsBriques[i] = contraindreValeur(1, 4, parseInt(optionsBriques[i]), 4)\n        }\n        if (compteOccurences(optionsBriques, 4) > 0) optionsBriques = [randint(1, 3)]\n        else optionsBriques = combinaisonListes(optionsBriques, optionsBriques.length)\n      }\n    }\n    const choixScript = optionsBriques[0]\n    */\n\n    const choixScript = gestionnaireFormulaireTexte({\n      max: 3,\n      defaut: 4,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup3,\n    })\n\n    const diviseurEnPremier =\n      this.sup4 === 3 ? choice([true, false]) : this.sup4 === 2\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const tableauTouches = []\n      for (let i = 1; i < 27; i++)\n        tableauTouches.push(String.fromCharCode(64 + i).toLowerCase())\n      for (let i = 0; i < 10; i++) tableauTouches.push(i)\n      tableauTouches.push('espace')\n      tableauTouches.push('flèche haut')\n      tableauTouches.push('flèche bas')\n      tableauTouches.push('flèche droite')\n      tableauTouches.push('flèche gauche')\n      const touchePressee = choice(tableauTouches)\n\n      const nb1 = randint(1, 26, [23, 9, 15, 17]) // Pour éviter I,O,Q et W\n      const nb2 = randint(1, 26, [23, 9, 15, 17, nb1]) // Pour éviter I,O,Q et W\n      let var1 = lettreDepuisChiffre(nb1)\n      let var2 = lettreDepuisChiffre(nb2)\n      let colonne1 = '\\\\begin{scratch}[print,fill,blocks,scale=1]\\n'\n      const choixBriqueInitiale = [\n        [\n          '\\\\blockinit{quand \\\\greenflag est cliqué}\\n',\n          'Quand le drapeau vert est cliqué',\n        ],\n        [\n          '\\\\blockinit{quand ce sprite est cliqué}\\n',\n          'Quand ce sprite est cliqué',\n        ],\n        [\n          `\\\\blockinit{quand la touche \\\\selectmenu{${touchePressee}} est pressée}\\n`,\n          `Quand la touche ${touchePressee} est pressée`,\n        ],\n        [\n          \"\\\\blockinit{quand la touche \\\\selectmenu{n'importe laquelle} est pressée}\\n\",\n          \"Quand n'importe quelle touche est pressée\",\n        ],\n      ]\n      const nbBriqueInitiale = briqueInitiale[i]\n      colonne1 +=\n        typeof nbBriqueInitiale === 'number'\n          ? choixBriqueInitiale[nbBriqueInitiale - 1][0]\n          : ''\n      colonne1 +=\n        '\\\\blockmove{demander \\\\ovalnum{Donne-moi un nombre entier.} et attendre}\\n'\n      colonne1 += `\\\\blockvariable{mettre \\\\selectmenu{${var1}} à \\\\ovalsensing{réponse}}\\n`\n      colonne1 +=\n        '\\\\blockmove{demander \\\\ovalnum{Donne-moi un second nombre entier.} et attendre}\\n'\n      colonne1 += `\\\\blockvariable{mettre \\\\selectmenu{${var2}} à \\\\ovalsensing{réponse}}\\n`\n      const var3 = lettreDepuisChiffre(nb1)\n      var1 = diviseurEnPremier ? var2 : var1\n      var2 = diviseurEnPremier ? var3 : var2\n      colonne1 += `\\\\blockifelse{si \\\\booloperator{\\\\ovaloperator{\\\\ovalmove{${var1}} modulo \\\\ovalmove{${var2}}} = \\\\ovalnum{0}} alors}\\n`\n      switch (choixScript[i]) {\n        case 1: // .... est un multiple de ....\n          colonne1 += `{\\\\blocklook{dire \\\\ovaloperator{regrouper \\\\ovaloperator{regrouper \\\\ovalmove{${var1}} et \\\\ovaloperator{regrouper \\\\ovalnum{ est un multiple de } et \\\\ovalmove{${var2}}}} et \\\\ovalnum{.}}}\\n}\\n`\n          colonne1 += `{\\\\blocklook{dire \\\\ovaloperator{regrouper \\\\ovaloperator{regrouper \\\\ovalmove{${var1}} et \\\\ovaloperator{regrouper \\\\ovalnum{ n'est pas un multiple de } et \\\\ovalmove{${var2}}}} et \\\\ovalnum{.}}}\\n}\\n`\n          break\n        case 2: // .... divise ....\n          colonne1 += `{\\\\blocklook{dire \\\\ovaloperator{regrouper \\\\ovaloperator{regrouper \\\\ovalmove{${var2}} et \\\\ovaloperator{regrouper \\\\ovalnum{ divise } et \\\\ovalmove{${var1}}}} et \\\\ovalnum{.}}}\\n}\\n`\n          colonne1 += `{\\\\blocklook{dire \\\\ovaloperator{regrouper \\\\ovaloperator{regrouper \\\\ovalmove{${var2}} et \\\\ovaloperator{regrouper \\\\ovalnum{ ne divise pas } et \\\\ovalmove{${var1}}}} et \\\\ovalnum{.}}}\\n}\\n`\n          break\n        case 3: // .... est un diviseur de  ....\n          colonne1 += `{\\\\blocklook{dire \\\\ovaloperator{regrouper \\\\ovaloperator{regrouper \\\\ovalmove{${var2}} et \\\\ovaloperator{regrouper \\\\ovalnum{ est un diviseur de } et \\\\ovalmove{${var1}}}} et \\\\ovalnum{.}}}\\n}\\n`\n          colonne1 += `{\\\\blocklook{dire \\\\ovaloperator{regrouper \\\\ovaloperator{regrouper \\\\ovalmove{${var2}} et \\\\ovaloperator{regrouper \\\\ovalnum{ n'est pas un diviseur de } et \\\\ovalmove{${var1}}}} et \\\\ovalnum{.}}}\\n}\\n`\n          break\n      }\n      colonne1 += '\\\\end{scratch}'\n      const colonne1SuivantContexte = scratchblock(colonne1)\n      colonne1 =\n        typeof colonne1SuivantContexte === 'string'\n          ? colonne1SuivantContexte\n          : 'problème avec scratchblock'\n\n      const nb02 = choice([2, 3, 5, 9, 10])\n      const nb01 = choice(rangeMinMax(5, 15)) * nb02\n      const nb03 = nb01 + randint(1, nb02 - 1)\n      const listeQuestions = [\n        // [Questions, Reponses, Nb de lignes pour le réponse AMC]\n        [\n          'Combien ce script comporte-t-il de variables ?',\n          `Ce script comporte ${texteEnCouleurEtGras(2)} variables.`,\n          1,\n        ],\n        [\n          'Comment se nomment les variables dans ce script ?',\n          `Les variables de ce script se nomment ${texteEnCouleurEtGras(var1)} et ${texteEnCouleurEtGras(var2)}.`,\n          1,\n        ],\n        [\n          'Que fait ce script ?',\n          `Ce script demande deux nombres entiers à l'utilisateur, calcule le reste de la division euclidienne du\n      ${diviseurEnPremier ? ' second nombre fourni par le premier ' : ' premier nombre fourni par le second '}\n      puis indique si\n      ${choixScript[i] === 1 ? (diviseurEnPremier ? ' le second nombre ' : ' le premier nombre ') : diviseurEnPremier ? ' le premier nombre ' : ' le second nombre '} ${choixScript[i] === 1 ? ' est un multiple ou pas du ' : choixScript[i] === 2 ? ' divise ou pas le ' : ' est un diviseur ou pas du '} ${choixScript[i] === 1 ? (diviseurEnPremier ? 'premier' : 'second') : diviseurEnPremier ? 'second' : 'premier'} nombre.`,\n          3,\n        ],\n        [\n          `Si les nombres saisis sont d'abord ${diviseurEnPremier ? nb02 : nb01} puis ensuite ${diviseurEnPremier ? nb01 : nb02}, que dit précisément le lutin au final ?`,\n          `${choixScript[i] === 1 ? nb01 + ' est un multiple de ' + nb02 : choixScript[i] === 2 ? nb02 + ' divise ' + nb01 : nb02 + ' est un diviseur de ' + nb01}.`,\n          1,\n        ],\n        [\n          `Si les nombres saisis sont d'abord ${diviseurEnPremier ? nb02 : nb03} puis ensuite ${diviseurEnPremier ? nb03 : nb02}, que dit précisément le lutin au final ?`,\n          `${choixScript[i] === 1 ? nb03 + \" n'est pas un multiple de \" + nb02 : choixScript[i] === 2 ? nb02 + ' ne divise pas ' + nb03 : nb02 + \" n'est pas un diviseur de \" + nb03}.`,\n          1,\n        ],\n        [\n          'Quelle action initiale permet de déclencher ce script ?',\n          typeof nbBriqueInitiale === 'number'\n            ? choixBriqueInitiale[nbBriqueInitiale - 1][1]\n            : '' + '.',\n          1,\n        ],\n      ]\n\n      let choixQuestions = []\n      let nbDeQuestions = [6]\n      if (!this.sup) {\n        // Si aucune liste n'est saisie\n        choixQuestions = listeQuestions\n      } else {\n        if (typeof this.sup === 'number') {\n          this.sup = contraindreValeur(1, 12, this.sup, 12)\n          if (this.sup < 7) choixQuestions = [listeQuestions[this.sup]]\n          else\n            choixQuestions = combinaisonListes(listeQuestions, 6).slice(\n              0,\n              this.sup - 6,\n            )\n        } else {\n          const optionsQuestions = this.sup.split('-') // Sinon on créé un tableau à partir des valeurs séparées par des -\n          for (let i = 0; i < optionsQuestions.length; i++) {\n            // on a un tableau avec des strings : ['1', '1', '2']\n            optionsQuestions[i] = contraindreValeur(\n              1,\n              12,\n              parseInt(optionsQuestions[i]),\n              12,\n            )\n            if (optionsQuestions[i] < 7)\n              choixQuestions.push(listeQuestions[optionsQuestions[i] - 1])\n            else nbDeQuestions = [optionsQuestions[i] - 6]\n          }\n          if (choixQuestions.length === 0) {\n            choixQuestions = combinaisonListes(listeQuestions, 6).slice(\n              0,\n              nbDeQuestions[0],\n            )\n          }\n        }\n      }\n      choixQuestions = combinaisonListes(choixQuestions, choixQuestions.length)\n\n      this.introduction = lampeMessage({\n        titre: context.isHtml\n          ? `${scratchblock('\\\\begin{scratch}[print,fill,blocks,scale=0.5]\\n\\\\ovaloperator{\\\\ovalnum{ } modulo \\\\ovalnum{ }}\\\\end{scratch}')}`\n          : 'Information',\n        texte:\n          (context.isHtml\n            ? ''\n            : '$\\\\setscratch{print}\\\\ovaloperator{\\\\ovalnum{ } modulo \\\\ovalnum{ }}$<br>') +\n          'Cette brique donne le reste de la division euclidienne du nombre de gauche par le nombre de droite.',\n        couleur: 'nombres',\n      })\n      if (context.isAmc) {\n        this.autoCorrection[0] = {\n          enonce: '',\n          enonceAvant: false, // EE : ce champ est facultatif et permet (si false) de supprimer l'énoncé ci-dessus avant la numérotation de chaque question.\n          propositions: [],\n        }\n      }\n      this.consigne =\n        'Lire ce script Scratch associé à un lutin et répondre ensuite'\n      this.consigne +=\n        Math.min(choixQuestions.length, nbDeQuestions[0]) > 1\n          ? ' aux questions.'\n          : ' à la question.'\n      let colonne2 = ''\n      texteCorr = ''\n      let enonceAMC = ''\n      for (\n        let i = 0;\n        i < Math.min(choixQuestions.length, nbDeQuestions[0]);\n        i++\n      ) {\n        if (Math.min(choixQuestions.length, nbDeQuestions[0]) === 1) {\n          enonceAMC = choixQuestions[0][0] + '<br>'\n          texteCorr = choixQuestions[0][1] + '<br>'\n        } else {\n          enonceAMC = numAlpha(i) + choixQuestions[i][0] + '<br>'\n          texteCorr += numAlpha(i) + choixQuestions[i][1] + '<br>'\n        }\n        if (context.isAmc) {\n          // @ts-expect-error\n          this.autoCorrection[0].propositions[i] = {\n            type: 'AMCOpen',\n            propositions: [\n              {\n                enonce: (i === 0 ? colonne1 + '<br><br>' : '') + enonceAMC,\n                texte: '',\n                statut: choixQuestions[i][2], // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la réponse de l'élève sur AMC)\n                pointilles: false, // EE : ce champ est facultatif et permet (si false) d'enlever les pointillés sur chaque ligne.\n              },\n            ],\n          }\n        }\n        colonne2 += '<br>' + enonceAMC\n      }\n      // Multicolonnage abandonné à cause de la non-optimation de la fonction deuxColonnes() (septembre 2022) sur SmartPhone\n      // const texte = deuxColonnes(colonne1, colonne2)\n      texte = colonne1 + colonne2\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","ComprendreScriptMultiples","Exercice","briqueInitiale","gestionnaireFormulaireTexte","choixScript","diviseurEnPremier","choice","i","texte","texteCorr","cpt","tableauTouches","touchePressee","nb1","randint","nb2","var1","lettreDepuisChiffre","var2","colonne1","choixBriqueInitiale","nbBriqueInitiale","var3","colonne1SuivantContexte","scratchblock","nb02","nb01","rangeMinMax","nb03","listeQuestions","texteEnCouleurEtGras","choixQuestions","nbDeQuestions","contraindreValeur","combinaisonListes","optionsQuestions","lampeMessage","context","colonne2","enonceAMC","numAlpha","listeQuestionsToContenu"],"mappings":"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"}