{"version":3,"file":"6N4A-2-B57kDjxP.js","sources":["../../src/exercices/6e/6N4A-2.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { premiereLettreEnMajuscule } from '../../lib/outils/outilString'\nimport { prenoms } from '../../lib/outils/Personne'\nimport { premierAvec } from '../../lib/outils/primalite'\nimport SchemaEnBoite from '../../lib/outils/SchemaEnBoite'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Modéliser des problèmes niveau 2'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '3/06/2025'\n\n/**\n * Associer des problèmes à des modélisations en barres.\n * @author Jean-Claude Lhote\n */\nexport const uuid = '4e89c'\n\nexport const refs = {\n  'fr-fr': ['6N4A-2'],\n  'fr-2016': ['6C35-1'],\n  'fr-ch': [],\n}\n\n// Types utilisés dans les fonctions problèmes\ntype QuestionType = 'schéma' | 'énoncé' | 'mixte'\ntype ReponseType = [number, number, number, number]\ntype ObjetAVendre = {\n  nomPluriel: string\n  nom: string\n  prixMini: number\n  prixMaxi: number\n}\ntype ObjetAPartager = {\n  nom: string\n  nomPart: string\n  partsMaxParObjet: number\n  partsMinParObjet: number\n  multiplicateurParts: number\n}\n\ntype FonctionProbleme = {\n  (\n    interactif?: boolean,\n    typeQuestion?: QuestionType,\n    decimaux?: boolean,\n  ): { enonce: string; barre: SchemaEnBoite; reponses: ReponseType }\n}\n\nexport const troisObjetsAVendre: [ObjetAVendre, ObjetAVendre, ObjetAVendre][] =\n  [\n    [\n      {\n        nomPluriel: 'tee-shirts',\n        nom: 'un tee-shirt',\n        prixMini: 7,\n        prixMaxi: 15,\n      },\n      {\n        nomPluriel: 'paires de baskets',\n        nom: 'une paire de baskets',\n        prixMini: 70,\n        prixMaxi: 130,\n      },\n      { nomPluriel: 'shorts', nom: 'un short', prixMini: 10, prixMaxi: 25 },\n    ],\n    [\n      { nomPluriel: 'livres', nom: 'un livre', prixMini: 5, prixMaxi: 20 },\n      { nomPluriel: 'cahiers', nom: 'un cahier', prixMini: 2, prixMaxi: 5 },\n      { nomPluriel: 'stylos', nom: 'un stylo', prixMini: 1, prixMaxi: 5 },\n    ],\n    [\n      {\n        nomPluriel: 'jeux vidéo',\n        nom: 'un jeu vidéo',\n        prixMini: 20,\n        prixMaxi: 60,\n      },\n      {\n        nomPluriel: 'consoles de jeu',\n        nom: 'une console de jeu',\n        prixMini: 200,\n        prixMaxi: 400,\n      },\n      {\n        nomPluriel: 'casques audio',\n        nom: 'un casque audio',\n        prixMini: 30,\n        prixMaxi: 100,\n      },\n    ],\n    [\n      { nomPluriel: 'vélos', nom: 'un vélo', prixMini: 100, prixMaxi: 300 },\n      {\n        nomPluriel: 'casques de vélo',\n        nom: 'un casque de vélo',\n        prixMini: 10,\n        prixMaxi: 30,\n      },\n      {\n        nomPluriel: 'pompes à vélo',\n        nom: 'une pompe à vélo',\n        prixMini: 5,\n        prixMaxi: 15,\n      },\n    ],\n    [\n      {\n        nomPluriel: 'sacs à dos',\n        nom: 'un sac à dos',\n        prixMini: 15,\n        prixMaxi: 50,\n      },\n      { nomPluriel: 'trousses', nom: 'une trousse', prixMini: 5, prixMaxi: 15 },\n      {\n        nomPluriel: 'ordinateurs portables',\n        nom: 'un ordinateur portable',\n        prixMini: 300,\n        prixMaxi: 1000,\n      },\n    ],\n    [\n      {\n        nomPluriel: 'smartphones',\n        nom: 'un smartphone',\n        prixMini: 200,\n        prixMaxi: 800,\n      },\n      {\n        nomPluriel: 'tablettes',\n        nom: 'une tablette',\n        prixMini: 150,\n        prixMaxi: 600,\n      },\n      {\n        nomPluriel: 'montres connectées',\n        nom: 'une montre connectée',\n        prixMini: 50,\n        prixMaxi: 300,\n      },\n    ],\n  ]\nconst objetsAPartager: ObjetAPartager[] = [\n  {\n    nom: 'paquets de gâteaux',\n    nomPart: 'gâteaux',\n    partsMaxParObjet: 10,\n    partsMinParObjet: 4,\n    multiplicateurParts: 1,\n  },\n  {\n    nom: 'sacs de billes',\n    nomPart: 'billes',\n    partsMaxParObjet: 5,\n    partsMinParObjet: 1,\n    multiplicateurParts: 10,\n  },\n  {\n    nom: 'boîtes de chocolats',\n    nomPart: 'chocolats',\n    partsMaxParObjet: 8,\n    partsMinParObjet: 2,\n    multiplicateurParts: 5,\n  },\n  {\n    nom: 'sachets de bonbons',\n    nomPart: 'bonbons',\n    partsMaxParObjet: 12,\n    partsMinParObjet: 5,\n    multiplicateurParts: 2,\n  },\n]\n\n// Somme de trois parties\n\nexport const troisAchats: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const choix = choice(troisObjetsAVendre)\n  const prixAchat = choix.map(\n    (o) =>\n      randint(o.prixMini, o.prixMaxi) +\n      (decimaux ? Number(Math.random().toFixed(1)) + choice([0.05, 0]) : 0),\n  )\n  const total = prixAchat.reduce((a, b) => a + b, 0)\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  const enonce = `${prenom} achète ${choix[0].nom} à zone0 €, ${choix[1].nom} à zone1 € et ${choix[2].nom} à zone2 €. Combien a-t-${pronom} dépensé au total ?<br><br>\n    Réponse : ${prenom} a dépensé au total : $${texNombre(prixAchat[0], 2)}+${texNombre(prixAchat[1], 2)}+${texNombre(prixAchat[2], 2)}=$ zone3 €.`\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return {\n    enonce,\n    barre,\n    reponses: [prixAchat[0], prixAchat[1], prixAchat[2], total],\n  }\n}\n\nexport const triathlon: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n\n  const distanceNatation = randint(2, 15) * 100 // en mètres\n  const distanceVelo = distanceNatation * 15 // en mètres\n  const distanceCourse = distanceNatation * 5 // en mètres\n  const total = distanceNatation + distanceVelo + distanceCourse\n  const enonce = `${prenom} participe à un triathlon. Il nage zone0 $\\\\text{m}$, fait du vélo sur zone1 $\\\\text{m}$ et court sur zone2 $\\\\text{m}$. Quelle distance totale a-t-${pronom} parcourue ?<br><br>\n      Réponse : ${prenom} a parcouru au total : $${texNombre(distanceNatation, 0)}+${texNombre(distanceVelo, 0)}+${texNombre(distanceCourse, 0)} = $ zone3 $\\\\text{m}$.`\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return {\n    enonce,\n    barre,\n    reponses: [distanceNatation, distanceVelo, distanceCourse, total],\n  }\n}\nexport const etapeDeMontagne: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n\n  const ascension1 = randint(5, 25) * 50 // en mètres\n  const ascension2 = randint(5, 25, Math.round(ascension1 / 100)) * 50 // en mètres\n  const ascension3 =\n    randint(5, 25, [ascension1 / 100, ascension2 / 100].map(Math.round)) * 50 // en mètres\n  const total = ascension1 + ascension2 + ascension3\n  const enonce = `${prenom} effectue à vélo une étape de montagne du tour de France. ${premiereLettreEnMajuscule(pronom)} grimpe trois cols qui ont les dénivelés suivants : zone0 $\\\\text{m}$ pour le premier col, zone1 $\\\\text{m}$ pour le deuxième et zone2 $\\\\text{m}$ pour le dernier. Quelle dénivelé cumulé a-t-${pronom} grimpé ?<br><br>\n      Réponse : ${prenom} a grimpé au total en $\\\\text{ m}$ : $${texNombre(ascension1, 0)}+${texNombre(ascension2, 0)}+${texNombre(ascension3)}=$ zone3.`\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return {\n    enonce,\n    barre,\n    reponses: [ascension1, ascension2, ascension3, total],\n  }\n}\nexport const randonnee: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n\n  const distance1 = randint(10, 15) * 300 // en mètres\n  const distance2 = randint(10, 15, Math.round(distance1 / 300)) * 300 // en mètres\n  const distance3 =\n    randint(10, 15, [distance1 / 300, distance2 / 300].map(Math.round)) * 100 // en mètres\n  const total = distance1 + distance2 + distance3\n  const enonce = `${prenom} part en randonnée. ${premiereLettreEnMajuscule(pronom)} marche zone0 $\\\\text{m}$ avant sa première halte, puis zone1 $\\\\text{m}$ avant le repas de midi et enfin zone2 $\\\\text{m}$. Quelle distance totale a-t-${pronom} parcourue ?<br><br>\n      Réponse : ${prenom} a parcouru au total : $${texNombre(distance1, 0)}+${texNombre(distance2, 0)}+${texNombre(distance3, 0)}=$ zone3 $\\\\text{m}$.`\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return { enonce, barre, reponses: [distance1, distance2, distance3, total] }\n}\n\n// Différence entre un tout et la somme de deux parties\n\nexport const unAchatParmisTrois: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const choix = choice(troisObjetsAVendre)\n  const prixAchat = choix.map(\n    (o) =>\n      randint(o.prixMini, o.prixMaxi) +\n      (decimaux ? Number(Math.random().toFixed(1)) + choice([0.05, 0]) : 0),\n  )\n  const total = prixAchat.reduce((a, b) => a + b, 0)\n  const totalInter = prixAchat[0] + prixAchat[1]\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  const enonce = `${prenom} achète ${choix[0].nom} à zone0 €, ${choix[1].nom} à zone1 € et ${choix[2].nom}. ${premiereLettreEnMajuscule(pronom)} a payé en tout zone3 €. Combien coûte ${choix[2].nom} ?<br><br>\n    Réponse :<br>\n    - Calcul de la somme dépensée pour ${choix[0].nom} et ${choix[1].nom} en € : $${texNombre(prixAchat[0], 2)}+${texNombre(prixAchat[1], 2)}=${texNombre(totalInter, 2)}$<br>\n    - Prix ${choix[2].nom.replace('une', 'de la').replace('un', 'du')} en € : $${texNombre(total, 2)}-${texNombre(totalInter, 2)}=$ zone2.`\n\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return {\n    enonce,\n    barre,\n    reponses: [prixAchat[0], prixAchat[1], prixAchat[2], total],\n    type: 'parties-tout',\n  }\n} // fin de unAchatParmisTrois\nconst triathlon2: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  const distanceNatation = randint(2, 15) * 100 // en mètres\n  const distanceVelo = distanceNatation * 15 // en mètres\n  const distanceCourse = distanceNatation * 5 // en mètres\n  const total = distanceNatation + distanceVelo + distanceCourse\n  const totalInter = distanceNatation + distanceCourse\n  const enonce = `${prenom} participe à un triathlon. Il nage zone0 $\\\\text{m}$, fait ensuite du vélo et ensuite court sur zone2 $\\\\text{m}$. ${premiereLettreEnMajuscule(pronom)} a parcouru en tout zone3 $\\\\text{m}$. Quelle distance a-t-${pronom} parcourue à vélo ?<br><br>\n      Réponse :<br>\n      - Calcul de la distance parcourue en nage et en course à pied en $\\\\text{ m}$ : $${texNombre(distanceNatation, 0)}+${texNombre(distanceCourse, 0)}=${texNombre(totalInter, 0)}$<br>\n      - Distance parcourue à vélo en $\\\\text{ m}$ : $${texNombre(total, 0)}-${texNombre(totalInter, 0)}=$ zone1.`\n\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return {\n    enonce,\n    barre,\n    reponses: [distanceNatation, distanceVelo, distanceCourse, total],\n  }\n}\n\nexport const etapeDeMontagne2: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  const ascension1 = randint(5, 25) * 50 // en mètres\n  const ascension2 = randint(5, 25, Math.round(ascension1 / 100)) * 50 // en mètres\n  const ascension3 =\n    randint(5, 25, [ascension1 / 100, ascension2 / 100].map(Math.round)) * 50 // en mètres\n  const total = ascension1 + ascension2 + ascension3\n  const enonce = `${prenom} effectue à vélo une étape de montagne du tour de France. ${premiereLettreEnMajuscule(pronom)} grimpe trois cols qui ont les dénivelés suivants : zone0 $\\\\text{m}$ pour le premier col et zone2 $\\\\text{m}$ pour le dernier. ${premiereLettreEnMajuscule(pronom)} a grimpé au total zone3 $\\\\text{m}$. Combien de mètres a-t-${pronom} grimpé lors de l'ascension du deuxième col ?<br><br>\n      Réponse : ${prenom} a grimpé zone1 $\\\\text{m}$ au deuxième col.`\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return {\n    enonce,\n    barre,\n    reponses: [ascension1, ascension2, ascension3, total],\n  }\n}\nexport const randonnee2: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  const distance1 = randint(10, 15) * 300 // en mètres\n  const distance2 = randint(10, 15, Math.round(distance1 / 300)) * 300 // en mètres\n  const distance3 =\n    randint(10, 15, [distance1 / 300, distance2 / 300].map(Math.round)) * 100 // en mètres\n  const total = distance1 + distance2 + distance3\n  const totalInter = distance1 + distance2\n  const enonce = `${prenom} part en randonnée. ${premiereLettreEnMajuscule(pronom)} marche zone0 $\\\\text{m}$ avant sa première halte, ${pronom} marche encore un peu avant le repas de midi et repart ensuite pour éffectuer zone2 $\\\\text{m}$. ${premiereLettreEnMajuscule(pronom)} a parcouru au total zone3 $\\\\text{m}$. Quelle distance a-t-${pronom} parcourue entre sa halte matinale et le repas de midi ?<br><br>\n         Réponse :<br>\n      - Calcul de la distance parcourue le matin en $\\\\text{ m}$ : $${texNombre(distance1, 0)}+${texNombre(distance2, 0)}=${texNombre(totalInter, 0)}$<br>\n      - Distance parcourue l'après-midi en $\\\\text{ m}$ : $${texNombre(total, 0)}-${texNombre(totalInter, 0)}=$ zone2.`\n\n  const barre = SchemaEnBoite.additionPartiesTout('zone3', 2, [\n    'zone0',\n    'zone1',\n    'zone2',\n  ])\n  return { enonce, barre, reponses: [distance1, distance2, distance3, total] }\n}\n\n// quotient entier d'un produit par un diviseur (avec reste)\nexport const partageEntreAmis: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const objet = choice(objetsAPartager)\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  let nombreAmis: number\n  let nombrePartsParObjet: number\n  let nombreObjets: number\n  let nombrePartsParAmi: number\n  let nombrePartsRestantes: number\n  do {\n    nombreAmis = randint(4, 9)\n    nombrePartsParObjet =\n      randint(objet.partsMinParObjet, objet.partsMaxParObjet) *\n      objet.multiplicateurParts\n    nombreObjets = premierAvec(nombreAmis, [], false)\n    nombrePartsParAmi = Math.floor(\n      (nombreObjets * nombrePartsParObjet) / nombreAmis,\n    )\n    nombrePartsRestantes =\n      nombreObjets * nombrePartsParObjet - nombreAmis * nombrePartsParAmi\n  } while (\n    nombrePartsRestantes === 0 ||\n    nombreObjets === nombrePartsParObjet ||\n    nombreObjets === nombrePartsParAmi ||\n    nombrePartsParObjet === nombrePartsParAmi ||\n    nombrePartsParAmi === nombreAmis ||\n    nombreObjets === nombreAmis ||\n    nombrePartsParObjet === nombreAmis\n  )\n  const enonce = `${prenom} a zone0 ${objet.nom} chacun contenant zone1 ${objet.nomPart}. Quand ${pronom} les distribue à ses amis, chacun en a zone2 et il en reste ${nombrePartsRestantes}. Combien a-t-${pronom} d'amis ?<br><br>\n    Réponse :<br>\n    - Calcul du nombre de ${objet.nomPart} total : $${nombreObjets} \\\\times ${nombrePartsParObjet} = ${nombreObjets * nombrePartsParObjet}$.<br>\n    - Calcul du nombre de ${objet.nomPart} partagés : $${nombreObjets * nombrePartsParObjet}-${nombrePartsRestantes}=${nombreAmis * nombrePartsParAmi}$.<br>\n    - Nombre d'amis : $${nombreAmis * nombrePartsParAmi} \\\\div ${nombrePartsParAmi} = ${nombreAmis}$.<br>\n    ${prenom} a zone3 amis.`\n\n  const barre = SchemaEnBoite.multiplicationPuisDivisionAvecReste(\n    'zone0',\n    'zone1',\n    'zone2',\n    'zone3',\n    nombrePartsRestantes,\n    0,\n  )\n  const reponses: [number, number, number, number] = [\n    nombreObjets,\n    nombrePartsParObjet,\n    nombrePartsParAmi,\n    nombreAmis,\n  ]\n  return { enonce, barre, reponses }\n} // fin de partageEntreAmis\n\nexport const partageDuTemps: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  let tempsParJour: number\n  let nbJours: number\n  let tempsTotal: number\n  let tempsParSujet: number\n  let nbSujets: number\n  let tempsRestant: number\n  do {\n    tempsParJour = choice([30, 60, 90, 120]) // en minutes\n    nbJours = randint(5, 8)\n    tempsTotal = tempsParJour * nbJours // en minutes\n    tempsParSujet = choice([55, 65, 85])\n    nbSujets = Math.floor(tempsTotal / tempsParSujet)\n    tempsRestant = tempsTotal % tempsParSujet\n  } while (tempsRestant === 0 || nbSujets < 2)\n\n  const enonce = `${prenom} veut réviser avant un examen. ${premiereLettreEnMajuscule(pronom)} dispose de zone0 jours de révision et décide de travailler zone1 $\\\\text{m}$inutes chaque jour. Chaque thème à réviser demande zone2 $\\\\text{m}$inutes de révisions et il restera ${tempsRestant} minutes à la fin pour faire un bilan de ses révisions. Combien de thèmes a-t-${pronom} à réviser ?<br><br>\n    Réponse :<br>\n    - Calcul du temps de révision total : $${nbJours} \\\\times ${tempsParJour} = ${tempsTotal}$ minutes.<br>\n    - Calcul du temps hors bilan : $${tempsTotal}-${tempsRestant}=${tempsTotal - tempsRestant}$.<br>\n    - Nombre de thèmes révisés :  $${tempsTotal - tempsRestant}\\\\div ${tempsParSujet}=${nbSujets}$.<br>\n    ${prenom} a zone3 thèmes à réviser.`\n  const barre = SchemaEnBoite.multiplicationPuisDivisionAvecReste(\n    'zone0',\n    'zone1',\n    'zone2',\n    'zone3',\n    tempsRestant,\n    0,\n  )\n  const reponses: [number, number, number, number] = [\n    nbJours,\n    tempsParJour,\n    tempsParSujet,\n    nbSujets,\n  ]\n  return { enonce, barre, reponses }\n} // fin de partageDuTemps\n\nexport const preparationCulinaire: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  let nombreMoules: number\n  let nombrePartsParMoule: number\n  let nombrePartsParAssiette: number\n  let nombrePartsRestantes: number\n  let nombreAssiettes: number\n  const produit = choice([\n    'cookies',\n    'muffins',\n    'madeleines',\n    'cupcakes',\n    'gâteaux',\n  ])\n\n  do {\n    nombreMoules = randint(4, 9)\n    nombrePartsParMoule = randint(3, 5) * 2\n    nombrePartsParAssiette = premierAvec(nombrePartsParMoule, [], false)\n    nombreAssiettes = Math.floor(\n      (nombreMoules * nombrePartsParMoule) / nombrePartsParAssiette,\n    )\n    nombrePartsRestantes =\n      nombreMoules * nombrePartsParMoule -\n      nombreAssiettes * nombrePartsParAssiette\n  } while (\n    nombrePartsRestantes === 0 ||\n    nombreMoules === nombrePartsParMoule ||\n    nombreMoules === nombrePartsParAssiette ||\n    nombreMoules === nombreAssiettes ||\n    nombrePartsParMoule === nombrePartsParAssiette ||\n    nombrePartsParMoule === nombreAssiettes ||\n    nombrePartsParAssiette === nombreAssiettes\n  )\n  const enonce = `${prenom} prépare des ${produit}. ${premiereLettreEnMajuscule(pronom)} utilise zone0 $\\\\text{m}$oules, chacun pouvant contenir zone1 parts. Quand ${pronom} les\n range dans des assiettes, chaque assiette contient zone2 parts et il en reste ${nombrePartsRestantes}. Combien d'assiettes a-t-${pronom} prévues ?<br><br>\n  Réponse :<br>\n  - Calcul du nombre de ${produit} total : $${nombreMoules} \\\\times ${nombrePartsParMoule} = ${nombreMoules * nombrePartsParMoule}$.<br>\n  - Calcul de nombres de ${produit} disposés sur les assiettes : $${nombreMoules * nombrePartsParMoule}-${nombrePartsRestantes}=${nombreAssiettes * nombrePartsParAssiette}$.<br>\n  - Nombre d'assiettes : $${nombreAssiettes * nombrePartsParAssiette} \\\\div ${nombrePartsParAssiette} = ${nombreAssiettes}$.<br>\n  ${prenom} a prévu zone3 assiettes.`\n  const barre = SchemaEnBoite.multiplicationPuisDivisionAvecReste(\n    'zone0',\n    'zone1',\n    'zone2',\n    'zone3',\n    nombrePartsRestantes,\n    0,\n  )\n  const reponses: [number, number, number, number] = [\n    nombreMoules,\n    nombrePartsParMoule,\n    nombrePartsParAssiette,\n    nombreAssiettes,\n  ]\n  return { enonce, barre, reponses }\n} // fin de preparationCulinaire\n\n// Différence entre une somme de deux parties et une troisième partie\nexport const comparaisonDeuxSommes: FonctionProbleme = (\n  interactif = false,\n  typeQuestion: QuestionType = 'schéma',\n  decimaux = false,\n) => {\n  const prenomData = choice(prenoms)\n  const prenom = prenomData.prenom\n  const pronom = prenomData.pronom\n  const objets = choice(troisObjetsAVendre)\n  const prixAchat1 =\n    randint(objets[0].prixMini, objets[0].prixMaxi) +\n    (decimaux ? Number(Math.random().toFixed(1)) + choice([0.05, 0]) : 0)\n  const prixAchat2 =\n    randint(objets[1].prixMini, objets[1].prixMaxi) +\n    (decimaux ? Number(Math.random().toFixed(1)) + choice([0.05, 0]) : 0)\n  const [objet1, prix1] =\n    prixAchat1 < prixAchat2 ? [objets[0], prixAchat1] : [objets[1], prixAchat2]\n  const [objet2, prix2] =\n    prixAchat1 < prixAchat2 ? [objets[1], prixAchat2] : [objets[0], prixAchat1]\n  const argentDePrenom = Math.round(\n    ((prixAchat1 + prixAchat2) * randint(5, 8)) / 10,\n  )\n  const enonce = `${premiereLettreEnMajuscule(objet1.nom)} coûte zone0 € et ${objet2.nom} coûte zone1 €. ${prenom} a zone2 €. Combien ${prenom} doit-${pronom} avoir en plus pour acheter ces deux objets ?<br><br>\n  Réponse :<br>\n  - Calcul du prix total en € : $${texNombre(prix1, 2)}+${texNombre(prix2, 2)}=${texNombre(prix1 + prix2)}$.<br>\n  - Calcul de la différence en € : $${texNombre(prix1 + prix2)}-${argentDePrenom}=${prix1 + prix2 - argentDePrenom}$.<br>\n  ${prenom} doit avoir zone3 € de plus pour acheter ces deux objets.`\n  const barre = SchemaEnBoite.additionPartiesToutComparaison2(\n    'zone0',\n    'zone1',\n    'zone2',\n    'zone3',\n  )\n  const reponses: [number, number, number, number] = [\n    prix1,\n    prix2,\n    argentDePrenom,\n    Math.max(0, prix1 + prix2 - argentDePrenom),\n  ]\n  return { enonce, barre, reponses }\n}\n/**\n * Fonction qui va produire l'énoncé et la correction en choisissant aléatoirement une fonction problème.\n * C'est aussi dans cette fonction qu'est géré l'interactivité le cas échéant.\n * @param exercice\n * @param typeQuestion\n * @param startInteractif\n * @returns\n */\nfunction genereEnonces(\n  exercice: Exercice,\n  typeQuestion: QuestionType,\n  startInteractif = 0,\n  fonction: FonctionProbleme,\n): { enonce: string; nextInteractif: number; correction: string } {\n  const interactif = exercice.interactif\n  let { enonce, barre, reponses } = fonction(interactif, typeQuestion)\n  let indexInteractif = startInteractif\n  const zoneAQuestionner = combinaisonListes(['e', 's'], 4)\n  for (let i = 0; i <= 3; i++) {\n    if (typeQuestion === 'schéma') {\n      enonce = enonce.replace(`zone${i}`, `$${texNombre(reponses[i], 2)}$`)\n    } else if (typeQuestion === 'énoncé') {\n      for (const ligne of barre.lignes) {\n        const bar = ligne.barres.findIndex((b) =>\n          b.content.includes(`zone${i}`),\n        )\n        if (bar !== -1) {\n          ligne.barres[bar].content = ligne.barres[bar].content.replace(\n            `zone${i}`,\n            `$${texNombre(reponses[i], 2)}$`,\n          )\n        }\n      }\n      if (barre.topBraces != null) {\n        const brace = barre.topBraces.findIndex((b) =>\n          b.text.includes(`zone${i}`),\n        )\n        if (brace !== -1) {\n          barre.topBraces[brace].text = barre.topBraces[brace].text.replace(\n            `zone${i}`,\n            `$${texNombre(reponses[i], 2)}$`,\n          )\n        }\n      }\n      if (barre.bottomBraces != null) {\n        const brace = barre.bottomBraces.findIndex((b) =>\n          b.text.includes(`zone${i}`),\n        )\n        if (brace !== -1) {\n          barre.bottomBraces[brace].text = barre.bottomBraces[\n            brace\n          ].text.replace(`zone${i}`, `$${texNombre(reponses[i], 2)}$`)\n        }\n      }\n    } else {\n      if (zoneAQuestionner[i] === 'e') {\n        enonce = enonce.replace(`zone${i}`, `$${texNombre(reponses[i], 2)}$`)\n      } else {\n        for (const ligne of barre.lignes) {\n          const bar = ligne.barres.findIndex((b) =>\n            b.content.includes(`zone${i}`),\n          )\n          if (bar !== -1) {\n            ligne.barres[bar].content = ligne.barres[bar].content.replace(\n              `zone${i}`,\n              `$${texNombre(reponses[i], 2)}$`,\n            )\n          }\n        }\n        if (barre.topBraces != null) {\n          const brace = barre.topBraces.findIndex((b) =>\n            b.text.includes(`zone${i}`),\n          )\n          if (brace !== -1) {\n            barre.topBraces[brace].text = barre.topBraces[brace].text.replace(\n              `zone${i}`,\n              `$${texNombre(reponses[i], 2)}$`,\n            )\n          }\n        }\n        if (barre.bottomBraces != null) {\n          const brace = barre.bottomBraces.findIndex((b) =>\n            b.text.includes(`zone${i}`),\n          )\n          if (brace !== -1) {\n            barre.bottomBraces[brace].text = barre.bottomBraces[\n              brace\n            ].text.replace(`zone${i}`, `$${texNombre(reponses[i], 2)}$`)\n          }\n        }\n      }\n    }\n  }\n  let enonceCorr = enonce\n  const barreCorr = new SchemaEnBoite({\n    topBraces: barre.topBraces\n      ? JSON.parse(JSON.stringify(barre.topBraces))\n      : undefined,\n    bottomBraces: barre.bottomBraces\n      ? JSON.parse(JSON.stringify(barre.bottomBraces))\n      : undefined,\n    lignes: JSON.parse(JSON.stringify(barre.lignes)),\n  })\n  for (let k = 0; k < 4; k++) {\n    if (enonceCorr.includes(`zone${k}`)) {\n      enonceCorr = enonceCorr.replaceAll(\n        `zone${k}`,\n        `$${miseEnEvidence(texNombre(reponses[k], 2))}$`,\n      )\n    }\n    if (barreCorr.topBraces != null) {\n      const brace = barreCorr.topBraces.findIndex((b) =>\n        b.text.includes(`zone${k}`),\n      )\n      if (brace !== -1) {\n        barreCorr.topBraces[brace].text = barreCorr.topBraces[\n          brace\n        ].text.replace(\n          `zone${k}`,\n          `$${miseEnEvidence(texNombre(reponses[k], 2))}$`,\n        )\n      }\n    }\n    if (barreCorr.bottomBraces != null) {\n      const brace = barreCorr.bottomBraces.findIndex((b) =>\n        b.text.includes(`zone${k}`),\n      )\n      if (brace !== -1) {\n        barreCorr.bottomBraces[brace].text = barreCorr.bottomBraces[\n          brace\n        ].text.replace(\n          `zone${k}`,\n          `$${miseEnEvidence(texNombre(reponses[k], 2))}$`,\n        )\n      }\n    }\n    for (const ligne of barreCorr.lignes) {\n      const bar = ligne.barres.findIndex((b) => b.content.includes(`zone${k}`))\n      if (bar !== -1) {\n        ligne.barres[bar].content = ligne.barres[bar].content.replace(\n          `zone${k}`,\n          `$${miseEnEvidence(texNombre(reponses[k], 2))}$`,\n        )\n      }\n    }\n  }\n  enonceCorr =\n    typeQuestion === 'schéma'\n      ? `Le problème :<br><br>${enonceCorr}<br><br>\n  se modélise par le schéma suivant :<br><br>\n${barreCorr.display()}`\n      : typeQuestion === 'énoncé'\n        ? `Le schéma : <br><br>${barreCorr.display()}<br>\ncorrespond à l'énoncé ci-dessous :<br><br>\n${enonceCorr}`\n        : `Voici l'énoncé et le schéma correspondant :<br><br>\n${enonceCorr}<br><br>\n${barreCorr.display()}`\n\n  for (let k = 0; k < 4; k++) {\n    if (enonce.includes(`zone${k}`)) {\n      if (interactif && exercice != null) {\n        enonce = enonce.replaceAll(\n          `zone${k}`,\n          ajouteChampTexteMathLive(exercice, indexInteractif, 'schemaEnBoite'),\n        )\n        handleAnswers(exercice, indexInteractif, {\n          reponse: {\n            value: texNombre(reponses[k], 2),\n            options: { noFeedback: true },\n          },\n        })\n        indexInteractif++\n      } else {\n        enonce = enonce.replace(`zone${k}`, '$\\\\ldots$')\n        indexInteractif++\n      }\n    }\n  }\n  for (let k = 0; k < 4; k++) {\n    if (barre.topBraces != null) {\n      const braces = barre.topBraces.filter((b) => b.text.includes(`zone${k}`))\n      if (braces.length > 0) {\n        if (interactif && exercice != null) {\n          braces.forEach((b) => {\n            b.text = b.text.replace(\n              `zone${k}`,\n              ajouteChampTexteMathLive(\n                exercice,\n                indexInteractif,\n                `schemaEnBoite ${KeyboardType.clavierDeBase}`,\n              ),\n            )\n            handleAnswers(exercice, indexInteractif, {\n              reponse: {\n                value: texNombre(reponses[k], 2),\n                options: { noFeedback: true },\n              },\n            })\n          })\n          indexInteractif++\n        } else {\n          braces.forEach((b) => {\n            b.text = b.text.replace(`zone${k}`, '\\\\ldots')\n          })\n          indexInteractif++\n        }\n      }\n    }\n    if (barre.bottomBraces != null) {\n      const braces = barre.bottomBraces.filter((b) =>\n        b.text.includes(`zone${k}`),\n      )\n      if (braces.length > 0) {\n        if (interactif && exercice != null) {\n          braces.forEach((b) => {\n            b.text = b.text.replace(\n              `zone${k}`,\n              ajouteChampTexteMathLive(\n                exercice,\n                indexInteractif,\n                `schemaEnBoite ${KeyboardType.clavierDeBase}`,\n              ),\n            )\n            handleAnswers(exercice, indexInteractif, {\n              reponse: {\n                value: texNombre(reponses[k], 2),\n                options: { noFeedback: true },\n              },\n            })\n          })\n          indexInteractif++\n        } else {\n          braces.forEach((b) => {\n            b.text = b.text.replace(`zone${k}`, '\\\\ldots')\n          })\n          indexInteractif++\n        }\n      }\n    }\n    for (const ligne of barre.lignes) {\n      const bars = ligne.barres.filter((b) => b.content.includes(`zone${k}`))\n      if (bars.length > 0) {\n        if (interactif && exercice != null) {\n          bars.forEach((b) => {\n            b.content = b.content.replace(\n              `zone${k}`,\n              ajouteChampTexteMathLive(\n                exercice,\n                indexInteractif,\n                `schemaEnBoite ${KeyboardType.clavierDeBase}`,\n              ),\n            )\n            handleAnswers(exercice, indexInteractif, {\n              reponse: {\n                value: texNombre(reponses[k], 2),\n                options: { noFeedback: true },\n              },\n            })\n          })\n          indexInteractif++\n        } else {\n          bars.forEach((b) => {\n            b.content = b.content.replace(`zone${k}`, '\\\\ldots')\n          })\n          indexInteractif++\n        }\n      }\n    }\n  }\n  const texte = `${enonce}<br><br>\n  ${barre.display()}<br><br>`\n  return {\n    enonce: texte,\n    nextInteractif: indexInteractif,\n    correction: enonceCorr,\n  }\n}\n\nexport default class ModelisationProblemes extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.besoinFormulaireTexte = [\n      'Types de questions',\n      \"Nombres séparés par des tirets :\\n1 : Compléter le schéma\\n2 : Compléter l'énoncé\\n3 : Compléter le schéma et l'énoncé\\n4 : Mélange\",\n    ]\n    this.sup = '4'\n    this.besoinFormulaire2Texte = [\n      'Types de problèmes',\n      \"Nombres séparés par des tirets :\\n1 : Calcul de partie manquante avec comparaison\\n2 : Somme de trois parties\\n3 : Partie manquante d'une somme\\n4 : Quotient (avec reste) d'un produit de deux nombre\\n5 : Mélange\",\n    ]\n    this.sup2 = '5'\n  }\n\n  nouvelleVersion() {\n    this.consigne = `Trouver les nombres manquants dans ${this.nbQuestions > 1 ? 'ces problèmes' : 'ce problème'} afin que énoncé, réponse et schéma se correspondent.`\n    const typeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      defaut: 1,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: ['schéma', 'énoncé', 'mixte'],\n    }) as unknown as QuestionType[]\n    const typeDeProblèmes = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 1,\n      max: 4,\n      defaut: 5,\n      melange: 5,\n      nbQuestions: this.nbQuestions,\n    }).map((el) => Number(el) - 1)\n    const problèmes = [\n      [comparaisonDeuxSommes],\n      [troisAchats, triathlon, etapeDeMontagne, randonnee],\n      [unAchatParmisTrois, triathlon2, etapeDeMontagne2, randonnee2],\n      [partageEntreAmis, partageDuTemps, preparationCulinaire],\n    ]\n    const fonctions = typeDeProblèmes.map(\n      (type, i) => problèmes[type][i % problèmes[type].length],\n    )\n    let indexInteractif = 0\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const { enonce, nextInteractif, correction } = genereEnonces(\n        this,\n        typeDeQuestions[i],\n        indexInteractif,\n        fonctions[i],\n      )\n      if (this.questionJamaisPosee(i, enonce.split('?')[0])) {\n        indexInteractif = nextInteractif\n        this.listeQuestions.push(enonce)\n        this.listeCorrections.push(correction)\n        i++\n      }\n      cpt++\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","troisObjetsAVendre","objetsAPartager","troisAchats","interactif","typeQuestion","decimaux","choix","choice","prixAchat","o","randint","total","a","b","prenomData","prenoms","prenom","pronom","enonce","texNombre","barre","SchemaEnBoite","triathlon","distanceNatation","distanceVelo","distanceCourse","etapeDeMontagne","ascension1","ascension2","ascension3","premiereLettreEnMajuscule","randonnee","distance1","distance2","distance3","unAchatParmisTrois","totalInter","triathlon2","etapeDeMontagne2","randonnee2","partageEntreAmis","objet","nombreAmis","nombrePartsParObjet","nombreObjets","nombrePartsParAmi","nombrePartsRestantes","premierAvec","partageDuTemps","tempsParJour","nbJours","tempsTotal","tempsParSujet","nbSujets","tempsRestant","preparationCulinaire","nombreMoules","nombrePartsParMoule","nombrePartsParAssiette","nombreAssiettes","produit","comparaisonDeuxSommes","objets","prixAchat1","prixAchat2","objet1","prix1","objet2","prix2","argentDePrenom","reponses","genereEnonces","exercice","startInteractif","fonction","indexInteractif","zoneAQuestionner","combinaisonListes","i","ligne","bar","brace","enonceCorr","barreCorr","k","miseEnEvidence","ajouteChampTexteMathLive","handleAnswers","braces","KeyboardType","bars","ModelisationProblemes","Exercice","typeDeQuestions","gestionnaireFormulaireTexte","typeDeProblèmes","el","problèmes","fonctions","type","cpt","nextInteractif","correction"],"mappings":"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"}