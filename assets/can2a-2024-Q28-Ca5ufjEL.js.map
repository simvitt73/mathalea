{"version":3,"file":"can2a-2024-Q28-Ca5ufjEL.js","sources":["../../src/exercices/can/can2a-2024/can2a-2024-Q28.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/view/viewcan.2024.2e.test.ts ⚠️\n */\n\nimport { repere } from '../../../lib/2d/reperes'\nimport { texteParPosition } from '../../../lib/2d/textes'\nimport { texteGras } from '../../../lib/format/style'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport {\n  Spline,\n  spline,\n  type NoeudSpline,\n} from '../../../lib/mathFonctions/Spline'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { context } from '../../../modules/context'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre =\n  \"Déterminer le nombre de solution d'une équation graphiquement \"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = '27a60'\n/**\n * Modèle d'exercice très simple pour la course aux nombres\n * @author Gilles Mora\n\n*/\nexport default class NomExercice extends ExerciceSimple {\n  spline?: Spline\n  constructor() {\n    super()\n\n    this.canOfficielle = false\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.formatChampTexte = KeyboardType.clavierDeBase\n  }\n\n  nouvelleVersion() {\n    function aleatoiriseCourbe1(listeFonctions: NoeudSpline[][]) {\n      const choix = choice(listeFonctions)\n      return choix.map((noeud) =>\n        Object({\n          x: noeud.x,\n          y: noeud.y,\n          deriveeGauche: noeud.deriveeGauche,\n          deriveeDroit: noeud.deriveeDroit,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n    function aleatoiriseCourbe2(listeFonctions: NoeudSpline[][]) {\n      const coeffX = choice([-1, 1]) // choice([-1, 1]) // symétries ou pas\n      const coeffY = choice([-1, 1]) // choice([-1, 1])\n      const deltaX = randint(-2, +2) // randint(-2, +2) // translations\n      const deltaY = 0 // randint(-1, 1)// randint(-2, +2)\n      const choix = choice(listeFonctions)\n      return choix.map((noeud) =>\n        Object({\n          x: (noeud.x + deltaX) * coeffX,\n          y: (noeud.y + deltaY) * coeffY,\n          deriveeGauche: noeud.deriveeGauche * coeffX * coeffY,\n          deriveeDroit: noeud.deriveeDroit * coeffX * coeffY,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n\n    if (this.canOfficielle) {\n      const noeuds2 = [\n        { x: -6, y: -0.5, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n        {\n          x: -5,\n          y: 0,\n          deriveeGauche: 0.5,\n          deriveeDroit: 0.5,\n          isVisible: false,\n        },\n        {\n          x: -3,\n          y: 2,\n          deriveeGauche: 1.5,\n          deriveeDroit: 1.5,\n          isVisible: false,\n        },\n        { x: -2, y: 5, deriveeGauche: 0, deriveeDroit: -0.5, isVisible: false },\n        { x: 0, y: 3, deriveeGauche: -1, deriveeDroit: -1, isVisible: false },\n        { x: 1, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: false },\n        { x: 2, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: false },\n        {\n          x: 4,\n          y: -1,\n          deriveeGauche: -0.7,\n          deriveeDroit: -0.8,\n          isVisible: false,\n        },\n        { x: 6, y: -2, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      ]\n\n      const o = texteParPosition('O', -0.3, -0.3, 0, 'black', 1)\n      const maFonction = [noeuds2]\n      const nuage = aleatoiriseCourbe1(maFonction)\n      const theSpline = spline(nuage)\n      this.spline = theSpline\n      const bornes = theSpline.trouveMaxes()\n      const repere1 = repere({\n        xMin: bornes.xMin - 1,\n        xMax: bornes.xMax + 1,\n        yMin: bornes.yMin - 1,\n        yMax: bornes.yMax + 1,\n        grilleX: false,\n        grilleY: false,\n        grilleSecondaire: true,\n        grilleSecondaireYDistance: 1,\n        grilleSecondaireXDistance: 1,\n        grilleSecondaireYMin: bornes.yMin - 1,\n        grilleSecondaireYMax: bornes.yMax + 1,\n        grilleSecondaireXMin: bornes.xMin - 1,\n        grilleSecondaireXMax: bornes.xMax + 1,\n      })\n      const courbe1 = theSpline.courbe({\n        epaisseur: 1.5,\n        ajouteNoeuds: true,\n        optionsNoeuds: { color: 'blue', taille: 2, style: 'x', epaisseur: 2 },\n        color: 'blue',\n      })\n      const objetsEnonce = [repere1, courbe1]\n\n      const a = randint(-3, 4)\n      if (!context.isHtml) {\n        this.question = `Les questions ${texteGras(28)} à ${texteGras(30)} utilisent le  graphique d’une fonction $f$ tracée ci-dessous : <br>\n     `\n      } else {\n        this.question = 'On donne le  graphique d’une fonction $f$ : <br>'\n      }\n\n      this.question += mathalea2d(\n        Object.assign(\n          { pixelsParCm: 30, scale: 0.55, style: 'margin: auto' },\n          {\n            xmin: bornes.xMin - 1,\n            ymin: bornes.yMin - 1,\n            xmax: bornes.xMax + 1,\n            ymax: bornes.yMax + 1,\n          },\n        ),\n        objetsEnonce,\n        o,\n      ) // fixeBordures(objetsEnonce))\n      this.question += \"<br>Nombre de solutions de l'équation  $f(x)=2$<br>\"\n      this.correction =\n        \"Le nombre de solution de l'équation $f(x)=2$ est le nombre de points d'intersection entre la droite horizontale d'équation $y=2$ et la courbe de $f$. <br>\"\n\n      this.reponse = 2\n      this.correction += `La droite d'équation $y=${a}$ a un deux points d'intersection avec la courbe de $f$. <br>\n      Ainsi l'équation $f(x)=2$ a $${miseEnEvidence('2')}$ solutions.`\n\n      this.canEnonce = this.question // 'Compléter'\n      this.canReponseACompleter = ''\n    } else {\n      const noeuds1 = [\n        { x: -3, y: -1, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n        { x: -2, y: -3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n        { x: -1, y: -2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n        { x: 0, y: 0, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n        { x: 1, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n        { x: 2, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n        { x: 3, y: 1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      ]\n\n      const mesFonctions = [noeuds1] // noeuds3,, noeuds2\n\n      const o = texteParPosition('O', -0.3, -0.3, 0, 'black', 1)\n      const nuage = aleatoiriseCourbe2(mesFonctions)\n      const theSpline = spline(nuage)\n      this.spline = theSpline\n      const bornes = theSpline.trouveMaxes()\n      const repere1 = repere({\n        xMin: bornes.xMin - 1,\n        xMax: bornes.xMax + 1,\n        yMin: bornes.yMin - 1,\n        yMax: bornes.yMax + 1,\n        grilleX: false,\n        grilleY: false,\n        grilleSecondaire: true,\n        grilleSecondaireYDistance: 1,\n        grilleSecondaireXDistance: 1,\n        grilleSecondaireYMin: bornes.yMin - 1,\n        grilleSecondaireYMax: bornes.yMax + 1,\n        grilleSecondaireXMin: bornes.xMin - 1,\n        grilleSecondaireXMax: bornes.xMax + 1,\n      })\n      const courbe2 = theSpline.courbe({\n        epaisseur: 1.5,\n        ajouteNoeuds: true,\n        optionsNoeuds: { color: 'blue', taille: 2, style: 'x', epaisseur: 2 },\n        color: 'blue',\n      })\n      const objetsEnonce = [repere1, courbe2]\n\n      const a = randint(-3, 4)\n\n      this.question =\n        `On donne le graphique d’une fonction $f$ : <br>\n      ` +\n        mathalea2d(\n          Object.assign(\n            { pixelsParCm: 30, scale: 0.55, style: 'margin: auto' },\n            {\n              xmin: bornes.xMin - 1,\n              ymin: bornes.yMin - 1,\n              xmax: bornes.xMax + 1,\n              ymax: bornes.yMax + 1,\n            },\n          ),\n          objetsEnonce,\n          o,\n        ) // fixeBordures(objetsEnonce))\n      this.question += `<br>Donner le nombre de solutions de l'équation  $f(x)=${a}$.<br>`\n      this.correction = `Le nombre de solution de l'équation $f(x)=${a}$ est le nombre de points d'intersection entre la droite d'équation $y=${a}$ et la courbe de $f$. <br>`\n\n      this.correction = `Le nombre de solution de l'équation $f(x)=${a}$ est le nombre de points d'intersection entre la droite d'équation $y=${a}$ et la courbe de $f$. <br>`\n      if (a === -3 || a === 3 || a === 0) {\n        this.reponse = 1\n        this.correction += `La droite horizontale d'équation $y=${a}$ a un seul point d'intersection avec la courbe de $f$. <br>\n        Ainsi l'équation $f(x)=${a}$ a $${miseEnEvidence(1)}$ solution.`\n      }\n      if (a === -2 || a === -1 || a === 1 || a === 2) {\n        this.reponse = 2\n        this.correction += `La droite horizontale d'équation $y=${a}$ a deux points d'intersection avec la courbe de $f$. <br>\n          Ainsi l'équation $f(x)=${a}$ a $${miseEnEvidence(2)}$ solutions.`\n      }\n      if (a === 4) {\n        this.reponse = 0\n        this.correction += `La droite horizontale d'équation $y=${a}$ n'a aucun point d'intersection avec la courbe de $f$. <br>\n          Ainsi l'équation $f(x)=${a}$ a $${miseEnEvidence(0)}$ solution.`\n      }\n      this.optionsChampTexte = { texteApres: ' solution(s)' }\n      this.canEnonce = this.question // 'Compléter'\n      this.canReponseACompleter = '$\\\\ldots$ solution(s)'\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","NomExercice","ExerciceSimple","__publicField","KeyboardType","aleatoiriseCourbe1","listeFonctions","choice","noeud","aleatoiriseCourbe2","coeffX","coeffY","deltaX","randint","deltaY","noeuds2","o","texteParPosition","nuage","theSpline","spline","bornes","repere1","repere","courbe1","objetsEnonce","a","context","texteGras","mathalea2d","miseEnEvidence","mesFonctions","courbe2"],"mappings":"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"}