{"version":3,"file":"canTSpeAN01-swqWLXt5.js","sources":["../../src/exercices/can/TSpe/canTSpeAN01.ts"],"sourcesContent":["import Exercice from '../../Exercice'\nimport { choice, combinaisonListes } from '../../../lib/outils/arrayOutils'\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\n\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../../modules/outils'\n\nexport const titre = 'Exprimer en fonction de log(n) ou ln(n)'\nexport const dateDePublication = '22/7/2024'\nexport const uuid = 'ae1a7'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const refs = {\n  'fr-fr': ['canTSpeAN01'],\n  'fr-ch': [],\n}\n\n/**\n * Exprimer un nombre en fonction de ln(2), ln(3), ln(5)...\n * @author  Jean-Claude Lhote\n\n */\nexport default class ExpressionsLog extends Exercice {\n  version: string\n  constructor() {\n    super()\n    this.version = 'ln'\n    this.nbQuestions = 1\n    this.spacingCorr = 3\n    this.besoinFormulaireCaseACocher = ['Type de logarithme', false]\n    this.comment =\n      \"Exercice de simplification d'expressions avec des logarithmes\"\n  }\n\n  nouvelleVersion() {\n    if (this.sup) this.version = 'ln'\n    else this.version = 'log'\n    const logString = this.version !== 'ln' ? '\\\\log' : '\\\\ln'\n\n    const listeTypeQuestions = combinaisonListes([1, 2, 3, 4], this.nbQuestions)\n    const listeDeA = combinaisonListes([2, 3, 5], this.nbQuestions)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const a = listeDeA[i]\n      let texte: string\n      let texteCorr: string\n      let answer: string\n      let k: number | FractionEtendue\n      const n =\n        a === 2 ? randint(2, 8) : a === 3 ? randint(2, 5) : randint(2, 4)\n\n      if (listeTypeQuestions[i] === 1) {\n        // log(a^n)\n        k = 1\n        texte = `${logString} ${a ** n}`\n        texteCorr = `$${texte}=${logString} ${a}^${n}=${n}${logString} ${a}$`\n        answer = `${n}${logString}(${a})`\n      } else if (listeTypeQuestions[i] === 2) {\n        // log (1/a^n)\n        k = 1\n        texte = `${logString} \\\\dfrac{1}{${a ** n}}`\n        texteCorr = `$${texte}=${logString}(${a}^{-${n}})=${-n}${logString} ${a}$`\n        answer = `${-n}${logString}(${a})`\n      } else if (listeTypeQuestions[i] === 3) {\n        // klog(a^n)\n        k = choice([true, false])\n          ? randint(2, 5)\n          : new FractionEtendue(1, randint(1, 3) * n)\n        texte =\n          k instanceof FractionEtendue\n            ? `${k.texFraction}${logString} ${a ** n}`\n            : `${k}${logString} ${a ** n}`\n\n        texteCorr =\n          k instanceof FractionEtendue\n            ? `$${texte}=${k.texFraction}${logString} ${a}^${n}=${k.multiplieEntier(n).texFraction}${logString} ${a}=${k.multiplieEntier(n).texFractionSimplifiee}${logString} ${a}$`\n            : `$${texte}=${k}${logString} ${a}^${n}=${k}\\\\times ${n}${logString} ${a}=${k * n}${logString} ${a}$`\n        answer =\n          k instanceof FractionEtendue\n            ? `${k.multiplieEntier(n).texFractionSimplifiee}${logString} ${a}`\n            : `${k * n}${logString}(${a})`\n      } else {\n        // klog(1/a^n)\n        k = choice([true, false])\n          ? randint(2, 5)\n          : new FractionEtendue(1, randint(1, 3) * n)\n        texte =\n          k instanceof FractionEtendue\n            ? `${k.texFraction}${logString} \\\\dfrac{1}{${a ** n}}`\n            : `${k}${logString} \\\\dfrac{1}{${a ** n}}`\n\n        texteCorr =\n          k instanceof FractionEtendue\n            ? `$${texte}=${k.texFraction}${logString} ${a}^{${-n}}=${k.multiplieEntier(-n).texFraction}${logString} ${a}=${k.multiplieEntier(-n).texFractionSimplifiee}${logString} ${a}$`\n            : `$${texte}=${k}${logString} ${a}^{${-n}}=${-n}\\\\times ${k}${logString} ${a}=${-k * n}${logString} ${a}$`\n        answer =\n          k instanceof FractionEtendue\n            ? `${k.multiplieEntier(-n).texFractionSimplifiee}${logString} ${a}`\n            : `${-k * n}${logString}(${a})`\n      } // exponentiation\n      // on reprend la correction pour mettre me dernier membre en évidence.\n      const chunks = texteCorr.split('=')\n      const lastChunk = chunks[chunks.length - 1]\n      chunks[chunks.length - 1] =\n        miseEnEvidence(lastChunk.substring(0, lastChunk.length - 1)) + '$'\n      texteCorr = chunks.join('=')\n      // et voilà, c'est fait pour toute les corrections.\n      if (\n        this.questionJamaisPosee(\n          i,\n          n,\n          listeTypeQuestions[i],\n          k instanceof FractionEtendue ? k.texFraction : k,\n        )\n      ) {\n        texte =\n          `Exprimer en fonction de $${logString} ${a}$ le nombre suivant  : ` +\n          `$${texte}$` // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        if (this.interactif) {\n          texte += ajouteChampTexteMathLive(\n            this,\n            i,\n            KeyboardType.clavierFonctionsTerminales,\n            { texteAvant: '=' },\n          )\n          handleAnswers(this, i, { reponse: { value: answer } })\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","interactifReady","interactifType","refs","ExpressionsLog","Exercice","__publicField","logString","listeTypeQuestions","combinaisonListes","listeDeA","i","cpt","a","texte","texteCorr","answer","k","n","randint","choice","FractionEtendue","chunks","lastChunk","miseEnEvidence","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}