{"version":3,"file":"3S21-BZ1rjoU3.js","sources":["../../src/exercices/3e/3S21.ts"],"sourcesContent":["import { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport {\n  numAlpha,\n  premiereLettreEnMajuscule,\n} from '../../lib/outils/outilString'\nimport { Arbre } from '../../modules/arbres'\nimport { fraction } from '../../modules/fractions'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { texFractionFromString } from '../../lib/outils/deprecatedFractions'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\n\nexport const titre =\n  'Simuler une expérience aléatoire à deux épreuves (indépendantes ou avec remise)'\nexport const dateDePublication = '15/01/2022'\nexport const dateDeModifImportante = '20/06/2024'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * On doit calculer la probabilité qu'un événement se réalise après une expérience aléatoire à deux épreuves\n * @author Jean-Claude Lhote\n */\nexport const uuid = '76230'\n\nexport const refs = {\n  'fr-fr': ['3S21'],\n  'fr-ch': ['11NO2-14'],\n}\nexport default class CalculProbaExperience2Epreuves3e extends Exercice {\n  niveau = '3eme'\n  constructor() {\n    super()\n\n    this.besoinFormulaireTexte = [\n      'Type de questions : ',\n      'Nombres séparés par des tirets :\\n1 : Deux épreuves indépendantes\\n2 : Deux épreuves avec remise\\n3 : Mélange',\n    ]\n    this.niveau = '3eme'\n    this.sup = 1\n    this.sup2 = false\n\n    this.nbQuestions = 1\n    this.spacing = context.isHtml ? 2 : 1.5\n    this.spacingCorr = context.isHtml ? 2 : 1.5\n  }\n\n  nouvelleVersion() {\n    const QuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      nbQuestions: this.nbQuestions,\n      min: 1,\n      // max: this.niveau === '3eme' ? 2 : 3,\n      // melange: this.niveau === '3eme' ? 3 : 4,\n      max: this.niveau === '3eme' ? 2 : 2,\n      melange: this.niveau === '3eme' ? 3 : 3,\n      defaut: 1,\n      shuffle: false,\n    })\n\n    for (\n      let i = 0, cpt = 0, NoQuestion = 0, question;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      switch (QuestionsDisponibles[i]) {\n        case 1:\n          question = unePieceDeuxUrnes(\n            this,\n            NoQuestion,\n            this.sup2 && this.niveau === '2nde',\n            false,\n            true,\n            this.niveau,\n          )\n          break\n        case 2:\n        default:\n          question = urneDeuxTiragesAvecRemise(\n            this,\n            NoQuestion,\n            this.sup2 && this.niveau === '2nde',\n            false,\n            this.niveau,\n          )\n          break\n      }\n      if (this.questionJamaisPosee(i, ...question.alea)) {\n        this.listeQuestions[i] = question.texte\n        this.listeCorrections[i] = question.texteCorr\n        NoQuestion = question.NoQuestion\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\n// On Tire à pile ou face pour choisir une urne puis on tire une boule.\nfunction unePieceDeuxUrnes(\n  exercice: Exercice,\n  NoQuestion: number,\n  avecArbreDansCorrection: boolean,\n  avecArbrePondere: boolean,\n  repartitionDesBoules: boolean,\n  niveau = '3ene',\n) {\n  const p = []\n  const choix1 = randint(0, 2)\n  const choix2 = randint(0, 2, choix1)\n  let nombres1, nombres2, n1, n2, urne1, urne2, texte, texteCorr\n  if (!repartitionDesBoules) {\n    nombres1 = choice([\n      [1, 2, 3],\n      [1, 1, 2],\n      [1, 2, 2],\n      [1, 1, 3],\n    ])\n    nombres2 = choice([\n      [1, 2, 3],\n      [1, 1, 2],\n      [1, 2, 2],\n      [1, 1, 3],\n    ])\n  } else {\n    nombres1 = [1, 2, 3]\n    nombres2 = [1, 2, 3]\n  }\n  const B = ['B', 'R', 'V']\n  const boules = ['bleue', 'rouge', 'verte']\n  do {\n    n1 = shuffle(nombres1)\n    n2 = shuffle(nombres2)\n  } while (n1[0] === n2[0] && n1[1] === n2[1])\n  const card1 = n1[0] + n1[1] + n1[2]\n  const card2 = n2[0] + n2[1] + n2[2]\n  if (avecArbrePondere) {\n    urne1 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Pile',\n      proba: fraction(1, 2),\n      visible: true,\n      alter: '',\n      enfants: [],\n    })\n    urne2 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Face',\n      proba: fraction(1, 2),\n      visible: true,\n      alter: '',\n      enfants: [],\n    })\n    for (let j = 0; j < 3; j++) {\n      urne1.enfants.push(\n        new Arbre({\n          nom: B[j],\n          proba: fraction(n1[j], card1),\n          rationnel: true,\n          visible: true,\n        }),\n      )\n    }\n    for (let j = 0; j < 3; j++) {\n      urne2.enfants.push(\n        new Arbre({\n          nom: B[j],\n          proba: fraction(n2[j], card2),\n          rationnel: true,\n          visible: true,\n        }),\n      )\n    }\n  } else {\n    urne1 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Pile',\n      proba: fraction(1, 2),\n      visible: false,\n      alter: '',\n      enfants: [],\n    })\n    urne2 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Face',\n      proba: fraction(1, 2),\n      visible: false,\n      alter: '',\n      enfants: [],\n    })\n    for (let j = 0; j < 3; j++) {\n      for (let b = 0; b < n1[j]; b++) {\n        urne1.enfants.push(\n          new Arbre({\n            nom: B[j],\n            proba: fraction(1, card1),\n            rationnel: true,\n            visible: false,\n          }),\n        )\n      }\n    }\n    for (let j = 0; j < 3; j++) {\n      for (let b = 0; b < n2[j]; b++) {\n        urne2.enfants.push(\n          new Arbre({\n            nom: B[j],\n            proba: fraction(1, card2),\n            rationnel: true,\n            visible: false,\n          }),\n        )\n      }\n    }\n  }\n\n  // On définit l'arbre complet\n  const omega = new Arbre({\n    racine: true,\n    rationnel: true,\n    nom: '',\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: [urne1, urne2],\n  })\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(\n    0,\n    11,\n    0,\n    avecArbrePondere ? 2.5 : 1.2,\n    false,\n    -1,\n    6,\n  ) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  for (let j = 0; j < 3; j++) {\n    p[j] = omega.getProba(B[j]) // on calcule P(C) décimale.\n  }\n  texte = 'On lance une pièce équilibrée.<br>'\n  texte +=\n    'Si la pièce tombe sur «Pile», on tire une boule dans une urne contenant '\n  for (let j = 0; j < 2; j++) {\n    texte += `${n1[j]} boule${n1[j] > 1 ? 's' : ''} ${boules[j]}${n1[j] > 1 ? 's' : ''}, `\n  }\n  texte += ` et ${n1[2]} boule${n1[2] > 1 ? 's' : ''} ${boules[2]}${n1[2] > 1 ? 's' : ''}.<br>`\n  texte +=\n    'Si la pièce tombe sur «Face», on tire une boule dans une urne contenant '\n  for (let j = 0; j < 2; j++) {\n    texte += `${n2[j]} boule${n2[j] > 1 ? 's' : ''} ${boules[j]}${n2[j] > 1 ? 's' : ''}, `\n  }\n  texte += ` et ${n2[2]} boule${n2[2] > 1 ? 's' : ''} ${boules[2]}${n2[2] > 1 ? 's' : ''}.<br>`\n  texteCorr = ''\n  if (avecArbreDansCorrection && !avecArbrePondere) {\n    texteCorr += \"On a représenté l'expérience par l'arbre ci-dessous :<br>\"\n    texteCorr +=\n      mathalea2d(\n        { xmin: -0.1, xmax: 16, ymin: 0, ymax: 12, zoom: 1.3, scale: 0.5 },\n        ...objets,\n      ) + '<br>'\n    texteCorr += `Légende : ${B[0]} = ${boules[0]} ; ${B[1]} = ${boules[1]} ; ${B[2]} = ${boules[2]}<br>`\n  }\n  let q = 0\n  if (!exercice.interactif && !context.isAmc) {\n    texte += `${numAlpha(q)} Construire un tableau à double entrée des issues de cette expérience aléatoire.<br>`\n    q++\n  }\n  const pileOuFace = choice(['Pile', 'Face'])\n  const nbBouleC = pileOuFace === 'Pile' ? n1[choix1] : n2[choix1]\n  const card = pileOuFace === 'Pile' ? card1 : card2\n  const proba1 = fraction(nbBouleC, card)\n  const proba2 = fraction(n1[choix2] + n2[choix2], card1 + card2)\n  const urne = pileOuFace === 'Pile' ? 'première' : 'deuxième'\n  texte +=\n    `${numAlpha(q)} La pièce vient de tomber sur «${pileOuFace}». Donner la probabilité d'obtenir une boule ${boules[choix1]}.` +\n    ajouteChampTexteMathLive(\n      exercice,\n      NoQuestion,\n      KeyboardType.clavierDeBaseAvecFraction,\n    ) +\n    '<br>'\n  q++\n  texte +=\n    `${numAlpha(q)} On recommence l'expérience au début. Donner la probabilité d'obtenir une boule ${boules[choix2]}.` +\n    ajouteChampTexteMathLive(\n      exercice,\n      NoQuestion + 1,\n      KeyboardType.clavierDeBaseAvecFraction,\n    ) +\n    '<br>'\n  q++\n  const ligneEnt = ['\\\\text{Pièce\\\\textbackslash Boules}']\n  const colonneEnt = ['\\\\text{Pile}', '\\\\text{Face}']\n  const contenu = []\n  for (let i = 0; i < 3; i++) {\n    ligneEnt.push(`\\\\text{${boules[i]}}`)\n    contenu.push(n1[i])\n  }\n  for (let i = 0; i < 3; i++) {\n    contenu.push(n2[i])\n  }\n\n  const tableau = tableauColonneLigne(ligneEnt, colonneEnt, contenu)\n  q = 0\n  if (!exercice.interactif && !context.isAmc) {\n    texteCorr += `${numAlpha(q)}`\n    q++\n  }\n  texteCorr += ` L'issue «Pile-${boules[0]}» peut être obtenue de ${n1[0]} façon${n1[0] > 1 ? 's' : ''} et l'issue «Pile-${boules[1]}» peut être obtenue de ${n1[1]} façon${n1[1] > 1 ? 's' : ''}.<br>`\n  texteCorr +=\n    'Voici un tableau à double entrée qui représente toutes les issues de cette expérience.<br>'\n  texteCorr += tableau + '<br>'\n  texteCorr += `${numAlpha(q)} Comme on a fait «${pileOuFace}», on va tirer une boule dans la ${urne} urne où il y a ${nbBouleC} boule${nbBouleC > 1 ? 's' : ''} ${boules[choix1]}${nbBouleC > 1 ? 's' : ''} parmi ${card} boules.<br>`\n  if (!context.isAmc)\n    setReponse(exercice, NoQuestion, proba1, {\n      formatInteractif: 'fractionEgale',\n    })\n  q++\n  texteCorr += `La probabilité de cet événement est donc de $${!proba1.estIrreductible ? proba1.texFraction + '=' + miseEnEvidence(proba1.texFractionSimplifiee) : miseEnEvidence(proba1.texFraction)}$.<br>`\n  texteCorr += `${numAlpha(q)} `\n  texteCorr +=\n    niveau === '2nde'\n      ? \"Il y a équiprobabilité entre toutes les issues du tableau car, d'une part, la pièce est équilibrée et, d'autre part, chaque urne contient 6 boules.<br>\"\n      : ''\n  texteCorr += `Il y a ${n1[choix2] + n2[choix2]} issues avec une boule ${boules[choix2]} parmi ${card1 + card2} issues en tout. La probabilité de cet événement est donc de $${!proba2.estIrreductible ? proba2.texFraction + '=' + miseEnEvidence(proba2.texFractionSimplifiee) : miseEnEvidence(proba2.texFraction)}$.<br>`\n  if (!context.isAmc)\n    setReponse(exercice, NoQuestion + 1, proba2, {\n      formatInteractif: 'fractionEgale',\n    })\n\n  return { texte, texteCorr, alea: [...n1, ...n2], NoQuestion: NoQuestion + 2 }\n}\n\n// On tire deux boules dans une urne avec remise\nfunction urneDeuxTiragesAvecRemise(\n  exercice: Exercice,\n  NoQuestion: number,\n  avecArbreDansCorrection: boolean,\n  avecUnArbre: boolean,\n  niveau = '2nde',\n) {\n  // tirage dans une urne avec remise\n  const [b1Color, b2Color] = shuffle([\n    'bleue',\n    'rouge',\n    'verte',\n    'orange',\n    'noire',\n    'jaune',\n  ]).splice(0, 2)\n\n  const b1Char = premiereLettreEnMajuscule(b1Color.charAt(0))\n  const b2Char = premiereLettreEnMajuscule(b2Color.charAt(0))\n  const nbBoule1 = randint(1, 3)\n  const nbBoule2 = nbBoule1 === 1 ? randint(2, 4) : randint(1, 3, nbBoule1)\n  const ligneEnt = ['\\\\text{Tirage1\\\\textbackslash Tirage2}']\n  const colonneEnt = []\n  const contenu = []\n  const card = nbBoule1 + nbBoule2\n  const tirage1 = []\n  for (let i = 0; i < nbBoule1; i++) {\n    tirage1.push(\n      new Arbre({\n        nom: `${b1Char}`,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfants: [],\n        racine: false,\n      }),\n    )\n    for (let j = 0; j < nbBoule1; j++) {\n      tirage1[i].enfants.push(\n        new Arbre({\n          nom: `${b1Char} `,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n    for (let j = 0; j < nbBoule2; j++) {\n      tirage1[i].enfants.push(\n        new Arbre({\n          nom: `${b2Char}`,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n  }\n\n  for (let i = 0; i < nbBoule2; i++) {\n    tirage1.push(\n      new Arbre({\n        nom: `${b2Char}`,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfants: [],\n        racine: false,\n      }),\n    )\n    for (let j = 0; j < nbBoule1; j++) {\n      tirage1[i + nbBoule1].enfants.push(\n        new Arbre({\n          nom: `${b1Char} `,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n    for (let j = 0; j < nbBoule2; j++) {\n      tirage1[i + nbBoule1].enfants.push(\n        new Arbre({\n          nom: `${b2Char} `,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n  }\n  const omega = new Arbre({\n    nom: '',\n    rationnel: true,\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: tirage1,\n    racine: true,\n  })\n\n  for (let i = 0; i < 2; i++) {\n    ligneEnt.push(\n      `${i === 0 ? '\\\\text{' + b1Color + '}' : '\\\\text{' + b2Color + '}'}`,\n    )\n    colonneEnt.push(\n      `${i === 0 ? '\\\\text{' + b1Color + '}' : '\\\\text{' + b2Color + '}'}`,\n    )\n    for (let j = 0; j < 2; j++) {\n      contenu.push(\n        (i === 0 ? nbBoule1 : nbBoule2) * (j === 0 ? nbBoule1 : nbBoule2),\n      )\n    }\n  }\n  const tableau = tableauColonneLigne(ligneEnt, colonneEnt, contenu)\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(\n    0,\n    12,\n    0,\n    avecUnArbre ? 2.5 : 1.6,\n    false,\n    -1,\n    6,\n  ) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  const choix = choice([\n    [nbBoule1, b1Color, b1Char],\n    [nbBoule2, b2Color, b2Char],\n  ]) as [number, string, string]\n  const probaChoix = fraction(choix[0] ** 2, card ** 2)\n  const proba1 = fraction(nbBoule1 ** 2, card ** 2)\n  const proba2 = fraction(nbBoule2 ** 2, card ** 2)\n  const proba1et2 = proba1.sommeFraction(proba2)\n  const proba3 = fraction(nbBoule1 * nbBoule2, card ** 2)\n  const proba4 = proba3.multiplieEntier(2)\n  let texte = `Dans une urne, il y a ${nbBoule1} boule${nbBoule1 > 1 ? 's' : ''} ${b1Color}${nbBoule1 > 1 && b1Char !== 'O' ? 's' : ''} et ${nbBoule2} boule${nbBoule2 > 1 ? 's' : ''} ${b2Color}${nbBoule2 > 1 && b2Char !== 'O' ? 's' : ''} indiscernables au toucher.<br>`\n  texte += 'On tire successivement et avec remise deux boules.<br>'\n  texte +=\n    `${numAlpha(0)} Déterminer la probabilité d'obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}.` +\n    ajouteChampTexteMathLive(\n      exercice,\n      NoQuestion,\n      KeyboardType.clavierDeBaseAvecFraction,\n    ) +\n    '<br>'\n  texte +=\n    `${numAlpha(1)} Déterminer la probabilité d'obtenir deux boules de la même couleur.` +\n    ajouteChampTexteMathLive(\n      exercice,\n      NoQuestion + 1,\n      KeyboardType.clavierDeBaseAvecFraction,\n    ) +\n    '<br>'\n  texte +=\n    `${numAlpha(2)} Déterminer la probabilité d'obtenir deux boules de couleurs différentes.` +\n    ajouteChampTexteMathLive(\n      exercice,\n      NoQuestion + 2,\n      KeyboardType.clavierDeBaseAvecFraction,\n    ) +\n    '<br>'\n  let texteCorr = `L'issue «${b1Color}-${b1Color}» peut être obtenue de ${contenu[0]} façon${contenu[0] > 1 ? 's' : ''} et l'issue «${b1Color}-${b2Color}» peut être obtenue de ${contenu[1]} façon${contenu[1] > 1 ? 's' : ''}.<br>`\n  texteCorr +=\n    'Voici un tableau à double entrée qui représente toutes les issues de cette expérience.<br><br>'\n  texteCorr += tableau + '<br><br>'\n  if (avecArbreDansCorrection) {\n    texteCorr +=\n      \"On peut aussi présenter les deux épreuves sous la forme d'un arbre de dénombrement :<br>\"\n    texteCorr +=\n      mathalea2d(\n        {\n          xmin: 0,\n          xmax: card * 8.5,\n          ymin: 0,\n          ymax: 13,\n          zoom: 0.8,\n          scale: 9 / card / card,\n        },\n        ...objets,\n      ) + '<br>'\n    texteCorr += `Légende : ${b1Char} = ${b1Color} et ${b2Char} = ${b2Color}.<br>`\n  }\n  texteCorr += `${numAlpha(0)} L'événement «obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}» est réalisé par l'issue {${choix[2] + choix[2]}}.`\n  texteCorr += ` On comptabilise ${choix[0] ** 2} issues {${choix[2] + choix[2]}} parmi ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${!probaChoix.estIrreductible ? probaChoix.texFraction + '=' + miseEnEvidence(probaChoix.texFractionSimplifiee) : miseEnEvidence(probaChoix.texFraction)}$.<br>`\n  texteCorr += `${numAlpha(1)} L'événement «obtenir deux boules de la même couleur» est réalisé par les issues {${b1Char + b1Char}, ${b2Char + b2Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 ** 2} issues {${b1Char + b1Char}} et   ${nbBoule2 ** 2} issues {${b2Char + b2Char}} parmi ${card ** 2} issues en tout.<br>`\n  texteCorr += 'La probabilité de cet événement est donc de : '\n  texteCorr +=\n    niveau === '2nde'\n      ? `$${proba1.texFraction}+${proba2.texFraction}`\n      : `$${texFractionFromString(nbBoule1 ** 2 + '+' + nbBoule2 ** 2, card ** 2)}`\n  texteCorr += `=${!proba1et2.estIrreductible ? proba1et2.texFraction + '=' + miseEnEvidence(proba1et2.texFractionSimplifiee) : miseEnEvidence(proba1et2.texFraction)}$.<br>`\n\n  texteCorr += `${numAlpha(2)} L'événement «obtenir deux boules de couleurs différentes» est réalisé par les issues {${b1Char + b2Char}, ${b2Char + b1Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 * nbBoule2} issues {${b1Char + b2Char}} et autant d'issues {${b2Char + b1Char}} parmi ${card ** 2} issues en tout.<br>`\n  texteCorr += 'La probabilité de cet événement est donc de : $'\n  texteCorr +=\n    niveau === '2nde'\n      ? `2\\\\times ${proba3.texFraction}`\n      : texFractionFromString(\n          nbBoule1 * nbBoule2 + '+' + nbBoule1 * nbBoule2,\n          card ** 2,\n        )\n  texteCorr += `=${!proba4.estIrreductible ? proba4.texFraction + '=' + miseEnEvidence(proba4.texFractionSimplifiee) : miseEnEvidence(proba4.texFraction)}$.<br>`\n  texteCorr += `Une autre façon de faire est de considérer que c'est l'événement contraire de «obtenir deux boules de la même couleur» dont on a calculé la probabilité à la question ${numAlpha(1)}.<br>`\n  texteCorr += `On peut donc calculer la probabilité de cet événement en calculant : $1 -${proba1et2.texFractionSimplifiee} = ${miseEnEvidence(proba1et2.entierMoinsFraction(1).texFractionSimplifiee)}$.`\n  if (!context.isAmc)\n    setReponse(exercice, NoQuestion, probaChoix, {\n      formatInteractif: 'fractionEgale',\n    })\n  if (!context.isAmc)\n    setReponse(exercice, NoQuestion + 1, proba1et2, {\n      formatInteractif: 'fractionEgale',\n    })\n  if (!context.isAmc)\n    setReponse(exercice, NoQuestion + 2, proba4, {\n      formatInteractif: 'fractionEgale',\n    })\n\n  return {\n    texte,\n    texteCorr,\n    alea: [nbBoule1, nbBoule2, b1Char, b2Char],\n    NoQuestion: NoQuestion + 3,\n  }\n}\n\n// On tire deux boules dans une urne sans remise\n/*\nfunction urneDeuxTiragesSansRemise (exercice, NoQuestion, avecArbreDansCorrection, sup2) { // tirage dans une urne avec remise\n  const [b1Color, b2Color] = shuffle(['bleue', 'rouge', 'verte', 'orange', 'noire', 'jaune']).splice(0, 2)\n\n  const b1Char = premiereLettreEnMajuscule(b1Color.charAt(0))\n  const b2Char = premiereLettreEnMajuscule(b2Color.charAt(0))\n  const nbBoule1 = randint(2, 3)\n  const nbBoule2 = randint(2, 3, nbBoule1)\n  const ligneEnt = ['\\\\text{Tirage1\\\\textbackslash Tirage2}']\n  const colonneEnt = []\n  const contenu = []\n  const card = nbBoule1 + nbBoule2\n  const tirage1 = []\n  for (let i = 0; i < nbBoule1; i++) {\n    tirage1.push(new Arbre({\n      nom: `${b1Char}`,\n      rationnel: true,\n      proba: fraction(1, card),\n      visible: false,\n      alter: '',\n      enfant: [],\n      racine: false\n    }))\n    for (let j = 0; j < nbBoule1 - 1; j++) {\n      tirage1[i].enfants.push(new Arbre({\n        nom: `${b1Char} `,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfant: [],\n        racine: false\n      }))\n    }\n    for (let j = 0; j < nbBoule2; j++) {\n      tirage1[i].enfants.push(new Arbre({\n        nom: `${b2Char}`,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfant: [],\n        racine: false\n      }))\n    }\n  }\n\n  for (let i = 0; i < nbBoule2; i++) {\n    tirage1.push(new Arbre({\n      nom: `${b2Char}`,\n      rationnel: true,\n      proba: fraction(1, card),\n      visible: false,\n      alter: '',\n      enfant: [],\n      racine: false\n    }))\n    for (let j = 0; j < nbBoule1; j++) {\n      tirage1[i + nbBoule1].enfants.push(new Arbre({\n        nom: `${b1Char} `,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfant: [],\n        racine: false\n      }))\n    }\n    for (let j = 0; j < nbBoule2 - 1; j++) {\n      tirage1[i + nbBoule1].enfants.push(new Arbre({\n        nom: `${b2Char} `,\n        rationnel: true,\n        proba: fraction(1, card),\n        visible: false,\n        alter: '',\n        enfant: [],\n        racine: false\n      }))\n    }\n  }\n  const omega = new Arbre({\n    nom: '',\n    rationnel: true,\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: tirage1,\n    racine: true\n  })\n\n  for (let i = 0; i < 2; i++) {\n    ligneEnt.push(`${i === 0 ? '\\\\text{' + b1Color + '}' : '\\\\text{' + b2Color + '}'}`)\n    colonneEnt.push(`${i === 0 ? '\\\\text{' + b1Color + '}' : '\\\\text{' + b2Color + '}'}`)\n    for (let j = 0; j < 2; j++) {\n      contenu.push(i === 0 ? (j === 0 ? (nbBoule1 - 1) * nbBoule1 : nbBoule1 * nbBoule2) : (j === 0 ? nbBoule1 * nbBoule2 : nbBoule2 * (nbBoule2 - 1)))\n    }\n  }\n\n  const tableau = tableauColonneLigne(ligneEnt, colonneEnt, contenu)\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(0, 12, 0, sup2 ? 2.5 : 1.6, false, -1, 6) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  const choix = choice([[nbBoule1, b1Color, b1Char], [nbBoule2, b2Color, b2Char]])\n  const probaChoix = fraction(choix[0] ** 2 - choix[0], card ** 2 - card)\n  const proba1 = fraction(nbBoule1 ** 2 - nbBoule1, card ** 2 - card)\n  const proba2 = fraction(nbBoule2 ** 2 - nbBoule2, card ** 2 - card)\n  const proba1et2 = proba1.sommeFraction(proba2)\n  const proba3 = fraction(nbBoule1 * nbBoule2, card ** 2 - card)\n  const proba4 = proba3.multiplieEntier(2)\n  let texte = `Dans une urne, il y a ${nbBoule1} boule${nbBoule1 > 1 ? 's' : ''} ${b1Color}${nbBoule1 > 1 && b1Char !== 'O' ? 's' : ''} et ${nbBoule2} boule${nbBoule2 > 1 ? 's' : ''} ${b2Color}${nbBoule2 > 1 && b2Char !== 'O' ? 's' : ''} indiscernables au toucher.<br>`\n  texte += 'On tire successivement et sans remise deux boules.<br>'\n  texte += `${numAlpha(0)} Déterminer la probabilité d'obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}.` + ajouteChampTexteMathLive(exercice, NoQuestion, KeyboardType.clavierDeBaseAvecFraction) + '<br>'\n  texte += `${numAlpha(1)} Déterminer la probabilité d'obtenir deux boules de la même couleur.` + ajouteChampTexteMathLive(exercice, NoQuestion + 1, KeyboardType.clavierDeBaseAvecFraction) + '<br>'\n  texte += `${numAlpha(2)} Déterminer la probabilité d'obtenir deux boules de couleurs différentes.` + ajouteChampTexteMathLive(exercice, NoQuestion + 2, KeyboardType.clavierDeBaseAvecFraction) + '<br>'\n  let texteCorr = `L'issue «${b1Color}-${b1Color}» peut être obtenue de ${contenu[0]} façon${contenu[0] > 1 ? 's' : ''} et l'issue «${b1Color}-${b2Color}» peut être obtenue de ${contenu[1]} façon${contenu[1] > 1 ? 's' : ''}.<br>`\n  texteCorr += 'On a représenté les issues de l\\'expérience par le tableau ci-dessous :<br><br>'\n  texteCorr += tableau + '<br><br>'\n  if (avecArbreDansCorrection) {\n    texteCorr += 'On peut aussi présenter les issues sous la forme d\\'un arbre de dénombrement :<br>'\n    texteCorr += mathalea2d({\n      xmin: 0,\n      xmax: card * 8.5,\n      ymin: 0,\n      ymax: 13,\n      zoom: 0.8,\n      scale: 9 / card / card\n    }, ...objets) + '<br>'\n    texteCorr += `Légende : ${b1Char} = ${b1Color} et ${b2Char} = ${b2Color}.<br>`\n  }\n  texteCorr += `${numAlpha(0)} L'événement «obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}» est réalisé par l'issue {${choix[2] + choix[2]}}.`\n  texteCorr += ` On comptabilise ${choix[0] ** 2 - choix[0]} issues {${choix[2] + choix[2]}} parmi ${card ** 2 - card} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${!probaChoix.estIrreductible ? probaChoix.texFraction + '=' + miseEnEvidence(probaChoix.texFractionSimplifiee) : miseEnEvidence(probaChoix.texFraction)}$.<br>`\n  texteCorr += `${numAlpha(1)} L'événement «obtenir deux boules de la même couleur» est réalisé par les issues {${b1Char + b1Char}, ${b2Char + b2Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 ** 2 - nbBoule1} issues {${b1Char + b1Char}} et   ${nbBoule2 ** 2 - nbBoule2} issues {${b2Char + b2Char}} parmi ${card ** 2 - card} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${proba1.texFraction}+${proba2.texFraction}`\n  texteCorr += `=${!proba1et2.estIrreductible ? proba1et2.texFraction + '=' + miseEnEvidence(proba1et2.texFractionSimplifiee) : miseEnEvidence(proba1et2.texFraction)}$.<br>`\n\n  texteCorr += `${numAlpha(2)} L'événement «obtenir deux boules de couleurs différentes» est réalisé par les issues {${b1Char + b2Char}, ${b2Char + b1Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 * nbBoule2} issues {${b1Char + b2Char}} et autant d'issues {${b2Char + b1Char}} parmi ${card ** 2 - card} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $2\\\\times ${proba3.texFraction}=${proba4.texFraction}${!proba4.estIrreductible ? '=' + proba4.texFractionSimplifiee : ''}$.<br>`\n  texteCorr += `Une autre façon de faire est de considérer que c'est l'événement contraire de «obtenir deux boules de la même couleur» dont on a calculé la probabilité à la question ${numAlpha(1)}.<br>`\n  texteCorr += `On peut donc calculer la probabilité de cet événement en calculant : $1 -${proba1et2.texFractionSimplifiee} = ${proba4.texFractionSimplifiee}$.`\n  if (!context.isAmc) setReponse(exercice, NoQuestion, probaChoix, { formatInteractif: 'fractionEgale' })\n  if (!context.isAmc) setReponse(exercice, NoQuestion + 1, proba1et2, { formatInteractif: 'fractionEgale' })\n  if (!context.isAmc) setReponse(exercice, NoQuestion + 2, proba4, { formatInteractif: 'fractionEgale' })\n  return { texte, texteCorr, alea: [nbBoule1, nbBoule2, b1Char, b2Char], NoQuestion: NoQuestion + 3 }\n} */\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","uuid","refs","CalculProbaExperience2Epreuves3e","Exercice","__publicField","context","QuestionsDisponibles","gestionnaireFormulaireTexte","i","cpt","NoQuestion","question","unePieceDeuxUrnes","urneDeuxTiragesAvecRemise","listeQuestionsToContenu","exercice","avecArbreDansCorrection","avecArbrePondere","repartitionDesBoules","niveau","choix1","randint","choix2","nombres1","nombres2","n1","n2","urne1","urne2","texte","texteCorr","B","boules","shuffle","card1","card2","Arbre","fraction","j","b","omega","objets","mathalea2d","q","numAlpha","pileOuFace","choice","nbBouleC","card","proba1","proba2","urne","ajouteChampTexteMathLive","KeyboardType","ligneEnt","colonneEnt","contenu","tableau","tableauColonneLigne","setReponse","miseEnEvidence","avecUnArbre","b1Color","b2Color","b1Char","premiereLettreEnMajuscule","b2Char","nbBoule1","nbBoule2","tirage1","choix","probaChoix","proba1et2","proba3","proba4","texFractionFromString"],"mappings":"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"}