{"version":3,"file":"2G34-7-CqdTswYk.js","sources":["../../src/exercices/2e/2G34-7.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriqueSauf1,\n  ecritureParentheseSiNegatif,\n  rienSi1,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre =\n  'Résoudre un système linéaire de deux équations à deux inconnues par substitution'\nexport const interactifReady = true\nexport const interactifType = 'mathlive'\nexport const dateDePublication = '08/04/2024'\nexport const uuid = '521b6'\nexport const refs = {\n  'fr-ch': ['11FA12-5'],\n  'fr-fr': ['2G34-7'],\n}\n// export const dateDeModifImportante = '24/10/2021'\n\n/**\n *\n * @author Nathan Scheinmann\n */\n\nexport default class systemeEquationsPremDegComp extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 3\n    this.sup = 1\n    this.correctionDetailleeDisponible = true\n    this.besoinFormulaireNumerique = [\n      'Type de questions',\n      1,\n      '1 : Niveau 1\\n2 : Niveau 2\\n3 : Mélange',\n    ]\n  }\n\n  nouvelleVersion() {\n    if (this.nbQuestions === 1) {\n      this.consigne = 'Résoudre le système suivant par substitution :'\n    } else {\n      this.consigne = 'Résoudre les systèmes suivants par substitution :'\n    }\n\n    let typeQuestionsDisponibles: ('lv1' | 'lv2')[]\n    if (this.sup === 1) {\n      typeQuestionsDisponibles = ['lv1']\n    } else if (this.sup === 2) {\n      typeQuestionsDisponibles = ['lv2']\n    } else {\n      typeQuestionsDisponibles = ['lv1', 'lv2']\n    }\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      this.comment =\n        'Dans cet exercice, un système est donné à résoudre. Les solutions sont entières comprises entre -10 et 10.<br>Le niveau 1 correspond à une substitution sans distributivité;<br>Le niveau 2 à une substitution avec distributivité.'\n      let texte = ''\n      let texteCorr = ''\n      const solX = randint(-10, 10)\n      const solY = randint(-10, 10, [solX])\n      const eq1 = [1, 0, 0, 0, 0, solX]\n      const eq2 = [0, 1, 0, 0, 0, solY]\n      const vectX = [1, 0, 0, 1, 0, 0]\n      const vectY = [0, 1, 0, 0, 1, 0]\n      const vectConstant = [0, 0, 1, 0, 0, 1]\n      const multCoeff = function (vect: Array<number>, coeff: number) {\n        return vect.map(function (x: number) {\n          return x * coeff\n        })\n      }\n      const addCombLin = function (\n        vect1: Array<number>,\n        vect2: Array<number>,\n        coeff: number,\n      ) {\n        return vect1.map(function (x: number, i: number) {\n          return x + vect2[i] * coeff\n        })\n      }\n      const eqEquiv = function (vect1: Array<number>, niveau: string) {\n        let vectEquiv = vect1\n        vectEquiv = multCoeff(vectEquiv, randint(-6, 6, [0]))\n        if (niveau === 'lv2') {\n          vectEquiv = addCombLin(vectEquiv, vectX, randint(-10, 10, [0]))\n          vectEquiv = addCombLin(vectEquiv, vectY, randint(-10, 10, [0]))\n          vectEquiv = addCombLin(vectEquiv, vectConstant, randint(-20, 20, [0]))\n        }\n        return vectEquiv\n      }\n      const eqToLatex = function (\n        vect: Array<number>,\n        nomVal: Array<string>,\n        inSys: boolean,\n      ) {\n        let expr = ''\n        let checkPreviousNull = true\n        for (let i = 0; i < 3; i++) {\n          if (vect.slice(0, 3).every((item) => item === 0) && i === 0) {\n            expr = expr + '0'\n          } else if (!(vect[i] === 0) && checkPreviousNull) {\n            if (nomVal[i] === '') {\n              expr = expr + `${texNombre(vect[i], 0)}${nomVal[i]}`\n            } else {\n              expr = expr + `${rienSi1(vect[i])}${nomVal[i]}`\n            }\n            checkPreviousNull = false\n          } else if (!(vect[i] === 0) && !checkPreviousNull) {\n            if (nomVal[i] === '') {\n              expr = expr + `${ecritureAlgebrique(vect[i])}${nomVal[i]}`\n            } else {\n              expr = expr + `${ecritureAlgebriqueSauf1(vect[i])}${nomVal[i]}`\n            }\n            checkPreviousNull = false\n          }\n        }\n        if (inSys === true) {\n          expr = expr + ' &='\n        } else {\n          expr = expr + '='\n        }\n        checkPreviousNull = true\n        for (let i = 3; i < 6; i++) {\n          if (vect.slice(3).every((item) => item === 0) && i === 3) {\n            expr = expr + '0'\n          } else if (!(vect[i] === 0) && checkPreviousNull) {\n            if (nomVal[i] === '') {\n              expr = expr + `${texNombre(vect[i], 0)}${nomVal[i]}`\n            } else {\n              expr = expr + `${rienSi1(vect[i])}${nomVal[i]}`\n            }\n            checkPreviousNull = false\n          } else if (!(vect[i] === 0) && !checkPreviousNull) {\n            if (nomVal[i] === '') {\n              expr = expr + `${ecritureAlgebrique(vect[i])}${nomVal[i]}`\n            } else {\n              expr = expr + `${ecritureAlgebriqueSauf1(vect[i])}${nomVal[i]}`\n            }\n            checkPreviousNull = false\n          }\n        }\n        return expr\n      }\n      const printSystem = function (eq1: string, eq2: string) {\n        let expr = ''\n        expr =\n          expr +\n          `\\\\begin{cases}\\\\begin{aligned}${eq1}\\\\\\\\${eq2}\\\\end{aligned}\\\\end{cases}`\n        return expr\n      }\n      const checkCoeff = function (eq: Array<number>, bound: number) {\n        return eq.every((item) => Math.abs(item) < bound)\n      }\n      const checkArray = function (arr: number[]): [boolean, number, string] {\n        const positionsToCheck = [0, 1, 3, 4]\n        let vari = ''\n\n        for (const pos of positionsToCheck) {\n          if (arr[pos] === 1 || arr[pos] === -1) {\n            if (pos === 0 || pos === 3) {\n              vari = 'x'\n            } else {\n              vari = 'y'\n            }\n            return [true, pos, vari]\n          }\n        }\n\n        return [false, 100, 'z']\n      }\n      let eqInt1: Array<number> = []\n      let eqInt2: Array<number> = []\n      let eqSimpl1: Array<number> = []\n      let eqSimpl2: Array<number> = []\n      const valComp = choice([0, 1])\n      do {\n        eqInt1 = addCombLin(eqEquiv(eq1, 'lv1'), eqEquiv(eq2, 'lv1'), 1)\n        eqInt2 = addCombLin(eqEquiv(eq1, 'lv1'), eqEquiv(eq2, 'lv1'), 1)\n        eqInt1 = addCombLin(\n          eqInt1,\n          [vectX, vectY][(valComp + 1) % 2],\n          -eqInt1[(valComp + 1) % 2],\n        )\n        eqInt2 = addCombLin(\n          eqInt2,\n          [vectX, vectY][(valComp + 1) % 2],\n          -eqInt2[(valComp + 1) % 2],\n        )\n        eqSimpl1 = addCombLin(eqInt1, vectX, -eqInt1[3])\n        eqSimpl1 = addCombLin(eqSimpl1, vectY, -eqInt1[4])\n        eqSimpl1 = addCombLin(eqSimpl1, vectConstant, -eqInt1[2])\n        eqSimpl2 = addCombLin(eqInt2, vectX, -eqInt2[3])\n        eqSimpl2 = addCombLin(eqSimpl2, vectY, -eqInt2[4])\n        eqSimpl2 = addCombLin(eqSimpl2, vectConstant, -eqInt2[2])\n      } while (\n        eqSimpl1[0] * eqSimpl2[1] - eqSimpl1[1] * eqSimpl2[0] === 0 ||\n        !(eqInt1[valComp] === 1) ||\n        !(eqInt2[valComp] === 1) ||\n        !checkCoeff(eqInt1, 20) ||\n        !checkCoeff(eqInt2, 20)\n      )\n      // a function that checks that all the coeff are smaller than 10\n      eqInt1 = multCoeff(eqInt1, randint(-4, 4, [-1, 0, 1]))\n      const shuffleEq = function (eq: Array<number>) {\n        const nRandomChoice = valComp\n        let eqTemp = eq\n        if (nRandomChoice === 0) {\n          eqTemp = addCombLin(eqTemp, vectX, -eqTemp[0])\n          eqTemp = addCombLin(eqTemp, vectY, -eqTemp[4])\n          return eqTemp\n        } else {\n          eqTemp = addCombLin(eqTemp, vectX, -eqTemp[3])\n          eqTemp = addCombLin(eqTemp, vectY, -eqTemp[1])\n          return eqTemp\n        }\n      }\n      switch (listeTypeQuestions[i]) {\n        case 'lv1':\n          break\n        case 'lv2':\n          eqInt1 = shuffleEq(eqInt1)\n          eqInt2 = shuffleEq(eqInt2)\n          break\n      }\n      const tempEq = [eqInt1, eqInt2]\n      const randomChoice = choice([0, 1])\n      eqInt1 = tempEq[randomChoice]\n      eqInt2 = tempEq[(randomChoice + 1) % 2]\n      let eqCan1 = addCombLin(eqInt1, vectX, -eqInt1[0])\n      eqCan1 = addCombLin(eqCan1, vectY, -eqCan1[4])\n      eqCan1 = addCombLin(eqCan1, vectConstant, -eqCan1[2])\n      let eqCan2 = addCombLin(eqInt2, vectX, -eqInt2[0])\n      eqCan2 = addCombLin(eqCan2, vectY, -eqCan2[4])\n      eqCan2 = addCombLin(eqCan2, vectConstant, -eqCan2[2])\n      const listeVar = ['x', 'y', '', 'x', 'y', '']\n      texte =\n        texte +\n        `\\\\[${printSystem(eqToLatex(eqInt1, listeVar, true), eqToLatex(eqInt2, listeVar, true))}\\\\]`\n      const checkEq1 = checkArray(eqInt1)\n      const checkEq2 = checkArray(eqInt2)\n      let varIsol = ''\n      let varPasIsol = ''\n      let eqIsol = ''\n      let eqPasIsol = ''\n      const isoleCoeff = function (eq: Array<number>, posIso: number) {\n        let eqTemp = eq\n        if (eq[posIso] === 1) {\n          if (posIso === 0) {\n            eqTemp = addCombLin(eqTemp, vectY, -eqTemp[1])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[2])\n          } else if (posIso === 1) {\n            eqTemp = addCombLin(eqTemp, vectX, -eqTemp[0])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[2])\n          } else if (posIso === 3) {\n            eqTemp = addCombLin(eqTemp, vectY, -eqTemp[4])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[5])\n          } else if (posIso === 4) {\n            eqTemp = addCombLin(eqTemp, vectX, -eqTemp[3])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[5])\n          }\n        } else if (eq[posIso] === -1) {\n          if (posIso === 0) {\n            eqTemp = addCombLin(eqTemp, vectY, -eqTemp[4])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[5])\n            eqTemp = addCombLin(eqTemp, vectX, -eqTemp[0])\n          } else if (posIso === 1) {\n            eqTemp = addCombLin(eqTemp, vectX, -eqTemp[3])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[5])\n            eqTemp = addCombLin(eqTemp, vectY, -eqTemp[1])\n          } else if (posIso === 3) {\n            eqTemp = addCombLin(eqTemp, vectY, -eqTemp[1])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[2])\n            eqTemp = addCombLin(eqTemp, vectX, -eqTemp[3])\n          } else if (posIso === 4) {\n            eqTemp = addCombLin(eqTemp, vectX, -eqTemp[0])\n            eqTemp = addCombLin(eqTemp, vectConstant, -eqTemp[2])\n            eqTemp = addCombLin(eqTemp, vectY, -eqTemp[4])\n          }\n        } else {\n          console.error('Erreur dans la génération des équations')\n        }\n        return eqTemp\n      }\n      let eqPasIsolCoeff: number[] = []\n      let eqIsolCoeff: number[] = []\n      let coeffSub: number = 0\n      let varSub: string = ''\n      const listeVarSub: string[] = { ...listeVar }\n      let coeffSubPos: number = 0\n      const timesIfNotUn = function (valeur: number) {\n        if (valeur === 1 || valeur === -1) {\n          return ''\n        } else {\n          return '\\\\times'\n        }\n      }\n      if (checkEq1[0]) {\n        varIsol = checkEq1[2]\n        varPasIsol = varIsol === 'y' ? 'x' : 'y'\n        eqIsol = 'première'\n        eqPasIsol = 'deuxième'\n        eqPasIsolCoeff = eqInt2\n        eqIsolCoeff = isoleCoeff(eqInt1, checkEq1[1])\n        if (varIsol === 'y') {\n          coeffSubPos = eqInt2[1] !== 0 ? 1 : 4\n        } else {\n          coeffSubPos = eqInt2[0] !== 0 ? 0 : 3\n        }\n        coeffSub = eqInt2[coeffSubPos]\n      } else if (checkEq2[0]) {\n        varIsol = checkEq2[2]\n        varPasIsol = varIsol === 'y' ? 'x' : 'y'\n        eqIsol = 'deuxième'\n        eqPasIsol = 'première'\n        eqPasIsolCoeff = eqInt1\n        eqIsolCoeff = isoleCoeff(eqInt2, checkEq2[1])\n        if (varIsol === 'y') {\n          coeffSubPos = eqInt1[1] !== 0 ? 1 : 4\n        } else {\n          coeffSubPos = eqInt1[0] !== 0 ? 0 : 3\n        }\n        coeffSub = eqInt1[coeffSubPos]\n      } else {\n        console.error('Erreur dans la génération des équations')\n      }\n      const valIsol = varIsol === 'y' ? solY : solX\n      const valPasIsol = varPasIsol === 'y' ? solY : solX\n      const [left, right] = eqToLatex(eqIsolCoeff, listeVar, false).split('=')\n      const longestSideExpr = left.length > right.length ? left : right\n      varSub = timesIfNotUn(coeffSub) + `(${longestSideExpr})`\n      listeVarSub[coeffSubPos] = varSub\n      let eqSubReduit: number[] = []\n      let eqSubReduitInt: number[] = []\n      eqSubReduitInt = multCoeff(eqIsolCoeff, coeffSub)\n      eqSubReduit[0] = 0\n      eqSubReduit[1] = 0\n      eqSubReduit[2] = 0\n      if (coeffSubPos < 3) {\n        eqSubReduit = addCombLin(eqPasIsolCoeff, eqSubReduitInt, -1)\n        eqSubReduit = addCombLin(eqSubReduit, vectX, eqSubReduitInt[3])\n        eqSubReduit = addCombLin(eqSubReduit, vectY, eqSubReduitInt[4])\n        eqSubReduit = addCombLin(eqSubReduit, vectConstant, eqSubReduitInt[5])\n      } else {\n        eqSubReduit = addCombLin(eqPasIsolCoeff, eqSubReduitInt, 1)\n        eqSubReduit = addCombLin(eqSubReduit, vectX, -eqSubReduitInt[0])\n        eqSubReduit = addCombLin(eqSubReduit, vectY, -eqSubReduitInt[1])\n      }\n\n      switch (listeTypeQuestions[i]) {\n        case 'lv1':\n          break\n        case 'lv2':\n          texteCorr =\n            texteCorr +\n            `On isole la variable $${varIsol}$ dans la ${eqIsol} équation. On a le système équivalent :`\n          if (eqIsol === 'première') {\n            texteCorr =\n              texteCorr +\n              `\\\\[${printSystem(eqToLatex(eqIsolCoeff, listeVar, true), eqToLatex(eqPasIsolCoeff, listeVar, true))}\\\\]`\n          } else {\n            texteCorr =\n              texteCorr +\n              `\\\\[${printSystem(eqToLatex(eqPasIsolCoeff, listeVar, true), eqToLatex(eqIsolCoeff, listeVar, true))}\\\\]`\n          }\n          break\n      }\n      texteCorr =\n        texteCorr +\n        `On substitue la variable $${varIsol}$ dans la ${eqPasIsol} équation. On a le système équivalent :`\n      if (eqIsol === 'première') {\n        texteCorr =\n          texteCorr +\n          `\\\\[${printSystem(eqToLatex(eqIsolCoeff, listeVar, true), eqToLatex(eqPasIsolCoeff, listeVarSub, true))}\\\\]`\n      } else {\n        texteCorr =\n          texteCorr +\n          `\\\\[${printSystem(eqToLatex(eqPasIsolCoeff, listeVarSub, true), eqToLatex(eqIsolCoeff, listeVar, true))}\\\\]`\n      }\n      texteCorr = texteCorr + `On réduit la ${eqPasIsol} équation :`\n      if (eqIsol === 'première') {\n        texteCorr =\n          texteCorr +\n          `\\\\[${printSystem(eqToLatex(eqIsolCoeff, listeVar, true), eqToLatex(eqSubReduit, listeVar, true))}\\\\]`\n      } else {\n        texteCorr =\n          texteCorr +\n          `\\\\[${printSystem(eqToLatex(eqSubReduit, listeVar, true), eqToLatex(eqIsolCoeff, listeVar, true))}\\\\]`\n      }\n      texteCorr =\n        texteCorr +\n        `On résout la ${eqPasIsol} équation pour obtenir la valeur de $${varPasIsol}=${String(valPasIsol)}$. On substitue dans la ${eqIsol} équation $${varPasIsol}$ par $${String(valPasIsol)}$, on obtient :`\n      if (varPasIsol === 'x') {\n        if (eqIsolCoeff[3] !== 0) {\n          listeVar[3] = `${timesIfNotUn(eqIsolCoeff[3])} ${ecritureParentheseSiNegatif(solX)}`\n        } else {\n          listeVar[0] = `${timesIfNotUn(eqIsolCoeff[0])} ${ecritureParentheseSiNegatif(solX)}`\n        }\n      } else {\n        if (eqIsolCoeff[4] !== 0) {\n          listeVar[4] = `${timesIfNotUn(eqIsolCoeff[4])} ${ecritureParentheseSiNegatif(solY)}`\n        } else {\n          listeVar[1] = `${timesIfNotUn(eqIsolCoeff[1])} ${ecritureParentheseSiNegatif(solY)}`\n        }\n      }\n      texteCorr = texteCorr + `\\\\[${eqToLatex(eqIsolCoeff, listeVar, false)}\\\\]`\n      texteCorr =\n        texteCorr + `On réduit pour obtenir $${varIsol}=${String(valIsol)}$.`\n      texteCorr =\n        texteCorr +\n        ` La solution du système est $${miseEnEvidence(`S=\\\\{(${texNombre(solX, 0)};${texNombre(solY, 1)})\\\\}`)}$.`\n      if (this.interactif) {\n        texte +=\n          '<br>' + remplisLesBlancs(this, i, 'S=\\\\{(%{champ1};%{champ2})\\\\}')\n        handleAnswers(\n          this,\n          i,\n          {\n            bareme: (listePoints: number[]) => [\n              Math.min(listePoints[0], listePoints[1]),\n              1,\n            ],\n            champ1: { value: String(solX) },\n            champ2: { value: String(solY) },\n          },\n          { formatInteractif: 'fillInTheBlank' },\n        )\n      }\n      if (this.questionJamaisPosee(i, solX, solY)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","systemeEquationsPremDegComp","Exercice","typeQuestionsDisponibles","listeTypeQuestions","combinaisonListes","i","cpt","texte","texteCorr","solX","randint","solY","eq1","eq2","vectX","vectY","vectConstant","multCoeff","vect","coeff","x","addCombLin","vect1","vect2","eqEquiv","niveau","vectEquiv","eqToLatex","nomVal","inSys","expr","checkPreviousNull","item","texNombre","rienSi1","ecritureAlgebrique","ecritureAlgebriqueSauf1","printSystem","checkCoeff","eq","bound","checkArray","arr","positionsToCheck","vari","pos","eqInt1","eqInt2","eqSimpl1","eqSimpl2","valComp","choice","shuffleEq","nRandomChoice","eqTemp","tempEq","randomChoice","eqCan1","eqCan2","listeVar","checkEq1","checkEq2","varIsol","varPasIsol","eqIsol","eqPasIsol","isoleCoeff","posIso","eqPasIsolCoeff","eqIsolCoeff","coeffSub","varSub","listeVarSub","coeffSubPos","timesIfNotUn","valeur","valIsol","valPasIsol","left","right","longestSideExpr","eqSubReduit","eqSubReduitInt","ecritureParentheseSiNegatif","miseEnEvidence","remplisLesBlancs","handleAnswers","listePoints","listeQuestionsToContenu"],"mappings":"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"}