{"version":3,"file":"LectureImage-DkJXuefB.js","sources":["../../src/lib/2d/LectureImage.ts"],"sourcesContent":["import { context } from '../../modules/context'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport { point } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { texteParPosition } from './textes'\nimport { vide2d } from './Vide2d'\n\nexport class LectureImage extends ObjetMathalea2D {\n  x: number\n  y: number\n  xscale: number\n  yscale: number\n  textAbs: string\n  textOrd: string\n  stringColor: string\n  constructor(\n    x: number,\n    y: number,\n    xscale = 1,\n    yscale = 1,\n    color = 'red',\n    textAbs = '',\n    textOrd = '',\n  ) {\n    super()\n    this.x = x\n    this.y = y\n    this.xscale = xscale\n    this.yscale = yscale\n    // if (textAbs === '') textAbs = x.toString()\n    // if (textOrd === '') textOrd = y.toString()\n    this.textAbs = textAbs\n    this.textOrd = textOrd\n    this.stringColor = color\n    this.bordures = [0, 0, 0, 0]\n  }\n\n  svg(coeff: number) {\n    const x0 = this.x / this.xscale\n    const y0 = this.y / this.yscale\n    const M = point(x0, y0)\n    const X = point(x0, 0)\n    const Y = point(0, y0)\n    const Sx =\n      M.x === X.x && M.y === X.y ? vide2d() : segment(X, M, this.stringColor)\n    const Sy =\n      M.x === Y.x && M.y === Y.y ? vide2d() : segment(M, Y, this.stringColor)\n    // vide2D n'a pas de styleExtremites ni pointilles mais on s'en fiche car on ne l'affiche pas : son svg() est vide\n    Sx.styleExtremites = '->'\n    Sy.styleExtremites = '->'\n    Sx.pointilles = 5\n    Sy.pointilles = 5\n    return (\n      '\\t\\n' +\n      Sx.svg(coeff) +\n      '\\t\\n' +\n      Sy.svg(coeff) +\n      '\\t\\n' +\n      (this.textAbs != null\n        ? texteParPosition(\n            this.textAbs,\n            x0,\n            (-1 * 20) / coeff,\n            0,\n            this.stringColor,\n          ).svg(coeff)\n        : '') +\n      '\\t\\n' +\n      (this.textOrd != null\n        ? texteParPosition(\n            this.textOrd,\n            (-1 * 20) / coeff,\n            y0,\n            0,\n            this.stringColor,\n          ).svg(coeff)\n        : '')\n    )\n  }\n\n  tikz() {\n    const x0 = this.x / this.xscale\n    const y0 = this.y / this.yscale\n    const M = point(x0, y0)\n    const X = point(x0, 0)\n    const Y = point(0, y0)\n    const Sx =\n      M.x === X.x && M.y === X.y ? vide2d() : segment(X, M, this.stringColor)\n    const Sy =\n      M.x === Y.x && M.y === Y.y ? vide2d() : segment(M, Y, this.stringColor)\n    // vide2D n'a pas de styleExtremites ni pointilles mais on s'en fiche car on ne l'affiche pas : son svg() est vide\n    Sx.styleExtremites = '->'\n    Sy.styleExtremites = '->'\n    Sx.pointilles = 5\n    Sy.pointilles = 5\n    return (\n      '\\t\\n' +\n      Sx.tikz() +\n      '\\t\\n' +\n      Sy.tikz() +\n      '\\t\\n' +\n      texteParPosition(\n        this.textAbs,\n        x0,\n        -1 / context.scale,\n        0,\n        this.stringColor,\n      ).tikz() +\n      '\\t\\n' +\n      texteParPosition(\n        this.textOrd,\n        -1 / context.scale,\n        y0,\n        0,\n        this.stringColor,\n      ).tikz()\n    )\n  }\n\n  svgml(coeff: number, amp: number) {\n    const x0 = this.x / this.xscale\n    const y0 = this.y / this.yscale\n    const M = point(this.x, this.y)\n    const X = point(x0, 0)\n    const Y = point(0, y0)\n    const Sx =\n      M.x === X.x && M.y === X.y ? vide2d() : segment(X, M, this.stringColor)\n    const Sy =\n      M.x === Y.x && M.y === Y.y ? vide2d() : segment(M, Y, this.stringColor)\n    // vide2D n'a pas de styleExtremites ni pointilles mais on s'en fiche car on ne l'affiche pas : son svg() est vide\n    Sx.styleExtremites = '->'\n    Sy.styleExtremites = '->'\n    Sx.pointilles = 5\n    Sy.pointilles = 5\n    return (\n      '\\t\\n' +\n      Sx.svgml(coeff, amp) +\n      '\\t\\n' +\n      Sy.svgml(coeff, amp) +\n      '\\t\\n' +\n      texteParPosition(\n        this.textAbs,\n        x0,\n        (-1 * 20) / coeff,\n        0,\n        this.stringColor,\n      ).svg(coeff) +\n      '\\t\\n' +\n      texteParPosition(\n        this.textOrd,\n        (-1 * 20) / coeff,\n        y0,\n        0,\n        this.stringColor,\n      ).svg(coeff)\n    )\n  }\n\n  tikzml(amp: number) {\n    const x0 = this.x / this.xscale\n    const y0 = this.y / this.yscale\n    const M = point(this.x, this.y)\n    const X = point(x0, 0)\n    const Y = point(0, y0)\n    const Sx =\n      M.x === X.x && M.y === X.y ? vide2d() : segment(X, M, this.stringColor)\n    const Sy =\n      M.x === Y.x && M.y === Y.y ? vide2d() : segment(M, Y, this.stringColor)\n    // vide2D n'a pas de styleExtremites ni pointilles mais on s'en fiche car on ne l'affiche pas : son svg() est vide\n    Sx.styleExtremites = '->'\n    Sy.styleExtremites = '->'\n    Sx.pointilles = 5\n    Sy.pointilles = 5\n    return (\n      '\\t\\n' +\n      Sx.tikzml(amp) +\n      '\\t\\n' +\n      Sy.tikzml(amp) +\n      '\\t\\n' +\n      texteParPosition(\n        this.textAbs,\n        x0,\n        -1 / context.scale,\n        0,\n        this.stringColor,\n      ).tikz() +\n      '\\t\\n' +\n      texteParPosition(\n        this.textOrd,\n        -1 / context.scale,\n        y0,\n        0,\n        this.stringColor,\n      ).tikz()\n    )\n  }\n}\n/**\n */\nexport function lectureImage(\n  x: number,\n  y: number,\n  xscale = 1,\n  yscale = 1,\n  color = 'red',\n  textAbs = '',\n  textOrd = '',\n): LectureImage {\n  return new LectureImage(x, y, xscale, yscale, color, textAbs, textOrd)\n}\n"],"names":["LectureImage","ObjetMathalea2D","x","y","xscale","yscale","color","textAbs","textOrd","__publicField","coeff","x0","y0","M","point","X","Y","Sx","vide2d","segment","Sy","texteParPosition","context","amp","lectureImage"],"mappings":"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"}