{"version":3,"file":"CM2N3A-9-DdHTgGQF.js","sources":["../../src/exercices/CM2/CM2N3A-9.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  choice,\n  combinaisonListes,\n  creerCouples,\n} from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Connaître les tables de divisions'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * Tables de divisions classiques, à trou ou un mélange des deux.\n *\n * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut\n * @author Rémi Angot\n\n */\nexport const uuid = '77511'\n\nexport const refs = {\n  'fr-fr': ['CM2N3A-9'],\n  'fr-2016': ['CM002'],\n  'fr-ch': [],\n}\nexport default class TablesDeDivisions extends Exercice {\n  constructor(tablesParDefaut = '2-3-4-5-6-7-8-9') {\n    super()\n    this.besoinFormulaireTexte = [\n      'Choix des tables (10 pour aléatoire)',\n      'Nombres séparés par des tirets :',\n    ] // Texte, tooltip\n    this.besoinFormulaire2Numerique = [\n      'Style de questions',\n      3,\n      '1 : Classique\\n2: À trous\\n3: Mélangé',\n    ]\n    // Diviser deux nombres\n    this.sup = tablesParDefaut\n    this.sup2 = 1 // classique|a_trous|melange\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n  }\n\n  nouvelleVersion() {\n    this.sup2 = parseInt(this.sup2)\n    const tables = gestionnaireFormulaireTexte({\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      defaut: 9,\n      max: 9,\n      min: 2,\n      enleveDoublons: true,\n      melange: 10,\n    })\n    const couples = creerCouples(\n      tables.map(Number),\n      [2, 3, 4, 5, 6, 7, 8, 9, 10],\n      this.nbQuestions,\n    ) // Liste tous les couples possibles (2,3)≠(3,2)\n    const listeTypeDeQuestions = combinaisonListes(\n      ['classique', 'a_trous'],\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    let typeDeQuestions = 'a_trous'\n    for (\n      let i = 0, cpt = 0, a, b, texte, texteCorr;\n      i < this.nbQuestions && cpt < 50;\n      cpt++\n    ) {\n      a = couples[i][0]\n      b = couples[i][1]\n      if (parseInt(this.sup2) === 1) {\n        typeDeQuestions = 'classique'\n      } else if (parseInt(this.sup2) === 2) {\n        typeDeQuestions = 'a_trous'\n      } else {\n        typeDeQuestions = listeTypeDeQuestions[i]\n      }\n      if (typeDeQuestions === 'classique') {\n        // classique\n        texte = '$ ' + a * b + ' \\\\div ' + a + ' =$'\n        if (this.interactif && context.isHtml)\n          texte =\n            `$ ${a * b} \\\\div ${a} = $` +\n            ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers)\n        setReponse(this, i, b)\n      } else {\n        // a trous\n        if (choice([true, false])) {\n          texte = `$ ${a * b} \\\\div \\\\ldots\\\\ldots = ${b}$`\n          if (this.interactif && context.isHtml)\n            texte =\n              `$ ${a * b} \\\\div $` +\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) +\n              `$ = ${b} $`\n          setReponse(this, i, a)\n        } else {\n          texte = `$ \\\\ldots\\\\ldots \\\\div ${a}  = ${b}$`\n          if (this.interactif && context.isHtml)\n            texte =\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) +\n              `$ \\\\div ${b} = ${a} $`\n          setReponse(this, i, a * b)\n        }\n      }\n      texteCorr = `$ ${a * b} \\\\div ${a} = ${b}$`\n      if (this.questionJamaisPosee(i, a, b)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      } else {\n        cpt++\n      }\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","TablesDeDivisions","Exercice","tablesParDefaut","tables","gestionnaireFormulaireTexte","couples","creerCouples","listeTypeDeQuestions","combinaisonListes","typeDeQuestions","i","cpt","a","b","texte","texteCorr","context","ajouteChampTexteMathLive","KeyboardType","setReponse","choice","listeQuestionsToContenu"],"mappings":"8mFAeO,MAAMA,GAAQ,oCACRC,GAAkB,GAClBC,GAAiB,WACjBC,GAAW,GACXC,GAAU,SASVC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,UAAU,EACpB,UAAW,CAAC,OAAO,EACnB,QAAS,CAAA,CACX,EACA,MAAqBC,WAA0BC,CAAS,CACtD,YAAYC,EAAkB,kBAAmB,CAC/C,MAAA,EACA,KAAK,sBAAwB,CAC3B,uCACA,kCAAA,EAEF,KAAK,2BAA6B,CAChC,qBACA,EACA;AAAA;AAAA,WAAA,EAGF,KAAK,IAAMA,EACX,KAAK,KAAO,EACZ,KAAK,SAAW,YAChB,KAAK,QAAU,CACjB,CAEA,iBAAkB,CAChB,KAAK,KAAO,SAAS,KAAK,IAAI,EAC9B,MAAMC,EAASC,EAA4B,CACzC,YAAa,KAAK,YAClB,OAAQ,KAAK,IACb,OAAQ,EACR,IAAK,EACL,IAAK,EACL,eAAgB,GAChB,QAAS,EAAA,CACV,EACKC,EAAUC,EACdH,EAAO,IAAI,MAAM,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,EAC3B,KAAK,WAAA,EAEDI,EAAuBC,EAC3B,CAAC,YAAa,SAAS,EACvB,KAAK,WAAA,EAEP,IAAIC,EAAkB,UACtB,QACMC,EAAI,EAAGC,EAAM,EAAGC,EAAGC,EAAGC,EAAOC,EACjCL,EAAI,KAAK,aAAeC,EAAM,GAC9BA,IAEAC,EAAIP,EAAQK,CAAC,EAAE,CAAC,EAChBG,EAAIR,EAAQK,CAAC,EAAE,CAAC,EACZ,SAAS,KAAK,IAAI,IAAM,EAC1BD,EAAkB,YACT,SAAS,KAAK,IAAI,IAAM,EACjCA,EAAkB,UAElBA,EAAkBF,EAAqBG,CAAC,EAEtCD,IAAoB,aAEtBK,EAAQ,KAAOF,EAAIC,EAAI,UAAYD,EAAI,MACnC,KAAK,YAAcI,EAAQ,SAC7BF,EACE,KAAKF,EAAIC,CAAC,UAAUD,CAAC,OACrBK,EAAyB,KAAMP,EAAGQ,EAAa,cAAc,GACjEC,EAAW,KAAMT,EAAGG,CAAC,GAGjBO,EAAO,CAAC,GAAM,EAAK,CAAC,GACtBN,EAAQ,KAAKF,EAAIC,CAAC,2BAA2BA,CAAC,IAC1C,KAAK,YAAcG,EAAQ,SAC7BF,EACE,KAAKF,EAAIC,CAAC,WACVI,EAAyB,KAAMP,EAAGQ,EAAa,cAAc,EAC7D,OAAOL,CAAC,MACZM,EAAW,KAAMT,EAAGE,CAAC,IAErBE,EAAQ,0BAA0BF,CAAC,OAAOC,CAAC,IACvC,KAAK,YAAcG,EAAQ,SAC7BF,EACEG,EAAyB,KAAMP,EAAGQ,EAAa,cAAc,EAC7D,WAAWL,CAAC,MAAMD,CAAC,MACvBO,EAAW,KAAMT,EAAGE,EAAIC,CAAC,GAG7BE,EAAY,KAAKH,EAAIC,CAAC,UAAUD,CAAC,MAAMC,CAAC,IACpC,KAAK,oBAAoBH,EAAGE,EAAGC,CAAC,GAClC,KAAK,eAAeH,CAAC,EAAII,EACzB,KAAK,iBAAiBJ,CAAC,EAAIK,EAC3BL,KAEAC,IAGJU,EAAwB,IAAI,CAC9B,CACF"}