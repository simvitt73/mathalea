{"version":3,"file":"6I1B-1-DDWeN4iN.js","sources":["../../src/exercices/6e/6I1B-1.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { grille } from '../../lib/2d/Grille'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { polygone } from '../../lib/2d/polygones'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPosition } from '../../lib/2d/textes'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { texteSansCasseCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { texteEnCouleurEtGras } from '../../lib/outils/embellissements'\nimport { lettreDepuisChiffre, numAlphaNum } from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu } from '../../modules/outils'\nimport Exercice from '../Exercice'\n/**\n * Calcule le cosinus d'un angle en degrés\n */\nfunction degCos(deg: number): number {\n  return Math.cos((deg * Math.PI) / 180)\n}\n\n/**\n * Calcule le sinus d'un angle en degrés\n */\nfunction degSin(deg: number): number {\n  return Math.sin((deg * Math.PI) / 180)\n}\n\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\nexport const titre = 'Programmer des déplacements relatifs (Scratch)'\nexport const dateDePublication = '05/02/2023'\nexport const dateDeModifImportante = '09/06/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * * Colorier le déplacement d'un lutin\n * * 6I10-2\n * @author Guillaume Valmont // d'après 6I10 de Erwan Duplessy\n * Ajout interactivité : Juin 2025 par Guillaume Valmont\n */\nexport const uuid = '594eb'\n\nexport const refs = {\n  'fr-fr': ['6I1B-1'],\n  'fr-2016': ['6I10-1'],\n  'fr-ch': [],\n}\nexport default class ColorierDeplacement extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      \"Nombre d'instructions de déplacements\",\n      3,\n      '1 : 3 instructions\\n2 : 4 instructions\\n3 : 5 instructions',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Avec une boucle']\n    this.besoinFormulaire3CaseACocher = ['Inclure la possibilité de reculer']\n    this.typeExercice = 'Scratch'\n    this.sup = 1 // nombre de commandes = this.sup + 2\n    this.sup2 = false // 1 : sans boucle ; true : avec boucle\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.consigne = 'Dans le quadrillage, effectuer le programme.<br>'\n\n    this.nbQuestionsModifiable = false\n    context.isHtml ? (this.spacing = 2) : (this.spacing = 1)\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1)\n  }\n\n  nouvelleVersion() {\n    const lstObjet = [] // liste de tous les objets Mathalea2d\n    let direction: 0 | 90 | 180 | 270 = 0 // Orientation du lutin en degrés\n    let positionApresPremierDeplacement = 'A1'\n    let positionApresDernierDeplacement = 'A1'\n    function scratchblocksTikz(codeSvg: string, codeTikz: string) {\n      // c'est une ancienne façon de faire. Maintenant il existe une fonction scratchblock() qui effectue la conversion scratch Latex -> scratchblock\n      if (context.isHtml) {\n        return codeSvg\n      } else {\n        return codeTikz\n      }\n    }\n\n    function calculerDeplacementsLutin(\n      rotation: 0 | 1,\n      deplacement: 2 | 3,\n    ): [number, number] {\n      let ajoutX = 0\n      let ajoutY = 0\n      switch (rotation) {\n        case 0:\n          direction = (direction + 90 + 360) % 360\n          break\n        case 1:\n          direction = (direction - 90 + 360) % 360\n          break\n      }\n      switch (deplacement) {\n        case 2:\n          ajoutX = degCos(direction)\n          ajoutY = degSin(direction)\n          break\n        case 3:\n          ajoutX = -degCos(direction)\n          ajoutY = -degSin(direction)\n          break\n      }\n      return [ajoutX, ajoutY]\n    }\n\n    function fleche(x: number, y: number, direction: 0 | 90 | 180 | 270) {\n      let depart, arrivee\n      switch (direction) {\n        case 0: // est\n          depart = [x + 0.2, y - 0.5]\n          arrivee = [x + 0.8, y - 0.5]\n          break\n        case 90: // nord\n          depart = [x + 0.5, y - 0.8]\n          arrivee = [x + 0.5, y - 0.2]\n          break\n        case 180: // ouest\n          depart = [x + 0.8, y - 0.5]\n          arrivee = [x + 0.2, y - 0.5]\n          break\n        case 270: // sud\n          depart = [x + 0.5, y - 0.2]\n          arrivee = [x + 0.5, y - 0.8]\n          break\n      }\n      const fleche = segment(\n        point(depart[0], depart[1]),\n        point(arrivee[0], arrivee[1]),\n      )\n      fleche.styleExtremites = '->'\n      fleche.color = colorToLatexOrHTML('white')\n      return fleche\n    }\n\n    let texte = '' // texte de l'énoncé\n    let texteCorr = '' // texte du corrigé\n    let codeTikz = '' // code pour dessiner les blocs en tikz\n    let codeSvg = '' // code pour dessiner les blocs en svg\n    const nbCommandes = Number(parseInt(this.sup)) + 2 // nombre de commandes de déplacement dans un script\n    let nbRepetition = 1 // Nombre de fois où la boucle est répétée.\n    if (this.sup2) {\n      nbRepetition = 3\n    }\n    const lstCommandesTikz = [\n      '\\\\blockmove{Tourner à gauche}',\n      '\\\\blockmove{Tourner à droite}',\n      '\\\\blockmove{Avancer}',\n      '\\\\blockmove{Reculer}',\n      '\\\\blockmove{Colorier la case}',\n    ]\n    const lstCommandesSVG = [\n      'Tourner à gauche',\n      'Tourner à droite',\n      'Avancer',\n      'Reculer',\n      'Colorier',\n    ]\n    codeTikz += '\\\\medskip \\\\begin{scratch} <br>'\n    codeSvg += \"<pre class='blocks'>\"\n    const lstNumCommande: (0 | 1 | 2 | 3 | 4)[] = [] // liste des commandes successives\n    const lstDeplacements: [number, number][] = [] // Liste des [ajoutX, ajoutY] successifs\n    const lstX = [0] // liste des abscisses successives\n    const lstY = [0] // liste des ordonnées successives\n    if (this.sup2) {\n      codeSvg += `répéter (${nbRepetition}) fois <br>`\n      codeTikz += `\\\\blockrepeat{répéter \\\\ovalnum{${nbRepetition}} fois} {`\n    }\n    for (let i = 0; i < nbCommandes; i++) {\n      const rotation: 0 | 1 = choice([0, 1]) // choix d'une rotation\n      const deplacement: 2 | 3 = this.sup3 ? choice([2, 3]) : 2 // choix d'un déplacement\n      codeTikz += lstCommandesTikz[rotation] // ajout d'une rotation\n      codeSvg += lstCommandesSVG[rotation] + '<br>' // ajout d'une rotation\n      codeTikz += lstCommandesTikz[deplacement] // ajout d'un déplacement\n      codeSvg += lstCommandesSVG[deplacement] + '<br>' // ajout d'un déplacement\n      codeTikz += lstCommandesTikz[4] // ajout de l'instruction \"Colorier\"\n      codeSvg += lstCommandesSVG[4] + '<br>' // ajout de l'instruction \"Colorier\"\n      lstNumCommande.push(rotation, deplacement) // ajout d'une rotation et d'un déplacement\n      lstNumCommande.push(4) // ajout de l'instruction \"Colorier\"\n      const ajoutXY = calculerDeplacementsLutin(\n        rotation as 0 | 1,\n        deplacement as 2 | 3,\n      )\n      lstX.push(lstX[lstX.length - 1] + ajoutXY[0]) // calcul de la nouvelle abscisse\n      lstY.push(lstY[lstY.length - 1] + ajoutXY[1]) // calcul de la nouvelle ordonnée\n      lstDeplacements.push(ajoutXY)\n    }\n    for (let k = 0; k < nbRepetition - 1; k++) {\n      for (\n        let i = k * lstNumCommande.length;\n        i < (k + 1) * lstNumCommande.length;\n        i += 3\n      ) {\n        const ajoutXY = calculerDeplacementsLutin(\n          (lstNumCommande[i % lstNumCommande.length] % 2) as 0 | 1,\n          (2 + (lstNumCommande[(i + 1) % lstNumCommande.length] % 2)) as 2 | 3,\n        )\n        lstX.push(ajoutXY[0])\n        lstY.push(ajoutXY[1])\n      }\n    }\n    if (this.sup2) {\n      codeSvg += 'fin <br>'\n      codeTikz += '}'\n    }\n    codeSvg += '</pre>'\n    codeTikz += '\\\\end{scratch}'\n\n    const xLutinMin = Math.min(...lstX)\n    const xLutinMax = Math.max(...lstX)\n    const yLutinMin = Math.min(...lstY)\n    const yLutinMax = Math.max(...lstY)\n\n    if (context.isHtml) {\n      texte += '<table style=\"width: 100%\"><tr><td>'\n    } else {\n      texte += '\\\\begin{minipage}[t]{.25\\\\textwidth}'\n    }\n\n    texte += scratchblocksTikz(codeSvg, codeTikz)\n\n    if (context.isHtml) {\n      texte += '</td><td>'\n      texte += '             '\n      texte += '</td><td style=\"vertical-align: top; text-align: center\">'\n    } else {\n      texte += '\\\\end{minipage} '\n      texte += '\\\\hfill \\\\begin{minipage}[t]{.74\\\\textwidth}'\n    }\n\n    const xGrilleMin = xLutinMin - 2\n    const xGrilleMax = xLutinMax + 3\n    const yGrilleMin = yLutinMin - 3\n    const yGrilleMax = yLutinMax + 2\n\n    const r2 = grille(\n      xGrilleMin,\n      yGrilleMin,\n      xGrilleMax,\n      yGrilleMax,\n      'black',\n      0.8,\n      1,\n    )\n    lstObjet.push(r2)\n\n    let p // carré gris représentant le lutin en position de départ\n    p = polygone(\n      point(lstX[0], lstY[0]),\n      point(lstX[0] + 1, lstY[0]),\n      point(lstX[0] + 1, lstY[0] - 1),\n      point(lstX[0], lstY[0] - 1),\n    )\n    p.opacite = 0.5\n    p.couleurDeRemplissage = colorToLatexOrHTML('black')\n    p.opaciteDeRemplissage = 0.5\n    p.epaisseur = 0\n    lstObjet.push(p, fleche(lstX[0], lstY[0], 0))\n    let txt = '' // variable temporaire\n    for (let j = 0; j < xGrilleMax - xGrilleMin; j++) {\n      txt = String.fromCharCode(65 + j) // ascii 65 = A\n      lstObjet.push(\n        texteParPosition(\n          txt,\n          xGrilleMin + j + 0.5,\n          yGrilleMax + 0.5,\n          0,\n          'black',\n          1,\n          'milieu',\n        ),\n      ) // affiche de A à J... en haut de la grille\n    }\n    for (let i = 0; i < yGrilleMax - yGrilleMin; i++) {\n      lstObjet.push(\n        texteParPosition(\n          String(i + 1),\n          xGrilleMin - 0.25,\n          yGrilleMax - i - 0.5,\n          0,\n          'black',\n          1,\n          'milieu',\n        ),\n      ) // affiche de 0 à 9... à gauche de la grille\n    }\n    const mathalea2dEnonce = mathalea2d(\n      {\n        xmin: xGrilleMin - 3,\n        xmax: xGrilleMax + 1,\n        ymin: yGrilleMin - 1,\n        ymax: yGrilleMax + 1,\n        pixelsParCm: 20,\n        scale: 0.5,\n      },\n      lstObjet,\n    )\n\n    // CORRECTION\n    // 0 : gauche, 1 : droite, 2 : haut, 3 : bas, 4 : colorier.\n    let xLutin = 0 // position initiale du carré\n    let yLutin = 0 // position initiale du carré\n    const couleur = 'red'\n\n    // on fait un dessin par passage dans la boucle\n    if (context.isHtml) {\n      texteCorr +=\n        '<table style=\"width:100%\"><tr><td style=\"text-align:center\">'\n    } else {\n      texteCorr += '\\\\begin{minipage}{.49\\\\textwidth}'\n    }\n    direction = 0\n    for (let k = 0; k < nbRepetition; k++) {\n      for (\n        let i = k * lstNumCommande.length;\n        i < (k + 1) * lstNumCommande.length;\n        i += 3\n      ) {\n        const ajoutXY = calculerDeplacementsLutin(\n          (lstNumCommande[i % lstNumCommande.length] % 2) as 0 | 1,\n          (2 + (lstNumCommande[(i + 1) % lstNumCommande.length] % 2)) as 2 | 3,\n        )\n        xLutin += ajoutXY[0]\n        yLutin += ajoutXY[1]\n        p = polygone(\n          point(xLutin, yLutin),\n          point(xLutin + 1, yLutin),\n          point(xLutin + 1, yLutin - 1),\n          point(xLutin, yLutin - 1),\n        )\n        p.couleurDeRemplissage = colorToLatexOrHTML(couleur)\n        p.opaciteDeRemplissage = 0.25\n        p.epaisseur = 0\n        lstObjet.push(p)\n        if (i === 0) {\n          positionApresPremierDeplacement =\n            lettreDepuisChiffre(xLutin - xGrilleMin + 1) +\n            (yGrilleMax - yLutin + 1) // position finale du lutin\n        }\n      }\n      lstObjet.push(p, fleche(xLutin, yLutin, direction))\n      if (this.sup2) {\n        texteCorr += `Passage n° ${k + 1} dans la boucle : <br>`\n      }\n      texteCorr += mathalea2d(\n        {\n          xmin: xGrilleMin - 3,\n          xmax: xGrilleMax + 1,\n          ymin: yGrilleMin - 1,\n          ymax: yGrilleMax + 1,\n          pixelsParCm: 20,\n          scale: 0.4,\n        },\n        lstObjet,\n      )\n      if (context.isHtml) {\n        if (k % 3 === 2) {\n          texteCorr += '</td></tr><tr><td style=\"text-align:center\">' // retour à la ligne après 3 grilles dessinées en HTML\n        } else {\n          texteCorr += '</td><td></td><td style=\"text-align:center\">'\n        }\n      } else {\n        texteCorr += '\\\\end{minipage}'\n        if (k % 2 === 1) {\n          texteCorr += '\\\\\\\\ '\n        } // retour à la ligne après 2 grilles dessinées en LaTeX\n        texteCorr += '\\\\begin{minipage}{.49\\\\textwidth}'\n      }\n    }\n    positionApresDernierDeplacement =\n      lettreDepuisChiffre(xLutin - xGrilleMin + 1) + (yGrilleMax - yLutin + 1) // position finale du lutin\n    context.isHtml\n      ? (texteCorr += '</td></tr></table>')\n      : (texteCorr += '\\\\end{minipage}')\n\n    if (context.isAmc) {\n      this.autoCorrection = [\n        { propositions: [{ texte: '', statut: 3, sanscadre: true }] },\n      ]\n    }\n\n    texte +=\n      'Au départ, le lutin est situé dans la case grisée. Chaque déplacement se fait dans une case adjacente. Exécuter le programme.'\n\n    texte += '<br><br>'\n    if (!context.isHtml) {\n      texte += '\\\\begin{center}'\n    }\n    texte += mathalea2dEnonce\n    if (context.isHtml) {\n      texte += '</td></tr></table>'\n    } else {\n      texte += '\\\\end{center}\\\\end{minipage} '\n      texte += '\\\\hfill \\\\null'\n    }\n\n    if (this.interactif && context.isHtml) {\n      texte += `<br>\n      ${numAlphaNum(0)} Quelle est la première case coloriée par le lutin ? ${ajouteChampTexteMathLive(this, 0, KeyboardType.alphanumeric, { placeholder: 'A1' })}`\n      handleAnswers(this, 0, {\n        reponse: {\n          value: positionApresPremierDeplacement,\n          compare: texteSansCasseCompare,\n        },\n      })\n      texte += `<br>\n      ${numAlphaNum(1)} Quelle est la dernière case coloriée par le lutin ? ${ajouteChampTexteMathLive(this, 1, KeyboardType.alphanumeric, { placeholder: 'A1' })}`\n      handleAnswers(this, 1, {\n        reponse: {\n          value: positionApresDernierDeplacement,\n          compare: texteSansCasseCompare,\n        },\n      })\n      texteCorr += `<br>\n      La première case coloriée par le lutin est ${texteEnCouleurEtGras(positionApresPremierDeplacement)}.<br>\n      La dernière case coloriée par le lutin est ${texteEnCouleurEtGras(positionApresDernierDeplacement)}.`\n    }\n\n    this.listeQuestions.push(texte)\n    this.listeCorrections.push(texteCorr)\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["degCos","deg","degSin","amcReady","amcType","titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","uuid","refs","ColorierDeplacement","Exercice","context","lstObjet","direction","positionApresPremierDeplacement","positionApresDernierDeplacement","scratchblocksTikz","codeSvg","codeTikz","calculerDeplacementsLutin","rotation","deplacement","ajoutX","ajoutY","fleche","x","y","depart","arrivee","segment","point","colorToLatexOrHTML","texte","texteCorr","nbCommandes","nbRepetition","lstCommandesTikz","lstCommandesSVG","lstNumCommande","lstX","lstY","i","choice","ajoutXY","k","xLutinMin","xLutinMax","yLutinMin","yLutinMax","xGrilleMin","xGrilleMax","yGrilleMin","yGrilleMax","r2","grille","p","polygone","txt","j","texteParPosition","mathalea2dEnonce","mathalea2d","xLutin","yLutin","couleur","lettreDepuisChiffre","numAlphaNum","ajouteChampTexteMathLive","KeyboardType","handleAnswers","texteSansCasseCompare","texteEnCouleurEtGras","listeQuestionsToContenu"],"mappings":"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"}