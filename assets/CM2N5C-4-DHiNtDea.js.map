{"version":3,"file":"CM2N5C-4-DHiNtDea.js","sources":["../../src/exercices/CM2/CM2N5C-4.ts"],"sourcesContent":["import { createList } from '../../lib/format/lists'\nimport { ajouteQuestionMathlive } from '../../lib/interactif/questionMathLive'\nimport SchemaEnBoite from '../../lib/outils/SchemaEnBoite'\nimport { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport operation from '../../modules/operations'\nimport { randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const uuid = '9d5ef'\nexport const refs = {\n  'fr-fr': ['CM2N5C-4'],\n  'fr-2016': ['c3C32-02'],\n  'fr-ch': ['9FA3-20'],\n}\nexport const titre =\n  'Au marché (addition et soustraction de masses, conversions)'\nexport const dateDePublication = '20/11/2024'\nexport const dateDeModifImportante = '21/04/2025'\nexport const interactifType = 'mathLive'\nexport const interactifReady = true\nexport const prenoms = [\n  // Féminins\n  'Amina', // Arabe\n  'Chloé', // Français\n  'Mei', // Chinois\n  'Ananya', // Indien\n  'Fatou', // Africain (Sénégal)\n  'Isabella', // Italien/espagnol\n  'Aya', // Japonais\n  'Laila', // Perse/arabe\n  'Sofia', // Européen\n  'Zara', // Turc\n  'Emma', // Français\n  'Jade', // Français\n  'Louise', // Français\n  'Alice', // Français\n  'Chloé', // Français\n  'Lina', // Français\n  'Léa', // Français\n  'Manon', // Français\n  'Camille', // Français\n  'Rose', // Français\n  'Lucas', // Français\n  'Hugo', // Français\n  'Louis', // Français\n  'Gabriel', // Français\n  'Léo', // Français\n  'Arthur', // Français\n  'Nathan', // Français\n  'Jules', // Français\n  'Raphaël', // Français\n  'Noah', // Français\n  'Ali', // Arabe\n  'Hugo', // Français\n  'Wei', // Chinois\n  'Arjun', // Indien\n  'Mamadou', // Africain (Sénégal)\n  'Luca', // Italien/espagnol\n  'Takeshi', // Japonais\n  'Omar', // Perse/arabe\n  'Mateo', // Européen\n  'Emir', // Turc\n]\n\n/**\n * @Author Jean-Claude Lhote\n * Sources (eduscol) : https://eduscol.education.fr/ressources/numerique/2020/2020-exercices-mathematiques-6e\n * Ces exercices seront proposés systématiquement pour 3 niveaux de difficulté afin de différentier autour d'un même problème\n */\nexport default class ExerciceProbleme002 extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.besoinFormulaireNumerique = [\n      'niveau de difficulté',\n      3,\n      '1 : Élèves à besoin\\n2 : Moyens\\n3 : Avancés',\n    ]\n    this.sup = 1\n    this.besoinFormulaire3CaseACocher = [\n      'Opération posée dans la correction',\n      false,\n    ]\n    this.sup3 = false\n\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = true\n  }\n\n  nouvelleVersion() {\n    const prenomsMelanges = shuffle(prenoms)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const listeFruit1 = [\n        {\n          nomSingulier: 'une fraise',\n          nomPluriel: 'fraises',\n          pluriel: 'de fraises',\n          masseUnitaire: 50,\n          color: 'pink',\n        },\n        {\n          nomSingulier: 'un abricot',\n          nomPluriel: 'abricots',\n          pluriel: \"d'abricots\",\n          masseUnitaire: 100,\n          color: 'orange',\n        },\n        {\n          nomSingulier: 'un kiwi',\n          nomPluriel: 'kiwis',\n          pluriel: 'de kiwis',\n          masseUnitaire: 150,\n          color: 'olive',\n        },\n        {\n          nomSingulier: 'un citron',\n          nomPluriel: 'citrons',\n          pluriel: 'de citrons',\n          masseUnitaire: 100,\n          color: 'yellow',\n        },\n        {\n          nomSingulier: 'une orange',\n          nomPluriel: 'oranges',\n          pluriel: \"d'oranges\",\n          masseUnitaire: 200,\n          color: 'orange',\n        },\n        {\n          nomSingulier: 'une banane',\n          nomPluriel: 'bananes',\n          pluriel: 'de bananes',\n          masseUnitaire: 150,\n          color: 'gold',\n        },\n        {\n          nomSingulier: 'une pomme',\n          nomPluriel: 'pommes',\n          pluriel: 'de pommes',\n          masseUnitaire: 200,\n          color: 'red',\n        },\n        {\n          nomSingulier: 'une poire',\n          nomPluriel: 'poires',\n          pluriel: 'de poires',\n          masseUnitaire: 200,\n          color: 'olive',\n        },\n        {\n          nomSingulier: 'une cerise',\n          nomPluriel: 'cerises',\n          pluriel: 'de cerises',\n          masseUnitaire: 5,\n          color: 'purple',\n        },\n      ]\n      const fruit1 = choice(listeFruit1)\n      const fruit2 = choice(\n        listeFruit1.filter(\n          (fruit) => fruit.nomSingulier !== fruit1.nomSingulier,\n        ),\n      )\n      const fruit3 = choice(\n        listeFruit1.filter(\n          (fruit) =>\n            fruit.nomSingulier !== fruit1.nomSingulier &&\n            fruit.nomSingulier !== fruit2.nomSingulier,\n        ),\n      )\n      let quantiteFruit2: { litteral: string; nombre: number }\n      let quantiteFruit3: { litteral: string; nombre: number }\n      let quantiteFruit1: { litteral: string; nombre: number }\n      let masseFruit1: number\n      let masseFruit2: number\n      let masseFruit3: number\n      let masseTotale: number\n      do {\n        switch (this.sup) {\n          case 1:\n            quantiteFruit1 = {\n              litteral: '',\n              nombre: Math.round((randint(1, 7) * 500) / fruit1.masseUnitaire),\n            }\n            quantiteFruit2 = choice([\n              {\n                litteral: 'un demi-kilogramme',\n                nombre: 500 / fruit2.masseUnitaire,\n              },\n              {\n                litteral: 'un kilogramme',\n                nombre: 1000 / fruit2.masseUnitaire,\n              },\n              {\n                litteral: 'un quart de kilogramme',\n                nombre: 250 / fruit2.masseUnitaire,\n              },\n            ])\n            quantiteFruit3 = {\n              litteral: '',\n              nombre: (randint(7, 25) * 50) / fruit3.masseUnitaire,\n            }\n            break\n          case 3:\n            quantiteFruit1 = {\n              litteral: '',\n              nombre: Math.round((randint(1, 7) * 500) / fruit1.masseUnitaire),\n            }\n            quantiteFruit2 = choice([\n              {\n                litteral: 'un demi-kilogramme',\n                nombre: 500 / fruit2.masseUnitaire,\n              },\n              {\n                litteral: 'un kilogramme',\n                nombre: 1000 / fruit2.masseUnitaire,\n              },\n              {\n                litteral: 'un quart de kilogramme',\n                nombre: 250 / fruit2.masseUnitaire,\n              },\n            ])\n            quantiteFruit3 = {\n              litteral: '',\n              nombre: (randint(7, 25) * 50) / fruit3.masseUnitaire,\n            }\n            break\n          default:\n            quantiteFruit1 = {\n              litteral: '',\n              nombre: Math.round(randint(1, 7) * 500) / fruit1.masseUnitaire,\n            }\n            quantiteFruit2 = choice([\n              {\n                litteral: 'un demi-kilogramme',\n                nombre: 500 / fruit2.masseUnitaire,\n              },\n              {\n                litteral: 'un kilogramme',\n                nombre: 1000 / fruit2.masseUnitaire,\n              },\n              {\n                litteral: 'un quart de kilogramme',\n                nombre: 250 / fruit2.masseUnitaire,\n              },\n            ])\n            quantiteFruit3 = {\n              litteral: '',\n              nombre: (randint(7, 25) * 50) / fruit3.masseUnitaire,\n            }\n            break\n        }\n        masseFruit1 = quantiteFruit1.nombre * fruit1.masseUnitaire\n        masseFruit2 = quantiteFruit2.nombre * fruit2.masseUnitaire\n        masseFruit3 = quantiteFruit3.nombre * fruit3.masseUnitaire\n        masseTotale = (masseFruit1 + masseFruit2 + masseFruit3) / 1000\n      } while (masseTotale > 4.7)\n\n      let correction = ''\n      const prenom = prenomsMelanges[i % prenoms.length]\n      let listeCorrections: string[] = []\n      let enonce = `${prenom} revient du marché. Il a acheté $${texNombre(masseFruit1)}$ g ${fruit1.pluriel}, ${quantiteFruit2.litteral} ${fruit2.pluriel} et a oublié la masse ${fruit3.pluriel} ${fruit3.nomSingulier.includes('une') ? 'achetées' : 'achetés'}.<br>\nLe contenu de son panier pèse $${texNombre(masseTotale, 3, true)}$ kg.`\n      let listeQuestions: string[] = []\n      if (this.sup === 1) {\n        listeQuestions = [\n          'Exprimer la masse totale du panier en grammes.' +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 4 * i,\n              objetReponse: {\n                reponse: { value: texNombre(masseTotale * 1000, 0) },\n              },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n          `Exprimer la masse des ${fruit2.nomPluriel} en grammes.` +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 4 * i + 1,\n              objetReponse: { reponse: { value: texNombre(masseFruit2, 0) } },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n          `Quelle est la masse totale de ${fruit1.nomPluriel} et ${fruit2.nomPluriel} ${fruit1.nomSingulier.includes('une') && fruit2.nomSingulier.includes('une') ? 'achetées' : 'achetés'} ?` +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 4 * i + 2,\n              objetReponse: {\n                reponse: { value: texNombre(masseFruit1 + masseFruit2, 0) },\n              },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n          `Quelle est la masse des ${fruit3.nomPluriel} ?` +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 4 * i + 3,\n              objetReponse: { reponse: { value: texNombre(masseFruit3, 0) } },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n        ]\n        listeCorrections = [\n          `${this.correctionDetaillee ? `Pour exprimer la masse totale du panier en grammes, on multiplie la masse totale en kg par $${texNombre(1000, 0)}$.<br>` : ''}\n          $${texNombre(masseTotale, 3, true)}\\\\times ${texNombre(1000, 0)} = ${texNombre(masseTotale * 1000, 0)}$ g<br>\n          ${this.sup3 ? operation({ operande1: masseTotale, operande2: 1000, type: 'multiplication', precision: 0 }) : ''}\n             ${this.sup3 ? '<br><br>' : ''}\n    La masse totale de fruits dans le panier est de $${miseEnEvidence(texNombre(masseTotale * 1000, 0))}$ g.`,\n          `${this.correctionDetaillee ? `Pour exprimer la masse des ${fruit2.nomPluriel} en grammes, on multiplie la masse en kg par $${texNombre(1000, 0)}$.<br>` : ''}\n          $${texNombre(masseFruit2 / 1000, 3, true)}\\\\times ${texNombre(1000, 0)}=${texNombre(masseFruit2, 0)}\\\\text{ g}$<br>\n          ${this.sup3 ? operation({ operande1: masseFruit2 / 1000, operande2: 1000, type: 'multiplication', precision: 0 }) : ''}\n             ${this.sup3 ? '<br><br>' : ''}\n    La masse des ${fruit2.nomPluriel} est de $${miseEnEvidence(texNombre(masseFruit2, 0))}$ g.`,\n          `${this.correctionDetaillee ? `Pour exprimer la masse totale ${fruit1.pluriel} et ${fruit2.pluriel} ${fruit1.nomSingulier.includes('une') && fruit2.nomSingulier.includes('une') ? 'achetées' : 'achetés'}, on additionne les masses.<br>` : ''}\n         ${\n           this.correctionDetaillee\n             ? `${new SchemaEnBoite({\n                 lignes: [\n                   {\n                     barres: [\n                       {\n                         length: 4,\n                         color: fruit1.color,\n                         content: `$${masseFruit1}$`,\n                       },\n                       {\n                         length: 4,\n                         color: fruit2.color,\n                         content: `$${masseFruit2}$`,\n                       },\n                     ],\n                   },\n                   {\n                     barres: [\n                       {\n                         length: 8,\n                         color: 'gray',\n                         content: '?',\n                       },\n                     ],\n                   },\n                 ],\n                 topBraces: [\n                   {\n                     start: 1,\n                     end: 5,\n                     text: `${fruit1.nomPluriel}`,\n                   },\n                   {\n                     start: 5,\n                     end: 9,\n                     text: `${fruit2.nomPluriel}`,\n                   },\n                 ],\n               }).display()}<br><br>`\n             : ''\n         }\n         $${texNombre(masseFruit1, 0)}$ g + $${texNombre(masseFruit2, 0)}$ g = $${texNombre(masseFruit1 + masseFruit2, 0)}$ g<br>\n          ${this.sup3 ? operation({ operande1: masseFruit1, operande2: masseFruit2, type: 'addition', precision: 0 }) : ''}\n             ${this.sup3 ? '<br><br>' : ''}\n    La masse totale ${fruit1.pluriel} et ${fruit2.pluriel} ${fruit1.nomSingulier.includes('une') && fruit2.nomSingulier.includes('une') ? 'achetées' : 'achetés'} est de $${miseEnEvidence(texNombre(masseFruit1 + masseFruit2, 0))}$ g.`,\n          `${this.correctionDetaillee ? `Pour exprimer la masse des ${fruit3.nomPluriel} en grammes, on calcule la différence entre la masse du panier et la masse totale ${fruit1.pluriel} et ${fruit2.pluriel} calculée à la question précédente.<br>` : ''}\n         ${\n           this.correctionDetaillee\n             ? `${new SchemaEnBoite({\n                 topBraces: [\n                   {\n                     start: 1,\n                     end: 11,\n                     text: `${fruit1.nomPluriel} et ${fruit2.nomPluriel}`,\n                   },\n                   {\n                     start: 11,\n                     end: 15,\n                     text: `${fruit3.nomPluriel}`,\n                   },\n                 ],\n                 lignes: [\n                   {\n                     barres: [\n                       {\n                         length: 10,\n                         color: 'cyan',\n                         content: `$${masseFruit1 + masseFruit2}$`,\n                       },\n                       {\n                         length: 4,\n                         color: 'white',\n                         content: '?',\n                       },\n                     ],\n                   },\n                   {\n                     barres: [\n                       {\n                         length: 14,\n                         color: 'gray',\n                         content: `$${masseTotale * 1000}$`,\n                       },\n                     ],\n                   },\n                 ],\n               }).display()}<br><br>`\n             : ''\n         }\n\n          $${texNombre(masseTotale * 1000, 0)}-${texNombre(masseFruit1 + masseFruit2, 0)}= ${texNombre(masseFruit3, 0)}$ g<br>\n          ${this.sup3 ? operation({ operande1: masseTotale * 1000, operande2: masseFruit1 + masseFruit2, type: 'soustraction', precision: 0 }) : ''}\n             ${this.sup3 ? '<br><br>' : ''}\n    ${prenom} a acheté $${miseEnEvidence(texNombre(masseFruit3, 0))}$ g ${fruit3.pluriel}.`,\n        ]\n      } else if (this.sup === 2) {\n        listeQuestions = [\n          'Exprimer la masse totale du panier en grammes.' +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 3 * i,\n              objetReponse: {\n                reponse: { value: texNombre(masseTotale * 1000, 0) },\n              },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n          `Exprimer la masse des ${fruit2.nomPluriel} en grammes.` +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 3 * i + 1,\n              objetReponse: { reponse: { value: texNombre(masseFruit2, 0) } },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n          `Quelle est la masse des ${fruit3.nomPluriel} ?` +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: 3 * i + 2,\n              objetReponse: { reponse: { value: texNombre(masseFruit3, 0) } },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n        ]\n        listeCorrections = [\n          `${this.correctionDetaillee ? `Pour exprimer la masse totale du panier en grammes, on multiplie la masse totale par $${texNombre(1000, 0)}$.<br>` : ''}\n          $${texNombre(masseTotale, 3)}\\\\times ${texNombre(1000, 0)}$ kg = $${texNombre(masseTotale * 1000, 0)}$ g<br>\n          ${this.sup3 ? operation({ operande1: masseTotale, operande2: 1000, type: 'multiplication', precision: 0 }) : ''}\n         ${this.sup3 ? '<br><br>' : ''}\n     La masse totale de fruits dans le panier est de $${miseEnEvidence(texNombre(masseTotale * 1000, 0))}$ g.`,\n          `${this.correctionDetaillee ? `Pour exprimer la masse des ${fruit2.nomPluriel} en grammes, on multiplie la masse par $${texNombre(1000, 0)}$.<br>` : ''}\n          $${texNombre(masseFruit2 / 1000, 3, true)}\\\\text{ kg }\\\\times ${texNombre(1000, 0)}=${texNombre(masseFruit2, 0)}\\\\text{ g}$<br>\n        ${this.sup3 ? operation({ operande1: masseFruit2 / 1000, operande2: 1000, type: 'multiplication', precision: 0 }) : ''}\n             ${this.sup3 ? '<br><br>' : ''}\n     La masse des ${fruit2.nomPluriel} est de $${miseEnEvidence(texNombre(masseFruit2, 0))}$ g.`,\n          `${this.correctionDetaillee ? `Pour exprimer la masse des ${fruit3.nomPluriel} en grammes, on calcule la différence entre la masse du panier et la somme des masses de ${fruit1.nomPluriel} et de ${fruit2.nomPluriel}.<br>` : ''}\n          $${texNombre(masseTotale * 1000, 0)}-(${texNombre(masseFruit1, 0)} + ${texNombre(masseFruit2, 0)})=${texNombre(masseTotale * 1000, 0)}-${texNombre(masseFruit1 + masseFruit2, 0)}= ${texNombre(masseFruit3, 0)}$ g<br>\n            ${this.sup3 ? operation({ operande1: masseFruit1, operande2: masseFruit2, type: 'addition', precision: 0, style: 'display: inline-block' }) : ''}\n          ${this.sup3 ? operation({ operande1: masseTotale * 1000, operande2: masseFruit1 + masseFruit2, type: 'soustraction', precision: 0, style: 'display: inline-block' }) : ''}\n           ${this.sup3 ? '<br><br>' : ''}\n   ${prenom} a acheté $${miseEnEvidence(texNombre(masseFruit3, 0))}$ g ${fruit3.pluriel}.`,\n        ]\n      } else {\n        listeQuestions = [\n          `<br>Quelle est la masse des ${fruit3.nomPluriel} ?` +\n            ajouteQuestionMathlive({\n              exercice: this,\n              question: i,\n              objetReponse: { reponse: { value: texNombre(masseFruit3, 0) } },\n              typeInteractivite: 'mathlive',\n              texteApres: 'g',\n            }),\n        ]\n        listeCorrections = [\n          `${this.correctionDetaillee ? `Pour exprimer la masse des ${fruit3.nomPluriel} en grammes, on retire la masse totale ${fruit1.pluriel} et ${fruit2.pluriel} ${fruit1.nomSingulier.includes('une') && fruit2.nomSingulier.includes('une') ? 'achetées' : 'achetés'} de la masse du panier après conversion de toutes les donnnées en grammes.<br>` : ''}\n            ${this.sup3 ? operation({ operande1: masseTotale, operande2: 1000, type: 'multiplication', precision: 0, style: 'display: inline-block' }) : ''}\n         ${this.sup3 ? operation({ operande1: masseFruit2 / 1000, operande2: 1000, type: 'multiplication', precision: 0, style: 'display: inline-block' }) : ''}\n          ${this.sup3 ? operation({ operande1: masseTotale * 1000, operande2: masseFruit1 + masseFruit2, type: 'soustraction', precision: 0, style: 'display: inline-block' }) : ''}\n          ${this.sup3 ? '<br><br>' : ''}\n     - Masse du panier en grammes : $${texNombre(masseTotale, 3, true)}\\\\times ${texNombre(1000, 0)}\\\\text{ g }=${texNombre(masseTotale * 1000, 0)}$ g.<br>\n          - Masse totale ${fruit1.pluriel} et ${fruit2.pluriel} ${fruit1.nomSingulier.includes('une') && fruit2.nomSingulier.includes('une') ? 'achetées' : 'achetés'} : $${texNombre(masseFruit1, 0)}\\\\text{ g }+${texNombre(masseFruit2, 0)}\\\\text{ g }=${texNombre(masseFruit1 + masseFruit2, 0)}$ g.<br>\n          - Masse des ${fruit3.nomPluriel} : $${texNombre(masseTotale * 1000, 0)}\\\\text{ g }-${texNombre(masseFruit1 + masseFruit2, 0)}\\\\text{ g }=${miseEnEvidence(texNombre(masseFruit3, 0))}$ g.<br>\n          `,\n        ]\n      }\n      enonce +=\n        listeQuestions.length === 1\n          ? listeQuestions[0]\n          : createList({\n              items: listeQuestions,\n              style: 'alpha',\n            })\n      correction =\n        listeCorrections.length === 1\n          ? listeCorrections[0]\n          : createList({\n              items: listeCorrections,\n              style: 'alpha',\n            })\n      if (\n        this.questionJamaisPosee(\n          i,\n          [quantiteFruit1, quantiteFruit2, quantiteFruit3]\n            .map((el) => JSON.stringify(el))\n            .join(''),\n        )\n      ) {\n        this.listeQuestions[i] = enonce\n        this.listeCorrections[i] = correction\n        i++\n      }\n      cpt++\n    }\n  }\n}\n"],"names":["uuid","refs","titre","dateDePublication","dateDeModifImportante","interactifType","interactifReady","prenoms","ExerciceProbleme002","Exercice","prenomsMelanges","shuffle","i","cpt","listeFruit1","fruit1","choice","fruit2","fruit","fruit3","quantiteFruit2","quantiteFruit3","quantiteFruit1","masseFruit1","masseFruit2","masseFruit3","masseTotale","randint","correction","prenom","listeCorrections","enonce","texNombre","listeQuestions","ajouteQuestionMathlive","operation","miseEnEvidence","SchemaEnBoite","createList","el"],"mappings":"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"}