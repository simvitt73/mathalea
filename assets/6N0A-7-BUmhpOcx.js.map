{"version":3,"file":"6N0A-7-BUmhpOcx.js","sources":["../../src/exercices/6e/6N0A-7.ts"],"sourcesContent":["import { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { nombreEnLettres } from '../../modules/nombreEnLettres'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\n\nexport const titre = 'Écrire un nombre en chiffres ou en lettres'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * Lire un nombre / écrire un nombre : passer d'une écriture à une autre et inversement\n * On peut fixer la classe maximale : unités, milliers, millions, milliards\n * @author Jean-Claude Lhote\n\n */\n\nexport const uuid = '6babf'\n\nexport const refs = {\n  'fr-fr': ['6N0A-7'],\n  'fr-2016': ['6N10-0'],\n  'fr-ch': ['9NO1-2'],\n}\nexport default class ÉcrireNombresEntiers extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de questions',\n      3,\n      \"1 : Écrire en lettres un nombre donné en chiffres\\n2 : Écrire en chiffres un nombre donné en lettres\\n3 : Passer d'une écriture à l'autre\",\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Niveau',\n      4,\n      \"1 : Élémentaire (jusqu'à la classe des milliers) \\n2 : Facile (jusqu'à la classe des millions)\\n3 : Moyen (jusqu'à la classe des milliards)\\n4 : Difficile\",\n    ]\n\n    this.nbQuestions = 5\n\n    this.sup = 1\n    this.sup2 = 3\n  }\n\n  nouvelleVersion() {\n    let typeDeConsigne: number[] = []\n    if (this.sup === 1) {\n      this.consigne = 'Écrire le nombre en lettres.'\n      typeDeConsigne = combinaisonListes([1], this.nbQuestions)\n    } else if (this.sup === 2) {\n      this.consigne = 'Écrire le nombre en chiffres.'\n      typeDeConsigne = combinaisonListes([2], this.nbQuestions)\n      if (this.interactif)\n        this.consigne = 'Écrire le nombre en chiffres sans oublier les espaces.'\n    } else if (this.sup === 3) {\n      this.consigne =\n        \"Passer de l'écriture en chiffres à celle en lettres et inversement.\"\n      typeDeConsigne = combinaisonListes([1, 2], this.nbQuestions)\n    }\n    let typesDeQuestionsDisponibles\n    if (this.sup2 === 1) typesDeQuestionsDisponibles = [1, 1, 1, 2, 2]\n    else if (this.sup2 === 2) typesDeQuestionsDisponibles = [1, 2, 2, 2, 3]\n    else if (this.sup2 === 3) typesDeQuestionsDisponibles = [2, 2, 3, 3, 4]\n    else typesDeQuestionsDisponibles = [2, 3, 3, 4, 4]\n\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    for (\n      let i = 0, texte, texteCorr, a, b, c, nombre, tranche, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      nombre = 0\n      tranche = []\n      while (nombre === 0) {\n        tranche.splice(0)\n        for (let j = 0; j < listeTypeDeQuestions[i]; j++) {\n          a = randint(1, 9)\n          b = randint(1, 9)\n          c = randint(1, 9)\n          tranche.push(\n            choice([\n              0,\n              100,\n              20,\n              80,\n              a,\n              a * 100,\n              a * 100 + b * 10 + c,\n              a * 100 + 80 + b,\n              a * 10,\n              a * 100 + b * 10 + 1,\n            ]),\n          )\n        }\n        for (let j = 0; j < listeTypeDeQuestions[i]; j++) {\n          nombre += tranche[j] * 10 ** (j * 3)\n        }\n        if (tranche[listeTypeDeQuestions[i] - 1] === 0) nombre = 0\n      }\n      if (typeDeConsigne[i] === 1) {\n        setReponse(this, i, nombreEnLettres(nombre))\n        if (context.vue !== 'diap')\n          texte = `$${texNombre(nombre)} ${!this.interactif ? ' :  $' : '$ <br>' + ajouteChampTexteMathLive(this, i, KeyboardType.alphanumeric)}`\n        else texte = `$${texNombre(nombre)}$`\n        if (context.vue !== 'diap')\n          texteCorr = `$${texNombre(nombre)}$ : ${nombreEnLettres(nombre)}`\n        else texteCorr = `${nombreEnLettres(nombre)}`\n      } else {\n        setReponse(this, i, texNombre(nombre), { formatInteractif: 'texte' })\n        handleAnswers(this, i, {\n          reponse: {\n            value: texNombre(nombre),\n            options: { nombreAvecEspace: true },\n          },\n        })\n        if (context.vue !== 'diap')\n          texte = `${nombreEnLettres(nombre)} ${!this.interactif ? ' :  ' : ' <br>' + ajouteChampTexteMathLive(this, i, KeyboardType.numbersSpace, { espace: true })}`\n        else texte = `${nombreEnLettres(nombre)}`\n        if (context.vue !== 'diap')\n          texteCorr = `${nombreEnLettres(nombre)} : $${texNombre(nombre)}$`\n        else texteCorr = `$${texNombre(nombre)}$`\n      }\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","refs","ÉcrireNombresEntiers","Exercice","typeDeConsigne","combinaisonListes","typesDeQuestionsDisponibles","listeTypeDeQuestions","texte","texteCorr","a","b","c","nombre","tranche","cpt","j","randint","choice","setReponse","nombreEnLettres","context","texNombre","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}