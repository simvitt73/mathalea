{"version":3,"file":"can2a-2024-Q29-D2yv5uKg.js","sources":["../../src/exercices/can/can2a-2024/can2a-2024-Q29.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/view/viewcan.2024.2e.test.ts ⚠️\n */\n\nimport { repere } from '../../../lib/2d/reperes'\nimport { texteParPosition } from '../../../lib/2d/textes'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport {\n  Spline,\n  spline,\n  type NoeudSpline,\n} from '../../../lib/mathFonctions/Spline'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { context } from '../../../modules/context'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\n\nexport const titre = 'Lire une image graphiquement '\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = '325b5'\n/**\n * Modèle d'exercice très simple pour la course aux nombres\n * @author Gilles Mora\n\n*/\nexport default class NomExercice extends ExerciceSimple {\n  spline?: Spline\n  constructor() {\n    super()\n    this.canOfficielle = false\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.formatChampTexte = KeyboardType.clavierDeBase\n  }\n\n  nouvelleVersion() {\n    function aleatoiriseCourbe1(listeFonctions: NoeudSpline[][]) {\n      const choix = choice(listeFonctions)\n      return choix.map((noeud) =>\n        Object({\n          x: noeud.x,\n          y: noeud.y,\n          deriveeGauche: noeud.deriveeGauche,\n          deriveeDroit: noeud.deriveeDroit,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n    function aleatoiriseCourbe2(listeFonctions: NoeudSpline[][]) {\n      const coeffX = choice([-1, 1]) // choice([-1, 1]) // symétries ou pas\n      const coeffY = choice([-1, 1]) // choice([-1, 1])\n      const deltaX = randint(-2, +2) // randint(-2, +2) // translations\n      const deltaY = 0 // randint(-1, 1)// randint(-2, +2)\n      const choix = choice(listeFonctions)\n      return choix.map((noeud) =>\n        Object({\n          x: (noeud.x + deltaX) * coeffX,\n          y: (noeud.y + deltaY) * coeffY,\n          deriveeGauche: noeud.deriveeGauche * coeffX * coeffY,\n          deriveeDroit: noeud.deriveeDroit * coeffX * coeffY,\n          isVisible: noeud.isVisible,\n        }),\n      )\n    }\n    if (this.canOfficielle) {\n      const noeuds2 = [\n        { x: -6, y: -0.5, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n        {\n          x: -5,\n          y: 0,\n          deriveeGauche: 0.5,\n          deriveeDroit: 0.5,\n          isVisible: false,\n        },\n        {\n          x: -3,\n          y: 2,\n          deriveeGauche: 1.5,\n          deriveeDroit: 1.5,\n          isVisible: false,\n        },\n        { x: -2, y: 5, deriveeGauche: 0, deriveeDroit: -0.5, isVisible: false },\n        { x: 0, y: 3, deriveeGauche: -1, deriveeDroit: -1, isVisible: false },\n        { x: 1, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: false },\n        { x: 2, y: 0, deriveeGauche: -1, deriveeDroit: -1, isVisible: false },\n        {\n          x: 4,\n          y: -1,\n          deriveeGauche: -0.7,\n          deriveeDroit: -0.8,\n          isVisible: false,\n        },\n        { x: 6, y: -2, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      ]\n\n      const o = texteParPosition('O', -0.3, -0.3, 0, 'black', 1)\n      const maFonction = [noeuds2]\n      const nuage = aleatoiriseCourbe1(maFonction)\n      const theSpline = spline(nuage)\n      this.spline = theSpline\n      const bornes = theSpline.trouveMaxes()\n      const repere1 = repere({\n        xMin: bornes.xMin - 1,\n        xMax: bornes.xMax + 1,\n        yMin: bornes.yMin - 1,\n        yMax: bornes.yMax + 1,\n        grilleX: false,\n        grilleY: false,\n        grilleSecondaire: true,\n        grilleSecondaireYDistance: 1,\n        grilleSecondaireXDistance: 1,\n        grilleSecondaireYMin: bornes.yMin - 1,\n        grilleSecondaireYMax: bornes.yMax + 1,\n        grilleSecondaireXMin: bornes.xMin - 1,\n        grilleSecondaireXMax: bornes.xMax + 1,\n      })\n      const courbe1 = theSpline.courbe({\n        epaisseur: 1.5,\n        ajouteNoeuds: true,\n        optionsNoeuds: { color: 'blue', taille: 2, style: 'x', epaisseur: 2 },\n        color: 'blue',\n      })\n      const objetsEnonce = [repere1, courbe1]\n      if (context.isHtml) {\n        this.question = 'On donne le graphique d’une fonction $f$ : <br>'\n        this.question += mathalea2d(\n          Object.assign(\n            { pixelsParCm: 30, scale: 0.55, style: 'margin: auto' },\n            {\n              xmin: bornes.xMin - 1,\n              ymin: bornes.yMin - 1,\n              xmax: bornes.xMax + 1,\n              ymax: bornes.yMax + 1,\n            },\n          ),\n          objetsEnonce,\n          o,\n        )\n      }\n      this.question += 'Image de $0$ par la fonction $f$'\n      this.correction = `L'image de $0$ par $f$ est donnée par l'ordonnée du point d'intersection de la courbe avec l'axe des ordonnées. <br>\n    On lit $f(0)=${miseEnEvidence('3')}$.`\n      this.reponse = '3'\n      this.canEnonce = this.question // 'Compléter'\n      this.canReponseACompleter = ''\n    } else {\n      const noeuds1 = [\n        { x: -3, y: -1, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n        { x: -2, y: -3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n        { x: -1, y: -2, deriveeGauche: 1, deriveeDroit: 1, isVisible: true },\n        { x: 0, y: 0, deriveeGauche: 2, deriveeDroit: 2, isVisible: true },\n        { x: 1, y: 3, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n        { x: 2, y: 2, deriveeGauche: -1, deriveeDroit: -1, isVisible: true },\n        { x: 3, y: 1, deriveeGauche: 0, deriveeDroit: 0, isVisible: true },\n      ]\n\n      const mesFonctions = [noeuds1] // noeuds3,, noeuds2\n\n      const o = texteParPosition('O', -0.3, -0.3, 0, 'black', 1)\n      const nuage = aleatoiriseCourbe2(mesFonctions)\n      const theSpline = spline(nuage)\n      this.spline = theSpline\n      const bornes = theSpline.trouveMaxes()\n      const repere1 = repere({\n        xMin: bornes.xMin - 1,\n        xMax: bornes.xMax + 1,\n        yMin: bornes.yMin - 1,\n        yMax: bornes.yMax + 1,\n        grilleX: false,\n        grilleY: false,\n        grilleSecondaire: true,\n        grilleSecondaireYDistance: 1,\n        grilleSecondaireXDistance: 1,\n        grilleSecondaireYMin: bornes.yMin - 1,\n        grilleSecondaireYMax: bornes.yMax + 1,\n        grilleSecondaireXMin: bornes.xMin - 1,\n        grilleSecondaireXMax: bornes.xMax + 1,\n      })\n      const courbe2 = theSpline.courbe({\n        epaisseur: 1.5,\n        ajouteNoeuds: true,\n        optionsNoeuds: { color: 'blue', taille: 2, style: 'x', epaisseur: 2 },\n        color: 'blue',\n      })\n      const objetsEnonce = [repere1, courbe2]\n      const antecedent = randint(0, 6)\n      this.question = 'On donne le graphique d’une fonction $f$ : <br>'\n      this.question += mathalea2d(\n        Object.assign(\n          { pixelsParCm: 30, scale: 0.55, style: 'margin: auto' },\n          {\n            xmin: bornes.xMin - 1,\n            ymin: bornes.yMin - 1,\n            xmax: bornes.xMax + 1,\n            ymax: bornes.yMax + 1,\n          },\n        ),\n        objetsEnonce,\n        o,\n      ) // fixeBordures(objetsEnonce))\n      this.question += `\n        Quelle est l'image de $${theSpline.x[antecedent]}$ par  $f$ ?`\n      this.correction = `Pour lire l'image de $${theSpline.x[antecedent]}$, on place la valeur de $${theSpline.x[antecedent]}$ sur l'axe des abscisses (axe de lecture  des antécédents) et on lit\n           son image  sur l'axe des ordonnées (axe de lecture des images). <br>\n           On obtient :  $f(${theSpline.x[antecedent]})=${miseEnEvidence(theSpline.y[antecedent])}$.`\n\n      this.reponse = { reponse: { value: String(theSpline.y[antecedent]) } }\n      this.canEnonce = this.question // 'Compléter'\n      this.canReponseACompleter = ''\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","uuid","NomExercice","ExerciceSimple","__publicField","KeyboardType","aleatoiriseCourbe1","listeFonctions","choice","noeud","aleatoiriseCourbe2","coeffX","coeffY","deltaX","randint","deltaY","noeuds2","o","texteParPosition","nuage","theSpline","spline","bornes","repere1","repere","courbe1","objetsEnonce","context","mathalea2d","miseEnEvidence","mesFonctions","courbe2","antecedent"],"mappings":"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"}