{"version":3,"file":"1G10-7-C83Hv6Y6.js","sources":["../../src/exercices/1e/1G10-7.ts"],"sourcesContent":["import { afficheMesureAngle } from '../../lib/2d/AfficheMesureAngle'\nimport { codageAngle } from '../../lib/2d/angles'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { PointAbstrait, pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { nommePolygone, Polygone } from '../../lib/2d/polygones'\nimport { texteSurSegment } from '../../lib/2d/texteSurSegment'\nimport { triangle2points2longueurs } from '../../lib/2d/triangles'\nimport { angle, angleOriente } from '../../lib/2d/utilitairesGeometriques'\nimport { pointAdistance } from '../../lib/2d/utilitairesPoint'\nimport { createList } from '../../lib/format/lists'\nimport { deuxColonnes } from '../../lib/format/miseEnPage'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { shuffleLettres } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { creerNomDePolygone } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre = \"Utiliser la formule d'Al-Kashi\"\nexport const dateDePublication = '29/04/2025'\n\n/**\n *\n * @author Gilles Mora\n\n */\nexport const uuid = '9774f'\n\nexport const refs = {\n  'fr-fr': ['1G10-7'],\n  'fr-ch': [],\n}\n\nexport default class ProduitScalaireAlKashi extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    // this.nbQuestionsModifiable= false\n    this.sup = 4\n    this.spacing = 1.5\n    this.besoinFormulaire2CaseACocher = ['Rappel de la formule de cours', false]\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0, texte, texteCorr, reponse, objets, objetsC, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      objets = []\n      objetsC = []\n      const listeDeNomsDePolygones = ['QD']\n      const nomDesPoints = creerNomDePolygone(3, listeDeNomsDePolygones)\n      listeDeNomsDePolygones.push(nomDesPoints)\n      let longueurAB: number\n      let longueurAC: number\n      let longueurBC: number\n      let A: PointAbstrait\n      let B: PointAbstrait\n      let C: PointAbstrait\n      let ABC: Polygone\n      let cptDo = 0\n      do {\n        cptDo++\n        longueurAB = randint(4, 7)\n        longueurAC = randint(4, 7, longueurAB)\n        longueurBC =\n          randint(5, Math.min(longueurAB + longueurAC - 2, 10), [\n            longueurAB,\n            longueurAC,\n          ]) +\n          randint(1, 89) / 100\n        A = pointAbstrait(0, 0)\n        const angle = randint(-170, 170)\n        B = pointAdistance(A, longueurAB, angle)\n        ABC = triangle2points2longueurs(A, B, longueurAC, longueurBC)\n        C = ABC.listePoints[2]\n      } while (Math.abs(Math.abs(angleOriente(B, A, C)) - 90) < 3 && cptDo < 30)\n      const codeAB =\n        angleOriente(C, A, B) > 0\n          ? texteSurSegment(\n              `$${texNombre(longueurAB, 1)}$`,\n              A,\n              B,\n              'black',\n              0.5,\n              true,\n            )\n          : texteSurSegment(\n              `$${texNombre(longueurAB, 1)}$`,\n              B,\n              A,\n              'black',\n              0.5,\n              true,\n            )\n      const codeAC =\n        angleOriente(B, C, A) > 0\n          ? texteSurSegment(\n              `$${texNombre(longueurAC, 1)}$`,\n              C,\n              A,\n              'black',\n              0.5,\n              true,\n            )\n          : texteSurSegment(\n              `$${texNombre(longueurAC, 1)}$`,\n              A,\n              C,\n              'black',\n              0.5,\n              true,\n            )\n      const codeBCcours =\n        angleOriente(A, B, C) > 0\n          ? texteSurSegment('$a$', B, C, 'black', 0.5, true)\n          : texteSurSegment('$a$', C, B, 'black', 0.5, true)\n      const codeABcours =\n        angleOriente(C, A, B) > 0\n          ? texteSurSegment('$b$', A, B, 'black', 0.5, true)\n          : texteSurSegment('$b$', B, A, 'black', 0.5, true)\n      const codeACcours =\n        angleOriente(B, C, A) > 0\n          ? texteSurSegment('$c$', C, A, 'black', 0.5, true)\n          : texteSurSegment('$c$', A, C, 'black', 0.5, true)\n      const nom = shuffleLettres(creerNomDePolygone(3, listeDeNomsDePolygones))\n      listeDeNomsDePolygones.push(nom)\n      const nommeABC = nommePolygone(ABC, nom)\n      const nommeABCcours = nommePolygone(ABC, 'ABC', 0.4)\n      const codeAngleA = codageAngle(B, A, C, 1, '', 'red', 1, 1, 'red')\n      const codeAngleB = codageAngle(A, B, C, 1, '', 'green', 1, 1, 'green')\n      const codeAngleC = codageAngle(B, C, A, 1, '', 'blue', 1, 1, 'blue')\n      objetsC.push(\n        ABC,\n        nommeABCcours,\n        codeAngleA,\n        codeAngleB,\n        codeAngleC,\n        codeACcours,\n        codeABcours,\n        codeBCcours,\n      )\n      // On fixe la valeur de l'angle ici pour que l'arrondi fait dans MathALÉA2D et dans l'exercice soit toujours le même\n      const angleBACString = Math.round(angle(B, A, C)).toFixed(0)\n      objets.push(\n        ABC,\n        nommeABC,\n        codeAB,\n        codeAC,\n        afficheMesureAngle(B, A, C, 'black', 1, `${angleBACString}^\\\\circ`),\n      )\n      const figure = mathalea2d(\n        Object.assign(\n          { scale: 0.7, pixelsParCm: 20, style: 'inline' },\n          fixeBordures(objets),\n        ),\n        objets,\n      )\n      const figureC = mathalea2d(\n        Object.assign(\n          { scale: 0.7, pixelsParCm: 15, style: 'inline' },\n          fixeBordures(objetsC),\n        ),\n        objetsC,\n      )\n      const colonne1 =\n        `Soit $ABC$ un triangle avec $AB=b$, $AC=c$ et $BC=a$. Alors :<br>\n      <br>` +\n        createList({\n          items: [\n            '$a^2=b^2+c^2-2bc\\\\cos(\\\\widehat{BAC})$ ',\n            '$b^2=a^2+c^2-2ac\\\\cos(\\\\widehat{ACB})$ ',\n            '$c^2=a^2+b^2-2ab\\\\cos(\\\\widehat{ABC})$',\n          ],\n          style: 'fleches',\n        })\n      const colonne2 = figureC\n      const cours = deuxColonnes(colonne1, colonne2) + '<br>'\n      texte = `En utilisant la figure ci-dessous, calculer $${nom[1]}${nom[2]}$ à $10^{-1}$ près.<br>`\n      texte += figure\n      if (this.sup2) {\n        texteCorr = `${cours}`\n      } else {\n        texteCorr = ''\n      }\n      texteCorr += ` Dans le triangle  $${nom[0]}${nom[1]}${nom[2]}$, on connaît les longueurs $${nom[0]}${nom[1]}$, $${nom[0]}${nom[2]}$ et l'angle $\\\\widehat{${nom[1]}${nom[0]}${nom[2]}}$.<br>\n          On applique la formule d'Al Kashi  : <br><br>\n                $\\\\begin{aligned}\n               ${nom[1]}${nom[2]}^2&=${nom[0]}${nom[1]}^2+ ${nom[0]}${nom[2]}^2-2\\\\times ${nom[0]}${nom[1]}\\\\times ${nom[0]}${nom[2]} \\\\times \\\\cos(\\\\widehat{${nom[1]}${nom[0]}${nom[2]}})\\\\\\\\\n                ${nom[1]}${nom[2]}^2&=${longueurAB}^2+ ${longueurAC}^2-2\\\\times ${longueurAB}\\\\times ${longueurAC} \\\\times\\\\cos(${angleBACString}°)\\\\\\\\\n                ${nom[1]}${nom[2]}^2&=${longueurAB ** 2 + longueurAC ** 2}-${2 * longueurAB * longueurAC}\\\\cos(${angleBACString}°)\\\\\\\\\n                ${nom[1]}${nom[2]}&=\\\\sqrt{${longueurAB ** 2 + longueurAC ** 2}-${2 * longueurAB * longueurAC}\\\\cos(${angleBACString}°)}\\\\\\\\\n                ${nom[1]}${nom[2]}&\\\\approx ${miseEnEvidence(texNombre(Math.sqrt(longueurAB ** 2 + longueurAC ** 2 - 2 * longueurAB * longueurAC * Math.cos(arrondi((Number(angleBACString) * Math.PI) / 180, 4))), 1))}\\\\\\\\\n              \\\\end{aligned}$`\n      reponse = texNombre(\n        Math.sqrt(\n          longueurAB ** 2 +\n            longueurAC ** 2 -\n            2 *\n              longueurAB *\n              longueurAC *\n              Math.cos(arrondi((angle(B, A, C) * Math.PI) / 180, 4)),\n        ),\n        1,\n      )\n      handleAnswers(this, i, { reponse: { value: reponse } })\n      texte +=\n        ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase, {\n          texteAvant: `<br>$${nom[1]}${nom[2]}\\\\approx$`,\n        }) + '<br>'\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","titre","dateDePublication","uuid","refs","ProduitScalaireAlKashi","Exercice","i","texte","texteCorr","reponse","objets","objetsC","cpt","listeDeNomsDePolygones","nomDesPoints","creerNomDePolygone","longueurAB","longueurAC","longueurBC","A","B","C","ABC","cptDo","randint","pointAbstrait","angle","pointAdistance","triangle2points2longueurs","angleOriente","codeAB","texteSurSegment","texNombre","codeAC","codeBCcours","codeABcours","codeACcours","nom","shuffleLettres","nommeABC","nommePolygone","nommeABCcours","codeAngleA","codageAngle","codeAngleB","codeAngleC","angleBACString","afficheMesureAngle","figure","mathalea2d","fixeBordures","figureC","colonne1","createList","cours","deuxColonnes","miseEnEvidence","arrondi","handleAnswers","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}