{"version":3,"file":"2F11-1-CgsSKcm5.js","sources":["../../src/exercices/2e/2F11-1.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texFractionFromString } from '../../lib/outils/deprecatedFractions'\nimport { ecritureParentheseSiNegatif } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Déterminer l'image d'un nombre par une fonction de référence\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n// Les exports suivants sont optionnels mais au moins la date de publication semble essentielle\nexport const dateDePublication = '18/01/2022' // La date de publication initiale au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n// export const dateDeModifImportante = '24/10/2021' // Une date de modification importante au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n\n/**\n *\n * @author Degrange Mathieu\n *\n */\nexport const uuid = 'b6cc0'\n\nexport const refs = {\n  'fr-fr': ['2F11-1'],\n  'fr-ch': [],\n}\nexport default class ImageFonctionsRefs extends Exercice {\n  can: boolean\n  constructor() {\n    super()\n\n    this.nbQuestions = 8\n\n    this.besoinFormulaireCaseACocher = ['Fonction carré']\n    this.besoinFormulaire2CaseACocher = ['Fonction cube']\n    this.besoinFormulaire3CaseACocher = ['Fonction racine carrée']\n    this.besoinFormulaire4CaseACocher = ['Fonction inverse']\n    this.sup = true\n    this.sup2 = true\n    this.sup3 = true\n    this.sup4 = true\n    this.can = false // course aux nombres, si true les calculs pourront être fait de tête\n\n    this.nbCols = 2\n    this.nbColsCorr = 2\n  }\n\n  nouvelleVersion() {\n    const typeQuestionsDisponibles = []\n    this.sup && typeQuestionsDisponibles.push('carré')\n    this.sup2 && typeQuestionsDisponibles.push('cube')\n    this.sup3 && typeQuestionsDisponibles.push('racine carrée')\n    this.sup4 && typeQuestionsDisponibles.push('inverse')\n\n    if (typeQuestionsDisponibles.length === 0) {\n      typeQuestionsDisponibles.push('carré')\n    }\n\n    const listeTypeQuestions = combinaisonListes(\n      typeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n\n    const listeTypeQuestionsDansLOrdre = typeQuestionsDisponibles.filter((x) =>\n      listeTypeQuestions.includes(x),\n    )\n\n    this.consigne =\n      (typeQuestionsDisponibles.length >= 2 ? 'Soient ' : 'Soit ') +\n      listeTypeQuestionsDansLOrdre\n        .map((x, i) => '$' + ['f', 'g', 'h', 'i'][i] + '$ la fonction ' + x)\n        .join(', ')\n        .replace(/,([^,]*$)/, ' et$1') +\n      '.'\n\n    const listePhrases = combinaisonListes([0, 1], this.nbQuestions)\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      const nom = ['f', 'g', 'h', 'i'][\n        listeTypeQuestionsDansLOrdre.indexOf(listeTypeQuestions[i])\n      ]\n      let nombre: number\n      let solution: FractionEtendue\n      let calcul: number\n      switch (listeTypeQuestions[i]) {\n        case 'carré':\n          nombre = randint(-10, 10, [0, 1])\n          calcul = nombre * nombre\n          solution = new FractionEtendue(calcul, 1)\n          texteCorr = `$${nom}(${nombre}) = ${ecritureParentheseSiNegatif(nombre)}^2 = ${ecritureParentheseSiNegatif(nombre)} \\\\times ${ecritureParentheseSiNegatif(nombre)} = ${miseEnEvidence(texNombre(nombre * nombre, 0))}$`\n          break\n        case 'cube':\n          nombre = randint(-5, 5, [0, 1])\n          calcul = nombre * nombre * nombre\n          solution = new FractionEtendue(calcul, 1)\n          texteCorr = `$${nom}(${nombre}) = ${ecritureParentheseSiNegatif(nombre)}^3 = ${ecritureParentheseSiNegatif(nombre)} \\\\times ${ecritureParentheseSiNegatif(nombre)} \\\\times ${ecritureParentheseSiNegatif(nombre)} = ${ecritureParentheseSiNegatif(nombre * nombre)} \\\\times ${ecritureParentheseSiNegatif(nombre)} = ${miseEnEvidence(texNombre(nombre ** 3, 0))}$`\n          break\n        case 'racine carrée':\n          calcul = randint(1, 10)\n          solution = new FractionEtendue(calcul, 1)\n          nombre = calcul * calcul\n          texteCorr = `$${nom}(${nombre}) = ${miseEnEvidence(`\\\\sqrt{${nombre}}`)} = ${miseEnEvidence(solution.texFraction)} $ car $ ${ecritureParentheseSiNegatif(solution.valeurDecimale)}^2 = ${texNombre(nombre, 0)}$.`\n          break\n        case 'inverse':\n        default:\n          if (this.can) {\n            nombre = choice([2, 4, 5, 10])\n          } else {\n            const expo1 = randint(0, 5)\n            nombre = this.can\n              ? choice([2, 4, 5, 10])\n              : Math.pow(2, expo1) *\n                Math.pow(5, expo1 === 0 ? randint(1, 5) : randint(0, 5))\n          }\n          Math.random() < 0.25 && (nombre = arrondi(1 / nombre, 6))\n          Math.random() < 0.5 && (nombre *= -1)\n          solution = new FractionEtendue(1, nombre)\n          texteCorr = `$${nom}(${texNombre(nombre, 0)}) = ${miseEnEvidence(texFractionFromString(1, nombre))} = ${miseEnEvidence(solution.valeurDecimale)}$`\n          break\n      }\n      const phrase = listePhrases[i]\n        ? `$${nom}(${texNombre(nombre, 6)})$`\n        : `l'image de $${texNombre(nombre, 6)}$ par la fonction $${nom}$`\n      listePhrases[i] &&\n        (texteCorr += `<br>L'image de $${texNombre(nombre, 0)}$ par la fonction $${nom}$ est donc $${miseEnEvidence(solution.texFractionSimplifiee)}$.`)\n      texte = `Calculer ${phrase}.`\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecFraction,\n      )\n\n      // Si la question n'a jamais été posée, on l'enregistre\n      if (this.questionJamaisPosee(i, listeTypeQuestions[i], nombre)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        // setReponse(this, i, solution, { digits: 6, decimals: listeTypeQuestions[i] === 'inverse' ? 6 : 0, signe: true })\n        handleAnswers(this, i, { reponse: { value: solution.texFraction } })\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n    if (!context.isHtml) {\n      this.canEnonce = this.listeQuestions[0]\n      this.correction = this.listeCorrections[0]\n      this.canReponseACompleter = ''\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","ImageFonctionsRefs","Exercice","__publicField","typeQuestionsDisponibles","listeTypeQuestions","combinaisonListes","listeTypeQuestionsDansLOrdre","x","i","listePhrases","cpt","texte","texteCorr","nom","nombre","solution","calcul","randint","FractionEtendue","ecritureParentheseSiNegatif","miseEnEvidence","texNombre","choice","expo1","arrondi","texFractionFromString","phrase","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu","context"],"mappings":"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"}