{"version":3,"file":"5N110-CX377LjE.js","sources":["../../src/exercices/5e/5N110.ts"],"sourcesContent":["import { texPrix } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { texFractionFromString } from '../../lib/outils/deprecatedFractions'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Variation en pourcentages'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '16/08/2021'\n/**\n * Calculer +/- 20, 30, 40 ou 60 %\n * @author Rémi Angot\n * Rendre l'exercice interactif Laurence Candille\n */\nexport const uuid = 'b2c55'\n\nexport const refs = {\n  'fr-fr': ['5N110', 'BP2AutoB5', 'BP2CCF13'],\n  'fr-ch': ['9NO14-11'],\n}\nexport default class VariationEnPourcentages extends Exercice {\n  constructor() {\n    super()\n\n    this.consigne = 'Calculer le nouveau prix.'\n    this.nbQuestions = 5\n\n    this.spacingCorr = 2\n\n    this.interactifType = 'mathLive'\n  }\n\n  nouvelleVersion() {\n    let reponse\n    for (\n      let i = 0, prix, taux, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      prix = choice([\n        randint(2, 9),\n        randint(1, 9) * 10,\n        randint(1, 9) * 100,\n        randint(11, 99) / 10,\n      ])\n      // X | X0 | X00 | X,X0\n      taux = choice([20, 30, 40, 60])\n      if (choice([true, false])) {\n        reponse = (prix * (100 - taux)) / 100\n        if (context.isHtml) {\n          // partie html\n          texte = `Un article coûtait $${texPrix(prix)}$ € et son prix diminue de $${taux}\\\\, \\\\%$.<br><br>`\n          if (this.interactif) {\n            texte += '&ensp;&ensp;&ensp;&ensp;Le nouveau prix est :'\n            texte +=\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                texteApres: '€',\n              }) + '<br>'\n          }\n        } else {\n          // partie latex\n          texte = `Un article coûtait $${texPrix(prix)}$ € et son prix diminue de $${taux}\\\\, \\\\%$.<br><br>`\n        }\n\n        texteCorr = `$\\\\text{Diminution : }${texFractionFromString(taux, 100)}\\\\times  ${texPrix(prix)} = ${texPrix(prix * taux)}\\\\div 100=${texPrix((prix * taux) / 100)}$ €`\n        texteCorr += '<br>'\n        texteCorr += `$\\\\text{Nouveau prix : }${texPrix(prix)}-${texPrix((prix * taux) / 100)}=${texPrix(prix - (prix * taux) / 100)}$`\n      } else {\n        reponse = (prix * (100 + taux)) / 100\n        if (context.isHtml) {\n          // partie html\n          texte = `Un article coûtait $${texPrix(prix)}$ € et son prix augmente de $${taux}\\\\ \\\\%$.<br><br>`\n          if (this.interactif) {\n            texte += '&ensp;&ensp;&ensp;&ensp;Le nouveau prix est :'\n            texte +=\n              ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                texteApres: '€',\n              }) + '<br>'\n          }\n        } else {\n          // partie latex\n          texte = `Un article coûtait $${texPrix(prix)}$ € et son prix augmente de $${taux}\\\\, \\\\%$.<br><br>`\n        }\n        texteCorr = `$\\\\text{Augmentation : }${texFractionFromString(taux, 100)}\\\\times  ${texPrix(prix)}= ${texPrix(prix * taux)}\\\\div 100=${texPrix((prix * taux) / 100)}$ €`\n        texteCorr += '<br>'\n        texteCorr += `$\\\\text{Nouveau prix : }${texPrix(prix)}+${texPrix((prix * taux) / 100)}=${texPrix(prix * (1 + taux / 100))}$`\n      }\n      handleAnswers(this, i, { reponse: { value: reponse.toFixed(2) } })\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '').replace('<br>', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n      texteCorr += ' €'\n\n      if (this.questionJamaisPosee(i, taux, prix, reponse)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","VariationEnPourcentages","Exercice","reponse","i","prix","taux","texte","texteCorr","cpt","choice","randint","context","texPrix","ajouteChampTexteMathLive","KeyboardType","texFractionFromString","handleAnswers","textCorrSplit","aRemplacer","ee","miseEnEvidence","listeQuestionsToContenu"],"mappings":"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"}