{"version":3,"file":"5G12-DqUlRMnY.js","sources":["../../src/exercices/5e/5G12.ts"],"sourcesContent":["import { codageMilieu } from '../../lib/2d/CodageMilieu'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport type { PointAbstrait } from '../../lib/2d/PointAbstrait'\nimport type { Polygone } from '../../lib/2d/polygones'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint, texteParPosition } from '../../lib/2d/textes'\nimport type { TracePoint } from '../../lib/2d/TracePoint'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { rotation, translation } from '../../lib/2d/transformations'\nimport { vecteur } from '../../lib/2d/Vecteur'\nimport { texcolors } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { nombreAvecEspace } from '../../lib/outils/texNombre'\nimport { rotationAnimee } from '../../modules/2dAnimation'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  contraindreValeur,\n  egal,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport { Pavage, pavage } from '../../modules/Pavage'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Trouver l'image d'une figure par symétrie centrale dans un pavage\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const dateDeModifImportante = '23/07/2023'\n\n/**\n * Publié le 14/12/2020\n * Trouver l'image par symétrie centrale d'une figure dans un pavage\n * Version Latex & Html grâce à Mathalea2d\n * @author Jean-Claude Lhote\n */\nexport const uuid = '76ea9'\n\nexport const refs = {\n  'fr-fr': ['5G12'],\n  'fr-ch': ['9ES6-21'],\n}\nexport default class PavageEtDemiTour2D extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Taille du pavage (la grande est automatique au-delà de 5 questions)',\n      2,\n      ' 1 : Taille modeste\\n 2 : Grande taille',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Montrer les centres']\n    this.besoinFormulaire3Numerique = [\n      'Choix du pavage',\n      8,\n      \"1 : Triangles équilatéraux\\n2 : Carrés\\n3 : Hexagones réguliers\\n4 : Carrés et triangles équilatéraux\\n5 : Octogones et carrés\\n 6 : Losanges (pavage hexagonal d'écolier)\\n7 : Hexagones et triangles équilatéraux\\n8 : Un des sept pavages au hasard\",\n    ]\n\n    this.nbQuestions = 3\n\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = true\n\n    this.sup = 1 // 1 pour des pavages modestes, 2 pour des plus grands.\n    this.sup2 = false // On cache les barycentres par défaut.\n    this.sup3 = 7\n    context.isHtml ? (this.spacingCorr = 2.5) : (this.spacingCorr = 1.5)\n  }\n\n  nouvelleVersion() {\n    this.sup = contraindreValeur(1, 2, this.sup, randint(1, 2))\n    this.sup3 = contraindreValeur(1, 8, this.sup3, 8)\n    if (this.sup3 === 8) this.sup3 = randint(1, 7)\n    const videcouples = function (\n      tableau: [number, number][],\n    ): [number, number][] {\n      for (let k = 0; k < tableau.length; k++) {\n        for (let j = k + 1; j < tableau.length; j++) {\n          if (tableau[k][1] === tableau[j][0]) {\n            tableau.splice(j, 1)\n          }\n        }\n      }\n      return tableau\n    }\n    const videIdentite = function (tableau: number[][]) {\n      for (let k = 0; k < tableau.length; k++) {\n        if (tableau[k][1] === tableau[k][0]) {\n          tableau.splice(k, 1)\n        }\n      }\n      return tableau\n    }\n    const compare2polys = function (poly1: Polygone, poly2: Polygone) {\n      if (comparenbsommets(poly1, poly2)) {\n        if (comparesommets(poly1, poly2)) {\n          return true\n        } else {\n          return false\n        }\n      } else {\n        return false\n      }\n    }\n    const comparenbsommets = function (poly1: Polygone, poly2: Polygone) {\n      if (poly1.listePoints.length === poly2.listePoints.length) {\n        return true\n      } else return false\n    }\n\n    const compare2sommets = function (\n      sommet1: PointAbstrait,\n      sommet2: PointAbstrait,\n    ) {\n      if (egal(sommet1.x, sommet2.x, 0.1) && egal(sommet1.y, sommet2.y, 0.1)) {\n        return true\n      } else return false\n    }\n    const comparesommets = function (poly1: Polygone, poly2: Polygone) {\n      let trouve = false\n      let trouves = 0\n      if (comparenbsommets(poly1, poly2)) {\n        for (const P of poly1.listePoints) {\n          for (const M of poly2.listePoints) {\n            if (compare2sommets(M, P)) {\n              trouve = true\n            }\n            if (trouve) break\n          }\n          if (trouve) {\n            trouves++\n            trouve = false\n          } else {\n            trouves -= 100\n          }\n          if (trouves < 0) {\n            break\n          }\n        }\n      }\n      if (trouves === poly1.listePoints.length) {\n        return true\n      } else return false\n    }\n\n    const demitour = function (\n      pavage: Pavage,\n      A: PointAbstrait,\n      numero: number,\n    ) {\n      // retourne le numero du polygone symétrique ou -1 si il n'existe pas\n      const poly = pavage.polygones[numero - 1]\n      let pol\n      const result = -1\n      const sympoly = rotation(poly, A, 180)\n      for (let k = 0; k < pavage.polygones.length; k++) {\n        pol = pavage.polygones[k]\n        if (compare2polys(sympoly, pol)) {\n          return k + 1\n        }\n      }\n      return result\n    }\n\n    const objets: NestedObjetMathalea2dArray = []\n    const objetsCorrection = []\n    let P1\n    let P2\n    let P3\n    let G1\n    let G2\n    let t\n    const codes = ['/', '//', '///', 'o', 'w', 'X', 'U', '*']\n    let taillePavage = this.sup\n    if (taillePavage < 1 || taillePavage > 2) {\n      taillePavage = 1\n    }\n    if (this.nbQuestions > 5) {\n      taillePavage = 2\n    }\n\n    let Nx\n    let Ny\n    let index1\n    let A!: PointAbstrait\n    let B!: NestedObjetMathalea2dArray\n    let d!: TracePoint\n    let image\n    let couples: [number, number][] = []\n    let tailles = []\n    let monpavage = pavage()\n    let fenetre\n    let texte = ''\n    let texteCorr = ''\n    let typeDePavage = this.sup3\n    let nombreTentatives\n    let nombrePavageTestes = 1\n    while (couples.length < this.nbQuestions && nombrePavageTestes < 6) {\n      nombreTentatives = 0\n      monpavage = pavage() // On crée l'objet Pavage qui va s'appeler monpavage\n      tailles = [\n        [\n          [3, 2],\n          [3, 2],\n          [2, 2],\n          [2, 2],\n          [2, 2],\n          [2, 2],\n          [3, 2],\n        ],\n        [\n          [4, 3],\n          [4, 3],\n          [3, 3],\n          [3, 3],\n          [3, 3],\n          [3, 2],\n          [5, 3],\n        ],\n      ]\n      Nx = tailles[taillePavage - 1][typeDePavage - 1][0]\n      Ny = tailles[taillePavage - 1][typeDePavage - 1][1]\n      monpavage.construit(typeDePavage, Nx, Ny, 3) // On initialise toutes les propriétés de l'objet.\n      fenetre = monpavage.fenetre\n      context.fenetreMathalea2d = [\n        fenetre.xmin,\n        fenetre.ymin,\n        fenetre.xmax,\n        fenetre.ymax,\n      ]\n      while (couples.length < this.nbQuestions + 2 && nombreTentatives < 30) {\n        // On cherche d pour avoir suffisamment de couples\n        couples = [] // On vide la liste des couples pour une nouvelle recherche\n\n        index1 = randint(\n          Math.floor(monpavage.nb_polygones / 3),\n          Math.ceil((monpavage.nb_polygones * 2) / 3),\n        ) // On choisit 1 point dans un des polygones\n        if (choice([true, false])) {\n          A =\n            monpavage.polygones[index1].listePoints[\n              randint(0, monpavage.polygones[index1].listePoints.length - 1)\n            ] // On choisit un sommet\n        } else {\n          A = monpavage.barycentres[index1] // Ou on choisit un barycentre\n        }\n        while (\n          A.x - 5 < fenetre.xmin ||\n          A.x + 5 > fenetre.xmax ||\n          A.y - 5 < fenetre.ymin ||\n          A.y + 5 > fenetre.ymax\n        ) {\n          index1 = randint(\n            Math.floor(monpavage.nb_polygones / 3),\n            Math.ceil((monpavage.nb_polygones * 2) / 3),\n          ) // On choisit 1 point dans un des polygones\n          if (choice([true, false])) {\n            A =\n              monpavage.polygones[index1].listePoints[\n                randint(0, monpavage.polygones[index1].listePoints.length - 1)\n              ] // On choisit un sommet\n          } else {\n            A = monpavage.barycentres[index1] // Ou on choisit un barycentre\n          }\n        }\n        A.nom = 'A'\n        A.positionLabel = 'above left'\n        d = tracePoint(A, 'red') // la trace du centre de symétrie sera rouge et grosse\n        B = labelPoint(A)\n        d.epaisseur = 3\n        d.taille = 4\n        for (let i = 1; i <= monpavage.nb_polygones; i++) {\n          // on crée une liste des couples (antécédents, images)\n          image = demitour(monpavage, A, i)\n          if (image !== -1) {\n            // si l'image du polygone i existe, on ajoute le couple à la liste\n            couples.push([i, image])\n          }\n        }\n        videcouples(couples) // supprime tous les couples en double (x,y)=(y,x)\n        videIdentite(couples) // supprime tous les couples (x,x)\n        nombreTentatives++\n      }\n      if (couples.length < this.nbQuestions) {\n        if (this.sup3 === 7) {\n          typeDePavage = ((typeDePavage + 1) % 5) + 1\n        }\n        nombrePavageTestes++\n      }\n    }\n    if (couples.length < this.nbQuestions) {\n      console.error('trop de questions, augmentez la taille du pavage')\n      return\n    }\n\n    objets.push(d) // le centre est OK on pousse sa trace\n    objets.push(...B) // et son label\n    couples = shuffle(couples) // on mélange les couples\n    for (let i = 0; i < monpavage.nb_polygones; i++) {\n      objets.push(\n        texteParPosition(\n          nombreAvecEspace(i + 1),\n          monpavage.barycentres[i].x + 0.5,\n          monpavage.barycentres[i].y,\n          0,\n          'gray',\n          1,\n          'milieu',\n          true,\n        ),\n      )\n    }\n    if (this.sup2) {\n      // Doit-on montrer les centres des figures ?\n      for (let i = 0; i < monpavage.nb_polygones; i++) {\n        objets.push(monpavage.tracesCentres[i])\n      }\n    }\n    for (let i = 0; i < monpavage.nb_polygones; i++) {\n      // il faut afficher tous les polygones du pavage\n      objets.push(monpavage.polygones[i])\n    }\n    texte = mathalea2d(fenetre, objets) // monpavage.fenetre est calibrée pour faire entrer le pavage dans une feuille A4\n    for (let i = 0; i < this.nbQuestions; i++) {\n      texte += `Donner le numéro de l'image de la figure $${couples[i][0]}$ dans la symétrie de centre $A$.`\n      setReponse(this, i, couples[i][1])\n      texte +=\n        ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers) + '<br>'\n      texteCorr += `L'image de la figure $${couples[i][0]}$ dans la symétrie de centre $A$ est la figure $${miseEnEvidence(couples[i][1])}$.<br>`\n      if (this.correctionDetaillee) {\n        t = this.nbQuestions * 3\n        G1 = monpavage.barycentres[couples[i][0] - 1]\n        G2 = monpavage.barycentres[couples[i][1] - 1]\n        P1 = translation(\n          monpavage.polygones[couples[i][0] - 1],\n          vecteur(0, 0),\n        ) as Polygone // il faut créer un nouvel objet sinon on pointe vers le polygone du pavage qui est transparent !\n        P1.color = colorToLatexOrHTML(texcolors(i))\n        P1.couleurDeRemplissage = colorToLatexOrHTML(texcolors(i))\n        P1.opaciteDeRemplissage = 0.5\n        P1.epaisseur = 2\n        P2 = translation(monpavage.polygones[couples[i][1] - 1], vecteur(0, 0))\n        P2.color = colorToLatexOrHTML(texcolors(i))\n        P2.couleurDeRemplissage = colorToLatexOrHTML(texcolors(i))\n        P2.opaciteDeRemplissage = 0.5\n        P2.epaisseur = 2\n        if (context.isHtml) {\n          P3 = rotationAnimee(\n            [P1],\n            A,\n            180,\n            `begin=\"${i * 3}s;${i * 3 + t}s;${i * 3 + t * 2}s\" end=\"${i * 3 + 2}s;${i * 3 + t + 2}s;${i * 3 + t * 2 + 2}s\" dur=\"2s\" repeatCount=\"indefinite\" repeatDur=\"${9 * this.nbQuestions}s\" id=\"poly-${i}-anim\"`,\n          )\n          P3.color = colorToLatexOrHTML(texcolors(i))\n          P3.epaisseur = 2\n          objetsCorrection.push(P3)\n        }\n        objetsCorrection.push(\n          tracePoint(G1, G2),\n          segment(G1, G2, texcolors(i)),\n          codageMilieu(G1, G2, texcolors(i), codes[i], false),\n          P1,\n          P2,\n        )\n      }\n    }\n    if (this.correctionDetaillee) {\n      texteCorr += mathalea2d(fenetre, objets, objetsCorrection)\n    }\n    this.listeQuestions.push(texte)\n    this.listeCorrections.push(texteCorr)\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDeModifImportante","uuid","refs","PavageEtDemiTour2D","Exercice","context","contraindreValeur","randint","videcouples","tableau","k","j","videIdentite","compare2polys","poly1","poly2","comparenbsommets","comparesommets","compare2sommets","sommet1","sommet2","egal","trouve","trouves","P","M","demitour","pavage","A","numero","poly","pol","result","sympoly","rotation","objets","objetsCorrection","P1","P2","P3","G1","G2","t","codes","taillePavage","Nx","Ny","index1","B","d","image","couples","tailles","monpavage","fenetre","texte","texteCorr","typeDePavage","nombreTentatives","nombrePavageTestes","choice","tracePoint","labelPoint","i","shuffle","texteParPosition","nombreAvecEspace","mathalea2d","setReponse","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","translation","vecteur","colorToLatexOrHTML","texcolors","rotationAnimee","segment","codageMilieu","listeQuestionsToContenu"],"mappings":"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"}