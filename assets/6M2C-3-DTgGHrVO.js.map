{"version":3,"file":"6M2C-3-DTgGHrVO.js","sources":["../../src/exercices/6e/6M2C-3.ts"],"sourcesContent":["import { point } from '../../lib/2d/PointAbstrait'\nimport { Polygone, polygone } from '../../lib/2d/polygones'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport {\n  latexParCoordonnees,\n  texteParPositionEchelle,\n} from '../../lib/2d/textes'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { stringNombre, texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '09/04/2022'\nexport const dateDeModifImportante = '27/03/2024'\nexport const titre = \"Résoudre des problèmes d'aires de rectangles\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const uuid = '9a5fe'\n\nexport const refs = {\n  'fr-fr': ['6M2C-3'],\n  'fr-2016': ['6M10-1'],\n  'fr-ch': ['9GM1-9'],\n}\n/**\n * @author Jean-Claude Lhote\n */\n\ntype ItemType = {\n  type: string\n  indice: number\n  longueur: number\n}\ninterface Rectangle extends Polygone {\n  numero: number\n}\n\nfunction rangeLesLongueurs(\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n  typeDeGrille: number[],\n): ItemType[] {\n  const longueursPossibles = [3, 3.5, 4, 4.5, 5, 5.5, 6, 6.5]\n  let tableau = longueursHorizontales.concat(longueursVerticales)\n  tableau = tableau.sort((a, b) => a - b)\n  for (let i = 0; i < tableau.length - 1; i++) {\n    // On élimine les doublons\n    if (tableau[i] === tableau[i + 1]) tableau.splice(i, 1)\n  }\n  const liste: ItemType[] = [] // liste contiendra un objet qui renseigne sur la taille affichée de chacun des segments horizontaux et verticaux.\n  for (let i = 0; i < typeDeGrille[0]; i++) {\n    liste.push({\n      type: 'h',\n      indice: i,\n      longueur: longueursPossibles[tableau.indexOf(longueursHorizontales[i])],\n    })\n  }\n  for (let i = 0; i < typeDeGrille[1]; i++) {\n    liste.push({\n      type: 'v',\n      indice: i,\n      longueur: longueursPossibles[tableau.indexOf(longueursVerticales[i])],\n    })\n  }\n  return liste\n}\n\nfunction choisitFormatGrille(nombreEtapes: number): [number, number] {\n  switch (nombreEtapes) {\n    case 1:\n      return [1, 1]\n    case 2:\n      return choice([true, false]) ? [2, 1] : [1, 2]\n    case 3:\n      return [2, 2]\n    case 4:\n      return choice([true, false]) ? [2, 3] : [3, 2]\n    case 5:\n      return [3, 3]\n    case 6:\n      return choice([true, false]) ? [3, 4] : [4, 3]\n    case 7:\n    default:\n      return [4, 4]\n  }\n}\n\nfunction choisitLongueurs(tables: number[], typeDeGrille: number[]) {\n  const longueursHorizontales = [choice(tables)]\n  for (let i = 1; i < typeDeGrille[0]; i++)\n    longueursHorizontales.push(choice(tables, longueursHorizontales))\n  const longueursVerticales = [choice(tables)]\n  for (let i = 1; i < typeDeGrille[1]; i++)\n    longueursVerticales.push(choice(tables, longueursVerticales))\n  return [longueursHorizontales, longueursVerticales]\n}\n\nfunction fixeBordures(listeDeTailles: ItemType[], typeDeGrille: number[]) {\n  const listeEcartsHorizontaux = []\n  const listeEcartsVerticaux = []\n  for (const item of listeDeTailles) {\n    // on récupère les dimensions affichées des rectangles\n    if (item.type === 'h') listeEcartsHorizontaux.push(item.longueur)\n    else listeEcartsVerticaux.push(item.longueur)\n  }\n  const xBordures = [0] // tableau des coordonnées des bordures verticales\n  const yBordures = [0] // tableau des coordonnées des bordures horizontales\n  for (let i = 0; i < typeDeGrille[0]; i++) {\n    xBordures.push(xBordures[i] + listeEcartsHorizontaux[i])\n  }\n  for (let i = 0; i < typeDeGrille[1]; i++) {\n    yBordures.push(yBordures[i] + listeEcartsVerticaux[i])\n  }\n  return [xBordures, yBordures]\n}\n\nfunction creeRectangles(\n  typeDeGrille: number[],\n  xBordures: number[],\n  yBordures: number[],\n): Rectangle[][] {\n  const rectangles: Rectangle[][] = []\n  for (let i = 0; i < typeDeGrille[0]; i++) {\n    rectangles[i] = []\n    for (let j = 0; j < typeDeGrille[1]; j++) {\n      rectangles[i].push(\n        polygone(\n          [\n            point(xBordures[i], yBordures[j]),\n            point(xBordures[i + 1], yBordures[j]),\n            point(xBordures[i + 1], yBordures[j + 1]),\n            point(xBordures[i], yBordures[j + 1]),\n          ],\n          'black',\n        ) as Rectangle,\n      )\n    }\n  }\n  return rectangles\n}\n\nfunction calculAires(\n  typeDeGrille: number[],\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n) {\n  const aires: number[][] = []\n  for (let x = 0; x < typeDeGrille[0]; x++) {\n    aires[x] = []\n    for (let y = 0; y < typeDeGrille[1]; y++) {\n      aires[x].push(longueursHorizontales[x] * longueursVerticales[y])\n    }\n  }\n  return aires\n}\n\nfunction dessineGrille(\n  typeDeGrille: number[],\n  xBordures: number[],\n  yBordures: number[],\n) {\n  let segTemp\n  const objets = []\n  for (let i = 0; i < typeDeGrille[0] + 1; i++) {\n    segTemp = segment(xBordures[i], 0, xBordures[i], yBordures[typeDeGrille[1]])\n    segTemp.pointilles = 5\n    objets.push(segTemp)\n  }\n  for (let i = 0; i < typeDeGrille[1] + 1; i++) {\n    segTemp = segment(0, yBordures[i], xBordures[typeDeGrille[0]], yBordures[i])\n    segTemp.pointilles = 5\n    objets.push(segTemp)\n  }\n  return objets\n}\n\nfunction dessineCheminAires(\n  objetsEnonce: NestedObjetMathalea2dArray,\n  rectangles: Rectangle[][],\n  typeDeGrille: number[],\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n  aires: number[][],\n  xBordures: number[],\n  yBordures: number[],\n  nombreTotalEtapes: number,\n  etapeAireInconnue: number | boolean,\n): [string, 'colonne' | 'ligne', number, number[][]] {\n  const colonneDisponible = Array(typeDeGrille[0]).fill(true)\n  const ligneDisponible = Array(typeDeGrille[1]).fill(true)\n  let alternance: 'colonne' | 'ligne'\n  if (typeDeGrille[0] < typeDeGrille[1]) alternance = 'ligne'\n  else if (typeDeGrille[0] > typeDeGrille[1]) alternance = 'colonne'\n  else alternance = choice(['colonne', 'ligne'])\n  let x = 0\n  let y = 0\n  let index = 0\n  const listeCellules = []\n  for (let etape = 0; etape <= nombreTotalEtapes; ) {\n    switch (alternance) {\n      case 'colonne':\n        do {\n          index = randint(0, typeDeGrille[0] - 1)\n        } while (!colonneDisponible[index])\n        x = index\n        colonneDisponible[index] = false\n        if (etape === 0) {\n          objetsEnonce.push(\n            texteParPositionEchelle(\n              stringNombre(longueursHorizontales[x]) + ' cm',\n              (xBordures[x] + xBordures[x + 1]) / 2,\n              yBordures[typeDeGrille[1]] + 0.65,\n              0,\n              'black',\n              1,\n              'milieu',\n              false,\n              0.5,\n            ),\n          )\n        } else {\n          listeCellules.push([x, y])\n          if (etape === etapeAireInconnue) {\n            objetsEnonce.push(\n              latexParCoordonnees(\n                '?',\n                (xBordures[x] + xBordures[x + 1]) / 2,\n                (yBordures[y] + yBordures[y + 1]) / 2 + 0.65,\n                'red',\n                30,\n                10,\n                '',\n                30,\n              ),\n            )\n          } else {\n            objetsEnonce.push(\n              latexParCoordonnees(\n                texNombre(aires[x][y]) + '\\\\text{ cm}^2',\n                (xBordures[x] + xBordures[x + 1]) / 2,\n                (yBordures[y] + yBordures[y + 1]) / 2 + 0.65,\n                'black',\n                30,\n                10,\n                '',\n                10,\n              ),\n            )\n          }\n        }\n        alternance = 'ligne'\n        break\n      case 'ligne':\n        do {\n          index = randint(0, typeDeGrille[1] - 1)\n        } while (!ligneDisponible[index])\n        y = index\n        ligneDisponible[index] = false\n        if (etape === 0) {\n          objetsEnonce.push(\n            texteParPositionEchelle(\n              stringNombre(longueursVerticales[index]) + ' cm',\n              -1,\n              (yBordures[y] + yBordures[y + 1]) / 2,\n              0,\n              'black',\n              1,\n              'milieu',\n              false,\n              0.5,\n            ),\n          )\n        } else {\n          listeCellules.push([x, y])\n          if (etape === etapeAireInconnue) {\n            objetsEnonce.push(\n              latexParCoordonnees(\n                '?',\n                (xBordures[x] + xBordures[x + 1]) / 2,\n                (yBordures[y] + yBordures[y + 1]) / 2 + 0.65,\n                'red',\n                30,\n                10,\n                '',\n                30,\n              ),\n            )\n          } else {\n            objetsEnonce.push(\n              latexParCoordonnees(\n                texNombre(aires[x][y]) + '\\\\text{ cm}^2',\n                (xBordures[x] + xBordures[x + 1]) / 2,\n                (yBordures[y] + yBordures[y + 1]) / 2 + 0.65,\n                'black',\n                30,\n                10,\n                '',\n                10,\n              ),\n            )\n          }\n        }\n        alternance = 'colonne'\n        break\n    }\n    etape++\n  }\n  if (etapeAireInconnue) {\n    if (alternance === 'ligne') {\n      objetsEnonce.push(\n        texteParPositionEchelle(\n          longueursHorizontales[index].toString() + ' cm',\n          (xBordures[x] + xBordures[x + 1]) / 2,\n          yBordures[typeDeGrille[1]] + 1,\n          0,\n          'black',\n          1,\n          'milieu',\n          true,\n          0.5,\n        ),\n      )\n    } else {\n      objetsEnonce.push(\n        texteParPositionEchelle(\n          longueursVerticales[index].toString() + ' cm',\n          xBordures[typeDeGrille[0]] + 1,\n          (yBordures[y] + yBordures[y + 1]) / 2,\n          0,\n          'black',\n          1,\n          'milieu',\n          true,\n          0.5,\n        ),\n      )\n    }\n  } else {\n    if (alternance === 'ligne') {\n      objetsEnonce.push(\n        texteParPositionEchelle(\n          '?',\n          (xBordures[x] + xBordures[x + 1]) / 2,\n          yBordures[typeDeGrille[1]] + 1,\n          0,\n          'red',\n          2,\n          'milieu',\n          false,\n          0.7,\n        ),\n      )\n    } else {\n      objetsEnonce.push(\n        texteParPositionEchelle(\n          '?',\n          xBordures[typeDeGrille[0]] + 1,\n          (yBordures[y] + yBordures[y + 1]) / 2,\n          0,\n          'red',\n          2,\n          'milieu',\n          false,\n          0.7,\n        ),\n      )\n    }\n  }\n  let numeroteur = 0\n  for (let j = 0; j < typeDeGrille[1]; j++) {\n    for (let i = 0; i < typeDeGrille[0]; i++) {\n      if (listeCellules.find((el) => el[0] === i && el[1] === j)) {\n        rectangles[i][j].numero = numeroteur + 1\n        objetsEnonce.push(rectangles[i][j])\n        objetsEnonce.push(\n          latexParCoordonnees(\n            `\\\\fcolorbox{black}{pink}{${(numeroteur + 1).toString()}}`,\n            (xBordures[i] + xBordures[i + 1]) / 2,\n            (yBordures[j] + yBordures[j + 1]) / 2 - 0.65,\n            'black',\n            30,\n            10,\n            '',\n            10,\n          ),\n        )\n        numeroteur++\n      }\n    }\n  }\n  const paramsEnonce = {\n    xmin: -3.5,\n    ymin: -0.5,\n    xmax: xBordures[typeDeGrille[0]] + 2.5,\n    ymax: yBordures[typeDeGrille[1]] + 2,\n    pixelsParCm: 30,\n    scale: 0.7,\n    mainlevee: false,\n  }\n  const texte = mathalea2d(paramsEnonce, objetsEnonce)\n  return [texte, alternance, numeroteur, listeCellules]\n}\n\nfunction redigeCorrection(\n  rectangles: Rectangle[][],\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n  aires: number[][],\n  nombreTotalEtapes: number,\n  etapeAireInconnue: number | boolean,\n  alternance: 'colonne' | 'ligne',\n  numeroteur: number,\n  listeCellules: number[][],\n) {\n  let texteCorr = ''\n  let reponse\n  let colonneOuLigne\n  if (\n    (alternance === 'ligne' && numeroteur % 2 === 0) ||\n    (alternance === 'colonne' && numeroteur % 2 === 1)\n  )\n    colonneOuLigne = true\n  else colonneOuLigne = false\n  if (etapeAireInconnue) {\n    etapeAireInconnue = etapeAireInconnue as number\n    texteCorr = \"D'une part :<br>\"\n    ;[texteCorr, colonneOuLigne] = etapesDeUnAEtapeInconnue(\n      texteCorr,\n      longueursHorizontales,\n      longueursVerticales,\n      listeCellules,\n      rectangles,\n      aires,\n      etapeAireInconnue - 1,\n      colonneOuLigne,\n    )\n    texteCorr += \"D'autre part :<br>\"\n    ;[texteCorr, colonneOuLigne] = etapesDeLaFinAEtapeInconnue(\n      texteCorr,\n      longueursHorizontales,\n      longueursVerticales,\n      listeCellules,\n      rectangles,\n      aires,\n      etapeAireInconnue,\n      alternance === 'colonne',\n    ) as [string, boolean]\n    texteCorr += `Nous venons de calculer la largeur et la longueur du rectangle numéro $${miseEnEvidence(rectangles[listeCellules[etapeAireInconnue - 1][0]][listeCellules[etapeAireInconnue - 1][1]].numero)}$.<br>`\n    texteCorr += `On en déduit que son aire est $${texNombre(longueursHorizontales[listeCellules[etapeAireInconnue - 1][0]], 1)}\\\\times ${texNombre(longueursVerticales[listeCellules[etapeAireInconnue - 1][1]], 1)} = ${miseEnEvidence(texNombre(aires[listeCellules[etapeAireInconnue - 1][0]][listeCellules[etapeAireInconnue - 1][1]], 2))}\\\\text{ cm}^2$.<br>`\n    reponse = [\n      aires[listeCellules[etapeAireInconnue - 1][0]][\n        listeCellules[etapeAireInconnue - 1][1]\n      ],\n    ]\n  } else {\n    ;[texteCorr, colonneOuLigne] = etapesDeUnAEtapeInconnue(\n      texteCorr,\n      longueursHorizontales,\n      longueursVerticales,\n      listeCellules,\n      rectangles,\n      aires,\n      nombreTotalEtapes,\n      colonneOuLigne,\n    )\n    if (colonneOuLigne) {\n      if (\n        longueursVerticales[listeCellules[listeCellules.length - 1][1]] ===\n        longueursHorizontales[listeCellules[listeCellules.length - 1][0]]\n      ) {\n        texteCorr += `La mesure demandée est la longueur du côté du carré numéro ${texteEnCouleurEtGras(rectangles[listeCellules[listeCellules.length - 1][0]][listeCellules[listeCellules.length - 1][1]].numero, 'red')}, soit\n  $${miseEnEvidence(texNombre(longueursHorizontales[listeCellules[listeCellules.length - 1][0]], 1))} \\\\text{ cm}$.`\n      } else {\n        texteCorr += `La mesure demandée est la ${longueursVerticales[listeCellules[listeCellules.length - 1][1]] > longueursHorizontales[listeCellules[listeCellules.length - 1][0]] ? 'largeur' : 'longueur'}\n  du rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[listeCellules.length - 1][0]][listeCellules[listeCellules.length - 1][1]].numero, 'red')}, soit\n  $${miseEnEvidence(texNombre(longueursHorizontales[listeCellules[listeCellules.length - 1][0]], 1))} \\\\text{ cm}$.`\n      }\n      reponse = [\n        longueursHorizontales[listeCellules[listeCellules.length - 1][0]],\n      ]\n    } else {\n      if (\n        longueursHorizontales[listeCellules[listeCellules.length - 1][0]] ===\n        longueursVerticales[listeCellules[listeCellules.length - 1][1]]\n      ) {\n        texteCorr += `La mesure demandée est la longueur du côté du carré numéro ${texteEnCouleurEtGras(rectangles[listeCellules[listeCellules.length - 1][0]][listeCellules[listeCellules.length - 1][1]].numero, 'red')}, soit\n  $${miseEnEvidence(texNombre(longueursVerticales[listeCellules[listeCellules.length - 1][1]], 1))} \\\\text{ cm}$.`\n      } else {\n        texteCorr += `La mesure demandée est la ${longueursHorizontales[listeCellules[listeCellules.length - 1][0]] > longueursVerticales[listeCellules[listeCellules.length - 1][1]] ? 'largeur' : 'longueur'}\ndu rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[listeCellules.length - 1][0]][listeCellules[listeCellules.length - 1][1]].numero, 'red')}, soit\n$${miseEnEvidence(texNombre(longueursVerticales[listeCellules[listeCellules.length - 1][1]], 1))} \\\\text{ cm}$.`\n      }\n      reponse = [\n        longueursVerticales[listeCellules[listeCellules.length - 1][1]],\n      ]\n    }\n  }\n  return [texteCorr, reponse]\n}\n\nfunction etapesDeLaFinAEtapeInconnue(\n  texteCorr: string,\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n  listeCellules: number[][],\n  rectangles: Rectangle[][],\n  aires: number[][],\n  etapeAireInconnue: number,\n  colonneOuLigne: boolean,\n) {\n  for (let i = listeCellules.length - 1; i >= etapeAireInconnue; i--) {\n    if (!colonneOuLigne) {\n      texteCorr += `Puisque la ${longueursHorizontales[listeCellules[i][0]] >= longueursVerticales[listeCellules[i][1]] ? 'longueur' : 'largeur'}\n  du rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')}\n  est $${texNombre(longueursHorizontales[listeCellules[i][0]], 1)}\\\\text{ cm}$ et\n  que son aire est $${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2$,\n  sa ${longueursHorizontales[listeCellules[i][0]] < longueursVerticales[listeCellules[i][1]] ? 'longueur' : 'largeur'} est :\n  $\\\\dfrac{${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2}{${texNombre(longueursHorizontales[listeCellules[i][0]], 1)}\\\\text{ cm}}=${texNombre(longueursVerticales[listeCellules[i][1]], 1)}\\\\text{ cm}$.`\n      if (\n        longueursHorizontales[listeCellules[i][0]] ===\n        longueursVerticales[listeCellules[i][1]]\n      ) {\n        texteCorr += ` Le rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')} est un carré.<br>`\n      } else {\n        texteCorr += '<br>'\n      }\n    } else {\n      texteCorr += `Comme la ${longueursVerticales[listeCellules[i][1]] >= longueursHorizontales[listeCellules[i][0]] ? 'longueur' : 'largeur'}\n  du rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')}\n  est $${texNombre(longueursVerticales[listeCellules[i][1]], 1)}\\\\text{ cm}$ et\n  que son aire est $${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2$,\n  sa ${longueursVerticales[listeCellules[i][1]] < longueursHorizontales[listeCellules[i][0]] ? 'longueur' : 'largeur'} est :\n  $\\\\dfrac{${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2}{${texNombre(longueursVerticales[listeCellules[i][1]], 1)}\\\\text{ cm}}=${texNombre(longueursHorizontales[listeCellules[i][0]], 1)}\\\\text{ cm}$.`\n      if (\n        longueursVerticales[listeCellules[i][1]] ===\n        longueursHorizontales[listeCellules[i][0]]\n      ) {\n        texteCorr += ` Le rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')} est un carré.<br>`\n      } else {\n        texteCorr += '<br>'\n      }\n    }\n    colonneOuLigne = !colonneOuLigne\n  }\n\n  return [texteCorr, colonneOuLigne]\n}\n\nfunction etapesDeUnAEtapeInconnue(\n  texteCorr: string,\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n  listeCellules: number[][],\n  rectangles: Rectangle[][],\n  aires: number[][],\n  etapeInconnue: number,\n  colonneOuLigne: boolean,\n): [string, boolean] {\n  for (let i = 0; i < etapeInconnue; i++) {\n    if (colonneOuLigne) {\n      texteCorr += `Puisque la ${longueursHorizontales[listeCellules[i][0]] <= longueursVerticales[listeCellules[i][1]] ? 'largeur' : 'longueur'}\n  du rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')}\n  est $${texNombre(longueursHorizontales[listeCellules[i][0]], 1)}\\\\text{ cm}$ et\n  que son aire est $${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2$,\n  sa ${longueursHorizontales[listeCellules[i][0]] > longueursVerticales[listeCellules[i][1]] ? 'largeur' : 'longueur'} est :\n  $\\\\dfrac{${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2}{${texNombre(longueursHorizontales[listeCellules[i][0]], 1)}\\\\text{ cm}}=${texNombre(longueursVerticales[listeCellules[i][1]], 1)}\\\\text{ cm}$.`\n      if (\n        longueursHorizontales[listeCellules[i][0]] ===\n        longueursVerticales[listeCellules[i][1]]\n      ) {\n        texteCorr += ` Le rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')} est un carré.<br>`\n      } else {\n        texteCorr += '<br>'\n      }\n    } else {\n      texteCorr += `Comme la ${longueursVerticales[listeCellules[i][1]] <= longueursHorizontales[listeCellules[i][0]] ? 'largeur' : 'longueur'}\n  du rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')}\n  est $${texNombre(longueursVerticales[listeCellules[i][1]], 1)}\\\\text{ cm}$ et\n  que son aire est $${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2$,\n  sa ${longueursVerticales[listeCellules[i][1]] > longueursHorizontales[listeCellules[i][0]] ? 'largeur' : 'longueur'} est :\n  $\\\\dfrac{${texNombre(aires[listeCellules[i][0]][listeCellules[i][1]], 2)}\\\\text{ cm}^2}{${texNombre(longueursVerticales[listeCellules[i][1]], 1)}\\\\text{ cm}}=${texNombre(longueursHorizontales[listeCellules[i][0]], 1)}\\\\text{ cm}$.`\n      if (\n        longueursVerticales[listeCellules[i][1]] ===\n        longueursHorizontales[listeCellules[i][0]]\n      ) {\n        texteCorr += ` Le rectangle numéro ${texteEnCouleurEtGras(rectangles[listeCellules[i][0]][listeCellules[i][1]].numero, 'red')} est un carré.<br>`\n      } else {\n        texteCorr += '<br>'\n      }\n    }\n    colonneOuLigne = !colonneOuLigne\n  }\n\n  return [texteCorr, colonneOuLigne]\n}\n\nfunction prepareProblemeAire(\n  objetsEnonce: NestedObjetMathalea2dArray,\n  rectangles: Rectangle[][],\n  typeDeGrille: number[],\n  longueursHorizontales: number[],\n  longueursVerticales: number[],\n  aires: number[][],\n  xBordures: number[],\n  yBordures: number[],\n  nombreTotalEtapes: number,\n  etapeAireInconnue: number | boolean,\n) {\n  const [texte, alternance, numeroteur, listeCellules] = dessineCheminAires(\n    objetsEnonce,\n    rectangles,\n    typeDeGrille,\n    longueursHorizontales,\n    longueursVerticales,\n    aires,\n    xBordures,\n    yBordures,\n    nombreTotalEtapes,\n    etapeAireInconnue,\n  )\n  const [texteCorr, rep] = redigeCorrection(\n    rectangles,\n    longueursHorizontales,\n    longueursVerticales,\n    aires,\n    nombreTotalEtapes,\n    etapeAireInconnue,\n    alternance,\n    numeroteur,\n    listeCellules,\n  )\n  // const reponse = new Grandeur(rep[0], rep[1])\n  const reponse = rep[0]\n  return [texte, texteCorr, reponse]\n}\n\nexport default class ProblemesAiresRectangles extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      \"Nombre d'étapes (de 1 à 7)\",\n      'Nombres séparés par des tirets :',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Difficulté',\n      2,\n      '1 : Facile\\n2 : Moins facile',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Longueurs entières', true]\n    this.besoinFormulaire4Texte = [\n      'Choix des problèmes',\n      'Nombres séparés par des tirets :\\n1 : Longueur finale\\n2 : Aire intermédiaire',\n    ]\n    this.consigne = \"Trouver la mesure désignée par un point d'interrogation.\"\n    this.nbQuestions = 1\n\n    this.sup = 5\n    this.sup2 = 2\n    this.sup4 = 1\n    this.sup3 = true\n    this.spacingCorr = context.isHtml ? 3 : 2\n  }\n\n  nouvelleVersion() {\n    let choixDesTables\n\n    const nombreTotalEtapes = gestionnaireFormulaireTexte({\n      max: 7,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      melange: 0,\n    }).map(Number)\n\n    const typesDeProblemes = gestionnaireFormulaireTexte({\n      max: 2,\n      defaut: 1,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup4,\n      melange: 0,\n    })\n\n    if (this.sup2 === 1) choixDesTables = [2, 3, 4, 5, 6, 7, 8, 9]\n    else choixDesTables = [3, 4, 6, 7, 8, 9, 11, 12]\n\n    for (\n      let q = 0, cpt = 0, texte, texteCorr, reponse;\n      q < this.nbQuestions && cpt < 50;\n\n    ) {\n      const typeDeGrille = choisitFormatGrille(nombreTotalEtapes[q])\n      // On détermine les 8 longueurs nécessaires et on prépare la grille de rectangles\n      const [longueursHorizontales, longueursVerticales] = choisitLongueurs(\n        choixDesTables,\n        typeDeGrille,\n      )\n      if (!this.sup3) {\n        for (let i = 0; i < longueursHorizontales.length; i++) {\n          longueursHorizontales[i] = arrondi(\n            longueursHorizontales[i] + (randint(0, 1) * randint(1, 9)) / 10,\n            1,\n          )\n        }\n        for (let i = 0; i < longueursVerticales.length; i++) {\n          longueursVerticales[i] = arrondi(\n            longueursVerticales[i] + (randint(0, 1) * randint(1, 9)) / 10,\n            1,\n          )\n        }\n      }\n      const listeDeTailles = rangeLesLongueurs(\n        longueursHorizontales,\n        longueursVerticales,\n        typeDeGrille,\n      )\n      const [xBordures, yBordures] = fixeBordures(listeDeTailles, typeDeGrille)\n      const rectangles = creeRectangles(typeDeGrille, xBordures, yBordures)\n      // On trace une grille en pointillés pour prolonger les rectangles\n      const objetsEnonce = dessineGrille(typeDeGrille, xBordures, yBordures) // Grille en pointillés sur laquelle on ajoutera les rectangles\n      const aires = calculAires(\n        typeDeGrille,\n        longueursHorizontales,\n        longueursVerticales,\n      ) // tableau contenant toutes les aires des rectangles\n      // on crée la question\n      const tablo = prepareProblemeAire(\n        objetsEnonce,\n        rectangles,\n        typeDeGrille,\n        longueursHorizontales,\n        longueursVerticales,\n        aires,\n        xBordures,\n        yBordures,\n        nombreTotalEtapes[q],\n        typesDeProblemes[q] === 1\n          ? false\n          : Math.floor((nombreTotalEtapes[q] + 1) / 2),\n      ) as [string, string, number]\n      texte = tablo[0]\n      texteCorr = tablo[1]\n      reponse = tablo[2]\n      setReponse(this, q, reponse)\n      texte += ajouteChampTexteMathLive(this, q, KeyboardType.clavierNumbers, {\n        texteAvant: 'Réponse : ',\n        texteApres: this.sup4 === 1 ? '$ \\\\text{ cm}$' : '$ \\\\text{ cm}^2$',\n      })\n      if (\n        this.questionJamaisPosee(\n          q,\n          ...longueursHorizontales,\n          ...longueursVerticales,\n        )\n      ) {\n        this.listeQuestions[q] = texte\n        this.listeCorrections[q] = texteCorr\n\n        q++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this) // On envoie l'exercice à la fonction de mise en page\n  }\n}\n"],"names":["dateDePublication","dateDeModifImportante","titre","interactifReady","interactifType","uuid","refs","rangeLesLongueurs","longueursHorizontales","longueursVerticales","typeDeGrille","longueursPossibles","tableau","a","b","i","liste","choisitFormatGrille","nombreEtapes","choice","choisitLongueurs","tables","fixeBordures","listeDeTailles","listeEcartsHorizontaux","listeEcartsVerticaux","item","xBordures","yBordures","creeRectangles","rectangles","j","polygone","point","calculAires","aires","x","y","dessineGrille","segTemp","objets","segment","dessineCheminAires","objetsEnonce","nombreTotalEtapes","etapeAireInconnue","colonneDisponible","ligneDisponible","alternance","index","listeCellules","etape","randint","texteParPositionEchelle","stringNombre","latexParCoordonnees","texNombre","numeroteur","el","paramsEnonce","mathalea2d","redigeCorrection","texteCorr","reponse","colonneOuLigne","etapesDeUnAEtapeInconnue","etapesDeLaFinAEtapeInconnue","miseEnEvidence","texteEnCouleurEtGras","etapeInconnue","prepareProblemeAire","texte","rep","ProblemesAiresRectangles","Exercice","context","choixDesTables","gestionnaireFormulaireTexte","typesDeProblemes","q","cpt","arrondi","tablo","setReponse","ajouteChampTexteMathLive","KeyboardType","listeQuestionsToContenu"],"mappings":"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"}