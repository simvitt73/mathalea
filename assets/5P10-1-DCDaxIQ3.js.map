{"version":3,"file":"5P10-1-DCDaxIQ3.js","sources":["../../src/exercices/5e/5P10-1.ts"],"sourcesContent":["import { afficheLongueurSegment } from '../../lib/2d/afficheLongueurSegment'\nimport { codageAngleDroit } from '../../lib/2d/CodageAngleDroit'\nimport { codageSegments } from '../../lib/2d/CodageSegment'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { nommePolygone, polygone } from '../../lib/2d/polygones'\nimport { rotation } from '../../lib/2d/transformations'\nimport { triangle2points2longueurs } from '../../lib/2d/triangles'\nimport { angleOriente } from '../../lib/2d/utilitairesGeometriques'\nimport { pointAdistance } from '../../lib/2d/utilitairesPoint'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieDecimale,\n  nombreDeChiffresDe,\n} from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre, sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  \"Agrandir ou réduire des figures, d'après une situation de proportionnalité\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const dateDePublication = '13/03/2022'\nexport const dateDeModifImportante = '03/04/2025'\n\n/**\n * Trouver comment agrandir ou réduire des longueurs d'une figure et construire la figure demandée\n * @author Eric Elter\n */\nexport const uuid = 'e4d13'\n\nexport const refs = {\n  'fr-fr': ['5P10-1'],\n  'fr-2016': ['6P14'],\n  'fr-ch': ['9FA3-17'],\n}\nclass AgrandirReduireFigure extends Exercice {\n  constructor() {\n    super()\n\n    this.besoinFormulaireTexte = [\n      'Type de figures',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Triangle équilatéral',\n        '2 : Carré',\n        \"3 : Triangle avec coefficient de réduction ou d'agrandissement\",\n        '4 : Triangle avec longueur initiale et longueur finale',\n        \"5 : Rectangle avec coefficient de réduction ou d'agrandissement\",\n        '6 : Rectangle avec longueur initiale et longueur finale',\n        '7 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire2Texte = [\n      'Longueur maximum dans la figure à produire (5 minimum)',\n      '',\n    ]\n    this.sup = 7\n    this.sup2 = '15'\n    this.nbQuestions = 4\n\n    this.spacing = 2\n  }\n\n  nouvelleVersion() {\n    const listeTypeQuestions = gestionnaireFormulaireTexte({\n      max: 6,\n      defaut: 7,\n      melange: 7,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n    })\n    const longueurMaximum = Math.max(5, Number(this.sup2))\n    const texteAgrandissementOuReduction = [\n      [' agrandissement', 'e réduction'],\n      [\"l'agrandissement demandé\", 'la réduction demandée'],\n    ] // Ne pas supprimer le 'e'\n    let iiAMC // Cet indice permet de gérer les numéros de champs AMC car ces champs ne sont pas de nombre égal selon les listeTypeQuestions[i].\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 200; ) {\n      let texte, texteCorr, absBFinal, coeffFinal, longueurMax\n      do {\n        texte = ''\n        texteCorr = ''\n        const propositionsAMC = []\n        iiAMC = 0\n        const objets = []\n        const coefAgrandissement = [1.5, 2, 3, 5, 0.5, 0.25, 0.75]\n        const coefReduction = [\n          new FractionEtendue(1, 2),\n          new FractionEtendue(1, 4),\n          new FractionEtendue(3, 4),\n        ]\n        const choixAgrandissementOuReduction = randint(0, 6)\n        const A = pointAbstrait(0, 0)\n        const absB =\n          choixAgrandissementOuReduction < 4\n            ? randint(5, 11, [6, 9])\n            : 2 * randint(4, 7)\n        // On en a besoin pour this.qusetionJamaisPosee()\n        absBFinal = absB\n        coeffFinal = coefAgrandissement[choixAgrandissementOuReduction]\n        switch (listeTypeQuestions[i]) {\n          case 1:\n            {\n              // Triangle équilatéral\n              const reponse = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absB,\n                1,\n              )\n              const alpha = randint(10, 170)\n              const alphaCorr = randint(10, 170, [alpha])\n              const sensRotation = choice([-1, 1])\n              const B = pointAdistance(A, absB, sensRotation * alpha)\n              const BCorr = pointAdistance(A, reponse, sensRotation * alphaCorr)\n              const C = pointAdistance(A, absB, sensRotation * (alpha + 60))\n              const CCorr = pointAdistance(\n                A,\n                reponse,\n                sensRotation * (alphaCorr + 60),\n              )\n              const polygoneInit = polygone(A, B, C)\n              const polygoneCorr = polygone(A, BCorr, CCorr)\n              const numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n              const numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n              const numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n              const nom =\n                lettreDepuisChiffre(numA) +\n                lettreDepuisChiffre(numB) +\n                lettreDepuisChiffre(numC)\n              const numACorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numC,\n              ])\n              const numBCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n              ])\n              const numCCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n                numBCorr,\n              ])\n              const nomCorr =\n                lettreDepuisChiffre(numACorr) +\n                lettreDepuisChiffre(numBCorr) +\n                lettreDepuisChiffre(numCCorr)\n              objets.push(\n                polygoneInit,\n                codageSegments('||', 'red', polygoneInit.listePoints),\n                afficheLongueurSegment(\n                  sensRotation < 0 ? A : B,\n                  sensRotation < 0 ? B : A,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n                nommePolygone(polygoneInit, nom),\n              )\n              const enonceInit = `On décide d'effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du triangle équilatéral ${nom}. Quelle sera la longueur du côté du triangle à construire ?`\n              texte = enonceInit\n              const enonceAMC =\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    {\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              if (this.interactif) {\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i,\n                  KeyboardType.clavierNumbers,\n                )\n                texte += enonceAMC\n                handleAnswers(this, i, { reponse: { value: reponse } })\n              } else if (!context.isAmc) {\n                texte = `Trace un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du triangle ${nom}.`\n                texte +=\n                  '<br>' +\n                  mathalea2d(\n                    Object.assign(\n                      { pixelsParCm: 20, scale: 0.5 },\n                      fixeBordures(objets),\n                    ),\n                    objets,\n                  )\n              } else {\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: 1,\n                      sanscadre: true,\n                      enonce:\n                        enonceAMC +\n                        `<br>Trace, sur une feuille blanche, ${texteAgrandissementOuReduction[1][choixAgrandissementOuReduction < 4 ? 0 : 1]}.`,\n                      pointilles: false,\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte: enonceInit,\n                        valeur: [reponse],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(reponse),\n                          decimals:\n                            nombreDeChiffresDansLaPartieDecimale(reponse),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n              }\n              texteCorr = `Effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ implique de multiplier toutes les longueurs par ce coefficient`\n              if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien, comme $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}=${coefReduction[choixAgrandissementOuReduction - 4].texFraction}$, cela revient à diviser toutes les longueurs par $${coefReduction[choixAgrandissementOuReduction - 4].den}$`\n                texteCorr +=\n                  choixAgrandissementOuReduction === 6\n                    ? ' puis multiplier chacun de ces résultats par 3'\n                    : ''\n              }\n              texteCorr += '.<br>'\n              texteCorr += `$${absB} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse)}$`\n              if (choixAgrandissementOuReduction === 6) {\n                texteCorr += ` ou bien $(${absB} \\\\div 4) \\\\times 3=${texNombre(arrondi(absB / 4, 1))} \\\\times 3=${texNombre(reponse)}$`\n              } else if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien $${absB} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse)}$`\n              }\n              texteCorr += `<br>Le triangle équilatéral issu d'un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du triangle ${nom} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ possède donc des côtés de longueur $${miseEnEvidence(texNombre(reponse))}$.`\n              texteCorr += '<br>En voici, une réalisation ci-dessous.'\n              objets.push(\n                polygoneCorr,\n                codageSegments('|||', 'blue', polygoneCorr.listePoints),\n                afficheLongueurSegment(\n                  sensRotation < 0 ? A : BCorr,\n                  sensRotation < 0 ? BCorr : A,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n                nommePolygone(polygoneCorr, nomCorr),\n              )\n              texteCorr +=\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    { pixelsParCm: 20, scale: 0.5 },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              longueurMax = reponse\n            }\n            break\n          case 2:\n            {\n              // Carré\n              const reponse = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absB,\n                1,\n              )\n              const alpha = randint(10, 170)\n              const alphaCorr = randint(10, 170, [alpha])\n              const sensRotation = choice([-1, 1])\n              const B = pointAdistance(A, absB, sensRotation * alpha)\n              const BCorr = pointAdistance(A, reponse, sensRotation * alphaCorr)\n              const C = rotation(A, B, 90)\n              const D = rotation(B, A, -90)\n              const CCorr = rotation(A, BCorr, 90)\n              const DCorr = rotation(BCorr, A, -90)\n              const polygoneInit = polygone(A, B, C, D)\n              const polygoneCorr = polygone(A, BCorr, CCorr, DCorr)\n              const numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n              const numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n              const numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n              const numD = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numC,\n              ])\n              const nom =\n                lettreDepuisChiffre(numA) +\n                lettreDepuisChiffre(numB) +\n                lettreDepuisChiffre(numC) +\n                lettreDepuisChiffre(numD)\n              const numACorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numC,\n              ])\n              const numBCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n              ])\n              const numCCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n                numBCorr,\n              ])\n              const numDCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n                numBCorr,\n                numCCorr,\n              ])\n              const nomCorr =\n                lettreDepuisChiffre(numACorr) +\n                lettreDepuisChiffre(numBCorr) +\n                lettreDepuisChiffre(numCCorr) +\n                lettreDepuisChiffre(numDCorr)\n              objets.push(\n                polygoneInit,\n                codageSegments('||', 'red', polygoneInit.listePoints),\n                afficheLongueurSegment(A, B, 'blue', 0.5, '', true),\n                nommePolygone(polygoneInit, nom),\n              )\n              objets.push(\n                codageAngleDroit(A, B, C),\n                codageAngleDroit(D, C, B),\n                codageAngleDroit(A, D, C),\n                codageAngleDroit(B, A, D),\n              )\n              const enonceInit = `On décide d'effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$, du carré ${nom}. Quelle sera la longueur du côté du carré à construire ?`\n              texte = enonceInit\n              const enonceAMC =\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    {\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              if (this.interactif) {\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i,\n                  KeyboardType.clavierNumbers,\n                )\n                texte += enonceAMC\n                handleAnswers(this, i, { reponse: { value: reponse } })\n              } else if (!context.isAmc) {\n                texte = `Trace un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du carré ${nom}.`\n                texte +=\n                  '<br>' +\n                  mathalea2d(\n                    Object.assign(\n                      { pixelsParCm: 20, scale: 0.5 },\n                      fixeBordures(objets),\n                    ),\n                    objets,\n                  )\n              } else {\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: 1,\n                      sanscadre: true,\n                      enonce:\n                        enonceAMC +\n                        `<br>Trace, sur une feuille blanche, ${texteAgrandissementOuReduction[1][choixAgrandissementOuReduction < 4 ? 0 : 1]}.`,\n                      pointilles: false,\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte: enonceInit,\n                        valeur: [reponse],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(reponse),\n                          decimals:\n                            nombreDeChiffresDansLaPartieDecimale(reponse),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n              }\n              texteCorr = `Effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ implique de multiplier toutes les longueurs par ce coefficient`\n              if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien, comme $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}=${coefReduction[choixAgrandissementOuReduction - 4].texFraction}$, cela revient à diviser toutes les longueurs par $${coefReduction[choixAgrandissementOuReduction - 4].den}$`\n                texteCorr +=\n                  choixAgrandissementOuReduction === 6\n                    ? ' puis multiplier chacun de ces résultats par 3'\n                    : ''\n              }\n              texteCorr += '.<br>'\n              texteCorr += `$${absB} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse)}$`\n              if (choixAgrandissementOuReduction === 6) {\n                texteCorr += ` ou bien $(${absB} \\\\div 4) \\\\times 3=${texNombre(arrondi(absB / 4, 1))} \\\\times 3=${texNombre(reponse)}$`\n              } else if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien $${absB} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse)}$`\n              }\n              texteCorr += `<br>Le carré issu d'un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du carré ${nom} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ possède donc des côtés de longueur $${miseEnEvidence(texNombre(reponse))}$.`\n              texteCorr += '<br>En voici, une réalisation ci-dessous.'\n              objets.push(\n                polygoneCorr,\n                codageSegments('|||', 'blue', polygoneCorr.listePoints),\n                afficheLongueurSegment(A, BCorr, 'red', 0.5, '', true),\n                nommePolygone(polygoneCorr, nomCorr),\n              )\n              objets.push(\n                codageAngleDroit(A, BCorr, CCorr),\n                codageAngleDroit(DCorr, CCorr, BCorr),\n                codageAngleDroit(A, DCorr, CCorr),\n                codageAngleDroit(BCorr, A, DCorr),\n              )\n              texteCorr +=\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    { pixelsParCm: 20, scale: 0.5 },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              longueurMax = reponse\n            }\n            break\n          case 3:\n            {\n              // Triangle avec coefficient de réduction ou d'agrandissement\n              const absC =\n                choixAgrandissementOuReduction < 4\n                  ? randint(5, 11, [6, 9, absB])\n                  : 2 * randint(4, 7, [arrondi(absB / 2, 0)])\n              // Le code ci-dessous ne permet pas dans certains cas de trouver une valeur aléatoire\n              const absD =\n                choixAgrandissementOuReduction < 4\n                  ? randint(1 + Math.abs(absB - absC), absB + absC - 1, [\n                      6,\n                      9,\n                      absB,\n                      absC,\n                    ])\n                  : 2 *\n                    randint(4, 7, [arrondi(absB / 2, 0), arrondi(absC / 2, 0)])\n              const reponse = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absB,\n                1,\n              )\n              const reponse1 = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absC,\n                1,\n              )\n              const reponse2 = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absD,\n                1,\n              )\n              const alpha = randint(10, 170)\n              const alphaCorr = randint(10, 170, [alpha])\n              const sensRotation = choice([-1, 1])\n              const B = pointAdistance(A, absB, sensRotation * alpha)\n              const BCorr = pointAdistance(A, reponse, sensRotation * alphaCorr)\n              const choixOrientation = randint(1, 2)\n              const polygoneInit = triangle2points2longueurs(\n                A,\n                B,\n                absC,\n                absD,\n                choixOrientation,\n              )\n              const C = polygoneInit.listePoints[2]\n              const polygoneCorr = triangle2points2longueurs(\n                A,\n                BCorr,\n                reponse1,\n                reponse2,\n                choixOrientation,\n              )\n              const CCorr = polygoneCorr.listePoints[2]\n              const numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n              const numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n              const numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n              const nom =\n                lettreDepuisChiffre(numA) +\n                lettreDepuisChiffre(numB) +\n                lettreDepuisChiffre(numC)\n\n              objets.push(polygoneInit, nommePolygone(polygoneInit, nom))\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(C, A, B) > 0 ? A : B,\n                  angleOriente(C, A, B) > 0 ? B : A,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(A, B, C) > 0 ? B : C,\n                  angleOriente(A, B, C) > 0 ? C : B,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(B, C, A) > 0 ? C : A,\n                  angleOriente(B, C, A) > 0 ? A : C,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              const enonceInit = `On décide d'effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du triangle ${nom}. Quelles seront les longueurs respectives de chaque côté du triangle à construire ?`\n              const enonceAMC =\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    {\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              let correctionParticularite = ''\n              if (this.interactif) {\n                texte = enonceInit\n                texte += enonceAMC\n                switch (choice([1, 2, 3])) {\n                  case 1:\n                    texte +=\n                      '<br> Dans le nouveau triangle, la plus petite longueur sera :' +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    handleAnswers(this, i, {\n                      reponse: { value: Math.min(reponse, reponse1, reponse2) },\n                    })\n                    correctionParticularite +=\n                      'Dans le nouveau triangle, la plus petite longueur sera $' +\n                      miseEnEvidence(\n                        texNombre(Math.min(reponse, reponse1, reponse2)),\n                      ) +\n                      '$.'\n                    break\n                  case 2:\n                    texte +=\n                      '<br> Dans le nouveau triangle, la plus grande longueur sera :' +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    handleAnswers(this, i, {\n                      reponse: { value: Math.max(reponse, reponse1, reponse2) },\n                    })\n                    correctionParticularite +=\n                      'Dans le nouveau triangle, la plus grande longueur sera $' +\n                      miseEnEvidence(\n                        texNombre(Math.min(reponse, reponse1, reponse2)),\n                      ) +\n                      '$.'\n                    break\n                  case 3: {\n                    texte +=\n                      \"<br> Dans le nouveau triangle, la longueur, qui n'est ni la plus petite, ni la plus grande, sera :\" +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    let derniereReponse\n                    // Trouver la valeur minimale et la valeur maximale\n                    const minValue = Math.min(reponse, reponse1, reponse2)\n                    const maxValue = Math.max(reponse, reponse1, reponse2)\n\n                    // Cas où toutes les valeurs sont égales\n                    if (minValue === maxValue) {\n                      derniereReponse = minValue // ou maxValue, c'est la même chose ici\n                    } else {\n                      // Filtrer les valeurs pour récupérer celle qui n'est ni min ni max\n                      const values = [reponse, reponse1, reponse2]\n                      const middleValues = values.filter(\n                        (value) => value !== minValue && value !== maxValue,\n                      )\n\n                      // Retourner la valeur intermédiaire\n                      derniereReponse = middleValues[0]\n                    }\n                    handleAnswers(this, i, {\n                      reponse: { value: derniereReponse },\n                    })\n                    correctionParticularite +=\n                      \"Dans le nouveau triangle, la longueur, qui n'est ni la plus petite, ni la plus grande, sera $\" +\n                      miseEnEvidence(texNombre(derniereReponse)) +\n                      '$.'\n                    break\n                  }\n                }\n              } else if (!context.isAmc) {\n                texte = `Trace un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du triangle ${nom}.`\n                texte +=\n                  '<br>' +\n                  mathalea2d(\n                    Object.assign(\n                      { pixelsParCm: 20, scale: 0.5 },\n                      fixeBordures(objets),\n                    ),\n                    objets,\n                  )\n              } else {\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: 1,\n                      sanscadre: true,\n                      enonce:\n                        enonceAMC +\n                        `<br>Trace, sur une feuille blanche, ${texteAgrandissementOuReduction[1][choixAgrandissementOuReduction < 4 ? 0 : 1]}.`,\n                      pointilles: false,\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          enonceInit +\n                          '<br> <br>Dans le nouveau triangle, la plus petite longueur sera :',\n                        valeur: [Math.min(reponse, reponse1, reponse2)],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            Math.min(reponse, reponse1, reponse2),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            Math.min(reponse, reponse1, reponse2),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          'Dans le nouveau triangle, la plus grande longueur sera :',\n                        valeur: [Math.max(reponse, reponse1, reponse2)],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            Math.max(reponse, reponse1, reponse2),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            Math.max(reponse, reponse1, reponse2),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          'Dans le nouveau triangle, la dernière longueur sera :',\n                        valeur: [\n                          choice(\n                            [reponse, reponse1, reponse2],\n                            [\n                              Math.min(reponse, reponse1, reponse2),\n                              Math.max(reponse, reponse1, reponse2),\n                            ],\n                          ),\n                        ],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            choice(\n                              [reponse, reponse1, reponse2],\n                              [\n                                Math.min(reponse, reponse1, reponse2),\n                                Math.max(reponse, reponse1, reponse2),\n                              ],\n                            ),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            choice(\n                              [reponse, reponse1, reponse2],\n                              [\n                                Math.min(reponse, reponse1, reponse2),\n                                Math.max(reponse, reponse1, reponse2),\n                              ],\n                            ),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n              }\n              texteCorr = `Effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ implique de multiplier toutes les longueurs par ce coefficient`\n              if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien, comme $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}=${coefReduction[choixAgrandissementOuReduction - 4].texFraction}$, cela revient à diviser toutes les longueurs par $${coefReduction[choixAgrandissementOuReduction - 4].den}$`\n                texteCorr +=\n                  choixAgrandissementOuReduction === 6\n                    ? ' puis multiplier chacun de ces résultats par 3'\n                    : ''\n              }\n              texteCorr += '.<br>'\n              texteCorr += `$${absB} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse)}${sp(10)}$`\n              texteCorr += `$${absC} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse1)}${sp(10)}$`\n              texteCorr += `$${absD} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse2)}$`\n              if (choixAgrandissementOuReduction === 6) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$(${absB} \\\\div 4) \\\\times 3=${texNombre(arrondi(absB / 4, 1))} \\\\times 3=${texNombre(reponse)}$`\n                texteCorr += `${sp(10)}$(${absC} \\\\div 4) \\\\times 3=${texNombre(arrondi(absC / 4, 1))} \\\\times 3=${texNombre(reponse1)}$`\n                texteCorr += `${sp(10)}$(${absD} \\\\div 4) \\\\times 3=${texNombre(arrondi(absD / 4, 1))} \\\\times 3=${texNombre(reponse2)}$`\n              } else if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$${absB} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse)}$`\n                texteCorr += `${sp(10)}$${absC} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse1)}$`\n                texteCorr += `${sp(10)}$${absD} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse2)}$`\n              }\n              texteCorr += `<br>Le triangle issu d'un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du triangle ${nom} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ possède donc des côtés de longueur respective $${texNombre(reponse)}$ ; $${texNombre(reponse1)}$ et $${texNombre(reponse2)}$.`\n              texteCorr += '<br>' + correctionParticularite\n              texteCorr += '<br>En voici, une réalisation ci-dessous.'\n              objets.push(polygoneCorr)\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(CCorr, A, BCorr) > 0 ? A : BCorr,\n                  angleOriente(CCorr, A, BCorr) > 0 ? BCorr : A,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(A, BCorr, CCorr) > 0 ? BCorr : CCorr,\n                  angleOriente(A, BCorr, CCorr) > 0 ? CCorr : BCorr,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(BCorr, CCorr, A) > 0 ? CCorr : A,\n                  angleOriente(BCorr, CCorr, A) > 0 ? A : CCorr,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              texteCorr +=\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    { pixelsParCm: 20, scale: 0.5 },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              longueurMax = Math.max(reponse, reponse1, reponse2)\n            }\n            break\n          case 4:\n            {\n              // Triangle avec longueur initiale et longueur finale\n              const absC =\n                choixAgrandissementOuReduction < 4\n                  ? randint(5, 11, [6, 9, absB])\n                  : 2 * randint(4, 7, [arrondi(absB / 2, 0)])\n              // Le code ci-dessous ne permet pas dans certains cas de trouver une valeur aléatoire\n              const absD =\n                choixAgrandissementOuReduction < 4\n                  ? randint(5, 11, [6, 9, absB, absC])\n                  : 2 *\n                    randint(4, 7, [arrondi(absB / 2, 0), arrondi(absC / 2, 0)])\n              const reponse = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absB,\n                1,\n              )\n              const reponse1 = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absC,\n                1,\n              )\n              const reponse2 = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absD,\n                1,\n              )\n              const alpha = randint(10, 170)\n              const alphaCorr = randint(10, 170, [alpha])\n              const sensRotation = choice([-1, 1])\n              const B = pointAdistance(A, absB, sensRotation * alpha)\n              const BCorr = pointAdistance(A, reponse, sensRotation * alphaCorr)\n              const choixOrientation = randint(1, 2)\n              const polygoneInit = triangle2points2longueurs(\n                A,\n                B,\n                absC,\n                absD,\n                choixOrientation,\n              )\n              const C = polygoneInit.listePoints[2]\n              const polygoneCorr = triangle2points2longueurs(\n                A,\n                BCorr,\n                reponse1,\n                reponse2,\n                choixOrientation,\n              )\n              const CCorr = polygoneCorr.listePoints[2]\n              const numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n              const numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n              const numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n              const nom =\n                lettreDepuisChiffre(numA) +\n                lettreDepuisChiffre(numB) +\n                lettreDepuisChiffre(numC)\n              objets.push(polygoneInit, nommePolygone(polygoneInit, nom))\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(C, A, B) > 0 ? A : B,\n                  angleOriente(C, A, B) > 0 ? B : A,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(A, B, C) > 0 ? B : C,\n                  angleOriente(A, B, C) > 0 ? C : B,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(B, C, A) > 0 ? C : A,\n                  angleOriente(B, C, A) > 0 ? A : C,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              const enonceInit = `On décide d'effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du triangle ${nom}, de telle sorte que la longueur du côté associé à [${lettreDepuisChiffre(numB) + lettreDepuisChiffre(numC)}] mesurera $${texNombre(reponse2)}$.<br>Quelles seront les longueurs respectives des deux autres côtés du triangle à construire ?`\n              const enonceAMC =\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    {\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              let correctionParticularite = ''\n              if (this.interactif) {\n                texte = enonceInit\n                texte += enonceAMC\n                switch (choice([1, 2])) {\n                  case 1:\n                    texte +=\n                      '<br> Dans le nouveau triangle, la plus petite longueur à trouver sera :' +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    handleAnswers(this, i, {\n                      reponse: { value: Math.min(reponse, reponse1) },\n                    })\n                    correctionParticularite +=\n                      'Dans le nouveau triangle, la plus petite longueur à trouver sera $' +\n                      miseEnEvidence(texNombre(Math.min(reponse, reponse1))) +\n                      '$.'\n                    break\n                  case 2:\n                    texte +=\n                      '<br> Dans le nouveau triangle, la plus grande longueur à trouver sera :' +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    handleAnswers(this, i, {\n                      reponse: { value: Math.max(reponse, reponse1) },\n                    })\n                    correctionParticularite +=\n                      'Dans le nouveau triangle, la plus grande longueur à trouver sera $' +\n                      miseEnEvidence(texNombre(Math.max(reponse, reponse1))) +\n                      '$.'\n                    break\n                }\n              } else if (!context.isAmc) {\n                texte = `Trace un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du triangle ${nom} de telle sorte que la longueur du côté associé à [${lettreDepuisChiffre(numB) + lettreDepuisChiffre(numC)}] mesurera $${texNombre(reponse2)}$.`\n                texte +=\n                  '<br>' +\n                  mathalea2d(\n                    Object.assign(\n                      { pixelsParCm: 20, scale: 0.5 },\n                      fixeBordures(objets),\n                    ),\n                    objets,\n                  )\n              } else {\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: 1,\n                      sanscadre: true,\n                      enonce:\n                        enonceAMC +\n                        `<br>Trace, sur une feuille blanche, ${texteAgrandissementOuReduction[1][choixAgrandissementOuReduction < 4 ? 0 : 1]}.`,\n                      pointilles: false,\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          enonceInit +\n                          '<br> <br>Dans le nouveau triangle, la plus petite longueur à trouver sera :',\n                        valeur: [Math.min(reponse, reponse1)],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            Math.min(reponse, reponse1),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            Math.min(reponse, reponse1),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          'Dans le nouveau triangle, la plus grande longueur à trouver sera :',\n                        valeur: [Math.max(reponse, reponse1)],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            Math.max(reponse, reponse1),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            Math.max(reponse, reponse1),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n              }\n              texteCorr = `Effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} implique de multiplier toutes les longueurs par un coefficient de proportionnalité. Trouvons ce coefficient.<br>`\n              texteCorr += `Pour trouver ce coefficient, divisons la longueur connue du futur triangle par sa longueur associée dans le triangle actuel : $${texNombre(reponse2)} \\\\div ${absD} = ${coefAgrandissement[choixAgrandissementOuReduction]}$. Le coefficient de proportionnalité est donc $${coefAgrandissement[choixAgrandissementOuReduction]}$.<br>`\n              texteCorr += `Multiplions toutes les longueurs connues du triangle actuel par $${coefAgrandissement[choixAgrandissementOuReduction]}$`\n\n              if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += `, ou bien, comme $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}=${coefReduction[choixAgrandissementOuReduction - 4].texFraction}$, cela revient à diviser toutes les longueurs par $${coefReduction[choixAgrandissementOuReduction - 4].den}$`\n                texteCorr +=\n                  choixAgrandissementOuReduction === 6\n                    ? ' puis multiplier chacun de ces résultats par 3'\n                    : ''\n              }\n              texteCorr += `.<br>$${absB} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse)}${sp(10)}$`\n              texteCorr += `$${absC} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse1)}$`\n              if (choixAgrandissementOuReduction === 6) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$(${absB} \\\\div 4) \\\\times 3=${texNombre(arrondi(absB / 4, 1))} \\\\times 3=${texNombre(reponse)}$`\n                texteCorr += `${sp(10)}$(${absC} \\\\div 4) \\\\times 3=${texNombre(arrondi(absC / 4, 1))} \\\\times 3=${texNombre(reponse1)}$`\n              } else if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$${absB} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse)}$`\n                texteCorr += `${sp(10)}$${absC} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse1)}$`\n              }\n              texteCorr += `<br>Le triangle issu d'un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du triangle ${nom} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ possède donc des côtés de longueur respective $${texNombre(reponse2)}$ ; $${texNombre(reponse1)}$ et $${texNombre(reponse)}$.`\n              texteCorr += '<br>' + correctionParticularite\n              texteCorr += '<br>En voici, une réalisation ci-dessous.'\n              objets.push(polygoneCorr)\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(CCorr, A, BCorr) > 0 ? A : BCorr,\n                  angleOriente(CCorr, A, BCorr) > 0 ? BCorr : A,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(A, BCorr, CCorr) > 0 ? BCorr : CCorr,\n                  angleOriente(A, BCorr, CCorr) > 0 ? CCorr : BCorr,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(BCorr, CCorr, A) > 0 ? CCorr : A,\n                  angleOriente(BCorr, CCorr, A) > 0 ? A : CCorr,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              texteCorr +=\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    { pixelsParCm: 20, scale: 0.5 },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              longueurMax = Math.max(reponse, reponse1, reponse2)\n            }\n            break\n          case 5:\n            {\n              // Rectangle avec coefficient de réduction ou d'agrandissement\n              const absC =\n                choixAgrandissementOuReduction < 4\n                  ? randint(5, 11, [6, 9, absB])\n                  : 2 * randint(4, 7, [arrondi(absB / 2, 0)])\n              const reponse = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absB,\n                1,\n              )\n              const reponse1 = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absC,\n                1,\n              )\n              const alpha = randint(10, 170)\n              const alphaCorr = randint(10, 170, [alpha])\n              const sensRotation = choice([-1, 1])\n              const B = pointAdistance(A, absB, sensRotation * alpha)\n              const BCorr = pointAdistance(A, reponse, sensRotation * alphaCorr)\n              const C = rotation(\n                pointAdistance(B, absC, 180 + sensRotation * alpha),\n                B,\n                -90,\n              )\n              const CCorr = rotation(\n                pointAdistance(BCorr, reponse1, 180 + sensRotation * alphaCorr),\n                BCorr,\n                -90,\n              )\n              const D = rotation(\n                pointAdistance(A, absC, sensRotation * alpha),\n                A,\n                90,\n              )\n              const DCorr = rotation(\n                pointAdistance(A, reponse1, sensRotation * alphaCorr),\n                A,\n                90,\n              )\n              const polygoneInit = polygone(A, B, C, D)\n              const polygoneCorr = polygone(A, BCorr, CCorr, DCorr)\n              const numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n              const numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n              const numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n              const numD = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numC,\n              ])\n              const nom =\n                lettreDepuisChiffre(numA) +\n                lettreDepuisChiffre(numB) +\n                lettreDepuisChiffre(numC) +\n                lettreDepuisChiffre(numD)\n              objets.push(polygoneInit, nommePolygone(polygoneInit, nom))\n              objets.push(codageSegments('||', 'red', A, B, C, D))\n              objets.push(codageSegments('X', 'red', B, C, D, A))\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(B, C, D) > 0 ? C : D,\n                  angleOriente(B, C, D) > 0 ? D : C,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(C, D, A) > 0 ? D : A,\n                  angleOriente(C, D, A) > 0 ? A : D,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                codageAngleDroit(A, B, C),\n                codageAngleDroit(D, C, B),\n                codageAngleDroit(A, D, C),\n                codageAngleDroit(B, A, D),\n              )\n              const enonceInit = `On décide d'effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du rectangle ${nom}. Quelles seront les longueurs respectives de chaque côté du rectangle à construire ?`\n              const enonceAMC =\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    {\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              let correctionParticularite = ''\n              if (this.interactif) {\n                texte = enonceInit\n                texte += enonceAMC\n                switch (choice([1, 2])) {\n                  case 1:\n                    texte +=\n                      '<br> Dans le nouveau rectangle, le côté le moins long aura pour longueur :' +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    handleAnswers(this, i, {\n                      reponse: { value: Math.min(reponse, reponse1) },\n                    })\n                    correctionParticularite +=\n                      'Dans le nouveau triangle, le côté le moins long aura pour longueur $' +\n                      miseEnEvidence(texNombre(Math.min(reponse, reponse1))) +\n                      '$.'\n                    break\n                  case 2:\n                    texte +=\n                      '<br> Dans le nouveau rectangle, le côté le plus long aura pour longueur :' +\n                      ajouteChampTexteMathLive(\n                        this,\n                        i,\n                        KeyboardType.clavierNumbers,\n                      )\n                    handleAnswers(this, i, {\n                      reponse: { value: Math.max(reponse, reponse1) },\n                    })\n                    correctionParticularite +=\n                      'Dans le nouveau triangle, le côté le moins long aura pour longueur $' +\n                      miseEnEvidence(texNombre(Math.max(reponse, reponse1))) +\n                      '$.'\n                    break\n                }\n              } else if (!context.isAmc) {\n                texte = `Trace un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ du rectangle ${nom}.`\n                texte +=\n                  '<br>' +\n                  mathalea2d(\n                    Object.assign(\n                      { pixelsParCm: 20, scale: 0.5 },\n                      fixeBordures(objets),\n                    ),\n                    objets,\n                  )\n              } else {\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: 1,\n                      sanscadre: true,\n                      enonce:\n                        enonceAMC +\n                        `<br>Trace, sur une feuille blanche, ${texteAgrandissementOuReduction[1][choixAgrandissementOuReduction < 4 ? 0 : 1]}.`,\n                      pointilles: false,\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          enonceInit +\n                          '<br> <br>Dans le nouveau rectangle, le côté le moins long aura pour longueur :',\n                        valeur: [Math.min(reponse, reponse1)],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            Math.min(reponse, reponse1),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            Math.min(reponse, reponse1),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          'Dans le nouveau rectangle, le côté le plus long aura pour longueur :',\n                        valeur: [Math.max(reponse, reponse1)],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(\n                            Math.max(reponse, reponse1),\n                          ),\n                          decimals: nombreDeChiffresDansLaPartieDecimale(\n                            Math.max(reponse, reponse1),\n                          ),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n                iiAMC++\n              }\n              texteCorr = `Effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ implique de multiplier toutes les longueurs par ce coefficient`\n              if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien, comme $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}=${coefReduction[choixAgrandissementOuReduction - 4].texFraction}$, cela revient à diviser toutes les longueurs par $${coefReduction[choixAgrandissementOuReduction - 4].den}$`\n                texteCorr +=\n                  choixAgrandissementOuReduction === 6\n                    ? ' puis multiplier chacun de ces résultats par 3'\n                    : ''\n              }\n              texteCorr += '.<br>'\n              texteCorr += `$${absB} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse)}${sp(10)}$`\n              texteCorr += `$${absC} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse1)}$`\n              if (choixAgrandissementOuReduction === 6) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$(${absB} \\\\div 4) \\\\times 3=${texNombre(arrondi(absB / 4, 1))} \\\\times 3=${texNombre(reponse)}$`\n                texteCorr += `${sp(10)}$(${absC} \\\\div 4) \\\\times 3=${texNombre(arrondi(absC / 4, 1))} \\\\times 3=${texNombre(reponse1)}$`\n              } else if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$${absB} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse)}$`\n                texteCorr += `${sp(10)}$${absC} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse1)}$`\n              }\n              texteCorr += `<br>Le rectangle issu d'un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du rectangle ${nom} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ possède donc des côtés de longueur respective $${texNombre(reponse)}$ et $${texNombre(reponse1)}$.`\n              texteCorr += '<br>' + correctionParticularite\n              texteCorr += '<br>En voici, une réalisation ci-dessous.'\n              objets.push(polygoneCorr)\n              objets.push(codageSegments('|||', 'blue', A, BCorr, CCorr, DCorr))\n              objets.push(codageSegments('XX', 'blue', BCorr, CCorr, DCorr, A))\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(CCorr, A, BCorr) > 0 ? A : BCorr,\n                  angleOriente(CCorr, A, BCorr) > 0 ? BCorr : A,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(A, BCorr, CCorr) > 0 ? BCorr : CCorr,\n                  angleOriente(A, BCorr, CCorr) > 0 ? CCorr : BCorr,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                codageAngleDroit(A, BCorr, CCorr),\n                codageAngleDroit(DCorr, CCorr, BCorr),\n                codageAngleDroit(A, DCorr, CCorr),\n                codageAngleDroit(BCorr, A, DCorr),\n              )\n              texteCorr +=\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    { pixelsParCm: 20, scale: 0.5 },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              longueurMax = Math.max(reponse, reponse1)\n            }\n            break\n          default:\n            {\n              // Rectangle avec longueur initiale et longueur finale\n              const absC =\n                choixAgrandissementOuReduction < 4\n                  ? randint(5, 11, [6, 9, absB])\n                  : 2 * randint(4, 7, [arrondi(absB / 2, 0)])\n              const reponse = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absB,\n                1,\n              )\n              const reponse1 = arrondi(\n                coefAgrandissement[choixAgrandissementOuReduction] * absC,\n                1,\n              )\n              const alpha = randint(10, 170)\n              const alphaCorr = randint(10, 170, [alpha])\n              const sensRotation = choice([-1, 1])\n              const B = pointAdistance(A, absB, sensRotation * alpha)\n              const BCorr = pointAdistance(A, reponse, sensRotation * alphaCorr)\n              const C = rotation(\n                pointAdistance(B, absC, 180 + sensRotation * alpha),\n                B,\n                -90,\n              )\n              const CCorr = rotation(\n                pointAdistance(BCorr, reponse1, 180 + sensRotation * alphaCorr),\n                BCorr,\n                -90,\n              )\n              const D = rotation(\n                pointAdistance(A, absC, sensRotation * alpha),\n                A,\n                90,\n              )\n              const DCorr = rotation(\n                pointAdistance(A, reponse1, sensRotation * alphaCorr),\n                A,\n                90,\n              )\n              const polygoneInit = polygone(A, B, C, D)\n              const polygoneCorr = polygone(A, BCorr, CCorr, DCorr)\n              const numA = randint(1, 26, [4, 5, 15, 23, 24, 25])\n              const numB = randint(1, 26, [4, 5, 15, 23, 24, 25, numA])\n              const numC = randint(1, 26, [4, 5, 15, 23, 24, 25, numA, numB])\n              const numD = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numC,\n              ])\n              const nom =\n                lettreDepuisChiffre(numA) +\n                lettreDepuisChiffre(numB) +\n                lettreDepuisChiffre(numC) +\n                lettreDepuisChiffre(numD)\n              const numACorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numC,\n              ])\n              const numBCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n              ])\n              const numCCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n                numBCorr,\n              ])\n              const numDCorr = randint(1, 26, [\n                4,\n                5,\n                15,\n                23,\n                24,\n                25,\n                numA,\n                numB,\n                numACorr,\n                numBCorr,\n                numCCorr,\n              ])\n              const nomCorr =\n                lettreDepuisChiffre(numACorr) +\n                lettreDepuisChiffre(numBCorr) +\n                lettreDepuisChiffre(numCCorr) +\n                lettreDepuisChiffre(numDCorr)\n              objets.push(polygoneInit, nommePolygone(polygoneInit, nom))\n              objets.push(codageSegments('||', 'red', A, B, C, D))\n              objets.push(codageSegments('X', 'red', B, C, D, A))\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(B, C, D) > 0 ? C : D,\n                  angleOriente(B, C, D) > 0 ? D : C,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(C, D, A) > 0 ? D : A,\n                  angleOriente(C, D, A) > 0 ? A : D,\n                  'blue',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                codageAngleDroit(A, B, C),\n                codageAngleDroit(D, C, B),\n                codageAngleDroit(A, D, C),\n                codageAngleDroit(B, A, D),\n              )\n              const enonceInit = `On décide d'effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du rectangle ${nom}, de telle sorte que la longueur du côté associé à [${lettreDepuisChiffre(numA) + lettreDepuisChiffre(numB)}] mesurera $${texNombre(reponse)}$. Quelle sera l'autre dimension du rectangle à construire ?`\n              const enonceAMC =\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    {\n                      pixelsParCm: 20,\n                      scale: 0.5,\n                    },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              if (this.interactif) {\n                texte = enonceInit\n                texte += ajouteChampTexteMathLive(\n                  this,\n                  i,\n                  KeyboardType.clavierNumbers,\n                )\n                texte += enonceAMC\n                handleAnswers(this, i, { reponse: { value: reponse1 } })\n              } else if (!context.isAmc) {\n                texte = `Trace un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du rectangle ${nom} de telle sorte que la longueur du côté associé à [${lettreDepuisChiffre(numA) + lettreDepuisChiffre(numB)}] mesurera $${texNombre(reponse)}$.`\n                texte +=\n                  '<br>' +\n                  mathalea2d(\n                    Object.assign(\n                      { pixelsParCm: 20, scale: 0.5 },\n                      fixeBordures(objets),\n                    ),\n                    objets,\n                  )\n              } else {\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCOpen',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: 1,\n                      sanscadre: true,\n                      enonce:\n                        enonceAMC +\n                        `<br>Trace, sur une feuille blanche, ${texteAgrandissementOuReduction[1][choixAgrandissementOuReduction < 4 ? 0 : 1]}.`,\n                      pointilles: false,\n                    },\n                  ],\n                }\n                iiAMC++\n                propositionsAMC[iiAMC] = {\n                  type: 'AMCNum',\n                  propositions: [\n                    {\n                      texte: '',\n                      statut: '',\n                      reponse: {\n                        texte:\n                          enonceInit +\n                          '<br> <br>Dans le nouveau rectangle, la deuxième longueur sera :',\n                        valeur: [reponse1],\n                        alignement: 'center',\n                        param: {\n                          digits: nombreDeChiffresDe(reponse1),\n                          decimals:\n                            nombreDeChiffresDansLaPartieDecimale(reponse1),\n                          signe: false,\n                        },\n                      },\n                    },\n                  ],\n                }\n              }\n              texteCorr = `Effectuer un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} implique de multiplier toutes les longueurs par un coefficient de proportionnalité. Trouvons ce coefficient.<br>`\n              texteCorr += `Pour trouver ce coefficient, divisons la longueur connue du futur rectangle par sa longueur associée dans le rectangle actuel : $${texNombre(reponse)} \\\\div ${absB} = ${coefAgrandissement[choixAgrandissementOuReduction]}$. Le coefficient de proportionnalité est donc $${coefAgrandissement[choixAgrandissementOuReduction]}$.<br>`\n              texteCorr += `Multiplions toutes les longueurs connues du triangle actuel par $${coefAgrandissement[choixAgrandissementOuReduction]}$`\n\n              if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += ` ou bien, comme $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}=${coefReduction[choixAgrandissementOuReduction - 4].texFraction}$, cela revient à diviser toutes les longueurs par $${coefReduction[choixAgrandissementOuReduction - 4].den}$`\n                texteCorr +=\n                  choixAgrandissementOuReduction === 6\n                    ? ' puis multiplier chacun de ces résultats par 3'\n                    : ''\n              }\n              texteCorr += '.<br>'\n              texteCorr += `$${absC} \\\\times ${coefAgrandissement[choixAgrandissementOuReduction]}=${texNombre(reponse1)}$`\n              if (choixAgrandissementOuReduction === 6) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$(${absC} \\\\div 4) \\\\times 3=${texNombre(arrondi(absC / 4, 1))} \\\\times 3=${texNombre(reponse1)}$`\n              } else if (choixAgrandissementOuReduction >= 4) {\n                texteCorr += `${sp(10)} ou bien ${sp(10)}$${absC} \\\\div ${coefReduction[choixAgrandissementOuReduction - 4].den}=${texNombre(reponse1)}$`\n              }\n              texteCorr += `<br>Le rectangle issu d'un${texteAgrandissementOuReduction[0][choixAgrandissementOuReduction < 4 ? 0 : 1]} du rectangle ${nom} de coefficient $${texNombre(coefAgrandissement[choixAgrandissementOuReduction])}$ possède donc des côtés de longueur respective $${miseEnEvidence(texNombre(reponse))}$ et $${miseEnEvidence(texNombre(reponse1))}$.`\n              texteCorr += '<br>En voici, une réalisation ci-dessous.'\n              objets.push(polygoneCorr, nommePolygone(polygoneCorr, nomCorr))\n              objets.push(codageSegments('|||', 'blue', A, BCorr, CCorr, DCorr))\n              objets.push(codageSegments('XX', 'blue', BCorr, CCorr, DCorr, A))\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(CCorr, A, BCorr) > 0 ? A : BCorr,\n                  angleOriente(CCorr, A, BCorr) > 0 ? BCorr : A,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                afficheLongueurSegment(\n                  angleOriente(A, BCorr, CCorr) > 0 ? BCorr : CCorr,\n                  angleOriente(A, BCorr, CCorr) > 0 ? CCorr : BCorr,\n                  'red',\n                  0.5,\n                  '',\n                  true,\n                ),\n              )\n              objets.push(\n                codageAngleDroit(A, BCorr, CCorr),\n                codageAngleDroit(DCorr, CCorr, BCorr),\n                codageAngleDroit(A, DCorr, CCorr),\n                codageAngleDroit(BCorr, A, DCorr),\n              )\n              texteCorr +=\n                '<br>' +\n                mathalea2d(\n                  Object.assign(\n                    { pixelsParCm: 20, scale: 0.5 },\n                    fixeBordures(objets),\n                  ),\n                  objets,\n                )\n              longueurMax = Math.max(reponse, reponse1)\n            }\n            break\n        }\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: '',\n            options: { multicols: true, barreseparation: false },\n            enonceCentre: true,\n            enonceAvant: true, // EE : ce champ est facultatif et permet (si false) de supprimer l'énoncé ci-dessus avant la numérotation de chaque question.\n            propositions: propositionsAMC,\n          }\n        }\n        cpt++\n      } while (longueurMax > longueurMaximum && cpt < 200)\n      if (\n        this.questionJamaisPosee(\n          i,\n          absBFinal,\n          coeffFinal,\n          listeTypeQuestions[i],\n        )\n      ) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n\nexport default AgrandirReduireFigure\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","AgrandirReduireFigure","Exercice","listeTypeQuestions","gestionnaireFormulaireTexte","longueurMaximum","texteAgrandissementOuReduction","iiAMC","i","cpt","texte","texteCorr","absBFinal","coeffFinal","longueurMax","propositionsAMC","objets","coefAgrandissement","coefReduction","FractionEtendue","choixAgrandissementOuReduction","randint","A","pointAbstrait","absB","reponse","arrondi","alpha","alphaCorr","sensRotation","choice","B","pointAdistance","BCorr","C","CCorr","polygoneInit","polygone","polygoneCorr","numA","numB","numC","nom","lettreDepuisChiffre","numACorr","numBCorr","numCCorr","nomCorr","codageSegments","afficheLongueurSegment","nommePolygone","enonceInit","texNombre","enonceAMC","mathalea2d","fixeBordures","ajouteChampTexteMathLive","KeyboardType","handleAnswers","context","nombreDeChiffresDe","nombreDeChiffresDansLaPartieDecimale","miseEnEvidence","rotation","D","DCorr","numD","numDCorr","codageAngleDroit","absC","absD","reponse1","reponse2","choixOrientation","triangle2points2longueurs","angleOriente","correctionParticularite","derniereReponse","minValue","maxValue","value","sp","listeQuestionsToContenu"],"mappings":"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"}