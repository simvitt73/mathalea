{"version":3,"file":"projections3d-nH6xN-7G.js","sources":["../../src/lib/2d/projections3d.ts"],"sourcesContent":["import { abs, random, round } from 'mathjs'\nimport { afficheCoteSegment } from './AfficheCoteSegment'\nimport { arc } from './Arc'\nimport { cercle, Cercle } from './cercle'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { fixeBordures } from './fixeBordures'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport { pattern } from './pattern'\nimport { PointAbstrait, pointAbstrait } from './PointAbstrait'\nimport { polygone } from './polygones'\nimport { segment } from './segmentsVecteurs'\nimport { homothetie, rotation, translation } from './transformations'\nimport { longueur } from './utilitairesGeometriques'\nimport { pointAdistance } from './utilitairesPoint'\nimport { vecteur } from './Vecteur'\n\n/**\n *\n * @param {int} Longueur\n * @param {int} largeur\n * @param {int} profondeur\n *\n */\nexport class Pave extends ObjetMathalea2D {\n  constructor(\n    L = 10,\n    l = 5,\n    h = 5,\n    origine = pointAbstrait(0, 0),\n    cote = true,\n    angleDeFuite = 30,\n    coefficientDeFuite = 0.5,\n  ) {\n    super()\n    this.objets = []\n    const A = origine\n    const B = pointAbstrait(A.x + L, A.y)\n    const C = pointAbstrait(B.x, B.y + l)\n    const D = pointAbstrait(A.x, A.y + l)\n    const p = polygone(A, B, C, D)\n    const E = pointAdistance(A, h * coefficientDeFuite, angleDeFuite)\n    const F = translation(B, vecteur(A, E))\n    const G = translation(C, vecteur(A, E))\n    const H = translation(D, vecteur(A, E))\n    const sAE = segment(A, E)\n    const sBF = segment(B, F)\n    const sCG = segment(C, G)\n    const sDH = segment(D, H)\n    const sEF = segment(E, F)\n    const sFG = segment(F, G)\n    const sGH = segment(G, H)\n    const sHE = segment(H, E)\n    sAE.pointilles = 5\n    sEF.pointilles = 5\n    sHE.pointilles = 5\n\n    this.objets.push(p, sAE, sBF, sCG, sDH, sEF, sFG, sGH, sHE)\n    if (cote) {\n      this.objets.push(afficheCoteSegment(segment(B, A), L + ' cm', 1))\n      this.objets.push(afficheCoteSegment(segment(A, D), l + ' cm', 1))\n      this.objets.push(afficheCoteSegment(segment(F, B), h + ' cm', 1))\n    }\n    const { xmin, xmax, ymin, ymax } = fixeBordures(this.objets, {\n      rxmin: 0,\n      rxmax: 0,\n      rymin: 0,\n      rymax: 0,\n    })\n    this.bordures = [xmin, ymin, xmax, ymax]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = this.color\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n\nexport function pave(\n  L = 10,\n  l = 5,\n  h = 5,\n  origine = pointAbstrait(0, 0),\n  cote = true,\n  angleDeFuite = 30,\n  coefficientDeFuite = 0.5,\n) {\n  return new Pave(L, l, h, origine, cote, angleDeFuite, coefficientDeFuite)\n}\n\n/**  Trace l'ellipse de centre O et de rayon rx et ry (la construction, dite “par réduction d’ordonnée”, montre que l'ellipse est la transformée de Newton de 2 cercles concentriques)\n * @param {PointAbstrait} O Centre de l'ellipse\n * @param {number} rx Premier rayon de l'ellipse\n * @param {number} ry Second rayon de l'ellipse\n * @param {string} [color = 'black'] Couleur de l'ellipse : du type 'blue' ou du type '#f15929'\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} svgml Sortie, à main levée, au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {string} tikzml Sortie, à main levée, au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {PointAbstrait} centre Centre du cercle\n * @property {number} rx Premier rayon de l'ellipse\n * @property {number} ry Second rayon de l'ellipse\n * @property {string} color Couleur de l'ellipse. À associer obligatoirement à colorToLatexOrHTML().\n * @property {string} couleurDeRemplissage Couleur de remplissage. À associer obligatoirement à colorToLatexOrHTML().\n * @property {number} opaciteDeRemplissage Opacité de l'ellipse si couleur de remplissage choisie.\n * @property {number[]} bordures Coordonnées de la fenêtre d'affichage du genre [-2,-2,5,5]\n * @author Rémi Angot\n * @class\n */\n// JSDOC Validee par EE Aout 2022\nexport class Ellipse extends ObjetMathalea2D {\n  centre: PointAbstrait\n  rx: number\n  ry: number\n  couleurDeRemplissage: string[]\n  opaciteDeRemplissage: number\n  constructor(O: PointAbstrait, rx: number, ry: number, color = 'black') {\n    super()\n    this.color = colorToLatexOrHTML(color)\n    this.centre = O\n    this.rx = rx\n    this.ry = ry\n    this.couleurDeRemplissage = colorToLatexOrHTML('none')\n    this.opaciteDeRemplissage = 1\n    this.bordures = [O.x - rx, O.y - ry, O.x + rx, O.y + ry]\n  }\n\n  svg(coeff: number) {\n    if (this.epaisseur !== 1) {\n      this.style += ` stroke-width=\"${this.epaisseur}\" `\n    }\n    switch (this.pointilles) {\n      case 1:\n        this.style += ' stroke-dasharray=\"6 10\" '\n        break\n      case 2:\n        this.style += ' stroke-dasharray=\"6 3\" '\n        break\n      case 3:\n        this.style += ' stroke-dasharray=\"3 2 6 2 \" '\n        break\n      case 4:\n        this.style += ' stroke-dasharray=\"1 2\" '\n        break\n      case 5:\n        this.style += ' stroke-dasharray=\"5 5\" '\n        break\n    }\n\n    if (this.opacite !== 1) {\n      this.style += ` stroke-opacity=\"${this.opacite}\" `\n    }\n    if (\n      this.couleurDeRemplissage[0] === '' ||\n      this.couleurDeRemplissage[0] === 'none'\n    ) {\n      this.style += ' fill=\"none\" '\n    } else {\n      this.style += ` fill=\"${this.couleurDeRemplissage[0]}\" `\n      this.style += ` fill-opacity=\"${this.opaciteDeRemplissage}\" `\n    }\n\n    return `<ellipse cx=\"${this.centre.xSVG(coeff)}\" cy=\"${this.centre.ySVG(coeff)}\" rx=\"${this.rx * coeff}\" ry=\"${this.ry * coeff}\" stroke=\"${this.color[0]}\" ${this.style} id=\"${this.id}\" />`\n  }\n\n  tikz() {\n    let optionsDraw = ''\n    const tableauOptions = []\n    if (this.color[1].length > 1 && this.color[1] !== 'black') {\n      tableauOptions.push(`color=${this.color[1]}`)\n    }\n    if (this.epaisseur !== 1) {\n      tableauOptions.push(`line width = ${this.epaisseur}`)\n    }\n    switch (this.pointilles) {\n      case 1:\n        tableauOptions.push(' dash dot ')\n        break\n      case 2:\n        tableauOptions.push(' densely dash dot dot ')\n        break\n      case 3:\n        tableauOptions.push(' dash dot dot ')\n        break\n      case 4:\n        tableauOptions.push(' dotted ')\n        break\n      case 5:\n        tableauOptions.push(' dashed ')\n        break\n    }\n\n    if (this.opacite !== 1) {\n      tableauOptions.push(`opacity = ${this.opacite}`)\n    }\n    if (this.opaciteDeRemplissage !== 1) {\n      tableauOptions.push(`fill opacity = ${this.opaciteDeRemplissage}`)\n    }\n    if (\n      this.couleurDeRemplissage[1] !== '' &&\n      this.couleurDeRemplissage[1] !== 'none' &&\n      this.couleurDeRemplissage[1] !== ''\n    ) {\n      tableauOptions.push(\n        `preaction={fill,color = ${this.couleurDeRemplissage[1]}}`,\n      )\n    }\n    if (tableauOptions.length > 0) {\n      optionsDraw = '[' + tableauOptions.join(',') + ']'\n    }\n    return `\\\\draw${optionsDraw} (${this.centre.x},${this.centre.y}) ellipse (${this.rx}cm and ${this.ry}cm);`\n  }\n\n  svgml(coeff: number, amp: number) {\n    if (this.epaisseur !== 1) {\n      this.style += ` stroke-width=\"${this.epaisseur}\" `\n    }\n\n    if (this.opacite !== 1) {\n      this.style += ` stroke-opacity=\"${this.opacite}\" `\n    }\n\n    let code = `<path d=\"M ${this.centre.xSVG(coeff) + this.rx * coeff} ${this.centre.ySVG(coeff)} C ${this.centre.xSVG(coeff) + this.rx * coeff} ${this.centre.ySVG(coeff)}, `\n    let compteur = 1\n    for (let k = 1, variation; k < 181; k++) {\n      variation = ((random(0, 2) - 1) * amp) / 10\n      code += `${this.centre.xSVG(coeff) + round((this.rx + variation) * Math.cos((2 * k * Math.PI) / 180) * coeff, 2)} ${this.centre.ySVG(coeff) + round((this.ry + variation) * Math.sin((2 * k * Math.PI) / 180) * coeff, 2)}, `\n      compteur++\n    }\n    if (compteur % 2 === 0)\n      code += ` ${this.centre.xSVG(coeff) + this.rx * coeff} ${this.centre.ySVG(coeff)}, `\n    code += ` ${this.centre.xSVG(coeff) + this.rx * coeff} ${this.centre.ySVG(coeff)} Z\" stroke=\"${this.color[0]}\" ${this.style}\"/>`\n    return code\n  }\n\n  tikzml(amp: number) {\n    let optionsDraw = ''\n    const tableauOptions = []\n    if (this.color[1].length > 1 && this.color[1] !== 'black') {\n      tableauOptions.push(`color=${this.color[1]}`)\n    }\n    if (this.epaisseur !== 1) {\n      tableauOptions.push(`line width = ${this.epaisseur}`)\n    }\n\n    if (this.opacite !== 1) {\n      tableauOptions.push(`opacity = ${this.opacite}`)\n    }\n    tableauOptions.push(\n      `decorate,decoration={random steps , amplitude = ${amp}pt}`,\n    )\n    optionsDraw = '[' + tableauOptions.join(',') + ']'\n\n    const code = `\\\\draw${optionsDraw} (${this.centre.x},${this.centre.y}) ellipse (${this.rx}cm and ${this.ry}cm);`\n    return code\n  }\n}\n\n/**  Trace l'ellipse de centre O et de rayon rx et ry (la construction, dite “par réduction d’ordonnée”, montre que l'ellipse est la transformée de Newton de 2 cercles concentriques)\n * @param {PointAbstrait} O Centre de l'ellipse\n * @param {number} rx Premier rayon de l'ellipse\n * @param {number} ry Second rayon de l'ellipse\n * @param {string} [color = 'black'] Couleur de l'ellipse : du type 'blue' ou du type '#f15929'\n * @example ellipse(M, 1, 3) // Trace, en noir, l'ellipse de centre M et de rayons 1 et 3\n * @example M, 1, 3, 'red') // Trace, en rouge, l'ellipse de centre M et de rayons 1 et 3\n * @author Rémi Angot\n * @return {Ellipse}\n */\n// JSDOC Validee par EE Aout 2022\nexport function ellipse(\n  O: PointAbstrait,\n  rx: number,\n  ry: number,\n  color = 'black',\n) {\n  return new Ellipse(O, rx, ry, color)\n}\n\n/**\n * @param {PointAbstrait} centre centre de l'ellipse\n * @param {number} Rx rayon en X\n * @param {number} Ry rayon en Y\n * @param {string} hemisphere 'nord' pour tracer au dessus du centre, 'sud' pour tracer en dessous\n * @param {boolean | number} pointilles Si false, l'ar est en trait plein, sinon en pointillés\n * @param {boolean} rayon Si true, alors l'arc est fermé par un segment.\n * @param {string} color Facultatif, 'black' par défaut\n * @param {string} couleurDeRemplissage si 'none' alors pas de remplissage.\n * @param {number} opaciteDeRemplissage Transparence de remplissage de 0 à 1. Facultatif, 0.2 par défaut\n * @author Jean-Claude Lhote\n * @return {SemiEllipse} Objet SemiEllipse\n */\nexport class SemiEllipse extends ObjetMathalea2D {\n  centre: PointAbstrait\n  rx: number\n  ry: number\n  rayon: boolean\n  hachures: string | boolean\n  couleurDeRemplissage: string[]\n  opaciteDeRemplissage: number\n  couleurDesHachures: string[]\n  epaisseurDesHachures: number\n  distanceDesHachures: number\n  M: PointAbstrait\n  N: PointAbstrait\n  angle: number\n  large: number\n  sweep: number\n  constructor({\n    centre,\n    rx,\n    ry,\n    hemisphere = 'nord',\n    pointilles = 0,\n    rayon = false,\n    couleurDeRemplissage = 'none',\n    color = 'black',\n    opaciteDeRemplissage = 0.2,\n    hachures = false,\n    anglesAxe = 0,\n  }: {\n    centre: PointAbstrait\n    rx: number\n    ry: number\n    hemisphere?: string\n    pointilles?: number\n    rayon?: boolean\n    couleurDeRemplissage?: string\n    color?: string\n    opaciteDeRemplissage?: number\n    hachures?: string | boolean\n    anglesAxe?: number\n  }) {\n    super()\n    this.centre = centre\n    this.rx = rx\n    this.ry = ry\n    this.rayon = rayon\n    this.color = colorToLatexOrHTML(color)\n    this.couleurDeRemplissage = colorToLatexOrHTML(couleurDeRemplissage)\n    this.opaciteDeRemplissage = opaciteDeRemplissage\n    this.hachures = hachures\n    this.couleurDesHachures = colorToLatexOrHTML('black')\n    this.epaisseurDesHachures = 1\n    this.distanceDesHachures = 10\n    this.pointilles = pointilles\n    this.anglesAxe = anglesAxe\n    this.angle = hemisphere === 'nord' ? 180 : -180\n    this.M = pointAbstrait(centre.x + rx, centre.y)\n    const med = homothetie(\n      rotation(this.M, centre, this.angle / 2),\n      centre,\n      ry / rx,\n    )\n\n    this.large = 0\n    this.sweep = 0\n    if (this.angle > 180) {\n      this.sweep = 0 // option pour path : permet de savoir quel morceau de cercle tracé parmi les 2 possibles. Voir https://developer.mozilla.org/fr/docs/Web/SVG/Tutorial/Paths pour plus de détails\n      this.large = 1 // option pour path : permet de savoir sur un morceau de cercle choisi, quel parcours prendre.\n    } else if (this.angle < -180) {\n      this.large = 1\n      this.sweep = 1\n    } else {\n      this.large = 0\n      this.sweep = 1 - (this.angle > 0 ? 1 : 0)\n    }\n    this.N = rotation(this.M, centre, this.angle)\n    // reglage des bordures intégrant les rotation\n    const [bxmin, bymin, bxmax, bymax] = [\n      Math.min(this.M.x, this.N.x, med.x) - 0.1,\n      Math.min(this.M.y, this.N.y, med.y) - 0.1,\n      Math.max(this.M.x, this.N.x, med.x) + 0.1,\n      Math.max(this.M.y, this.N.y, med.y) + 0.1,\n    ]\n    let bA = pointAbstrait(bxmin, bymin) // (xmin, yMin)\n    let bB = pointAbstrait(bxmax, bymin) // (xmax, yMin)\n    let bC = pointAbstrait(bxmax, bymax) // (xmax, yMax)\n    let bD = pointAbstrait(bxmin, bymax) // (xmiSn, yMax)\n    const bCentre = pointAbstrait((bA.x + bB.x) / 2, (bA.y + bB.y) / 2)\n    bA = rotation(bA, bCentre, this.anglesAxe)\n    bB = rotation(bB, bCentre, this.anglesAxe)\n    bC = rotation(bC, bCentre, this.anglesAxe)\n    bD = rotation(bD, bCentre, this.anglesAxe)\n    this.bordures = [\n      Math.min(bA.x, bB.x, bC.x, bD.x),\n      Math.min(bA.y, bB.y, bC.y, bD.y),\n      Math.max(bA.x, bB.x, bC.x, bD.x),\n      Math.max(bA.y, bB.y, bC.y, bD.y),\n    ]\n  }\n\n  svg(coeff: number) {\n    if (this.rayon) {\n      this.style = ''\n      if (this.epaisseur !== 1) {\n        this.style += ` stroke-width=\"${this.epaisseur}\" `\n      }\n\n      switch (this.pointilles) {\n        case 1:\n          this.style += ' stroke-dasharray=\"6 10\" '\n          break\n        case 2:\n          this.style += ' stroke-dasharray=\"6 3\" '\n          break\n        case 3:\n          this.style += ' stroke-dasharray=\"3 2 6 2 \" '\n          break\n        case 4:\n          this.style += ' stroke-dasharray=\"1 2\" '\n          break\n        case 5:\n          this.style += ' stroke-dasharray=\"5 5\" '\n          break\n      }\n\n      if (this.hachures) {\n        if (this.couleurDeRemplissage.length < 1) {\n          this.couleurDeRemplissage = colorToLatexOrHTML('none')\n        }\n\n        return (\n          pattern({\n            motif: String(this.hachures),\n            id: typeof this.id === 'string' ? this.id : undefined,\n            distanceDesHachures: this.distanceDesHachures,\n            epaisseurDesHachures: this.epaisseurDesHachures,\n            couleurDesHachures: this.couleurDesHachures[0],\n            couleurDeRemplissage: this.couleurDeRemplissage[0],\n            opaciteDeRemplissage: this.opaciteDeRemplissage,\n          }) +\n          `<g transform=\"rotate(${-this.anglesAxe}, ${this.centre.xSVG(coeff)}, ${this.centre.xSVG(coeff)})\"><path d=\"M${this.M.xSVG(coeff)} ${this.M.ySVG(coeff)} A ${this.rx * coeff} ${this.ry * coeff} 0 ${this.large} ${this.sweep} ${this.N.xSVG(coeff)} ${this.N.ySVG(coeff)} L ${this.centre.xSVG(coeff)} ${this.centre.ySVG(coeff)} Z\" stroke=\"${this.color[0]}\"  ${this.style} id=\"${this.id}\" fill=\"url(#pattern${this.id})\" />`\n        )\n      } else {\n        if (this.opacite !== 1) {\n          this.style += ` stroke-opacity=\"${this.opacite}\" `\n        }\n        if (\n          this.couleurDeRemplissage[0] !== 'none' &&\n          this.couleurDeRemplissage[0] !== ''\n        ) {\n          this.style += ` fill-opacity=\"${this.opaciteDeRemplissage}\" `\n        }\n\n        return `<g transform=\"rotate(${-this.anglesAxe}, ${this.centre.xSVG(coeff)}, ${this.centre.xSVG(coeff)})\"><path d=\"M${this.M.xSVG(coeff)} ${this.M.ySVG(coeff)} A ${this.rx * coeff} ${this.ry * coeff} 0 ${this.large} ${this.sweep} ${this.N.xSVG(coeff)} ${this.N.ySVG(coeff)} L ${this.centre.xSVG(coeff)} ${this.centre.ySVG(coeff)} Z\" stroke=\"${this.color[0]}\" fill=\"${this.couleurDeRemplissage[0]}\" ${this.style}/>  </g>`\n      }\n    } else {\n      this.style = ''\n      if (this.epaisseur !== 1) {\n        this.style += ` stroke-width=\"${this.epaisseur}\" `\n      }\n\n      switch (this.pointilles) {\n        case 1:\n          this.style += ' stroke-dasharray=\"6 10\" '\n          break\n        case 2:\n          this.style += ' stroke-dasharray=\"6 3\" '\n          break\n        case 3:\n          this.style += ' stroke-dasharray=\"3 2 6 2 \" '\n          break\n        case 4:\n          this.style += ' stroke-dasharray=\"1 2\" '\n          break\n        case 5:\n          this.style += ' stroke-dasharray=\"5 5\" '\n          break\n      }\n      if (this.opacite !== 1) {\n        this.style += ` stroke-opacity=\"${this.opacite}\" `\n      }\n      this.style += ` fill-opacity=\"${this.opaciteDeRemplissage}\" `\n\n      return `<g transform=\"rotate(${-this.anglesAxe}, ${this.centre.xSVG(coeff)}, ${this.centre.xSVG(coeff)})\"><path d=\"M${this.M.xSVG(coeff)} ${this.M.ySVG(coeff)} A ${this.rx * coeff} ${this.ry * coeff} 0 ${this.large} ${this.sweep} ${this.N.xSVG(coeff)} ${this.N.ySVG(coeff)}\" stroke=\"${this.color[0]}\" fill=\"${this.couleurDeRemplissage[0]}\" ${this.style} id=\"${this.id}\" />  </g>`\n    }\n  }\n\n  tikz() {\n    let optionsDraw = ''\n    const tableauOptions = []\n    if (this.anglesAxe !== 0) {\n      tableauOptions.push(`rotate=${this.anglesAxe}`)\n    }\n    if (this.color[1].length > 1 && this.color[1] !== 'black') {\n      tableauOptions.push(`color=${this.color[1]}`)\n    }\n    if (this.epaisseur !== 1) {\n      tableauOptions.push(`line width = ${this.epaisseur}`)\n    }\n    switch (this.pointilles) {\n      case 1:\n        tableauOptions.push(' dash dot ')\n        break\n      case 2:\n        tableauOptions.push(' densely dash dot dot ')\n        break\n      case 3:\n        tableauOptions.push(' dash dot dot ')\n        break\n      case 4:\n        tableauOptions.push(' dotted ')\n        break\n      case 5:\n        tableauOptions.push(' dashed ')\n        break\n    }\n\n    if (this.opacite !== 1) {\n      tableauOptions.push(`opacity = ${this.opacite}`)\n    }\n\n    if (\n      this.couleurDeRemplissage[1] !== 'none' &&\n      this.couleurDeRemplissage[1] !== ''\n    ) {\n      tableauOptions.push(`fill opacity = ${this.opaciteDeRemplissage}`)\n      tableauOptions.push(`fill = ${this.couleurDeRemplissage[1]}`)\n    }\n\n    if (this.hachures) {\n      tableauOptions.push(\n        pattern({\n          motif: String(this.hachures),\n          id: typeof this.id === 'string' ? this.id : undefined,\n          distanceDesHachures: this.distanceDesHachures,\n          couleurDesHachures: this.couleurDesHachures[1],\n          couleurDeRemplissage: this.couleurDeRemplissage[1],\n          opaciteDeRemplissage: this.opaciteDeRemplissage,\n        }),\n      )\n    }\n    if (tableauOptions.length > 0) {\n      optionsDraw = '[' + tableauOptions.join(',') + ']'\n    }\n    if (\n      this.couleurDeRemplissage[1] !== 'none' &&\n      this.couleurDeRemplissage[1] !== ''\n    )\n      return `\\\\filldraw  ${optionsDraw} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}]; -- cycle ;`\n    else\n      return `\\\\draw${optionsDraw} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}];`\n  }\n\n  svgml(coeff: number, amp: number) {\n    this.style = ''\n    let P: PointAbstrait\n    if (this.epaisseur !== 1) {\n      this.style += ` stroke-width=\"${this.epaisseur}\" `\n    }\n    if (this.opacite !== 1) {\n      this.style += ` stroke-opacity=\"${this.opacite}\" `\n    }\n    this.style += ' fill=\"none\" '\n    let code = `<g transform=\"rotate(${-this.anglesAxe}, ${this.centre.xSVG(coeff)}, ${this.centre.xSVG(coeff)})\"> `\n    code += `<path d=\"M${this.M.xSVG(coeff)} ${this.M.ySVG(coeff)} S ${this.M.xSVG(coeff)} ${this.M.ySVG(coeff)}, `\n    let compteur = 1\n    const r = longueur(this.centre, this.M)\n    for (\n      let k = 0, variation;\n      abs(k) <= abs(this.angle) - 2;\n      k += this.angle < 0 ? -2 : 2\n    ) {\n      variation = (((random(0, 2) - 1) / r) * amp) / 10\n      P = rotation(\n        homothetie(this.M, this.centre, 1 + variation),\n        this.centre,\n        k,\n      )\n      code += `${round(P.xSVG(coeff), 2)} ${round(P.ySVG(coeff), 2)}, `\n      compteur++\n    }\n    P = rotation(this.M, this.centre, this.angle)\n    if (compteur % 2 === 0) code += `${P.xSVG(coeff)} ${P.ySVG(coeff)}, ` // Parce qu'on utilise S et non C dans le path\n    code += `${P.xSVG(coeff)} ${P.ySVG(coeff)}`\n    code += `\" stroke=\"${this.color[0]}\" ${this.style}/>`\n    code += '</g>'\n    return code\n  }\n\n  tikzml(amp: number) {\n    let optionsDraw = ''\n    const tableauOptions = []\n    if (this.anglesAxe !== 0) {\n      tableauOptions.push(`rotate=${this.anglesAxe}`)\n    }\n    if (this.color[1].length > 1 && this.color[1] !== 'black') {\n      tableauOptions.push(`color=${this.color[1]}`)\n    }\n    if (this.epaisseur !== 1) {\n      tableauOptions.push(`line width = ${this.epaisseur}`)\n    }\n    if (this.opacite !== 1) {\n      tableauOptions.push(`opacity = ${this.opacite}`)\n    }\n\n    tableauOptions.push(\n      `decorate,decoration={random steps , amplitude = ${amp}pt}`,\n    )\n\n    optionsDraw = '[' + tableauOptions.join(',') + ']'\n    if (this.couleurDeRemplissage[1] !== 'none')\n      return `\\\\filldraw  ${optionsDraw} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}]; -- cycle ;`\n    else\n      return `\\\\draw${optionsDraw} (${this.M.x},${this.M.y}) arc [start angle=0, end angle = ${this.angle}, x radius = ${this.rx}, y radius = ${this.ry}];`\n  }\n}\n\n/**\n * @param {PointAbstrait} centre centre de l'ellipse\n * @param {number} rx rayon en X\n * @param {number} ry rayon en Y\n * @param {string} hemisphere 'nord' pour tracer au dessus du centre, 'sud' pour tracer en dessous\n * @param {boolean | number} pointilles Si false, l'ar est en trait plein, sinon en pointillés\n * @param {boolean} rayon Si true, alors l'arc est fermé par un segment.\n * @param {string} color Facultatif, 'black' par défaut\n * @param {string} couleurDeRemplissage si 'none' alors pas de remplissage.\n * @param {number} opaciteDeRemplissage Transparence de remplissage de 0 à 1. Facultatif, 0.2 par défaut\n * @author Jean-Claude Lhote\n * @return {SemiEllipse} Objet SemiEllipse\n */\nexport function semiEllipse({\n  centre,\n  rx,\n  ry,\n  hemisphere = 'nord',\n  pointilles = 0,\n  rayon = false,\n  couleurDeRemplissage = 'none',\n  color = 'black',\n  opaciteDeRemplissage = 0.2,\n  hachures = false,\n  anglesAxe = 0,\n}: {\n  centre: PointAbstrait\n  rx: number\n  ry: number\n  hemisphere?: string\n  pointilles?: number\n  rayon?: boolean\n  couleurDeRemplissage?: string\n  color?: string\n  opaciteDeRemplissage?: number\n  hachures?: string | boolean\n  anglesAxe?: number\n}) {\n  return new SemiEllipse({\n    centre,\n    rx,\n    ry,\n    hemisphere,\n    pointilles,\n    rayon,\n    couleurDeRemplissage,\n    color,\n    opaciteDeRemplissage,\n    anglesAxe,\n  })\n}\n\n/**\n * Trace un cône\n * @param {PointAbstrait} centre Centre de la base\n * @param {number} rx Rayon sur l'axe des abscisses\n * @param {number} hauteur Distance verticale entre le centre et le sommet.\n * @param {string} [color = 'black'] Facultatif, 'black' par défaut\n * @param {string} [couleurDeRemplissage = 'none'] none' si on ne veut pas de remplissage, sinon une couleur du type 'blue' ou du type '#f15929'\n * @param {number} [opaciteDeRemplissage = 0.2] Taux d'opacité du remplissage\n * @author Jean-Claude Lhote\n * @private\n */\nexport class Cone extends ObjetMathalea2D {\n  sommet: PointAbstrait\n  centre: PointAbstrait\n  couleurDeRemplissage: string\n  opaciteDeRemplissage: number\n  stringColor: string\n  constructor({\n    centre,\n    rx,\n    hauteur,\n    couleurDeRemplissage = 'none',\n    color = 'black',\n    opaciteDeRemplissage = 0.2,\n  }: {\n    centre: PointAbstrait\n    rx: number\n    hauteur: number\n    couleurDeRemplissage?: string\n    color?: string\n    opaciteDeRemplissage?: number\n  }) {\n    super()\n    const sommet = pointAbstrait(centre.x, centre.y + hauteur)\n    this.sommet = sommet\n    this.centre = centre\n    this.stringColor = color\n    this.couleurDeRemplissage = couleurDeRemplissage\n    this.opaciteDeRemplissage = opaciteDeRemplissage\n    this.objets = [\n      semiEllipse({\n        centre,\n        rx,\n        ry: rx / 3,\n        hemisphere: 'nord',\n        rayon: false,\n        pointilles: 1,\n        couleurDeRemplissage,\n        color,\n        opaciteDeRemplissage,\n      }),\n      semiEllipse({\n        centre,\n        rx,\n        ry: rx / 3,\n        hemisphere: 'sud',\n        rayon: false,\n        pointilles: 0,\n        couleurDeRemplissage,\n        color,\n        opaciteDeRemplissage,\n      }),\n      segment(pointAbstrait(centre.x + rx, centre.y + 0.1), sommet, color),\n      segment(pointAbstrait(centre.x - rx, centre.y + 0.1), sommet, color),\n    ]\n    let xMin = 1000\n    let yMin = 1000\n    let yMax = -1000\n    let xMax = -1000\n    for (const obj of this.objets) {\n      xMin = Math.min(xMin, obj.bordures[0])\n      yMin = Math.min(yMin, obj.bordures[1])\n      xMax = Math.max(xMax, obj.bordures[2])\n      yMax = Math.max(yMax, obj.bordures[3])\n    }\n    this.bordures = [xMin, yMin, xMax, yMax]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = colorToLatexOrHTML(this.stringColor)\n      code += objet.svg(coeff) + '\\n'\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = colorToLatexOrHTML(this.stringColor)\n      code += objet.tikz() + '\\n\\t'\n    }\n    return code\n  }\n}\n\nexport class Sphere2d extends ObjetMathalea2D {\n  centre: PointAbstrait\n  couleurDeRemplissage: string\n  opaciteDeRemplissage: number\n  constructor({\n    centre,\n    rx,\n    couleurDeRemplissage = 'none',\n    color = 'black',\n    opaciteDeRemplissage = 0.2,\n  }: {\n    centre: PointAbstrait\n    rx: number\n    couleurDeRemplissage?: string\n    color?: string\n    opaciteDeRemplissage?: number\n  }) {\n    super()\n    const grandCercle = new Cercle(centre, rx, color, couleurDeRemplissage)\n    this.centre = centre\n    this.color = colorToLatexOrHTML(color)\n    this.couleurDeRemplissage = couleurDeRemplissage\n    this.opaciteDeRemplissage = opaciteDeRemplissage\n    this.objets = [\n      grandCercle,\n      semiEllipse({\n        centre,\n        rx,\n        ry: rx / 3,\n        hemisphere: 'nord',\n        rayon: false,\n        pointilles: 1,\n        couleurDeRemplissage,\n        color,\n        opaciteDeRemplissage,\n      }),\n      semiEllipse({\n        centre,\n        rx,\n        ry: rx / 3,\n        hemisphere: 'sud',\n        rayon: false,\n        pointilles: 0,\n        couleurDeRemplissage,\n        color,\n        opaciteDeRemplissage,\n      }),\n    ]\n    let xMin = 1000\n    let yMin = 1000\n    let yMax = -1000\n    let xMax = -1000\n    for (const obj of this.objets) {\n      xMin = Math.min(xMin, obj.bordures[0])\n      yMin = Math.min(yMin, obj.bordures[1])\n      xMax = Math.max(xMax, obj.bordures[2])\n      yMax = Math.max(yMax, obj.bordures[3])\n    }\n    this.bordures = [xMin, yMin, xMax, yMax]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = this.color.slice() as [string, string]\n      code += objet.svg(coeff) + '\\n'\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = this.color\n      code += objet.tikz() + '\\n\\t'\n    }\n    return code\n  }\n}\n\nexport function sphere2d({\n  centre,\n  rx,\n  couleurDeRemplissage = 'none',\n  color = 'black',\n  opaciteDeRemplissage = 0.2,\n}: {\n  centre: PointAbstrait\n  rx: number\n  couleurDeRemplissage?: string\n  color?: string\n  opaciteDeRemplissage?: number\n}) {\n  return new Sphere2d({\n    centre,\n    rx,\n    couleurDeRemplissage,\n    color,\n    opaciteDeRemplissage,\n  })\n}\n\n// Cette fonction donne un rendu correct que si la hauteur est suffisamment grande\nexport function cone({\n  centre,\n  rx,\n  hauteur,\n  couleurDeRemplissage = 'none',\n  color = 'black',\n  opaciteDeRemplissage = 0.2,\n}: {\n  centre: PointAbstrait\n  rx: number\n  hauteur: number\n  couleurDeRemplissage?: string\n  color?: string\n  opaciteDeRemplissage?: number\n}) {\n  return new Cone({\n    centre,\n    rx,\n    hauteur,\n    couleurDeRemplissage,\n    color,\n    opaciteDeRemplissage,\n  })\n}\n\n/**\n * Trace un cylindre\n * @param {PointAbstrait} centre Centre de la base\n * @param {number} rx Rayon sur l'axe des abscisses\n * @param {number} hauteur Distance verticale entre le centre et le sommet.\n * @param {string} [position = 'DeboutVuDessus'] Facultatif, 'DeboutVuDessus' par défaut, ou 'baseAvantCoucheVuGauche' a faire : baseCoteCoucheVuDroite\n * @param {string} [color = 'black'] Facultatif, 'black' par défaut\n * @param {string} [couleurDeRemplissage = 'none'] none' si on ne veut pas de remplissage, sinon une couleur du type 'blue' ou du type '#f15929'\n * @param {number} [opaciteDeRemplissage = 0.2] Taux d'opacité du remplissage\n * @param {number} [angleDeFuite = 30] pour 'baseAvantCoucheVuDroite'\n * @param {number} [coefficientDeFuite = 0.5] 'baseAvantCoucheVuDroite'\n * @author Olivier Mimeau // d'après Cone de Jean-Claude Lhote\n * @private\n */\nexport class Cylindre extends ObjetMathalea2D {\n  centre: PointAbstrait\n  centre2: PointAbstrait\n  couleurDeRemplissage: string\n  opaciteDeRemplissage: number\n  stringColor: string\n  constructor({\n    centre,\n    rx,\n    hauteur,\n    position = 'DeboutVuDessus',\n    couleurDeRemplissage = 'none',\n    color = 'black',\n    opaciteDeRemplissage = 0.2,\n    angleDeFuite = 30,\n    coefficientDeFuite = 0.5,\n  }: {\n    centre: PointAbstrait\n    rx: number\n    hauteur: number\n    position?: string\n    couleurDeRemplissage?: string\n    color?: string\n    opaciteDeRemplissage?: number\n    angleDeFuite?: number\n    coefficientDeFuite?: number\n  }) {\n    super()\n    let centre2 = pointAbstrait(centre.x + hauteur, centre.y)\n    // this.centre2 = centre2 plus est modifié suivant la position\n    this.centre = centre\n    this.stringColor = color\n    this.couleurDeRemplissage = couleurDeRemplissage\n    this.opaciteDeRemplissage = opaciteDeRemplissage\n    switch (position) {\n      case 'baseCoteCoucheVuDroite':\n        centre2 = pointAbstrait(centre.x + hauteur, centre.y)\n        this.objets = [\n          semiEllipse({\n            centre,\n            rx,\n            ry: rx / 3,\n            hemisphere: 'sud',\n            rayon: false,\n            pointilles: 1,\n            couleurDeRemplissage,\n            color,\n            opaciteDeRemplissage,\n            hachures: false,\n            anglesAxe: 90,\n          }),\n          semiEllipse({\n            centre,\n            rx,\n            ry: rx / 3,\n            hemisphere: 'nord',\n            rayon: false,\n            pointilles: 0,\n            couleurDeRemplissage,\n            color,\n            opaciteDeRemplissage,\n            hachures: false,\n            anglesAxe: 90,\n          }),\n          ellipse(centre2, rx / 3, rx, color),\n          segment(\n            pointAbstrait(centre.x - 0.1, centre.y + rx),\n            pointAbstrait(centre2.x + 0.1, centre2.y + rx),\n            color,\n          ),\n          segment(\n            pointAbstrait(centre.x - 0.1, centre.y - rx),\n            pointAbstrait(centre2.x + 0.1, centre2.y - rx),\n            color,\n          ),\n        ]\n        break\n      case 'baseAvantCoucheVuGauche': {\n        centre2 = pointAdistance(\n          centre,\n          hauteur * coefficientDeFuite,\n          angleDeFuite,\n        )\n        const ey = -rx * Math.cos((angleDeFuite * Math.PI) / 180)\n        const ex = rx * Math.sin((angleDeFuite * Math.PI) / 180)\n        const debutArc = pointAbstrait(centre2.x + ex, centre2.y + ey)\n        const demiCerclePlein = arc(\n          debutArc,\n          centre2,\n          180,\n          false,\n          couleurDeRemplissage,\n          color,\n          opaciteDeRemplissage,\n          'none',\n        )\n        const demiCerclePointille = arc(\n          debutArc,\n          centre2,\n          -180,\n          false,\n          couleurDeRemplissage,\n          color,\n          opaciteDeRemplissage,\n          'none',\n        )\n        demiCerclePointille.pointilles = 1\n        this.objets = [\n          cercle(centre, rx),\n          // cercle(centre, rx, color, couleurDeRemplissage, 'none', 1, 0, opaciteDeRemplissage, 1, 10),\n          demiCerclePlein,\n          demiCerclePointille,\n          segment(\n            pointAbstrait(centre.x + ex, centre.y + ey),\n            pointAbstrait(centre2.x + ex, centre2.y + ey),\n            color,\n          ),\n          segment(\n            pointAbstrait(centre.x - ex, centre.y - ey),\n            pointAbstrait(centre2.x - ex, centre2.y - ey),\n            color,\n          ),\n        ]\n\n        break\n      }\n      case 'DeboutVuDessus':\n      default:\n        centre2 = pointAbstrait(centre.x, centre.y + hauteur)\n        this.objets = [\n          semiEllipse({\n            centre,\n            rx,\n            ry: rx / 3,\n            hemisphere: 'nord',\n            rayon: false,\n            pointilles: 1,\n            couleurDeRemplissage,\n            color,\n            opaciteDeRemplissage,\n          }),\n          semiEllipse({\n            centre,\n            rx,\n            ry: rx / 3,\n            hemisphere: 'sud',\n            rayon: false,\n            pointilles: 0,\n            couleurDeRemplissage,\n            color,\n            opaciteDeRemplissage,\n          }),\n          ellipse(centre2, rx, rx / 3, color),\n          segment(\n            pointAbstrait(centre.x + rx, centre.y - 0.1),\n            pointAbstrait(centre2.x + rx, centre2.y + 0.1),\n            color,\n          ),\n          segment(\n            pointAbstrait(centre.x - rx, centre.y - 0.1),\n            pointAbstrait(centre2.x - rx, centre2.y + 0.1),\n            color,\n          ),\n        ]\n        break\n    }\n    this.centre2 = centre2\n    let xMin = 1000\n    let yMin = 1000\n    let yMax = -1000\n    let xMax = -1000\n    for (const obj of this.objets) {\n      xMin = Math.min(xMin, obj.bordures[0])\n      yMin = Math.min(yMin, obj.bordures[1])\n      xMax = Math.max(xMax, obj.bordures[2])\n      yMax = Math.max(yMax, obj.bordures[3])\n    }\n    this.bordures = [xMin, yMin, xMax, yMax]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = colorToLatexOrHTML(this.stringColor)\n      code += objet.svg(coeff) + '\\n'\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      objet.color = colorToLatexOrHTML(this.stringColor)\n      code += objet.tikz() + '\\n\\t'\n    }\n    return code\n  }\n}\n\nexport function cylindre({\n  centre,\n  rx,\n  hauteur,\n  position,\n  couleurDeRemplissage = 'none',\n  color = 'black',\n  opaciteDeRemplissage = 0.2,\n  angleDeFuite = 30,\n  coefficientDeFuite = 0.5,\n}: {\n  centre: PointAbstrait\n  rx: number\n  hauteur: number\n  position?: string\n  couleurDeRemplissage?: string\n  color?: string\n  opaciteDeRemplissage?: number\n  angleDeFuite?: number\n  coefficientDeFuite?: number\n}) {\n  return new Cylindre({\n    centre,\n    rx,\n    hauteur,\n    position,\n    couleurDeRemplissage,\n    color,\n    opaciteDeRemplissage,\n    angleDeFuite,\n    coefficientDeFuite,\n  })\n}\n"],"names":["Pave","ObjetMathalea2D","L","l","h","origine","pointAbstrait","cote","angleDeFuite","coefficientDeFuite","A","B","C","D","p","polygone","E","pointAdistance","F","translation","vecteur","H","sAE","segment","sBF","sCG","sDH","sEF","sFG","sGH","sHE","afficheCoteSegment","xmin","xmax","ymin","ymax","fixeBordures","coeff","code","objet","pave","Ellipse","O","rx","ry","color","__publicField","colorToLatexOrHTML","optionsDraw","tableauOptions","amp","compteur","k","variation","random","round","ellipse","SemiEllipse","centre","hemisphere","pointilles","rayon","couleurDeRemplissage","opaciteDeRemplissage","hachures","anglesAxe","med","homothetie","rotation","bxmin","bymin","bxmax","bymax","bA","bB","bC","bD","bCentre","pattern","P","r","longueur","abs","semiEllipse","Cone","hauteur","sommet","xMin","yMin","yMax","xMax","obj","Sphere2d","grandCercle","Cercle","sphere2d","cone","Cylindre","position","centre2","ey","ex","debutArc","demiCerclePlein","arc","demiCerclePointille","cercle","cylindre"],"mappings":"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"}