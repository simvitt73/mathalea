{"version":3,"file":"5R20-D48tGc0v.js","sources":["../../src/exercices/5e/5R20.ts"],"sourcesContent":["/**\n * ⚠️ Cet exercice est utilisé dans le test : tests/e2e/tests/interactivity/mathLive.calcul.test.ts ⚠️\n */\n\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureNombreRelatif,\n  ecritureNombreRelatifc,\n  ecritureParentheseSiNegatif,\n} from '../../lib/outils/ecritures'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  contraindreValeur,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport Decimal from 'decimal.js'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\n\nexport const amcReady = true\nexport const amcType = 'qcmMono'\nexport const interactifReady = true\nexport const interactifType = ['qcm', 'mathLive']\n\nexport const titre = 'Addition de deux nombres relatifs'\nexport const dateDeModifImportante = '24/9/2024'\n\n/**\n * Additionner deux relatifs inférieurs à la valeur maximale en paramètre qui est par défaut à 20.\n * Paramètre supplémentaire ; utilisation des écritures simplifiées / utilisation de nombres décimaux\n * @author Rémi Angot\n */\nexport const uuid = 'cbc26'\n\nexport const refs = {\n  'fr-fr': ['5R20'],\n  'fr-ch': ['9NO9-6'],\n}\nexport default class ExerciceAdditionsRelatifs extends Exercice {\n  modeQcm: boolean\n  constructor() {\n    super()\n    this.sup = 20\n    this.sup4 = false // nombres décimaux\n    this.spacing = 0.5\n    this.modeQcm = false\n    this.sup3 = false\n    this.besoinFormulaireNumerique = ['Valeur maximale', 99999]\n    this.besoinFormulaire2Numerique = [\n      'Type de questions',\n      3,\n      'Tous les nombres entre parenthèses \\n2 : Seul le 2e terme négatif est entre parenthèses \\n3 : Écriture simplifiée',\n    ]\n    this.sup2 = 1 // écriture simplifiée\n    this.besoinFormulaire4CaseACocher = ['Avec des nombres décimaux']\n    if (context.isHtml) this.besoinFormulaire3CaseACocher = ['QCM']\n    this.comment =\n      \"Si l'option « Avec des nombres décimaux » est activée, 2 fois sur 3 les nombres auront un chiffre après la virgule et une fois sur 3 un seul terme aura deux chiffres après la virgule.\"\n  }\n\n  nouvelleVersion() {\n    // Rétrocompatibilité avec les liens vers les exercices quand c'était des cases à cocher\n    if (this.sup2 === false) {\n      this.sup2 = 1\n    } else if (this.sup2 === true) {\n      this.sup2 = 3\n    }\n    this.consigne = this.sup3\n      ? 'Calculer puis cocher la case correspondante.'\n      : this.interactif\n        ? 'Calculer (mentalement ou au brouillon) et indiquer seulement le résultat final.'\n        : 'Calculer.'\n    this.nbCols = this.sup3 ? 2 : 3\n    this.nbColsCorr = this.sup3 ? 2 : 3\n\n    this.interactifType = this.sup3 ? 'qcm' : 'mathLive'\n    const partieDecimaleAUnChiffre = combinaisonListes(\n      [true, true, false],\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let a: number\n      let b: number\n      let texte = ''\n      let texteCorr = ''\n      this.sup = contraindreValeur(1, 99999, this.sup, 10)\n      a = randint(1, this.sup)\n      b = randint(1, this.sup)\n      const k: (1 | -1)[] = choice([\n        [-1, -1],\n        [-1, 1],\n        [1, -1],\n      ]) // Les deux nombres relatifs ne peuvent pas être tous les deux positifs\n      a = a * k[0]\n      b = b * k[1]\n      if (this.sup4) {\n        a = new Decimal(randint(1, this.sup * 10)).div(10).mul(k[0]).toNumber()\n        if (partieDecimaleAUnChiffre[i]) {\n          b = new Decimal(randint(1, this.sup * 10))\n            .div(10)\n            .mul(k[1])\n            .toNumber()\n        } else {\n          b = new Decimal(randint(1, this.sup * 100))\n            .div(100)\n            .mul(k[1])\n            .toNumber()\n        }\n        if (choice([true, false])) {\n          ;[a, b] = [b, a]\n        }\n      }\n      if (this.sup2 === 1) {\n        texte =\n          '$ ' +\n          ecritureNombreRelatif(a) +\n          ' + ' +\n          ecritureNombreRelatif(b) +\n          '$'\n        texteCorr =\n          '$ ' +\n          ecritureNombreRelatifc(a) +\n          ' + ' +\n          ecritureNombreRelatifc(b) +\n          ' = ' +\n          ecritureNombreRelatifc(a + b, { color: orangeMathalea }) +\n          ' $'\n      } else if (this.sup2 === 2) {\n        texte = `$ ${texNombre(a)} + ${ecritureParentheseSiNegatif(b)}$`\n        texteCorr = `$ ${a} + ${ecritureParentheseSiNegatif(b)} = ${miseEnEvidence(texNombre(a + b))} $`\n      } else {\n        texte = `$ ${texNombre(a)}${ecritureAlgebrique(b)}$`\n        texteCorr = `$ ${a}${ecritureAlgebrique(b)} = ${miseEnEvidence(texNombre(a + b))} $`\n      }\n      this.autoCorrection[i] = {}\n      this.autoCorrection[i].options = {}\n      this.autoCorrection[i].enonce = `${texte}\\n`\n      this.autoCorrection[i].propositions = [\n        {\n          texte: `$${texNombre(a + b)}$`,\n          statut: true,\n        },\n        {\n          texte: `$${texNombre(a - b)}$`,\n          statut: false,\n        },\n        {\n          texte: `$${texNombre(-a + b)}$`,\n          statut: false,\n        },\n        {\n          texte: `$${texNombre(-a - b)}$`,\n          statut: false,\n        },\n      ]\n      if (this.sup3) {\n        const qcm = propositionsQcm(this, i)\n        texte += qcm.texte\n        if (!this.interactif) {\n          texteCorr += qcm.texteCorr\n        }\n      } else {\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase, {\n          texteAvant: ' $=$',\n        })\n        handleAnswers(this, i, {\n          reponse: {\n            value: arrondi(a + b).toString(),\n            options: { nombreDecimalSeulement: true },\n          },\n        })\n      }\n      if (this.questionJamaisPosee(i, a, b)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["amcReady","amcType","interactifReady","interactifType","titre","dateDeModifImportante","uuid","refs","ExerciceAdditionsRelatifs","Exercice","__publicField","context","partieDecimaleAUnChiffre","combinaisonListes","cpt","a","b","texte","texteCorr","contraindreValeur","randint","k","choice","Decimal","ecritureNombreRelatif","ecritureNombreRelatifc","orangeMathalea","texNombre","ecritureParentheseSiNegatif","miseEnEvidence","ecritureAlgebrique","qcm","propositionsQcm","ajouteChampTexteMathLive","KeyboardType","handleAnswers","arrondi","listeQuestionsToContenu"],"mappings":"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"}