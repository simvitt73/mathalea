{"version":3,"file":"TSA2-00-BVidg-mJ.js","sources":["../../src/exercices/TSpe/TSA2-00.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { functionCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { reduireAxPlusB } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport Trinome from '../../modules/Trinome'\nimport Exercice from '../Exercice'\nexport const titre = 'Dérivation de fonction composées V2'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const uuid = '25135'\nexport const refs = {\n  'fr-fr': ['TSA2-00'],\n  'fr-ch': ['4mAna-1'],\n}\n\nexport const dateDePublication = '17/04/2024'\n\n/**\n * Dérivée de ln(u)\n * @author Jean-Claude Lhote\n *\n */\nclass DerivationLnU extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Types de fonctions : ',\n      'Nombres séparés par des tirets :\\n1 : ln(ax+b)\\n2 : ln(ax²+bx+c)\\n3 : ln(x^n)\\n4 : Mélange',\n    ]\n    this.sup = '1'\n    this.nbQuestions = 5\n    this.correctionDetailleeDisponible = true\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestion = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      defaut: 4,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n    })\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let laFonctionFEnLatex: string\n      let df: string\n      let formeGeneraleDerivee: string\n      let formeGenerale: string\n      let fPrime: string\n      let fPrimeDetaillee: string\n      let domaine // la variable domaine pour la fonction de comparaison\n      let a = randint(-10, 10, 0)\n      let b = randint(-5, 5, 0)\n      let c = randint(-10, 10)\n      let u: string\n      let uPrime: string\n      let valeurInterdite: string\n      if (listeTypeDeQuestion[i] === 1) {\n        u = reduireAxPlusB(a, b)\n        uPrime = String(a)\n        valeurInterdite = new FractionEtendue(-b, a).simplifie().texFSD\n        fPrimeDetaillee = `\\\\dfrac{${String(a)}}{${u}}`\n        fPrime = `\\\\dfrac{${String(a)}}{${u}}`\n        laFonctionFEnLatex = `\\\\ln\\\\left( ${u}\\\\right)`\n        df =\n          a < 0\n            ? `\\\\left]-\\\\infty;${valeurInterdite}\\\\right[`\n            : `\\\\left]${valeurInterdite};+\\\\infty\\\\right[`\n        formeGenerale = 'ln(u)'\n        formeGeneraleDerivee = '(ln(u))^\\\\prime=\\\\dfrac{u^\\\\prime}{u}'\n        domaine = a < 0 ? [-b / a - 10, -b / a - 1] : [-b / a + 1, -b / a + 10]\n      } else if (listeTypeDeQuestion[i] === 2) {\n        while (b ** 2 - 4 * a * c <= 0) {\n          // On veut éviter un domaine de définition vide\n          a = randint(-10, 10, 0)\n          b = randint(-5, 5, 0)\n          c = randint(-10, 10)\n        }\n        const poly = new Trinome(a, b, c)\n        u = poly.tex\n        uPrime = reduireAxPlusB(2 * a, b)\n        fPrimeDetaillee = `\\\\dfrac{${uPrime}}{${u}}`\n        fPrime = `\\\\dfrac{${uPrime}}{${u}}`\n        laFonctionFEnLatex = `\\\\ln\\\\left( ${u}\\\\right)`\n        df =\n          a > 0\n            ? `\\\\left]-\\\\infty;${poly.texX1}\\\\right[\\\\cup \\\\left]${poly.texX2};+\\\\infty\\\\right[`\n            : `\\\\left]${poly.texX1};${poly.texX2}\\\\right[`\n        formeGenerale = 'ln(u)'\n        formeGeneraleDerivee = '(ln(u))^\\\\prime=\\\\dfrac{u^\\\\prime}{u}'\n        domaine =\n          a > 0\n            ? [Number(poly.x1) - 10, Number(poly.x1) - 1]\n            : [Number(poly.x1) + 0.01, Number(poly.x2) - 0.01]\n      } else {\n        const n = randint(3, 9)\n        u = `x^{${n}}`\n        uPrime = `${String(n)}x^{${n - 1}}`\n        fPrimeDetaillee = `\\\\dfrac{${uPrime}}{${u}}=\\\\dfrac{${String(n)}}{x}`\n        fPrime = `\\\\dfrac{${String(n)}}{x}`\n        laFonctionFEnLatex = `\\\\ln(${u})`\n        df = '\\\\R_+^*'\n        formeGenerale = '\\\\ln(u)'\n        formeGeneraleDerivee = '(\\\\ln(u))^\\\\prime=\\\\dfrac{u^\\\\prime}{u}'\n        domaine = [1, 10]\n      }\n      const texte =\n        `Donner l'expression de la dérivée de la fonction $f$ définie sur $${df}$ par :<br>$f(x)=${laFonctionFEnLatex}$.<br>` +\n        ajouteChampTexteMathLive(\n          this,\n          i,\n          `${KeyboardType.clavierDeBaseAvecX} ${KeyboardType.clavierFullOperations}`,\n          { texteAvant: \"$f'(x)=$\" },\n        )\n      let texteCorr = ''\n      if (this.correctionDetaillee) {\n        texteCorr += `La fonction $f$ est de la forme $${formeGenerale}$ et donc que la dérivée est de la forme $${formeGeneraleDerivee}$.<br>`\n        texteCorr += `On a $u(x)=${u}$ et $u^\\\\prime(x)=${uPrime}$.<br>`\n        texteCorr += `$f^\\\\prime(x)=${fPrimeDetaillee}$.<br>`\n        if (listeTypeDeQuestion[i] === 3) {\n          texteCorr +=\n            'On peut utiliser ici la propriété $\\\\ln(x^n)=n\\\\ln(x)$ et donc $(\\\\ln(x^n))^\\\\prime=n(\\\\ln(x))^\\\\prime=\\\\dfrac{n}{x}$.<br>'\n        }\n      }\n      texteCorr += `L'expression de la dérivée de la fonction $f$ définie par $f(x)=${laFonctionFEnLatex}$ est : `\n      texteCorr += `$f'(x)=${miseEnEvidence(fPrime)}$.`\n\n      if (this.questionJamaisPosee(i, laFonctionFEnLatex, fPrime)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        // @ts-expect-error problème de typage handleAnswers\n        handleAnswers(this, i, {\n          reponse: {\n            value: fPrime,\n            options: { variable: 'x', domaine },\n            compare: functionCompare,\n          },\n        })\n        i++\n        cpt--\n      }\n      cpt++\n    }\n  }\n}\n\nexport default DerivationLnU\n"],"names":["titre","interactifReady","interactifType","uuid","refs","dateDePublication","DerivationLnU","Exercice","listeTypeDeQuestion","gestionnaireFormulaireTexte","i","cpt","laFonctionFEnLatex","df","formeGeneraleDerivee","formeGenerale","fPrime","fPrimeDetaillee","domaine","a","randint","b","c","u","uPrime","valeurInterdite","reduireAxPlusB","FractionEtendue","poly","Trinome","n","texte","ajouteChampTexteMathLive","KeyboardType","texteCorr","miseEnEvidence","handleAnswers","functionCompare"],"mappings":"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"}