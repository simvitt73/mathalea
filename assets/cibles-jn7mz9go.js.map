{"version":3,"file":"cibles-jn7mz9go.js","sources":["../../src/lib/2d/cibles.ts"],"sourcesContent":["import { randint } from '../../modules/outils'\nimport { arrondi } from '../outils/nombres'\nimport { lettreDepuisChiffre } from '../outils/outilString'\nimport { nombreAvecEspace } from '../outils/texNombre'\nimport { arc } from './Arc'\nimport { cercle } from './cercle'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { grille } from './Grille'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport { point } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { TexteParPoint, texteParPoint, texteParPosition } from './textes'\nimport { rotation, similitude } from './transformations'\nimport { longueur } from './utilitairesGeometriques'\nimport { milieu, pointSurSegment } from './utilitairesPoint'\n\n/**  Retourne un couple de coordonnées correspondant au centre d'une cible, connaissant les coordonnées du point réponse et de la cellule dans laquelle on veut qu'il soit\n * @param {number} x Abscisse du point réponse\n * @param {number} y Ordonnée du point réponse\n * @param {number} rang Nombre de cases en largeur\n * @param {number} taille Taille des cases\n * @param {string} cellule Cellule de la réponse, chaine définie par exemple comme 'A1' ou 'B3'\n * @example dansLaCibleCarree(-1, -3, 4, 0.6, 'B2')\n // Retourne les coordonnées du centre d'une cible carrée de rang 4 et de taille 0.6 dont la réponse est le point (-1;-3) dans la cellule B2\n * @return {number[]|string} Ce sont les coordonnées du centre de la cible ou bien 'Cette cellule n'existe pas dans la cible'\n * @author Jean-Claude Lhote\n */\n// JSDOC Validee par EE Aout 2022\nexport function dansLaCibleCarree(\n  x: number,\n  y: number,\n  rang: number,\n  taille: number,\n  cellule: string,\n): [number, number] {\n  const lettre = cellule[0]\n  const chiffrelettre = lettre.charCodeAt(0) - 64\n  const chiffre = parseInt(cellule[1])\n  // dx et dy étaient utilisés pour décentrer le point dans la cellule... cela pouvait entrainer des points très proches des cellules voisines\n  // en recentrant les points dans les cellules, on tolère une plus grande marge d'erreur.\n  const dx = 0 // Devenu inutile\n  const dy = 0 // Devenu inutile\n  const delta = taille / 2\n  if (chiffre > rang || chiffrelettre > rang) {\n    window.notify(\"Cette cellule n'existe pas dans la cible\", {\n      x,\n      y,\n      rang,\n      taille,\n      cellule,\n    })\n    return [0, 0]\n  } else {\n    return [\n      x + dx - chiffrelettre * taille + delta + rang * delta,\n      y + dy - chiffre * 2 * delta + (rang + 1) * delta,\n    ]\n  }\n}\n\n/**\n * Crée une cible carrée pour l'auto-correction\n * @param {number} [x=0] Abscisse du point au centre de la cible\n * @param {number} [y=0] Ordonnée du point au centre de la cible\n * @param {number} [rang=4] Nombre de cases en largeur\n * @param {number} [num] Numéro (ou rien) pour identifier la cible (quand il y en a plusieurs)\n * @param {number} [taille=0.6] Taille des cases\n * @param {string} [color='gray'] Couleur de la cible. Code couleur HTML acceptée\n * @param {number} [opacite=0.5] Opacité de la cible\n * @param {string} [colorNum = color] Couleur du numéro identifiant la cible. Code couleur HTML acceptée\n * @param {number} [opaciteNum = 0.5] Opacité du numéro identifiant la cible\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {number} x Abscisse du point au centre de la cible\n * @property {number} y Ordonnée du point au centre de la cible\n * @property {number} rang Nombre de cases en largeur\n * @property {number} taille Taille des cases\n * @property {string} color Couleur de la cible. À associer obligatoirement à colorToLatexOrHTML().\n * @property {number} opacite Opacité de la cible\n * @property {string} colorNum Couleur du numéro identifiant la cible. Code couleur HTML acceptée\n * @property {number} opaciteNum Opacité du numéro identifiant la cible\n * @author Jean-Claude Lhote\n * @class\n */\n// JSDOC Validee par EE Juin 2022\nexport class CibleCarree extends ObjetMathalea2D {\n  x: number\n  y: number\n  rang: number\n  taille: number\n  colorNum: string\n  opaciteNum: number\n  stringColor: string\n  constructor({\n    x = 0,\n    y = 0,\n    rang = 4,\n    num,\n    taille = 0.6,\n    color = 'gray',\n    opacite = 0.5,\n    colorNum = color,\n    opaciteNum = 1,\n  }: {\n    x?: number\n    y?: number\n    rang?: number\n    num?: number\n    taille?: number\n    color?: string\n    opacite?: number\n    colorNum?: string\n    opaciteNum?: number\n  } = {}) {\n    super()\n    this.stringColor = color\n    this.x = x\n    this.y = y\n    this.rang = rang\n    this.taille = taille\n    this.color = colorToLatexOrHTML(color)\n    this.colorNum = colorNum\n    this.opacite = opacite\n    this.opaciteNum = opaciteNum\n    const objets: any[] = []\n    let numero\n    // Si un numéro est donné, alors on l'ajoute en filigrane.\n    if (typeof num !== 'undefined') {\n      numero = texteParPosition(\n        String(num),\n        this.x - (this.rang * this.taille) / 4,\n        this.y - (this.rang * this.taille) / 4,\n        0,\n        this.colorNum,\n        1,\n        'milieu',\n        false,\n        this.opaciteNum,\n      ) as TexteParPoint\n      // numero.opacite = 0.1 TOTALEMENT INUTILE CAR NON FONCTIONNEL\n      numero.taille = 30 * this.taille\n      numero.contour = true\n      objets.push(numero)\n    }\n    let lettre, chiffre\n    // la grille de la cible\n    objets.push(\n      grille(\n        arrondi(this.x - (this.rang * this.taille) / 2),\n        arrondi(this.y - (this.rang * this.taille) / 2),\n        arrondi(this.x + (this.rang * this.taille) / 2),\n        arrondi(this.y + (this.rang * this.taille) / 2),\n        this.stringColor,\n        this.opacite,\n        this.taille,\n        0,\n      ),\n    )\n    for (let i = 0; i < rang; i++) {\n      lettre = texteParPosition(\n        lettreDepuisChiffre(1 + i),\n        this.x -\n          (this.rang * this.taille) / 2 +\n          ((2 * i + 1) * this.taille) / 2,\n        this.y - ((this.rang + 1) * this.taille) / 2,\n        0,\n        'blue',\n        0.5,\n        'milieu',\n        false,\n        0.2,\n      ) as TexteParPoint\n      chiffre = texteParPosition(\n        String(i + 1),\n        this.x - ((this.rang + 1) * this.taille) / 2,\n        this.y -\n          (this.rang * this.taille) / 2 +\n          ((2 * i + 1) * this.taille) / 2,\n        0,\n        'blue',\n        0.5,\n        'milieu',\n        false,\n        0.2,\n      ) as TexteParPoint\n      lettre.taille = 10 * this.taille\n      chiffre.taille = 10 * this.taille\n      objets.push(lettre)\n      objets.push(chiffre)\n    }\n    // on définit les bordures (important car les cibles se placent souvent aléatoirement)\n    let xmin = 1000\n    let ymin = 1000\n    let xmax = -1000\n    let ymax = -1000\n    for (const objet of objets) {\n      if (objet.bordures !== undefined) {\n        xmin = Math.min(xmin, objet.bordures[0])\n        ymin = Math.min(ymin, objet.bordures[1])\n        xmax = Math.max(xmax, objet.bordures[2])\n        ymax = Math.max(ymax, objet.bordures[3])\n      }\n    }\n    this.bordures = [xmin, ymin, xmax, ymax]\n    this.objets = objets\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n\n/**\n * Crée une cible carrée pour l'auto-correction\n * @param {number} [x = 0] Abscisse du point au centre de la cible\n * @param {number} [y = 0] Ordonnée du point au centre de la cible\n * @param {number} [rang = 4] Nombre de cases en largeur\n * @param {number} [num] Numéro (ou rien) pour identifier la cible (quand il y en a plusieurs)\n * @param {number} [taille = 0.6] Taille des cases\n * @param {string} [color = 'gray'] Couleur de la cible. Code couleur HTML acceptée\n * @param {number} [opacite = 0.5] Opacité de la cible\n * @param {string} [colorNum = color] Couleur du numéro identifiant la cible. Code couleur HTML acceptée\n * @param {number} [opaciteNum = 0.5] Opacité du numéro identifiant la cible\n * @example cibleCarree({})\n * // Crée une cible Carree, de centre (0,0), avec 4 carrés en largeur dont chacune a pour côté 0.6, de couleur grise avec une opacité de 50 %\n * @example cibleCarree({ x: 2, y: -1, rang: 5, num: 17, taille: 0.5, color: 'blue', opacite: 0.8 })\n * // Crée une cible Carree, de centre (2,-1), avec 5 carrés en largeur dont chacune a pour côté 0.5, de couleur bleue avec une opacité de 80 %, portant le numéro 17\n * @author Jean-Claude Lhote\n * @return {CibleCarree}\n */\n// JSDOC Validee par EE Juin 2022\nexport function cibleCarree({\n  x = 0,\n  y = 0,\n  rang = 4,\n  num = 1,\n  taille = 0.6,\n  color = 'gray',\n  opacite = 0.5,\n  colorNum = color,\n  opaciteNum = 1,\n}: {\n  x?: number\n  y?: number\n  rang?: number\n  num?: number\n  taille?: number\n  color?: string\n  opacite?: number\n  colorNum?: string\n  opaciteNum?: number\n} = {}) {\n  return new CibleCarree({\n    x,\n    y,\n    rang,\n    num,\n    taille,\n    color,\n    opacite,\n    colorNum,\n    opaciteNum,\n  })\n}\n\n/**  Retourne un couple de coordonnées correspondant au centre d'une cible, connaissant les coordonnées du point réponse et de la cellule dans laquelle on veut qu'il soit\n * @param {number} x Abscisse du point réponse\n * @param {number} y Ordonnée du point réponse\n * @param {number} rang Nombre de cases sur une couronne\n * @param {number} taille Différence entre deux rayons successifs\n * @param {string} cellule Cellule de la réponse, chaine définie par exemple comme 'A1' ou 'B3'\n * @example dansLaCibleCarree(-1, -3, 4, 0.6, 'B2')\n // Retourne les coordonnées du centre d'une cible ronde de rang 4 et de taille 0.6 dont la réponse est le point (-1;-3) dans la cellule B2\n * @return {number[]|string} Ce sont les coordonnées du centre de la cible ou bien 'Cette cellule n'existe pas dans la cible'\n * @author Jean-Claude Lhote\n */\n// JSDOC Validee par EE Aout 2022\nexport function dansLaCibleRonde(\n  x: number,\n  y: number,\n  rang: number,\n  taille: number,\n  cellule: string,\n) {\n  const lettre = cellule[0]\n  const chiffrelettre = lettre.charCodeAt(0) - 64\n  const chiffre = parseInt(cellule[1])\n  const drayon = 0\n  const dangle = randint(-7, 7)\n  const angle = (chiffrelettre - 1) * 45 - 157.5 + dangle\n  const rayon = taille / 2 + (chiffre - 1) * taille + drayon\n  const P = similitude(point(1, 0), point(0, 0), angle, rayon)\n  P.x += x\n  P.y += y\n  if (chiffre > rang || chiffrelettre > 8) {\n    console.error(\"Cette cellule n'existe pas dans la cible\")\n    return [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n  } else {\n    return [P.x, P.y]\n  }\n}\n\n/**\n * Crée une cible ronde pour l'auto-correction\n * @param {number} [x=0] Abscisse du point au centre de la cible\n * @param {number} [y=0] Ordonnée du point au centre de la cible\n * @param {number} [rang=3] Nombre de cercles centrés sur le centre de la cible\n * @param {number} [taille=0.3] Distance entre le centre de la cible et le premier cercle (et entre chaque cercle consécutif)\n * @param {string} [color='gray'] Couleur de la cible. Code couleur HTML acceptée\n * @param {number} [opacite=0.5] Opacité de la cible\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {number} x Abscisse du point au centre de la cible\n * @property {number} y Ordonnée du point au centre de la cible\n * @property {number} rang Nombre de cercles centrés sur le centre de la cible\n * @property {number} taille Distance entre le centre de la cible et le premier cercle (et entre chaque cercle consécutif)\n * @property {string} color Couleur de la cible. À associer obligatoirement à colorToLatexOrHTML().\n * @property {number} opacite Opacité de la cible\n * @author Jean-Claude Lhote\n * @class\n */\n// JSDOC Validee par EE Juin 2022\nexport class CibleRonde extends ObjetMathalea2D {\n  stringColor: string\n  x: number\n  y: number\n  rang: number\n  taille: number\n  constructor({\n    x = 0,\n    y = 0,\n    rang = 3,\n    num = 1,\n    taille = 0.3,\n    color = 'gray',\n    opacite = 0.5,\n  }: {\n    x?: number\n    y?: number\n    rang?: number\n    num?: number\n    taille?: number\n    color?: string\n    opacite?: number\n  }) {\n    super()\n    this.objets = []\n    this.stringColor = color\n    this.x = x\n    this.y = y\n    this.taille = taille\n    this.rang = rang\n    this.opacite = opacite\n    this.color = colorToLatexOrHTML(color)\n    let c\n    let rayon\n    const centre = point(this.x, this.y)\n    const azimut = point(this.x + this.rang * this.taille, this.y)\n    // objets.push(labelPoint(centre))\n    const azimut2 = pointSurSegment(\n      centre,\n      azimut,\n      longueur(centre, azimut) + 0.3,\n    )\n    this.bordures = [\n      this.x - this.rang * this.taille - 1,\n      this.y - this.rang * this.taille - 1,\n      this.x + this.rang * this.taille + 1,\n      this.y + this.rang * this.taille + 1,\n    ]\n    for (let i = 0; i < 8; i++) {\n      rayon = segment(\n        centre,\n        rotation(azimut, centre, 45 * i),\n        this.stringColor,\n      )\n      rayon.opacite = this.opacite\n      this.objets.push(rayon)\n      this.objets.push(\n        texteParPoint(\n          lettreDepuisChiffre(1 + i),\n          rotation(azimut2, centre, 45 * i + 22.5),\n          0,\n        ),\n      )\n    }\n    for (let i = 0; i < this.rang; i++) {\n      c = cercle(centre, arrondi(this.taille * (1 + i)), this.stringColor)\n      c.opacite = this.opacite\n      this.objets.push(c)\n    }\n    const numero = texteParPosition(\n      nombreAvecEspace(num),\n      this.x,\n      this.y,\n      0,\n      this.stringColor,\n    ) as TexteParPoint\n    numero.opacite = 0.5\n    numero.taille = 30\n    numero.contour = true\n    this.objets.push(numero)\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  ttikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n\n/**\n * Crée une cible ronde pour l'auto-correction\n * @param {number} [x=0] Abscisse du point au centre de la cible\n * @param {number} [y=0] Ordonnée du point au centre de la cible\n * @param {number} [rang=3] Nombre de cercles centrés sur le centre de la cible\n * @param {number} [taille=0.3] Distance entre le centre de la cible et le premier cercle (et entre chaque cercle consécutif)\n * @param {string} [color='gray'] Couleur de la cible. Code couleur HTML acceptée\n * @param {number} [opacite=0.5] Opacité de la cible\n * @example cibleRonde({})\n * // Crée une cible ronde, de centre (0,0), possédant 3 cercles, avec une distance de 0,3 entre chaque cercle consécutifu cercle intérieur est 5, de couleur grise avec une opacité de 50 %.\n * @example cibleRonde({ x: 2, y: -1, rang: 10, taille: 1, color: 'blue', opacite: 0.8 })\n * // Crée une cible ronde, de centre (2,-1), possédant 10 cercles, avec une distance de 1 entre chaque cercle consécutifu cercle intérieur est 5, de couleur bleue avec une opacité de 80 %.\n * @author Jean-Claude Lhote\n * @return {CibleRonde}\n */\n// JSDOC Validee par EE Juin 2022\nexport function cibleRonde({\n  x = 0,\n  y = 0,\n  rang = 3,\n  num = 1,\n  taille = 0.3,\n  color = 'gray',\n  opacite = 0.5,\n}: {\n  x?: number\n  y?: number\n  rang?: number\n  num?: number\n  taille?: number\n  color?: string\n  opacite?: number\n} = {}) {\n  return new CibleRonde({ x, y, rang, num, taille, color, opacite })\n}\n\n/**\n * Crée une cible couronne pour l'auto-correction\n * @param {number} [x=0] Abscisse du point au centre de la cible\n * @param {number} [y=0] Ordonnée du point au centre de la cible\n * @param {number} [taille=5] Rayon du cercle intérieur\n * @param {number} [taille2=1] Longueur des segments dans la couronne\n * @param {number} [depart=0] Valeur angulaire en degré du départ de la couronne\n * @param {number} [nbDivisions=18] Nombre de divisions de la couronne\n * @param {number} [nbSubDivisions=3] Nombre de subdivisions dans chaque division de la couronne\n * @param {boolean} [semi=false] Pour obtenir une cible semi-circulaire ou circulaire\n * @param {boolean} [label=true] Pour faire apparaître ou disparaître les lettres dans la couronne\n * @param {string} [color='gray'] Couleur de la cible. Code couleur HTML acceptée\n * @param {number} [opacite=0.5] Opacité de la cible\n * @property {string} svg Sortie au format vectoriel (SVG) que l’on peut afficher dans un navigateur\n * @property {string} tikz Sortie au format TikZ que l’on peut utiliser dans un fichier LaTeX\n * @property {number} x Abscisse du point au centre de la cible\n * @property {number} y Ordonnée du point au centre de la cible\n * @property {number} depart Valeur angulaire en degré du départ de la couronne\n * @property {number} taille Rayon du cercle intérieur\n * @property {number} taille2 Longueur des segments dans la couronne\n * @property {string} color Couleur de la cible. À associer obligatoirement à colorToLatexOrHTML().\n * @property {number} opacite Opacité de la cible\n * @author Jean-Claude Lhote\n * @class\n */\n// JSDOC Validee par EE Juin 2022\nexport class CibleCouronne extends ObjetMathalea2D {\n  x: number\n  y: number\n  taille: number\n  taille2: number\n  depart: number\n  objets: any[] = []\n  stringColor: string\n\n  constructor({\n    x = 0,\n    y = 0,\n    taille = 5,\n    taille2 = 1,\n    depart = 0,\n    nbDivisions = 18,\n    nbSubDivisions = 3,\n    semi = false,\n    label = true,\n    color = 'gray',\n    opacite = 0.5,\n  }: {\n    x?: number\n    y?: number\n    taille?: number\n    taille2?: number\n    depart?: number\n    nbDivisions?: number\n    nbSubDivisions?: number\n    semi?: boolean\n    label?: boolean\n    color?: string\n    opacite?: number\n  } = {}) {\n    super()\n    this.x = x\n    this.stringColor = color\n    this.y = y\n    this.taille = taille\n    this.taille2 = taille2\n    this.opacite = opacite\n    this.color = colorToLatexOrHTML(color)\n    this.depart = depart\n    let numero\n    let azimut\n    let rayon\n    const arcPlein = semi ? 180 : 360\n    const centre = point(this.x, this.y)\n    azimut = rotation(point(this.x + this.taille, this.y), centre, this.depart)\n    let azimut2 = pointSurSegment(\n      centre,\n      azimut,\n      longueur(centre, azimut) + this.taille2,\n    )\n    const rayons = []\n    const arc1 = arc(\n      azimut,\n      centre,\n      arcPlein - 0.1,\n      false,\n      'none',\n      this.stringColor,\n    )\n    const arc2 = arc(\n      azimut2,\n      centre,\n      arcPlein - 0.1,\n      false,\n      'none',\n      this.stringColor,\n    )\n    rayon = segment(azimut, azimut2)\n    this.objets.push(arc1, arc2, rayon)\n    for (let i = 0; i < nbDivisions; i++) {\n      for (let j = 1; j < nbSubDivisions; j++) {\n        rayons[j - 1] = rotation(\n          rayon,\n          centre,\n          (j * arcPlein) / nbDivisions / nbSubDivisions,\n          this.stringColor,\n        )\n        rayons[j - 1].pointilles = 5\n        rayons[j - 1].opacite = this.opacite\n        this.objets.push(rayons[j - 1])\n      }\n      if (label) {\n        numero = texteParPoint(\n          lettreDepuisChiffre(1 + i),\n          rotation(milieu(azimut, azimut2), centre, arcPlein / nbDivisions / 2),\n          0,\n          'black',\n          1,\n          'milieu',\n          true,\n        )\n        numero.contour = true\n        this.objets.push(numero)\n      }\n      rayon.color = colorToLatexOrHTML(this.stringColor)\n      rayon.opacite = this.opacite\n      this.objets.push(rayon)\n      azimut = rotation(azimut, centre, arcPlein / nbDivisions)\n      azimut2 = rotation(azimut2, centre, arcPlein / nbDivisions)\n      rayon = segment(azimut, azimut2, this.stringColor)\n    }\n    if (semi) {\n      this.objets.push(rayon)\n    }\n    this.bordures = [\n      this.x - taille - 1,\n      this.y - this.taille - 1,\n      this.x + this.taille + 1,\n      this.y + this.taille + 1,\n    ]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n\n/**\n * Crée une cible couronne pour l'auto-correction\n * @param {number} [x=0] Abscisse du point au centre de la cible\n * @param {number} [y=0] Ordonnée du point au centre de la cible\n * @param {number} [taille=5] Rayon du cercle intérieur\n * @param {number} [taille2=1] Longueur des segments dans la couronne\n * @param {number} [depart=0] Valeur angulaire en degré du départ de la couronne\n * @param {number} [nbDivisions=18] Nombre de divisions de la couronne\n * @param {number} [nbSubDivisions=3] Nombre de subdivisions dans chaque division de la couronne\n * @param {boolean} [semi=false] Pour obtenir une cible semi-circulaire ou circulaire\n * @param {boolean} [label=true] Pour faire apparaître ou disparaître les lettres dans la couronne\n * @param {string} [color='gray'] Couleur de la cible. Code couleur HTML acceptée\n * @param {number} [opacite=0.5] Opacité des segments de divisions et subdivisions\n * @example cibleCouronne({})\n * // Crée une cible couronne circulaire, de centre (0,0), dont le rayon du cercle intérieur est 5, la longueur des segments est 1, la première lettre démarre à 0°,\n * //    le nombre de divisions de la couronne est 18, le nombre de subdivisions est 3, leur opacité est 50 %, avec les lettres apparentes, de couleur grise\n * @example cibleCouronne({ x: 2, y: -1, taille: 4, taille2: 2, depart: 35, nbDivisions: 12, nbSubDivisions: 2, semi: true, label: false, color: 'blue', opacite: 0.8 })\n * // Crée une cible couronne semi-circulaire, de centre (2,-1), dont le rayon du cercle intérieur est 4, la longueur des segments est 2, la première lettre démarre à 35°,\n * //    le nombre de divisions de la couronne est 12, le nombre de subdivisions est 2, leur opacité est 80 %, avec les lettres non apparentes, de couleur bleue\n * @author Jean-Claude Lhote\n * @return {CibleCouronne}\n */\n// JSDOC Validee par EE Juin 2022\nexport function cibleCouronne({\n  x = 0,\n  y = 0,\n  taille = 5,\n  taille2 = 1,\n  depart = 0,\n  nbDivisions = 18,\n  nbSubDivisions = 3,\n  semi = false,\n  label = true,\n  color = 'gray',\n  opacite = 0.5,\n}) {\n  return new CibleCouronne({\n    x,\n    y,\n    taille,\n    taille2,\n    depart,\n    nbDivisions,\n    nbSubDivisions,\n    semi,\n    label,\n    color,\n    opacite,\n  })\n}\n"],"names":["dansLaCibleCarree","x","y","rang","taille","cellule","chiffrelettre","chiffre","dx","dy","delta","CibleCarree","ObjetMathalea2D","num","color","opacite","colorNum","opaciteNum","__publicField","colorToLatexOrHTML","objets","numero","texteParPosition","lettre","grille","arrondi","i","lettreDepuisChiffre","xmin","ymin","xmax","ymax","objet","coeff","code","cibleCarree","dansLaCibleRonde","drayon","dangle","randint","angle","rayon","P","similitude","point","CibleRonde","c","centre","azimut","azimut2","pointSurSegment","longueur","segment","rotation","texteParPoint","cercle","nombreAvecEspace","cibleRonde","CibleCouronne","taille2","depart","nbDivisions","nbSubDivisions","semi","label","arcPlein","rayons","arc1","arc","arc2","j","milieu","cibleCouronne"],"mappings":"kqBA4BO,SAASA,GACdC,EACAC,EACAC,EACAC,EACAC,EACkB,CAElB,MAAMC,EADSD,EAAQ,CAAC,EACK,WAAW,CAAC,EAAI,GACvCE,EAAU,SAASF,EAAQ,CAAC,CAAC,EAG7BG,EAAK,EACLC,EAAK,EACLC,EAAQN,EAAS,EACvB,OAAIG,EAAUJ,GAAQG,EAAgBH,GACpC,OAAO,OAAO,2CAA4C,CACxD,EAAAF,EACA,EAAAC,EACA,KAAAC,EACA,OAAAC,EACA,QAAAC,CAAA,CACD,EACM,CAAC,EAAG,CAAC,GAEL,CACLJ,EAAIO,EAAKF,EAAgBF,EAASM,EAAQP,EAAOO,EACjDR,EAAIO,EAAKF,EAAU,EAAIG,GAASP,EAAO,GAAKO,CAAA,CAGlD,CA2BO,MAAMC,UAAoBC,CAAgB,CAQ/C,YAAY,CACV,EAAAX,EAAI,EACJ,EAAAC,EAAI,EACJ,KAAAC,EAAO,EACP,IAAAU,EACA,OAAAT,EAAS,GACT,MAAAU,EAAQ,OACR,QAAAC,EAAU,GACV,SAAAC,EAAWF,EACX,WAAAG,EAAa,CAAA,EAWX,GAAI,CACN,MAAA,EA5BFC,EAAA,UACAA,EAAA,UACAA,EAAA,aACAA,EAAA,eACAA,EAAA,iBACAA,EAAA,mBACAA,EAAA,oBAuBE,KAAK,YAAcJ,EACnB,KAAK,EAAIb,EACT,KAAK,EAAIC,EACT,KAAK,KAAOC,EACZ,KAAK,OAASC,EACd,KAAK,MAAQe,EAAmBL,CAAK,EACrC,KAAK,SAAWE,EAChB,KAAK,QAAUD,EACf,KAAK,WAAaE,EAClB,MAAMG,EAAgB,CAAA,EACtB,IAAIC,EAEA,OAAOR,EAAQ,MACjBQ,EAASC,EACP,OAAOT,CAAG,EACV,KAAK,EAAK,KAAK,KAAO,KAAK,OAAU,EACrC,KAAK,EAAK,KAAK,KAAO,KAAK,OAAU,EACrC,EACA,KAAK,SACL,EACA,SACA,GACA,KAAK,UAAA,EAGPQ,EAAO,OAAS,GAAK,KAAK,OAC1BA,EAAO,QAAU,GACjBD,EAAO,KAAKC,CAAM,GAEpB,IAAIE,EAAQhB,EAEZa,EAAO,KACLI,EACEC,EAAQ,KAAK,EAAK,KAAK,KAAO,KAAK,OAAU,CAAC,EAC9CA,EAAQ,KAAK,EAAK,KAAK,KAAO,KAAK,OAAU,CAAC,EAC9CA,EAAQ,KAAK,EAAK,KAAK,KAAO,KAAK,OAAU,CAAC,EAC9CA,EAAQ,KAAK,EAAK,KAAK,KAAO,KAAK,OAAU,CAAC,EAC9C,KAAK,YACL,KAAK,QACL,KAAK,OACL,CAAA,CACF,EAEF,QAASC,EAAI,EAAGA,EAAIvB,EAAMuB,IACxBH,EAASD,EACPK,EAAoB,EAAID,CAAC,EACzB,KAAK,EACF,KAAK,KAAO,KAAK,OAAU,GAC1B,EAAIA,EAAI,GAAK,KAAK,OAAU,EAChC,KAAK,GAAM,KAAK,KAAO,GAAK,KAAK,OAAU,EAC3C,EACA,OACA,GACA,SACA,GACA,EAAA,EAEFnB,EAAUe,EACR,OAAOI,EAAI,CAAC,EACZ,KAAK,GAAM,KAAK,KAAO,GAAK,KAAK,OAAU,EAC3C,KAAK,EACF,KAAK,KAAO,KAAK,OAAU,GAC1B,EAAIA,EAAI,GAAK,KAAK,OAAU,EAChC,EACA,OACA,GACA,SACA,GACA,EAAA,EAEFH,EAAO,OAAS,GAAK,KAAK,OAC1BhB,EAAQ,OAAS,GAAK,KAAK,OAC3Ba,EAAO,KAAKG,CAAM,EAClBH,EAAO,KAAKb,CAAO,EAGrB,IAAIqB,EAAO,IACPC,EAAO,IACPC,EAAO,KACPC,EAAO,KACX,UAAWC,KAASZ,EACdY,EAAM,WAAa,SACrBJ,EAAO,KAAK,IAAIA,EAAMI,EAAM,SAAS,CAAC,CAAC,EACvCH,EAAO,KAAK,IAAIA,EAAMG,EAAM,SAAS,CAAC,CAAC,EACvCF,EAAO,KAAK,IAAIA,EAAME,EAAM,SAAS,CAAC,CAAC,EACvCD,EAAO,KAAK,IAAIA,EAAMC,EAAM,SAAS,CAAC,CAAC,GAG3C,KAAK,SAAW,CAACJ,EAAMC,EAAMC,EAAMC,CAAI,EACvC,KAAK,OAASX,CAChB,CAEA,IAAIa,EAAe,CACjB,IAAIC,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWF,KAAS,KAAK,OACvBE,GAAQ;AAAA,GAASF,EAAM,IAAIC,CAAK,EAElC,OAAOC,CACT,CAEA,MAAO,CACL,IAAIA,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWF,KAAS,KAAK,OACvBE,GAAQ;AAAA,GAASF,EAAM,KAAA,EAEzB,OAAOE,CACT,CACF,CAqBO,SAASC,GAAY,CAC1B,EAAAlC,EAAI,EACJ,EAAAC,EAAI,EACJ,KAAAC,EAAO,EACP,IAAAU,EAAM,EACN,OAAAT,EAAS,GACT,MAAAU,EAAQ,OACR,QAAAC,EAAU,GACV,SAAAC,EAAWF,EACX,WAAAG,EAAa,CACf,EAUI,GAAI,CACN,OAAO,IAAIN,EAAY,CACrB,EAAAV,EACA,EAAAC,EACA,KAAAC,EACA,IAAAU,EACA,OAAAT,EACA,MAAAU,EACA,QAAAC,EACA,SAAAC,EACA,WAAAC,CAAA,CACD,CACH,CAcO,SAASmB,GACdnC,EACAC,EACAC,EACAC,EACAC,EACA,CAEA,MAAMC,EADSD,EAAQ,CAAC,EACK,WAAW,CAAC,EAAI,GACvCE,EAAU,SAASF,EAAQ,CAAC,CAAC,EAC7BgC,EAAS,EACTC,EAASC,EAAQ,GAAI,CAAC,EACtBC,GAASlC,EAAgB,GAAK,GAAK,MAAQgC,EAC3CG,EAAQrC,EAAS,GAAKG,EAAU,GAAKH,EAASiC,EAC9CK,EAAIC,EAAWC,EAAM,EAAG,CAAC,EAAGA,EAAM,EAAG,CAAC,EAAGJ,EAAOC,CAAK,EAG3D,OAFAC,EAAE,GAAKzC,EACPyC,EAAE,GAAKxC,EACHK,EAAUJ,GAAQG,EAAgB,GACpC,QAAQ,MAAM,0CAA0C,EACjD,CAAC,OAAO,kBAAmB,OAAO,iBAAiB,GAEnD,CAACoC,EAAE,EAAGA,EAAE,CAAC,CAEpB,CAsBO,MAAMG,UAAmBjC,CAAgB,CAM9C,YAAY,CACV,EAAAX,EAAI,EACJ,EAAAC,EAAI,EACJ,KAAAC,EAAO,EACP,IAAAU,EAAM,EACN,OAAAT,EAAS,GACT,MAAAU,EAAQ,OACR,QAAAC,EAAU,EAAA,EAST,CACD,MAAA,EAtBFG,EAAA,oBACAA,EAAA,UACAA,EAAA,UACAA,EAAA,aACAA,EAAA,eAmBE,KAAK,OAAS,CAAA,EACd,KAAK,YAAcJ,EACnB,KAAK,EAAIb,EACT,KAAK,EAAIC,EACT,KAAK,OAASE,EACd,KAAK,KAAOD,EACZ,KAAK,QAAUY,EACf,KAAK,MAAQI,EAAmBL,CAAK,EACrC,IAAIgC,EACAL,EACJ,MAAMM,EAASH,EAAM,KAAK,EAAG,KAAK,CAAC,EAC7BI,EAASJ,EAAM,KAAK,EAAI,KAAK,KAAO,KAAK,OAAQ,KAAK,CAAC,EAEvDK,EAAUC,EACdH,EACAC,EACAG,EAASJ,EAAQC,CAAM,EAAI,EAAA,EAE7B,KAAK,SAAW,CACd,KAAK,EAAI,KAAK,KAAO,KAAK,OAAS,EACnC,KAAK,EAAI,KAAK,KAAO,KAAK,OAAS,EACnC,KAAK,EAAI,KAAK,KAAO,KAAK,OAAS,EACnC,KAAK,EAAI,KAAK,KAAO,KAAK,OAAS,CAAA,EAErC,QAAStB,EAAI,EAAGA,EAAI,EAAGA,IACrBe,EAAQW,EACNL,EACAM,EAASL,EAAQD,EAAQ,GAAKrB,CAAC,EAC/B,KAAK,WAAA,EAEPe,EAAM,QAAU,KAAK,QACrB,KAAK,OAAO,KAAKA,CAAK,EACtB,KAAK,OAAO,KACVa,EACE3B,EAAoB,EAAID,CAAC,EACzB2B,EAASJ,EAASF,EAAQ,GAAKrB,EAAI,IAAI,EACvC,CAAA,CACF,EAGJ,QAASA,EAAI,EAAGA,EAAI,KAAK,KAAMA,IAC7BoB,EAAIS,EAAOR,EAAQtB,EAAQ,KAAK,QAAU,EAAIC,EAAE,EAAG,KAAK,WAAW,EACnEoB,EAAE,QAAU,KAAK,QACjB,KAAK,OAAO,KAAKA,CAAC,EAEpB,MAAMzB,EAASC,EACbkC,EAAiB3C,CAAG,EACpB,KAAK,EACL,KAAK,EACL,EACA,KAAK,WAAA,EAEPQ,EAAO,QAAU,GACjBA,EAAO,OAAS,GAChBA,EAAO,QAAU,GACjB,KAAK,OAAO,KAAKA,CAAM,CACzB,CAEA,IAAIY,EAAe,CACjB,IAAIC,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWF,KAAS,KAAK,OACvBE,GAAQ;AAAA,GAASF,EAAM,IAAIC,CAAK,EAElC,OAAOC,CACT,CAEA,OAAQ,CACN,IAAIA,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWF,KAAS,KAAK,OACvBE,GAAQ;AAAA,GAASF,EAAM,KAAA,EAEzB,OAAOE,CACT,CACF,CAkBO,SAASuB,GAAW,CACzB,EAAAxD,EAAI,EACJ,EAAAC,EAAI,EACJ,KAAAC,EAAO,EACP,IAAAU,EAAM,EACN,OAAAT,EAAS,GACT,MAAAU,EAAQ,OACR,QAAAC,EAAU,EACZ,EAQI,GAAI,CACN,OAAO,IAAI8B,EAAW,CAAE,EAAA5C,EAAG,EAAAC,EAAG,KAAAC,EAAM,IAAAU,EAAK,OAAAT,EAAQ,MAAAU,EAAO,QAAAC,EAAS,CACnE,CA4BO,MAAM2C,UAAsB9C,CAAgB,CASjD,YAAY,CACV,EAAAX,EAAI,EACJ,EAAAC,EAAI,EACJ,OAAAE,EAAS,EACT,QAAAuD,EAAU,EACV,OAAAC,EAAS,EACT,YAAAC,EAAc,GACd,eAAAC,EAAiB,EACjB,KAAAC,EAAO,GACP,MAAAC,EAAQ,GACR,MAAAlD,EAAQ,OACR,QAAAC,EAAU,EAAA,EAaR,GAAI,CACN,MAAA,EAjCFG,EAAA,UACAA,EAAA,UACAA,EAAA,eACAA,EAAA,gBACAA,EAAA,eACAA,EAAA,cAAgB,CAAA,GAChBA,EAAA,oBA4BE,KAAK,EAAIjB,EACT,KAAK,YAAca,EACnB,KAAK,EAAIZ,EACT,KAAK,OAASE,EACd,KAAK,QAAUuD,EACf,KAAK,QAAU5C,EACf,KAAK,MAAQI,EAAmBL,CAAK,EACrC,KAAK,OAAS8C,EACd,IAAIvC,EACA2B,EACAP,EACJ,MAAMwB,EAAWF,EAAO,IAAM,IACxBhB,EAASH,EAAM,KAAK,EAAG,KAAK,CAAC,EACnCI,EAASK,EAAST,EAAM,KAAK,EAAI,KAAK,OAAQ,KAAK,CAAC,EAAGG,EAAQ,KAAK,MAAM,EAC1E,IAAIE,EAAUC,EACZH,EACAC,EACAG,EAASJ,EAAQC,CAAM,EAAI,KAAK,OAAA,EAElC,MAAMkB,EAAS,CAAA,EACTC,EAAOC,EACXpB,EACAD,EACAkB,EAAW,GACX,GACA,OACA,KAAK,WAAA,EAEDI,EAAOD,EACXnB,EACAF,EACAkB,EAAW,GACX,GACA,OACA,KAAK,WAAA,EAEPxB,EAAQW,EAAQJ,EAAQC,CAAO,EAC/B,KAAK,OAAO,KAAKkB,EAAME,EAAM5B,CAAK,EAClC,QAASf,EAAI,EAAGA,EAAImC,EAAanC,IAAK,CACpC,QAAS4C,EAAI,EAAGA,EAAIR,EAAgBQ,IAClCJ,EAAOI,EAAI,CAAC,EAAIjB,EACdZ,EACAM,EACCuB,EAAIL,EAAYJ,EAAcC,EAC/B,KAAK,WAAA,EAEPI,EAAOI,EAAI,CAAC,EAAE,WAAa,EAC3BJ,EAAOI,EAAI,CAAC,EAAE,QAAU,KAAK,QAC7B,KAAK,OAAO,KAAKJ,EAAOI,EAAI,CAAC,CAAC,EAE5BN,IACF3C,EAASiC,EACP3B,EAAoB,EAAID,CAAC,EACzB2B,EAASkB,EAAOvB,EAAQC,CAAO,EAAGF,EAAQkB,EAAWJ,EAAc,CAAC,EACpE,EACA,QACA,EACA,SACA,EAAA,EAEFxC,EAAO,QAAU,GACjB,KAAK,OAAO,KAAKA,CAAM,GAEzBoB,EAAM,MAAQtB,EAAmB,KAAK,WAAW,EACjDsB,EAAM,QAAU,KAAK,QACrB,KAAK,OAAO,KAAKA,CAAK,EACtBO,EAASK,EAASL,EAAQD,EAAQkB,EAAWJ,CAAW,EACxDZ,EAAUI,EAASJ,EAASF,EAAQkB,EAAWJ,CAAW,EAC1DpB,EAAQW,EAAQJ,EAAQC,EAAS,KAAK,WAAW,CACnD,CACIc,GACF,KAAK,OAAO,KAAKtB,CAAK,EAExB,KAAK,SAAW,CACd,KAAK,EAAIrC,EAAS,EAClB,KAAK,EAAI,KAAK,OAAS,EACvB,KAAK,EAAI,KAAK,OAAS,EACvB,KAAK,EAAI,KAAK,OAAS,CAAA,CAE3B,CAEA,IAAI6B,EAAe,CACjB,IAAIC,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWF,KAAS,KAAK,OACvBE,GAAQ;AAAA,GAASF,EAAM,IAAIC,CAAK,EAElC,OAAOC,CACT,CAEA,MAAO,CACL,IAAIA,EAAO,GACX,GAAI,KAAK,QAAU,KAAM,OAAOA,EAChC,UAAWF,KAAS,KAAK,OACvBE,GAAQ;AAAA,GAASF,EAAM,KAAA,EAEzB,OAAOE,CACT,CACF,CAyBO,SAASsC,GAAc,CAC5B,EAAAvE,EAAI,EACJ,EAAAC,EAAI,EACJ,OAAAE,EAAS,EACT,QAAAuD,EAAU,EACV,OAAAC,EAAS,EACT,YAAAC,EAAc,GACd,eAAAC,EAAiB,EACjB,KAAAC,EAAO,GACP,MAAAC,EAAQ,GACR,MAAAlD,EAAQ,OACR,QAAAC,EAAU,EACZ,EAAG,CACD,OAAO,IAAI2C,EAAc,CACvB,EAAAzD,EACA,EAAAC,EACA,OAAAE,EACA,QAAAuD,EACA,OAAAC,EACA,YAAAC,EACA,eAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAlD,EACA,QAAAC,CAAA,CACD,CACH"}