{"version":3,"file":"1AN14-7-C_iAzD12.js","sources":["../../src/exercices/1e/1AN14-7.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { functionCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { rienSi1 } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { lettreMinusculeDepuisChiffre } from '../../lib/outils/outilString'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n// export const titre = 'Dérivée de $x\\\\mapsto u(ax + b)$'\nexport const titre = 'Dériver une fonctioon du type $u(ax + b)$'\n\n/**\n * Calculer la dérivée de x -> f(ax+b)\n * @author Jean-Léon Henry\n\n */\n\nexport const uuid = '3391d'\nexport const refs = {\n  'fr-fr': ['1AN14-7'],\n  'fr-ch': ['3mA2-9', '4mAna-3'],\n}\n\nexport default class DeriveeComposee extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Choix possibles pour $u$',\n      'Nombres séparés par des tirets.\\n' +\n        ['Puissance', 'Racine', 'Inverse', 'Exponentielle', 'Mélange']\n          .map((nom, index) => `${index + 1}. ${nom}`)\n          .join('\\n'),\n    ]\n    this.sup = 5\n    // this.consigne = \"Pour chacune des fonctions suivantes, dire sur quel ensemble elle est dérivable, puis déterminer l'expression de sa fonction dérivée.\"\n    this.consigne =\n      \"Pour chacune des fonctions suivantes, déterminer l'expression de sa fonction dérivée.\"\n    this.nbQuestions = 5\n    // Sortie LaTeX\n    this.nbCols = 2 // Nombre de colonnes\n    this.nbColsCorr = 2 // Nombre de colonnes dans la correction\n    // On modifie les règles de simplifications par défaut de math.js pour éviter 10x+10 = 10(x+1) et -4x=(-4x)\n  }\n\n  nouvelleVersion() {\n    const listeValeurs = ['monome', 'racine', 'inv', 'exp']\n    type TypeDeFonction = (typeof listeValeurs)[number]\n    const listeTypeDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: listeValeurs,\n    })\n      .map(String)\n      .filter((x): x is TypeDeFonction =>\n        listeValeurs.includes(x as TypeDeFonction),\n      )\n    const listeTypeDeQuestions = combinaisonListes(\n      listeTypeDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let exprF = ''\n      let expression = ''\n      // On génère des fonctions qui pourrait servir\n      const coeffs = new Array(randint(2, 9))\n      coeffs.fill(0)\n      coeffs.push(1)\n      const dictFonctions: Record<TypeDeFonction, string | Polynome> = {\n        exp: 'e^',\n        racine: '\\\\sqrt',\n        inv: '1/',\n        monome: new Polynome({ coeffs }),\n      }\n      const polAff = new Polynome({ rand: true, deg: 1 })\n      const a: number = Number(polAff.monomes[1])\n      const b: number = Number(polAff.monomes[0])\n      const typeF: TypeDeFonction = listeTypeDeQuestions[i]\n      const f = dictFonctions[typeF]\n      // Expression finale de la fonction\n      exprF =\n        typeF === 'monome'\n          ? (f as Polynome).toMathExpr()\n          : typeF === 'inv'\n            ? '\\\\frac{1}{x}'\n            : (f as string) + '{x}'\n      expression =\n        typeF === 'monome'\n          ? `${rienSi1((f as Polynome).monomes[(f as Polynome).deg])}(${polAff})^${(f as Polynome).deg}`\n          : typeF === 'inv'\n            ? `\\\\frac{1}{${polAff}}`\n            : `${f}{${polAff}}`\n      let value = ''\n\n      // Enoncé\n      const nameF = lettreMinusculeDepuisChiffre(i + 6)\n      texte = `$${nameF}(x)=${expression}$`\n      // Correction\n      texteCorr =\n        'On rappelle le cours. Si $x$ est un nombre réel tel que $u$ soit dérivable en $ax+b$, alors $v:x\\\\mapsto u(ax+b)$ est dérivable en $x$ et on a :'\n      texteCorr += \"\\\\[v'(x)=a\\\\times u'(ax+b).\\\\]\"\n      let deriveeF = ''\n      // Déterminons la dérivée de u\n      switch (typeF) {\n        case 'exp':\n          deriveeF = 'e^x'\n          break\n        case 'inv':\n          deriveeF = '\\\\frac{-1}{x^2}'\n          break\n        case 'racine':\n          deriveeF = '\\\\frac{1}{2\\\\sqrt{x}}'\n          break\n        case 'monome':\n          deriveeF = (f as Polynome).derivee().toLatex()\n          break\n      }\n      texteCorr += `Ici : \\\\[\\\\begin{aligned}u(x)&=${exprF}\\\\\\\\ u^\\\\prime(x)&=${deriveeF}\\\\\\\\a&=${a}\\\\\\\\b&=${b}.\\\\end{aligned}\\\\]`\n      texteCorr += `Soit $x$ un réel de l'ensemble de dérivabilité de $${nameF}$. On a, en appliquant la formule ci-dessus : `\n      switch (typeF) {\n        case 'exp':\n          texteCorr += `\\\\[${nameF}'(x)=${miseEnEvidence(`${rienSi1(a)}e^{${polAff}}`)}.\\\\]`\n          value = `${rienSi1(a)}e^{${polAff}}`\n          break\n        case 'inv':\n          texteCorr += `\\\\[${nameF}'(x)=${a}\\\\times ${`\\\\frac{-1}{(${polAff})^2}`}.\\\\]`\n          texteCorr += \"D'où, en simplifiant : \"\n          texteCorr += `\\\\[${nameF}'(x)=${miseEnEvidence(`\\\\frac{${-a}}{(${polAff})^2}`)}\\\\].`\n          value = `${`\\\\frac{${-a}}{(${polAff})^2}`}`\n          break\n        case 'racine': {\n          texteCorr += `\\\\[${nameF}'(x)=${a}\\\\times${`\\\\frac{1}{2\\\\sqrt{${polAff}}}`}.\\\\]`\n          texteCorr += \"D'où, en simplifiant :\"\n          const num = a % 2 === 0 ? a / 2 : a\n          const den = `${a % 2 === 0 ? '' : '2'}\\\\sqrt{${polAff}}`\n          texteCorr += `\\\\[${nameF}'(x)=${miseEnEvidence(`\\\\frac{${num}}{${den}}`)}.\\\\]`\n          value = `${`\\\\frac{${num}}{${den}}`}`\n          break\n        }\n        case 'monome':\n          texteCorr += `\\\\[${nameF}'(x)=${a}\\\\times ${`${(f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}`}.\\\\]`\n          texteCorr += \"D'où, en simplifiant : \"\n\n          if ((f as Polynome).deg !== 2) {\n            texteCorr += `\\\\[${nameF}'(x)=${miseEnEvidence(`${a * (f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}`)}.\\\\]`\n            value = `${a * (f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}`\n          } else {\n            texteCorr += `\\\\[${nameF}'(x)=${a * (f as Polynome).deg}(${polAff})${(f as Polynome).deg === 2 ? '' : `^{${(f as Polynome).deg - 1}}`}.\\\\]`\n            texteCorr += 'On développe et on réduit pour obtenir  :'\n            texteCorr += `\\\\[${nameF}'(x)=${miseEnEvidence(`${polAff.multiply(2 * a)}`)}.\\\\]`\n            value = `${polAff.multiply(2 * a)}`\n          }\n          break\n        default:\n          texteCorr += 'Correction non encore implémentée.'\n          break\n      }\n      texte =\n        texte.replaceAll('\\\\frac', '\\\\dfrac') +\n        ajouteChampTexteMathLive(\n          this,\n          i,\n          KeyboardType.clavierFonctionsTerminales,\n        )\n      texteCorr = texteCorr.replaceAll('\\\\frac', '\\\\dfrac')\n\n      if (listeValeurs.indexOf(expression) === -1) {\n        listeValeurs.push(expression)\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        handleAnswers(this, i, { reponse: { value, compare: functionCompare } })\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","titre","uuid","refs","DeriveeComposee","Exercice","nom","index","listeValeurs","listeTypeDeQuestionsDisponibles","gestionnaireFormulaireTexte","x","listeTypeDeQuestions","combinaisonListes","i","cpt","texte","texteCorr","exprF","expression","coeffs","randint","dictFonctions","Polynome","polAff","a","b","typeF","f","rienSi1","value","nameF","lettreMinusculeDepuisChiffre","deriveeF","miseEnEvidence","num","den","ajouteChampTexteMathLive","KeyboardType","handleAnswers","functionCompare","listeQuestionsToContenu"],"mappings":"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"}