{"version":3,"file":"Plot-B0YvSjpj.js","sources":["../../src/lib/2d/Plot.ts"],"sourcesContent":["import { arrondi } from '../outils/nombres'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\n\n/**\n * @author Jean-Claude Lhote\n * @param {number} x abscisse\n * @param {number} y ordonnée\n * @param {object} param2 permet de définir le rayon du 'plot', sa couleur, sa couleur de remplissage\n */\n\nexport class Plot extends ObjetMathalea2D {\n  couleurDeRemplissage: string[]\n  rayon: number\n  x: number\n  y: number\n  opaciteDeRemplissage: number\n  constructor(\n    x: number,\n    y: number,\n    {\n      rayon = 0.05,\n      couleur = 'black',\n      couleurDeRemplissage = 'black',\n      opacite = 1,\n      opaciteDeRemplissage = 1,\n    } = {},\n  ) {\n    super()\n    if (isNaN(x) || isNaN(y))\n      window.notify('Plot : les coordonnées ne sont pas valides', { x, y })\n    this.color = colorToLatexOrHTML(couleur) // EE : 08/05/2022\n    this.couleurDeRemplissage = colorToLatexOrHTML(couleurDeRemplissage)\n    this.rayon = rayon\n    this.x = x\n    this.y = y\n    this.bordures = [x - rayon, y - rayon, x + rayon, y + rayon]\n    this.opacite = opacite\n    this.opaciteDeRemplissage = opaciteDeRemplissage\n  }\n\n  svg(coeff: number) {\n    if (this.couleurDeRemplissage[0] === '') {\n      return `\\n\\t <circle cx=\"${this.x * coeff}\" cy=\"${-this.y * coeff}\" r=\"${this.rayon * coeff}\" stroke=\"${this.color[0]}\" stroke-opacity=\"${this.opacite || 1}\"/>`\n    } else {\n      return `\\n\\t <circle cx=\"${this.x * coeff}\" cy=\"${-this.y * coeff}\" r=\"${this.rayon * coeff}\" stroke=\"${this.color[0]}\" fill=\"${this.couleurDeRemplissage[0]}\" stroke-opacity=\"${this.opacite || 1}\" fill-opacity=\"${this.opaciteDeRemplissage || 1}\"/>`\n    }\n  }\n\n  tikz() {\n    const tableauOptions = []\n    if (this.color[1].length > 1 && this.color[1] !== 'black') {\n      tableauOptions.push(`color=${this.color[1]}`)\n    }\n    if (this.epaisseur !== 1) {\n      tableauOptions.push(`line-width=${this.epaisseur}`)\n    }\n    if (this.opacite !== 1) {\n      tableauOptions.push(`opacity=${this.opacite}`)\n    }\n    if (this.opaciteDeRemplissage !== 1) {\n      tableauOptions.push(`fill opacity=${this.opaciteDeRemplissage}`)\n    }\n    if (\n      this.couleurDeRemplissage[1] !== '' &&\n      this.couleurDeRemplissage[1] !== 'none' &&\n      this.couleurDeRemplissage[1] !== ''\n    ) {\n      tableauOptions.push(`fill=${this.couleurDeRemplissage[1]}`)\n    }\n    let optionsDraw = ''\n    if (tableauOptions.length > 0) {\n      optionsDraw = '[' + tableauOptions.join(',') + ']'\n    }\n    return `\\n\\t \\\\filldraw${optionsDraw} (${this.x},${this.y}) circle (${this.rayon});`\n  }\n}\n\nexport function plot(\n  x: number,\n  y: number,\n  {\n    rayon = 0.05,\n    couleur = 'black',\n    couleurDeRemplissage = 'black',\n    opacite = 1,\n    opaciteDeRemplissage = 1,\n  } = {},\n) {\n  return new Plot(arrondi(x), arrondi(y), {\n    rayon,\n    couleur,\n    couleurDeRemplissage,\n    opacite,\n    opaciteDeRemplissage,\n  })\n}\n"],"names":["Plot","ObjetMathalea2D","x","y","rayon","couleur","couleurDeRemplissage","opacite","opaciteDeRemplissage","__publicField","colorToLatexOrHTML","coeff","tableauOptions","optionsDraw","plot","arrondi"],"mappings":"wTAWO,MAAMA,UAAaC,CAAgB,CAMxC,YACEC,EACAC,EACA,CACE,MAAAC,EAAQ,IACR,QAAAC,EAAU,QACV,qBAAAC,EAAuB,QACvB,QAAAC,EAAU,EACV,qBAAAC,EAAuB,CAAA,EACrB,GACJ,CACA,MAAA,EAhBFC,EAAA,6BACAA,EAAA,cACAA,EAAA,UACAA,EAAA,UACAA,EAAA,8BAaM,MAAMP,CAAC,GAAK,MAAMC,CAAC,IACrB,OAAO,OAAO,6CAA8C,CAAE,EAAAD,EAAG,EAAAC,EAAG,EACtE,KAAK,MAAQO,EAAmBL,CAAO,EACvC,KAAK,qBAAuBK,EAAmBJ,CAAoB,EACnE,KAAK,MAAQF,EACb,KAAK,EAAIF,EACT,KAAK,EAAIC,EACT,KAAK,SAAW,CAACD,EAAIE,EAAOD,EAAIC,EAAOF,EAAIE,EAAOD,EAAIC,CAAK,EAC3D,KAAK,QAAUG,EACf,KAAK,qBAAuBC,CAC9B,CAEA,IAAIG,EAAe,CACjB,OAAI,KAAK,qBAAqB,CAAC,IAAM,GAC5B;AAAA,gBAAoB,KAAK,EAAIA,CAAK,SAAS,CAAC,KAAK,EAAIA,CAAK,QAAQ,KAAK,MAAQA,CAAK,aAAa,KAAK,MAAM,CAAC,CAAC,qBAAqB,KAAK,SAAW,CAAC,MAEpJ;AAAA,gBAAoB,KAAK,EAAIA,CAAK,SAAS,CAAC,KAAK,EAAIA,CAAK,QAAQ,KAAK,MAAQA,CAAK,aAAa,KAAK,MAAM,CAAC,CAAC,WAAW,KAAK,qBAAqB,CAAC,CAAC,qBAAqB,KAAK,SAAW,CAAC,mBAAmB,KAAK,sBAAwB,CAAC,KAEvP,CAEA,MAAO,CACL,MAAMC,EAAiB,CAAA,EACnB,KAAK,MAAM,CAAC,EAAE,OAAS,GAAK,KAAK,MAAM,CAAC,IAAM,SAChDA,EAAe,KAAK,SAAS,KAAK,MAAM,CAAC,CAAC,EAAE,EAE1C,KAAK,YAAc,GACrBA,EAAe,KAAK,cAAc,KAAK,SAAS,EAAE,EAEhD,KAAK,UAAY,GACnBA,EAAe,KAAK,WAAW,KAAK,OAAO,EAAE,EAE3C,KAAK,uBAAyB,GAChCA,EAAe,KAAK,gBAAgB,KAAK,oBAAoB,EAAE,EAG/D,KAAK,qBAAqB,CAAC,IAAM,IACjC,KAAK,qBAAqB,CAAC,IAAM,QACjC,KAAK,qBAAqB,CAAC,IAAM,IAEjCA,EAAe,KAAK,QAAQ,KAAK,qBAAqB,CAAC,CAAC,EAAE,EAE5D,IAAIC,EAAc,GAClB,OAAID,EAAe,OAAS,IAC1BC,EAAc,IAAMD,EAAe,KAAK,GAAG,EAAI,KAE1C;AAAA,cAAkBC,CAAW,KAAK,KAAK,CAAC,IAAI,KAAK,CAAC,aAAa,KAAK,KAAK,IAClF,CACF,CAEO,SAASC,EACdZ,EACAC,EACA,CACE,MAAAC,EAAQ,IACR,QAAAC,EAAU,QACV,qBAAAC,EAAuB,QACvB,QAAAC,EAAU,EACV,qBAAAC,EAAuB,CACzB,EAAI,GACJ,CACA,OAAO,IAAIR,EAAKe,EAAQb,CAAC,EAAGa,EAAQZ,CAAC,EAAG,CACtC,MAAAC,EACA,QAAAC,EACA,qBAAAC,EACA,QAAAC,EACA,qBAAAC,CAAA,CACD,CACH"}