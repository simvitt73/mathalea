{"version":3,"file":"6N3B-CQxIJHxA.js","sources":["../../src/exercices/6e/6N3B.ts"],"sourcesContent":["import Figure from 'apigeom'\nimport { distance } from 'apigeom/src/elements/calculus/Coords'\nimport { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport GraduatedLine from 'apigeom/src/elements/grid/GraduatedLine'\nimport type { MathfieldElement } from 'mathlive'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { fonctionComparaison } from '../../lib/interactif/comparisonFunctions'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport {\n  lettreIndiceeDepuisChiffre,\n  numAlpha,\n} from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '08/07/2025'\nexport const titre = \"Donner du sens √† la d√©finition d'un quotient\"\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/** Donner du sens √† la d√©finition d'un quotient\n * @author Eric Elter\n */\nexport const uuid = '42fbx'\n\nexport const refs = {\n  'fr-fr': ['6N3B'],\n  'fr-2016': ['6N23-5a'],\n  'fr-ch': [''],\n}\n\ntype GoodAnswerItem = { label: string; x: number }\n\nexport default class DonnerSensDefinitionQuotient extends Exercice {\n  goodAnswerQa!: [GoodAnswerItem, GoodAnswerItem][]\n  goodAnswerQb!: number[]\n  goodAnswerQc!: number[]\n\n  figuresApiGeom!: Figure[]\n  constructor() {\n    super()\n\n    this.nbQuestions = 5\n    this.exoCustomResultat = true\n    this.besoinFormulaireNumerique = [\n      'Solution finale',\n      3,\n      '1 : Phrase\\n2 : √âgalit√© math√©matique\\n3 : Les deux',\n    ]\n    this.sup = 3\n  }\n\n  nouvelleVersion() {\n    this.figuresApiGeom = []\n    this.goodAnswerQa = []\n    this.goodAnswerQb = []\n    this.goodAnswerQc = []\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      const den = randint(2, 7)\n      const num = randint(2, den * 2 - 1, [den])\n\n      const label1 = lettreIndiceeDepuisChiffre(i * 3 + 1)\n      const label2 = lettreIndiceeDepuisChiffre(i * 3 + 2)\n\n      this.goodAnswerQa[i] = [\n        { label: label1, x: arrondi(num / den, 4) },\n        { label: label2, x: num },\n      ]\n      this.goodAnswerQb[i] = den\n      this.goodAnswerQc[i] = num\n\n      const fractionUtile = new FractionEtendue(num, den).texFraction\n      const xMax = num + randint(0, 2)\n      const { figure, latex } = apigeomGraduatedLine({\n        xMin: 0,\n        xMax,\n        scale: xMax < 9 ? 1 : 0.5,\n        stepBis: 1 / den,\n        snapGrid: true,\n      })\n      figure.options.labelAutomaticBeginsWith = label1\n      figure.options.pointDescriptionWithCoordinates = false\n      this.figuresApiGeom[i] = figure\n      const { figure: figureCorr, latex: latexCorr } = apigeomGraduatedLine({\n        xMin: 0,\n        xMax,\n        scale: xMax < 9 ? 1 : 0.5,\n        stepBis: 1 / den,\n        points: this.goodAnswerQa[i],\n        snapGrid: false,\n      })\n      figureCorr.create('Point', {\n        label: label1,\n        x: arrondi(num / den, 4),\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        shape: 'x',\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: `{\\\\boldsymbol{${fractionUtile}}}`,\n        x: arrondi(num / den, 4),\n        y: -1.35,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n        shape: '',\n      })\n\n      let A, B, C, longueurAC\n      const { figure: figureCorr2, latex: latexCorr2 } = apigeomGraduatedLine({\n        xMin: 0,\n        xMax,\n        scale: xMax < 9 ? 1 : 0.5,\n        stepBis: 1 / den,\n        snapGrid: false,\n        height: 160,\n      })\n      figureCorr2.create('Point', {\n        label: label1,\n        x: arrondi(num / den, 4),\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        shape: 'x',\n        labelDxInPixels: 0,\n      })\n      figureCorr2.create('Point', {\n        label: label2,\n        x: num,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n      figureCorr2.create('Point', {\n        label: `{\\\\boldsymbol{${fractionUtile}}}`,\n        x: arrondi(num / den, 4),\n        y: -1.35,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n        shape: '',\n      })\n      for (let bond = 0; bond < den; bond++) {\n        A = figureCorr2.create('Point', {\n          isVisible: false,\n          label: 'A',\n          x: ((bond + 1) * num) / den,\n          y: 1,\n          color: orangeMathalea,\n          colorLabel: orangeMathalea,\n          labelDxInPixels: 0,\n        })\n        B = figureCorr2.create('Point', {\n          isVisible: false,\n          label: 'B',\n          x: (bond * num) / den,\n          y: 1,\n          color: orangeMathalea,\n          colorLabel: orangeMathalea,\n          labelDxInPixels: 0,\n        })\n        C = figureCorr2.create('Point', {\n          isVisible: false,\n          label: 'C',\n          x: (bond * num) / den + num / (2 * den),\n          y: 0.5,\n          color: orangeMathalea,\n          colorLabel: orangeMathalea,\n          labelDxInPixels: 0,\n        })\n        // longueurAC = figureCorr2.create('Distance', { point1: A, point2: C }).value\n        longueurAC = distance(A, C)\n        // longueurAC = Math.sqrt((C.x - A.x) ^ 2 + (C.y - A.y) ^ 2)\n        figureCorr2.create('ArcBy3PointsAndRadius', {\n          center: C,\n          start: A,\n          end: B,\n          radius: longueurAC,\n          addBorders: false,\n          color: orangeMathalea,\n        })\n        figureCorr2.create('Point', {\n          label: `{\\\\boldsymbol{${bond + 1}}}`,\n          x: C.x,\n          y: C.y + longueurAC,\n          labelDxInPixels: 0,\n          shape: '',\n          color: orangeMathalea,\n          colorLabel: orangeMathalea,\n        })\n        if (bond !== 0)\n          figureCorr2.create('Point', {\n            label: '',\n            x: (bond * num) / den,\n            y: 0,\n            color: orangeMathalea,\n            labelDxInPixels: 0,\n          })\n      }\n\n      const texteCorr1 = this.correctionDetaillee\n        ? `Entre $0$ et $1$, il y a $${den}$ intervalles de taille identique. Le point $${label1}$, rep√©r√© par $${fractionUtile}$ est donc plac√© apr√®s le $${num}^{e}$ intervalle.<br>`\n        : ''\n      const texteCorr2 = this.correctionDetaillee\n        ? `Pour placer le point $${label2}$, il suffit de reporter $${den}$ fois la longueur entre $0$ et $${label1}$ √† partir de $0$.<br>`\n        : ''\n      switch (true) {\n        case context.isHtml && this.interactif:\n          texte = figureApigeom({\n            exercice: this as Exercice,\n            i,\n            idAddendum: refs['fr-fr'][0],\n            figure,\n            defaultAction: 'POINT',\n          })\n          texteCorr +=\n            numAlpha(0) +\n            texteCorr1 +\n            figureCorr.getStaticHtml() +\n            numAlpha(1) +\n            texteCorr2 +\n            figureCorr2.getStaticHtml()\n          break\n        case context.isHtml:\n          texte = figure.getStaticHtml()\n          texteCorr +=\n            numAlpha(0) +\n            texteCorr1 +\n            figureCorr.getStaticHtml() +\n            numAlpha(1) +\n            texteCorr2 +\n            figureCorr2.getStaticHtml()\n          break\n        default:\n          texte = latex\n          texteCorr +=\n            numAlpha(0) +\n            texteCorr1 +\n            latexCorr +\n            numAlpha(1) +\n            texteCorr2 +\n            latexCorr2\n          break\n      }\n\n      texte +=\n        '<br>' +\n        numAlpha(0) +\n        `Placer le point $${label1}$, sur cette droite gradu√©e, rep√©r√© par le nombre $${fractionUtile}$.<br>`\n      texte +=\n        numAlpha(1) +\n        `Reporter, sur cette m√™me droite gradu√©e, $${den}$ fois le nombre $${fractionUtile}$ et y placer le point $${label2}$.<br>`\n      texte += numAlpha(2) + 'Compl√©ter alors la phrase suivante : <br>'\n      texte += `On constate que le quotient $${fractionUtile}$  est le nombre qui, multipli√© par`\n      texte += this.interactif\n        ? ajouteChampTexteMathLive(\n            this,\n            2 * i + 100,\n            KeyboardType.clavierNumbers,\n          )\n        : '$\\\\ldots$'\n      texte += ' donne '\n      texte += this.interactif\n        ? ajouteChampTexteMathLive(\n            this,\n            2 * i + 100 + 1,\n            KeyboardType.clavierNumbers,\n          ) + '.'\n        : '$\\\\ldots$'\n\n      texteCorr +=\n        this.sup !== 2\n          ? numAlpha(2) +\n            `On constate que le quotient $${fractionUtile}$  est le nombre qui, multipli√© par $${miseEnEvidence(den)}$ donne  $${miseEnEvidence(num)}$`\n          : numAlpha(2) +\n            `On constate que  $${fractionUtile}\\\\times${miseEnEvidence(den)}=${miseEnEvidence(num)}$`\n\n      if (this.sup !== 1 && this.sup !== 2) {\n        texteCorr += ` et donc que $${fractionUtile}\\\\times${miseEnEvidence(den)}=${miseEnEvidence(num)}$`\n      }\n\n      texteCorr += '.'\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: 'ici la (ou les) question(s) est(sont) pos√©e(s)',\n          enonceAvant: false, // EE : ce champ est facultatif et permet (si false) de supprimer l'√©nonc√© ci-dessus avant la num√©rotation de chaque question.\n          enonceAvantUneFois: false, // EE : ce champ est facultatif et permet (si true) d'afficher l'√©nonc√© ci-dessus une seule fois avant la num√©rotation de la premi√®re question de l'exercice. Ne fonctionne correctement que si l'option melange est √† false.\n          propositions: [\n            {\n              type: 'AMCOpen', // on donne le type de la premi√®re question-r√©ponse qcmMono, qcmMult, AMCNum, AMCOpen\n              propositions: [\n                {\n                  texte: texteCorr,\n                  statut: 3, // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la r√©ponse de l'√©l√®ve sur AMC)\n                  enonce: texte,\n                  sanscadre: true, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la r√©ponse de l'√©l√®ve\n                },\n              ],\n            },\n          ],\n        }\n      }\n      if (this.questionJamaisPosee(i, num, den)) {\n        // Si la question n'a jamais √©t√© pos√©e, on en cr√©e une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined) return ['KO']\n    // Sauvegarde de la r√©ponse pour Capytale\n    if (this.answers == null) this.answers = {}\n    if (this == null) return ['KO']\n    if (this.figures == null) return ['KO']\n    const result: ('OK' | 'KO')[] = []\n\n    this.answers[this.figuresApiGeom[i].id] = this.figuresApiGeom[i].json\n    const figure = this.figuresApiGeom[i]\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const goodAnswerQa = this.goodAnswerQa[i]\n    const goodAnswerQb = this.goodAnswerQb[i]\n    const goodAnswerQc = this.goodAnswerQc[i]\n\n    for (let j = 0; j < goodAnswerQa.length; j++) {\n      const label = goodAnswerQa[j].label\n      const x = goodAnswerQa[j].x\n      const { isValid, points } = figure.checkCoords({\n        checkOnlyAbscissa: true,\n        label,\n        x,\n        y: 0,\n      })\n      const point = points[0]\n      if (isValid) {\n        result.push('OK')\n        point.color = 'green'\n        point.colorLabel = 'green'\n        point.thickness = 3\n      } else {\n        result.push('KO')\n        if (point !== undefined) {\n          point.color = 'red'\n          point.colorLabel = 'red'\n          point.color = 'red'\n          point.thickness = 3\n        }\n      }\n    }\n\n    // Champ r√©ponse : Son nom est en dur, ne rien changer\n    let mf = document.querySelector(\n      `math-field#champTexteEx${this.numeroExercice}Q${2 * i + 100}`,\n    ) as MathfieldElement\n\n    // Sauvegarde de la r√©ponse pour Capytale\n    this.answers[`Ex${this.numeroExercice}Q${2 * i + 100}`] = mf.getValue()\n\n    // Saisie fournie par l'utilisateur qu'on va comparer √©ventuellement avec la r√©ponse attendue.\n    const saisie1 = mf.value\n\n    result.push(\n      fonctionComparaison(saisie1, goodAnswerQb.toString()).isOk ? 'OK' : 'KO',\n    )\n    // Champ r√©ponse : Son nom est en dur, ne rien changer\n    mf = document.querySelector(\n      `math-field#champTexteEx${this.numeroExercice}Q${2 * i + 100 + 1}`,\n    ) as MathfieldElement\n\n    // Sauvegarde de la r√©ponse pour Capytale\n    this.answers[`Ex${this.numeroExercice}Q${2 * i + 100 + 1}`] = mf.getValue()\n\n    // Saisie fournie par l'utilisateur qu'on va comparer √©ventuellement avec la r√©ponse attendue.\n    const saisie2 = mf.value\n\n    result.push(\n      fonctionComparaison(saisie2, goodAnswerQc.toString()).isOk ? 'OK' : 'KO',\n    )\n\n    const divFeedback1 = document.querySelector(\n      `#feedback${`Ex${this.numeroExercice}Q${i}`}`,\n    )\n\n    if (divFeedback1 != null) {\n      if (result[0] === 'OK' && result[1] === 'OK') {\n        divFeedback1.innerHTML = 'üòé'\n      } else {\n        const p = document.createElement('p')\n        p.innerText = '‚òπÔ∏è'\n        divFeedback1.insertBefore(p, divFeedback1.firstChild)\n      }\n    }\n\n    const spanResultat2 = document.querySelector(\n      `#resultatCheckEx${this.numeroExercice}Q${2 * i + 100}`,\n    )\n    if (spanResultat2 != null) {\n      if (result[2] === 'OK') {\n        spanResultat2.innerHTML = 'üòé'\n      } else {\n        spanResultat2.innerHTML = '‚òπÔ∏è'\n      }\n    }\n\n    const spanResultat3 = document.querySelector(\n      `#resultatCheckEx${this.numeroExercice}Q${2 * i + 100 + 1}`,\n    )\n    if (spanResultat3 != null) {\n      if (result[2] === 'OK') {\n        spanResultat3.innerHTML = 'üòé'\n      } else {\n        spanResultat3.innerHTML = '‚òπÔ∏è'\n      }\n    }\n\n    return result\n  }\n}\n\nfunction apigeomGraduatedLine({\n  xMin,\n  xMax,\n  scale = 1,\n  points,\n  step = 1,\n  stepBis = 0.25,\n  snapGrid = true,\n  height = 80,\n}: {\n  xMin: number\n  xMax: number\n  scale?: number\n  step?: number\n  stepBis?: number\n  snapGrid?: boolean\n  height?: number\n  points?: Array<{ x: number; label: string }>\n}): { figure: Figure; latex: string } {\n  const width = 750\n  const figure = new Figure({\n    xMin: xMin - 0.2 / scale,\n    yMin: -1.5,\n    width,\n    height,\n    dy: 10,\n    dx: stepBis,\n    xScale: 3 * scale,\n    snapGrid,\n  })\n  figure.setToolbar({ tools: ['POINT', 'DRAG', 'REMOVE'], position: 'top' })\n\n  const d = new GraduatedLine(figure, { min: xMin, max: xMax, step, stepBis })\n  d.draw()\n  let latex = `\\n\\\\bigskip\n  \\\\begin{tikzpicture}[x=2.5mm]\n  \\\\draw[-{Latex[round]},thick] (0,0) -- (61,0);\n  \\\\foreach \\\\x in {0,${10 * stepBis},...,60} \\\\draw[thick] ([yshift=-0.8mm]\\\\x,0) -- ([yshift=0.8mm]\\\\x,0);\n  \\\\foreach \\\\x [count=\\\\i from 0] in {0,10,...,60} \\\\draw[ultra thick] ([yshift=-1.5mm]\\\\x,0) coordinate (a\\\\i) -- ([yshift=1.5mm]\\\\x,0);\n  \\\\foreach \\\\x [count=\\\\i from 0] in {${xMin},${xMin + 1},${xMin + 2},${xMin + 3},${xMin + 4},${xMin + 5},${xMin + 6}} {\n    \\\\node[below=2mm of a\\\\i,inner sep=0pt,font=\\\\small] {$\\\\num{\\\\x}$};\n  }`\n  if (points !== undefined) {\n    const xA = arrondi((points[0].x - xMin) * 10)\n    const xB = arrondi((points[1].x - xMin) * 10)\n    const labelA = points[0].label\n    const labelB = points[1].label\n    latex += `\\n\\\\tkzText[above=2mm](${xA},0){${labelA}}\n    \\n\\\\tkzText[above=2mm](${xB},0){${labelB}}\n    \\n\\\\tkzDrawPoint[shape=cross out, size=5pt, thick](${xA},0)\n    \\n\\\\tkzDrawPoint[shape=cross out, size=5pt, thick](${xB},0)`\n  }\n  latex += '\\n\\\\end{tikzpicture}'\n\n  return { figure, latex }\n}\n"],"names":["dateDePublication","titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","DonnerSensDefinitionQuotient","Exercice","__publicField","i","result","figure","goodAnswerQa","goodAnswerQb","goodAnswerQc","j","label","x","isValid","points","point","mf","saisie1","fonctionComparaison","saisie2","divFeedback1","p","spanResultat2","spanResultat3","cpt","texte","texteCorr","den","randint","num","label1","lettreIndiceeDepuisChiffre","label2","arrondi","fractionUtile","FractionEtendue","xMax","latex","apigeomGraduatedLine","figureCorr","latexCorr","orangeMathalea","A","B","C","longueurAC","figureCorr2","latexCorr2","bond","distance","texteCorr1","texteCorr2","context","figureApigeom","numAlpha","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","listeQuestionsToContenu","xMin","scale","step","stepBis","snapGrid","height","Figure","GraduatedLine","xA","xB","labelA","labelB"],"mappings":"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"}