{"version":3,"file":"4G20-2-ts0iVEK-.js","sources":["../../src/exercices/4e/4G20-2.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { codageAngleDroit } from '../../lib/2d/CodageAngleDroit'\nimport { codageSegments } from '../../lib/2d/CodageSegment'\nimport { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { MetaInteractif2d } from '../../lib/2d/interactif2d'\nimport { pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { carre } from '../../lib/2d/polygonesParticuliers'\nimport { latex2d } from '../../lib/2d/textes'\nimport {\n  ajouteChampTexteMathLive,\n  ajouteFeedback,\n} from '../../lib/interactif/questionMathLive'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport type { IExercice } from '../../lib/types'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nexport const titre =\n  \"Déterminer la racine carrée d'un carré parfait (calcul mental)\"\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifType = 'MetaInteractif2d'\nexport const interactifReady = true\n\n/**\n * Déterminer la racine carrée d'un carré parfait compris entre 1 et 256\n * @author Stéphane Guyon et Guillaume Valmont\n\n * Mis à jour le 08/08/2021\n */\nexport const uuid = 'f5cbd'\n\nexport const refs = {\n  'fr-fr': ['4G20-2'],\n  'fr-ch': ['10NO3-1'],\n}\nconst figureCarre = (aire: number, exercice: IExercice, question: number) => {\n  const c = Math.sqrt(aire) / 4\n  const A = pointAbstrait(0, 0)\n  const B = pointAbstrait(4 + c, 0)\n  const C = pointAbstrait(4 + c, 4 + c)\n  const D = pointAbstrait(0, 4 + c)\n  const ang1 = codageAngleDroit(A, B, C)\n  const ang2 = codageAngleDroit(B, C, D)\n  const ang3 = codageAngleDroit(C, D, A)\n  const ang4 = codageAngleDroit(D, A, B)\n  const cotesMarques = codageSegments('//', 'blue', A, B, B, C, C, D, D, A)\n  const square = carre(A, B)\n  square.hachures = true\n  square.couleurDesHachures = colorToLatexOrHTML('lightgray')\n  const afficheAire = latex2d(\n    `\\\\text{Aire : }${aire} \\\\text{ cm}^2`,\n    2 + c / 2,\n    2 + c / 2,\n    {\n      letterSize: 'small',\n    },\n  )\n  const input = new MetaInteractif2d(\n    [\n      {\n        x: 4 + c + 2,\n        y: 2 + c / 2,\n        content: `%{champ1} \\\\text{ cm}`,\n        classe: '',\n        blanc: '\\\\ldots ',\n        opacity: 1,\n        index: 0,\n      },\n    ],\n    {\n      exercice,\n      question,\n    },\n  )\n  afficheAire.opacity = 0.5\n  const objets: NestedObjetMathalea2dArray = [\n    square,\n    afficheAire,\n    ang1,\n    ang2,\n    ang3,\n    ang4,\n    cotesMarques,\n    input,\n  ]\n  return (\n    mathalea2d(Object.assign({}, fixeBordures(objets)), objets) +\n    `<span id=\"resultatCheckEx${exercice.numeroExercice}Q${question}\"></span>` +\n    ajouteFeedback(exercice, question)\n  )\n}\n\nexport default class RacineCareeDeCarresParfaits extends Exercice {\n  constructor() {\n    super()\n\n    this.amcReady = amcReady\n    this.amcType = amcType\n\n    this.nbQuestions = 4\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.besoinFormulaireNumerique = [\n      'Formulation de la question',\n      3,\n      '1 : Calculer la racine de ...\\n2 : Trouver le nombre positif dont le carré est ...\\n3 : Mélange',\n    ]\n    this.besoinFormulaire2Numerique = ['Entier maximum', 2, '1 : 144\\n2 : 256']\n    this.besoinFormulaire3CaseACocher = [\n      'Énoncé géométrique avec un carré',\n      false,\n    ]\n    this.sup = 1\n    this.sup2 = 2\n    this.sup3 = false\n  }\n\n  nouvelleVersion() {\n    let listeRacines = []\n    let listeQuestions: number[] = []\n\n    this.sup2 = parseInt(this.sup2)\n    if (this.sup === 1) {\n      listeQuestions = [1]\n    } else if (this.sup === 2) {\n      listeQuestions = [2]\n    } else if (this.sup === 3) {\n      listeQuestions = [1, 2]\n    }\n    listeQuestions = combinaisonListes(listeQuestions, this.nbQuestions) // pour varier les questions\n    if (this.sup2 === 1) {\n      listeRacines = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n    } else {\n      listeRacines = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n    }\n    listeRacines = combinaisonListes(listeRacines, this.nbQuestions) // pour avoir une meilleure randomisation que randint\n    for (\n      let i = 0, texte, texteCorr, a, c, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      a = listeRacines[i]\n      c = a * a\n      if (!this.sup3) {\n        if (listeQuestions[i] === 1) {\n          texte =\n            `Calculer de tête $\\\\sqrt{${c}}=$` +\n            ajouteChampTexteMathLive(this, i)\n        } else {\n          texte =\n            `Quel est le nombre positif dont le carré est $${c}$ ?` +\n            ajouteChampTexteMathLive(this, i)\n        }\n      } else {\n        texte =\n          figureCarre(c, this, i) +\n          `Quelle est la longueur du côté de ce carré ?`\n        /* +\n          ajouteChampTexteMathLive(this, i, '', { texteApres: '$\\\\text{ cm}$' })\n          */\n      }\n\n      texteCorr = `$\\\\sqrt{${c}}${this.sup3 ? '\\\\text{ cm}' : ''}=${miseEnEvidence(a.toString())}${this.sup3 ? '\\\\text{ cm}' : ''}$`\n      if (this.sup3) {\n        handleAnswers(\n          this,\n          i,\n          {\n            field0: { value: a, options: { noFeedback: true } },\n          },\n          { formatInteractif: 'MetaInteractif2d' },\n        )\n      } else {\n        handleAnswers(this, i, { reponse: { value: a.toString() } })\n      }\n      if (this.questionJamaisPosee(i, a)) {\n        if (context.isAmc) {\n          if (listeQuestions[i] === 1) {\n            this.autoCorrection[i].enonce = `$\\\\sqrt{${c}}=\\\\dots$`\n            this.autoCorrection[i].propositions = [\n              { texte: `$\\\\sqrt{${c}}=${a}$`, statut: false },\n            ]\n          } else {\n            this.autoCorrection[i].enonce = `$${c} = \\\\dots^2$`\n            this.autoCorrection[i].propositions = [\n              { texte: `$${c}=${a}^2$`, statut: false },\n            ]\n          }\n          this.autoCorrection[i].reponse!.param = {\n            digits: 2,\n            decimals: 0,\n            exposantNbChiffres: 0,\n            exposantSigne: false,\n            signe: false,\n          }\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","interactifType","interactifReady","uuid","refs","figureCarre","aire","exercice","question","c","A","pointAbstrait","B","C","D","ang1","codageAngleDroit","ang2","ang3","ang4","cotesMarques","codageSegments","square","carre","colorToLatexOrHTML","afficheAire","latex2d","input","MetaInteractif2d","objets","mathalea2d","fixeBordures","ajouteFeedback","RacineCareeDeCarresParfaits","Exercice","listeRacines","listeQuestions","combinaisonListes","i","texte","texteCorr","a","cpt","ajouteChampTexteMathLive","miseEnEvidence","handleAnswers","context","listeQuestionsToContenu"],"mappings":"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"}