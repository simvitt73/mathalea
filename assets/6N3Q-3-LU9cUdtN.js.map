{"version":3,"file":"6N3Q-3-LU9cUdtN.js","sources":["../../src/exercices/6e/6N3Q-3.ts"],"sourcesContent":["import { texPrix } from '../../lib/format/style'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\nexport const titre = 'Remplir une facture'\n\n/**\n * Compléter une facture\n * @author Rémi Angot\n\n * publié le\n*/\nexport const uuid = '837cd'\n\nexport const refs = {\n  'fr-fr': ['6N3Q-3', 'BP2CCF7'],\n  'fr-2016': ['6P13-1', 'BP2CCF7'],\n  'fr-ch': ['9FA3-14'],\n}\nexport default class CompleterUneFacture extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      2,\n      '1 : Sans réduction\\n2 : Avec réduction',\n    ]\n\n    this.consigne = 'Compléter le tableau suivant.'\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.sup = 2 // Niveau de difficulté\n    // Pour les exercices chronométrés. 50 par défaut pour les exercices avec du texte\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0,\n        article1,\n        q1,\n        p1: number,\n        article2,\n        q2,\n        p2: number,\n        article3,\n        q3,\n        p3: number,\n        r,\n        texte,\n        texteCorr,\n        cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const listeArticles: [string, number][] = [\n        ['Feuilletés au fromage', randint(50, 80) / 10],\n        ['Feuilletés à la viande', randint(50, 80) / 10],\n        ['Pizzas', randint(80, 140) / 10],\n        ['Glaces à la vanille', randint(20, 60) / 10],\n        ['Glaces au chocolat', randint(20, 60) / 10],\n        ['Filets de saumon', randint(150, 200) / 10],\n        ['Aiguillettes de poulet', randint(400, 700) / 10],\n      ]\n      article1 = choice(listeArticles)\n      article2 = choice(listeArticles, [article1])\n      article3 = choice(listeArticles, [article1, article2])\n      p1 = article1[1]\n      p2 = article2[1]\n      p3 = article1[1]\n      q1 = randint(2, 8)\n      q2 = randint(2, 8, [q1])\n      q3 = randint(2, 8, [q1, q2])\n      r = randint(3, 9)\n\n      if (this.sup === 1) {\n        if (context.isHtml) {\n          texte = '$\\\\def\\\\arraystretch{2.5}\\\\begin{array}{|c|c|c|c|}\\n'\n        } else {\n          texte = '$\\\\begin{array}{|c|c|c|c|}\\n'\n        }\n        texte += '\\\\hline\\n'\n        texte +=\n          '\\\\text{Designations} & \\\\text{Quantités} & \\\\text{Prix unitaires H.T.} & \\\\text{Montants} \\\\\\\\ \\n'\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{${article1[0]}} & ${q1} & ${texPrix(p1)} & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{${article2[0]}} & ${q2} & ${texPrix(p2)} & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{${article3[0]}} & ${q3} & ${texPrix(p3)} & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += '\\\\text{Prix total (H.T.)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n'\n        texte += '\\\\hline\\\\hline\\n'\n        texte += '\\\\text{TVA (20~\\\\%)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n'\n        texte += '\\\\hline\\n'\n        texte += '\\\\text{Prix total (T.T.C.)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n '\n        texte += '\\\\hline\\n'\n        texte += '\\\\end{array}$'\n\n        if (context.isHtml) {\n          texteCorr = '$\\\\def\\\\arraystretch{2.5}\\\\begin{array}{|c|c|c|c|}\\n'\n        } else {\n          texteCorr = '$\\\\begin{array}{|c|c|c|c|}\\n'\n        }\n        texteCorr += '\\\\hline\\n'\n        texteCorr +=\n          '\\\\text{Designations} & \\\\text{Quantités} & \\\\text{Prix unitaires H.T.} & \\\\text{Montants} \\\\\\\\ \\n'\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{${article1[0]}} & ${q1} & ${texPrix(p1)} & ${texPrix(p1 * q1)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{${article2[0]}} & ${q2} & ${texPrix(p2)} & ${texPrix(p2 * q2)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{${article3[0]}} & ${q3} & ${texPrix(p3)} & ${texPrix(p3 * q3)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{Prix total (H.T.)} & & & ${texPrix(p1 * q1 + p2 * q2 + p3 * q3)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\\\hline\\n'\n        texteCorr += `\\\\text{TVA (20~\\\\%)} & & & ${texPrix((p1 * q1 + p2 * q2 + p3 * q3) * 0.2)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{Prix total (T.T.C.)} & & & ${texPrix((p1 * q1 + p2 * q2 + p3 * q3) * 1.2)} \\\\\\\\ \\n `\n        texteCorr += '\\\\hline\\n'\n\n        texteCorr += '\\\\end{array}$'\n      } else {\n        if (context.isHtml) {\n          texte = '$\\\\def\\\\arraystretch{2.5}\\\\begin{array}{|c|c|c|c|}\\n'\n        } else {\n          texte = '$\\\\begin{array}{|c|c|c|c|}\\n'\n        }\n        texte += '\\\\hline\\n'\n        texte +=\n          '\\\\text{Designations} & \\\\text{Quantités} & \\\\text{Prix unitaires H.T.} & \\\\text{Montants} \\\\\\\\ \\n'\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{${article1[0]}} & ${q1} & ${texPrix(p1)} & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{${article2[0]}} & ${q2} & ${texPrix(p2)} & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{${article3[0]}} & ${q3} & ${texPrix(p3)} & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += '\\\\text{Prix total brut (H.T.)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n'\n        texte += '\\\\hline\\n'\n        texte += `\\\\text{Réduction (${r}~\\\\%)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n`\n        texte += '\\\\hline\\n'\n        texte += '\\\\text{Prix total net (H.T.)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n'\n        texte += '\\\\hline\\\\hline\\n'\n        texte += '\\\\text{TVA (20~\\\\%)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n'\n        texte += '\\\\hline\\n'\n        texte += '\\\\text{Prix total (T.T.C.)} & & & \\\\ldots\\\\ldots \\\\\\\\ \\n '\n        texte += '\\\\hline\\n'\n        texte += '\\\\end{array}$'\n\n        if (context.isHtml) {\n          texteCorr = '$\\\\def\\\\arraystretch{2.5}\\\\begin{array}{|c|c|c|c|}\\n'\n        } else {\n          texteCorr = '$\\\\begin{array}{|c|c|c|c|}\\n'\n        }\n        texteCorr += '\\\\hline\\n'\n        texteCorr +=\n          '\\\\text{Designations} & \\\\text{Quantités} & \\\\text{Prix unitaires H.T.} & \\\\text{Montants} \\\\\\\\ \\n'\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{${article1[0]}} & ${q1} & ${texPrix(p1)} & ${texPrix(p1 * q1)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{${article2[0]}} & ${q2} & ${texPrix(p2)} & ${texPrix(p2 * q2)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{${article3[0]}} & ${q3} & ${texPrix(p3)} & ${texPrix(p3 * q3)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{Prix total brut (H.T.)} & & & ${texPrix(p1 * q1 + p2 * q2 + p3 * q3)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{Réduction (${r}~\\\\%)} & & & ${texPrix(((p1 * q1 + p2 * q2 + p3 * q3) * r) / 100)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{Prix total net (H.T.)} & & & ${texPrix((p1 * q1 + p2 * q2 + p3 * q3) * (1 - r / 100))} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\\\hline\\n'\n        texteCorr += `\\\\text{TVA (20~\\\\%)} & & & ${texPrix((p1 * q1 + p2 * q2 + p3 * q3) * (1 - r / 100) * 0.2)} \\\\\\\\ \\n`\n        texteCorr += '\\\\hline\\n'\n        texteCorr += `\\\\text{Prix total (T.T.C.)} & & & ${texPrix((p1 * q1 + p2 * q2 + p3 * q3) * (1 - r / 100) * 1.2)} \\\\\\\\ \\n `\n        texteCorr += '\\\\hline\\n'\n\n        texteCorr += '\\\\end{array}$'\n      }\n\n      if (this.questionJamaisPosee(i, p1, p2, p3)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","uuid","refs","CompleterUneFacture","Exercice","i","article1","q1","p1","article2","q2","p2","article3","q3","p3","r","texte","texteCorr","cpt","listeArticles","randint","choice","context","texPrix","listeQuestionsToContenu"],"mappings":"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"}