{"version":3,"file":"6G4C-CoNpZpw7.js","sources":["../../src/lib/2d/SensDeRotation.ts","../../src/exercices/6e/6G4C.ts"],"sourcesContent":["import { arc } from './Arc'\nimport { colorToLatexOrHTML } from './colorToLatexOrHtml'\nimport { fixeBordures } from './fixeBordures'\nimport { ObjetMathalea2D } from './ObjetMathalea2D'\nimport type { PointAbstrait } from './PointAbstrait'\nimport { segment } from './segmentsVecteurs'\nimport { rotation, similitude } from './transformations'\n\n/**\n * @author Jean-Claude Lhote\n * A1 Le point de départ de la flèche\n * centre Le centre de la rotation\n * sens Le sens (+1 ou -1) de la rotation. +1=sens trig\n */\n\nexport class SensDeRotation extends ObjetMathalea2D {\n  constructor(\n    A1: PointAbstrait,\n    centre: PointAbstrait,\n    sens: 1 | -1,\n    color = 'black',\n  ) {\n    super()\n    this.objets = []\n    const arc1 = arc(A1, centre, 20 * sens)\n    arc1.color = colorToLatexOrHTML(color)\n    const A2 = rotation(A1, centre, 20 * sens)\n    const F1 = similitude(A2, centre, -5 * sens, 0.95)\n    const F2 = similitude(A2, centre, -5 * sens, 1.05)\n    const s1 = segment(A2, F1, color)\n    const s2 = segment(A2, F2, color)\n    this.objets.push(arc1, s1, s2)\n    const bordures = fixeBordures(this.objets, {\n      rxmin: 0,\n      rxmax: 0,\n      rymin: 0,\n      rymax: 0,\n    })\n    this.bordures = [bordures.xmin, bordures.ymin, bordures.xmax, bordures.ymax]\n  }\n\n  svg(coeff: number) {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.svg(coeff)\n    }\n    return code\n  }\n\n  tikz() {\n    let code = ''\n    if (this.objets == null) return code\n    for (const objet of this.objets) {\n      code += '\\n\\t' + objet.tikz()\n    }\n    return code\n  }\n}\n\nexport function sensDeRotation(\n  A: PointAbstrait,\n  O: PointAbstrait,\n  sens: 1 | -1,\n  color = 'black',\n) {\n  return new SensDeRotation(A, O, sens, color)\n}\n","import { afficheMesureAngle } from '../../lib/2d/AfficheMesureAngle'\nimport { cibleCouronne } from '../../lib/2d/cibles'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { sensDeRotation } from '../../lib/2d/SensDeRotation'\nimport { texteParPoint } from '../../lib/2d/textes'\nimport { homothetie, rotation, similitude } from '../../lib/2d/transformations'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Construire un angle de mesure donnée'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n\n/**\n * Construire un angle\n * @author Jean-Claude Lhote\n */\nexport const uuid = '34e3c'\n\nexport const refs = {\n  'fr-fr': ['6G4C'],\n  'fr-2016': ['6G23'],\n  'fr-ch': ['9ES5-3'],\n}\nexport default class ConstruireUnAngle extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 2\n    this.besoinFormulaireNumerique = [\n      \"Précision de l'angle\",\n      4,\n      '1 : Angle à 10°\\n2 : Angle à 5°\\n3 : Angle à 1°\\n4 : Mélange',\n    ]\n\n    this.sup = 1\n    this.video = 'cU80v1p6mMI'\n  }\n\n  nouvelleVersion() {\n    let typeDeQuestions\n    if (this.sup < 4) typeDeQuestions = [this.sup]\n    else typeDeQuestions = [1, 2, 3]\n    const listeTypeDeQuestion = combinaisonListes(\n      typeDeQuestions,\n      this.nbQuestions,\n    )\n    let angle = 0\n    let anglerot\n    let Apos\n    let Bpos\n    let Cpos\n    let fleche\n    const signe = []\n    let p\n    let texte\n    let texteCorr\n    let A\n    let B\n    let s\n    let C\n    let s2\n    let secteur, cible, xMin, xMax, yMin, yMax, objetsEnonce, objetsCorrection\n    signe[0] = randint(-1, 1, 0)\n    for (let i = 1; i < this.nbQuestions; i++) {\n      signe.push(-1 * signe[i - 1])\n    }\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      switch (listeTypeDeQuestion[i]) {\n        case 1:\n          angle = randint(1, 17, 9) * 10\n          break\n        case 2:\n          angle = randint(1, 8) * 10 + randint(0, 1) * 90 + 5\n          break\n        case 3:\n          angle = randint(1, 16) * 10 + randint(1, 9)\n          break\n      }\n      angle = angle * signe[i]\n      anglerot = randint(-50, 50)\n      p = ['x', lettreDepuisChiffre(19 + i), 'y']\n      texte = `Construire l'angle $\\\\widehat{${p[0] + p[1] + p[2]}}$ de mesure $${texNombre(Math.abs(angle))}^\\\\circ$ en tournant dans le sens `\n      if (angle < 0) {\n        texte += \"des aiguilles d'une montre.<br>\"\n      } else {\n        texte += \"inverse des aiguilles d'une montre.<br>\"\n      }\n      A = point(0, 0)\n      B = point(5, 0)\n      B = rotation(B, A, anglerot)\n      Apos = texteParPoint(\n        p[1],\n        similitude(B, A, -90, 0.1),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      Bpos = texteParPoint(\n        p[0],\n        similitude(A, homothetie(B, A, 0.9), signe[i] * 90, 0.1),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n\n      s = segment(A, B)\n      s.styleExtremites = '|-'\n      s.epaisseur = 2\n      s.tailleExtremites = 1.5\n      C = rotation(B, A, angle)\n      Cpos = texteParPoint(\n        p[2],\n        similitude(A, homothetie(C, A, 0.9), -signe[i] * 90, 0.1),\n        0,\n        'black',\n        1,\n        'milieu',\n        true,\n      )\n      fleche = sensDeRotation(B, A, signe[i] as -1 | 1)\n      s2 = segment(A, C)\n      s2.styleExtremites = '|-'\n      s2.tailleExtremites = 1.5\n      secteur = afficheMesureAngle(B, A, C)\n      texteCorr = ''\n      cible = cibleCouronne({ x: 0, y: 0, taille: 3 })\n      xMin = Math.min(A.x - 4, C.x)\n      xMax = Math.max(B.x, C.x) + 0.5\n      yMin = Math.min(A.y - 4, C.y) - 0.5\n      yMax = Math.max(A.y + 4, C.y) + 0.5\n      context.fenetreMathalea2d = [xMin, yMin, xMax, yMax]\n      objetsEnonce = [s, cible, Apos, Bpos, fleche]\n      const bordure = fixeBordures(objetsEnonce, { rxmax: 1.5 })\n      objetsCorrection = [s, secteur, cible, s2, Apos, Bpos, Cpos, fleche]\n      texte += mathalea2d(\n        Object.assign({}, bordure, { pixelsParCm: 20, scale: 0.65 }),\n        objetsEnonce,\n      )\n      // if ((!context.isHtml) && ((i + 1) % 2 === 0 && !(i + 1) % 4 === 0)) texte += '\\\\columnbreak '\n      if (!context.isHtml && (i + 1) % 4 === 0) texte += '\\\\newpage '\n      texteCorr = mathalea2d(\n        Object.assign({}, fixeBordures(objetsCorrection), {\n          pixelsParCm: 20,\n          scale: 0.6,\n        }),\n        objetsCorrection,\n      )\n      if (this.questionJamaisPosee(i, angle, signe[i])) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        if (context.isAmc) {\n          this.autoCorrection[i] = {\n            enonce: texte,\n            propositions: [\n              {\n                texte: texteCorr,\n                statut: 0,\n                sanscadre: true,\n              },\n            ],\n          }\n        }\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["SensDeRotation","ObjetMathalea2D","A1","centre","sens","color","arc1","arc","colorToLatexOrHTML","A2","rotation","F1","similitude","F2","s1","segment","s2","bordures","fixeBordures","coeff","code","objet","sensDeRotation","A","O","titre","amcReady","amcType","uuid","refs","ConstruireUnAngle","Exercice","typeDeQuestions","listeTypeDeQuestion","combinaisonListes","angle","anglerot","Apos","Bpos","Cpos","fleche","signe","texte","texteCorr","B","s","C","secteur","cible","xMin","xMax","yMin","yMax","objetsEnonce","objetsCorrection","randint","i","cpt","lettreDepuisChiffre","texNombre","point","texteParPoint","homothetie","afficheMesureAngle","cibleCouronne","context","bordure","mathalea2d","listeQuestionsToContenu"],"mappings":"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"}