import{D}from"./vendors/decimal.js-BceHFVC1.js";import{f as B}from"./fixeBordures-BSnKuTIe.js";import{s as E}from"./segmentsVecteurs-DhSnlc3S.js";import{t as p}from"./textes-BId1S-Qs.js";import{b as U,o as V}from"./colors-vbveSA7f.js";import{b as O}from"./baseConversions-D-aCpEPJ.js";import{P as T,B as A,bB as G,bh as F,O as K}from"./index-CMKaCP9B.js";import{m as H}from"./mathalea2d-hmD9nuW5.js";function L(e){const l=e.toString(),a=e.floor().toString();return a.length===l.length?0:l.length-a.length-1}function W(e){let l="";for(;e[0]==="0";)e=e.substr(1),l+=" ";for(let a=0;a<e.length;a++)l+=`${e[a]}`;return l}function J(e,l,a,v=!0,P=!0,g=!0,b){if(e=new D(e),l=new D(l),e.lessThan(l))return`Je ne sais pas faire de soustraction avec un résultat négatif, or ici $${A(e)} < ${A(l)}$.`;if(l.equals(0))return`Lorsqu'on soustrait 0, le résultat est le nombre initial, ici $${A(e)}$.`;let M="";const n=[];let I,f,o,N,y,c,s,k;const $=T.vue==="latex"?.6:1;if(!a||a===10){const m=L(e),h=L(l);c=Math.max(m,h),e=e.mul(10**c),l=l.mul(10**c),N=e.sub(l),o=N.toString(),y=o.length,e.lt(l)?(f=e.toString(),I=l.toString()):(I=e.toString(),f=l.toString())}else c=0,I=O(e,a),f=O(l,a),N=e.sub(l),o=O(N,a),y=o.length;const r=I.length,j=f.length,w=r;let q="00";if(r>j)for(let m=0;m<r-j;m++)f=" "+f;for(let m=w-1;m>=r-j;m--)s=isNaN(parseInt(I[m],a))?0:parseInt(I[m],a),k=isNaN(parseInt(f[m],a))?0:parseInt(f[m],a),s<k+parseInt(q.charAt(0),a)?q=`1${q}`:q=`0${q}`;I=` ${I}`,f=`-${f}`,q=`0${q}`;for(let m=0;m<w+1-y;m++)o=` ${o}`;if(P||!g){const m=r-j;for(let h=0;h<w+1;h++)q[h]!=="0"&&v&&g&&n.push(p(q[h],h*u-.25+u*m,4*$,0,"red",.8,"milieu",!1)),I[h]!==" "&&n.push(p(I[h],h*u,4*$,0,"black",1.2,"milieu",!1)),f[h]!==" "&&n.push(p(f[h],h*u,3*$,0,"black",1.2,"milieu",!1)),q[h]!=="0"&&v&&g&&n.push(p(`+${q[h]}`,(h+m-1)*u,2.5*$,0,"blue",.6,"milieu",!1)),o[h]!==" "&&g&&n.push(p(o[h],h*u,2*$,0,"black",1.2,"milieu",!1))}else{const m=Array.apply(null,Array(w+1)).map(function(){return 0}),h=Array.apply(null,Array(I.length)).map(function(t,i){return I[i]});for(let t=w;t>=0;t--){k=isNaN(parseInt(f[t],a))?0:parseInt(f[t],a);const i=new D(parseInt(o[t]===" "?"0":o[t],a)+k);if(h[t]!==" "&&n.push(p(h[t],t*u,4*$,0,"black",1.2,"milieu",!1)),v&&i.sub(parseInt(h[t])).abs().greaterThan(.5)){for(let S=0;S<2;S++)if(i.gte(10)&&i.sub(10).sub(parseInt(h[t])).abs().greaterThan(.5)||i.lt(10)&&i.sub(parseInt(h[t])).abs().greaterThan(.5))n.push(E(t*u-.3,(4+m[t]-.3)*$,t*u+.3,(4+m[t]+.3)*$)),parseInt(h[t])>0?h[t]=(parseInt(h[t])-1).toString():(h[t]="9",n.push(p("1",t*u-.3,(4+m[t])*$,0,U,.8,"milieu",!1))),m[t]++,n.push(p(h[t],t*u,(4+m[t])*$,0,"black",1.2,"milieu",!1));else if(i.gte(10)&&i.sub(10).sub(parseInt(h[t])).abs().lessThan(.5)){n.push(p("1",t*u-.3,(4+m[t])*$,0,U,.8,"milieu",!1));break}}f[t]!==" "&&n.push(p(f[t],t*u,3*$,0,"black",1.2,"milieu",!1)),o[t]!==" "&&n.push(p(o[t],t*u,2*$,0,V,1.2,"milieu",!1))}}return n.push(E(0,(2+.5)*$,(w+1)*u,(2+.5)*$)),c!==0&&(n.push(p(",",.3+u*(w-c),(4+(T.vue==="latex"?-.2:0))*$,0,"black",1.2,"milieu",!1)),n.push(p(",",.3+u*(w-c),(3+(T.vue==="latex"?-.2:0))*$,0,"black",1.2,"milieu",!1)),g&&n.push(p(",",.3+u*(w-c),(2+(T.vue==="latex"?-.2:0))*$,0,V,1.2,"milieu",!1))),M+=H(Object.assign({pixelsParCm:20,scale:.8,style:b,optionsTikz:["transform shape, yshift=-1.75cm"]},B(n)),n),M}function Q(e,l,a=0,v=!0,P){if(e=new D(e),l=new D(l),l.equals(0))return"On ne peut pas diviser par 0.";if(e.equals(0))return"Lorsqu'on divise 0 par un nombre, le quotient est 0.";if(e.equals(l))return"Lorsqu'on divise un nombre par lui-même, le quotient est 1.";if(l.equals(1))return`Lorsqu'on divise un nombre par 1, le quotient est le nombre initial : $${A(e)}$.`;const g=[];let b=!1;const M=0;a=Math.min(a,L(e.div(l)));const n=L(l),I=L(e);b=e.lt(l),l=l.mul(10**n),e=e.mul(10**(n+I));let f=L(e);f=a-f-I,e=e.mul(10**f);const o=function(x,C){g.push(p("-",(x-C.length-.5)*u,10-S*2,0,"black",1.2,"milieu",!1));for(let z=0;z<C.length;z++)g.push(p(C[C.length-z-1],(x-z-1)*u,10-S*2,0,"black",1.2,"milieu",!1));g.push(E((x-C.length-.5)*u,9.6-S*2,(x+.2-1)*u,9.6-S*2))},N=function(x,C){for(let z=0;z<C.length;z++)g.push(p(C[C.length-z-1],(x-z-1)*u,9-S*2,0,"black",1.2,"milieu",!1))},y=function(x,C){g.push(p(C,(m+1.5+x)*u,10,0,"black",1.2,"milieu",!1))},c=[],s=[],k=[],$=[],r=[];let j;const w=e.toString(),q=l.toString(),m=Math.log10(G(e.toNumber())),h=Math.log10(G(l.toNumber()));let t=h;for(let x=0;x<m;x++)g.push(p(w[x],x*u,11,0,"black",1.2,"milieu",!1));for(let x=0;x<h;x++)g.push(p(q[x],(x+m+1.5)*u,11,0,"black",1.2,"milieu",!1));I+f!==0&&g.push(p(",",(m-I-f-1+.5)*u,11,0,"black",1.2,"milieu",!1));const i=F(e.toNumber()/l.toNumber());g.push(E(m*u,11.5,m*u,10.5-2*i));let S=0;if(v){for(c.push(w.substr(0,h)),parseInt(c[0])<l.toNumber()?(c[0]+=w.substr(h,1),(l.div(10**f).lt(l)&&b||b)&&y(-1,"0"),t++):b&&y(-1,"0");t<=m;){if(j=new D(c[S]).div(l).floor(),s.push(j.toString()),k.push(new D(c[S]).mod(l).toString()),r.push(new D(j).mul(l).floor().toString()),$.push(""),s[S]==="0")for(let x=0;x<h;x++)$[S]+="0";else{for(let x=0;x<c[S].length-l.mul(parseInt(s[S])).toString().length;x++)$[S]+="0";$[S]+=l.mul(parseInt(s[S])).toString()}o(t,r[S]),t<m?(k[S]+=w.substr(t,1),N(t+1,k[S])):N(t,k[S]),c.push(k[S]),t++,y(S,s[S]),S++}a>0&&M===0&&g.push(p(",",(m+1+S-f-I)*u,10,0,"black",1.2,"milieu",!1))}return v?g.push(E(m*u,10.5,(m+h+S)*u,10.5)):g.push(E(m*u,10.5,(m+h+2)*u,10.5)),H(Object.assign({pixelsParCm:20,scale:.8,style:P},B(g)),g)}function X(e,l,a,v,P=!0,g){if(e=new D(e),l=new D(l),e.equals(0)||l.equals(0))return e.equals(0)?`$${A(e)}$ étant nul, l'addition est égale à $${A(l)}$`:`$${A(l)}$ étant nul, l'addition est égale à $${A(e)}$`;const b=L(e),M=L(l),n=e,I=l,f=n.plus(I);let o="";const N=[];let y,c,s,k,$,r,j,w;if(!a||a===10){if(r=Math.max(b,M),y=e.mul(10**b).toString(),c=l.mul(10**M).toString(),e=e.mul(10**r),l=l.mul(10**r),b>M)for(let i=0;i<b-M;i++)c+=" ";else for(let i=0;i<M-b;i++)y+=" ";for(let i=0;i<Math.abs(Math.min(0,Math.floor(Math.log10(n.toNumber()))));i++)y="0"+y;for(let i=0;i<Math.abs(Math.min(0,Math.floor(Math.log10(I.toNumber()))));i++)c="0"+c;k=e.plus(l),s=k.toString();for(let i=0;i<Math.abs(Math.min(0,Math.floor(Math.log10(f.toNumber()))));i++)s="0"+s;$=s.length}else r=0,y=O(e,a),c=O(l,a),k=e.plus(l),s=O(k,a),$=s.length;const q=y.length,m=c.length,h=Math.max(q,m);let t=" ";if(q>m)for(let i=0;i<q-m;i++)c=" "+c;else if(m>q)for(let i=0;i<m-q;i++)y=" "+y;for(let i=h-1;i>0;i--)j=isNaN(parseInt(y[i],a))?0:parseInt(y[i],a),w=isNaN(parseInt(c[i],a))?0:parseInt(c[i],a),j+w+parseInt(Number(t[0])>0?t[0]:"0")>a-1?t=`1${t}`:t=` ${t}`;t=" "+t,y=` ${y}`,c=`+${c}`;for(let i=0;i<h+1-$;i++)s=` ${s}`;for(let i=0;i<h+1;i++)y[i]!==" "&&N.push(p(y[i],i*u,4,0,"black",1.2,"milieu",!1)),c[i]!==" "&&N.push(p(c[i],i*u,3,0,"black",1.2,"milieu",!1)),N.push(E(0,2,(h+1)*u,2)),t[i]!==" "&&v&&P&&N.push(p(t[i],i*u,4.5,0,"red",.8,"milieu",!1)),s[i]!==" "&&P&&N.push(p(s[i],i*u,1,0,"black",1.2,"milieu",!1));return r!==0&&(N.push(p(",",.3+u*(h-r),4,0,"black",1.2,"milieu",!1)),N.push(p(",",.3+u*(h-r),3,0,"black",1.2,"milieu",!1)),P&&N.push(p(",",.3+u*(h-r),1,0,"black",1.2,"milieu",!1))),o+=H(Object.assign({pixelsParCm:20,scale:.8,style:g},B(N)),N),o}function ot(e,{base:l=10,retenuesOn:a=!1,calculer:v=!1,style:P="display: block"}){if(T.isHtml){let g="";const b=e.map(s=>new D(K(s,5).replaceAll(",",".").trim())),M=b.reduce((s,k)=>s.plus(k),new D(0));let n=0;const I=b.map(s=>L(s));I.forEach(s=>{s>n&&(n=s)});const f=[],o=[];b.forEach((s,k)=>{let $="";if(!l||l===10){$=s.mul(10**I[k]).toString(),s=s.mul(10**n);for(let r=0;r<n-I[k];r++)$+=" ";for(let r=0;r<Math.abs(Math.min(0,Math.floor(Math.log10(b[k].toNumber()))));r++)$="0"+$}else $=O(s,l),s=s.mul(new D(l).pow(n));o.push($)});const N=Math.max(...o.map(s=>s.length));let y=" ";o.forEach((s,k)=>{const $=s.length;if($<N){for(let r=0;r<N-$;r++)s=" "+s;o[k]=s}});for(let s=N-1;s>0;s--){const k=o.reduce(($,r)=>{const j=isNaN(parseInt(r[s],l))?0:parseInt(r[s],l);return $+j},0);k+parseInt(Number(y[0])>0?y[0]:"0")>l-1?y=`${Math.floor((k+parseInt(Number(y[0])>0?y[0]:"0"))/l)}${y}`:y=` ${y}`}y=" "+y;for(let s=0;s<o.length;s++)s<o.length-1?o[s]=` ${o[s]}`:o[s]=`+${o[s]}`;let c=M.toString().replace(".","");for(let s=0;s<N+1-c.length;s++)c=` ${c}`;for(let s=0;s<N+1;s++){for(let k=0;k<o.length;k++)o[k][s]!==" "&&f.push(p(o[k][s],s*u,b.length+1-k,0,"black",1.2,"milieu",!1));f.push(E(0,1.4,(N+1)*u,1.4)),y[s]!==" "&&a&&v&&f.push(p(y[s],s*u,b.length+1.5,0,"red",.8,"milieu",!1)),c[s]!==" "&&v&&s<c.length&&f.push(p(c[s],s*u,1,0,"black",1.2,"milieu",!1))}if(n!==0){for(let s=0;s<b.length;s++)f.push(p(",",.3+u*(N-n),b.length+1-s*1,0,"black",1.2,"milieu",!1));v&&f.push(p(",",.3+u*(N-n),1,0,"black",1.2,"milieu",!1))}return g+=H(Object.assign({pixelsParCm:20,scale:.8,style:P},B(f)),f),g}else return v?`\\opmanyadd[lineheight=\\baselineskip,columnwidth=2ex,decimalsepsymbol={,},voperator=bottom,voperation=top]{${e.map(g=>A(g,5).replace("{,}",".")).join("}{")}}`:`\\opmanyadd[lineheight=\\baselineskip,columnwidth=2ex,displayshiftintermediary=none,resultstyle=\\white,intermediarystyle=\\white,remainderstyle=\\whitedecimalsepsymbol={,},voperator=bottom,voperation=top]{${e.map(g=>A(g,5).replace("{,}",".")).join("}{")}}`}function Y(e,l,a,v=!0,P){if(e=new D(e),l=new D(l),e.equals(0)||l.equals(0))return e.equals(0)?`$${A(e)}$ étant nul, le produit est nul.`:`$${A(l)}$ étant nul, le produit est nul.`;if(e.equals(1)||l.equals(1))return e.equals(1)?`Lorsqu'on multiplie par 1, le produit est le nombre initial, ici $${A(l)}$.`:`Lorsqu'on multiplie par 1, le produit est le nombre initial, ici $${A(e)}$.`;let g,b;const M=[];let n=0,I,f;const o=[];let N=0;const y=[];let c,s;!a||a===10?(I=e.lt(1),f=l.lt(1),c=L(e),s=L(l),e=e.mul(10**c),l=l.mul(10**s),g=(I?"0":"")+Number(e).toString(),b=(f?"0":"")+Number(l).toString()):(c=0,s=0,g=O(e,a),b=O(l,a));let k;const $=g.length,r=b.length,j=$+r+1,w=[];for(let t=0;t<r;t++){w.push("0"),o.push("");for(let i=0;i<t;i++)w[t]=`${w[t]}0`,o[t]=`${o[t]}°`;if(b[r-t-1]!=="0"){for(let i=0;i<$;i++)!a||a===10?(N=parseInt(g[$-i-1])*parseInt(b[r-t-1])+parseInt(w[t][0]),i!==$-1&&(w[t]=`${Number(Math.floor(N/10)).toString()}${w[t]}`),o[t]=`${Number(N%10).toString()}${o[t]}`):(N=parseInt(g[$-i-1],a)*parseInt(b[r-t-1],a)+parseInt(w[t][0],a),w[t]=`${Number(Math.floor(N/a)).toString()}${w[t]}`,o[t]=`${Number(N%a).toString()}${o[t]}`);o[t]=`${Number(Math.floor(N/10)).toString()}${o[t]}`}else for(let i=0;i<$;i++)w[t]=`0${w[t]}`,o[t]=`°${o[t]}`}for(let t=r;t<j;t++)b=` ${b}`;for(let t=$;t<=j;t++)g=` ${g}`;for(let t=0;t<r;t++)for(let i=w[t].length;i<=j;i++)w[t]=`0${w[t]}`;let q;!a||a===10?q=e.mul(l):q=O(e.mul(l),a),k=q.toString(),c+s===k.length&&(k="0"+k);const m=k.length;for(let t=0;t<r;t++)for(let i=o[t].length;i<=m;i++)o[t]=`0${o[t]}`;w.push("0");for(let t=0;t<m-1;t++){y.push(0),y[t]+=parseInt(w[r][0]);for(let i=0;i<r;i++)o[i][m-t]!=="0"&&o[i][m-t]!=="°"&&(y[t]+=parseInt(o[i][m-t]));w[r]=`${Number(Math.floor(y[t]/10)).toString()}${w[r]}`}for(let t=0;t<r;t++){o[t]=W(o[t]);for(let i=o[t].length;i<=j;i++)o[t]=` ${o[t]}`}b=`×${b}`;for(let t=m;t<=j;t++)k=` ${k}`;for(let t=w[r].length;t<=j;t++)w[r]=`0${w[r]}`;for(let t=0;t<=j;t++)g[t]!==" "&&M.push(p(g[t],t*u,7,0,"black",1.2,"milieu",!1)),b[t]!==" "&&M.push(p(b[t],t*u,6,0,"black",1.2,"milieu",!1));if(c!==0&&M.push(p(",",.3+(j-c)*u,7,0,"black",1.2,"milieu",!1)),s!==0&&M.push(p(",",.3+(j-s)*u,6,0,"black",1.2,"milieu",!1)),v&&r!==1){for(let t=0;t<r;t++)if(b[j-t]!=="0")for(let i=0;i<=j;i++)o[t][i]!==" "&&o[t][i]!=="°"&&M.push(p(o[t][i],i*u,5-t+n,0,"black",1.2,"milieu",!1));else n++;for(let t=0;t<=j;t++)o[r-1][2]===" "&&t===2||w[r][t]!=="0"&&M.push(p(w[r][t],t*u,5.5,0,"red",.7,"milieu",!1))}if(v&&r!==1&&M.push(E(0,5.2-r+n,(j+1)*u,5.2-r+n)),M.push(E(0,5.5,(j+1)*u,5.5)),v){for(let t=0;t<=j;t++)k[t]!==" "&&M.push(p(k[t],t*u,4.5-(r===1?0:r)+n,0,"black",1.2,"milieu",!1));c+s!==0&&M.push(p(",",.3+(j-s-c)*u,4.5-(r===1?0:r)+n,0,"black",1.2,"milieu",!1));for(let t=1;t<r-n;t++)M.push(p("+",0,5+t-r+n,0,"black",1.2,"milieu",!1))}return H(Object.assign({pixelsParCm:20,scale:.8,style:P},B(M)),M)}const u=1;function rt({operande1:e=1,operande2:l=2,type:a="addition",precision:v=0,base:P=10,retenuesOn:g=!0,style:b="display: block",methodeParCompensation:M=!0,options:n={solution:!0,colore:""}}){const I=n.solution;let f,o="";n.colore!=null&&(o=n.colore);const N=n.solution?"Solution":"";if(T.isHtml)switch(a){case"soustraction":f=J(e,l,P,g,M,I,b);break;case"multiplication":f=Y(e,l,P,I,b);break;case"division":f=Q(e,l,v,I,b);break;case"divisionE":f=Q(e,l,0,I,b);break;default:f=X(e,l,P,g,I,b);break}else switch(a){case"soustraction":M?f=n.colore?`Addition${o}[${N}]{${e}}{${l}}`:n.solution?`\\opsub[lineheight=\\baselineskip,columnwidth=3ex,carrysub,lastcarry,decimalsepsymbol={,},voperator=bottom,voperation=top]{${e}}{${l}}`:`\\opsub[lineheight=\\baselineskip,columnwidth=3ex,displayshiftintermediary=none,resultstyle=\\white,intermediarystyle=\\white,remainderstyle=\\white,decimalsepsymbol={,},voperator=bottom,voperation=top]{${e}}{${l}}`:f=J(e,l,P,g,M,I,b);break;case"multiplication":f=n.colore?`\\Multiplication${o}[${N}]{${e}}{${l}}`:n.solution?`\\opmul[lineheight=\\baselineskip,columnwidth=2ex,displayshiftintermediary=all,decimalsepsymbol={,},voperator=bottom,voperation=top]{${e}}{${l}}`:`\\opmul[lineheight=\\baselineskip,columnwidth=2ex,displayshiftintermediary=none,resultstyle=\\white,intermediarystyle=\\white,remainderstyle=\\white,decimalsepsymbol={,},voperator=bottom,voperation=top]{${e}}{${l}}`;break;case"division":f=n.colore?`\\Division${o}[${N}]{${e}}{${l}}`:n.solution?`\\opdiv[lineheight=\\baselineskip,columnwidth=2ex,displayintermediary=all,voperation=top,period,decimalsepsymbol={,},shiftdecimalsep=none]{${e}}{${l}}`:`\\opdiv[lineheight=\\baselineskip,columnwidth=2ex,displayshiftintermediary=none,resultstyle=\\white,intermediarystyle=\\white,remainderstyle=\\white,voperation=top,period,decimalsepsymbol={,},shiftdecimalsep=none]{${e}}{${l}}`;break;case"divisionE":f=n.colore?`\\Division${o}{${e}}{${l}}`:n.solution?`\\opidiv[lineheight=\\baselineskip,columnwidth=2ex,voperation=top]{${e}}{${l}}`:`\\opidiv[lineheight=\\baselineskip,columnwidth=2ex,displayshiftintermediary=none,resultstyle=\\white,intermediarystyle=\\white,remainderstyle=\\white,voperation=top]{${e}}{${l}}`;break;default:f=n.colore?`\\Addition${o}[${N}]{${e}}{${l}}`:n.solution?`\\opadd[lineheight=\\baselineskip,columnwidth=2ex,decimalsepsymbol={,},voperator=bottom,voperation=top]{${e}}{${l}}`:`\\opadd[lineheight=\\baselineskip,columnwidth=2ex,displayshiftintermediary=none,resultstyle=\\white,intermediarystyle=\\white,remainderstyle=\\whitedecimalsepsymbol={,},voperator=bottom,voperation=top]{${e}}{${l}}`;break}return f}export{ot as a,rt as o};
//# sourceMappingURL=operations-zsk92R06.js.map
