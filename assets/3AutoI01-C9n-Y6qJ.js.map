{"version":3,"file":"3AutoI01-C9n-Y6qJ.js","sources":["../../src/exercices/3e/3AutoI01.ts"],"sourcesContent":["import { deuxColonnesResp } from '../../lib/format/miseEnPage'\nimport { ajouteQuestionMathlive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { scratchblock } from '../../modules/scratchblock'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Compléter un bloc personnalisé avec Scratch'\nexport const dateDePublication = '23/12/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * @author Jean-Claude Lhote\n */\n\nexport const uuid = '33c9b'\n\nexport const refs = {\n  'fr-fr': ['3AutoI01'],\n  'fr-ch': [],\n}\nexport default class BlocPersonnaliseScratch extends Exercice {\n  constructor() {\n    super()\n    this.typeExercice = 'Scratch'\n    this.besoinFormulaireCaseACocher = ['Sujet original', false]\n    this.sup = false\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n  }\n\n  nouvelleVersion() {\n    const myPolyName = (n: number) => {\n      switch (n) {\n        case 3:\n          return 'triangle équilatéral'\n\n        case 6:\n          return 'hexagone régulier'\n        case 8:\n          return 'octogone régulier'\n        case 4:\n        default:\n          return 'carré'\n      }\n    }\n\n    const blocACompléter = (figure: {\n      nom: string\n      nbCotes: number\n      longueurCote: number\n      angle: number\n    }) => {\n      return `\\\\begin{scratch}[num blocks]\\n\n\\\\initmoreblocks{définir \\\\namemoreblocks{${figure.nom}}}\n\\\\blockpen{stylo en position d'écriture}\n\\\\blockrepeat{répéter \\\\ovalnum{ } fois}\n{\n\\\\blockmove{avancer de \\\\ovalnum{${longueurCote}} pas}\n\\\\blockmove{tourner \\\\turnright{} de \\\\ovalnum{ } degrés}\n}\n\\\\end{scratch}`\n    }\n\n    const nbCotes = this.sup ? 4 : choice([3, 4, 6, 8])\n    const nom = myPolyName(nbCotes)\n    const longueurCote = this.sup ? 50 : choice([30, 40, 50, 60, 70])\n    const codeScratch = blocACompléter({\n      nom,\n      nbCotes,\n      longueurCote,\n      angle: 360 / nbCotes,\n    })\n    let codeScratch3 = String(scratchblock(codeScratch, 'block', true))\n    if (context.isHtml) {\n      let ligne = 1\n      const lignes = codeScratch3.split('\\n')\n      codeScratch3 = lignes\n        .map((l, i) => {\n          if (\n            ['définir', 'stylo', 'répéter', 'avancer', 'tourner'].some((mot) =>\n              l.includes(mot),\n            )\n          ) {\n            l += `// ${ligne++}`\n          }\n          return l\n        })\n        .join('\\n')\n    }\n    this.listeQuestions[0] =\n      deuxColonnesResp(\n        `Une élève souhaite réaliser un programme avec un logiciel de\nprogrammation pour dessiner un ${nom}.<br>\nPar quelles valeurs doit-il compléter les lignes 3 et 5 du bloc personnalisé ci-contre \npour obtenir un ${nom} ?`,\n        codeScratch3,\n        {\n          largeur1: 50,\n          widthmincol1: '100px',\n          widthmincol2: '100px',\n        },\n      ) +\n      `<br><br>` +\n      ajouteQuestionMathlive({\n        exercice: this,\n        question: 0,\n        objetReponse: {\n          champ1: { value: String(nbCotes) },\n          champ2: { value: String(360 / nbCotes) },\n        },\n        typeInteractivite: 'fillInTheBlank',\n        content:\n          '\\\\text{Ligne 3 : }%{champ1}\\\\quad \\\\text{Ligne 5 : }%{champ2}',\n      })\n    this.listeCorrections[0] = `Pour obtenir un ${nom}, il faut répéter $${miseEnEvidence(nbCotes.toString())}$ fois et tourner de $\\\\dfrac{360}{${nbCotes}}=${miseEnEvidence(texNombre(360 / nbCotes, 0))}$ degrés.`\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","uuid","refs","BlocPersonnaliseScratch","Exercice","myPolyName","n","blocACompléter","figure","longueurCote","nbCotes","choice","nom","codeScratch","codeScratch3","scratchblock","context","ligne","l","i","mot","deuxColonnesResp","ajouteQuestionMathlive","miseEnEvidence","texNombre"],"mappings":"mrFASO,MAAMA,GAAQ,8CACRC,GAAoB,aACpBC,GAAkB,GAClBC,GAAiB,WAMjBC,GAAO,QAEPC,GAAO,CAClB,QAAS,CAAC,UAAU,EACpB,QAAS,CAAA,CACX,EACA,MAAqBC,WAAgCC,CAAS,CAC5D,aAAc,CACZ,MAAA,EACA,KAAK,aAAe,UACpB,KAAK,4BAA8B,CAAC,iBAAkB,EAAK,EAC3D,KAAK,IAAM,GACX,KAAK,YAAc,EACnB,KAAK,sBAAwB,EAC/B,CAEA,iBAAkB,CAChB,MAAMC,EAAcC,GAAc,CAChC,OAAQA,EAAA,CACN,IAAK,GACH,MAAO,uBAET,IAAK,GACH,MAAO,oBACT,IAAK,GACH,MAAO,oBAET,QACE,MAAO,OAAA,CAEb,EAEMC,EAAkBC,GAMf;AAAA;AAAA,4CAC+BA,EAAO,GAAG;AAAA;AAAA;AAAA;AAAA,mCAInBC,CAAY;AAAA;AAAA;AAAA,gBAMrCC,EAAU,KAAK,IAAM,EAAIC,EAAO,CAAC,EAAG,EAAG,EAAG,CAAC,CAAC,EAC5CC,EAAMP,EAAWK,CAAO,EACxBD,EAAe,KAAK,IAAM,GAAKE,EAAO,CAAC,GAAI,GAAI,GAAI,GAAI,EAAE,CAAC,EAC1DE,EAAcN,EAAe,CACjC,IAAAK,CAIF,CAAC,EACD,IAAIE,EAAe,OAAOC,EAAaF,EAAa,QAAS,EAAI,CAAC,EAClE,GAAIG,EAAQ,OAAQ,CAClB,IAAIC,EAAQ,EAEZH,EADeA,EAAa,MAAM;AAAA,CAAI,EAEnC,IAAI,CAACI,EAAGC,KAEL,CAAC,UAAW,QAAS,UAAW,UAAW,SAAS,EAAE,KAAMC,GAC1DF,EAAE,SAASE,CAAG,CAAA,IAGhBF,GAAK,MAAMD,GAAO,IAEbC,EACR,EACA,KAAK;AAAA,CAAI,CACd,CACA,KAAK,eAAe,CAAC,EACnBG,EACE;AAAA,iCACyBT,CAAG;AAAA;AAAA,kBAElBA,CAAG,KACbE,EACA,CACE,SAAU,GACV,aAAc,QACd,aAAc,OAAA,CAChB,EAEF,WACAQ,EAAuB,CACrB,SAAU,KACV,SAAU,EACV,aAAc,CACZ,OAAQ,CAAE,MAAO,OAAOZ,CAAO,CAAA,EAC/B,OAAQ,CAAE,MAAO,OAAO,IAAMA,CAAO,CAAA,CAAE,EAEzC,kBAAmB,iBACnB,QACE,+DAAA,CACH,EACH,KAAK,iBAAiB,CAAC,EAAI,mBAAmBE,CAAG,sBAAsBW,EAAeb,EAAQ,SAAA,CAAU,CAAC,sCAAsCA,CAAO,KAAKa,EAAeC,EAAU,IAAMd,EAAS,CAAC,CAAC,CAAC,WACxM,CACF"}