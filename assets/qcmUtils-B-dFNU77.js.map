{"version":3,"file":"qcmUtils-B-dFNU77.js","sources":["../../src/exercices/beta/qcmUtils.ts"],"sourcesContent":["import QcmJsonGenerator from './QcmJsonGenerator'\nimport type { QcmJsonData } from './QcmJsonGenerator'\n\n/**\n * Fonction utilitaire pour créer un exercice QCM à partir d'un fichier JSON\n * @param jsonData - Les données JSON contenant les questions\n * @returns Une classe d'exercice QCM prête à être utilisée\n */\nexport function createQcmFromJson(\n  jsonData: QcmJsonData,\n): typeof QcmJsonGenerator {\n  // Valider les données JSON\n  if (!QcmJsonGenerator.validateJsonData(jsonData)) {\n    throw new Error('Les données JSON ne sont pas valides pour créer un QCM')\n  }\n\n  // Créer une classe d'exercice personnalisée\n  class QcmPersonnalise extends QcmJsonGenerator {\n    constructor() {\n      super(jsonData)\n\n      // Configuration par défaut\n      this.sup = false // Pas de version originale forcée\n      this.sup2 = true // Consigne augmentée\n      this.sup4 = false // Pas de \"Je ne sais pas\"\n\n      // Activer l'aléatoirisation si plusieurs questions\n      if (jsonData.questions.length > 1) {\n        this.versionAleatoire = () => {\n          // Choisir une question aléatoire\n          const questionIndex = Math.floor(\n            Math.random() * jsonData.questions.length,\n          )\n          const question = jsonData.questions[questionIndex]\n\n          this.enonce = question.enonce\n          this.reponses = [...question.reponses]\n\n          if (question.corrections) {\n            this.corrections = [...question.corrections]\n          }\n\n          if (question.bonnesReponses) {\n            this.bonnesReponses = [...question.bonnesReponses]\n          }\n        }\n      }\n    }\n  }\n\n  return QcmPersonnalise\n}\n\n/**\n * Fonction pour charger et valider un fichier JSON de QCM\n * @param jsonContent - Le contenu JSON sous forme de chaîne\n * @returns Les données validées\n */\nexport function parseQcmJson(jsonContent: string): QcmJsonData {\n  try {\n    const data = JSON.parse(jsonContent)\n\n    if (!QcmJsonGenerator.validateJsonData(data)) {\n      throw new Error('Format JSON invalide pour un QCM')\n    }\n\n    return data\n  } catch (error) {\n    if (error instanceof SyntaxError) {\n      throw new Error('JSON malformé : ' + error.message)\n    }\n    throw error\n  }\n}\n\n/**\n * Fonction pour créer un QCM simple avec une seule question\n * @param enonce - L'énoncé de la question\n * @param reponses - Les réponses (la première étant la bonne)\n * @param corrections - Les corrections optionnelles\n * @param titre - Le titre de l'exercice\n * @returns Une classe d'exercice QCM\n */\nexport function createSimpleQcm(\n  enonce: string,\n  reponses: string[],\n  corrections?: string[],\n  titre: string = 'QCM',\n): typeof QcmJsonGenerator {\n  const qcmData: QcmJsonData = {\n    titre,\n    questions: [\n      {\n        enonce,\n        reponses,\n        corrections,\n      },\n    ],\n  }\n\n  return createQcmFromJson(qcmData)\n}\n\n/**\n * Fonction pour créer un QCM à réponses multiples\n * @param enonce - L'énoncé de la question\n * @param reponses - Les réponses\n * @param bonnesReponses - Tableau de booléens indiquant les bonnes réponses\n * @param corrections - Les corrections optionnelles\n * @param titre - Le titre de l'exercice\n * @returns Une classe d'exercice QCM\n */\nexport function createMultipleChoiceQcm(\n  enonce: string,\n  reponses: string[],\n  bonnesReponses: boolean[],\n  corrections?: string[],\n  titre: string = 'QCM à réponses multiples',\n): typeof QcmJsonGenerator {\n  const qcmData: QcmJsonData = {\n    titre,\n    questions: [\n      {\n        enonce,\n        reponses,\n        bonnesReponses,\n        corrections,\n      },\n    ],\n  }\n\n  return createQcmFromJson(qcmData)\n}\n"],"names":["createQcmFromJson","jsonData","QcmJsonGenerator","QcmPersonnalise","questionIndex","question","parseQcmJson","jsonContent","data","error","createSimpleQcm","enonce","reponses","corrections","titre","createMultipleChoiceQcm","bonnesReponses"],"mappings":"mpFAQO,SAASA,EACdC,EACyB,CAEzB,GAAI,CAACC,EAAiB,iBAAiBD,CAAQ,EAC7C,MAAM,IAAI,MAAM,wDAAwD,EAI1E,MAAME,UAAwBD,CAAiB,CAC7C,aAAc,CACZ,MAAMD,CAAQ,EAGd,KAAK,IAAM,GACX,KAAK,KAAO,GACZ,KAAK,KAAO,GAGRA,EAAS,UAAU,OAAS,IAC9B,KAAK,iBAAmB,IAAM,CAE5B,MAAMG,EAAgB,KAAK,MACzB,KAAK,OAAA,EAAWH,EAAS,UAAU,MAAA,EAE/BI,EAAWJ,EAAS,UAAUG,CAAa,EAEjD,KAAK,OAASC,EAAS,OACvB,KAAK,SAAW,CAAC,GAAGA,EAAS,QAAQ,EAEjCA,EAAS,cACX,KAAK,YAAc,CAAC,GAAGA,EAAS,WAAW,GAGzCA,EAAS,iBACX,KAAK,eAAiB,CAAC,GAAGA,EAAS,cAAc,EAErD,EAEJ,CAAA,CAGF,OAAOF,CACT,CAOO,SAASG,GAAaC,EAAkC,CAC7D,GAAI,CACF,MAAMC,EAAO,KAAK,MAAMD,CAAW,EAEnC,GAAI,CAACL,EAAiB,iBAAiBM,CAAI,EACzC,MAAM,IAAI,MAAM,kCAAkC,EAGpD,OAAOA,CACT,OAASC,EAAO,CACd,MAAIA,aAAiB,YACb,IAAI,MAAM,mBAAqBA,EAAM,OAAO,EAE9CA,CACR,CACF,CAUO,SAASC,GACdC,EACAC,EACAC,EACAC,EAAgB,MACS,CAYzB,OAAOd,EAXsB,CAC3B,MAAAc,EACA,UAAW,CACT,CACE,OAAAH,EACA,SAAAC,EACA,YAAAC,CAAA,CACF,CACF,CAG8B,CAClC,CAWO,SAASE,GACdJ,EACAC,EACAI,EACAH,EACAC,EAAgB,2BACS,CAazB,OAAOd,EAZsB,CAC3B,MAAAc,EACA,UAAW,CACT,CACE,OAAAH,EACA,SAAAC,EACA,eAAAI,EACA,YAAAH,CAAA,CACF,CACF,CAG8B,CAClC"}