{"version":3,"file":"can6C58-Val4qoGt.js","sources":["../../src/exercices/can/6e/can6C58.ts"],"sourcesContent":["import { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { pgcd, ppcm } from '../../../lib/outils/primalite'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport FractionEtendue from '../../../modules/FractionEtendue'\nimport { obtenirListeFractionsIrreductibles } from '../../../modules/fractions'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre =\n  'Calculer une somme ou une différence de fractions à dénominateurs différents'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const dateDePublication = '05/07/2025'\n/**\n * @author Gilles Mora avec IA\n *\n\n */\nexport const uuid = '08a2a'\n\nexport const refs = {\n  'fr-fr': ['can6C58', '6N3K-flash4'],\n  'fr-ch': ['NR'],\n}\nexport default class SommeDiffFractionsCompatibles extends ExerciceSimple {\n  constructor() {\n    super()\n    this.typeExercice = 'simple'\n    this.nbQuestions = 1\n    this.spacingCorr = 1.5\n  this.optionsDeComparaison = { fractionEgale: true }\n    this.formatChampTexte = KeyboardType.clavierDeBaseAvecFraction\n \n  }\n\n  nouvelleVersion() {\n    let frac1: FractionEtendue\n    let frac2: FractionEtendue\n    let resultat: FractionEtendue\n    let p: number\n\n    switch (choice([1, 2])) {\n      case 1: // addition\n        do {\n          frac1 = choice(obtenirListeFractionsIrreductibles())\n\n          // Générer un dénominateur non multiple de frac1.den\n          let den2: number\n          do {\n            den2 = randint(2, 7)\n          } while (\n            den2 === frac1.den ||\n            den2 % frac1.den === 0 ||\n            frac1.den % den2 === 0\n          )\n\n          const num2 = randint(1, den2 - 1)\n          frac2 = new FractionEtendue(num2, den2)\n\n          p = ppcm(frac1.den, frac2.den)\n          const num1Adapte = frac1.num * (p / frac1.den)\n          const num2Adapte = frac2.num * (p / frac2.den)\n\n          resultat = new FractionEtendue(num1Adapte + num2Adapte, p)\n        } while (resultat.num === resultat.den) // éviter que ça fasse 1\n\n        this.question = `Calculer $${frac1.texFraction} + ${frac2.texFraction}$.`\n        this.correction = `On cherche un dénominateur commun (ici $${ppcm(frac1.den, frac2.den)}$), puis on additionne les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} + ${frac2.texFraction} &= \\\\dfrac{${frac1.num}\\\\times ${texNombre(p / frac1.den, 0)}}{${frac1.den}\\\\times ${texNombre(p / frac1.den, 0)}} + \\\\dfrac{${frac2.num}\\\\times ${texNombre(p / frac2.den, 0)}}{${frac2.den}\\\\times ${texNombre(p / frac2.den, 0)}} \\\\\\\\\n&= \\\\dfrac{${(frac1.num * p) / frac1.den}}{${resultat.den}} + \\\\dfrac{${(frac2.num * p) / frac2.den}}{${resultat.den}} \\\\\\\\[0.7em]\n&= ${miseEnEvidence(resultat.texFraction)}${\n          pgcd(resultat.num, resultat.den) !== 1\n            ? ` = ${miseEnEvidence(resultat.texFractionSimplifiee)}`\n            : ''\n        }\n\\\\end{aligned}$`\n\n        if (this.interactif) {\n          this.question = `$${frac1.texFraction} + ${frac2.texFraction} = $`\n        }\n        break\n\n      case 2: // soustraction\n      default:\n        do {\n          frac1 = choice(obtenirListeFractionsIrreductibles())\n\n          // Générer un dénominateur non multiple de frac1.den\n          let den2: number\n          do {\n            den2 = randint(2, 7)\n          } while (\n            den2 === frac1.den ||\n            den2 % frac1.den === 0 ||\n            frac1.den % den2 === 0\n          )\n\n          const num2 = randint(1, den2 - 1)\n          frac2 = new FractionEtendue(num2, den2)\n\n          p = ppcm(frac1.den, frac2.den)\n          const num1Adapte = frac1.num * (p / frac1.den)\n          const num2Adapte = frac2.num * (p / frac2.den)\n          const diff = num1Adapte - num2Adapte\n\n          resultat = new FractionEtendue(diff, p)\n        } while (resultat.num <= 0 || resultat.num === resultat.den)\n\n        this.question = `Calculer $${frac1.texFraction} - ${frac2.texFraction}$.`\n        this.correction = `On réduit au même dénominateur ($${resultat.den}$), puis on soustrait les numérateurs :<br>\n$\\\\begin{aligned}\n${frac1.texFraction} - ${frac2.texFraction} &= \\\\dfrac{${frac1.num}\\\\times ${texNombre(p / frac1.den, 0)}}{${frac1.den}\\\\times ${texNombre(p / frac1.den, 0)}} -\\\\dfrac{${frac2.num}\\\\times ${texNombre(p / frac2.den, 0)}}{${frac2.den}\\\\times ${texNombre(p / frac2.den, 0)}} \\\\\\\\\n&= \\\\dfrac{${(frac1.num * p) / frac1.den}}{${resultat.den}} - \\\\dfrac{${(frac2.num * p) / frac2.den}}{${resultat.den}} \\\\\\\\[0.7em]\n&= ${miseEnEvidence(resultat.texFraction)}${\n          pgcd(resultat.num, resultat.den) !== 1\n            ? ` = ${miseEnEvidence(resultat.texFractionSimplifiee)}`\n            : ''\n        }\n\\\\end{aligned}$`\n\n        if (this.interactif) {\n          this.question = `$${frac1.texFraction} - ${frac2.texFraction} = $`\n        }\n        break\n    }\n\n    this.reponse = resultat\n    this.canEnonce = this.question\n    this.canReponseACompleter = ''\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","uuid","refs","SommeDiffFractionsCompatibles","ExerciceSimple","KeyboardType","frac1","frac2","resultat","p","choice","obtenirListeFractionsIrreductibles","den2","randint","num2","FractionEtendue","ppcm","num1Adapte","num2Adapte","texNombre","miseEnEvidence","pgcd","diff"],"mappings":"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"}