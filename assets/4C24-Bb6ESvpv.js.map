{"version":3,"file":"4C24-Bb6ESvpv.js","sources":["../../src/exercices/4e/4C24.ts"],"sourcesContent":["import { orangeMathalea } from '../../lib/colors'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Simplifier des fractions à l'aide des nombres premiers\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\nexport const dateDePublication = '17/03/2022'\nexport const dateDeModifImportante = '03/10/2023'\n\n/**\n * @author Guillaume Valmont (amendée par Eric Elter pour this.sup2 et une version 3e)\n\n */\nexport const uuid = '612b9'\n\nexport const refs = {\n  'fr-fr': ['4C24', '3AutoN03-1'],\n  'fr-ch': ['9NO12-9'],\n}\nexport default class SimplifierFractions extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaire3Numerique = [\n      'Type de réponses AMC',\n      2,\n      '1 : Question ouverte\\n2 : Réponse numérique',\n    ]\n\n    this.consigne = 'Simplifier le plus possible les fractions suivantes.'\n    this.nbQuestions = 5\n\n    // this.besoinFormulaireNumerique = ['Nombre de facteurs communs', 3, '1, 2 ou 3']\n    this.besoinFormulaireTexte = [\n      'Nombre maximum de facteurs communs',\n      'Nombres séparés par des tirets.\\n1 : 1 facteur\\n2 : 2 facteurs\\n3 : 3 facteurs\\n4 : 4 facteurs\\n 5 : Mélange',\n    ]\n\n    // this.besoinFormulaire2Numerique = ['Facteurs premiers utilisés', 2, '1 : De 2 à 7\\n2 : De 2 à 23']\n    this.besoinFormulaire2Texte = [\n      'Choix des facteurs premiers utilisés',\n      'Nombres séparés par des tirets.\\nChoisir valeur(s) entre 2 et 23.',\n    ]\n    this.sup = 2\n    this.sup2 = '2-3-5-7'\n    this.sup3 = 2\n    this.nbCols = 2\n    this.nbColsCorr = 2\n  }\n\n  nouvelleVersion() {\n    if (this.nbQuestions === 1) {\n      this.consigne = 'Simplifier le plus possible la fraction suivante.'\n    }\n    const listeFacteursPremiers = gestionnaireFormulaireTexte({\n      saisie: this.sup2,\n      min: 2,\n      max: 23,\n      defaut: 11,\n      melange: 24,\n      nbQuestions: this.nbQuestions,\n      exclus: [4, 6, 8, 9, 10, 12, 14, 15, 16, 18, 20, 21, 22],\n    }).map(Number)\n    const nbFacteursCommuns = gestionnaireFormulaireTexte({\n      melange: 5,\n      saisie: this.sup,\n      max: 4,\n      defaut: 4,\n      nbQuestions: 1,\n    }).map(Number)\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      /* let facteurCommun1 = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19]) : choice([2, 3, 5])\n      let facteurCommun2 = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19]) : choice([2, 3, 5])\n      let facteurCommun3 = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19]) : choice([2, 3, 5])\n      let facteurSurprise = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19, 23]) : choice([2, 3, 5, 7])\n      let facteurNumerateur = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19, 23]) : choice([2, 3, 5, 7])\n      let facteurDenominateur = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19, 23]) : choice([2, 3, 5, 7]) */\n      let facteurCommun1 = choice(listeFacteursPremiers)\n      let facteurCommun2 = choice(listeFacteursPremiers)\n      let facteurCommun3 = choice(listeFacteursPremiers)\n      const facteurSurprise = choice(listeFacteursPremiers)\n      const facteurDenominateur = choice(listeFacteursPremiers)\n      const facteurNumerateur = choice(listeFacteursPremiers)\n      let numerateur, denominateur\n      if (nbFacteursCommuns[0] - 1 < 3) facteurCommun3 = 1\n      if (nbFacteursCommuns[0] - 1 < 2) facteurCommun2 = 1\n      if (nbFacteursCommuns[0] - 1 < 1) facteurCommun1 = 1\n      numerateur =\n        facteurNumerateur * facteurCommun1 * facteurCommun2 * facteurCommun3\n      denominateur =\n        facteurDenominateur * facteurCommun1 * facteurCommun2 * facteurCommun3\n      if (numerateur === denominateur) numerateur = numerateur * facteurCommun1\n      /* while (numerateur === denominateur) {\n        facteurNumerateur = this.sup2 !== 1 ? choice([2, 3, 5, 11, 13, 17, 19, 23]) : choice([2, 3, 5, 7])\n        numerateur = facteurNumerateur * facteurCommun1 * facteurCommun2 * facteurCommun3\n      } */\n      const surprise = choice(['numerateur', 'denominateur', 'aucun'])\n      switch (surprise) {\n        case 'numerateur':\n          if (numerateur * facteurSurprise !== denominateur)\n            numerateur = numerateur * facteurSurprise\n          break\n        case 'denominateur':\n          if (denominateur * facteurSurprise !== numerateur)\n            denominateur = denominateur * facteurSurprise\n          break\n      }\n      const f = new FractionEtendue(numerateur, denominateur)\n      texte = `$${f.texFraction}$${ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecFraction,\n        { texteAvant: ' =' },\n      )}`\n      texteCorr = `$${f.texFraction}${f.texSimplificationAvecEtapes(true, orangeMathalea)}$`\n      handleAnswers(this, i, {\n        reponse: {\n          value: f.simplifie().toLatex(),\n          options: { fractionIrreductible: true },\n        },\n      })\n\n      if (context.isAmc) {\n        if (this.sup3 === 1) {\n          this.autoCorrection[i] = {\n            enonce: '',\n            enonceAvant: false,\n            propositions: [\n              {\n                type: 'AMCOpen',\n                propositions: [\n                  {\n                    enonce:\n                      'Rendre irréductible la fraction ' +\n                      texte +\n                      '.<br>La rédaction sera évaluée plus que le résultat en lui-même.',\n                    texte: texteCorr,\n                    statut: 3, // OBLIGATOIRE (ici c'est le nombre de lignes du cadre pour la réponse de l'élève sur AMC)\n                    sanscadre: false, // EE : ce champ est facultatif et permet (si true) de cacher le cadre et les lignes acceptant la réponse de l'élève\n                    pointilles: false, // EE : ce champ est facultatif et permet (si false) d'enlever les pointillés sur chaque ligne.\n                  },\n                ],\n              },\n            ],\n          }\n        } else {\n          this.autoCorrection[i] = {\n            enonce: '',\n            enonceAvant: false,\n            propositions: [\n              {\n                type: 'AMCNum',\n                propositions: [\n                  {\n                    texte: '',\n                    statut: '',\n                    reponse: {\n                      texte: 'Rendre irréductible la fraction ' + texte + '.',\n                      valeur: f.simplifie(),\n                      param: {\n                        digits: 2,\n                        decimals: 0,\n                        signe: false,\n                        approx: 0,\n                      },\n                    },\n                  },\n                ],\n              },\n            ],\n          }\n        }\n      }\n      if (this.questionJamaisPosee(i, numerateur, denominateur)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","SimplifierFractions","Exercice","listeFacteursPremiers","gestionnaireFormulaireTexte","nbFacteursCommuns","i","texte","texteCorr","cpt","facteurCommun1","choice","facteurCommun2","facteurCommun3","facteurSurprise","facteurDenominateur","facteurNumerateur","numerateur","denominateur","f","FractionEtendue","ajouteChampTexteMathLive","KeyboardType","orangeMathalea","handleAnswers","context","listeQuestionsToContenu"],"mappings":"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"}