{"version":3,"file":"1AL21-10-B8zkSe_d.js","sources":["../../src/exercices/1e/1AL21-10.ts"],"sourcesContent":["import type {\n  BoxedExpression,\n  SemiBoxedExpression,\n} from '@cortex-js/compute-engine'\nimport { PointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { bleuMathalea, orangeMathalea } from '../../lib/colors'\nimport engine from '../../lib/interactif/comparisonFunctions'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Interpolation polynomiale'\nexport const dateDePublication = '10/07/2024'\nexport const dateDeModifImportante = '10/01/2025'\n\n/**\n * Interpolation polynomiale :\n * - déterminer la fonction polynomiale de degré 2, connaissant ses\n * racines et l'image d'un nombre. On passe par la forme canonique\n * puis on développe.\n * - Déterminer la fonction polynomiale de degré 2 dont la courbe\n * représentative passe par trois points donnés du plan. On réduit\n * ce problème au problème précédent à l'aide d'une fonction auxiliaire.\n * @author florianpicard\n * EE : Rajout d'un paramètre pour choisir entre racine et interpolation.\n */\n\nexport const uuid = '9fa71'\n\nexport const refs = {\n  'fr-fr': ['1AL21-10'],\n  'fr-ch': ['1mF3-5'],\n}\n\nfunction pointVersTex(A: PointAbstrait): string {\n  return `${A.nom}\\\\left(${A.x} ; ${A.y}\\\\right)`\n}\n\nfunction affineInterpolation(xA: number, yA: number, xB: number, yB: number) {\n  // Renvoie l'expression d'une fonction affine dont la courbe représentative\n  // passe par les points A(xA, yA), et B(xB, yB).\n  const m = engine.parse(`(${yB} - ${yA})/(${xB} - ${xA})`, {\n    canonical: false,\n  })\n  const p = engine.parse(`${yA} - ${m.evaluate()}*${xA}`)\n  return engine.box(['Add', ['Multiply', m, 'x'], p]).simplify()\n}\n\nfunction polynomeInterpolation(\n  r1: number,\n  r2: number,\n  x: number,\n  fdex: SemiBoxedExpression,\n  fname: string = 'f',\n  dansRacine: boolean = false,\n) {\n  // Renvoie la fonction polynomiale p de degré 2 telle que f(r1) = f(r2) = 0, et f(x) = fdex.\n  // fdex est soit un nombre numérique soit une BoxExpression\n  // Renvoie également les détails de à la résolution de ce problème.\n  fdex =\n    typeof fdex === 'number' || typeof fdex === 'string'\n      ? engine.box(fdex)\n      : (fdex as BoxedExpression).simplify() // fdex est une BoxedExpression\n  const a = engine.box(\n    ['Rational', fdex, ['Multiply', ['Add', x, -r1], ['Add', x, -r2]]],\n    { canonical: false },\n  )\n  let f = engine.parse(`a(x - ${r1})(x - ${r2})`, { canonical: false }) // on définit f sous forme factorisée\n  let details = ''\n  details += `Comme $${fname}\\\\left(${r1}\\\\right) = 0$ et $${fname}\\\\left(${r2}\\\\right) = 0$, $${r1}$ et $${r2}$ sont des racines de $${fname}$.<br>`\n  details += `On peut donc écrire $${fname}$ sous forme factorisée.`\n  details += `\\\\[${fname}(x) = ${f.latex}\\\\]`\n  details += `On sait de plus que $${fname}(${x}) = ${fdex.latex}$. Donc : `\n  const replacex = f.subs({ x }, { canonical: false }) // On utilise l'information f(x) = fdex\n  details += `\\\\[${fdex.latex} = ${fname}(${x}) = ${replacex.latex} \\\\]`\n  details += `On trouve alors : $a = ${a.latex} =  ${a.canonical.evaluate().latex}$.<br>La forme factorisée de $${fname}$ est donc :`\n  f = f.subs({ a: a.canonical.evaluate() })\n  details += `\\\\[${fname}(x) = ${f.latex}\\\\]`\n  details += `On développe et on trouve $${fname}(x) = ${miseEnEvidence(f.canonical.evaluate().latex, dansRacine ? orangeMathalea : bleuMathalea)}$.`\n  return {\n    details,\n    reponse: f,\n  }\n}\n\nfunction questionRacine() {\n  const a = randint(-5, 5)\n  const b = randint(-5, 5, [a])\n  const c = randint(-5, 5, [a, b])\n  const h = randint(-10, 10, [0])\n  let texte = ''\n  // texte += `Soient $a = ${a}$, $b = ${b}$, et $c = ${c}$. `\n  texte +=\n    '$f$ est une fonction polynomiale de degré $2$ définie sur $\\\\mathbb{R}$.<br> '\n  texte += `On suppose que $f(${a}) = f(${b}) = 0$, et que $f(${c}) = ${h}$. <br>`\n  texte += 'Déterminer la forme développée de $f$.'\n\n  return [\n    texte,\n    polynomeInterpolation(a, b, c, h, 'f', true).details,\n    a,\n    b,\n    c,\n    h,\n  ]\n}\n\nfunction questionInterpolation() {\n  const ax = randint(-7, -3)\n  const ay = randint(-5, 5)\n  const A = new PointAbstrait(ax, ay, 'A')\n  const bx = randint(-2, 2, [ax])\n  const by = randint(-5, 5, [ay])\n  const B = new PointAbstrait(bx, by, 'B')\n  const cx = randint(-2, 7, [ax, bx])\n  const cy = randint(-5, 5, [ay, by])\n  const C = new PointAbstrait(cx, cy, 'C')\n  let texte = ''\n  texte += `Soient les points $${pointVersTex(A)}$, $${pointVersTex(B)}$, et $${pointVersTex(C)}$. <br>`\n  texte +=\n    'Soit $f$ la fonction polynomiale de degré $2$ définie sur $\\\\mathbb{R}$ dont la courbe représentative $\\\\mathcal{C}_f$ passe par les points $A$, $B$ et $C$. <br>'\n  const g = affineInterpolation(ax, ay, cx, cy)\n  texte += `On note $g$ la fonction définie par : \\\\[g(x) = ${g.latex}\\\\]`\n  texte +=\n    'On note $h$ la fonction polynomiale de degré $2$ définie sur $\\\\mathbb{R}$ par : $h(x) = f(x) - g(x)$'\n  texte += `<br> ${numAlpha(0)} Vérifier que $h(${ax}) = h(${cx}) = 0$. Que vaut $h(${bx})$ ?`\n  texte += `<br> ${numAlpha(1)} En déduire la forme développée de $h$, puis la forme développée de $f$. `\n\n  const gax = g.subs({ x: ax }, { canonical: false })\n  const gbx = g.subs({ x: bx }, { canonical: false })\n  const { details, reponse: h } = polynomeInterpolation(\n    ax,\n    cx,\n    bx,\n    engine.parse(`${by} - ${gbx.simplify().latex}`),\n    'h',\n  )\n  const hax = h.subs({ x: ax }, { canonical: false })\n  const hbx = h.subs({ x: bx }, { canonical: false })\n  const hcx = h.subs({ x: cx }, { canonical: false })\n  const f = engine.box(['Add', h, g])\n\n  let texteCorr = `${numAlpha(0)} On a : \\\\[h(${ax}) = f(${ax}) - g(${ax}) = ${ay} - \\\\left(${gax.latex}\\\\right) = ${hax.simplify()}\\\\]`\n  texteCorr += `De même on a $h(${cx}) = ${hcx.simplify().latex}$. `\n  texteCorr += `Enfin, on a : \\\\[h(${bx}) = f(${bx}) - g(${bx}) = ${by} - \\\\left(${gbx.latex}\\\\right) = ${miseEnEvidence(hbx.simplify().latex)}\\\\] `\n  texteCorr += `<br> ${numAlpha(1)}`\n  texteCorr += details\n  texteCorr += `<br> Comme $f(x) = h(x) + g(x)$, on trouve $f(x) = ${miseEnEvidence(f.simplify().latex)}$.`\n  return [texte, texteCorr, ax, ay, bx, by]\n}\n\nexport default class RacineInterpolation extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 2\n    this.besoinFormulaireNumerique = [\n      'Type de question',\n      3,\n      '1 : Racine\\n2 : Interpolation\\n3 : Mélange',\n    ]\n    this.sup = 3\n  }\n\n  nouvelleVersion() {\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const [texte, texteCorr, ax, ay, bx, by] =\n        this.sup === 1\n          ? questionRacine()\n          : this.sup === 2\n            ? questionInterpolation()\n            : i % 2 === 0\n              ? questionRacine()\n              : questionInterpolation()\n      if (this.questionJamaisPosee(i, ax, ay, bx, by)) {\n        this.listeQuestions[i] = String(texte)\n        this.listeCorrections[i] = String(texteCorr).replace(\n          /\\\\frac/g,\n          '\\\\dfrac',\n        )\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","uuid","refs","pointVersTex","A","affineInterpolation","xA","yA","xB","yB","m","engine","p","polynomeInterpolation","r1","r2","x","fdex","fname","dansRacine","a","f","details","replacex","miseEnEvidence","orangeMathalea","bleuMathalea","questionRacine","randint","b","c","h","texte","questionInterpolation","ax","ay","PointAbstrait","bx","by","B","cx","cy","C","g","numAlpha","gax","gbx","hax","hbx","hcx","texteCorr","RacineInterpolation","Exercice","i","cpt","listeQuestionsToContenu"],"mappings":"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"}