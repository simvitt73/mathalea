{"version":3,"file":"P013-CC5TIorP.js","sources":["../../src/exercices/profs/P013.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport { courbeInterpolee } from '../../lib/2d/CourbeInterpolee.1'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { repere } from '../../lib/2d/reperes'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport Exercice from '../Exercice'\nexport const titre = 'Interpolation cosinusoïdale'\n\nexport const refs = {\n  'fr-fr': ['P013'],\n  'fr-ch': [],\n}\nexport const uuid = '5b767'\n\n/**\n * Trace une courbe interpolee par portions cosinusoïdales.\n * @author Jean-Claude Lhote\n\n*/\nexport function valideListeOfPoints(liste: string): boolean {\n  const points = liste.split('/')\n  if (points.length < 2) {\n    return false\n  }\n  for (let i = 0; i < points.length; i++) {\n    const coords = points[i].split(';')\n    if (coords.length !== 2) {\n      return false\n    }\n    const x = parseFloat(coords[0].substring(1))\n    const y = parseFloat(coords[1].substring(0, coords[1].length - 1))\n    if (isNaN(x) || isNaN(y)) {\n      return false\n    }\n  }\n  return true\n}\nexport default class TraceCourbeInterpolee1 extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Liste des points (au moins deux) sous la forme: (x0;y0)/(x1;y1)/...',\n      '',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Afficher les points ', true]\n    this.besoinFormulaire3Numerique = [\n      'Modèles de couleur ',\n      3,\n      '1 : Points rouges sur courbe noire\\n2 : Points bleus sur courbe rouge\\n3 : Points verts sur courbe bleue',\n    ]\n\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.sup = '(-5;0)/(0;5)/(5;0)' // liste de points\n    this.sup2 = true\n    this.sup3 = 1\n  }\n\n  nouvelleVersion() {\n    if (\n      this.sup === undefined ||\n      typeof this.sup !== 'string' ||\n      this.sup.trim() === ''\n    ) {\n      this.sup = '(-5;0)/(0;5)/(5;0)'\n    }\n    if (!valideListeOfPoints(this.sup)) {\n      this.sup = '(-5;0)/(0;5)/(5;0)'\n    }\n    const liste = this.sup.split('/')\n    const points = []\n    const objets = []\n    const couleurs = [\n      { colPoint: 'red', colCourbe: 'black' },\n      { colPoint: 'blue', colCourbe: 'red' },\n      { colPoint: 'green', colCourbe: 'blue' },\n    ]\n    for (let i = 0, coords; i < liste.length; i++) {\n      coords = liste[i].split(';')\n      if (coords.length !== 2) {\n        continue\n      }\n      const x = parseFloat(coords[0].substring(1))\n      const y = parseFloat(coords[1].substring(0, coords[1].length - 1))\n      if (isNaN(x) || isNaN(y)) {\n        continue\n      }\n      points.push([x, y])\n    }\n    if (points.length < 2) {\n      exit.call(this)\n      return\n    }\n    let xMin = 100\n    let xMax = -100\n    let yMin = 100\n    let yMax = -100\n    for (let i = 0; i < points.length; i++) {\n      xMin = Math.min(xMin, points[i][0])\n      xMax = Math.max(xMax, points[i][0])\n      yMin = Math.min(yMin, points[i][1])\n      yMax = Math.max(yMax, points[i][1])\n    }\n    const r = repere({\n      xMin: xMin - 1,\n      xMax: xMax + 1,\n      yMin: yMin - 1,\n      yMax: yMax + 1,\n    })\n    const c = courbeInterpolee(points, {\n      color: couleurs[parseInt(this.sup3) - 1].colCourbe,\n      epaisseur: 2,\n      repere: r,\n      xMin,\n      xMax,\n    })\n    objets.push(r, c)\n    if (this.sup2) {\n      for (let i = 0, p; i < points.length; i++) {\n        p = tracePoint(point(points[i][0], points[i][1]))\n        p.style = '+'\n        p.epaisseur = 2\n        p.color = colorToLatexOrHTML(couleurs[parseInt(this.sup3) - 1].colPoint)\n        objets.push(p)\n      }\n    }\n    this.contenu = mathalea2d(fixeBordures(objets), objets)\n    this.listeQuestions[0] = this.contenu\n  }\n}\n\nfunction exit(this: TraceCourbeInterpolee1) {\n  this.listeQuestions[0] = \"La liste de points n'est pas correctement formatée.\"\n}\n"],"names":["titre","refs","uuid","valideListeOfPoints","liste","points","i","coords","x","y","TraceCourbeInterpolee1","Exercice","objets","couleurs","exit","xMin","xMax","yMin","yMax","r","repere","c","courbeInterpolee","p","tracePoint","point","colorToLatexOrHTML","mathalea2d","fixeBordures"],"mappings":"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"}