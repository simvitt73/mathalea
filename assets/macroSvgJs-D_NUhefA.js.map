{"version":3,"file":"macroSvgJs-D_NUhefA.js","sources":["../../src/modules/machines.js","../../src/modules/macroSvgJs.js"],"sourcesContent":["/**\n * Crée une machine mathématique Tikz pour la version LaTeX\n * @param {string} nom nom de la machine en mode maths!\n * @param {string} etape1 chaine en mode maths attention aux espaces et accents\n * @param {string} etape2 chaine en mode maths attention aux espaces et accents\n * @param {string} etape3 chaine en mode maths attention aux espaces et accents\n * @param {string} xLigne1 chaine en mode maths attention aux espaces et accents\n * @param {string} xLigne2 chaine en mode maths attention aux espaces et accents\n * @param {string} yLigne1 chaine en mode maths attention aux espaces et accents\n * @param {string} yLigne2 chaine en mode maths attention aux espaces et accents\n * @author Sébastien Lozano\n */\n\nexport function tikzMachineMaths(\n  nom,\n  etape1,\n  etape2,\n  etape3,\n  xLigne1,\n  xLigne2,\n  yLigne1,\n  yLigne2,\n) {\n  // tous les textes sont en mode maths !!!\n  return `\n  \\\\setbox0\\\\box\\\\csname@mpfootins\\\\endcsname\n  \\\\definecolor{frvzsz}{rgb}{0.9450980392156862,0.34901960784313724,0.1607843137254902}\n  \\\\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm,scale=0.8]\n  \\\\draw [line width=3pt,color=frvzsz] (-4,4)-- (2,4);\n  \\\\draw [line width=3pt,color=frvzsz] (2,4)-- (2,0);\n  \\\\draw [line width=3pt,color=frvzsz] (2,0)-- (-4,0);\n  \\\\draw [line width=3pt,color=frvzsz] (-4,0)-- (-4,4);\n  \\\\draw [line width=3pt,color=frvzsz] (-4,2)-- (-5,2);\n  \\\\draw [line width=3pt,color=frvzsz] (-5,2.4)-- (-5,1.6);\n  \\\\draw [->,line width=3pt,color=frvzsz] (2,2) -- (3,2);\n  \\\\node[text centered] at(-1,3.5){\\\\Large $\\\\mathbf{machine\\\\,${nom}}$};\n  \\\\node[text centered] at(-1,2.8){\\\\Large $\\\\mathbf{${etape1}}$};\n  \\\\node[text centered] at(-1,2.3){\\\\Large $${etape2}$};\n  \\\\node[text width=3cm,text centered] at(-1,1.6){\\\\Large  $${etape3}$};\n  \\\\node[text width=3cm,text centered] at(-9,2.5) {\\\\Large  $\\\\mathbf{${xLigne1}}$};\n  \\\\node[text width=3cm,text centered] at(-9,1.5) {\\\\Large $\\\\mathbf{${xLigne2}}$};\n  \\\\fill [line width=3pt,color=frvzsz] (-6,2) -- (-6.5,1) -- (-5.5,2) -- (-6.5,3) -- cycle;\n  %\\\\fill [line width=3pt,color=frvzsz] (1,2) -- (0.5,1) -- (1.5,2) -- (0.5,3) -- cycle;\n  \\\\node[text centered] at(5.5,2.5) {\\\\Large  $\\\\mathbf{${yLigne1}}$};\n  \\\\node[text centered] at(5.5,1.5) {\\\\Large  $\\\\mathbf{${yLigne2}}$};\n  \\\\fill [line width=3pt,color=frvzsz] (3.5,2) -- (3,1) -- (4,2) -- (3,3) -- cycle;\n  \\\\end{tikzpicture}\n  \\\\global\\\\setbox\\\\csname@mpfootins\\\\endcsname\\\\box0\n  `\n}\n\n/**\n * Crée un diagramme tikz pour une machine maths\n * @param {string} nom nom de la fonction\n * @param {string} xAnt nom du nombre de départ\n * @param {array} etapesExpressions tableau contenant les etapes et le expressions algébriques\n * attention mode maths pour les chaines\n * @author Sébastien Lozano\n */\nexport function tikzMachineDiag(nom, xAnt, etapesExpressions) {\n  const xInit = -10\n  let saut = 0\n  const pas = 1\n  let sortie = ''\n  sortie +=\n    `\n  \\\\definecolor{frvzsz}{rgb}{0.9450980392156862,0.34901960784313724,0.1607843137254902}\n  \\\\setbox0\\\\box\\\\csname@mpfootins\\\\endcsname\n  \\\\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1cm,y=1cm]\n  \\\\draw [line width=3pt,color=frvzsz] (` +\n    xInit +\n    ',0.5) -- (' +\n    (xInit + pas) +\n    ',0.5) -- (' +\n    (xInit + pas) +\n    ',-0.5) -- (' +\n    xInit +\n    `,-0.5) -- cycle;\n  \\\\node[text width=3cm,text centered, scale=1] at(` +\n    (xInit + 0.5) +\n    `,0){$${xAnt}$};\n  `\n  saut = saut + pas\n  for (let i = 0; i < etapesExpressions.length; i++) {\n    // si la longueur du tableau des etapes vaut i+1 c'est que c'est la derniere\n    // on affiche donc chaque fois avec le nom de la fonction\n    if (etapesExpressions.length === i + 1) {\n      // si il y a une operation et une expression algébrique\n      if (\n        typeof etapesExpressions[i][0] !== 'undefined' &&\n        typeof etapesExpressions[i][1] !== 'undefined'\n      ) {\n        const wEtape = `${nom}(x)=${etapesExpressions[i][1]}}`.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          `,0) circle(0.5);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$${etapesExpressions[i][0]}$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',0.5) -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',0.5) -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-0.5) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,-0.5) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$${nom}(` +\n          xAnt +\n          `)=${etapesExpressions[i][1]}$};\n        `\n      }\n      // si il y a une operation et pas d'expression algébrique\n      if (\n        typeof etapesExpressions[i][0] !== 'undefined' &&\n        typeof etapesExpressions[i][1] === 'undefined'\n      ) {\n        const wEtape = `${nom}(x)=\\\\ldots`.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$${etapesExpressions[i][0]}$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$${nom}(` +\n          xAnt +\n          `)=\\\\ldots$};\n        `\n      }\n      // si il n'y a pas d'operation mais une expression algébrique\n      if (\n        typeof etapesExpressions[i][0] === 'undefined' &&\n        typeof etapesExpressions[i][1] !== 'undefined'\n      ) {\n        const wEtape = `${nom}(x)=${etapesExpressions[i][1]}`.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$\\\\ldots$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$${nom}(` +\n          xAnt +\n          `)=${etapesExpressions[i][1]}$};\n        `\n      }\n      // si il n'y ni une operation et ni expression algébrique\n      if (\n        typeof etapesExpressions[i][0] === 'undefined' &&\n        typeof etapesExpressions[i][1] === 'undefined'\n      ) {\n        const wEtape = `${nom}(x)=\\\\ldots`.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$\\\\ldots$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$${nom}(` +\n          xAnt +\n          `)=\\\\ldots$};\n        `\n      }\n    } else {\n      // sinon c'est une étape intermédiaire\n      // si il y a une operation et une expression algébrique\n      if (\n        typeof etapesExpressions[i][0] !== 'undefined' &&\n        typeof etapesExpressions[i][1] !== 'undefined'\n      ) {\n        const wEtape = `${etapesExpressions[i][1]}`.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$${etapesExpressions[i][0]}$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$${etapesExpressions[i][1]}$};\n        `\n        saut = saut + 3 * pas + wEtape / 4\n      }\n      // si il y a une operation et pas d'expression algébrique\n      if (\n        typeof etapesExpressions[i][0] !== 'undefined' &&\n        typeof etapesExpressions[i][1] === 'undefined'\n      ) {\n        const wEtape = '\\\\ldots'.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$${etapesExpressions[i][0]}$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$\\\\ldots$};\n        `\n        saut = saut + 3 * pas + wEtape / 4\n      }\n      // si il n'y a pas d'operation mais une expression algébrique\n      if (\n        typeof etapesExpressions[i][0] === 'undefined' &&\n        typeof etapesExpressions[i][1] !== 'undefined'\n      ) {\n        const wEtape = `${etapesExpressions[i][1]}`.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$\\\\ldots$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$${etapesExpressions[i][1]}$};\n        `\n        saut = saut + 3 * pas + wEtape / 4\n      }\n      // si il n'y ni une operation et ni expression algébrique\n      if (\n        typeof etapesExpressions[i][0] === 'undefined' &&\n        typeof etapesExpressions[i][1] === 'undefined'\n      ) {\n        const wEtape = '\\\\ldots'.length\n        sortie +=\n          `\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut) +\n          ',0) -- (' +\n          (xInit + saut + pas / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + pas) +\n          ',0) circle(' +\n          pas / 2 +\n          `);\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + pas) +\n          `,0){$\\\\ldots$};\n        \\\\draw [->,line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (3 * pas) / 2) +\n          ',0) -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          `,0);\n        \\\\draw [line width=3pt,color=frvzsz] (` +\n          (xInit + saut + (5 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + wEtape / 4 + (6 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          ') -- (' +\n          (xInit + saut + (5 * pas) / 2) +\n          ',-' +\n          pas / 2 +\n          `) -- cycle;\n        \\\\node [text width=3cm,text centered, scale=1] at(` +\n          (xInit + saut + wEtape / 8 + (5.5 * pas) / 2) +\n          `,0){$\\\\ldots$};\n        `\n        saut = saut + 3 * pas + wEtape / 4\n      }\n    }\n  }\n  sortie += `\n  \\\\end{tikzpicture}\n  \\\\global\\\\setbox\\\\csname@mpfootins\\\\endcsname\\\\box0\n  `\n  return sortie\n}\n\n/**\n * crée un cadre orange autour d'un paragraphe\n * utilisé notamment dans 3F12 pour entourer les programmes de calcul\n * @param {string} texte paragraphe entouré par le cadre orange rectangulaire\n * @author Sébastien Lozano\n */\n\nexport function texCadreParOrange(texte) {\n  // \\\\definecolor{orangeCoop}{rgb}{0.9450980392156862,0.34901960784313724,0.1607843137254902}\n  return (\n    `\n   \n   \\\\setlength{\\\\fboxrule}{1.5mm}\n   \\\\par\\\\vspace{0.25cm}\n   \\\\noindent\\\\fcolorbox{nombres}{white}{\\\\parbox{\\\\linewidth-2\\\\fboxrule-2\\\\fboxsep}{` +\n    texte +\n    `}}\n   \\\\par\\\\vspace{0.25cm}\n   `\n  )\n}\n\n/**\n * affiche une video centrée dans une div\n * ATTENTION BUG SVG DONC LES ANIMATIONS SONT FILMEES A PARTIR DE CELLES GENEREES PAR LA FONCTION SVG_machine_maths() SOUS FIREFOX\n * DE FACON A AVOIR UN RENDU UNIFORME QUEL QUE SOIT LE NAVIGATEUR ON REND LES ANIMATIONS PAR DES VIDEOS\n * ON LAISSE LA PIROUETTE DE DETECTION DU USERAGENT EN COMMENTAIRE EN ATTENDANT DE TROUVER UNE SOLUTION DE RENDU LATEX DANS SVG UNIVERSELLE\n * @param {string} urlVideo\n * @author Sébastien Lozano\n */\n\nexport function machineMathsVideo(urlVideo) {\n  return (\n    `\n  <div style=\"text-align:center\">\n  <video width=\"560\" height=\"100%\"  loop autoplay muted style=\"max-width: 100%\" >\n    <source src=\"` +\n    urlVideo +\n    `\">\n    Votre navigateur ne gère pas l'élément <code>video</code>.\n  </video>\n  </div>`\n  )\n}\n","/* eslint-disable camelcase */\nimport katex from 'katex'\nimport { SVG } from '@svgdotjs/svg.js'\n// import { context } from './context'\nimport { arrondi } from '../lib/outils/nombres'\n\n/**\n * Renvoie deux engrenages en HTML\n * @author Sébastien Lozano\n\nexport function svgEngrenages () {\n  class SvgEngrenage extends HTMLElement {\n    constructor () {\n      super()\n      const shadowRoot = this.attachShadow({ mode: 'closed' })\n      const w = this.hasAttribute('width') ? this.getAttribute('width') : 120\n      const h = this.hasAttribute('height') ? this.getAttribute('height') : 128\n      shadowRoot.innerHTML = `\n      <svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"${w}pt\" height=\"${h}pt\" viewBox=\"0 0 ${w} ${h}\"\n      preserveAspectRatio=\"xMidYMid meet\">\n     <g transform=\"translate(0,${h}) scale(0.01,-0.01)\"\n     fill=\"#000000\" stroke=\"none\">\n     <path d=\"M8500 12793 c-203 -19 -252 -24 -264 -29 -21 -8 -67 -401 -84 -718\n     l-7 -129 -110 -27 c-60 -15 -144 -41 -185 -58 -105 -43 -337 -154 -397 -191\n     -28 -17 -53 -31 -55 -31 -3 0 -151 120 -329 266 -178 146 -330 268 -336 271\n     -24 10 -229 -164 -382 -323 -147 -152 -315 -362 -303 -377 43 -57 207 -259\n     347 -427 94 -113 175 -211 179 -218 4 -8 -9 -38 -34 -78 -67 -106 -145 -271\n     -180 -379 -18 -55 -43 -132 -56 -172 -13 -39 -24 -78 -24 -86 0 -11 -19 -16\n     -72 -21 -390 -36 -765 -79 -775 -90 -31 -30 -51 -432 -34 -649 12 -151 35\n     -315 46 -325 4 -5 299 -34 757 -77 l77 -7 6 -41 c4 -23 15 -62 25 -87 10 -25\n     34 -97 54 -161 39 -121 120 -293 187 -393 22 -33 38 -65 35 -73 -3 -7 -83\n     -106 -179 -220 -264 -316 -348 -423 -340 -436 34 -60 195 -249 308 -363 149\n     -150 382 -344 393 -328 4 6 99 86 212 179 113 93 250 207 305 254 55 48 107\n     92 117 99 14 11 33 4 130 -51 134 -76 299 -144 459 -187 63 -17 121 -35 127\n     -39 8 -5 23 -109 42 -302 30 -293 57 -524 64 -545 8 -21 310 -37 569 -31 206\n     5 407 24 423 39 2 3 20 180 39 394 20 214 38 404 41 422 6 38 4 37 177 88 145\n     43 338 128 455 201 47 30 90 52 96 49 6 -2 67 -52 136 -111 232 -200 522 -426\n     537 -421 27 11 138 96 200 153 129 120 483 521 483 547 0 3 -114 141 -252 307\n     -139 165 -263 313 -275 328 l-22 27 59 114 c79 151 156 344 189 471 l26 104\n     185 17 c102 9 294 27 427 39 l242 23 6 26 c13 63 26 219 31 380 9 237 -17 582\n     -44 599 -7 4 -197 24 -424 45 -227 21 -416 40 -420 42 -4 2 -12 30 -18 62 -27\n     137 -115 364 -206 533 l-65 121 38 46 c21 26 139 171 264 323 124 152 229 281\n     233 288 8 12 -71 113 -203 260 -146 162 -481 451 -504 434 -83 -63 -382 -305\n     -487 -394 -75 -62 -142 -119 -151 -126 -12 -10 -54 7 -229 96 -153 76 -247\n     116 -325 139 -60 18 -120 32 -132 32 -25 0 -25 -3 -49 255 -17 191 -64 608\n     -68 612 -8 8 -126 23 -252 32 -130 10 -372 12 -454 4z m455 -2094 c217 -36\n     427 -151 610 -333 179 -178 289 -374 335 -601 104 -501 -99 -998 -520 -1276\n     -192 -127 -378 -186 -616 -196 -222 -10 -388 24 -579 117 -239 117 -419 293\n     -546 534 -96 183 -134 343 -133 571 1 281 77 507 244 723 212 275 500 446 795\n     471 111 9 329 4 410 -10z\"/>\n     <path d=\"M8500 10521 c-365 -80 -663 -359 -777 -727 -25 -83 -27 -101 -27\n     -279 -1 -207 4 -238 65 -396 65 -169 235 -378 398 -488 90 -61 214 -117 317\n     -143 128 -32 372 -32 490 0 140 38 241 86 354 170 320 238 473 583 430 970\n     -27 250 -124 448 -301 617 -134 128 -274 210 -448 262 -119 35 -371 43 -501\n     14z m382 -256 c228 -48 440 -209 537 -407 17 -35 41 -101 52 -147 18 -73 21\n     -105 17 -235 -4 -132 -8 -161 -34 -236 -76 -227 -298 -429 -546 -496 -76 -21\n     -290 -24 -358 -5 -147 40 -267 110 -374 217 -45 44 -96 106 -115 137 -222 373\n     -105 862 259 1078 74 43 186 87 260 99 75 13 231 10 302 -5z\"/>\n     <path d=\"M4716 8448 c-75 -191 -162 -428 -251 -680 l-98 -278 -122 0 c-231 0\n     -583 -47 -788 -106 -70 -20 -129 -35 -131 -33 -1 2 -36 51 -77 109 -140 200\n     -570 790 -575 790 -10 0 -181 -68 -219 -88 -22 -11 -74 -36 -115 -56 -41 -19\n     -120 -61 -175 -94 -55 -32 -148 -87 -207 -122 -105 -62 -250 -166 -342 -245\n     l-46 -41 120 -259 c67 -143 171 -367 232 -498 l111 -238 -76 -77 c-196 -200\n     -433 -511 -513 -675 -16 -32 -32 -57 -37 -57 -4 0 -146 24 -315 54 -329 58\n     -773 129 -777 124 -8 -8 -103 -248 -140 -353 -51 -146 -135 -558 -170 -840\n     l-6 -50 508 -195 508 -195 2 -95 c4 -171 23 -381 44 -489 11 -58 27 -141 35\n     -183 8 -43 26 -116 39 -163 14 -47 25 -92 25 -100 0 -7 -93 -80 -207 -161\n     -115 -81 -313 -224 -441 -318 -208 -152 -232 -173 -227 -193 22 -88 216 -464\n     346 -672 74 -116 223 -330 264 -378 l30 -34 175 81 c172 81 736 339 796 365\n     l30 14 135 -125 c169 -158 253 -221 482 -361 138 -84 182 -116 180 -130 -1\n     -10 -22 -142 -47 -293 -44 -266 -116 -748 -116 -773 0 -7 15 -18 33 -26 225\n     -90 426 -152 715 -220 193 -46 473 -94 483 -83 18 20 261 659 355 929 l38 113\n     152 0 c262 0 447 26 712 102 122 34 146 38 157 27 7 -8 153 -212 325 -454 172\n     -242 314 -442 316 -443 3 -4 91 37 361 170 112 55 243 130 345 197 145 96 331\n     233 381 281 18 16 15 25 -81 241 -55 123 -159 350 -230 504 l-130 279 117 126\n     c160 170 305 368 405 552 25 48 50 89 54 91 4 2 95 -11 202 -29 559 -94 883\n     -145 894 -141 22 9 178 453 221 627 8 36 20 75 25 87 9 21 73 382 84 475 l6\n     47 -48 21 c-62 28 -480 186 -764 290 l-228 83 0 156 c0 179 -10 281 -41 448\n     -18 99 -67 314 -85 375 -4 12 44 51 188 154 217 155 695 511 703 525 7 11 -61\n     171 -143 334 -116 233 -266 468 -424 667 l-77 97 -133 -58 c-184 -81 -480\n     -217 -687 -317 l-173 -84 -134 127 c-142 134 -314 268 -429 336 -60 35 -183\n     116 -208 137 -4 4 11 123 33 266 112 714 131 836 128 839 -2 1 -73 29 -158 62\n     -180 70 -399 143 -431 143 -12 0 -47 9 -78 19 -80 28 -488 110 -546 111 -16 0\n     -26 -16 -49 -72z m-181 -2623 c276 -49 564 -184 772 -363 246 -212 460 -599\n     518 -936 22 -127 20 -347 -4 -488 -44 -255 -154 -525 -285 -698 -231 -307\n     -631 -548 -1020 -615 -114 -19 -334 -19 -454 0 -228 37 -486 130 -646 233\n     -356 230 -620 625 -702 1052 -24 127 -24 358 0 495 90 509 329 862 761 1126\n     114 70 293 142 430 175 193 46 439 53 630 19z\"/>\n     <path d=\"M4175 5623 c-215 -25 -337 -62 -515 -154 -350 -181 -559 -444 -665\n     -838 -50 -184 -58 -241 -59 -391 0 -142 16 -252 55 -371 24 -74 109 -259 119\n     -259 3 0 34 -42 67 -92 148 -223 355 -389 609 -488 506 -198 1037 -94 1437\n     280 180 168 328 436 378 682 69 343 12 664 -173 974 -199 335 -459 524 -858\n     623 -134 33 -292 47 -395 34z m345 -374 c312 -78 532 -261 681 -565 68 -141\n     83 -214 83 -409 0 -199 -15 -270 -90 -424 -55 -115 -112 -196 -195 -279 -290\n     -285 -627 -368 -1024 -252 -258 75 -462 253 -595 519 -127 254 -139 573 -33\n     816 105 236 289 424 525 535 217 102 408 119 648 59z\"/>\n     </g>\n     </svg>\n      `\n    }\n  }\n  if (context.isHtml) {\n    // Si le customElement n'existe pas dans le registre, on le crée\n    if (customElements.get('svg-engrenage') === undefined) {\n      customElements.define('svg-engrenage', SvgEngrenage)\n    }\n  }\n}\n*/\n/**\n * Crée un diagramme pour une fonction arithmétique à deux étapes produit puis somme\n * @param {string} id_du_div id du div contenant le SVG\n * @param {number} w largeur du div du svg\n * @param {numer} h hauteur du div du svg\n * @param {string} nom nom de la fonction\n * @param {string} xAnt antécédent de départ\n * @param {array} etapesExpressions tableau contenant les opérations et les expressions algébriques des étapes\n * @author Sébastien Lozano\n */\nexport function SvgMachineDiag3F12(\n  id_du_div,\n  w,\n  h,\n  nom,\n  xAnt,\n  etapesExpressions,\n) {\n  const interligne = 10 // w/80; //h/10; // unité d'espacement\n  // if (!window.SVGExist) { window.SVGExist = {} } // Si SVGExist n'existe pas on le créé\n  // SVGExist est un dictionnaire dans lequel on stocke les listenner sur la création des div\n  // window.SVGExist[id_du_div] = setInterval(function () {\n  // if (document.querySelector(`#${id_du_div}`)) {\n  //   document.querySelector(`#${id_du_div}`).innerHTML = ''// Vide le div pour éviter les SVG en doublon\n  const style = 'display: block'\n  let xTexte = arrondi((2.5 - 0) * interligne, 1)\n  let yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divAnt = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString(xAnt)}</div>`\n\n  xTexte = arrondi((9 - 0) * interligne, 1)\n  yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divFunc = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString('\\\\times' + etapesExpressions[0][0])}</div>`\n\n  xTexte = arrondi((17 - 0) * interligne, 1)\n  yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divIm = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString(etapesExpressions[0][0] + '\\\\times ' + xAnt)}</div>`\n\n  xTexte = arrondi((25 - 0) * interligne, 1)\n  yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divFunc2 = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString('+' + etapesExpressions[1][0])}</div>`\n\n  xTexte = arrondi((36 - 0) * interligne, 1)\n  yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divIm2 = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString(nom + '(' + xAnt + ') = ' + etapesExpressions[0][0] + '\\\\times ' + xAnt + '+' + etapesExpressions[1][0])}</div>`\n\n  return (\n    `<div class=\"svgContainer\" ${style ? `style=\"${style}\"` : ''}><div style=\"position: relative;\">\n                <svg class=\"mathalea2d\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 ` +\n    w +\n    ' ' +\n    h +\n    '\" width=\"' +\n    w +\n    '\" height=\"' +\n    h +\n    `\">\n                  <g>\n                      <path d=\"M0 ` +\n    5 * interligne +\n    'L0 ' +\n    3 * interligne +\n    'L' +\n    5 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    5 * interligne +\n    ' ' +\n    7 * interligne +\n    'L0 ' +\n    7 * interligne +\n    `Z \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                          \n                  </g>\n                  <g>\n                      <line x1=\"` +\n    5 * interligne +\n    '\" y1=\"' +\n    5 * interligne +\n    '\" x2=\"' +\n    7 * interligne +\n    '\" y2=\"' +\n    5 * interligne +\n    `\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </line>\n                      <circle r=\"` +\n    2 * interligne +\n    '\" cx=\"' +\n    9 * interligne +\n    '\" cy=\"' +\n    5 * interligne +\n    `\" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </circle>\n                      <path d=\"M` +\n    11 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    13 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    (13 * interligne - interligne / 2) +\n    ' ' +\n    (5 * interligne - interligne / 2) +\n    'M' +\n    13 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    (13 * interligne - interligne / 2) +\n    ' ' +\n    (5 * interligne + interligne / 2) +\n    ` \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                          \n                  </g>\n                  <g>\n                      <path d=\"M` +\n    13 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    13 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    21 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    21 * interligne +\n    ' ' +\n    7 * interligne +\n    'L' +\n    13 * interligne +\n    ' ' +\n    7 * interligne +\n    `Z \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                          \n                  </g>\n                  <g>\n                      <line x1=\"` +\n    21 * interligne +\n    '\" y1=\"' +\n    5 * interligne +\n    '\" x2=\"' +\n    23 * interligne +\n    '\" y2=\"' +\n    5 * interligne +\n    `\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </line>\n                      <circle r=\"` +\n    2 * interligne +\n    '\" cx=\"' +\n    25 * interligne +\n    '\" cy=\"' +\n    5 * interligne +\n    `\" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </circle>\n                      <path d=\"M` +\n    27 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    29 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    (29 * interligne - interligne / 2) +\n    ' ' +\n    (5 * interligne - interligne / 2) +\n    'M' +\n    29 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    (29 * interligne - interligne / 2) +\n    ' ' +\n    (5 * interligne + interligne / 2) +\n    ` \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                          \n                  </g>\n                  <g>\n                      <path d=\"M` +\n    29 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    29 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    44 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    44 * interligne +\n    ' ' +\n    7 * interligne +\n    'L' +\n    29 * interligne +\n    ' ' +\n    7 * interligne +\n    `Z \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                  \n                  </g>\n              </svg>\n              ${divAnt}\n              ${divFunc}\n            ${divIm}\n            ${divFunc2}\n              ${divIm2}\n              </div>\n              </div>\n              `\n  )\n  // clearInterval(window.SVGExist[id_du_div])// Arrête le timer\n  // }\n  // }, 100) // Vérifie toutes les 100ms\n}\n\n/**\n * Crée une flèche orange pour la fonction machine\n * @param {object} groupe groupe svg\n * @param {string} chemin path pour la ligne\n * @param {string} couleur couleur\n * @author Sébastien Lozano\n */\nexport function SVG_fleche_machine_maths(groupe, chemin, couleur) {\n  return groupe\n    .path(chemin)\n    .fill(couleur)\n    .stroke({ color: couleur, width: 1, linecap: 'round', linejoin: 'null' })\n}\n\n/** Trace un chemin pour un groupe donné avec une couleur donnée\n * @param {object} groupe groupe\n * @param {string} chemin path\n * @param {string} couleur couleur\n * @author Sébastien Lozano\n */\nexport function SVG_chemin(groupe, chemin, couleur) {\n  return groupe\n    .path(chemin)\n    .fill('none')\n    .stroke({ color: couleur, width: 1, linecap: 'round', linejoin: 'null' })\n}\n\n/**\n * Crée un diagramme pour une fonction arithmétique à une étape produit\n * @param {string} id_du_div id du div contenant le SVG\n * @param {number} w largeur du div du svg\n * @param {numer} h hauteur du div du svg\n * @param {string} nom nom de la fonction\n * @param {string} xAnt antécédent de départ\n * @param {array} etapesExpressions tableau contenant les opérations et les expressions algébriques des étapes\n * @author Sébastien Lozano\n */\nexport function SvgMachineDiag3F1ActMono(\n  id_du_div,\n  w,\n  h,\n  nom,\n  xAnt,\n  etapesExpressions,\n) {\n  const interligne = 10 // w/80; //h/10; // unité d'espacement\n  // if (!window.SVGExist) { window.SVGExist = {} } // Si SVGExist n'existe pas on le créé\n  // SVGExist est un dictionnaire dans lequel on stocke les listenner sur la création des div\n  // window.SVGExist[id_du_div] = setInterval(function () {\n  // if (document.querySelector(`#${id_du_div}`)) {\n  // document.querySelector(`#${id_du_div}`).innerHTML = ''// Vide le div pour éviter les SVG en doublon\n\n  const style = 'display: block'\n  let xTexte = arrondi((2.5 - 0) * interligne, 1)\n  let yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divAnt = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString(xAnt)}</div>`\n\n  xTexte = arrondi((9 - 0) * interligne, 1)\n  yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divFunc = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString('\\\\times ' + etapesExpressions[0][0])}</div>`\n\n  xTexte = arrondi((19 - 0) * interligne, 1)\n  yTexte = arrondi(-((2 * h) / 4 - h), 1)\n  const divIm = ` <div class=\"divLatex\" style=\"position: absolute; top: ${yTexte}px; left: ${xTexte}px;transform: translate(-50%,-50%)\" data-top=\"${yTexte}\" data-left=\"${xTexte}\">${katex.renderToString(nom + '(' + xAnt + ') = ' + etapesExpressions[0][0] + '\\\\times ' + xAnt)}</div>`\n\n  return (\n    `<div class=\"svgContainer\" ${style ? `style=\"${style}\"` : ''}><div style=\"position: relative;\">\n              <svg class=\"mathalea2d\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 ` +\n    w +\n    ' ' +\n    h +\n    '\" width=\"' +\n    w +\n    '\" height=\"' +\n    h +\n    `\">\n                  <g>\n                      <path d=\"M0 ` +\n    5 * interligne +\n    'L0 ' +\n    3 * interligne +\n    'L' +\n    5 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    5 * interligne +\n    ' ' +\n    7 * interligne +\n    'L0 ' +\n    7 * interligne +\n    `Z \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>\n                  </g>\n                  <g>\n                      <line x1=\"` +\n    5 * interligne +\n    '\" y1=\"' +\n    5 * interligne +\n    '\" x2=\"' +\n    7 * interligne +\n    '\" y2=\"' +\n    5 * interligne +\n    `\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </line>\n                      <circle r=\"` +\n    2 * interligne +\n    '\" cx=\"' +\n    9 * interligne +\n    '\" cy=\"' +\n    5 * interligne +\n    `\" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </circle>\n                      <path d=\"M` +\n    11 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    13 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    (13 * interligne - interligne / 2) +\n    ' ' +\n    (5 * interligne - interligne / 2) +\n    'M' +\n    13 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    (13 * interligne - interligne / 2) +\n    ' ' +\n    (5 * interligne + interligne / 2) +\n    ` \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                \n                  </g>\n                  <g>\n                      <path d=\"M` +\n    13 * interligne +\n    ' ' +\n    5 * interligne +\n    'L' +\n    13 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    27 * interligne +\n    ' ' +\n    3 * interligne +\n    'L' +\n    27 * interligne +\n    ' ' +\n    7 * interligne +\n    'L' +\n    13 * interligne +\n    ' ' +\n    7 * interligne +\n    `Z \" fill=\"none\" stroke-linejoin=\"null\" stroke-linecap=\"round\" stroke-width=\"3\" stroke=\"#f15929\">\n                      </path>                          \n                  </g>\n              </svg>\n              ${divAnt}\n              ${divFunc}\n              ${divIm}\n              </div>\n              </div>\n                `\n  )\n  // clearInterval(window.SVGExist[id_du_div])// Arrête le timer\n  // }\n  // }, 100) // Vérifie toutes les 100ms\n}\n\n/**\n * Fonction pour particulariser une police svg et ses paramètres\n * @param {string} font\n * @param {string} interligne\n * @param {string} ancre\n * @param {string} f_style\n * @param {string} f_weight\n * @author Sébastien Lozano\n */\nexport function my_svg_font(font, interligne, ancre, f_style, f_weight) {\n  return {\n    family: font,\n    size: interligne,\n    anchor: ancre,\n    style: f_style,\n    //, leading : 0.5\n    weight: f_weight,\n  }\n}\n\n/**\n * Fonction pour créer une machine mathématique SVG, une fonction!\n * gestion du rendu KaTeX temporaire avec insertion manuelle de balises foreignObject pour les textes\n * ATTENTION BUG SVG DONC LES ANIMATIONS SONT FILMEES A PARTIR DE CELLES GENEREES PAR LA FONCTION SVG_machine_maths() SOUS FIREFOX\n * DE FACON A AVOIR UN RENDU UNIFORME QUEL QUE SOIT LE NAVIGATEUR ON REND LES ANIMATIONS PAR DES VIDEOS\n * ON LAISSE LA PIROUETTE DE DETECTION DU USERAGENT EN COMMENTAIRE EN ATTENDANT DE TROUVER UNE SOLUTION DE RENDU LATEX DANS SVG UNIVERSELLE\n * @param {string} id_du_div id_du_div\n * @param {number} w width du svg\n * @param {number} h height du svg\n * @param {string} nom nom de la fonction\n * @param {string} etape1 etape 1 du procédé de calcul\n * @param {string} etape2 etape 2 du procédé de calcul\n * @param {string} etape3 etape 3 du procédé de calcul\n * @param {string} xLigne1 antécédent ligne1\n * @param {string} xLigne2 antécédent ligne2\n * @param {string} yLigne1 image ligne1\n * @param {string} yLigne2 image ligne2\n * @author Sébastien Lozano\n */\nexport function SVG_machine_maths(\n  id_du_div,\n  w,\n  h,\n  nom,\n  etape1,\n  etape2,\n  etape3,\n  xLigne1,\n  xLigne2,\n  yLigne1,\n  yLigne2,\n) {\n  const interligne = 15 // pour un interligne uniforme\n  const prop_font = my_svg_font(\n    'Helvetica',\n    interligne,\n    'start',\n    'normal',\n    'normal',\n  )\n  const prop_font_nom = my_svg_font(\n    'Helvetica',\n    interligne,\n    'start',\n    'normal',\n    'bold',\n  )\n  const prop_font_etape = my_svg_font(\n    'Helvetica',\n    (4 * interligne) / 5,\n    'start',\n    'normal',\n    'normal',\n  )\n\n  if (!window.SVGExist) {\n    window.SVGExist = {}\n  } // Si SVGExist n'existe pas on le créé\n  // SVGExist est un dictionnaire dans lequel on stocke les listenner sur la création des div\n  window.SVGExist[id_du_div] = setInterval(function () {\n    if (document.querySelector(`#${id_du_div}`)) {\n      document.querySelector(`#${id_du_div}`).innerHTML = '' // Vide le div pour éviter les SVG en doublon\n      // const mon_svg = SVG().addTo(`#${id_du_div}`).viewbox(0, 0, w, h).size('100%','100%');\n      const mon_svg = SVG().addTo(`#${id_du_div}`).viewbox(0, 0, w, h)\n      // on trace un cadre pour le debug\n      // mon_svg.path('M0,0 L'+w+',0L'+w+','+h+'L0,'+h+'Z').fill('none').stroke({ color: '#f15929', width: 1, linecap: 'round', linejoin:'null'});\n\n      // path pour créer des fleches\n      const path_fleche =\n        'm0,0 l-' +\n        interligne / 2 +\n        ',-' +\n        interligne +\n        ' l' +\n        interligne +\n        ',' +\n        interligne +\n        ' l-' +\n        interligne +\n        ',' +\n        interligne +\n        ' l' +\n        interligne / 2 +\n        ',-' +\n        interligne +\n        'z'\n\n      // On crée une timeline\n      const timeline = new SVG.Timeline()\n\n      // ------------CREATION DES GROUPES----------------------\n      // ------------Antécédent--------------------------------\n      const ant = mon_svg.group()\n\n      // ------------Image-------------------------------------\n      const im = mon_svg.group()\n\n      // ------------PREPARATION DES DIMENSIONS NECESSAIRES----\n      // ------------Dimension Antécédent----------------------\n      const ant_ligne1 = ant.text(xLigne1).font(prop_font)\n      const ant_ligne2 = ant.text(xLigne2).font(prop_font)\n      const w_ant =\n        Math.max(ant_ligne1.length(), ant_ligne2.length()) + interligne\n      ant_ligne1.clear()\n      ant_ligne2.clear()\n\n      // ------------Dimension Image---------------------------\n      const im_ligne1 = im.text(yLigne1).font(prop_font)\n      const im_ligne2 = im.text(yLigne2).font(prop_font)\n      const w_im = Math.max(im_ligne1.length(), im_ligne2.length()) + interligne\n      im_ligne1.clear()\n      im_ligne2.clear()\n\n      // ------------Dimension Machine-------------------------\n      // on crée des variables pour le texte à afficher sur la machine afin de récupérer leur taille\n      // pour ajuster celle de la machine.\n      let w_machine_nom,\n        machine_nom,\n        machine_etape1,\n        w_machine_etape1,\n        machine_etape2,\n        w_machine_etape2,\n        machine_etape3,\n        w_machine_etape3\n      if (nom !== '') {\n        machine_nom = mon_svg.text(nom).font(prop_font_nom)\n        w_machine_nom = machine_nom.length()\n        machine_nom.clear()\n      } else {\n        w_machine_nom = 0\n      }\n      if (etape1 !== '') {\n        machine_etape1 = mon_svg.text(etape1).font(prop_font_etape)\n        w_machine_etape1 = machine_etape1.length()\n        machine_etape1.clear()\n      } else {\n        w_machine_etape1 = 0\n      }\n      if (etape2 !== '') {\n        machine_etape2 = mon_svg.text(etape2).font(prop_font_etape)\n        w_machine_etape2 = machine_etape2.length()\n        machine_etape2.clear()\n      } else {\n        w_machine_etape2 = 0\n      }\n      if (etape3 !== '') {\n        machine_etape3 = mon_svg.text(etape3).font(prop_font_etape)\n        w_machine_etape3 = machine_etape3.length()\n        machine_etape3.clear()\n      } else {\n        w_machine_etape3 = 0\n      }\n\n      const w_etape_max =\n        Math.max(\n          w_machine_nom,\n          w_machine_etape1,\n          w_machine_etape2,\n          w_machine_etape3,\n          w_ant + interligne,\n          w_im + interligne,\n        ) +\n        1.5 * interligne\n\n      // ------------GROUPE ANTECEDENT-------------------------\n      const ant_ligne = ant.foreignObject(w_ant, h).attr({ x: '0', y: '0' })\n      const antDiv = document.createElementNS(\n        'http://www.w3.org/1999/xhtml',\n        'div',\n      )\n      katex.render(xLigne1 + '\\\\newline ' + xLigne2, antDiv, {\n        displayMode: true,\n        throwOnError: true,\n        errorColor: '#CC0000',\n        strict: 'ignore',\n        trust: false,\n      })\n      ant_ligne.add(antDiv)\n      ant_ligne.dmove(0, -antDiv.offsetHeight / 2)\n      const fleche_ant = SVG_fleche_machine_maths(ant, path_fleche, '#f15929')\n      fleche_ant.dmove(antDiv.offsetWidth + interligne / 2, interligne)\n      // on positionne le groupe antécédent\n      ant.dmove(0, h / 2 - interligne)\n\n      // ------------GROUPE IMAGE-------------------------\n      const im_ligne = im.foreignObject(w_im, h).attr({ x: '0', y: '0' })\n      const imDiv = document.createElementNS(\n        'http://www.w3.org/1999/xhtml',\n        'div',\n      )\n      katex.render(yLigne1 + '\\\\newline ' + yLigne2, imDiv, {\n        displayMode: true,\n        throwOnError: true,\n        errorColor: '#CC0000',\n        strict: 'ignore',\n        trust: false,\n      })\n      im_ligne.add(imDiv)\n      im_ligne.dmove(0, -imDiv.offsetHeight / 2)\n      const fleche_im = SVG_fleche_machine_maths(im, path_fleche, '#f15929')\n      fleche_im.dmove(-interligne / 2, interligne)\n      // on positionne le groupe image\n      im.dmove(w / 2 - imDiv.offsetWidth / 2, h / 2 - interligne)\n\n      // ------------GROUPE MACHINE-------------------------\n      // const path_machine = 'M-5,0 L-5,-5 L-5,5 M-5,0 L10,0 L10,-40 L100,-40 L100,0 L120,0 L115,-5 L120,0 L115,5 L120,0 L100,0 L100,40 L10,40 L10,0';\n      const path_machine =\n        'M-10,0 L-10,-5 L-10,5 M-10,0 L10,0 L10,-' +\n        (h / 2 - 5) +\n        ' L' +\n        (w_etape_max + 20) +\n        ',-' +\n        (h / 2 - 5) +\n        ' L' +\n        (w_etape_max + 20) +\n        ',0 L' +\n        (w_etape_max + 40) +\n        ',0 L' +\n        (w_etape_max + 35) +\n        ',-5 L' +\n        (w_etape_max + 40) +\n        ',0 L' +\n        (w_etape_max + 35) +\n        ',5 L' +\n        (w_etape_max + 40) +\n        ',0 L' +\n        (w_etape_max + 20) +\n        ',0 L' +\n        (w_etape_max + 20) +\n        ',' +\n        (h / 2 - 5) +\n        ' L10,' +\n        (h / 2 - 5) +\n        ' L10,0'\n      const machine = mon_svg\n        .path(path_machine)\n        .fill('#fff')\n        .stroke({\n          color: '#f15929',\n          width: 3,\n          linecap: 'round',\n          linejoin: 'round',\n        })\n      machine.dmove(w / 2 - w_etape_max / 2 - 20 + interligne / 2, h / 2) // w/2;  60 est la moitié de la taille de la machine en largeur\n\n      const fobj_machine = mon_svg\n        .foreignObject(w_etape_max, h)\n        .attr({ x: w / 2 - w_etape_max / 2, y: '0' })\n      const machineDiv = document.createElementNS(\n        'http://www.w3.org/1999/xhtml',\n        'div',\n      )\n      katex.render(\n        '\\\\mathbf{' +\n          nom +\n          '}\\\\newline ' +\n          etape1 +\n          '\\\\newline ' +\n          etape2 +\n          '\\\\newline ' +\n          etape3,\n        machineDiv,\n        {\n          displayMode: true,\n          throwOnError: true,\n          errorColor: '#CC0000',\n          strict: 'ignore',\n          trust: false,\n        },\n      )\n      fobj_machine.add(machineDiv)\n      fobj_machine.dmove(0, h / 2 - interligne - machineDiv.offsetHeight / 2)\n\n      // ------------ANIMATION-------------------------\n      ant.timeline(timeline)\n      im.timeline(timeline)\n\n      const runner1 = ant\n        .animate(8000, 0, 'absolute')\n        .dmove(w / 2 - w_ant / 2, 0)\n      const runner2 = im.animate(8000, 0, 'after').dmove(w - w_im / 2, 0)\n\n      runner1.loop(true, false, 8000)\n      runner2.loop(true, false, 8000)\n\n      clearInterval(window.SVGExist[id_du_div]) // Arrête le timer\n    }\n  }, 100) // Vérifie toutes les 100ms\n}\n"],"names":["tikzMachineMaths","nom","etape1","etape2","etape3","xLigne1","xLigne2","yLigne1","yLigne2","tikzMachineDiag","xAnt","etapesExpressions","saut","pas","sortie","i","wEtape","texCadreParOrange","texte","machineMathsVideo","urlVideo","SvgMachineDiag3F12","id_du_div","w","h","style","xTexte","arrondi","yTexte","divAnt","katex","divFunc","divIm","divFunc2","divIm2","SvgMachineDiag3F1ActMono"],"mappings":"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"}