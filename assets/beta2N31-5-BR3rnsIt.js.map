{"version":3,"file":"beta2N31-5-BR3rnsIt.js","sources":["../../src/exercices/2e/beta2N31-5.ts"],"sourcesContent":["import { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { egalOuApprox } from '../../lib/outils/ecritures'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { decimalToScientifique, texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const uuid = 'a1d0b'\nexport const titre = 'Calculer avec des nombres en notation scientifique'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n// Les exports suivants sont optionnels mais au moins la date de publication semble essentielle\nexport const dateDePublication = '18/02/2022' // La date de publication initiale au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n// export const dateDeModifImportante = '24/10/2021' // Une date de modification importante au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\n/**\n * Calculer avec des nombres en notation scientifique\n * @author Matthieu Devillers\n * 2N31-5\n */\nexport default class CalculerAvecEcritureScientifique extends Exercice {\n  constructor() {\n    super()\n\n    this.correctionDetailleeDisponible = true\n    context.isHtml ? (this.spacingCorr = 3) : (this.spacingCorr = 2)\n    if (!context.isHtml) {\n      this.correctionDetaillee = false\n    }\n    this.consigne =\n      'Calculer, en détaillant les étapes, puis exprimer le résultat sous forme scientifique. <br>'\n    this.consigne +=\n      'En cas de besoin, on arrondira la mantisse au centième près.'\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.spacing = 1.5\n    this.spacingCorr = 1.5\n    this.nbQuestions = 3\n    this.sup = 1\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      4,\n      '1 : Produit\\n 2 : Quotient\\n 3 : Quotient de produits\\n 4 : Mélange des cas précédents',\n    ]\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestionsDisponibles = []\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = [1] // Produit\n    } else if (this.sup === 2) {\n      typesDeQuestionsDisponibles = [2] // Quotient\n    } else if (this.sup === 3) {\n      typesDeQuestionsDisponibles = [3] // Quotient de produits\n    } else {\n      typesDeQuestionsDisponibles = [1, 2, 3]\n    } // Mélange des cas précédents\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      const typesDeQuestions = listeTypeDeQuestions[i]\n      let n = 0\n      const a: number[] = []\n      const b: number[] = []\n      const c: number[] = []\n      const prod: number[][] = []\n      let texte = ''\n      let texteCorr = ''\n      let reponse = ''\n      let somme: number = 0\n      while (n < 4) {\n        c[n] = randint(-30, 30, [-1, 0, 1]) // initialise les exposants entiers relatifs\n        b[n] = randint(11, 99) / 10 // initialise les mantisses entières ou avec un chiffre des dixièmes non nul.\n        a[n] = randint(1, 9) + randint(0, 9) / 10 + randint(1, 9) / 10 / 10 // initialise les mantises avec chiffre des centièmes non nul\n        if (randint(1, 2) === 1) {\n          ;[a[n], b[n]] = [b[n], a[n]]\n        }\n        // prod[n] ne contient pas le produit mais le tableau issu de decimalToScientifique.\n        // ça évite de la rappeler à chaque fois qu'on a besoin de la mantisse ou de son exposant.\n        prod[n] = decimalToScientifique(arrondi(a[n] * b[n], 3))\n        n++\n      }\n      texte = ''\n      switch (typesDeQuestions) {\n        case 1:\n          texte = `$ ${texNombre(a[0])} \\\\times 10^{${texNombre(c[0])}} \\\\times ${texNombre(b[0])} \\\\times 10^{${texNombre(c[1])}} $\\n` // a.10^n x b.10^m = ?\n          somme = c[1] + c[0]\n          if (this.correctionDetaillee) {\n            texteCorr = `${context.isHtml ? '<br>' : ''}$\\\\begin{aligned}${texNombre(a[0])} \\\\times 10^{${texNombre(c[0])}} \\\\times ${texNombre(b[0])} \\\\times 10^{${texNombre(c[1])}} &= \\\\left ( ${texNombre(a[0])} \\\\times   ${texNombre(b[0])} \\\\right ) \\\\times \\\\left ( 10^{${texNombre(c[1])}} \\\\times 10^{${texNombre(c[0])}} \\\\right )\\\\\\\\\\n`\n            texteCorr += `&= ${texNombre(a[0] * b[0], 3)} \\\\times 10^{${texNombre(somme)}}\\\\\\\\\\n`\n            if (prod[0][1] !== 0) {\n              // On ajoute ces lignes seulement si l'exposant du produit est différent de zéro\n              texteCorr += `&= ${texNombre(prod[0][0])} \\\\times 10^{${prod[0][1]}} \\\\times 10^{${somme}}\\\\\\\\\\n`\n              texteCorr += `&= ${texNombre(prod[0][0])} \\\\times 10^{${prod[0][1] + somme}}\\\\\\\\\\n`\n            }\n            // La ligne suivante est une concaténation conditionnelle : si il n'y a pas d'arrondi à faire on termine le calcul sinon on ajoute une ligne pour l'approximation\n            texteCorr +=\n              egalOuApprox(prod[0][0], 2) === '='\n                ? '\\\\\\\\\\n\\\\end{aligned}$<br>'\n                : `&\\\\approx ${texNombre(arrondi(prod[0][0], 2))} \\\\times 10^{${prod[0][1] + somme}}\\\\\\\\\\n\\\\end{aligned}$<br>(avec la mantisse arrondie au centième) <br>`\n          } else {\n            texteCorr = `$ ${texNombre(a[0])} \\\\times 10^{${texNombre(c[0])}} \\\\times ${texNombre(b[0])} \\\\times 10^{${texNombre(c[1])}} ${egalOuApprox(prod[0][0], 2)} ${texNombre(arrondi(decimalToScientifique(prod[0][0])[0], 2))} \\\\times 10^{${decimalToScientifique(prod[0][1])[1] + somme}} $  (avec la mantisse arrondie au centième) <br>`\n          }\n          reponse = `${prod[0][0].toFixed(2)}e${prod[0][1] + somme}`\n\n          break\n        case 2:\n          texte = `Texte2 ${a[0]}` // b>1\n          if (this.correctionDetaillee) {\n            texteCorr += 'Correction Détaillée 2'\n          } else {\n            texteCorr += 'CorrTest2'\n          }\n          reponse = 'Test 2e5'\n          somme = 0\n          break\n        case 3:\n        default:\n          texte = `Texte3 ${b[0]}` // b<-1\n          if (this.correctionDetaillee) {\n            texteCorr += 'Correction détaillée 3'\n          } else {\n            texteCorr = texte + 'CorrTest3'\n          }\n          reponse = 'test 3e6'\n          somme = 0\n          break\n      }\n      texte += ajouteChampTexteMathLive(this, i)\n      handleAnswers(this, i, {\n        reponse: { value: reponse, options: { ecritureScientifique: true } },\n      })\n      if (\n        this.questionJamaisPosee(\n          i,\n          reponse,\n          somme,\n          a.join(';'),\n          b.join(';'),\n          c.join(';'),\n          prod.join(';'),\n        )\n      ) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["uuid","titre","interactifReady","interactifType","dateDePublication","CalculerAvecEcritureScientifique","Exercice","context","typesDeQuestionsDisponibles","listeTypeDeQuestions","combinaisonListes","i","cpt","typesDeQuestions","n","a","b","c","prod","texte","texteCorr","reponse","somme","randint","decimalToScientifique","arrondi","texNombre","egalOuApprox","ajouteChampTexteMathLive","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}