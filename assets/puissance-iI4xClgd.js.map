{"version":3,"file":"puissance-iI4xClgd.js","sources":["../../src/lib/outils/puissance.ts"],"sourcesContent":["import { ecritureParentheseSiNegatif } from './ecritures'\nimport { arrondi } from './nombres'\n\n/**\n * Fonction pour écrire des notations scientifique de la forme a * b ^ n\n * @param a {number} mantisse\n * @param b {number} base\n * @param n {number} exposant\n * @author Erwan Duplessy\n */\nexport function puissance(b: number, n: number) {\n  switch (b) {\n    case 0:\n      return '0'\n    case 1:\n      return '1'\n    case -1:\n      if (b % 2 === 0) {\n        return '1'\n      } else {\n        return '-1'\n      }\n    default:\n      if (b < 0) {\n        return `(${b})^{${n}}`\n      } else {\n        return `${b}^{${n}}`\n      }\n  }\n}\n\nexport function ecriturePuissance(a: number, b: number, n: number) {\n  switch (a) {\n    case 0:\n      return '$0$'\n    case 1:\n      return `$${puissance(b, n)}$`\n    default:\n      return `$${String(arrondi(a, 3)).replace('.', '{,}')} \\\\times ${puissance(b, n)}$`.replace(\n        '.',\n        '{,}',\n      )\n  }\n}\n\n/**\n * Fonction pour simplifier les notations puissance dans certains cas\n * si la base vaut 1 ou -1 quelque soit l'exposant, retourne 1 ou -1,\n * si la base est négative on teste la parité de l'exposant pour alléger la notation sans le signe\n * si l'exposant vaut 0 ou 1 retourne 1, la base ou rien\n * @param b base\n * @param e exposant\n * @author Sébastien Lozano\n */\nexport function simpNotPuissance(b: number, e: number) {\n  // on switch sur la base\n  switch (b) {\n    case -1: // si la base vaut -1 on teste la parité de l'exposant\n      if (e % 2 === 0) {\n        return ' 1'\n        // break;\n      } else {\n        return ' -1'\n        // break;\n      }\n    case 1: // si la base vaut 1 on renvoit toujours 1\n      return ' 1'\n    default: // sinon on switch sur l'exposant\n      switch (e) {\n        case 0: // si l'exposant vaut 0 on ranvoit toujours 1\n          return '1'\n        case 1: // si l'exposant vaut 1 on renvoit toujours la base\n          return ` ${b}`\n        default: // sinon on teste le signe de la base et la parité de l'exposant\n          if (b < 0 && e % 2 === 0) {\n            // si la base est négative et que l'exposant est pair, le signe est inutile\n            return ` ${b * -1}^{${e}}`\n            // break;\n          } else {\n            return ` ${b}^{${e}}`\n            // return ` `;\n            // break;\n          }\n      }\n  }\n}\n\n/**\n * Fonction pour écrire en couleur la forme éclatée d'une puissance\n * @param b base\n * @param e exposant\n * @param couleur\n * @author Sébastien Lozano\n */\nexport function eclatePuissance(\n  b: number | string,\n  e: number,\n  couleur: string,\n) {\n  let str\n  switch (e) {\n    case 0:\n      return `\\\\mathbf{\\\\color{${couleur}}{1}}`\n    case 1:\n      return `\\\\mathbf{\\\\color{${couleur}}{${b}}}`\n    default:\n      str = `\\\\mathbf{\\\\color{${couleur}}{${b}}} `\n      for (let i = 1; i < e; i++) {\n        str = str + `\\\\times \\\\mathbf{\\\\color{${couleur}}{${b}}}`\n      }\n      return str\n  }\n}\n\n/**\n * Fonction pour écrire la forme éclatée d'une puissance\n * @param b {number} base\n * @param e {number} exposant\n * @author Rémi Angot\n * @return string\n */\nexport function puissanceEnProduit(b: number, e: number): string {\n  let str = ''\n  if (e === 0) {\n    return '1'\n  } else if (e === 1) {\n    return `${b}`\n  } else if (e > 1) {\n    str = `${ecritureParentheseSiNegatif(b)}`\n    for (let i = 1; i < e; i++) {\n      str = str + `\\\\times ${ecritureParentheseSiNegatif(b)}`\n    }\n    return str\n  } else if (e < 0) {\n    return `\\\\dfrac{1}{${puissanceEnProduit(b, -e)}}`\n  }\n  return str\n}\n\n/**\n * Fonction pour simplifier l'ecriture lorsque l'exposant vaut 0 ou 1\n * retourne 1, la base ou rien\n * @param b base\n * @param e exposant\n * @author Sébastien Lozano\n */\nexport function simpExp(b: string | number, e: number) {\n  switch (e) {\n    case 1:\n      return ` ${String(b)}`\n    case 0:\n      return ' 1'\n    default:\n      return ' '\n  }\n}\n"],"names":["simpNotPuissance","b","e","eclatePuissance","couleur","str","i","puissanceEnProduit","ecritureParentheseSiNegatif","simpExp"],"mappings":"iFAsDO,SAASA,EAAiBC,EAAWC,EAAW,CAErD,OAAQD,EAAA,CACN,IAAK,GACH,OAAIC,EAAI,IAAM,EACL,KAGA,MAGX,IAAK,GACH,MAAO,KACT,QACE,OAAQA,EAAA,CACN,IAAK,GACH,MAAO,IACT,IAAK,GACH,MAAO,IAAID,CAAC,GACd,QACE,OAAIA,EAAI,GAAKC,EAAI,IAAM,EAEd,IAAID,EAAI,EAAE,KAAKC,CAAC,IAGhB,IAAID,CAAC,KAAKC,CAAC,GAGpB,CACJ,CAEN,CASO,SAASC,EACdF,EACAC,EACAE,EACA,CACA,IAAIC,EACJ,OAAQH,EAAA,CACN,IAAK,GACH,MAAO,oBAAoBE,CAAO,QACpC,IAAK,GACH,MAAO,oBAAoBA,CAAO,KAAKH,CAAC,KAC1C,QACEI,EAAM,oBAAoBD,CAAO,KAAKH,CAAC,MACvC,QAASK,EAAI,EAAGA,EAAIJ,EAAGI,IACrBD,EAAMA,EAAM,4BAA4BD,CAAO,KAAKH,CAAC,KAEvD,OAAOI,CAAA,CAEb,CASO,SAASE,EAAmBN,EAAWC,EAAmB,CAC/D,IAAIG,EAAM,GACV,GAAIH,IAAM,EACR,MAAO,IACT,GAAWA,IAAM,EACf,MAAO,GAAGD,CAAC,GACb,GAAWC,EAAI,EAAG,CAChBG,EAAM,GAAGG,EAA4BP,CAAC,CAAC,GACvC,QAASK,EAAI,EAAGA,EAAIJ,EAAGI,IACrBD,EAAMA,EAAM,WAAWG,EAA4BP,CAAC,CAAC,GAEvD,OAAOI,CACT,SAAWH,EAAI,EACb,MAAO,cAAcK,EAAmBN,EAAG,CAACC,CAAC,CAAC,IAEhD,OAAOG,CACT,CASO,SAASI,EAAQR,EAAoBC,EAAW,CACrD,OAAQA,EAAA,CACN,IAAK,GACH,MAAO,IAAI,OAAOD,CAAC,CAAC,GACtB,IAAK,GACH,MAAO,KACT,QACE,MAAO,GAAA,CAEb"}