{"version":3,"file":"1AN40-DBQK-agn.js","sources":["../../src/exercices/1e/1AN40.ts"],"sourcesContent":["import { cercleTrigo } from '../../lib/2d/angles'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Angle, valeursTrigo } from '../../lib/mathFonctions/Angle'\nimport { combinaisonListes, shuffle } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Valeurs remarquables du cosinus et sinus'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n// Les exports suivants sont optionnels mais au moins la date de publication semble essentielle\nexport const dateDePublication = '16/04/2022' // La date de publication initiale au format 'jj/mm/aaaa' pour affichage temporaire d'un tag\nexport const dateDeModifImportante = '12/01/2024'\n/**\n * donner les valeurs remarquables du cosinus et du sinus avec trois niveaux :\n * 1 : quart de cercle trigo, 2 : avec les angles associés, 3 : avec les angles modulo 2kpi.\n * @author Stéphane Guyon - Jean Claude Lhote - Loïc Geeraerts\n */\n\nexport const uuid = '4e684'\n\nexport const refs = {\n  'fr-fr': ['1AN40'],\n  'fr-ch': [],\n}\nexport default class CosEtsin extends Exercice {\n  can: boolean\n  constructor() {\n    super()\n    this.can = false\n    this.consigne = 'Déterminer la valeur exacte de :'\n    this.nbQuestions = 3 // Nombre de questions par défaut\n    this.nbCols = 2 // Uniquement pour la sortie LaTeX\n    this.nbColsCorr = 2 // Uniquement pour la sortie LaTeX\n\n    this.sup = 1 // difficulté par défaut\n    this.sup2 = '-1,1'\n    this.besoinFormulaireTexte = [\n      'Type de questions',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : Quart de cercle trigo',\n        '2 : Avec les angles associés',\n        '3 : Avec en plus des angles modulo k × 360',\n        '4 : Mélange',\n      ].join('\\n'),\n    ]\n\n    this.besoinFormulaire2Texte = [\n      'Valeurs de k (pour le type de questions 3)',\n      'Valeurs entières non nulles séparées par des virgules',\n    ]\n    // TODO: ajouter tangente avec paramètre caché\n    // TODO: ajouter cercle trigonométrique\n    // TODO: solutionnaire détaillé\n    // TODO: Peut-être mettre en paramètre l'étendue des modulos pour avoir un contrôle sur le niveau de difficulté\n  }\n\n  nouvelleVersion() {\n    const mesAnglesAleatoiresBis: Angle[][] = [[]]\n    let typeDeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: 1,\n    }).map(Number)\n\n    if (typeDeQuestions.includes(1))\n      this.nbQuestions = Math.min(this.nbQuestions, 10 * typeDeQuestions.length) // on bride car il n'y a que 10 questions différentes au niveau 1\n    else if (typeDeQuestions.includes(2))\n      this.nbQuestions = Math.min(this.nbQuestions, 26 * typeDeQuestions.length) // Le bridage est un peu plus large pour le niveau 2\n    else\n      this.nbQuestions = Math.min(\n        this.nbQuestions,\n        126 * typeDeQuestions.length,\n      ) // là c'est carrément l'opulence avec le niveau 3 !\n\n    let listeK = [-1, 1]\n\n    const mesAngles = valeursTrigo({ modulos: listeK })\n    mesAnglesAleatoiresBis.push(shuffle(mesAngles.liste1))\n    mesAnglesAleatoiresBis.push(shuffle(mesAngles.liste2))\n    const valeursDek = this.sup2.toString(10)\n\n    listeK = valeursDek.includes(',') ? valeursDek.split(',') : [this.sup2]\n\n    for (let k = 0; k < listeK.length; k++) {\n      const n = listeK[k]\n      if (n !== 0 && listeK.indexOf(n) === -1) {\n        listeK[k] = n\n      }\n    }\n    mesAnglesAleatoiresBis.push(shuffle(mesAngles.liste3))\n    const typeQuestionsDisponibles: ['cos' | 'sin', Angle][][] = [\n      [],\n      [],\n      [],\n      [],\n    ]\n\n    for (let i = 0; i < mesAnglesAleatoiresBis[1].length; i++) {\n      typeQuestionsDisponibles[1].push(['cos', mesAnglesAleatoiresBis[1][i]])\n      typeQuestionsDisponibles[1].push(['sin', mesAnglesAleatoiresBis[1][i]])\n    }\n    for (let i = 0; i < mesAnglesAleatoiresBis[2].length; i++) {\n      typeQuestionsDisponibles[2].push(['cos', mesAnglesAleatoiresBis[2][i]])\n      typeQuestionsDisponibles[2].push(['sin', mesAnglesAleatoiresBis[2][i]])\n    }\n    for (let i = 0; i < mesAnglesAleatoiresBis[3].length; i++) {\n      typeQuestionsDisponibles[3].push(['cos', mesAnglesAleatoiresBis[3][i]])\n      typeQuestionsDisponibles[3].push(['sin', mesAnglesAleatoiresBis[3][i]])\n    }\n\n    typeQuestionsDisponibles[1] = combinaisonListes(\n      typeQuestionsDisponibles[1],\n      10,\n    )\n    typeQuestionsDisponibles[2] = combinaisonListes(\n      typeQuestionsDisponibles[2],\n      26,\n    )\n    typeQuestionsDisponibles[3] = combinaisonListes(\n      typeQuestionsDisponibles[3],\n      126,\n    )\n\n    typeDeQuestions = combinaisonListes(typeDeQuestions, this.nbQuestions)\n    const listeTypeQuestions = []\n    const compteur = [0, 0, 0, 0]\n    for (let i = 0; i < this.nbQuestions; i++) {\n      listeTypeQuestions.push(\n        typeQuestionsDisponibles[typeDeQuestions[i]][\n          compteur[typeDeQuestions[i]]\n        ],\n      )\n      compteur[typeDeQuestions[i]]++\n    }\n\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 127;\n    ) {\n      const monAngle = listeTypeQuestions[i][1]\n      texte = `$\\\\${listeTypeQuestions[i][0]}\\\\left(${monAngle.radians}\\\\right)$`\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.lyceeClassique, {\n        texteAvant: ' = ',\n      })\n      texteCorr = `$\\\\${listeTypeQuestions[i][0]}\\\\left(${monAngle.radians}\\\\right)`\n      let valeurFonction = ''\n      // listeTypeQuestions[i][0] contient 'cos' ou 'sin', donc ça permet d'atteindre la propriété souhaitée dans l'objet Angle.\n      // monAngle[listeTypeQuestions[i][0]] fait référence à monAngle.cos ou à monAngle.sin selon la valeur de listeTypeQuestions[i][0].\n\n      setReponse(this, i, monAngle[listeTypeQuestions[i][0]])\n      // dans quelques cas, les valeurs de cos et sin sont multiples et contenues dans une liste avec en premier '1/2', en deuxième la valeur décimale '0.5'\n      valeurFonction = Array.isArray(monAngle[listeTypeQuestions[i][0]])\n        ? monAngle[listeTypeQuestions[i][0]][0]\n        : (monAngle[listeTypeQuestions[i][0]] as string)\n      texteCorr += `=${miseEnEvidence(valeurFonction)}$`\n\n      texteCorr += '<br><br>'\n      texteCorr += cercleTrigo(monAngle, listeTypeQuestions[i][0])\n\n      // Si la question n'a jamais été posée, on l'enregistre\n      if (\n        this.questionJamaisPosee(\n          i,\n          listeTypeQuestions[i][0][0],\n          listeTypeQuestions[i][1].radians,\n        )\n      ) {\n        // On regarde l'angle en radian et le type de fonction\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this) // On envoie l'exercice à la fonction de mise en page\n    if (!context.isHtml) {\n      this.canEnonce =\n        'Donner la valeur exacte de ' + this.listeQuestions[0] + '.'\n      this.correction = this.listeCorrections[0]\n      this.canReponseACompleter = ''\n\n      for (const enonce of this.listeQuestions) {\n        this.listeCanEnonces.push('Donner la valeur exacte de ' + enonce + '.')\n      }\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","dateDeModifImportante","uuid","refs","CosEtsin","Exercice","__publicField","mesAnglesAleatoiresBis","typeDeQuestions","gestionnaireFormulaireTexte","listeK","mesAngles","valeursTrigo","shuffle","valeursDek","k","typeQuestionsDisponibles","i","combinaisonListes","listeTypeQuestions","compteur","texte","texteCorr","cpt","monAngle","ajouteChampTexteMathLive","KeyboardType","valeurFonction","setReponse","miseEnEvidence","cercleTrigo","listeQuestionsToContenu","context","enonce"],"mappings":"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"}