{"version":3,"file":"auto6G1C-3NXan5AU.js","sources":["../../src/exercices/6e/auto6G1C.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../lib/2d/colorToLatexOrHtml'\nimport type { Figure2D } from '../../lib/2d/Figures2D'\nimport {\n  listeFigures2d,\n  type Forme,\n} from '../../lib/2d/figures2d/listeFigures2d'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { Segment } from '../../lib/2d/segmentsVecteurs'\nimport { texteParPosition } from '../../lib/2d/textes'\nimport { homothetie, translation } from '../../lib/2d/transformations'\nimport { vecteur } from '../../lib/2d/Vecteur'\nimport { orangeMathalea } from '../../lib/colors'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { sp } from '../../lib/outils/outilString'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../types/2d'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Reconnaitre des figures symétriques'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n// Gestion de la date de publication initiale\nexport const dateDePublication = '08/05/2025'\n\n/**\n * Donner le nombre d'axes de symétrie d'une figure.\n * @author Jean-Claude Lhote\n */\nexport const uuid = '328b2'\n\nexport const refs = {\n  'fr-fr': ['auto6G1C'],\n  'fr-2016': ['6G25-4'],\n  'fr-ch': ['9ES6-30', '10ES2-17'],\n}\n\nexport default class NbAxesDeSymetrie extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 3\n    this.besoinFormulaireTexte = [\n      'Type de figures',\n      'Nombres séparés par des tirets :\\n1 : Panneaux\\n2 : Formes géométriques\\n3 : Legos\\n4 : Lettres\\n5 : Chiffres et nombres\\n6 : Mélange',\n    ]\n    this.sup = '6'\n    this.besoinFormulaire2Numerique = ['Nombre de figures par question', 3]\n    this.sup2 = 3\n    this.besoinFormulaire3CaseACocher = ['Avec des rotations aléatoires', false]\n    this.sup3 = false\n    this.besoinFormulaire4CaseACocher = ['Grandes figures', true]\n    this.sup4 = true\n  }\n\n  nouvelleVersion(): void {\n    let nbFigures = this.sup2\n    const factor = this.sup4 ? 2 : 1\n    const typeDeFigures = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 5,\n      defaut: 1,\n      melange: 6,\n      nbQuestions: this.nbQuestions,\n    }).map(Number)\n    const numerosChoisis: number[] = []\n    for (let i = 0; i < this.nbQuestions; ) {\n      let texte = ''\n      let texteCorr = ''\n      const objets: NestedObjetMathalea2dArray = []\n      const objetsCorr: NestedObjetMathalea2dArray = []\n\n      const typeDeFigureChoisie = [\n        'panneau',\n        'geometrique',\n        'lego',\n        'lettre',\n        'chiffre',\n      ][typeDeFigures[i] - 1]\n      const listeFigs = listeFigures2d\n        .filter((el) => el.type === typeDeFigureChoisie)\n        .filter((el) => !numerosChoisis.includes(el.numero))\n        .filter((el, index, self) => {\n          // Si on ne parle pas d'un panneau, on ne filtre pas par style\n          if (typeDeFigureChoisie !== 'panneau') return true\n\n          // On garde seulement le premier élément pour chaque style défini\n          return (\n            index ===\n            self.findIndex((autre) => (autre.style ?? '') === (el.style ?? ''))\n          )\n        })\n      if (listeFigs.length === 0) {\n        this.listeQuestions.push('Aucune figure disponible')\n        this.listeCorrections.push('Aucune figure disponible')\n        break\n      }\n      const nbFigs = listeFigs.length\n      if (nbFigs < nbFigures) {\n        nbFigures = nbFigs\n      }\n      const figures = []\n      for (let j = 0; j < nbFigures; j++) {\n        const choix = listeFigs.filter(\n          (el) => !numerosChoisis.includes(el.numero),\n        )\n        if (choix.length === 0) {\n          nbFigures = j\n          break\n        }\n        const figure: Forme = choice(choix)\n        numerosChoisis.push(figure.numero)\n        figures.push(figure)\n      }\n      texte += this.interactif\n        ? `Combien d'axes de symétrie possède${nbFigures > 1 ? 'nt' : ' '}l${nbFigures > 1 ? 'es' : 'a'} figure${nbFigures > 1 ? 's' : ''} suivante${nbFigures > 1 ? 's' : ''} ?<br>`\n        : `Tracer le ou les axes de symétrie d${nbFigures > 1 ? 'es ' : 'e la'} figure${nbFigures > 1 ? 's' : ''} suivante${nbFigures > 1 ? 's' : ''} lorsqu'il y en a.<br>`\n      const formes: Figure2D[] = []\n      const scale = nbFigures === 1 ? 1 : nbFigures === 2 ? 0.9 : 0.8\n      for (let j = 0; j < nbFigures; j++) {\n        const alpha = randint(-30, 30, 0)\n        const figure = figures[j]\n        const options = figure.options ?? {}\n        const forme = figure\n          .figure2d(options)\n          .dilate(factor)\n          .translate(j * 6.5 * factor * scale, 0)\n        forme.name = figure.name.replace(/ /g, '_')\n        if (this.sup3) forme.rotate(alpha)\n        formes.push(forme)\n\n        const formeTexte = texteParPosition(\n          `figure ${j + 1}`,\n          j * 6.5 * factor * scale,\n          2.8 * factor,\n        )\n        objets.push(forme, formeTexte)\n        let axes: Segment[] = []\n        if (forme.nbAxes !== 0) {\n          const formeBis = forme.copy(forme.name + 'Bis')\n          formeBis.opacite = 0.3\n          const formeCorr = forme.autoReflectionAnimee(\n            `${forme.name}Corr_${i * this.sup2 + j}`,\n            forme.x,\n            forme.y,\n          )\n          axes = formeCorr.Axes.map((el) =>\n            factor > 1 ? homothetie(el, point(0, 0), factor) : el,\n          )\n          objetsCorr.push(formeBis, formeCorr, formeTexte)\n        } else {\n          if (forme.nonAxe) {\n            const formeBis = forme.copy(forme.name + 'Bis')\n            formeBis.opacite = 0.3\n            const formeCorr = forme.autoReflectionAnimee(\n              `${forme.name}Corr_${i * this.sup2 + j}`,\n              forme.x,\n              forme.y,\n            )\n            const axe = formeCorr.nonAxe\n            if (axe) {\n              const seg = translation(axe, vecteur(j * 6.5 * factor * scale, 0))\n              seg.epaisseur = 1.5\n              seg.color = colorToLatexOrHTML(orangeMathalea)\n              objetsCorr.push(\n                formeBis,\n                formeCorr,\n                formeTexte,\n                seg,\n                texteParPosition(\n                  `Il n'y a pas d'axe ${sp(2)} de symétrie ici !`,\n                  j * 6.5 * factor * scale,\n                  0,\n                  45,\n                  'red',\n                ),\n                texteParPosition(\n                  `Il n'y a pas d'axe ${sp(2)} de symétrie ici !`,\n                  j * 6.5 * factor * scale,\n                  0,\n                  -45,\n                  'red',\n                ),\n              )\n            } else {\n              objetsCorr.push(forme, formeTexte)\n            }\n          } else {\n            objetsCorr.push(forme, formeTexte)\n          }\n        }\n        if (axes.length > 0) {\n          for (let k = 0; k < axes.length; k++) {\n            const seg = translation(\n              axes[k],\n              vecteur(j * 6.5 * factor * scale, 0),\n            )\n            seg.epaisseur = 1.5\n            seg.color = colorToLatexOrHTML(orangeMathalea)\n            objetsCorr.push(seg)\n          }\n        }\n      }\n      texte += mathalea2d(\n        Object.assign(\n          { pixelsParCm: 20, scale: factor === 1 ? scale : 0.7 * scale },\n          fixeBordures(objets),\n        ),\n        objets,\n      )\n      if (this.interactif) {\n        for (let j = 0; j < nbFigures; j++) {\n          this.autoCorrection[i * nbFigures + j] = {\n            propositions: [\n              { texte: 'aucun', statut: formes[j].nbAxes === 0 },\n              { texte: '1', statut: formes[j].nbAxes === 1 },\n              { texte: '2', statut: formes[j].nbAxes === 2 },\n              { texte: '3', statut: formes[j].nbAxes === 3 },\n              { texte: '4', statut: formes[j].nbAxes === 4 },\n              { texte: '5', statut: formes[j].nbAxes === 5 },\n              { texte: '6', statut: formes[j].nbAxes === 6 },\n              {\n                texte: 'une infinité',\n                statut: Number.isFinite(formes[j].nbAxes) === false,\n              },\n            ],\n            options: {\n              ordered: true,\n            },\n          }\n          // const monQcm = propositionsQcm(this, i * nbFigures + j, { style: 'inline-block', format: 'case', radio: true })\n          const monQcm = propositionsQcm(this, i * nbFigures + j, {\n            style: 'inline-block',\n            format: 'case',\n          })\n          texte += `figure ${j + 1} : ${monQcm.texte}`\n        }\n      }\n\n      texteCorr += mathalea2d(\n        Object.assign(\n          { pixelsParCm: 20, scale: factor === 1 ? scale : 0.7 * scale },\n          fixeBordures(objetsCorr),\n        ),\n        objetsCorr,\n      )\n      texteCorr += `${formes\n        .map((el, j) =>\n          Number.isFinite(el.nbAxes)\n            ? `${j === 0 ? 'L' : 'l'}a figure ${j + 1} possède $${miseEnEvidence(el.nbAxes)}$ axe${el.nbAxes > 1 ? 's' : ''} de symétrie`\n            : `${j === 0 ? 'L' : 'l'}a figure ${j + 1} possède une infinité d'axes de symétrie`,\n        )\n        .join(', ')}.`\n      this.listeQuestions.push(texte)\n      this.listeCorrections.push(texteCorr)\n      i++\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","uuid","refs","NbAxesDeSymetrie","Exercice","nbFigures","factor","typeDeFigures","gestionnaireFormulaireTexte","numerosChoisis","i","texte","texteCorr","objets","objetsCorr","typeDeFigureChoisie","listeFigs","listeFigures2d","el","index","self","autre","nbFigs","figures","j","choix","figure","choice","formes","scale","alpha","randint","options","forme","formeTexte","texteParPosition","axes","formeBis","formeCorr","homothetie","point","axe","seg","translation","vecteur","colorToLatexOrHTML","orangeMathalea","sp","k","mathalea2d","fixeBordures","monQcm","propositionsQcm","miseEnEvidence"],"mappings":"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"}