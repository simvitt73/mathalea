{"version":3,"file":"canTSpeAN02-DSeMMqd1.js","sources":["../../src/exercices/can/TSpe/canTSpeAN02.ts"],"sourcesContent":["import Exercice from '../../Exercice'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../../modules/outils'\nimport { texNombre } from '../../../lib/outils/texNombre'\nimport { ajouteChampTexteMathLive } from '../../../lib/interactif/questionMathLive'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../../lib/interactif/gestionInteractif'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\n\nimport { rienSi1 } from '../../../lib/outils/ecritures'\n\nexport const titre = 'Calculer avec la fonction logarithme'\nexport const dateDePublication = '22/7/2024'\nexport const uuid = 'b9c63'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const refs = {\n  'fr-fr': ['canTSpeAN02'],\n  'fr-ch': [],\n}\n\n/**\n *\n * @author  Jean-Claude Lhote\n\n */\nexport default class CalculsLog extends Exercice {\n  version: string\n  constructor() {\n    super()\n    this.version = 'ln'\n    this.nbQuestions = 1\n    this.consigne = 'Calculer.'\n    this.spacingCorr = 3\n    this.sup = '4'\n    this.besoinFormulaireTexte = [\n      'Type de question ',\n      'Nombres séparés par des tirets  :\\n1 : Logarithme(a^n)\\n2 : Logarithme(1/a^n)\\n3 : Exponentiation\\n4 : Mélange',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Type de logarithme', false]\n    this.comment = 'Exercice de calculs de logarithmes'\n  }\n\n  nouvelleVersion() {\n    if (this.sup2) this.version = 'ln'\n    else this.version = 'log'\n    const logString = this.version !== 'ln' ? '\\\\log' : '\\\\ln'\n    const base = this.version !== 'ln' ? '10' : 'e'\n\n    const listeTypeQuestions = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n      nbQuestions: this.nbQuestions,\n    }).map((el) => Number(el))\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte: string\n      let texteCorr: string\n      let answer: string\n      const n = randint(1, 7)\n      if (listeTypeQuestions[i] < 3) {\n        // log(a^n) ou log(1/a^n)\n        if (listeTypeQuestions[i] === 1) {\n          if (n === 1) {\n            texte = `${logString} ${base}`\n            texteCorr = `$${texte}=1$`\n            answer = '1'\n          } else if (n < 6) {\n            texte = `${logString}(${base}^${n})`\n            texteCorr = `$${texte}=${n}${logString} ${base}=${n}$`\n            answer = String(n)\n          } else {\n            if (n === 6) {\n              texte = `${logString}(\\\\sqrt{${base}})`\n              texteCorr = `$${texte}=${logString}(${base}^{\\\\frac{1}{2}})=\\\\dfrac{1}{2}${logString} ${base}=\\\\dfrac{1}{2}$`\n              answer = '\\\\frac12'\n            } else {\n              texte = `${logString}(\\\\sqrt[3]{${base}})`\n              texteCorr = `$${texte}=${logString}(${base}^{\\\\frac{1}{3}})=\\\\dfrac{1}{3}${logString} ${base}=\\\\dfrac{1}{3}$`\n              answer = '\\\\frac13'\n            }\n          }\n        } else {\n          if (n === 1) {\n            texte = `${logString}(\\\\dfrac{1}{${base}})`\n            texteCorr = `$${texte}=-1$`\n            answer = '-1'\n          } else if (n < 6) {\n            if (choice([true, false])) {\n              texte = `${logString}(\\\\dfrac{1}{${base}^${n}})`\n              texteCorr = `$${texte}=${logString}(${base}^{${-n}})=${-n}${logString} ${base}=${-n}$`\n            } else {\n              if (base === 'e') {\n                texte = `${logString}(\\\\mathrm{e}^{${-n}})`\n                texteCorr = `$${texte}=${-n}${logString} (\\\\mathrm{e})=${-n}$`\n              } else {\n                texte = `${logString}(${texNombre(10 ** -n, 5)})`\n                texteCorr = `$${texte}=${logString}(${base}^{${-n}})=${-n}${logString} ${base}=${-n}$`\n              }\n            }\n            answer = String(-n)\n          } else {\n            if (n === 6) {\n              texte = `${logString}(\\\\dfrac{1}{\\\\sqrt{${base}}})`\n              texteCorr = `$${texte}=${logString}(${base}^{-\\\\frac{1}{2}})=-\\\\dfrac{1}{2}${logString} ${base}=-\\\\dfrac{1}{2}$`\n              answer = '-\\\\frac12'\n            } else {\n              texte = `${logString}(\\\\dfrac{1}{\\\\sqrt[3]{${base}}})`\n              texteCorr = `$${texte}=${logString}(${base}^{-\\\\frac{1}{3}})=-\\\\dfrac{1}{3}${logString} ${base}=-\\\\dfrac{1}{3}$`\n              answer = '-\\\\frac13'\n            }\n          }\n        }\n      } else {\n        // exponentiation\n        const signe = choice([-1, 1]) // placé devant le ln|log\n        const exposant = choice([-1, 1]) // exposant de la base dans le ln|log\n        if (n === 1) {\n          texte = `${base}^{${rienSi1(signe)}${logString} ${n}}`\n          texteCorr = `$${texte}=${base}^0=1$`\n          answer = '1'\n        } else if (n < 6) {\n          texte = `${base}^{${rienSi1(signe)}${logString} ${exposant === 1 ? `${n}` : `\\\\frac{1}{${n}}`}}`\n          texteCorr = `$${texte}=${\n            signe === 1\n              ? `${exposant === 1 ? String(n) : `\\\\dfrac{1}{${n}}`}$`\n              : `\\\\dfrac{1}{${base}^{${logString} ${exposant === 1 ? `${n}` : `\\\\frac{1}{${n}}`}}}=${exposant === 1 ? `\\\\dfrac{1}{${n}}` : `\\\\dfrac{1}{\\\\dfrac{1}{${n}}}=${n}`}$`\n          }`\n          answer =\n            signe === 1\n              ? exposant === 1\n                ? String(n)\n                : `\\\\frac1${n}`\n              : exposant === 1\n                ? `\\\\frac1${n}`\n                : String(n)\n        } else {\n          if (n === 6) {\n            texte = `${base}^{${rienSi1(signe)}${logString} \\\\sqrt{${n}}}`\n            texteCorr = `$${texte}=${\n              signe === 1\n                ? `${base}^{\\\\frac{1}{2}${logString} ${n}}=(${base}^{${logString} ${n}})^{\\\\frac{1}{2}}=${n}^{\\\\frac{1}{2}}=\\\\sqrt{${n}}$`\n                : `${base}^{-\\\\frac{1}{2}${logString} ${n}}=(${base}^{${logString} ${n}})^{-\\\\frac{1}{2}}=${n}^{-\\\\frac{1}{2}}=\\\\dfrac{1}{\\\\sqrt{${n}}}$`\n            }`\n            answer = signe === 1 ? `\\\\sqrt{${n}}` : `\\\\frac{1}{\\\\sqrt{${n}}}`\n          } else {\n            texte = `${base}^{${rienSi1(signe)}${logString} \\\\sqrt[3]{${n}}}`\n            texteCorr = `$${texte}=${\n              signe === 1\n                ? `${base}^{\\\\frac{1}{3}${logString} ${n}}=(${base}^{${logString} ${n}})^{\\\\frac{1}{3}}=${n}^{\\\\frac{1}{3}}=\\\\sqrt[3]{${n}}$`\n                : `${base}^{-\\\\frac{1}{3}${logString} ${n}}=(${base}^{${logString} ${n}})^{-\\\\frac{1}{3}}=${n}^{-\\\\frac{1}{3}}=\\\\dfrac{1}{\\\\sqrt[3]{${n}}}$`\n            }`\n            answer =\n              signe === 1 ? `\\\\sqrt[3]{${n}}` : `\\\\frac{1}{\\\\sqrt[3]{${n}}}`\n          }\n        }\n      }\n      // on reprend la correction pour mettre me dernier membre en évidence.\n      const chunks = texteCorr.split('=')\n      const lastChunk = chunks[chunks.length - 1]\n      chunks[chunks.length - 1] =\n        miseEnEvidence(lastChunk.substring(0, lastChunk.length - 1)) + '$'\n      texteCorr = chunks.join('=')\n      // et voilà, c'est fait pour toute les corrections.\n      if (this.questionJamaisPosee(i, n, listeTypeQuestions[i])) {\n        texte = `$${texte}$` // <- laisser le i et ajouter toutes les variables qui rendent les exercices différents (par exemple a, b, c et d)\n        if (this.interactif) {\n          texte += ajouteChampTexteMathLive(\n            this,\n            i,\n            KeyboardType.clavierFonctionsTerminales,\n            { texteAvant: '=' },\n          )\n          handleAnswers(this, i, { reponse: { value: answer } })\n        }\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","interactifReady","interactifType","refs","CalculsLog","Exercice","__publicField","logString","base","listeTypeQuestions","gestionnaireFormulaireTexte","el","i","cpt","texte","texteCorr","answer","n","randint","choice","texNombre","signe","exposant","rienSi1","chunks","lastChunk","miseEnEvidence","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}