{"version":3,"file":"6N3Q-1-BbyD7uX_.js","sources":["../../src/exercices/6e/6N3Q-1.ts"],"sourcesContent":["import { texPrix } from '../../lib/format/style'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { texFractionFromString } from '../../lib/outils/deprecatedFractions'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { sp } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcType = 'AMCNum'\nexport const amcReady = true\nexport const titre = 'Résoudre des problèmes avec des calculs de pourcentages'\n\n/**\n * Calculer le montant d'une réduction donnée en pourcentage d'un prix initial\n * @author Jean-Claude Lhote\n */\nexport const uuid = 'd67e9'\n\nexport const refs = {\n  'fr-fr': ['6N3Q-1', 'BP2AutoB6'],\n  'fr-2016': ['6N33-3', 'BP2AutoB6'],\n  'fr-ch': ['9NO15-2'],\n}\nexport default class AppliquerUnPourcentage6N3Q extends Exercice {\n  onlyMoney = false\n  constructor() {\n    super()\n\n    this.nbQuestions = 1\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n    this.spacingCorr = 2\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestionsDisponibles = this.onlyMoney ? [1] : [1, 2]\n    const choix = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    const listePourcentages = [10, 20, 30, 40, 50]\n    const article = [\n      ['Un pull', 20, 40],\n      ['Une chemise', 15, 35],\n      ['Un pantalon', 30, 60],\n      ['Un T-shirt', 15, 25],\n      ['Une jupe', 20, 40],\n    ]\n    const legume = [\n      ['Une aubergine', 100, 200],\n      ['Un melon', 200, 300],\n      ['Une tomate', 50, 100],\n      ['Une betterave', 75, 100],\n      ['Une carotte', 30, 50],\n    ]\n    const listeIndex = [0, 1, 2, 3, 4]\n    const prix = []\n    const pourcent = []\n    const masse = []\n    const index = combinaisonListes(listeIndex, this.nbQuestions)\n    for (\n      let i = 0, texte, texteCorr, montant, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      pourcent[i] = choice(listePourcentages)\n      switch (choix[i]) {\n        case 1:\n          prix[i] = randint(\n            article[index[i]][1] as number,\n            article[index[i]][2] as number,\n          )\n          montant = (pourcent[i] * prix[i]) / 100\n          texte = `${article[index[i]][0]} coûtant $${prix[i]}$${sp()}€ bénéficie d'une réduction de $${pourcent[i]} ${sp()}${sp()}\\\\%$.<br>`\n          texte += 'Quel est le montant en euro de cette réduction ?'\n          texte += ajouteChampTexteMathLive(\n            this,\n            i,\n            KeyboardType.clavierNumbers,\n            { texteApres: ' €' },\n          )\n          texteCorr = `On doit calculer $${pourcent[i]}${sp()}\\\\%$ de $${prix[i]}$${sp()}€ :<br>`\n          texteCorr += `$${pourcent[i]}${sp()}\\\\%\\\\text{ de }${prix[i]}=${texFractionFromString(pourcent[i], 100)}\\\\times${prix[i]}=(${pourcent[i]}\\\\times${prix[i]})\\\\div100=${texNombre(pourcent[i] * prix[i])}\\\\div100=${texNombre(montant)}$<br>`\n          texteCorr += `Le montant de la réduction est de $${miseEnEvidence(texPrix(montant))}$${sp()}€.`\n          setReponse(this, i, montant, {\n            formatInteractif: 'calcul',\n            digits: 5,\n            decimals: 2,\n            signe: false,\n          })\n          break\n        case 2:\n        default:\n          masse[i] = randint(\n            legume[index[i]][1] as number,\n            article[index[i]][2] as number,\n          )\n          montant = (masse[i] * pourcent[i]) / 100\n          texte = `${legume[index[i]][0]} pesant $${masse[i]}$ grammes a eu une croissance de $${pourcent[i]} ${sp()}\\\\%$.<br>`\n          texte +=\n            'Quelle est la masse supplémentaire en grammes correspondant à cette croissance ?'\n          texte += ajouteChampTexteMathLive(\n            this,\n            i,\n            KeyboardType.clavierNumbers,\n            { texteApres: ' g' },\n          )\n          texteCorr = `On doit calculer $${pourcent[i]}${sp()}\\\\%$ de $${masse[i]}$ grammes :<br>`\n          texteCorr += `$${pourcent[i]}${sp()}\\\\%\\\\text{ de }${masse[i]}=${texFractionFromString(pourcent[i], 100)}\\\\times${masse[i]}=(${pourcent[i]}\\\\times${masse[i]})\\\\div100=${texNombre(pourcent[i] * masse[i])}\\\\div100=${texNombre(montant)}$<br>`\n          texteCorr += `La masse a augmenté de $${miseEnEvidence(texNombre(montant))}$ g.`\n          setReponse(this, i, montant, {\n            formatInteractif: 'calcul',\n            digits: 4,\n            decimals: 2,\n            signe: false,\n          })\n          break\n      }\n      if (this.questionJamaisPosee(i, pourcent[i], choix[i], montant)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["interactifReady","interactifType","amcType","amcReady","titre","uuid","refs","AppliquerUnPourcentage6N3Q","Exercice","__publicField","typesDeQuestionsDisponibles","choix","combinaisonListes","listePourcentages","article","legume","listeIndex","prix","pourcent","masse","index","i","texte","texteCorr","montant","cpt","choice","randint","sp","ajouteChampTexteMathLive","KeyboardType","texFractionFromString","texNombre","miseEnEvidence","texPrix","setReponse","listeQuestionsToContenu"],"mappings":"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"}