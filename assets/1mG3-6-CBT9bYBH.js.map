{"version":3,"file":"1mG3-6-CBT9bYBH.js","sources":["../../src/exercices/ch/1mG3-6.ts"],"sourcesContent":["import { codageAngle } from '../../lib/2d/angles'\nimport {\n  CodageAngleDroit,\n  codageAngleDroit,\n} from '../../lib/2d/CodageAngleDroit'\nimport { droite } from '../../lib/2d/droites'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { polygone } from '../../lib/2d/polygones'\nimport { segment } from '../../lib/2d/segmentsVecteurs'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { projectionOrtho, rotation } from '../../lib/2d/transformations'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { extraireRacineCarree } from '../../lib/outils/calculs'\nimport { miseEnCouleur, miseEnEvidence } from '../../lib/outils/embellissements'\nimport { creerNomDePolygone } from '../../lib/outils/outilString'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Relations métriques dans un triangle rectangle'\nexport const dateDePublication = '10/04/2025'\nexport const interactifReady = false\nexport const uuid = '4f81e'\nexport const refs = {\n  'fr-ch': ['1mG3-6'],\n  'fr-fr': [],\n}\n\n/**\n *\n * @author Nathan Scheinmann\n */\n\nexport default class RelationsMetriquesTriangleRectangle extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 3\n\n    this.besoinFormulaireTexte = [\n      'Type de questions',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : BD-BA',\n        '2 : BD-AD',\n        '3 : AB-AD',\n        '4 : AE-AB',\n        '5 : AE-ED',\n        '6 : AE-AD',\n        '7 : ED-AD',\n        '8 : AE-EB',\n        '9 : ED-EB',\n        '10 : AB-EB',\n        '11 : BD-EB',\n        '12 : ED-BD',\n        '13 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire2CaseACocher = ['Nom des sommets qui changent']\n    this.besoinFormulaire3CaseACocher = ['Appliquer une rotation aux triangles']\n    this.correctionDetaillee = false\n    this.correctionDetailleeDisponible = true\n    this.sup2 = false\n    this.sup3 = false\n    this.sup = '13'\n    this.comment = ` Le triangle EAD est rectangle en E et les triangle AEB et EDB sont rectangles en B.<br>Le type de la question indique les longueurs fournies dans l'énoncé selon le triangle ci-dessous.<br> \n     <pre>      \n          E<br>\n         /|\\\\ <br>\n        / | \\\\ <br>\n       /  |  \\\\ <br>\n      /   |   \\\\ <br>\n     /    |    \\\\ <br>\n    A-----B-----D <pre>`\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 12,\n      melange: 13,\n      defaut: 1,\n      nbQuestions: this.nbQuestions,\n    })\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    this.consigne = ''\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n\n      let objetsEnonce = []\n      const listeDeNomsDePolygones: string[] = []\n      // Helper function to adjust the label anchor based on the quadrant of angle2\n      function adjustedAnchor(base: string, angle2: number): string {\n        // Define the order of anchors (clockwise order):\n        // For no rotation (angle2=0), these positions mean:\n        // \"above right\": top-right, \"above left\": top-left, \"below left\": bottom-left, \"below right\": bottom-right.\n        const anchors = [\n          'above right',\n          'above left',\n          'below left',\n          'below right',\n        ]\n        const baseIndex = anchors.indexOf(base)\n        if (baseIndex === -1) return base // fallback if base label isn't recognized\n\n        // Determine the quadrant of angle2: 0 for [0,90), 1 for [90,180), etc.\n        const quadrant = Math.floor(angle2 / 90)\n        const newIndex = (baseIndex + quadrant) % 4\n        return anchors[newIndex]\n      }\n\n      // Original code with quadrant-based label adjustments:\n\n      const center = point(0, 0) // Define the center of rotation\n      let angle = 90\n      let angle2 = 0\n      if (this.sup3 === true) {\n        angle = choice([-1, 1]) * randint(45, 125) // Random angle for rotation\n        angle2 = randint(0, 360)\n      }\n\n      const r = 5\n\n      // For point D, base anchor is \"below right\"\n      const labelD = adjustedAnchor('below right', angle2)\n      const D = rotation(point(r, 0), center, angle2, 'D', labelD)\n\n      // For point A, base anchor is \"below left\"\n      const labelA = adjustedAnchor('below left', angle2)\n      const A = rotation(point(-r, 0), center, angle2, 'A', labelA)\n\n      // For point E, the base anchor depends on the value of angle\n      const baseE = angle < 0 ? 'below right' : 'above left'\n      const labelE = adjustedAnchor(baseE, angle2)\n      const E = rotation(D, center, angle, 'E', labelE)\n\n      // Define line dAD from A to D\n      const dAD = droite(A, D)\n\n      // For point B, again the base anchor depends on angle:\n      const baseB = angle < 0 ? 'above left' : 'below right'\n      const labelB = adjustedAnchor(baseB, angle2)\n      const B = projectionOrtho(E, dAD, 'B', labelB)\n\n      const C = D // point(AC, 0, 'C', 'below')\n      const ADE = polygone(A, D, E)\n      const ADESED = segment(E, D, 'blue')\n      const ADESAD = segment(A, D)\n      const ADESAE = segment(A, E, 'red')\n      const AEBSAB = segment(A, B, 'red')\n      const AEBSEB = segment(E, B, 'blue')\n      const AEBSEA = segment(A, E)\n      const DEBSED = segment(D, E)\n      const DEBSEB = segment(E, B, 'red')\n      const DEBSBD = segment(B, D, 'blue')\n\n      const sEB = segment(E, B)\n      const codageDroitAED = codageAngleDroit(A, E, D)\n      const codageDroitABE = codageAngleDroit(A, B, E)\n      const codageDroitDBE = codageAngleDroit(D, B, E)\n      const nomDesSommets = creerNomDePolygone(5, listeDeNomsDePolygones)\n      listeDeNomsDePolygones.push(nomDesSommets)\n      if (this.sup2 === true) {\n        A.nom = nomDesSommets[0]\n        B.nom = nomDesSommets[1]\n        C.nom = nomDesSommets[2]\n        D.nom = nomDesSommets[3]\n        E.nom = nomDesSommets[4]\n      }\n      const labels = labelPoint(A, B, C, D, E)\n\n      objetsEnonce = [ADE, sEB, codageDroitABE, codageDroitAED, labels]\n      const objetsCorr1 = [ADE, sEB, codageDroitABE, codageDroitAED, labels]\n      const codageEAB = codageAngle(\n        E,\n        A,\n        B,\n        2,\n        '|',\n        'black',\n        0.5,\n        0.2,\n        'blue',\n        0.8,\n        false,\n        false,\n      )\n      const codageEDB = codageAngle(\n        E,\n        D,\n        B,\n        2,\n        '||',\n        'black',\n        0.5,\n        0.2,\n        'red',\n        0.8,\n        false,\n        false,\n      )\n      const codageAEB = codageAngle(\n        A,\n        E,\n        B,\n        2,\n        '||',\n        'black',\n        0.5,\n        0.2,\n        'red',\n        0.8,\n        false,\n        false,\n      )\n      const codageBED = codageAngle(\n        B,\n        E,\n        D,\n        2,\n        '|',\n        'black',\n        0.5,\n        0.2,\n        'blue',\n        0.8,\n        false,\n        false,\n      )\n      objetsCorr1.push(codageEAB as CodageAngleDroit)\n      objetsCorr1.push(codageEDB as CodageAngleDroit)\n      objetsCorr1.push(codageDroitDBE as CodageAngleDroit)\n      if (this.correctionDetaillee) {\n        texteCorr += `Les trois triangles sont rectangles. Les deux triangles inscrits dans le triangle $\\\\triangle ${A.nom}${E.nom}${D.nom}$ partage un angle avec ce même triangle, l'angle $\\\\widehat{${E.nom}${A.nom}${D.nom}}$ pour le triangle $\\\\triangle ${A.nom}${E.nom}${B.nom}$ (en bleu ci-dessous) et l'angle $\\\\widehat{${E.nom}${D.nom}${A.nom}}$ pour le triangle $\\\\triangle ${E.nom}${D.nom}${B.nom}$ (en rouge ci-dessous).`\n        texteCorr +=\n          '<br>' +\n          mathalea2d(\n            Object.assign(\n              { pixelParCm: 25, scale: 0.4 },\n              fixeBordures(objetsCorr1),\n            ),\n            objetsCorr1,\n          )\n        texteCorr += `Deux triangles qui ont deux paires d'angles égaux ont également leur troisième paire d'angles égaux. Par conséquent, les trois triangles $\\\\triangle ${A.nom}${E.nom}${D.nom}$, $\\\\triangle ${A.nom}${E.nom}${B.nom}$ et $\\\\triangle ${E.nom}${D.nom}${B.nom}$ sont semblables. On identifie les côtés correspondants comme ci-dessous.`\n        const labelsAED = labelPoint(A, E, D)\n        const labelsABE = labelPoint(A, E, B)\n        const labelsEDB = labelPoint(E, D, B)\n        const objetsTrAED = [\n          ADESAD,\n          ADESAE,\n          ADESED,\n          labelsAED,\n          codageDroitAED,\n          codageEDB,\n          codageEAB,\n        ]\n        const objetsTrAEB = [\n          AEBSAB,\n          AEBSEA,\n          AEBSEB,\n          labelsABE,\n          codageDroitABE,\n          codageAEB,\n          codageEAB,\n        ]\n        const objetsTrEDB = [\n          DEBSBD,\n          DEBSEB,\n          DEBSED,\n          labelsEDB,\n          codageDroitDBE,\n          codageEDB,\n          codageBED,\n        ]\n        texteCorr +=\n          '<br>' +\n          mathalea2d(\n            Object.assign(\n              { pixelParCm: 25, scale: 0.4, style: 'display: inline-block' },\n              fixeBordures(objetsTrAED),\n            ),\n            objetsTrAED,\n          )\n        texteCorr += mathalea2d(\n          Object.assign(\n            { pixelParCm: 25, scale: 0.4, style: 'display: inline-block' },\n            fixeBordures(objetsTrAEB),\n          ),\n          objetsTrAEB,\n        )\n        texteCorr += mathalea2d(\n          Object.assign(\n            { pixelParCm: 25, scale: 0.4, style: 'display: inline-block' },\n            fixeBordures(objetsTrEDB),\n          ),\n          objetsTrEDB,\n        )\n        texteCorr += `<br>Par le théorème de Thalès, on a les rapports suivants : \n      <br><br>\n      $\\\\begin{aligned}    \n      \\\\dfrac{${miseEnCouleur(`${A.nom}${E.nom}`, 'red')}}{${miseEnCouleur(`${A.nom}${D.nom}`, 'black')}} = \\\\dfrac{${miseEnCouleur(`${A.nom}${B.nom}`, 'red')}}{${miseEnCouleur(`${A.nom}${E.nom}`, 'black')}} = \\\\dfrac{${miseEnCouleur(`${E.nom}${B.nom}`, 'red')}}{${miseEnCouleur(`${E.nom}${D.nom}`, 'black')}}\\\\\\\\\\\\\\\\\n      \\\\dfrac{${miseEnCouleur(`${A.nom}${E.nom}`, 'red')}}{${miseEnCouleur(`${E.nom}${D.nom}`, 'blue')}} = \\\\dfrac{${miseEnCouleur(`${A.nom}${B.nom}`, 'red')}}{${miseEnCouleur(`${E.nom}${B.nom}`, 'blue')}} = \\\\dfrac{${miseEnCouleur(`${E.nom}${B.nom}`, 'red')}}{${miseEnCouleur(`${B.nom}${D.nom}`, 'blue')}}\\\\\\\\\\\\\\\\\n      \\\\dfrac{${miseEnCouleur(`${A.nom}${D.nom}`, 'black')}}{${miseEnCouleur(`${E.nom}${D.nom}`, 'blue')}} = \\\\dfrac{${miseEnCouleur(`${A.nom}${E.nom}`, 'black')}}{${miseEnCouleur(`${E.nom}${B.nom}`, 'blue')}} = \\\\dfrac{${miseEnCouleur(`${E.nom}${D.nom}`, 'black')}}{${miseEnCouleur(`${B.nom}${D.nom}`, 'blue')}}\n      \\\\end{aligned}$`\n      } else {\n        texteCorr += `Les trois triangles $\\\\triangle ${A.nom}${E.nom}${D.nom}$, $\\\\triangle ${A.nom}${E.nom}${B.nom}$ et $\\\\triangle ${E.nom}${D.nom}${B.nom}$ sont semblables, car ils sont tous rectangles et que $\\\\widehat{EAD}=\\\\widehat{EAB}$ et $\\\\widehat{EDA}=\\\\widehat{EDB}$.`\n      }\n      texte += 'Déterminer la longueur des segments '\n      switch (listeTypeDeQuestions[i]) {\n        // Cas 1 – Données : AB et BD\n        case 1: {\n          const abVal = randint(5, 10)\n          const bdVal = randint(2, abVal, [abVal])\n          texte += `$${A.nom}${E.nom}, ${E.nom}${D.nom}, ${E.nom}${B.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${A.nom + B.nom} = ${abVal}\\\\text{ cm}$ et $${B.nom + D.nom} = ${bdVal}\\\\text{ cm}$.`\n          const racineExtraite1 = extraireRacineCarree(abVal * bdVal)\n          const racineExtraite2 = extraireRacineCarree(\n            abVal * bdVal + bdVal * bdVal,\n          )\n          const racineExtraite3 = extraireRacineCarree(\n            abVal * bdVal + abVal * abVal,\n          )\n\n          texteCorr += `<br> \n          On commence par déterminer $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom} = ${abVal} + ${bdVal} = ${miseEnEvidence(`${abVal + bdVal}\\\\text{ cm}`)}$.\n          <br> On détermine $${E.nom + B.nom}$.  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom}${B.nom}}{${E.nom}${B.nom}} = \\\\dfrac{${E.nom}${B.nom}}{${B.nom}${D.nom}}$, il s'ensuit que $${E.nom + B.nom}^2=${A.nom + B.nom}\\\\times ${B.nom + D.nom} = ${abVal} \\\\times ${bdVal} = ${abVal * bdVal}\\\\text{ cm}$, d'où $${E.nom + B.nom} =${racineExtraite1[1] === abVal * bdVal ? ` ${miseEnEvidence(`\\\\sqrt{${abVal * bdVal}}\\\\text{ cm}`)}` : `\\\\sqrt{${abVal * bdVal}}=${miseEnEvidence(`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}\\\\text{ cm}`)}`}$.<br>\n          On détermine $${E.nom + D.nom}$ et $${A.nom + E.nom}$ en utilisant le théorème de Pythagore. On a \n          $${E.nom + D.nom} = \\\\sqrt{${E.nom + B.nom}^2+${B.nom + D.nom}^2}$, d'où \n          $${E.nom + D.nom}=${racineExtraite2[1] === abVal * bdVal + bdVal * bdVal ? `${miseEnEvidence(`\\\\sqrt{${abVal * bdVal + bdVal * bdVal}}\\\\text{ cm}`)}` : `\\\\sqrt{${abVal * bdVal + bdVal * bdVal}}= ${miseEnEvidence(`${racineExtraite2[0]}${racineExtraite2[1] === 1 ? '' : `\\\\sqrt{${racineExtraite2[1]}}`}\\\\text{ cm}`)}`}$.\n          <br>On a\n          $${A.nom + E.nom} = \\\\sqrt{${A.nom + B.nom}^2 + ${B.nom + E.nom}^2}$, d'où\n          $${A.nom + E.nom}=${racineExtraite3[1] === abVal * bdVal + abVal * abVal ? `${miseEnEvidence(`\\\\sqrt{${abVal * bdVal + abVal * abVal}}\\\\text{ cm}`)}` : `\\\\sqrt{${abVal * bdVal + abVal * abVal}}= ${miseEnEvidence(`${racineExtraite3[0]}${racineExtraite3[1] === 1 ? '' : `\\\\sqrt{${racineExtraite3[1]}}`}\\\\text{ cm}`)}`}$.\n          `\n          break\n        }\n\n        // Cas 2 – Données : BD et AD\n        case 2: {\n          const lVal = randint(12, 20)\n          let abVal: number\n          let bdVal: number\n          do {\n            bdVal = randint(2, lVal - 2)\n            abVal = lVal - bdVal\n          } while (abVal === bdVal)\n          texte += `$${A.nom}${E.nom}, ${A.nom}${B.nom}, ${E.nom}${B.nom}$ et $${E.nom}${D.nom}$, si `\n          texte += `$${B.nom + D.nom} = ${bdVal}\\\\text{ cm}$ et $${A.nom + D.nom} = ${lVal}\\\\text{ cm}$.`\n\n          const racineExtraite1 = extraireRacineCarree(abVal * bdVal)\n          const racineExtraite2 = extraireRacineCarree(\n            abVal * bdVal + bdVal * bdVal,\n          )\n          const racineExtraite3 = extraireRacineCarree(\n            abVal * bdVal + abVal * abVal,\n          )\n\n          texteCorr += `<br>\n  On commence par déterminer $${A.nom + B.nom}$. On a \n  $\n    ${A.nom + B.nom} = ${A.nom + D.nom} - ${B.nom + D.nom}$,\n  d'où \n   $ ${A.nom + B.nom} = ${lVal} - ${bdVal} = ${miseEnEvidence(`${abVal}\\\\text{ cm}`)}$,\n  <br>\n  On détermine ensuite $${E.nom + B.nom}$.  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} \n  $\n    \\\\dfrac{${A.nom}${B.nom}}{${E.nom}${B.nom}} = \\\\dfrac{${E.nom}${B.nom}}{${B.nom}${D.nom}}$,\n  il s'ensuit que\n  $\n    ${E.nom + B.nom}^2 = ${A.nom + B.nom} \\\\times ${B.nom + D.nom} = ${abVal} \\\\times ${bdVal} = ${abVal * bdVal}\\\\text{ cm}^2\n  $,\n  d'où \n  $\n    ${E.nom + B.nom} = ${\n      racineExtraite1[1] === abVal * bdVal\n        ? miseEnEvidence(`\\\\sqrt{${abVal * bdVal}}\\\\text{ cm}`)\n        : `\\\\sqrt{${abVal * bdVal}} = ${miseEnEvidence(`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}\\\\text{ cm}`)}`\n    }$,\n  <br>\n  On détermine $${E.nom + D.nom}$ en appliquant le théorème de Pythagore. On a \n  $\n    ${E.nom + D.nom} = \\\\sqrt{{${E.nom + B.nom}}^2 + {${B.nom + D.nom}}^2} = \\\\sqrt{${abVal * bdVal} + ${bdVal * bdVal}} = \\\\sqrt{${abVal * bdVal + bdVal * bdVal}}\\\\text{ cm}$,\n  d'où $\n    ${E.nom + D.nom} = ${\n      racineExtraite2[1] === abVal * bdVal + bdVal * bdVal\n        ? miseEnEvidence(`\\\\sqrt{${abVal * bdVal + bdVal * bdVal}}\\\\text{ cm}`)\n        : `\\\\sqrt{${abVal * bdVal + bdVal * bdVal}} = ${miseEnEvidence(`${racineExtraite2[0]}${racineExtraite2[1] === 1 ? '' : `\\\\sqrt{${racineExtraite2[1]}}`}\\\\text{ cm}`)}`\n    }$,\n  <br>\n  Enfin, on détermine $${A.nom + E.nom}$ en appliquant le théorème de Pythagore. On a \n    $${A.nom + E.nom} = \\\\sqrt{{${A.nom + B.nom}}^2 + {${E.nom + B.nom}}^2} = \\\\sqrt{${abVal * abVal} + ${abVal * bdVal}} = \\\\sqrt{${abVal * abVal + abVal * bdVal}}\\\\text{ cm}$,\n  d'où \n  $${A.nom + E.nom} = ${\n    racineExtraite3[1] === abVal * abVal + abVal * bdVal\n      ? miseEnEvidence(`\\\\sqrt{${abVal * abVal + abVal * bdVal}}\\\\text{ cm}`)\n      : `\\\\sqrt{${abVal * abVal + abVal * bdVal}} = ${miseEnEvidence(`${racineExtraite3[0]}${racineExtraite3[1] === 1 ? '' : `\\\\sqrt{${racineExtraite3[1]}}`}\\\\text{ cm}`)}$`\n  }.`\n          break\n        }\n\n        // Cas 3 – Données : AB et AD\n        case 3: {\n          const lVal = randint(12, 20)\n          let abVal: number\n          let bdVal: number\n          do {\n            bdVal = randint(2, lVal - 2)\n            abVal = lVal - bdVal\n          } while (abVal === bdVal)\n          texte += `$${A.nom}${E.nom}, ${E.nom}${D.nom}, ${E.nom}${B.nom}$ et $${B.nom}${D.nom}$, si `\n          texte += `$${A.nom + B.nom} = ${abVal}\\\\text{ cm}$ et $${A.nom + D.nom} = ${lVal}\\\\text{ cm}$.`\n\n          // Calcul des racines extraites pour simplifier les résultats :\n          const racineExtraite1 = extraireRacineCarree(abVal * bdVal)\n          const racineExtraite2 = extraireRacineCarree(\n            abVal * bdVal + bdVal * bdVal,\n          )\n          const racineExtraite3 = extraireRacineCarree(\n            abVal * abVal + abVal * bdVal,\n          )\n\n          texteCorr += `<br>\n  On commence par déterminer $${B.nom + D.nom}$ : comme $${B.nom + D.nom} = ${A.nom + D.nom} - ${A.nom + B.nom}$, on a $${B.nom + D.nom} = ${lVal} - ${abVal} = ${miseEnEvidence(`${bdVal}\\\\text{ cm}`)}$. \n\n  <br>\n  On détermine ensuite $${E.nom + B.nom}$.  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} \n  $\n    \\\\dfrac{${A.nom}${B.nom}}{${E.nom}${B.nom}} = \\\\dfrac{${E.nom}${B.nom}}{${B.nom}${D.nom}}$,\n  on a \n  $\n    ${E.nom + B.nom}^2 = ${A.nom + B.nom} \\\\times ${B.nom + D.nom} = ${abVal} \\\\times ${bdVal} = ${abVal * bdVal}\\\\text{ cm}^2\n  $,\n  d'où \n  $\n    ${E.nom + B.nom} = ${\n      racineExtraite1[1] === abVal * bdVal\n        ? miseEnEvidence(`\\\\sqrt{${abVal * bdVal}}\\\\text{ cm}`)\n        : `\\\\sqrt{${abVal * bdVal}} = ${miseEnEvidence(`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}\\\\text{ cm}`)}`\n    }$,\n  <br>\n  On détermine $${E.nom + D.nom}$ en appliquant le théorème de Pythagore. On a \n  $\n    ${E.nom + D.nom} = \\\\sqrt{{${E.nom + B.nom}}^2 + {${B.nom + D.nom}}^2} = \\\\sqrt{${abVal * bdVal} + ${bdVal * bdVal}} = \\\\sqrt{${abVal * bdVal + bdVal * bdVal}}\\\\text{ cm}$,\n  d'où $\n    ${E.nom + D.nom} = ${\n      racineExtraite2[1] === abVal * bdVal + bdVal * bdVal\n        ? miseEnEvidence(`\\\\sqrt{${abVal * bdVal + bdVal * bdVal}}\\\\text{ cm}`)\n        : `\\\\sqrt{${abVal * bdVal + bdVal * bdVal}} = ${miseEnEvidence(`${racineExtraite2[0]}${racineExtraite2[1] === 1 ? '' : `\\\\sqrt{${racineExtraite2[1]}}`}\\\\text{ cm}`)}`\n    }$,\n  <br>\n  Enfin, on détermine $${A.nom + E.nom}$ en appliquant le théorème de Pythagore. On a \n    $${A.nom + E.nom} = \\\\sqrt{{${A.nom + B.nom}}^2 + {${E.nom + B.nom}}^2} = \\\\sqrt{${abVal * abVal} + ${abVal * bdVal}} = \\\\sqrt{${abVal * abVal + abVal * bdVal}}\\\\text{ cm}$,\n  d'où \n  $${A.nom + E.nom} = ${\n    racineExtraite3[1] === abVal * abVal + abVal * bdVal\n      ? miseEnEvidence(`\\\\sqrt{${abVal * abVal + abVal * bdVal}}\\\\text{ cm}`)\n      : `\\\\sqrt{${abVal * abVal + abVal * bdVal}} = ${miseEnEvidence(`${racineExtraite3[0]}${racineExtraite3[1] === 1 ? '' : `\\\\sqrt{${racineExtraite3[1]}}`}\\\\text{ cm}`)}$`\n  }.`\n          break\n        }\n\n        // Cas 4 – Données : AE et AB\n        case 4: {\n          const a = randint(6, 20)\n          const abVal = randint(3, a - 1) // on demande a > AB\n          texte += `$${E.nom}${D.nom}, ${B.nom}${D.nom}, ${E.nom}${B.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${A.nom + E.nom} = ${a}\\\\text{ cm}$ et $${A.nom + B.nom} = ${abVal}\\\\text{ cm}$.`\n          const racineExtraite1 = extraireRacineCarree(a * a - abVal * abVal)\n          const bdVal = new FractionEtendue(a * a - abVal * abVal, abVal)\n          const ebCarreVal = new FractionEtendue(a * a - abVal * abVal, 1)\n          const edVal = bdVal.produitFraction(bdVal).sommeFraction(ebCarreVal)\n\n          texteCorr += `<br>\n          On commence par déterminer $${E.nom + B.nom}$. Par le théorème de Pythagore, on a $${E.nom + B.nom} = \\\\sqrt{${A.nom + E.nom}^2 - ${A.nom + B.nom}^2}$, d'où $${E.nom + B.nom} = \\\\sqrt{${a}^2 - ${abVal}^2} = ${racineExtraite1[1] === a * a - abVal * abVal ? miseEnEvidence(`\\\\sqrt{${a * a - abVal * abVal}}\\\\text{ cm}`) : `\\\\sqrt{${a * a - abVal * abVal}} = ${miseEnEvidence(`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}\\\\text{ cm}`)}`}$.\n          <br> ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + B.nom}}{${E.nom + B.nom}}=\\\\dfrac{${E.nom + B.nom}}{${B.nom + D.nom}}$, il s'ensuit que $${B.nom + D.nom}= \\\\dfrac{${E.nom + B.nom}^2}{${A.nom + B.nom}}=${miseEnEvidence(bdVal.texFractionSimplifiee + '\\\\text{ cm}')}$.\n          <br> On détermine $ED$ à l'aide du théorème de Pythagore. On a $${E.nom + D.nom}=\\\\sqrt{${E.nom + B.nom}^2+${B.nom + D.nom}^2}$, d'où $${E.nom + D.nom}=\\\\sqrt{(${racineExtraite1[1] === a * a - abVal * abVal ? `\\\\sqrt{${a * a - abVal * abVal}}` : `${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}`})^2+${bdVal.simplifie().texParentheses}^2}=${miseEnEvidence(edVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$\n          <br> Enfin, on détermine $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom}$, d'où $${A.nom + D.nom} = ${abVal} + ${bdVal.texFractionSimplifiee} = ${miseEnEvidence(bdVal.ajouteEntier(abVal).texFractionSimplifiee + '\\\\text{ cm}')}$.\n  `\n          break\n        }\n\n        // Cas 5 – Données : AE et ED\n        case 5: {\n          const aeVal = randint(3, 20)\n          const edVal = randint(3, 20, [aeVal]) // on demande a > d\n          const racineExtraite1 = extraireRacineCarree(\n            aeVal * aeVal + edVal * edVal,\n          )\n          const ebCarreVal = new FractionEtendue(\n            aeVal * aeVal * edVal * edVal,\n            aeVal * aeVal + edVal * edVal,\n          )\n          const adCarreVal = aeVal * aeVal + edVal * edVal\n          const abCarreVal = new FractionEtendue(\n            aeVal * aeVal * aeVal * aeVal,\n            adCarreVal,\n          )\n          texte += `$${A.nom}${B.nom}, ${B.nom}${D.nom}, ${E.nom}${B.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${A.nom + E.nom} = ${aeVal}\\\\text{ cm}$ et $${E.nom + D.nom} = ${edVal}\\\\text{ cm}$.`\n          texteCorr += `\n          <br>On détermine $${A.nom + D.nom}$ à l'aide du théorème de Pythagore. On a $${A.nom + D.nom} = \\\\sqrt{${A.nom + E.nom}^2 + ${E.nom + D.nom}^2}$, d'où $${A.nom + D.nom} = \\\\sqrt{${aeVal}^2 + ${edVal}^2} = ${racineExtraite1[1] === aeVal * aeVal + edVal * edVal ? miseEnEvidence(`\\\\sqrt{${aeVal * aeVal + edVal * edVal}}\\\\text{ cm}`) : `\\\\sqrt{${aeVal * aeVal + edVal * edVal}} = ${miseEnEvidence(`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}\\\\text{ cm}`)}`}$\n          <br>  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + E.nom}}{${A.nom + D.nom}}=\\\\dfrac{${E.nom + B.nom}}{${E.nom + D.nom}}$, il s'ensuit que $${E.nom + B.nom}=\\\\dfrac{${A.nom + E.nom}\\\\times ${E.nom + D.nom}}{${A.nom + D.nom}}=${miseEnEvidence(ebCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          <br> On peut à présent utiliser le théorème de Thalès ou le théorème de Pythagore pour déterminer $${A.nom + B.nom}$ ou $${B.nom + D.nom}$.<br>On utilise une des relations données par le théorème de Thalès pour déterminer $${A.nom + B.nom}$. \n          On a $\\\\dfrac{${A.nom + E.nom}}{${A.nom + D.nom}}=\\\\dfrac{${A.nom + B.nom}}{${A.nom + E.nom}}$ d'où $${A.nom + B.nom}=\\\\dfrac{${A.nom + E.nom}^2}{${A.nom + D.nom}}=${miseEnEvidence(abCarreVal.simplifie().texRacineCarree())}$.\n          <br> Enfin, on a que $${B.nom + D.nom} = ${A.nom + D.nom}-${A.nom + B.nom}=${racineExtraite1[1] === aeVal * aeVal + edVal * edVal ? `\\\\sqrt{${aeVal * aeVal + edVal * edVal}}` : `${`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}`}`}-${abCarreVal.simplifie().texRacineCarree()}=${miseEnEvidence(ebCarreVal.produitFraction(ebCarreVal).diviseFraction(abCarreVal).simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n\n        // Cas 6 – Données : AE et AD\n        case 6: {\n          const aeVal = randint(6, 15)\n          const adVal = randint(aeVal + 2, aeVal + 10) // on demande AD > AE\n          const edValCarre = adVal * adVal - aeVal * aeVal\n          const racineExtraite1 = extraireRacineCarree(edValCarre)\n          const ebValCarre = new FractionEtendue(\n            aeVal * aeVal * edValCarre,\n            adVal * adVal,\n          ).simplifie()\n          const bdValCarre = new FractionEtendue(\n            edValCarre,\n            1,\n          ).differenceFraction(ebValCarre)\n          const abValCarre = new FractionEtendue(\n            aeVal * aeVal,\n            1,\n          ).differenceFraction(ebValCarre)\n          texte += `$${A.nom}${B.nom}, ${E.nom}${D.nom}, ${E.nom}${B.nom}$ et $${B.nom}${D.nom}$, si `\n          texte += `$${A.nom + E.nom} = ${aeVal}\\\\text{ cm}$ et $${A.nom + D.nom} = ${adVal}\\\\text{ cm}$.`\n          texteCorr += `<br> Par le théorème de Pythagore, on a $${E.nom + D.nom} = \\\\sqrt{${A.nom + D.nom}^2 - ${A.nom + E.nom}^2}$, d'où $${E.nom + D.nom} = \\\\sqrt{${adVal}^2 - ${aeVal}^2} = ${racineExtraite1[1] === adVal * adVal - aeVal * aeVal ? miseEnEvidence(`\\\\sqrt{${adVal * adVal - aeVal * aeVal}}\\\\text{ cm}`) : `\\\\sqrt{${adVal * adVal - aeVal * aeVal}} = ${miseEnEvidence(`${racineExtraite1[0]}${racineExtraite1[1] === 1 ? '' : `\\\\sqrt{${racineExtraite1[1]}}`}\\\\text{ cm}`)}`}$.\n          <br>  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + E.nom}}{${A.nom + D.nom}}=\\\\dfrac{${E.nom + B.nom}}{${E.nom + D.nom}}$, il s'ensuit que $${E.nom + B.nom}=\\\\dfrac{${A.nom + E.nom}\\\\times ${E.nom + D.nom}}{${A.nom + D.nom}}=${miseEnEvidence(ebValCarre.texRacineCarree() + '\\\\text{ cm}')}$.\n          <br> On peut à présent utiliser le théorème de Thalès ou le théorème de Pythagore pour déterminer $${A.nom + B.nom}$ ou $${B.nom + D.nom}$.<br>On utilise le théorème de Pythagore. On a \n          $${A.nom + B.nom}= \\\\sqrt{${A.nom + E.nom}^2 - ${E.nom + B.nom}^2}$, d'où $${A.nom + B.nom}=\\\\sqrt{${aeVal * aeVal} - ${ebValCarre.texFractionSimplifiee}}=${miseEnEvidence(abValCarre.texRacineCarree() + '\\\\text{ cm}')}$.\n          <br> Enfin, on détermine $${B.nom + D.nom}$. On a $${B.nom + D.nom} = ${A.nom + D.nom}-${A.nom + B.nom}=${adVal}-${abValCarre.texRacineCarree()}=${miseEnEvidence(bdValCarre.texRacineCarree() + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n\n        // ==================================================\n        // CAS 7 – Données : ED et AD\n        // On cherche AB, AE, EB et BD\n        // ==================================================\n        case 7: {\n          // 1) Données aléatoires pour ED (edVal) et AD (adVal)\n          const edVal = randint(5, 12) // ED\n          const adVal = randint(edVal + 2, edVal + 10) // AD > ED\n          const aeCarre = adVal * adVal - edVal * edVal\n          const aeSimpl = extraireRacineCarree(aeCarre)\n          const ebValCarre = new FractionEtendue(\n            edVal * edVal * aeCarre,\n            adVal * adVal,\n          )\n          const abValCarre = new FractionEtendue(aeCarre, 1)\n            .differenceFraction(ebValCarre)\n            .simplifie()\n          // 2) On prépare l'énoncé\n          texte += `$${A.nom}${B.nom}, ${A.nom}${E.nom}, ${E.nom}${B.nom}$ et $${B.nom}${D.nom}$,`\n          texte += ` si $${E.nom + D.nom} = ${edVal}\\\\text{ cm}$ et $${A.nom + D.nom} = ${adVal}\\\\text{ cm}$.`\n\n          // 3) Correction : calculs et justifications\n          // - Triangle AED rectangle en E => AE^2 + ED^2 = AD^2\n          // - Relation de similarité ou Thalès : AE/AD = EB/ED\n          // - Triangle AEB rectangle en B => AB^2 + EB^2 = AE^2\n          // - AB + BD = AD\n\n          texteCorr += `<br>\n    On a $${A.nom + E.nom}^2 = ${A.nom + D.nom}^2 - ${E.nom + D.nom}^2 = ${adVal}^2 - ${edVal}^2 = ${aeCarre}$, \n    d'où $${A.nom + E.nom} = ${\n      aeSimpl[1] === aeCarre\n        ? miseEnEvidence(`\\\\sqrt{${aeCarre}}\\\\text{ cm}`)\n        : `\\\\sqrt{${aeCarre}} = ${miseEnEvidence(`${aeSimpl[0]}${aeSimpl[1] === 1 ? '' : `\\\\sqrt{${aeSimpl[1]}}`}\\\\text{ cm}`)}`\n    }.$\n\n    <br>\n    ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + E.nom}}{${A.nom + D.nom}} = \\\\dfrac{${E.nom + B.nom}}{${E.nom + D.nom}}$,\n    il s'ensuit que $${E.nom + B.nom} = \\\\dfrac{${A.nom + E.nom}\\\\times ${E.nom + D.nom}}{${A.nom + D.nom}} = ${miseEnEvidence(ebValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}.$\n\n    <br>\n   Par le théorème de Pythagore, on a \n    $${A.nom + B.nom} = \\\\sqrt{${A.nom + E.nom}^2 - ${E.nom + B.nom}^2}$ d'où $${A.nom + B.nom} = \\\\sqrt{${aeCarre} - ${ebValCarre.simplifie().texFractionSimplifiee}} = ${miseEnEvidence(abValCarre.texRacineCarree() + '\\\\text{ cm}')}.$\n\n    <br>\n    Enfin, $${B.nom + D.nom} = ${A.nom + D.nom} - ${A.nom + B.nom}=${miseEnEvidence(\n      ebValCarre\n        .multiplieEntier(edVal * edVal)\n        .diviseEntier(aeCarre)\n        .inverse()\n        .simplifie()\n        .texRacineCarree() + '~cm',\n    )}.$ \n  `\n          break\n        }\n        // Cas 8 – Données : AE et EB\n        case 8: {\n          const aeVal = randint(6, 20)\n          const ebVal = randint(2, aeVal - 1)\n          const abValCarre = aeVal * aeVal - ebVal * ebVal\n          const bdValCarre = new FractionEtendue(\n            ebVal * ebVal * ebVal * ebVal,\n            abValCarre,\n          )\n          const edValCarre = new FractionEtendue(\n            ebVal * ebVal,\n            1,\n          ).sommeFraction(bdValCarre)\n          const adVal = edValCarre\n            .ajouteEntier(aeVal * aeVal)\n            .simplifie()\n            .texRacineCarree()\n          texte += `$${A.nom}${B.nom}, ${E.nom}${D.nom}, ${B.nom}${D.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${A.nom + E.nom} = ${aeVal}\\\\text{ cm}$ et $${E.nom + B.nom} = ${ebVal}\\\\text{ cm}$.`\n          texteCorr += `<br> On commence par déterminer $${A.nom + B.nom}$. Par le théorème de Pythagore, on a $${A.nom + B.nom} = \\\\sqrt{${A.nom + E.nom}^2 - ${E.nom + B.nom}^2}$, d'où $${A.nom + B.nom} = \\\\sqrt{${aeVal}^2 - ${ebVal}^2} = ${miseEnEvidence(new FractionEtendue(abValCarre, 1).texRacineCarree() + '\\\\text{ cm}')}$.<br>\n          On détermine ensuite $${B.nom + D.nom}$.  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + B.nom}}{${E.nom + B.nom}}=\\\\dfrac{${E.nom + B.nom}}{${B.nom + D.nom}}$, il s'ensuit que $${B.nom + D.nom}=\\\\dfrac{${E.nom + B.nom}^2}{${A.nom + B.nom}}=${miseEnEvidence(bdValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          <br>On détermine $${E.nom + D.nom}$ en appliquant le théorème de Pythagore. On a $${E.nom + D.nom} = \\\\sqrt{{${E.nom + B.nom}}^2 + {${B.nom + D.nom}}^2} = \\\\sqrt{${ebVal * ebVal} + ${bdValCarre.simplifie().texFractionSimplifiee}} = ${miseEnEvidence(edValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          <br>Enfin, on détermine $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom}=${miseEnEvidence(adVal + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n\n        // Cas 9 – Données : ED et EB\n        case 9: {\n          const edVal = randint(3, 20)\n          const ebVal = randint(2, edVal - 1)\n          const bdValCarre = edVal * edVal - ebVal * ebVal\n          const abValCarre = new FractionEtendue(\n            ebVal * ebVal * ebVal * ebVal,\n            bdValCarre,\n          )\n          const aeValCarre = new FractionEtendue(\n            ebVal * ebVal,\n            1,\n          ).sommeFraction(abValCarre)\n          const adVal = aeValCarre\n            .ajouteEntier(edVal * edVal)\n            .simplifie()\n            .texRacineCarree()\n          texte += `$${A.nom}${E.nom}, ${A.nom}${B.nom}, ${B.nom}${D.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${E.nom + D.nom} = ${edVal}\\\\text{ cm}, ${E.nom + B.nom} = ${ebVal}\\\\text{ cm}$.`\n          texteCorr += `\n          <br>\n          On détermine $${B.nom + D.nom}$ à l'aide du théorème de Pythagore. On a $${B.nom + D.nom} = \\\\sqrt{${E.nom + D.nom}^2 - ${E.nom + B.nom}^2}$, d'où $${B.nom + D.nom} = \\\\sqrt{${edVal}^2 - ${ebVal}^2} = ${miseEnEvidence(new FractionEtendue(bdValCarre, 1).texRacineCarree() + '\\\\text{ cm}')}$.\n         <br>On détermine ensuite $${A.nom + B.nom}$.  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + B.nom}}{${E.nom + B.nom}}=\\\\dfrac{${E.nom + B.nom}}{${B.nom + D.nom}}$, il s'ensuit que $${A.nom + B.nom}=\\\\dfrac{${E.nom + B.nom}^2}{${B.nom + D.nom}}=${miseEnEvidence(abValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n         <br> On détermine $${A.nom + E.nom}$ en appliquant le théorème de Pythagore. On a $${A.nom + E.nom} = \\\\sqrt{{${A.nom + B.nom}}^2 + {${E.nom + B.nom}}^2} = \\\\sqrt{${abValCarre.simplifie().texFractionSimplifiee} + ${ebVal * ebVal}} = ${miseEnEvidence(aeValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n         <br> Enfin, on détermine $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom}=${miseEnEvidence(adVal + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n\n        // Cas 10 – Données : AB et EB\n        case 10: {\n          const abVal = randint(5, 20)\n          const ebVal = randint(2, abVal - 1)\n          const aeValCarre = abVal * abVal + ebVal * ebVal\n          const bdValCarre = new FractionEtendue(\n            ebVal * ebVal * ebVal * ebVal,\n            abVal * abVal,\n          )\n          const edValCarre = new FractionEtendue(\n            ebVal * ebVal,\n            1,\n          ).sommeFraction(bdValCarre)\n          const adVal = edValCarre\n            .ajouteEntier(aeValCarre)\n            .simplifie()\n            .texRacineCarree()\n\n          texte += `$${A.nom}${E.nom}, ${E.nom}${D.nom}, ${B.nom}${D.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${A.nom + B.nom} = ${abVal}\\\\text{ cm}, ${E.nom + B.nom} = ${ebVal}\\\\text{ cm}$.`\n          texteCorr += `<br>On commence par déterminer $${A.nom + E.nom}$. Par le théorème de Pythagore, on a $${A.nom + E.nom} = \\\\sqrt{${A.nom + B.nom}^2 + ${E.nom + B.nom}^2}$, d'où $${A.nom + E.nom} = \\\\sqrt{${abVal}^2 + ${ebVal}^2} = ${miseEnEvidence(new FractionEtendue(aeValCarre, 1).texRacineCarree() + '\\\\text{ cm}')}$.\n          <br> On détermine ensuite $${B.nom + D.nom}$.  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on'} $\\\\dfrac{${A.nom + B.nom}}{${E.nom + B.nom}}=\\\\dfrac{${E.nom + B.nom}}{${B.nom + D.nom}}$, il s'ensuit que $${B.nom + D.nom}=\\\\dfrac{${E.nom + B.nom}^2}{${A.nom + B.nom}}=${miseEnEvidence(bdValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          <br> On détermine $${E.nom + D.nom}$ en appliquant le théorème de Pythagore. On a $${E.nom + D.nom} = \\\\sqrt{{${E.nom + B.nom}}^2 + {${B.nom + D.nom}}^2} = \\\\sqrt{${ebVal * ebVal} + ${bdValCarre.simplifie().texFractionSimplifiee}} = ${miseEnEvidence(edValCarre.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          <br> Enfin, on détermine $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom}=${miseEnEvidence(adVal + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n\n        // Cas 11 – Données : BD et EB\n        case 11: {\n          const dbVal = randint(3, 20)\n          const ebVal = randint(3, 20, [dbVal])\n          const ebCarreVal = ebVal * ebVal\n          const edCarreVal = dbVal * dbVal + ebVal * ebVal\n          const abCarreVal = new FractionEtendue(\n            ebCarreVal * ebCarreVal,\n            dbVal * dbVal,\n          )\n          const aeCarreVal = abCarreVal.ajouteEntier(ebCarreVal)\n          const adVal = aeCarreVal\n            .ajouteEntier(edCarreVal)\n            .simplifie()\n            .texRacineCarree()\n          texte += `$${A.nom}${E.nom}, ${A.nom}${B.nom}, ${E.nom}${D.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${B.nom + D.nom} = ${dbVal}\\\\text{ cm}, ${E.nom + B.nom} = ${new FractionEtendue(ebCarreVal, 1).simplifie().texRacineCarree()}\\\\text{ cm}$.`\n          texteCorr += `<br> Par le théorème de Pythagore, on a $${E.nom + D.nom}=\\\\sqrt{${B.nom + D.nom}^2 + ${E.nom + B.nom}^2}$, d'où $${E.nom + D.nom} = \\\\sqrt{${dbVal}^2 + ${new FractionEtendue(ebCarreVal, 1).simplifie().texRacineCarree()}^2} = ${miseEnEvidence(new FractionEtendue(edCarreVal, 1).texRacineCarree() + '\\\\text{ cm}')}$. <br>  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + B.nom}}{${E.nom + B.nom}}=\\\\dfrac{${E.nom + B.nom}}{${B.nom + D.nom}}$, il s'ensuit que $${A.nom + B.nom}=\\\\dfrac{${E.nom + B.nom}^2}{${B.nom + D.nom}}=${miseEnEvidence(abCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.<br> Par le théorème de Pythagore, on a $${A.nom + E.nom} = \\\\sqrt{${A.nom + B.nom}^2 + ${E.nom + B.nom}^2}$, d'où $${A.nom + E.nom} = \\\\sqrt{${abCarreVal.simplifie().texFractionSimplifiee} + ${ebCarreVal}} = ${miseEnEvidence(aeCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.<br> Enfin, on détermine $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom}=${miseEnEvidence(adVal + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n\n        // Cas 12 – Données : ED et BD\n        case 12: {\n          const edVal = randint(3, 15)\n          const bdVal = randint(2, edVal - 1)\n          const ebCarreVal = new FractionEtendue(\n            edVal * edVal - bdVal * bdVal,\n            1,\n          )\n          const abCarreVal = ebCarreVal\n            .produitFraction(ebCarreVal)\n            .produitFraction(new FractionEtendue(bdVal * bdVal, 1).inverse())\n          const adCarreVal = new FractionEtendue(\n            edVal * edVal * edVal * edVal,\n            1,\n          ).produitFraction(new FractionEtendue(bdVal * bdVal, 1).inverse())\n          const aeCarreVal = adCarreVal.ajouteEntier(-edVal * edVal)\n          texte += `$${A.nom}${E.nom}, ${A.nom}${B.nom}, ${E.nom}${B.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${E.nom + D.nom} = ${edVal}\\\\text{ cm}$ et $${B.nom + D.nom} = ${bdVal}\\\\text{ cm}$.`\n          texteCorr += `<br> Par le théorème de Pythagore, on a $${E.nom + B.nom}^2=\\\\sqrt{${E.nom + D.nom}^2 - ${B.nom + D.nom}^2}$, d'où $${E.nom + B.nom} = \\\\sqrt{${edVal}^2 - ${bdVal}^2} = ${miseEnEvidence(ebCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$. <br>  ${this.correctionDetaillee ? 'Par la relation' : 'Par le théorème de Thalès, on a '} $\\\\dfrac{${A.nom + B.nom}}{${E.nom + B.nom}}=\\\\dfrac{${E.nom + B.nom}}{${B.nom + D.nom}}$, il s'ensuit que $${A.nom + B.nom}=\\\\dfrac{${E.nom + B.nom}^2}{${B.nom + D.nom}}=${miseEnEvidence(abCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.<br> Par le théorème de Pythagore, on a $${A.nom + E.nom} = \\\\sqrt{${A.nom + B.nom}^2 + ${E.nom + B.nom}^2}$, d'où $${A.nom + E.nom} = \\\\sqrt{${abCarreVal.simplifie().texFractionSimplifiee} + ${ebCarreVal.texFractionSimplifiee}} = ${miseEnEvidence(aeCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.<br> Enfin, on détermine $${A.nom + D.nom}$. On a $${A.nom + D.nom} = ${A.nom + B.nom} + ${B.nom + D.nom}=${miseEnEvidence(adCarreVal.simplifie().texRacineCarree() + '\\\\text{ cm}')}$.\n          `\n          break\n        }\n      }\n\n      // Cas 13 – Données : AE et BD de côté pour l'instant, il faut utiliser plus que les simples relations\n      /*         case 13: {\n          const aeVal = randint(5, 15)\n          const bdVal = randint(2, aeVal - 1)\n\n          segments = [[A, E], [B, D]]\n          texte += `$${A.nom}${B.nom}, ${E.nom}${D.nom}, ${E.nom}${B.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${A.nom + E.nom} = ${aeVal}\\\\text{ cm}, \\\\quad ${B.nom + D.nom} = ${bdVal}\\\\text{ cm}$.`\n          texteCorr += `<br> D'une part on a par le théorème de Pythagore que $${A.nom+E.nom}^2=${E.nom+B.nom}^2+${A.nom+B.nom}^2$. D'autre part, on par la relation $\\\\dfrac{${E.nom+B.nom}}{${B.nom+D.nom}}=\\\\dfrac{${A.nom+B.nom}}{${E.nom+B.nom}}$ on a $${E.nom+B.nom}^2=${A.nom+B.nom}\\\\times ${B.nom+D.nom}$. On substitue ${E.nom+B.nom}^2$ dans la relation obtenue par le théorème de Pythagore pour obtenir<br>\n          \\\\begin{aligned}\n          & ${A.nom + E.nom}^2 = ${A.nom + B.nom} \\\\times ${B.nom + D.nom} + ${A.nom + B.nom}^2 \\\\\\\\\n          \\\\end{aligned}\n          `\n          break\n        } */\n\n      // Cas 14 – Données : ED et AB idem que pour le 13, de côté pour l'instant\n      /* case 14: {\n          const dVal = randint(3, 10)\n          const xVal = randint(5, 10)\n          // d^2 = (AD - AB)*AD, avec AB = xVal\n          const adVal = (xVal + Math.sqrt(xVal * xVal + 4 * dVal * dVal)) / 2\n          const bdVal = adVal - xVal\n          segments = [[E, D], [A, B]]\n          texte += `$${A.nom}${E.nom}, ${B.nom}${D.nom}, ${E.nom}${B.nom}$ et $${A.nom}${D.nom}$, si `\n          texte += `$${E.nom + D.nom} = ${dVal}\\\\text{ cm}, \\\\quad ${A.nom + B.nom} = ${xVal}\\\\text{ cm}$.`\n          texteCorr += `\n          `\n          break\n        } */\n\n      // Cas 15 – Données : EB et AD idem que pour le 12 et 13\n      /*         case 15: {\n          const h = randint(2, 8)\n          const lVal = randint(h + 3, h + 12)\n          // On pose AB = t tel que t*(L-t)= h^2; t^2 - L*t + h^2 = 0\n          const delta = lVal * lVal - 4 * h * h\n          const t = (lVal - Math.sqrt(delta)) / 2\n          const abVal = t\n          const bdVal = lVal - t\n          segments = [[E, B], [A, D]]\n          texte += `$${A.nom}${E.nom}, ${A.nom}${B.nom}, ${E.nom}${D.nom}$ et $${B.nom}${D.nom}$, si `\n          texte += `$${E.nom + B.nom} = ${h}\\\\text{ cm}$ et $${A.nom + D.nom} = ${lVal}\\\\text{ cm}$.`\n          texteCorr += `\n          `\n          break\n        } */\n\n      texte +=\n        '<br>' +\n        mathalea2d(\n          Object.assign(\n            { pixelParCm: 25, scale: 0.4 },\n            fixeBordures(objetsEnonce),\n          ),\n          objetsEnonce,\n        )\n\n      if (this.questionJamaisPosee(i, texte)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","uuid","refs","RelationsMetriquesTriangleRectangle","Exercice","typesDeQuestionsDisponibles","gestionnaireFormulaireTexte","listeTypeDeQuestions","combinaisonListes","i","cpt","adjustedAnchor","base","angle2","anchors","baseIndex","quadrant","newIndex","texte","texteCorr","objetsEnonce","listeDeNomsDePolygones","center","point","angle","choice","randint","r","labelD","D","rotation","labelA","A","baseE","labelE","E","dAD","droite","baseB","labelB","B","projectionOrtho","C","ADE","polygone","ADESED","segment","ADESAD","ADESAE","AEBSAB","AEBSEB","AEBSEA","DEBSED","DEBSEB","DEBSBD","sEB","codageDroitAED","codageAngleDroit","codageDroitABE","codageDroitDBE","nomDesSommets","creerNomDePolygone","labels","labelPoint","objetsCorr1","codageEAB","codageAngle","codageEDB","codageAEB","codageBED","mathalea2d","fixeBordures","labelsAED","labelsABE","labelsEDB","objetsTrAED","objetsTrAEB","objetsTrEDB","miseEnCouleur","abVal","bdVal","racineExtraite1","extraireRacineCarree","racineExtraite2","racineExtraite3","miseEnEvidence","lVal","a","FractionEtendue","ebCarreVal","edVal","aeVal","adCarreVal","abCarreVal","adVal","edValCarre","ebValCarre","bdValCarre","abValCarre","aeCarre","aeSimpl","ebVal","aeValCarre","dbVal","edCarreVal","aeCarreVal","listeQuestionsToContenu"],"mappings":"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"}