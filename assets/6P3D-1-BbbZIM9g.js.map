{"version":3,"file":"6P3D-1-BbbZIM9g.js","sources":["../../src/exercices/6e/6P3D-1.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport {\n  handleAnswers,\n  setReponse,\n} from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Utiliser la proportionnalité'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\nexport const dateDePublication = '02/05/2025'\nexport const dateDeModifImportante = '02/05/2025'\n\n/**\n *\n * @author Mickael Guironnet\n */\nexport const uuid = '51d14'\n\nexport const refs = {\n  'fr-fr': ['6P3D-1'],\n  'fr-2016': ['6P11-4'],\n  'fr-ch': ['9FA3-18'],\n}\nexport default class ProblemesDeProportionnalité extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 4\n    this.consigne =\n      'On considère que les situations suivantes sont des situations de proportionnalités. Compléter.'\n    this.sup = 1\n    this.sup2 = 4\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      3,\n      '1 : Valeurs entières\\n2 : Une décimale\\n3 : Deux décimales',\n    ]\n    this.besoinFormulaire2Texte = [\n      'Type de questions',\n      `Nombres séparés par des tirets :\n  1 : Passage à l'unité\n  2 : Recherche d'une quantité\n  3 : Recherche du nombre de cartons\n  4 : Mélange`,\n    ]\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestions = gestionnaireFormulaireTexte({\n      max: 3,\n      defaut: 1,\n      melange: 4,\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup2,\n    })\n    typesDeQuestions.forEach((value, index, arr) => {\n      if (value === 2) {\n        arr[index] = randint(0, 1) < 1 ? 21 : 22\n        // 21 pour la multiplciation et 22 pour la division\n      } else if (value === 3) {\n        arr[index] = randint(0, 1) < 1 ? 31 : 32\n        // 31 pour la multiplciation et 32 pour la division\n      }\n    })\n    const n = this.sup - 1\n    const fois = [2, 3, 4, 5, 10]\n    const foisUsed: number[] = []\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      const f = choice(fois, foisUsed) // On choisit un nombre de fois aléatoire\n      const quantite =\n        randint(2, 10) * 10 +\n        randint(1, 9) +\n        (n > 0 ? randint(1, 9) * 0.1 : 0) +\n        (n > 1 ? randint(1, 9) * 0.01 : 0)\n      const cartons = randint(2, 10)\n      const unites = ['€', 'kg', 'L']\n      switch (\n        typesDeQuestions[i] // Suivant le type de question, le contenu sera différent\n      ) {\n        case 1: {\n          const unité = choice(unites)\n          texte = this.createArray(\n            `$${f}$ cartons`,\n            '$\\\\rightarrow$',\n            `$${texNombre(f * quantite)}~\\\\text{${unité}}$`,\n            `$${1}$ carton`,\n            '$\\\\rightarrow$',\n            this.interactif && !context.isAmc\n              ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                  texteApres: ` ${unité}`,\n                })\n              : '....',\n          )\n          texteCorr = `$${f}~\\\\text{cartons} \\\\div ${f} = 1~\\\\text{carton}$<br>`\n          texteCorr += `$${texNombre(quantite * f)} \\\\text{ ${unité}} \\\\div ${f} = ${texNombre(quantite)} \\\\text{ ${unité}}$<br>`\n          texteCorr +=\n            'Donc le résultat est ' +\n            `$${miseEnEvidence(texNombre(quantite))}$ ${unité}.`\n          if (context.isAmc) setReponse(this, i, quantite)\n          else handleAnswers(this, i, { reponse: { value: quantite } })\n          break\n        }\n        case 21: {\n          const unité = choice(unites)\n          texte = this.createArray(\n            `$${cartons}$ cartons`,\n            '$\\\\rightarrow$',\n            `$${texNombre(quantite)}~\\\\text{${unité}}$`,\n            `$${cartons * f}$ cartons`,\n            '$\\\\rightarrow$',\n            this.interactif && !context.isAmc\n              ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                  texteApres: ` ${unité}`,\n                })\n              : '....',\n          )\n          texteCorr = `$${cartons}~\\\\text{cartons} \\\\times ${f} = ${cartons * f}~\\\\text{cartons}$<br>`\n          texteCorr += `$${texNombre(quantite)}~\\\\text{${unité}} \\\\times ${f} = ${texNombre(quantite * f)}~\\\\text{${unité}}$<br>`\n          texteCorr +=\n            'Donc le résultat est ' +\n            `$${miseEnEvidence(texNombre(quantite * f))}$ ${unité}.`\n          if (context.isAmc) setReponse(this, i, quantite * f)\n          else handleAnswers(this, i, { reponse: { value: quantite * f } })\n          break\n        }\n        case 22: {\n          const unité = choice(unites)\n          texte = this.createArray(\n            `$${cartons * f}$ cartons`,\n            '$\\\\rightarrow$',\n            `$${texNombre(quantite * f)}~\\\\text{${unité}}$`,\n            `$${cartons}$ cartons`,\n            '$\\\\rightarrow$',\n            this.interactif && !context.isAmc\n              ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                  texteApres: ` ${unité}`,\n                })\n              : '....',\n          )\n          texteCorr = `$${cartons * f}~\\\\text{cartons} \\\\div ${f} = ${cartons}~\\\\text{cartons}$<br>`\n          texteCorr += `$${texNombre(quantite * f)}~\\\\text{${unité}} \\\\div ${f} = ${texNombre(quantite)}~\\\\text{${unité}}$<br>`\n          texteCorr +=\n            'Donc le résultat est ' +\n            `$${miseEnEvidence(texNombre(quantite))}$ ${unité}.`\n          if (context.isAmc) setReponse(this, i, quantite)\n          else handleAnswers(this, i, { reponse: { value: quantite } })\n          break\n        }\n        case 31: {\n          const unité = choice(unites)\n          texte = this.createArray(\n            `$${cartons}$ cartons`,\n            '$\\\\rightarrow$',\n            `$${texNombre(quantite)}~\\\\text{${unité}}$`,\n            this.interactif && !context.isAmc\n              ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                  texteApres: ' cartons',\n                })\n              : '....',\n            '$\\\\rightarrow$',\n            `$${texNombre(quantite * f)} \\\\text{ ${unité}}$`,\n          )\n          texteCorr = `$${texNombre(quantite)}~\\\\text{${unité}} \\\\times ${f} = ${texNombre(quantite * f)}~\\\\text{${unité}}$<br>`\n          texteCorr += `$${cartons}~\\\\text{cartons} \\\\times ${f} = ${cartons * f}~\\\\text{cartons}$<br>`\n          texteCorr +=\n            'Donc le résultat est ' +\n            `$${miseEnEvidence(cartons * f)}$ cartons.`\n          if (context.isAmc) setReponse(this, i, cartons * f)\n          else handleAnswers(this, i, { reponse: { value: cartons * f } })\n          break\n        }\n        case 32: {\n          const unité = choice(unites)\n          texte = this.createArray(\n            `$${cartons * f}$ cartons`,\n            '$\\\\rightarrow$',\n            `$${texNombre(quantite * f)}~\\\\text{${unité}}$`,\n            this.interactif && !context.isAmc\n              ? ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers, {\n                  texteApres: ' cartons',\n                })\n              : '....',\n            '$\\\\rightarrow$',\n            `$${texNombre(quantite)} \\\\text{ ${unité}}$`,\n          )\n          texteCorr = `$${texNombre(quantite * f)}~\\\\text{${unité}} \\\\div ${f} = ${texNombre(quantite)}~\\\\text{${unité}}$<br>`\n          texteCorr += `$${cartons * f}~\\\\text{cartons} \\\\div ${f} = ${cartons}~\\\\text{cartons}$<br>`\n          texteCorr +=\n            'Donc le résultat est ' + `$${miseEnEvidence(cartons)}$ cartons.`\n          if (context.isAmc) setReponse(this, i, cartons)\n          else handleAnswers(this, i, { reponse: { value: cartons } })\n          break\n        }\n      }\n      if (this.questionJamaisPosee(i, cartons, f)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        foisUsed.push(f) // On enlève le nombre de fois utilisé pour ne pas le réutiliser\n        if (foisUsed.length === fois.length) foisUsed.splice(0, foisUsed.length) // Si tous les nombres de fois ont été utilisés, on les réinitialise\n        this.listeQuestions[i] = texte ?? ''\n        this.listeCorrections[i] = texteCorr ?? ''\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  createArray(\n    cel11: string,\n    cel12: string,\n    cel13: string,\n    cel21: string,\n    cel22: string,\n    cel23: string,\n  ): string {\n    if (context.isHtml) {\n      const texte = `<span style=\"display: inline-grid; grid-template-columns: auto auto auto; gap: 0.5em;\">\n               <span class='mt-auto mb-auto'> ${cel11} </span><span class='mt-auto mb-auto'> ${cel12}</span><span class='mt-auto mb-auto'>  ${cel13}</span>\n               <span class='mt-auto mb-auto'> ${cel21} </span><span class='mt-auto mb-auto'> ${cel22}</span><span class='mt-auto mb-auto'>  ${cel23}</span>\n                </span>`\n      return texte\n    } else {\n      const texte = `\\\\begin{tabular}[t]{ccc}\n                       ${cel11} & ${cel12} & ${cel13} \\\\\\\\\n                       ${cel21} & ${cel22} & ${cel23} \\\\\\\\\n                       \\\\end{tabular}`\n      return texte\n    }\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDePublication","dateDeModifImportante","uuid","refs","ProblemesDeProportionnalité","Exercice","typesDeQuestions","gestionnaireFormulaireTexte","value","index","arr","randint","n","fois","foisUsed","i","texte","texteCorr","cpt","f","choice","quantite","cartons","unites","unité","texNombre","context","ajouteChampTexteMathLive","KeyboardType","miseEnEvidence","setReponse","handleAnswers","listeQuestionsToContenu","cel11","cel12","cel13","cel21","cel22","cel23"],"mappings":"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"}