{"version":3,"file":"auto6P1A-D3MiVYp1.js","sources":["../../src/exercices/6e/auto6P1A.ts"],"sourcesContent":["import { traceBarre } from '../../lib/2d/diagrammes'\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { repere } from '../../lib/2d/reperes'\nimport { propositionsQcm } from '../../lib/interactif/qcm'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport {\n  numAlpha,\n  premiereLettreEnMajuscule,\n} from '../../lib/outils/outilString'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Lire un diagramme en bâtons'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\nexport const interactifReady = true\nexport const interactifType = 'qcm'\n\n/**\n * Lire un diagramme en bâtons\n * @author Erwan Duplessy\n * Conversion Amc et interactif par Jean-Claude Lhote\n */\n\nexport const uuid = '17bce'\n\nexport const refs = {\n  'fr-fr': ['auto6P1A'],\n  'fr-2016': ['6S10'],\n  'fr-ch': ['9FA1-1'],\n}\nexport default class LectureDiagrammeBaton extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      \"Nombre d'espèces différentes\",\n      3,\n      '1 : 4 espèces\\n2 : 5 espèces\\n3 : 6 espèces',\n    ]\n    this.besoinFormulaire2Numerique = [\n      'Valeurs numériques',\n      2,\n      '1 : Entre 1 et 100\\n2 : Entre 100 et 1 000',\n    ]\n\n    this.consigne = \"Répondre aux questions à l'aide du graphique.\"\n    this.nbQuestions = 1\n    this.nbQuestionsModifiable = false\n\n    this.sup = 1\n    this.sup2 = 1\n    this.spacing = 2\n    this.spacingCorr = 2\n  }\n\n  nouvelleVersion() {\n    const bornesinf = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]\n    const lstAnimaux = [\n      'girafes',\n      'zèbres',\n      'gnous',\n      'buffles',\n      'gazelles',\n      'crocodiles',\n      'rhinocéros',\n      'léopards',\n      'guépards',\n      'hyènes',\n      'lycaons',\n      'servals',\n      'phacochères',\n    ]\n    let nbAnimaux = 4 // nombre d'animaux différents dans l'énoncé\n\n    // coefficient pour gérer les deux types d'exercices (entre 1 et 100) ou (entre 10 et 1000)\n    let coef = 1\n    switch (this.sup2) {\n      case 1:\n        coef = 1\n        break\n      case 2:\n        coef = 10\n        break\n    }\n    const r = repere({\n      grilleX: false,\n      grilleY: true,\n      xThickListe: false,\n      xLabelListe: false,\n      yUnite: 0.1 / coef,\n      yThickDistance: 10 * coef,\n      yMax: 100 * coef,\n      xMin: 0,\n      xMax: 10,\n      yMin: 0,\n      axeXStyle: '',\n      yLegende: \"Nombre d'individus\",\n      yLegendePosition: [2, 10.5],\n    })\n\n    switch (this.sup) {\n      case 1:\n        nbAnimaux = 4\n        break\n      case 2:\n        nbAnimaux = 5\n        break\n      case 3:\n        nbAnimaux = 6\n        break\n      default:\n        nbAnimaux = 4\n    }\n    const propa = []\n    const propb = []\n    const propc = []\n    const lstAnimauxExo: string[] = [] // liste des animaux uniquement cités dans l'exercice\n    const lstNombresAnimaux: number[] = [] // liste des effectifs de chaque animal\n    let lstVal = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100] // liste des valeurs à éviter pour les effectifs\n    let N = 0\n    let nom\n\n    for (let i = 0; i < nbAnimaux; i++) {\n      N = randint(2, 100, lstVal) // choisit un nombre entre 2 et 100 sauf dans les valeurs à éviter\n      lstNombresAnimaux.push(N * coef)\n      lstVal = lstVal.concat([N - 1, N, N + 1]) // valeurs à supprimer pour éviter des valeurs proches\n    }\n\n    for (let i = 0; i < nbAnimaux; i++) {\n      nom = choice(lstAnimaux, lstAnimauxExo) // choisit un animal au hasard sauf parmi ceux déjà utilisés\n      lstAnimauxExo.push(nom)\n    }\n    const nMin = Math.min(...lstNombresAnimaux)\n    const nMax = Math.max(...lstNombresAnimaux)\n\n    const lstNomParc = [\n      'Dramve',\n      'Fatenmin',\n      'Batderfa',\n      'Vihi',\n      'Genser',\n      'Barbetdou',\n      'Dramrendu',\n      'Secai',\n      'Cipeudram',\n      'Cigel',\n      'Lisino',\n      'Fohenlan',\n      'Farnfoss',\n      'Kinecardine',\n      'Zeffari',\n      'Barmwich',\n      'Swadlincote',\n      'Swordbreak',\n      'Loshull',\n      'Ruyron',\n      'Fluasall',\n      'Blueross',\n      'Vlane',\n    ]\n    this.introduction =\n      'Dans le parc naturel de ' +\n      choice(lstNomParc) +\n      \", il y a beaucoup d'animaux.<br>Voici un diagramme en bâtons qui donne le nombre d'individus pour chaque espèce.<br>\"\n    this.listeQuestions[0] = 'Quels sont les animaux les plus nombreux ?'\n    this.listeQuestions[1] = 'Quels sont les animaux les moins nombreux ?'\n    const numAnimal = randint(0, nbAnimaux - 1)\n    this.listeQuestions[2] =\n      this.sup2 === 1\n        ? 'Donner un encadrement, à la dizaine, du nombre de ' +\n          lstAnimauxExo[numAnimal] +\n          ' ?'\n        : 'Donner un encadrement, à la centaine, du nombre de ' +\n          lstAnimauxExo[numAnimal] +\n          ' ?'\n    const lstElementGraph = []\n    const bornesAEviter = [\n      10 *\n        coef *\n        Math.floor(\n          lstNombresAnimaux[lstAnimauxExo.indexOf(lstAnimauxExo[numAnimal])] /\n            (10 * coef),\n        ),\n    ]\n    for (let i = 0, borne, reponsea, reponseb, reponsec; i < nbAnimaux; i++) {\n      lstElementGraph.push(\n        traceBarre(\n          ((r.xMax - r.xMin) / (nbAnimaux + 1)) * (i + 1),\n          lstNombresAnimaux[i],\n          premiereLettreEnMajuscule(lstAnimauxExo[i]),\n          { unite: 0.1 / coef },\n        ),\n      )\n      reponsea = i === 0 ? { texte: '1) Animaux les plus nombreux :' } : {}\n      propa.push({\n        texte: premiereLettreEnMajuscule(lstAnimauxExo[i]),\n        statut: i === lstNombresAnimaux.indexOf(nMax),\n        reponse: reponsea,\n      })\n      reponseb = i === 0 ? { texte: '2) Animaux les moins nombreux :' } : {}\n      propb.push({\n        texte: premiereLettreEnMajuscule(lstAnimauxExo[i]),\n        statut: i === lstNombresAnimaux.indexOf(nMin),\n        reponse: reponseb,\n      })\n      reponsec =\n        i === 0\n          ? {\n              texte: `3) encadrement du nombre de ${lstAnimauxExo[numAnimal]} :`,\n            }\n          : {}\n      if (i === numAnimal) {\n        propc.push({\n          texte: `entre ${bornesAEviter[0]} et ${bornesAEviter[0] + 10 * coef}`,\n          statut: true,\n          reponse: reponsec,\n        })\n      } else {\n        borne = choice(bornesinf, bornesAEviter)\n        bornesAEviter.push(borne)\n        propc.push({\n          texte: `entre ${coef * borne} et ${(borne + 10) * coef}`,\n          statut: false,\n          reponse: reponsec,\n        })\n      }\n    }\n\n    this.introduction += mathalea2d(\n      Object.assign(\n        { zoom: 1, scale: 0.5 },\n        fixeBordures([r, ...lstElementGraph]),\n      ),\n      r,\n      lstElementGraph,\n    )\n\n    // debut de la correction\n    // question 1\n    this.listeCorrections[0] =\n      'Les animaux les plus nombreux sont les ' +\n      lstAnimauxExo[lstNombresAnimaux.indexOf(nMax)] +\n      '.<br>'\n    // question 2\n    this.listeCorrections[1] =\n      'Les animaux les moins nombreux sont les ' +\n      lstAnimauxExo[lstNombresAnimaux.indexOf(nMin)] +\n      '.<br>'\n\n    // question 3\n    const reponse =\n      lstNombresAnimaux[lstAnimauxExo.indexOf(lstAnimauxExo[numAnimal])]\n    const reponseinf = 10 * coef * Math.floor(reponse / (10 * coef))\n    const reponsesup = reponseinf + 10 * coef\n    this.listeCorrections[2] =\n      'Il y a entre ' +\n      reponseinf +\n      ' et ' +\n      reponsesup +\n      ' ' +\n      lstAnimauxExo[numAnimal] +\n      '.<br>'\n    if (context.isAmc) {\n      this.autoCorrection[0] = {\n        enonce: '',\n        propositions: [\n          {\n            type: 'qcmMono',\n            propositions: propa,\n            options: {\n              ordered: false,\n            },\n            enonce: this.introduction + numAlpha(0) + this.listeQuestions[0],\n          },\n          {\n            type: 'qcmMono',\n            options: { ordered: false },\n            enonce: numAlpha(1) + this.listeQuestions[1],\n            propositions: propb,\n          },\n          {\n            type: 'qcmMono',\n            options: { ordered: false },\n            enonce: numAlpha(2) + this.listeQuestions[2],\n            propositions: propc,\n          },\n        ],\n      }\n    } else {\n      this.autoCorrection[0] = {\n        // @ts-expect-error\n        type: 'qcmMono',\n        propositions: propa,\n        options: { ordered: false, vertical: nbAnimaux > 5 },\n      }\n      this.autoCorrection[1] = {\n        // @ts-expect-error\n        type: 'qcmMono',\n        propositions: propb,\n        options: { ordered: false, vertical: nbAnimaux > 5 },\n      }\n      this.autoCorrection[2] = {\n        // @ts-expect-error\n        type: 'qcmMono',\n        propositions: propc,\n        options: { ordered: false, vertical: true },\n      }\n    }\n    if (!context.isAmc) {\n      const qcm0 = propositionsQcm(this, 0)\n      const qcm1 = propositionsQcm(this, 1)\n      const qcm2 = propositionsQcm(this, 2)\n      this.listeQuestions[0] += `<br>${qcm0.texte}`\n      this.listeQuestions[1] += `<br>${qcm1.texte}`\n      this.listeQuestions[2] += `<br>${qcm2.texte}`\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","interactifReady","interactifType","uuid","refs","LectureDiagrammeBaton","Exercice","bornesinf","lstAnimaux","nbAnimaux","coef","r","repere","propa","propb","propc","lstAnimauxExo","lstNombresAnimaux","lstVal","N","nom","i","randint","choice","nMin","nMax","lstNomParc","numAnimal","lstElementGraph","bornesAEviter","borne","reponsea","reponseb","reponsec","traceBarre","premiereLettreEnMajuscule","mathalea2d","fixeBordures","reponse","reponseinf","reponsesup","context","numAlpha","qcm0","propositionsQcm","qcm1","qcm2","listeQuestionsToContenu"],"mappings":"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"}