{"version":3,"file":"5R11-2-C9VgCuF-.js","sources":["../../src/exercices/5e/5R11-2.ts"],"sourcesContent":["import { orangeMathalea } from 'apigeom/src/elements/defaultValues'\nimport type Figure from 'apigeom/src/Figure'\nimport { apigeomGraduatedLine } from '../../lib/apigeom/apigeomGraduatedLine'\nimport figureApigeom from '../../lib/figureApigeom'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const interactifReady = true\nexport const interactifType = 'custom'\nexport const amcReady = true\nexport const amcType = 'AMCOpen'\n\nexport const titre =\n  \"Placer un point sur une droite gradu√©e dont l'abscisse est un nombre relatif\"\nexport const dateDeModifImportante = '03/05/2024'\n\n/**\n * Placer un point d'abscisse un nombre relatif\n * @author Jean-Claude Lhote et R√©mi Angot\n */\nexport const uuid = '6d576'\n\nexport const refs = {\n  'fr-fr': ['5R11-2', '3AutoN15-2'],\n  'fr-ch': ['9NO9-2'],\n}\n\ntype goodAnswer = { label: string; x: number }[]\n\nclass PlacerPointsSurAxeRelatifs extends Exercice {\n  goodAnswers: goodAnswer[] = []\n  constructor() {\n    super()\n    this.nbQuestions = 2\n    this.sup = 1\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficult√©',\n      4,\n      '1 : Nombre relatif √† une d√©cimale\\n2 : Nombre relatif √† deux d√©cimales\\n3 : Nombre relatif √† trois d√©cimales\\n4 : M√©lange',\n    ]\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestions\n\n    this.figures = []\n    if (this.sup === 4) {\n      typesDeQuestions = combinaisonListes([1, 2, 3], this.nbQuestions)\n    } else {\n      typesDeQuestions = combinaisonListes(\n        [parseInt(this.sup)],\n        this.nbQuestions,\n      )\n    }\n\n    this.contenu = this.consigne\n    for (let i = 0; i < this.nbQuestions; i++) {\n      let abs0, step, stepBis: number\n      let texte = ''\n      let texteCorr = ''\n      const label1 = lettreDepuisChiffre(i * 3 + 1)\n      const label2 = lettreDepuisChiffre(i * 3 + 2)\n      const label3 = lettreDepuisChiffre(i * 3 + 3)\n      switch (typesDeQuestions[i]) {\n        case 1: // 1 d√©cimale\n          abs0 = randint(-7, -3)\n          step = 1\n          stepBis = 10\n          break\n\n        case 2: // 2 d√©cimales\n          abs0 = randint(-4, -2) / 10\n          step = 10\n          stepBis = 10\n          break\n\n        default: // 3 d√©cimales\n          abs0 = randint(-10, -2) / 100\n          step = 100\n          stepBis = 10\n          break\n      }\n      const x1 = randint(0, 2)\n      const x2 = randint(3, 4)\n      const x3 = randint(5, 6)\n      const x11 = randint(1, 9)\n      const x22 = randint(1, 9)\n      const x33 = randint(1, 3)\n      const abs1 = arrondi(\n        abs0 + x1 / step + x11 / step / stepBis,\n        typesDeQuestions[i],\n      ) // le type de questions est √©gal au nombre de d√©cimales.\n      const abs2 = arrondi(\n        abs0 + x2 / step + x22 / step / stepBis,\n        typesDeQuestions[i],\n      )\n      const abs3 = arrondi(\n        abs0 + x3 / step + x33 / step / stepBis,\n        typesDeQuestions[i],\n      )\n\n      this.goodAnswers[i] = [\n        { label: label1, x: arrondi(abs1, 4) },\n        { label: label2, x: arrondi(abs2, 4) },\n        { label: label3, x: arrondi(abs3, 4) },\n      ]\n\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: texte,\n          propositions: [{ texte: texteCorr, statut: 0, feedback: '' }],\n        }\n      }\n\n      const { figure, latex } = apigeomGraduatedLine({\n        xMin: abs0 - 1 / (stepBis * stepBis * stepBis * stepBis),\n        xMax: abs0 + 7 / step + 1 / (stepBis * stepBis * stepBis),\n        scale: step,\n      })\n      figure.options.labelAutomaticBeginsWith = label1\n      figure.options.pointDescriptionWithCoordinates = false\n      figure.options.distanceWithoutNewPoint = 0.00001\n      this.figures[i] = figure\n\n      const { figure: figureCorr, latex: latexCorr } = apigeomGraduatedLine({\n        xMin: abs0 - 1 / (stepBis * stepBis * stepBis * stepBis),\n        xMax: abs0 + 7 / step + 1 / (stepBis * stepBis * stepBis),\n        scale: step,\n        points: this.goodAnswers[i],\n      })\n      figureCorr.create('Point', {\n        label: label1,\n        x: abs1,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        shape: 'x',\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: label2,\n        x: abs2,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n      figureCorr.create('Point', {\n        label: label3,\n        x: abs3,\n        color: orangeMathalea,\n        colorLabel: orangeMathalea,\n        labelDxInPixels: 0,\n      })\n      // MGU : g√®re le zoom des figures apigeom statiques comme les figures mathalea2d\n      figureCorr.divFigure.classList.add('svgContainer')\n      figureCorr.divFigure.querySelector('svg')?.classList.add('mathalea2d')\n      for (const di of figureCorr.divFigure.querySelectorAll('div')) {\n        di.classList.add('divLatex')\n      }\n\n      texte = `Placer les points : $${label1}(${texNombre(abs1, 5)}), ${label2}(${texNombre(abs2, 5)}), ${label3}(${texNombre(abs3, 5)})$.`\n\n      switch (true) {\n        case context.isHtml && this.interactif:\n          texte +=\n            '<br>' +\n            figureApigeom({ exercice: this, i, figure, defaultAction: 'POINT' })\n          texteCorr += figureCorr.getStaticHtml()\n          break\n        case context.isHtml:\n          texte += '<br>' + figure.getStaticHtml()\n          texteCorr += figureCorr.getStaticHtml()\n          break\n        default:\n          texte += '\\n\\n' + latex\n          texteCorr += '\\\\;\\n' + latexCorr\n          break\n      }\n      if (context.isAmc) {\n        this.autoCorrection[i] = {\n          enonce: this.consigne + '<br>' + texte + '<br>',\n          propositions: [{ statut: 3, sanscadre: true }],\n        }\n      }\n      this.listeQuestions.push(texte)\n      this.listeCorrections.push(texteCorr)\n    }\n\n    this.exoCustomResultat = true\n    listeQuestionsToContenu(this)\n  }\n\n  correctionInteractive = (i?: number) => {\n    if (i === undefined || this.figures === undefined) return ['KO']\n    const result: ('OK' | 'KO')[] = []\n    const figure = this.figures[i] as Figure\n    if (this.answers === undefined) this.answers = {}\n    // Sauvegarde de la r√©ponse pour Capytale\n    this.answers[figure.id] = figure.json\n    figure.isDynamic = false\n    figure.divButtons.style.display = 'none'\n    figure.divUserMessage.style.display = 'none'\n    const goodAnswer = this.goodAnswers[i]\n    const divFeedback = document.querySelector(\n      `#feedbackEx${this.numeroExercice}Q${i}`,\n    )\n    for (let j = 0; j < goodAnswer.length; j++) {\n      const label = goodAnswer[j].label\n      const x = goodAnswer[j].x\n      const { isValid, message, points } = figure.checkCoords({\n        checkOnlyAbscissa: true,\n        label,\n        x,\n        y: 0,\n      })\n      const point = points[0]\n      if (isValid) {\n        result.push('OK')\n        point.color = 'green'\n        point.colorLabel = 'green'\n        point.thickness = 3\n      } else {\n        result.push('KO')\n        if (point !== undefined) {\n          point.color = 'red'\n          point.colorLabel = 'red'\n          point.color = 'red'\n          point.thickness = 3\n        }\n      }\n      if (divFeedback != null && message.length > 0) {\n        const p = document.createElement('p')\n        p.innerText = message\n        divFeedback.appendChild(p)\n      }\n    }\n    if (divFeedback != null) {\n      if (divFeedback?.innerHTML === '') {\n        divFeedback.innerHTML = 'üòé'\n      } else {\n        const p = document.createElement('p')\n        p.innerText = '‚òπÔ∏è'\n        divFeedback.insertBefore(p, divFeedback.firstChild)\n      }\n    }\n    return result\n  }\n}\n\nexport default PlacerPointsSurAxeRelatifs\n"],"names":["interactifReady","interactifType","amcReady","amcType","titre","dateDeModifImportante","uuid","refs","PlacerPointsSurAxeRelatifs","Exercice","__publicField","i","result","figure","goodAnswer","divFeedback","j","label","x","isValid","message","points","point","p","typesDeQuestions","combinaisonListes","abs0","step","stepBis","texte","texteCorr","label1","lettreDepuisChiffre","label2","label3","randint","x1","x2","x3","x11","x22","x33","abs1","arrondi","abs2","abs3","context","latex","apigeomGraduatedLine","figureCorr","latexCorr","orangeMathalea","_a","di","texNombre","figureApigeom","listeQuestionsToContenu"],"mappings":"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"}