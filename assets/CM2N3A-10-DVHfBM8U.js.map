{"version":3,"file":"CM2N3A-10-DVHfBM8U.js","sources":["../../src/exercices/CM2/CM2N3A-10.ts"],"sourcesContent":["import { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport {\n  choice,\n  combinaisonListes,\n  creerCouples,\n} from '../../lib/outils/arrayOutils'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Connaître les tables de multiplication et de divisions'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\n/**\n * Tables de multiplication et de divisions classiques, à trou ou un mélange des deux.\n *\n * Par défaut ce sont les tables de 2 à 9 mais on peut choisir les tables que l'on veut\n * @author Rémi Angot\n\n */\nexport const uuid = '9db38'\n\nexport const refs = {\n  'fr-fr': ['CM2N3A-10'],\n  'fr-2016': ['CM003'],\n  'fr-ch': [],\n}\nexport default class TablesMultiplicationsDivisions extends Exercice {\n  constructor(tablesParDefaut = '2-3-4-5-6-7-8-9') {\n    super()\n    this.besoinFormulaireTexte = [\n      'Choix des tables (10 pour aléatoire)',\n      'Nombres séparés par des tirets :',\n    ] // Texte, tooltip\n    this.besoinFormulaire2Numerique = [\n      'Style de questions',\n      3,\n      '1 : Classique\\n2: À trous\\n3: Mélangé',\n    ]\n    // Multiplier ou diviser deux nombres\n    this.sup = tablesParDefaut\n    this.sup2 = 1 // classique|a_trous|melange\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n  }\n\n  nouvelleVersion() {\n    if (!this.sup) {\n      // Si aucune table n'est saisie\n      this.sup = '2-3-4-5-6-7-8-9'\n    }\n    const tables = gestionnaireFormulaireTexte({\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      defaut: 9,\n      max: 9,\n      min: 2,\n      enleveDoublons: true,\n      melange: 10,\n    })\n    const couples = creerCouples(\n      tables.map(Number),\n      [2, 3, 4, 5, 6, 7, 8, 9, 10],\n      this.nbQuestions,\n    ) // Liste tous les couples possibles (2,3)≠(3,2)\n    const listeTypeDeQuestions = combinaisonListes(\n      ['classique', 'a_trous'],\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    const operation = combinaisonListes(['x', 'div'], this.nbQuestions) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    let typesDeQuestions\n    for (let i = 0, a, b, texte, texteCorr; i < this.nbQuestions; i++) {\n      a = couples[i][0]\n      b = couples[i][1]\n      if (parseInt(this.sup2) === 1) {\n        typesDeQuestions = 'classique'\n      } else if (parseInt(this.sup2) === 2) {\n        typesDeQuestions = 'a_trous'\n      } else {\n        typesDeQuestions = listeTypeDeQuestions[i]\n      }\n\n      if (operation[i] === 'x') {\n        if (typesDeQuestions === 'classique') {\n          // classique\n          texte = '$ ' + a + ' \\\\times ' + b + ' = $'\n          setReponse(this, i, a * b)\n          if (this.interactif)\n            texte = `$${a} \\\\times ${b} = $` + ajouteChampTexteMathLive(this, i)\n          texteCorr = '$ ' + a + ' \\\\times ' + b + ' = ' + a * b + ' $'\n        } else {\n          if (tables.length > 2) {\n            // Si pour le premier facteur il y a plus de 2 posibilités on peut le chercher\n            if (randint(1, 2) === 1) {\n              texte = '$ ' + a + ' \\\\times \\\\ldots\\\\ldots = ' + a * b + ' $'\n              if (this.interactif)\n                texte =\n                  `$ ${a} \\\\times $` +\n                  ajouteChampTexteMathLive(this, i) +\n                  `$ = ${a * b} $`\n            } else {\n              texte =\n                '$ \\\\ldots\\\\ldots' + ' \\\\times ' + b + ' = ' + a * b + ' $'\n              if (this.interactif)\n                texte =\n                  ajouteChampTexteMathLive(this, i) +\n                  `$ \\\\times ${b}  = ${a * b} $`\n            }\n            setReponse(this, i, a)\n          } else {\n            // Sinon on demande forcément le 2e facteur\n            texte = '$ ' + a + ' \\\\times \\\\ldots\\\\ldots = ' + a * b + ' $'\n            if (this.interactif)\n              texte =\n                ajouteChampTexteMathLive(this, i) +\n                `$ \\\\times ${b}  = ${a * b} $`\n            setReponse(this, i, b)\n          }\n          texteCorr = '$ ' + a + ' \\\\times ' + b + ' = ' + a * b + ' $'\n        }\n      } else {\n        if (typesDeQuestions === 'classique') {\n          // classique\n          texte = '$ ' + a * b + ' \\\\div ' + b + ' =$'\n          setReponse(this, i, a)\n          if (this.interactif)\n            texte =\n              `$${a * b} \\\\div ${b} = $` + ajouteChampTexteMathLive(this, i)\n        } else {\n          // a trous\n          if (choice([true, false])) {\n            texte = `$ ${a * b} \\\\div \\\\ldots\\\\ldots = ${a}$`\n            setReponse(this, i, b)\n            if (this.interactif)\n              texte =\n                `$${a * b} \\\\div $` +\n                ajouteChampTexteMathLive(this, i) +\n                `$ = ${a}$`\n          } else {\n            texte = `$ \\\\ldots\\\\ldots \\\\div ${b}  = ${a}$`\n            setReponse(this, i, a * b)\n            if (this.interactif)\n              texte = ajouteChampTexteMathLive(this, i) + `$\\\\div ${b} = ${a}$`\n          }\n        }\n        texteCorr = `$ ${a * b} \\\\div ${b} = ${a}$`\n      }\n      this.listeQuestions.push(texte)\n      this.listeCorrections.push(texteCorr)\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","amcType","interactifReady","interactifType","uuid","refs","TablesMultiplicationsDivisions","Exercice","tablesParDefaut","tables","gestionnaireFormulaireTexte","couples","creerCouples","listeTypeDeQuestions","combinaisonListes","operation","typesDeQuestions","i","a","b","texte","texteCorr","setReponse","ajouteChampTexteMathLive","randint","choice","listeQuestionsToContenu"],"mappings":"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"}