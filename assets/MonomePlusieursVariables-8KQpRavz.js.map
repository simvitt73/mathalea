{"version":3,"file":"MonomePlusieursVariables-8KQpRavz.js","sources":["../../src/lib/mathFonctions/MonomePlusieursVariables.ts"],"sourcesContent":["import type Decimal from 'decimal.js'\nimport FractionEtendue, { rationnalise } from '../../modules/FractionEtendue'\nimport { randint } from '../../modules/outils'\nimport { pgcd } from '../outils/primalite'\n\ntype numberOrFraction = number | FractionEtendue | Decimal\n\ntype partieLitterale = {\n  variables: string[]\n  exposants: number[]\n}\n\nclass MonomePlusieursVariables {\n  coefficient: FractionEtendue\n  partieLitterale: partieLitterale\n  degre: number\n\n  constructor(coefficient: numberOrFraction, partieLitterale: partieLitterale) {\n    this.coefficient = rationnalise(coefficient)\n    this.partieLitterale = { ...partieLitterale } // Clone to avoid mutations\n    this.degre = this.partieLitterale.exposants.reduce(\n      (acc, exposant) => acc + exposant,\n      0,\n    )\n    const sortedPartieLitterale = this.partieLitterale.variables\n      .map((variable, index) => {\n        return { variable, exposant: this.partieLitterale.exposants[index] }\n      })\n      .sort((a, b) => a.variable.localeCompare(b.variable))\n    this.partieLitterale.variables = sortedPartieLitterale.map(\n      (part) => part.variable,\n    )\n    this.partieLitterale.exposants = sortedPartieLitterale.map(\n      (part) => part.exposant,\n    )\n  }\n\n  static genereCoefficients(\n    typeofCoeff: string,\n    coeffMax: number = 10,\n  ): FractionEtendue {\n    let randomCoefficient: FractionEtendue\n    let numerateur: number\n    let denominateur: number\n    if (typeofCoeff === 'entier') {\n      denominateur = 1\n    } else {\n      denominateur = randint(-coeffMax, coeffMax, [0, 1, -1])\n    }\n    do {\n      numerateur = randint(-coeffMax, coeffMax)\n      randomCoefficient = new FractionEtendue(numerateur, denominateur)\n    } while (\n      numerateur === 0 ||\n      (randomCoefficient.estEntiere && typeofCoeff !== 'entier')\n    )\n\n    return rationnalise(randomCoefficient)\n  }\n\n  // Static method pour créer un monome à partir d'une partie littérale existante\n  static createMonomeFromPartieLitterale(\n    typeofCoeff: string,\n    partieLitterale: partieLitterale,\n    coeffMax: number = 10,\n  ): MonomePlusieursVariables {\n    const coefficient = this.genereCoefficients(typeofCoeff, coeffMax)\n    return new MonomePlusieursVariables(coefficient, partieLitterale)\n  }\n\n  // Static method to create a monome with random values\n  static createRandomMonome(\n    degree: number,\n    typeofCoeff: string,\n    variables: string[],\n    coeffMax: number = 10,\n  ): MonomePlusieursVariables {\n    // Generate a random coefficient\n    const randomPartieLitterale: partieLitterale = {\n      variables: [],\n      exposants: [],\n    }\n    let remainingDegree = degree\n    const minExponents = Array(variables.length).fill(0)\n\n    const n = Math.min(variables.length, degree)\n    // Ensure that at least n-1 variables have non-zero degrees\n    const requiredIndices = Array.from(\n      { length: variables.length },\n      (_, i) => i,\n    )\n    for (let i = 0; i < n - 1; i++) {\n      const randomIndex = requiredIndices.splice(\n        Math.floor(Math.random() * requiredIndices.length),\n        1,\n      )[0]\n      minExponents[randomIndex] = 1\n      remainingDegree -= 1\n    }\n\n    // Distribute the remaining degree randomly across all variables\n    while (remainingDegree > 0) {\n      const randomIndex = Math.floor(Math.random() * variables.length)\n      minExponents[randomIndex] += 1\n      remainingDegree -= 1\n    }\n\n    // Assign the computed exponents to the variables\n    for (let i = 0; i < variables.length; i++) {\n      randomPartieLitterale.variables.push(variables[i])\n      randomPartieLitterale.exposants.push(minExponents[i])\n    }\n    return new MonomePlusieursVariables(\n      this.genereCoefficients(typeofCoeff, coeffMax),\n      randomPartieLitterale,\n    )\n  }\n\n  // Vérifie si deux monômes sont semblables (même partie littérale)\n  estSemblable(m: MonomePlusieursVariables): boolean {\n    const { variables, exposants } = this.partieLitterale\n    const mVariables = m.partieLitterale.variables\n    const mExposants = m.partieLitterale.exposants\n\n    if (variables.length !== mVariables.length) return false\n\n    for (let i = 0; i < variables.length; i++) {\n      if (variables[i] !== mVariables[i] || exposants[i] !== mExposants[i]) {\n        return false\n      }\n    }\n    return true\n  }\n\n  // Additionne deux monômes semblables\n  somme(m: MonomePlusieursVariables): MonomePlusieursVariables {\n    if (this.estSemblable(m)) {\n      const nouveauCoefficient = this.coefficient.sommeFractions(m.coefficient)\n      return new MonomePlusieursVariables(\n        nouveauCoefficient,\n        this.partieLitterale,\n      )\n    } else {\n      throw new Error(\"Impossible d'additionner deux monômes non semblables\")\n    }\n  }\n\n  oppose(): MonomePlusieursVariables {\n    return new MonomePlusieursVariables(\n      this.coefficient.oppose(),\n      this.partieLitterale,\n    )\n  }\n\n  // Déterminer si un monôme est un carré\n  estCarre(): boolean {\n    if (this.coefficient.estParfaite) {\n      if (\n        this.partieLitterale.exposants.every((exposant) => exposant % 2 === 0)\n      ) {\n        return true\n      } else {\n        return false\n      }\n    } else {\n      return false\n    }\n  }\n\n  // we are working with the class fractionEtendue\n  evaluer(variables: { [key: string]: FractionEtendue }): FractionEtendue {\n    let resultat = this.coefficient\n    this.partieLitterale.variables.forEach((variable, index) => {\n      if (variables[variable]) {\n        resultat = resultat.produitFraction(\n          variables[variable].puissanceFraction(\n            this.partieLitterale.exposants[index],\n          ),\n        )\n      } else {\n        throw new Error(\n          `Impossible d'évaluer le monôme avec les variables fournies. Variable manquante : ${variable}`,\n        )\n      }\n    })\n    return resultat\n  }\n\n  // Déterminer le pgdc de deux monômes (cela va fonction seulement si les coefficients sont entiers)\n  pgcd(m: MonomePlusieursVariables): MonomePlusieursVariables {\n    if (this.coefficient.estEntiere && m.coefficient.estEntiere) {\n      const a = this.coefficient.num\n      const b = m.coefficient.num\n      const pgcdCoefficient = pgcd(a, b)\n      // Les variables qui apparaissent dans les deux monômes avec un exposant minimum de 1\n      const variables = this.partieLitterale.variables.filter((variable) =>\n        m.partieLitterale.variables.includes(variable),\n      )\n      const nouvellePartieLitterale: partieLitterale = {\n        variables: [],\n        exposants: [],\n      }\n      variables.forEach((variable) => {\n        const indexThis = this.partieLitterale.variables.indexOf(variable)\n        const indexM = m.partieLitterale.variables.indexOf(variable)\n        const exposant = Math.min(\n          this.partieLitterale.exposants[indexThis],\n          m.partieLitterale.exposants[indexM],\n        )\n        nouvellePartieLitterale.variables.push(variable)\n        nouvellePartieLitterale.exposants.push(exposant)\n      })\n\n      return new MonomePlusieursVariables(\n        pgcdCoefficient,\n        nouvellePartieLitterale,\n      )\n    } else {\n      throw new Error(\n        'Impossible de calculer le pgcd de deux monômes avec des coefficients non entiers',\n      )\n    }\n  }\n\n  // diviser deux monômes (supporte maintenant les fractions)\n  diviserPar(m: MonomePlusieursVariables): MonomePlusieursVariables {\n    // Calculer le quotient des coefficients (peut être une fraction)\n    const quotientCoefficient = this.coefficient.diviseFraction(m.coefficient)\n\n    // Les variables qui apparaissent dans les deux monômes avec un exposant minimum de 1\n    const variables = this.partieLitterale.variables.filter((variable) =>\n      m.partieLitterale.variables.includes(variable),\n    )\n    const nouvellePartieLitterale: partieLitterale = {\n      variables: [],\n      exposants: [],\n    }\n    variables.forEach((variable) => {\n      // throw an error if the variable is not in the monome or if the variable is in the monome but with an exponent of 0 or if the difference of the exponents is negative\n      if (\n        !this.partieLitterale.variables.includes(variable) ||\n        !m.partieLitterale.variables.includes(variable) ||\n        this.partieLitterale.exposants[\n          this.partieLitterale.variables.indexOf(variable)\n        ] <\n          m.partieLitterale.exposants[\n            m.partieLitterale.variables.indexOf(variable)\n          ]\n      ) {\n        throw new Error(\n          'Impossible de diviser deux monômes avec des variables qui ne sont pas semblables',\n        )\n      } else {\n        const indexThis = this.partieLitterale.variables.indexOf(variable)\n        const indexM = m.partieLitterale.variables.indexOf(variable)\n        const exposant =\n          this.partieLitterale.exposants[indexThis] -\n          m.partieLitterale.exposants[indexM]\n        nouvellePartieLitterale.variables.push(variable)\n        nouvellePartieLitterale.exposants.push(exposant)\n      }\n    })\n    return new MonomePlusieursVariables(\n      quotientCoefficient,\n      nouvellePartieLitterale,\n    )\n  }\n\n  // Multiplie deux monômes\n  produit(m: MonomePlusieursVariables): MonomePlusieursVariables {\n    const nouveauCoefficient = this.coefficient.produitFraction(m.coefficient)\n\n    const nouvellePartieLitterale: partieLitterale = {\n      variables: [...this.partieLitterale.variables],\n      exposants: [...this.partieLitterale.exposants],\n    }\n\n    m.partieLitterale.variables.forEach((variable, index) => {\n      const existingIndex = nouvellePartieLitterale.variables.indexOf(variable)\n\n      if (existingIndex !== -1) {\n        nouvellePartieLitterale.exposants[existingIndex] +=\n          m.partieLitterale.exposants[index]\n      } else {\n        nouvellePartieLitterale.variables.push(variable)\n        nouvellePartieLitterale.exposants.push(\n          m.partieLitterale.exposants[index],\n        )\n      }\n    })\n\n    return new MonomePlusieursVariables(\n      nouveauCoefficient,\n      nouvellePartieLitterale,\n    )\n  }\n\n  // this function will be a to string, but replacing the variables with a value fractionEtendue with \\\\left and \\\\right subsituting the actual variable in the expression by the fractionetendue specified in the argument. i.e it should get the string from the toString method and replace the variables with the values in the argument\n  toStringEvaluate(variables: { [key: string]: FractionEtendue }): string {\n    const partieLitteraleString = this.partieLitterale.variables\n      .map((variable, index) => {\n        const exposant = this.partieLitterale.exposants[index]\n        // Only include the variable if its exponent is not 0\n        if (exposant === 0) {\n          return ''\n        } else if (exposant === 1) {\n          if (variables[variable].signe === -1) {\n            return `\\\\left(${variables[variable].texFractionSimplifiee}\\\\right)`\n          } else {\n            return `${variables[variable].texFractionSimplifiee}`\n          }\n        } else {\n          return `\\\\left(${variables[variable].texFractionSimplifiee}\\\\right)^{${exposant}}`\n        }\n      })\n      .filter((part) => part !== '') // Exclude any empty strings from the result\n      .join(' ')\n    if (this.coefficient.num === 0) {\n      return '0'\n    } else if (this.coefficient.texFractionSimplifiee === '1') {\n      if (partieLitteraleString === '') {\n        return '1'\n      } else {\n        return partieLitteraleString\n      }\n    } else if (this.coefficient.texFractionSimplifiee === '-1') {\n      if (partieLitteraleString === '') {\n        return '-1'\n      } else {\n        return `-${partieLitteraleString}`\n      }\n    } else {\n      return `${this.coefficient.texFractionSimplifiee}${partieLitteraleString === '' ? '' : '\\\\times'} ${partieLitteraleString}`\n    }\n  }\n\n  // Convertit le monôme en une chaîne de caractères\n  toString(): string {\n    const partieLitteraleString = this.partieLitterale.variables\n      .map((variable, index) => {\n        const exposant = this.partieLitterale.exposants[index]\n        // Only include the variable if its exponent is not 0\n        if (exposant === 0) {\n          return ''\n        } else if (exposant === 1) {\n          return `${variable}`\n        } else {\n          return `${variable}^${exposant}`\n        }\n      })\n      .filter((part) => part !== '') // Exclude any empty strings from the result\n      .join(' ')\n    if (this.coefficient.num === 0) {\n      return '0'\n    } else if (this.coefficient.texFractionSimplifiee === '1') {\n      if (partieLitteraleString === '') {\n        return '1'\n      } else {\n        return partieLitteraleString\n      }\n    } else if (this.coefficient.texFractionSimplifiee === '-1') {\n      if (partieLitteraleString === '') {\n        return '-1'\n      } else {\n        return `-${partieLitteraleString}`\n      }\n    } else {\n      return `${this.coefficient.texFractionSimplifiee} ${partieLitteraleString}`\n    }\n  }\n\n  // Convertit le monôme en une chaîne de caractères\n  toStringAvecSigne(): string {\n    const partieLitteraleString = this.partieLitterale.variables\n      .map((variable, index) => {\n        const exposant = this.partieLitterale.exposants[index]\n        // Only include the variable if its exponent is not 0\n        if (exposant === 0) {\n          return ''\n        } else if (exposant === 1) {\n          return `${variable}`\n        } else {\n          return `${variable}^${exposant}`\n        }\n      })\n      .filter((part) => part !== '') // Exclude any empty strings from the result\n      .join(' ')\n    if (this.coefficient.num === 0) {\n      return '0'\n    } else if (this.coefficient.texFractionSimplifiee === '1') {\n      if (partieLitteraleString === '') {\n        return '+1'\n      } else {\n        return `+${partieLitteraleString}`\n      }\n    } else if (this.coefficient.texFractionSimplifiee === '-1') {\n      if (partieLitteraleString === '') {\n        return '-1'\n      } else {\n        return `-${partieLitteraleString}`\n      }\n    } else if (this.coefficient.signe === -1) {\n      return `${this.coefficient.texFractionSimplifiee} ${partieLitteraleString}`\n    } else {\n      return `+${this.coefficient.texFractionSimplifiee} ${partieLitteraleString}`\n    }\n  }\n\n  toStringAvecParentheses(): string {\n    const partieLitteraleString = this.partieLitterale.variables\n      .map((variable, index) => {\n        const exposant = this.partieLitterale.exposants[index]\n        // Only include the variable if its exponent is not 0\n        if (exposant === 0) {\n          return ''\n        } else if (exposant === 1) {\n          return `${variable}`\n        } else {\n          return `${variable}^${exposant}`\n        }\n      })\n      .filter((part) => part !== '') // Exclude any empty strings from the result\n      .join(' ')\n    if (this.coefficient.num === 0) {\n      return '0'\n    } else if (this.coefficient.num === 1 && this.coefficient.den === 1) {\n      if (partieLitteraleString === '') {\n        return '1'\n      } else {\n        return partieLitteraleString\n      }\n    } else if (this.coefficient.texFractionSimplifiee === '-1') {\n      return `\\\\left(-${partieLitteraleString}\\\\right)`\n    } else if (this.coefficient.signe === -1) {\n      return `\\\\left(${this.coefficient.texFractionSimplifiee} ${partieLitteraleString}\\\\right)`\n    } else {\n      return `${this.coefficient.texFractionSimplifiee} ${partieLitteraleString}`\n    }\n  }\n}\n\nexport default MonomePlusieursVariables\n"],"names":["MonomePlusieursVariables","coefficient","partieLitterale","__publicField","rationnalise","acc","exposant","sortedPartieLitterale","variable","index","a","b","part","typeofCoeff","coeffMax","randomCoefficient","numerateur","denominateur","randint","FractionEtendue","degree","variables","randomPartieLitterale","remainingDegree","minExponents","n","requiredIndices","_","i","randomIndex","m","exposants","mVariables","mExposants","nouveauCoefficient","resultat","pgcdCoefficient","pgcd","nouvellePartieLitterale","indexThis","indexM","quotientCoefficient","existingIndex","partieLitteraleString"],"mappings":"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"}