{"version":3,"file":"6N1A-5-D7Q7zMER.js","sources":["../../src/exercices/6e/6N1A-5.ts"],"sourcesContent":["import { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { nombreDeChiffresDansLaPartieEntiere } from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Exercice from '../Exercice'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { context } from '../../modules/context'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\n\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nexport const titre =\n  'Écrire un nombre à partir de son nombre de dizaines, de centaines, de milliers...'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\nexport const dateDeModifImportante = '09/09/2022'\n\n/**\n * Le nombre de dizaines, centaines et milliers étant donné, il faut écrire le nombre.\n *\n * 2 fois sur 5 il y a chevauchement entre les classes\n * @author Rémi Angot (complété par Eric Elter pour mettre des niveaux de difficulté)\n * Relecture : Novembre 2021 par EE\n */\nexport const uuid = '7efdf'\n\nexport const refs = {\n  'fr-fr': ['6N1A-5'],\n  'fr-2016': ['6N10-1'],\n  'fr-ch': [],\n}\nexport default class ExerciceNumerationEntier extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = [\n      'Décomposition avec que des entiers à un chiffre',\n    ]\n    this.besoinFormulaire2CaseACocher = ['Décomposition vers les unités']\n    this.besoinFormulaire3Numerique = [\n      'Chevauchement des unités',\n      3,\n      '1 : Sans chevauchement des unités\\n2 : Avec chevauchement des unités\\n3 : Mélange',\n    ]\n    this.besoinFormulaire4Numerique = [\n      'Variante',\n      3,\n      \"1 : Jusqu'aux millions\\n2 : Jusqu'aux centaines de milliards\\n3 : Mélange\",\n    ]\n\n    this.nbQuestions = 5\n    this.sup = false\n    this.sup2 = true\n    this.sup3 = 3\n    this.sup4 = 1\n  }\n\n  nouvelleVersion() {\n    this.sup3 = Number(this.sup3)\n    this.sup4 = Number(this.sup4)\n    let listeTypeDeQuestions = []\n    if (this.sup2) {\n      // Vers les unités\n      this.consigne = 'Écrire en chiffres '\n      this.consigne +=\n        this.nbQuestions === 1 ? 'ce nombre.' : 'chacun des nombres.'\n    } else {\n      // Vers les dizaines, centaines, milliers....\n      this.consigne = 'Compléter.'\n    }\n    this.consigne += this.interactif\n      ? ' Penser à mettre les espaces nécessaires.'\n      : ''\n    if (this.sup) {\n      this.sup3 = 1\n    } // Si entiers à 1 chiffre choisis, chevauchement impossible.\n    if (this.sup3 === 1) {\n      // Sans chevauchement\n      listeTypeDeQuestions = combinaisonListes([1], this.nbQuestions)\n    } else if (this.sup3 === 2) {\n      // Avec chevauchement\n      listeTypeDeQuestions = combinaisonListes([2], this.nbQuestions)\n    } else {\n      listeTypeDeQuestions = combinaisonListes(\n        // Avec et sans chevauchement (2 sur 5 sont chevauchees)\n        [1, 1, 1, 2, 2], // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n        this.nbQuestions,\n      )\n    }\n    for (\n      let i = 0, texte, texteCorr, a, b, rangA, rangB, rangRef, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      const rangs = [\n        'unités',\n        'dizaines',\n        'centaines',\n        'milliers',\n        'dizaines de mille',\n        'centaines de mille',\n        'millions',\n        'dizaines de millions',\n        'centaines de millions',\n        'milliards',\n        'dizaines de milliards',\n        'centaines de milliards',\n      ]\n      if (this.sup) {\n        // Un chiffre ou deux chiffres ?\n        a = randint(2, 9)\n        b = randint(2, 9, [a])\n      } else {\n        a = randint(2, 8) * 10 + randint(1, 5)\n        b = randint(2, 8) * 10 + randint(1, 5)\n      }\n      if (this.sup2) {\n        // Vers les unités\n        rangA = randint(0, 2)\n        rangRef = 0 // ça n'est pas utile si this.sup2, c'est pour éviter undefined signalé par typescript\n      } else {\n        // Vers les dizaines, centaines, milliers....\n        rangRef = randint(1, this.sup4 === 1 ? 4 : 9)\n        rangA = randint(rangRef, this.sup4 === 1 ? 4 : 9)\n      }\n\n      if (listeTypeDeQuestions[i] === 1) {\n        // Sans chevauchement\n        rangB = randint(rangA + 2, this.sup4 === 1 ? 6 : 11)\n      } else {\n        // Avec chevauchement\n        rangB = rangA + 1\n      }\n      if (this.sup2) {\n        texte = `$${b}$  ${rangs[rangB]} et $${a}$ ${rangs[rangA]}`\n        texteCorr = `$${b}$  ${rangs[rangB]} et $${a}$ ${rangs[rangA]} $ = ${texNombre(b * Math.pow(10, rangB))} + ${texNombre(a * Math.pow(10, rangA))} =${texNombre(\n          b * Math.pow(10, rangB) + a * Math.pow(10, rangA),\n        )}$`\n      } else {\n        texte = `$${b}$  ${rangs[rangB]} et $${a}$ ${rangs[rangA]} correspondent à `\n        texte += !this.interactif\n          ? `$\\\\text{\\\\ldots\\\\ldots\\\\ldots\\\\ldots\\\\ldots\\\\ldots\\\\ldots\\\\ldots\\\\ldots}$ ${rangs[rangRef]}.`\n          : ''\n        texteCorr = `$${b}$  ${rangs[rangB]} et $${a}$ ${rangs[rangA]} correspondent à `\n        texteCorr += ` $${texNombre(b * Math.pow(10, rangB - rangRef))}$ ${rangs[rangRef]} + $${texNombre(a * Math.pow(10, rangA - rangRef))}$ ${rangs[rangRef]} $=${texNombre(\n          b * Math.pow(10, rangB - rangRef) + a * Math.pow(10, rangA - rangRef),\n        )}$ ${rangs[rangRef]}`\n      }\n      const reponse = texNombre(\n        this.sup2\n          ? b * Math.pow(10, rangB) + a * Math.pow(10, rangA)\n          : b * Math.pow(10, rangB - rangRef) +\n              a * Math.pow(10, rangA - rangRef),\n      )\n      const nbReponse = this.sup2\n        ? b * Math.pow(10, rangB) + a * Math.pow(10, rangA)\n        : b * Math.pow(10, rangB - rangRef) + a * Math.pow(10, rangA - rangRef)\n      // setReponse(this, i, texNombre(reponse), { formatInteractif: 'texte' })\n      handleAnswers(this, i, {\n        reponse: { value: reponse, options: { nombreAvecEspace: true } },\n      })\n      if (this.sup2) {\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.numbersSpace, {\n          espace: true,\n        })\n      } else {\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.numbersSpace, {\n          espace: true,\n          texteApres: `$\\\\text{ ${rangs[rangRef]}.}$`,\n        })\n      }\n\n      if (context.isAmc) {\n        const nbDigitsSupplementaires = randint(0, 2)\n        this.autoCorrection[i] = {\n          enonce: texte, // Si vide, l'énoncé est celui de l'exercice.\n          propositions: [\n            {\n              texte: 'texteCorr', // Si vide, le texte est la correction de l'exercice.\n            },\n          ],\n          reponse: {\n            texte: 'AMC', // facultatif\n            // @ts-expect-error\n            valeur: [reponse], // obligatoire (la réponse numérique à comparer à celle de l'élève), NE PAS METTRE DE STRING à virgule ! 4.9 et non pas 4,9. Cette valeur doit être passée dans un tableau d'où la nécessité des crochets.\n            alignement: 'flushleft', // EE : ce champ est facultatif et n'est fonctionnel que pour l'hybride. Il permet de choisir où les cases sont disposées sur la feuille. Par défaut, c'est comme le texte qui le précède. Pour mettre à gauche, au centre ou à droite, choisir parmi ('flushleft', 'center', 'flushright').\n            param: {\n              digits:\n                nbDigitsSupplementaires +\n                nombreDeChiffresDansLaPartieEntiere(nbReponse), // obligatoire pour AMC (le nombre de chiffres pour AMC, si digits est mis à 0, alors il sera déterminé pour coller au nombre décimal demandé)\n              decimals: 0, // facultatif. S'il n'est pas mis, il sera mis à 0 et sera déterminé automatiquement comme décrit ci-dessus\n              signe: false, // (présence d'une case + ou - pour AMC)\n              approx: 0, // (0 = valeur exacte attendue, sinon valeur de tolérance... voir plus bas pour un point technique non intuitif)\n            },\n          },\n        }\n      }\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","dateDeModifImportante","uuid","refs","ExerciceNumerationEntier","Exercice","listeTypeDeQuestions","combinaisonListes","i","texte","texteCorr","a","b","rangA","rangB","rangRef","cpt","rangs","randint","texNombre","reponse","nbReponse","handleAnswers","ajouteChampTexteMathLive","KeyboardType","context","nbDigitsSupplementaires","nombreDeChiffresDansLaPartieEntiere","listeQuestionsToContenu"],"mappings":"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"}