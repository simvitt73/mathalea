{"version":3,"file":"3L12-BNljOEJB.js","sources":["../../src/exercices/3e/3L12.ts"],"sourcesContent":["import { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport {\n  listeQuestionsToContenuSansNumero,\n  randint,\n} from '../../modules/outils'\nimport { context } from '../../modules/context'\nimport { reduireAxPlusB } from '../../lib/outils/ecritures'\nimport { fraction } from '../../modules/fractions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { pgcd } from '../../lib/outils/primalite'\n\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\n\nexport const titre = 'Factoriser a²-b²'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDeModifImportante = '26/02/2023'\n\n/**\n * Factoriser a²-b²\n * @author Jean-Claude Lhote,\n * Ajout Mélange des questions Matthieu Devillers\n */\nexport const uuid = '81fd2'\n\nexport const refs = {\n  'fr-fr': ['3L12', 'BP2AutoI23'],\n  'fr-ch': ['11FA3-4'],\n}\nexport default class FactoriserIdentitesRemarquables3 extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      4,\n      ' 1 : Coefficient de x égal à 1\\n 2 : Coefficient de x supérieur à 1\\n 3 : Coefficient de x rationnel\\n 4 : Mélange des cas précédents',\n    ]\n    this.besoinFormulaire2CaseACocher = [\n      'Présentation des corrections en colonnes',\n      false,\n    ]\n    context.isHtml ? (this.spacingCorr = 3) : (this.spacingCorr = 2)\n\n    this.nbQuestions = 4\n    this.sup = 4\n    this.sup2 = true\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions > 1\n        ? 'Factoriser les expressions suivantes.'\n        : \"Factoriser l'expression suivante.\"\n    const Fractions = [\n      [1, 2],\n      [1, 3],\n      [2, 3],\n      [1, 4],\n      [3, 4],\n      [1, 5],\n      [2, 5],\n      [3, 5],\n      [4, 5],\n      [1, 6],\n      [5, 6],\n      [1, 7],\n      [2, 7],\n      [3, 7],\n      [4, 7],\n      [5, 7],\n      [6, 7],\n      [1, 8],\n      [3, 8],\n      [5, 8],\n      [7, 8],\n      [1, 9],\n      [2, 9],\n      [3, 10],\n      [7, 10],\n      [9, 10],\n      [4, 9],\n      [5, 9],\n      [7, 9],\n      [8, 9],\n      [1, 10],\n    ]\n    let typesDeQuestionsDisponibles = []\n    if (this.sup === 1) {\n      typesDeQuestionsDisponibles = [1] // coef de x = 1\n    } else if (this.sup === 2) {\n      typesDeQuestionsDisponibles = [2] // coef de x > 1\n    } else if (this.sup === 3) {\n      typesDeQuestionsDisponibles = [3] // coef de x négatif\n    } else {\n      typesDeQuestionsDisponibles = [1, 2, 3]\n    } // mélange des questions\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    )\n    for (\n      let i = 0,\n        texte: string,\n        texteCorr: string,\n        cpt = 0,\n        a,\n        b,\n        ns,\n        ds,\n        typesDeQuestions;\n      i < this.nbQuestions && cpt < 50;\n\n    ) {\n      typesDeQuestions = listeTypeDeQuestions[i]\n      do {\n        a = randint(1, 9)\n        b = randint(2, 9)\n      } while (pgcd(a, b) !== 1)\n      const uneFraction = choice(Fractions)\n      ns = uneFraction[0]\n      ds = uneFraction[1]\n      texteCorr = ''\n      switch (typesDeQuestions) {\n        case 1:\n          texte = `$${lettreDepuisChiffre(i + 1)} = x^2-${a * a}$` // (x-a)(x+a)\n          texteCorr = `$${lettreDepuisChiffre(i + 1)} = x^2-${a * a}=x^2-${a}^2=(x-${a})(x+${a})$`\n          handleAnswers(this, i, {\n            reponse: {\n              value: `(${reduireAxPlusB(1, -a)})(${reduireAxPlusB(1, a)})`,\n              options: { factorisation: true },\n            },\n          })\n          break\n        case 2:\n          texte = `$${lettreDepuisChiffre(i + 1)} = ${b * b}x^2-${a * a}$` // b>1\n          texteCorr = `$${lettreDepuisChiffre(i + 1)} = ${b * b}x^2-${a * a}=(${b}x)^2-${a}^2=(${b}x-${a})(${b}x+${a})$`\n          handleAnswers(this, i, {\n            reponse: {\n              value: `(${reduireAxPlusB(b, -a)})(${reduireAxPlusB(b, a)})`,\n              options: { factorisation: true },\n            },\n          })\n          break\n        case 3:\n        default:\n          {\n            const dfrac = fraction(ns, ds).texFraction\n            const dfrac2 = fraction(ns * ns, ds * ds).texFraction\n            texte = `$${lettreDepuisChiffre(i + 1)} = ${dfrac2}x^2-${a * a}$` // b>1\n            texteCorr = `$${lettreDepuisChiffre(i + 1)} = ${dfrac2}x^2-${a * a}=\\\\left(${dfrac}x\\\\right)^2-${a}^2=\\\\left(${dfrac}x-${a}\\\\right)\\\\left(${dfrac}x+${a}\\\\right)$`\n            handleAnswers(this, i, {\n              reponse: {\n                value: `(${dfrac}x+${a})(${dfrac}x-${a})`,\n                options: { factorisation: true },\n              },\n            })\n          }\n          break\n      }\n      if (this.sup2) {\n        // On enlève la première égalité pour ne pas avoir A = A en première ligne\n        texteCorr = texteCorr.slice(4)\n        // On découpe\n        const etapes = texteCorr.split('=')\n        texteCorr = ''\n        etapes.forEach(function (etape) {\n          etape = etape.replace('$', '')\n          texteCorr +=\n            etape === lettreDepuisChiffre(i + 1)\n              ? ''\n              : `$${lettreDepuisChiffre(i + 1)} = ${etape}$ <br>`\n        })\n      }\n      texte += ajouteChampTexteMathLive(\n        this,\n        i,\n        KeyboardType.clavierDeBaseAvecVariable,\n        { texteAvant: ' $=$' },\n      )\n\n      // Uniformisation : Mise en place de la réponse attendue en interactif en orange et gras\n      const textCorrSplit = texteCorr.split('=')\n      let aRemplacer = textCorrSplit[textCorrSplit.length - 1]\n      aRemplacer = aRemplacer.replace('$', '')\n      aRemplacer = aRemplacer.replace('<br>', '')\n\n      texteCorr = ''\n      for (let ee = 0; ee < textCorrSplit.length - 1; ee++) {\n        texteCorr += textCorrSplit[ee] + '='\n      }\n      texteCorr += `$ $${miseEnEvidence(aRemplacer)}$`\n      // Fin de cette uniformisation\n\n      if (this.questionJamaisPosee(i, a, typesDeQuestions)) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenuSansNumero(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDeModifImportante","uuid","refs","FactoriserIdentitesRemarquables3","Exercice","context","Fractions","typesDeQuestionsDisponibles","listeTypeDeQuestions","combinaisonListes","texte","texteCorr","cpt","a","b","ns","ds","typesDeQuestions","randint","pgcd","uneFraction","choice","lettreDepuisChiffre","handleAnswers","reduireAxPlusB","dfrac","fraction","dfrac2","etapes","etape","ajouteChampTexteMathLive","KeyboardType","textCorrSplit","aRemplacer","ee","miseEnEvidence","listeQuestionsToContenuSansNumero"],"mappings":"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"}