{"version":3,"file":"5R11-Crz1um5V.js","sources":["../../src/exercices/5e/5R11.ts"],"sourcesContent":["import { droiteGraduee } from '../../lib/2d/DroiteGraduee'\nimport { point } from '../../lib/2d/PointAbstrait'\nimport { labelPoint } from '../../lib/2d/textes'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { remplisLesBlancs } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieDecimale,\n  nombreDeChiffresDe,\n} from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = \"Lire l'abscisse relative d'un point\"\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * Lire l'abscisse décimale d'un point\n * @author Jean-Claude Lhote et Rémi Angot\n */\nexport const uuid = 'cd7ce'\n\nexport const refs = {\n  'fr-fr': ['5R11', '3AutoN15-1'],\n  'fr-ch': ['9NO9-1'],\n}\nconst changeCoord = function (x: number, abs0: number, pas1: number) {\n  return abs0 + (x - abs0) * 3 * pas1\n}\nexport default class LireAbscisseRelative extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficulté',\n      4,\n      '1 : Nombre relatif à une décimale\\n2 : Nombre relatif à deux décimales\\n3 : Nombre relatif à trois décimales\\n4 : Mélange',\n    ]\n\n    this.consigne = \"Lire l'abscisse de chacun des points suivants.\"\n    this.nbQuestions = 3\n\n    this.sup = 4\n  }\n\n  nouvelleVersion() {\n    let typesDeQuestions\n\n    let objets = []\n\n    if (this.sup === 4) {\n      typesDeQuestions = combinaisonListes([1, 2, 3], this.nbQuestions)\n    } else {\n      typesDeQuestions = combinaisonListes(\n        [parseInt(this.sup)],\n        this.nbQuestions,\n      )\n    }\n\n    for (\n      let i = 0,\n        abs0,\n        l1,\n        l2,\n        l3,\n        x1,\n        x2,\n        x3,\n        x11,\n        x22,\n        x33,\n        pas1,\n        pas2,\n        abs1,\n        abs2,\n        abs3,\n        A,\n        B,\n        C,\n        texte,\n        texteCorr;\n      i < this.nbQuestions;\n      i++\n    ) {\n      objets = []\n      let precision\n      l1 = lettreDepuisChiffre(i * 3 + 1)\n      l2 = lettreDepuisChiffre(i * 3 + 2)\n      l3 = lettreDepuisChiffre(i * 3 + 3)\n      switch (typesDeQuestions[i]) {\n        case 1: // Placer des décimaux relatifs sur un axe (1 décimale)\n          abs0 = randint(-6, -3)\n          pas1 = 1\n          pas2 = 10\n          precision = 1\n          break\n\n        case 2: // Placer des décimaux relatifs sur un axe (2 décimales)\n          abs0 = randint(-4, -2) / 10\n          pas1 = 10\n          pas2 = 10\n          precision = 2\n          break\n\n        case 3: // Placer des décimaux relatifs sur un axe (3 décimales)\n        default:\n          abs0 = randint(-6, -2) / 100\n          pas1 = 100\n          pas2 = 10\n          precision = 3\n          break\n      }\n      x1 = randint(0, 2)\n      x2 = randint(3, 4)\n      x3 = randint(5, 6)\n      x11 = randint(1, 9)\n      x22 = randint(1, 9)\n      x33 = randint(1, 3)\n      abs1 = arrondi(abs0 + x1 / pas1 + x11 / pas1 / pas2, typesDeQuestions[i]) // le type de questions est égal au nombre de décimales.\n      abs2 = arrondi(abs0 + x2 / pas1 + x22 / pas1 / pas2, typesDeQuestions[i])\n      abs3 = arrondi(abs0 + x3 / pas1 + x33 / pas1 / pas2, typesDeQuestions[i])\n      objets.push(\n        droiteGraduee({\n          Unite: 3 * pas1,\n          Min: abs0,\n          Max: abs0 + 6.9 / pas1,\n          x: abs0,\n          y: 0,\n          thickSecDist: 1 / pas2 / pas1,\n          thickSec: true,\n          axeEpaisseur: 1,\n          thickEpaisseur: 1,\n          labelsPrincipaux: true,\n          thickDistance: 1 / pas1,\n        }),\n      )\n\n      A = point(changeCoord(abs1, abs0, pas1), 0, l1, 'above')\n      B = point(changeCoord(abs2, abs0, pas1), 0, l2, 'above')\n      C = point(changeCoord(abs3, abs0, pas1), 0, l3, 'above')\n      objets.push(tracePoint(A, B, C), labelPoint(A, B, C))\n\n      texte = mathalea2d(\n        {\n          xmin: abs0 - 0.5,\n          xmax: abs0 + 22,\n          ymin: -1,\n          ymax: 1,\n          scale: 0.75,\n          zoom: 1.5,\n        },\n        objets,\n      )\n      if (!context.isAmc && this.interactif) {\n        texte += remplisLesBlancs(\n          this,\n          i,\n          `${l1}(%{champ1})\\\\quad ${l2}(%{champ2})\\\\quad ${l3}(%{champ3})`,\n          KeyboardType.clavierDeBaseAvecFraction,\n          '\\\\ldots',\n        )\n        // j'ai aussi omis le paramêtre suivant {formatInteractif: 'fillInTheBlank'}, c'est la fonction verifQuestionMathlive qui va se débrouiller à partir des noms champ1 et suivants\n        handleAnswers(this, i, {\n          bareme: (listePoints) => [\n            listePoints[0] + listePoints[1] + listePoints[2],\n            3,\n          ],\n          champ1: { value: String(abs1) },\n          champ2: { value: String(abs2) },\n          champ3: { value: String(abs3) },\n        })\n      } else {\n        this.autoCorrection[i] = {\n          enonce: '',\n          options: { barreseparation: false },\n          propositions: [\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  reponse: {\n                    texte: texte + `<br>Abscisse de ${l1}`,\n                    valeur: abs1,\n                    param: {\n                      digits: nombreDeChiffresDe(abs1),\n                      decimals: nombreDeChiffresDansLaPartieDecimale(abs1),\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  multicolsBegin: true,\n                  reponse: {\n                    texte: `Abscisse de ${l2}`,\n                    valeur: abs2,\n                    param: {\n                      digits: nombreDeChiffresDe(abs2),\n                      decimals: nombreDeChiffresDansLaPartieDecimale(abs2),\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  statut: '',\n                  multicolsEnd: true,\n                  reponse: {\n                    texte: `Abscisse de ${l3}`,\n                    valeur: abs3,\n                    param: {\n                      digits: nombreDeChiffresDe(abs3),\n                      decimals: nombreDeChiffresDansLaPartieDecimale(abs3),\n                      signe: true,\n                      approx: 0,\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        }\n      }\n      texteCorr = mathalea2d(\n        {\n          xmin: abs0 - 0.5,\n          xmax: abs0 + 22,\n          ymin: -1.5,\n          ymax: 1,\n          scale: 0.75,\n          zoom: 1.5,\n        },\n        droiteGraduee({\n          Unite: 3 * pas1,\n          Min: abs0,\n          Max: abs0 + 6.9 / pas1,\n          x: abs0,\n          y: 0,\n          thickSecDist: 1 / pas2 / pas1,\n          thickSec: true,\n          axeEpaisseur: 1,\n          thickEpaisseur: 1,\n          labelsPrincipaux: true,\n          thickDistance: 1 / pas1,\n          labelPointTaille: 8,\n          labelPointLargeur: 0, // ce paramètre ne sert plus\n          pointListe: [\n            [abs1, l1],\n            [abs2, l2],\n            [abs3, l3],\n          ],\n          labelListe: [\n            [abs1, texNombre(abs1, precision)],\n            [abs2, texNombre(abs2, precision)],\n            [abs3, texNombre(abs3, precision)],\n          ],\n          labelDistance: 0.7,\n          labelCustomDistance: 1.2,\n        }),\n      )\n      this.listeQuestions.push(texte)\n      this.listeCorrections.push(texteCorr)\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","amcReady","amcType","uuid","refs","changeCoord","x","abs0","pas1","LireAbscisseRelative","Exercice","typesDeQuestions","objets","combinaisonListes","i","l1","l2","l3","x1","x2","x3","x11","x22","x33","pas2","abs1","abs2","abs3","A","B","C","texte","texteCorr","precision","lettreDepuisChiffre","randint","arrondi","droiteGraduee","point","tracePoint","labelPoint","mathalea2d","context","remplisLesBlancs","KeyboardType","handleAnswers","listePoints","nombreDeChiffresDe","nombreDeChiffresDansLaPartieDecimale","texNombre","listeQuestionsToContenu"],"mappings":"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"}