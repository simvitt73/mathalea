{"version":3,"file":"2S30-4-CzqEPjyG.js","sources":["../../src/exercices/2e/2S30-4.ts"],"sourcesContent":["import { choice, shuffle } from '../../lib/outils/arrayOutils'\nimport {\n  numAlpha,\n  premiereLettreEnMajuscule,\n} from '../../lib/outils/outilString'\nimport { Arbre, texProba } from '../../modules/arbres'\nimport { fraction } from '../../modules/fractions'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nimport { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { tableauColonneLigne } from '../../lib/2d/tableau'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport FractionEtendue from '../../modules/FractionEtendue'\n\nexport const titre =\n  'Calculer des probabilités dans une expérience aléatoire à deux épreuves'\nexport const dateDePublication = '28/12/2021'\nexport const dateDeModifImportante = '30/08/2022' // Passage en intégralité interactif\n\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCNum'\n\n/**\n * On doit calculer la probabilité qu'un événement se réalise après une expérience aléatoire à deux épreuves\n * @author Jean-Claude Lhote (et EE pour passage en interactif intégral)\n\n */\nexport const uuid = 'cee5d'\n\nexport const refs = {\n  'fr-fr': ['2S30-4'],\n  'fr-ch': [],\n}\n\nfunction unePieceDeuxUrnes(\n  exercice: Exercice,\n  i: number,\n  sup: boolean,\n  sup2: boolean,\n  sup3: boolean,\n  numQuestionInteractif: number,\n) {\n  i += numQuestionInteractif\n  const p = []\n  const choix = randint(0, 2)\n  let nombres1, nombres2, urne1, urne2, texte, texteCorr\n  if (!sup3) {\n    nombres1 = choice([\n      [1, 2, 3],\n      [1, 1, 2],\n      [1, 2, 2],\n      [1, 1, 3],\n    ])\n    nombres2 = choice([\n      [1, 2, 3],\n      [1, 1, 2],\n      [1, 2, 2],\n      [1, 1, 3],\n    ])\n  } else {\n    const n = randint(1, 3)\n    nombres1 = [n, n, n]\n    nombres2 = [n, n, n]\n  }\n  const B = ['B', 'R', 'V']\n  const boules = ['bleue', 'rouge', 'verte']\n  // do {\n  const n1 = shuffle(nombres1)\n  const n2 = shuffle(nombres2)\n  // } while (n1[0] === n2[0] && n1[1] === n2[1])\n  const card1 = n1[0] + n1[1] + n1[2]\n  const card2 = n2[0] + n2[1] + n2[2]\n  if (sup2) {\n    urne1 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Pile',\n      proba: fraction(1, 2),\n      visible: true,\n      alter: '',\n      enfants: [],\n    })\n    urne2 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Face',\n      proba: fraction(1, 2),\n      visible: true,\n      alter: '',\n      enfants: [],\n    })\n    for (let j = 0; j < 3; j++) {\n      urne1.enfants.push(\n        new Arbre({\n          nom: B[j],\n          proba: fraction(n1[j], card1),\n          rationnel: true,\n          visible: true,\n        }),\n      )\n    }\n    for (let j = 0; j < 3; j++) {\n      urne2.enfants.push(\n        new Arbre({\n          nom: B[j],\n          proba: fraction(n2[j], card2),\n          rationnel: true,\n          visible: true,\n        }),\n      )\n    }\n  } else {\n    urne1 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Pile',\n      proba: fraction(1, 2),\n      visible: false,\n      alter: '',\n      enfants: [],\n    })\n    urne2 = new Arbre({\n      racine: false,\n      rationnel: true,\n      nom: 'Face',\n      proba: fraction(1, 2),\n      visible: false,\n      alter: '',\n      enfants: [],\n    })\n    for (let j = 0; j < 3; j++) {\n      for (let b = 0; b < n1[j]; b++) {\n        urne1.enfants.push(\n          new Arbre({\n            nom: B[j],\n            proba: fraction(1, card1),\n            rationnel: true,\n            visible: false,\n          }),\n        )\n      }\n    }\n    for (let j = 0; j < 3; j++) {\n      for (let b = 0; b < n2[j]; b++) {\n        urne2.enfants.push(\n          new Arbre({\n            nom: B[j],\n            proba: fraction(1, card2),\n            rationnel: true,\n            visible: false,\n          }),\n        )\n      }\n    }\n  }\n\n  // On définit l'arbre complet\n  const omega = new Arbre({\n    racine: true,\n    rationnel: true,\n    nom: '',\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: [urne1, urne2],\n  })\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(0, 11, 0, sup2 ? 2.5 : 1.2, false, -1, 8) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  for (let j = 0; j < 3; j++) {\n    p[j] = omega.getProba(B[j]) // on calcule P(C) décimale.\n  }\n  texte = 'On lance une pièce équilibrée.<br>'\n  texte +=\n    \"Si la pièce tombe sur 'Pile', on tire une boule dans une urne contenant \"\n  for (let j = 0; j < 2; j++) {\n    texte += `${n1[j]} boule${n1[j] > 1 ? 's' : ''} ${boules[j]}${n1[j] > 1 ? 's' : ''}, `\n  }\n  texte += ` et ${n1[2]} boule${n1[2] > 1 ? 's' : ''} ${boules[2]}${n1[2] > 1 ? 's' : ''}.<br>`\n  texte +=\n    \"Si la pièce tombe sur 'Face', on tire une boule dans une urne contenant \"\n  for (let j = 0; j < 2; j++) {\n    texte += `${n2[j]} boule${n2[j] > 1 ? 's' : ''} ${boules[j]}${n2[j] > 1 ? 's' : ''}, `\n  }\n  texte += ` et ${n2[2]} boule${n2[2] > 1 ? 's' : ''} ${boules[2]}${n2[2] > 1 ? 's' : ''}.<br>`\n  texte += sup ? \"On a représenté l'expérience par l'arbre ci-dessous<br>\" : ''\n  texte += sup\n    ? mathalea2d(Object.assign({ scale: 0.6 }, fixeBordures(objets)), objets)\n    : ''\n  texte +=\n    `<br>Donner la probabilité d'obtenir une boule ${boules[choix]}.` +\n    ajouteChampTexteMathLive(exercice, i, '')\n  setReponse(exercice, i, new FractionEtendue(p[choix].n, p[choix].d), {\n    formatInteractif: 'fractionEgale',\n  })\n  texteCorr =\n    \"La probabilité que la pièce tombe sur 'Pile' est de $\\\\dfrac{1}{2}$ et \"\n  texteCorr += `la probabilité de tirer une boule ${boules[choix]} dans la première urne est de $${texProba(urne1.getProba(B[choix]))}$.<br>`\n  texteCorr += `La probabilité de l'issue ('Pile','${boules[choix]}') est donc : $\\\\dfrac{1}{2}\\\\times ${texProba(urne1.getProba(B[choix]))}=${texProba(fraction(n1[choix], 2 * card1))}$.<br>`\n  texteCorr +=\n    \"La probabilité que la pièce tombe sur 'Face' est de $\\\\dfrac{1}{2}$ et \"\n  texteCorr += `la probabilité de tirer une boule ${boules[choix]} dans la deuxième urne est de $${texProba(urne2.getProba(B[choix]))}$.<br>`\n  texteCorr += `La probabilité de l'issue ('Face','${boules[choix]}') est donc : $\\\\dfrac{1}{2}\\\\times ${texProba(urne2.getProba(B[choix]))}=${texProba(fraction(n2[choix], 2 * card2))}$.<br>`\n  texteCorr += `L'événement 'obtenir une boule ${boules[choix]}' est réalisé par les issues ('Pile','${boules[choix]}') et ('Face','${boules[choix]}'), donc sa probabilité est la somme des probabilités calculées ci-dessus.<br>`\n  texteCorr += `La probabilité d'obtenir une boule ${boules[choix]} est donc de $${texProba(fraction(n1[choix], 2 * card1))}+${texProba(fraction(n2[choix], 2 * card2))}=${texProba(p[choix])}$.`\n\n  return { texte, texteCorr, alea: [...n1, ...n2] }\n}\n\nfunction urneDeuxTiragesAvecRemise(\n  exercice: Exercice,\n  i: number,\n  sup: boolean,\n  sup2: boolean,\n  niveau: string,\n  numQuestionInteractif: number,\n) {\n  // tirage dans une urne avec remise\n  i += numQuestionInteractif\n  const [b1Color, b2Color] = shuffle([\n    'bleue',\n    'rouge',\n    'verte',\n    'orange',\n    'noire',\n    'jaune',\n  ]).splice(0, 2)\n\n  const b1Char = premiereLettreEnMajuscule(b1Color.charAt(0))\n  const b2Char = premiereLettreEnMajuscule(b2Color.charAt(0))\n  const nbBoule1 = randint(1, 3)\n  const nbBoule2 = randint(1, 3) //, nbBoule1)\n  const ligneEnt = ['\\\\text{Tirage1\\\\textbackslash Tirage2}']\n  const colonneEnt = []\n  const contenu = []\n  const card = nbBoule1 + nbBoule2\n  const tirage1 = []\n  if (!sup2) {\n    for (let i = 0; i < nbBoule1; i++) {\n      tirage1.push(\n        new Arbre({\n          nom: `${b1Char}`,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n      for (let j = 0; j < nbBoule1; j++) {\n        tirage1[i].enfants.push(\n          new Arbre({\n            nom: `${b1Char} `,\n            rationnel: true,\n            proba: fraction(1, card),\n            visible: false,\n            alter: '',\n            enfants: [],\n            racine: false,\n          }),\n        )\n      }\n      for (let j = 0; j < nbBoule2; j++) {\n        tirage1[i].enfants.push(\n          new Arbre({\n            nom: `${b2Char}`,\n            rationnel: true,\n            proba: fraction(1, card),\n            visible: false,\n            alter: '',\n            enfants: [],\n            racine: false,\n          }),\n        )\n      }\n    }\n\n    for (let i = 0; i < nbBoule2; i++) {\n      tirage1.push(\n        new Arbre({\n          nom: `${b2Char}`,\n          rationnel: true,\n          proba: fraction(1, card),\n          visible: false,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n      for (let j = 0; j < nbBoule1; j++) {\n        tirage1[i + nbBoule1].enfants.push(\n          new Arbre({\n            nom: `${b1Char} `,\n            rationnel: true,\n            proba: fraction(1, card),\n            visible: false,\n            alter: '',\n            enfants: [],\n            racine: false,\n          }),\n        )\n      }\n      for (let j = 0; j < nbBoule2; j++) {\n        tirage1[i + nbBoule1].enfants.push(\n          new Arbre({\n            nom: `${b2Char} `,\n            rationnel: true,\n            proba: fraction(1, card),\n            visible: false,\n            alter: '',\n            enfants: [],\n            racine: false,\n          }),\n        )\n      }\n    }\n  } else {\n    tirage1.push(\n      new Arbre({\n        nom: `${b1Char}`,\n        rationnel: true,\n        proba: fraction(nbBoule1, card),\n        visible: true,\n        alter: '',\n        enfants: [],\n        racine: false,\n      }),\n    )\n    tirage1.push(\n      new Arbre({\n        nom: `${b2Char}`,\n        rationnel: true,\n        proba: fraction(nbBoule2, card),\n        visible: true,\n        alter: '',\n        enfants: [],\n        racine: false,\n      }),\n    )\n    for (let j = 0; j < 2; j++) {\n      tirage1[j].enfants.push(\n        new Arbre({\n          nom: `${b1Char} `,\n          rationnel: true,\n          proba: fraction(nbBoule1, card),\n          visible: true,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n      tirage1[j].enfants.push(\n        new Arbre({\n          nom: `${b2Char} `,\n          rationnel: true,\n          proba: fraction(nbBoule2, card),\n          visible: true,\n          alter: '',\n          enfants: [],\n          racine: false,\n        }),\n      )\n    }\n  }\n  const omega = new Arbre({\n    nom: '',\n    rationnel: true,\n    proba: 1,\n    visible: false,\n    alter: '',\n    enfants: tirage1,\n    racine: true,\n  })\n\n  for (let i = 0; i < card; i++) {\n    if (i < nbBoule1) {\n      ligneEnt.push(`\\\\text{${b1Char}}`)\n      colonneEnt.push(`\\\\text{${b1Char}}`)\n    } else {\n      ligneEnt.push(`\\\\text{${b2Char}}`)\n      colonneEnt.push(`\\\\text{${b2Char}}`)\n    }\n    for (let j = 0; j < card; j++) {\n      contenu.push(\n        `\\\\text{${i < nbBoule1 ? b1Char : b2Char}${j < nbBoule1 ? b1Char : b2Char}}`,\n      )\n    }\n  }\n\n  const tableau = tableauColonneLigne(\n    ligneEnt,\n    colonneEnt,\n    contenu,\n    1,\n    true,\n    exercice.numeroExercice,\n    numQuestionInteractif,\n  )\n\n  omega.setTailles() // On calcule les tailles des arbres.\n  const objets = omega.represente(0, 12, 0, sup2 ? 2.5 : 1.4, false, -1, 8) // On crée l'arbre complet echelle 1.4 feuilles verticales sens gauche-droite\n  const choix = choice([\n    [nbBoule1, b1Color, b1Char],\n    [nbBoule2, b2Color, b2Char],\n  ])\n  const probaChoix = fraction(Number(choix[0]) ** 2, card ** 2)\n  const proba1 = fraction(nbBoule1 ** 2, card ** 2)\n  const proba2 = fraction(nbBoule2 ** 2, card ** 2)\n  const proba1et2 = proba1.sommeFraction(proba2)\n  const proba3 = fraction(nbBoule1 * nbBoule2, card ** 2)\n  const proba4 = proba3.multiplieEntier(2)\n  let texte = `Dans une urne, il y a ${nbBoule1} boule${nbBoule1 > 1 ? 's' : ''} ${b1Color}${nbBoule1 > 1 && b1Char !== 'O' ? 's' : ''} et ${nbBoule2} boule${nbBoule2 > 1 ? 's' : ''} ${b2Color}${nbBoule2 > 1 && b2Char !== 'O' ? 's' : ''} indiscernables au toucher.<br>`\n  texte += 'On tire successivement et avec remise deux boules.<br>'\n  if (sup)\n    texte +=\n      mathalea2d(\n        Object.assign(\n          {\n            zoom: 0.8,\n            scale: 1 / card,\n          },\n          fixeBordures(objets),\n        ),\n        objets,\n      ) + '<br><br>'\n  texte += `${numAlpha(0)} Déterminer la probabilité d'obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}.`\n  texte += ajouteChampTexteMathLive(exercice, i, '') + '<br>'\n  setReponse(exercice, i, probaChoix, { formatInteractif: 'fractionEgale' })\n  texte += `${numAlpha(1)} Déterminer la probabilité d'obtenir deux boules de la même couleur.`\n  texte += ajouteChampTexteMathLive(exercice, i + 1, '') + '<br>'\n  setReponse(exercice, i + 1, proba1et2, { formatInteractif: 'fractionEgale' })\n  texte += `${numAlpha(2)} Déterminer la probabilité d'obtenir deux boules de couleurs différentes.`\n  texte += ajouteChampTexteMathLive(exercice, i + 2, '') + '<br>'\n  setReponse(exercice, i + 2, proba4, { formatInteractif: 'fractionEgale' })\n  let texteCorr = ''\n  texteCorr += \"On a représenté l'expérience par le tableau ci-dessous :<br>\"\n  texteCorr += tableau + '<br>'\n  texteCorr += `${b1Char} = ${b1Color} et ${b2Char} = ${b2Color}.<br>`\n  texteCorr +=\n    \"On peut aussi présenter les deux épreuves sous la forme d'un arbre de dénombrement :<br>\"\n  texteCorr += mathalea2d(\n    Object.assign(\n      {\n        zoom: 0.8,\n        scale: 1 / card,\n      },\n      fixeBordures(objets),\n    ),\n    objets,\n  )\n  texteCorr += `<br>${numAlpha(0)} L'événement \"obtenir deux boules ${choix[1]}${choix[2] !== 'O' ? 's' : ''}\" est réalisé par l'issue {${choix[2]} ${choix[2]}}.`\n  texteCorr += ` On comptabilise ${Number(choix[0]) ** 2} issues {${choix[2]}${choix[2]}} sur ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${probaChoix.texFraction}${!probaChoix.estIrreductible ? '=' + probaChoix.texFractionSimplifiee : ''}$.<br>`\n  texteCorr += `${numAlpha(1)} L'événement \"obtenir deux boules de la même couleur\" est réalisé par les issues {${b1Char + b1Char}, ${b2Char + b2Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 ** 2} issues {${b1Char + b1Char}} et   ${nbBoule2 ** 2} issues {${b2Char + b2Char}} sur ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $${proba1.texFraction}+${proba2.texFraction}`\n  texteCorr += `=${proba1et2.texFraction}${!proba1et2.estIrreductible ? '=' + proba1et2.texFractionSimplifiee : ''}$.<br>`\n\n  texteCorr += `${numAlpha(2)} L'événement \"obtenir deux boules de couleurs différentes\" est réalisé par les issues {${b1Char + b2Char}, ${b2Char + b1Char}}.`\n  texteCorr += ` On comptabilise ${nbBoule1 * nbBoule2} issues {${b1Char + b2Char}} et autant d'issues {${b2Char + b1Char}} sur ${card ** 2} issues en tout.<br>`\n  texteCorr += `La probabilité de cet événement est donc de $2\\\\times ${proba3.texFraction}=${proba4.texFraction}${!proba4.estIrreductible ? '=' + proba4.texFractionSimplifiee : ''}$.<br>`\n  texteCorr += `Une autre façon de faire est de considéré que c'est l'événement contraire de \"obtenir deux boules de la même couleur\" dont on a calculé la probabilité à la question ${numAlpha(1)}.<br>`\n  texteCorr += `On peut donc calculer la probabilité de cet événement en calculant : $1 -${proba1et2.texFractionSimplifiee} = ${proba1et2.entierMoinsFraction(1).texFractionSimplifiee}$.`\n\n  return { texte, texteCorr, alea: [nbBoule1, nbBoule2, b1Char, b2Char] }\n}\nexport default class CalculProbaExperience2Epreuves2e extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Avec arbre', false]\n    this.besoinFormulaire2CaseACocher = [\n      'Arbre pondéré (si \"Avec arbre\" coché)',\n      false,\n    ]\n    this.besoinFormulaire3CaseACocher = ['Équiprobabilité', false]\n    this.sup = true\n    this.sup2 = false\n\n    this.sup3 = false\n    this.nbQuestions = 1\n    this.spacing = 2\n    this.spacingCorr = 3\n  }\n\n  nouvelleVersion() {\n    for (\n      let i = 0, cpt = 0, question, numQuestionInteractif = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      switch (i % 2) {\n        case 0:\n          question = unePieceDeuxUrnes(\n            this,\n            i,\n            this.sup,\n            this.sup2,\n            this.sup3,\n            numQuestionInteractif,\n          )\n          break\n        case 1:\n        default:\n          question = urneDeuxTiragesAvecRemise(\n            this,\n            i,\n            this.sup,\n            this.sup2,\n            this.sup3,\n            numQuestionInteractif,\n          )\n          numQuestionInteractif = +2\n          break\n      }\n      if (this.questionJamaisPosee(i, ...question.alea)) {\n        this.listeQuestions[i] = question.texte\n        this.listeCorrections[i] = question.texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","amcReady","amcType","uuid","refs","unePieceDeuxUrnes","exercice","i","sup","sup2","sup3","numQuestionInteractif","p","choix","randint","nombres1","nombres2","urne1","urne2","texte","texteCorr","choice","n","B","boules","n1","shuffle","n2","card1","card2","Arbre","fraction","j","b","omega","objets","mathalea2d","fixeBordures","ajouteChampTexteMathLive","setReponse","FractionEtendue","texProba","urneDeuxTiragesAvecRemise","niveau","b1Color","b2Color","b1Char","premiereLettreEnMajuscule","b2Char","nbBoule1","nbBoule2","ligneEnt","colonneEnt","contenu","card","tirage1","tableau","tableauColonneLigne","probaChoix","proba1","proba2","proba1et2","proba3","proba4","numAlpha","CalculProbaExperience2Epreuves2e","Exercice","cpt","question","listeQuestionsToContenu"],"mappings":"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"}