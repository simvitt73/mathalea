{"version":3,"file":"5R20-3-C0a0AVm2.js","sources":["../../src/exercices/5e/5R20-3.ts"],"sourcesContent":["import {\n  choice,\n  combinaisonListes,\n  shuffle,\n} from '../../lib/outils/arrayOutils'\nimport { sommeDesTermesParSigne } from '../../lib/outils/calculs'\nimport {\n  ecritureAlgebrique,\n  ecritureAlgebriquec,\n  ecritureNombreRelatif,\n  ecritureNombreRelatifc,\n  ecritureParentheseSiNegatif,\n} from '../../lib/outils/ecritures'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieEntiere,\n  signe,\n  triePositifsNegatifs,\n} from '../../lib/outils/nombres'\nimport { lettreDepuisChiffre } from '../../lib/outils/outilString'\nimport Exercice from '../Exercice'\nimport { context } from '../../modules/context'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { texNombre } from '../../lib/outils/texNombre'\n\nexport const titre = 'Additions de 5 nombres relatifs'\nexport const interactifReady = true\n\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifType = 'mathLive'\nexport const dateDeModifImportante = '25/9/2024'\n\n/**\n * Effectuer la somme de 5 nombres relatifs.\n *\n * Pour la correction, on commence par effectuer la somme des termes de même signe\n *\n * * On peut paramétrer les distances à zéro qui sont par défaut inférieures à 20\n * * On peut utiliser des écritures simplifiées (ce qui n'est pas le cas par défaut)\n * @author Rémi Angot\n * 5R20-3\n */\nexport const uuid = '36e2a'\n\nexport const refs = {\n  'fr-fr': ['5R20-3'],\n  'fr-ch': ['9NO9-8'],\n}\nexport default class ExerciceAdditionsDe5Relatifs extends Exercice {\n  constructor() {\n    super()\n    this.nbQuestions = 4\n    this.sup = 20\n    this.sup3 = false\n    this.sup2 = 1\n    this.consigne = 'Calculer.'\n    this.spacing = 2\n    this.spacingCorr = context.isHtml ? 3 : 0.5\n    this.nbCols = 2\n    this.nbColsCorr = 2\n\n    this.amcType = amcType\n    this.amcReady = amcReady\n    this.besoinFormulaireNumerique = ['Valeur maximale', 99999]\n    this.besoinFormulaire2Numerique = [\n      'Type de questions',\n      3,\n      'Tous les nombres entre parenthèses \\n2 : Seul les termes négatifs sont entre parenthèses \\n3 : Écriture simplifiée',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Avec des nombres décimaux']\n    // this.comment = \"Si l'option « Avec des nombres décimaux » est activée, 2 fois sur 3 les nombres auront un chiffre après la virgule et une fois sur 3 un seul terme aura deux chiffres après la virgule.\"\n  }\n\n  nouvelleVersion() {\n    // Rétrocompatibilité avec les liens vers les exercices quand c'était des cases à cocher\n    if (this.sup2 === false) {\n      this.sup2 = 1\n    } else if (this.sup2 === true) {\n      this.sup2 = 3\n    }\n    if (!context.isHtml) this.interactif = false\n    if (this.interactif) {\n      this.spacing = 3\n    }\n    const partieDecimaleAUnChiffre = combinaisonListes(\n      [true, true, false],\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let c, relatifs\n      let texte = ''\n      let texteCorr = ''\n      // On limite le nombre d'essais pour chercher des valeurs nouvelles\n      let CoefDecimales = this.sup3 ? 10 : 1\n      let a =\n        (randint(1, this.sup * CoefDecimales) / CoefDecimales) * choice([-1, 1])\n      let b =\n        (randint(1, this.sup * CoefDecimales) / CoefDecimales) * choice([-1, 1])\n      if (a * b > 0) {\n        // On s'assure que les 3 premières termes n'ont pas le même signe\n        c =\n          (randint(1, this.sup * CoefDecimales) / CoefDecimales) *\n          (a > 0 ? -1 : 1)\n      } else {\n        c =\n          (randint(1, this.sup * CoefDecimales) / CoefDecimales) *\n          choice([-1, 1])\n      }\n      CoefDecimales = this.sup3 ? (partieDecimaleAUnChiffre[i] ? 10 : 100) : 1\n      let d =\n        (randint(1, this.sup * CoefDecimales) / CoefDecimales) * choice([-1, 1])\n      let e =\n        (randint(1, this.sup * CoefDecimales) / CoefDecimales) * choice([-1, 1])\n      if (choice([true, false])) {\n        ;[a, b, c, d, e] = shuffle([a, b, c, d, e])\n      }\n\n      const s1 = 1 // Que des additions\n      const s2 = 1\n      const s3 = 1\n      const s4 = 1\n      const reponse = arrondi(a + b + c + d + e)\n      if (this.sup2 === 3) {\n        texte = `$ ${lettreDepuisChiffre(i + 1)} = ${texNombre(a, 2)}${ecritureAlgebrique(b)}${ecritureAlgebrique(c)}${ecritureAlgebrique(d)}${ecritureAlgebrique(\n          e,\n        )}$`\n\n        texteCorr = `$ ${lettreDepuisChiffre(i + 1)} =  ${texNombre(a, 2)}${ecritureAlgebrique(b)}${ecritureAlgebrique(c)}${ecritureAlgebrique(d)}${ecritureAlgebrique(\n          e,\n        )}$`\n        texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)} = ${texNombre(sommeDesTermesParSigne([a, b, c, d, e])[0], 2)}${ecritureAlgebrique(sommeDesTermesParSigne([a, b, c, d, e])[1])} $`\n        texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)} = ${texNombre(a + b + c + d + e, 2)}$`\n      } else if (this.sup2 === 2) {\n        texte = `$ ${lettreDepuisChiffre(i + 1)} = ${texNombre(a, 2)} + ${ecritureParentheseSiNegatif(b)} + ${ecritureParentheseSiNegatif(c)} + ${ecritureParentheseSiNegatif(d)} + ${ecritureParentheseSiNegatif(\n          e,\n        )}$`\n\n        texteCorr = `$ ${lettreDepuisChiffre(i + 1)} =  ${texNombre(a, 2)} + ${ecritureParentheseSiNegatif(b)} + ${ecritureParentheseSiNegatif(c)} + ${ecritureParentheseSiNegatif(d)} + ${ecritureParentheseSiNegatif(\n          e,\n        )}$`\n        texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)} = ${texNombre(sommeDesTermesParSigne([a, b, c, d, e])[0], 2)} + ${ecritureParentheseSiNegatif(sommeDesTermesParSigne([a, b, c, d, e])[1])}$`\n        texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)} = ${texNombre(a + b + c + d + e, 2)} $`\n      } else if (this.sup2 === 1) {\n        texte = `$ ${lettreDepuisChiffre(i + 1)} =  ${ecritureNombreRelatif(a)}${signe(s1)}${ecritureNombreRelatif(b)}${signe(s2)}${ecritureNombreRelatif(\n          c,\n        )}${signe(s3)}${ecritureNombreRelatif(d)}${signe(s4)}${ecritureNombreRelatif(e)}$`\n\n        texteCorr = `$ ${lettreDepuisChiffre(i + 1)} =  ${ecritureNombreRelatif(a)}${signe(s1)}${ecritureNombreRelatif(b)}${signe(s2)}${ecritureNombreRelatif(\n          c,\n        )}${signe(s3)}${ecritureNombreRelatif(d)}${signe(s4)}${ecritureNombreRelatif(e)} $`\n        relatifs = triePositifsNegatifs([a, s1 * b, s2 * c, s3 * d, s4 * e])\n\n        if (relatifs[0] > 0 && relatifs[4] < 0) {\n          texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)}= ${ecritureNombreRelatifc(relatifs[0])}+${ecritureNombreRelatifc(relatifs[1])}+${ecritureNombreRelatifc(\n            relatifs[2],\n          )}+${ecritureNombreRelatifc(relatifs[3])}+${ecritureNombreRelatifc(relatifs[4])} $`\n        }\n        const sommesSignees = sommeDesTermesParSigne([\n          relatifs[0],\n          relatifs[1],\n          relatifs[2],\n          relatifs[3],\n          relatifs[4],\n        ])\n        if (sommesSignees[0] !== 0 && sommesSignees[1] !== 0) {\n          sommesSignees[0] = arrondi(sommesSignees[0], 2)\n          sommesSignees[1] = arrondi(sommesSignees[1], 2)\n          texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)}= ${ecritureNombreRelatifc(sommesSignees[0])}+${ecritureNombreRelatifc(sommesSignees[1])} $`\n          texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)}= ${ecritureAlgebriquec(arrondi(a + s1 * b + s2 * c + s3 * d + s4 * e, 2))}$<br>`\n        } else if (sommesSignees[0] !== 0) {\n          texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)}=${ecritureAlgebriquec(sommesSignees[0])}$`\n        } else {\n          texteCorr += `<br>$ ${lettreDepuisChiffre(i + 1)}=${ecritureAlgebriquec(sommesSignees[1])}$<br>`\n        }\n      }\n\n      if (!context.isHtml && !context.isAmc) {\n        texte += `<br>$ ${lettreDepuisChiffre(i + 1)} =$`\n      }\n\n      if (this.interactif && !context.isAmc) {\n        // Supprime le dernier caractère de texte et le remplace par = $\n        texte +=\n          `<br> $${lettreDepuisChiffre(i + 1)} = $ ` +\n          ajouteChampTexteMathLive(this, i, KeyboardType.clavierDeBase)\n      }\n\n      if (this.listeQuestions.indexOf(texte) === -1) {\n        // Si la question n'a jamais été posée, on en créé une autre\n        setReponse(this, i, reponse, {\n          signe: true,\n          digits: Math.max(2, nombreDeChiffresDansLaPartieEntiere(reponse)),\n          decimals: 0,\n        })\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","amcReady","amcType","interactifType","dateDeModifImportante","uuid","refs","ExerciceAdditionsDe5Relatifs","Exercice","context","partieDecimaleAUnChiffre","combinaisonListes","cpt","c","relatifs","texte","texteCorr","CoefDecimales","a","randint","choice","b","d","e","shuffle","s1","s2","s3","s4","reponse","arrondi","lettreDepuisChiffre","texNombre","ecritureAlgebrique","sommeDesTermesParSigne","ecritureParentheseSiNegatif","ecritureNombreRelatif","signe","triePositifsNegatifs","ecritureNombreRelatifc","sommesSignees","ecritureAlgebriquec","ajouteChampTexteMathLive","KeyboardType","setReponse","nombreDeChiffresDansLaPartieEntiere","listeQuestionsToContenu"],"mappings":"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"}