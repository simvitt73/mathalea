{"version":3,"file":"6N3E-CfaofYlm.js","sources":["../../src/exercices/6e/6N3E.ts"],"sourcesContent":["import { fixeBordures } from '../../lib/2d/fixeBordures'\nimport { pointAbstrait } from '../../lib/2d/PointAbstrait'\nimport { segmentAvecExtremites } from '../../lib/2d/segmentsVecteurs'\nimport { latex2d } from '../../lib/2d/textes'\nimport { tracePoint } from '../../lib/2d/TracePoint'\nimport { pointSurSegment } from '../../lib/2d/utilitairesPoint'\nimport { createList } from '../../lib/format/lists'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Graduer un segment de longueur donnée'\n\nexport const dateDePublication = '16/11/2025'\n\nexport const uuid = '8660f'\nexport const refs = {\n  'fr-fr': ['6N3E'],\n  'fr-ch': [],\n}\n/**\n * @author Guillaume Valmont\n */\nexport default class nomExercice extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireCaseACocher = ['Segment à tracer']\n    this.besoinFormulaire2CaseACocher = ['Segment à partager']\n    this.besoinFormulaire3Numerique = [\n      'Fraction à placer',\n      4,\n      '1 : Pas de fraction\\n2 : Fraction < 1\\n3 : Fraction > 1\\n4 : Fraction quelconque',\n    ]\n    this.sup = true\n    this.sup2 = true\n    this.sup3 = 4\n    this.nbQuestions = 2\n  }\n\n  nouvelleVersion() {\n    const typesQuestions = combinaisonListes(\n      this.sup3 === 4 ? [2, 3] : [this.sup3],\n      this.nbQuestions,\n    )\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      const longueur = typesQuestions[i] === 3 ? randint(5, 8) : randint(8, 16)\n      const den = randint(3, 7, [\n        arrondi(longueur / 2, 1),\n        arrondi(longueur / 3, 1),\n        arrondi(longueur / 4, 1),\n        arrondi(longueur / 5, 1),\n      ])\n      const num =\n        typesQuestions[i] === 3\n          ? randint(den + 1, 2 * den - 1, [arrondi(den + den / 2, 1)])\n          : randint(2, den - 1, [arrondi(den / 2, 1)])\n      const A = pointAbstrait(0, 0)\n      const B = pointAbstrait(longueur, 0)\n      const C = pointAbstrait(longueur * 2, 0)\n      const unite1 = segmentAvecExtremites(A, B)\n      const unite2 = segmentAvecExtremites(B, C)\n      unite1.tailleExtremites = 10\n      unite2.tailleExtremites = 10\n      const graduations1 = []\n      for (let i = 1; i < den; i++) {\n        const graduation = tracePoint(\n          pointSurSegment(A, B, (longueur / den) * i),\n        )\n        graduation.style = '|'\n        graduations1.push(graduation)\n      }\n      const graduations2 = []\n      for (let i = 0; i < den; i++) {\n        const graduation = tracePoint(\n          pointSurSegment(B, C, (longueur / den) * i),\n        )\n        graduation.style = '|'\n        graduations2.push(graduation)\n      }\n      const pointFraction = pointSurSegment(A, B, (longueur / den) * num)\n      const label = latex2d(\n        `\\\\dfrac{${num}}{${den}}`,\n        pointFraction.x,\n        pointFraction.y - 1.2,\n        {},\n      )\n      const questions = []\n      const corrections = []\n      if (this.sup) {\n        // Segment à tracer\n        questions.push(\n          `Tracer un segment de longueur $${longueur}\\\\text{ cm}$.`,\n        )\n        corrections.push(`On utilise la règle pour tracer le segment de $${longueur}\\\\text{ cm}$ :<br>\n          ${mathalea2d(fixeBordures([unite1]), unite1)}<br>`)\n      } else {\n        texte += mathalea2d(fixeBordures([unite1]), unite1) + '<br>'\n      }\n      if (this.sup2) {\n        // Segment à partager\n        questions.push(`Partager ce segment en $${den}$ parts égales.`)\n        corrections.push(`À l'aide du guide-âne, on le partage en $${den}$ parts égales :<br>\n          ${mathalea2d(fixeBordures([unite1]), unite1, graduations1)}<br>`)\n      }\n      switch (typesQuestions[i]) {\n        case 2:\n          // Fraction < 1\n          questions.push(\n            `Ce segment représente une unité. Placer la fraction $\\\\dfrac{${num}}{${den}}$.`,\n          )\n          corrections.push(`${this.sup2 ? '' : `Le dénominateur est $${den}$. On partage l'unité en $${den}$ parts égales à l'aide du guide-âne.<br>`}\n            Chaque pas représente $\\\\dfrac{1}{${den}}$. On avance de $${num}$ pas pour placer la fraction $\\\\dfrac{${num}}{${den}}$ :<br>\n            ${mathalea2d(\n              fixeBordures([unite1, label]),\n              unite1,\n              graduations1,\n              label,\n            )}<br>`)\n          break\n        case 3:\n          // Fraction > 1\n          questions.push(\n            `Ce segment représente une unité. Placer la fraction $\\\\dfrac{${num}}{${den}}$.`,\n          )\n          corrections.push(`Comme le numérateur $${num}$ est supérieur au dénominateur $${den}$, une unité ne sera pas suffisante pour placer cette fraction.<br>\n            On trace donc une seconde unité de même longueur ${this.sup2 ? \"que l'on gradue de la même façon \" : ''}:<br>\n            ${mathalea2d(\n              fixeBordures([unite1, unite2]),\n              unite1,\n              unite2,\n              this.sup2 ? [graduations1, graduations2] : [],\n            )}<br>\n            ${this.sup2 ? '' : `Le dénominateur est $${den}$. On partage ces unités en $${den}$ parts égales à l'aide du guide-âne.<br>`}\n            Chaque pas représente $\\\\dfrac{1}{${den}}$. On avance de $${num}$ pas pour placer la fraction $\\\\dfrac{${num}}{${den}}$ :<br>\n            ${mathalea2d(\n              fixeBordures([unite1, unite2, label]),\n              unite1,\n              unite2,\n              graduations1,\n              graduations2,\n              label,\n            )}<br>\n            Remarque : on aurait pu aller plus vite en remarquant que $\\\\dfrac{${num}}{${den}} = 1 + \\\\dfrac{${num - den}}{${den}}$, donc en avançant directement de $${num - den}$ pas dans la seconde unité.`)\n          break\n      }\n      if (questions.length > 1) {\n        texte += createList({\n          items: questions,\n          style: 'alpha',\n        })\n        texteCorr += createList({\n          items: corrections,\n          style: 'alpha',\n        })\n      } else {\n        texte += questions[0] ?? 'Pas de question.'\n        texteCorr += corrections[0] ?? 'Pas de correction.'\n      }\n      if (this.questionJamaisPosee(i, num, den)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","dateDePublication","uuid","refs","nomExercice","Exercice","typesQuestions","combinaisonListes","i","cpt","texte","texteCorr","longueur","randint","den","arrondi","num","A","pointAbstrait","B","C","unite1","segmentAvecExtremites","unite2","graduations1","graduation","tracePoint","pointSurSegment","graduations2","pointFraction","label","latex2d","questions","corrections","mathalea2d","fixeBordures","createList","listeQuestionsToContenu"],"mappings":"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"}