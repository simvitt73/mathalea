var G=Object.defineProperty;var J=(n,r,a)=>r in n?G(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a;var l=(n,r,a)=>J(n,typeof r!="symbol"?r+"":r,a);import{B as x}from"./BoiteBuilder-DxfM_-GH.js";import{O as M}from"./ObjetMathalea2D-CXcNXRpD.js";import{s as R}from"./segmentsVecteurs-Bz-aNFOx.js";import{d as p}from"./textes-3SpigYLc.js";import{t as P,g as w,h as b,O as A}from"./2dLutin-chmWkMxZ.js";import{r as m}from"./index-BB3ZcMz7.js";const y=[["Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc"],["Blanc","Noir","Jaune","Bleu","Vert","Orange","Rouge","Orange","Noir","Jaune","Gris","Vert","Rose","Noir","Jaune","Blanc"],["Blanc","Rouge","Bleu","Orange","Jaune","Rose","Gris","Jaune","Rose","Gris","Jaune","Bleu","Rouge","Gris","Rouge","Blanc"],["Blanc","Rose","Vert","Gris","Rouge","Noir","Bleu","Vert","Noir","Vert","Bleu","Rose","Gris","Vert","Orange","Blanc"],["Blanc","Vert","Bleu","Rose","Vert","Bleu","Orange","Gris","Rouge","Orange","Jaune","Gris","Rouge","Rose","Bleu","Blanc"],["Blanc","Noir","Orange","Rouge","Orange","Jaune","Rouge","Blanc","Blanc","Noir","Gris","Orange","Noir","Jaune","Rose","Blanc"],["Blanc","Rose","Gris","Noir","Bleu","Vert","Bleu","Blanc","Blanc","Rouge","Bleu","Gris","Vert","Rouge","Noir","Blanc"],["Blanc","Noir","Rouge","Rose","Vert","Orange","Rose","Noir","Orange","Vert","Jaune","Rose","Noir","Rose","Vert","Blanc"],["Blanc","Orange","Gris","Rouge","Jaune","Noir","Vert","Rouge","Rose","Noir","Bleu","Vert","Jaune","Orange","Gris","Blanc"],["Blanc","Bleu","Jaune","Orange","Vert","Gris","Jaune","Gris","Orange","Gris","Rose","Bleu","Rouge","Bleu","Orange","Blanc"],["Blanc","Rose","Bleu","Jaune","Rose","Orange","Rouge","Bleu","Noir","Jaune","Gris","Vert","Jaune","Noir","Rouge","Blanc"],["Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc","Blanc"]];function Y(n,r,a){let o=!1,t;const e=j({x:0,y:0,orientation:0,plateau:a.plateauNLC,relatif:a.relatif,nx:a.nx,ny:a.ny,pas:a.pas});e.currentPos.x=a.currentPos.x,e.currentPos.y=a.currentPos.y,e.currentOrientation=a.currentOrientation;for(let s=0;s<n;s++)if(t=T(r,e),t[0])e.currentPos.x=t[1],e.currentPos.y=t[2],e.currentOrientation=t[3];else{o=!0;break}return[!o,e.currentPos.x,e.currentPos.y,e.currentOrientation]}function I(n,r,a){const o=function(u,f,B,k){switch(k){case 0:case 360:B+=u;break;case 90:case-270:f+=u;break;case 180:case-180:B-=u;break;case 270:case-90:f-=u;break}return[f,B]};let t=a.currentPos.x,e=a.currentPos.y,s=a.currentOrientation,i;switch(n){case"AV20":[t,e]=o(20,t,e,s),i="\\blockmove{avancer de \\ovalnum{20} pas}",r!==void 0&&b(20,r);break;case"AV30":[t,e]=o(30,t,e,s),i="\\blockmove{avancer de \\ovalnum{30} pas}",r!==void 0&&b(30,r);break;case"AV40":[t,e]=o(40,t,e,s),i="\\blockmove{avancer de \\ovalnum{40} pas}",r!==void 0&&b(40,r);break;case"AV60":[t,e]=o(60,t,e,s),i="\\blockmove{avancer de \\ovalnum{60} pas}",r!==void 0&&b(60,r);break;case"AV80":[t,e]=o(80,t,e,s),i="\\blockmove{avancer de \\ovalnum{80} pas}",r!==void 0&&b(80,r);break;case"AV90":[t,e]=o(90,t,e,s),i="\\blockmove{avancer de \\ovalnum{90} pas}",r!==void 0&&b(90,r);break;case"AV100":[t,e]=o(100,t,e,s),i="\\blockmove{avancer de \\ovalnum{100} pas}",r!==void 0&&b(100,r);break;case"AV120":[t,e]=o(120,t,e,s),i="\\blockmove{avancer de \\ovalnum{120} pas}",r!==void 0&&b(120,r);break;case"AV150":[t,e]=o(150,t,e,s),i="\\blockmove{avancer de \\ovalnum{150} pas}",r!==void 0&&b(150,r);break;case"TD90":s===180?s=-90:s+=90,i="\\blockmove{tourner \\turnright{} de \\ovalnum{90} degrés}",r!==void 0&&P(90,r);break;case"TG90":s===-90?s=180:s-=90,i="\\blockmove{tourner \\turnleft{} de \\ovalnum{90} degrés}",r!==void 0&&w(90,r);break;case"TD180":case"TG180":s===0?s=180:s===-90?s=90:s===90?s=-90:s=0,i="\\blockmove{tourner \\turnright{} de \\ovalnum{180} degrés}",r!==void 0&&P(180,r);break;default:i="\\blocklist{Note la couleur}";break}return a.testCoords(t,e)?[!0,t,e,s,i,r]:[!1,a.currentPos.x,a.currentPos.y,a.currentOrientation,i,r]}function T(n,r){let a=!1,o;const t=j({x:0,y:0,orientation:0,plateau:r.plateauNLC,relatif:r.relatif,nx:r.nx,ny:r.ny,pas:r.pas});t.currentPos.x=r.currentPos.x,t.currentPos.y=r.currentPos.y,t.currentOrientation=r.currentOrientation;for(let e=0;e<n.length;e++)if(o=I(n[e],t.objetLutin,t),o[0])t.currentPos.x=o[1],t.currentPos.y=o[2],t.currentOrientation=o[3];else{a=!0;break}return[!a,t.currentPos.x,t.currentPos.y,t.currentOrientation]}function C(n){switch(n){case"Blanc":return"white";case"Bleu":return"DodgerBlue";case"Noir":return"black";case"Rouge":return"red";case"Jaune":return"yellow";case"Rose":return"HotPink";case"Vert":return"green";case"Orange":return"DarkOrange";case"Gris":return"gray"}}function L(n){switch(n){case"Blanc":return"0";case"Bleu":return"3";case"Noir":return"1";case"Rouge":return"2";case"Jaune":return"6";case"Rose":return"5";case"Vert":return"7";case"Orange":return"4";case"Gris":return"8"}}class D{constructor({x:r=15,y:a=15,orientation:o=90,relatif:t=!0,nx:e=16,ny:s=12,pas:i=30,plateau:u=y}){l(this,"objetLutin");l(this,"plateauNLC");l(this,"currentPos");l(this,"currentOrientation");l(this,"codeScratch");l(this,"currentIndex");l(this,"relatif");l(this,"pas");l(this,"nx");l(this,"ny");this.plateauNLC=u,this.currentPos={x:r,y:a},this.currentOrientation=o,this.codeScratch="",this.currentIndex=0,this.relatif=t,this.pas=i,this.nx=e,this.ny=s,this.objetLutin=new A,this.objetLutin.x=r,this.objetLutin.y=a,this.objetLutin.orientation=o}nlc(){return this.plateauNLC[Math.ceil(((this.relatif?(this.ny-1)*this.pas>>1:(this.ny-1)*this.pas)-this.currentPos.y)/this.pas)][Math.ceil(((this.relatif?(this.nx-1)*this.pas>>1:-this.pas>>1)+this.currentPos.x)/this.pas)]}testCoords(r,a){return!(r<(this.relatif?(1-this.nx)*this.pas>>1:this.pas>>1)||r>(this.relatif?this.nx*this.pas>>1:(this.nx-.5)*this.pas)||a<(this.relatif?(1-this.ny)*this.pas>>1:this.pas>>1)||a>(this.relatif?this.ny*this.pas>>1:(this.ny-.5)*this.pas))}}function j({x:n=15,y:r=15,orientation:a=90,plateau:o=y,relatif:t=!0,nx:e=16,ny:s=12,pas:i=30}={}){return new D({x:n,y:r,orientation:a,relatif:t,plateau:o,nx:e,ny:s,pas:i})}class V extends M{constructor({type:a=1,melange:o=!1,scale:t=.5,relatif:e=!0,pas:s=30,nx:i=16,ny:u=12,plateau:f=y}={}){super();l(this,"relatif");l(this,"pas");l(this,"type");l(this,"scale");l(this,"nx");l(this,"ny");l(this,"plateauNLC");l(this,"objets");if(this.relatif=e,this.pas=s,this.type=1,this.scale=t,this.nx=i,this.ny=u,this.plateauNLC=f,this.objets=[],o)for(let h=0,c,d,g,v,O;h<20;h++)g=m(1,this.ny-2),v=m(1,this.ny-2,g),c=m(1,this.nx-2),d=m(1,this.nx-2),O=this.plateauNLC[g][c],this.plateauNLC[g][c]=this.plateauNLC[v][d],this.plateauNLC[v][d]=O;this.objets=[];let B;for(let h=0;h<this.nx;h++)for(let c=0;c<this.ny;c++){switch(a){case 1:B=new x({xMin:h*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(h+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",opacity:.8,backgroudOpacity:.7,colorBackground:C(this.plateauNLC[u-1-c][h])});break;case 2:B=new x({xMin:h*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(h+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",opacity:.8,backgroudOpacity:.7,colorBackground:C(this.plateauNLC[u-1-c][h])}).addTextIn({size:1.2,textIn:L(this.plateauNLC[u-1-c][h])??"",color:"black",opacity:.8});break;case 3:B=new x({xMin:h*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(h+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",opacity:.8,backgroudOpacity:1,colorBackground:"white"}).addTextIn({color:"black",opacity:.9,textIn:this.plateauNLC[u-1-c][h],size:.9});break;default:B=new x({xMin:h*1.5+(i>>1)*(e?-1.5:0),yMin:c*1.5+(u>>1)*(e?-1.5:0),xMax:(h+1)*1.5+(i>>1)*(e?-1.5:0),yMax:(c+1)*1.5+(u>>1)*(e?-1.5:0)}).addColor({color:"black",backgroudOpacity:1,colorBackground:"white",opacity:.8}).addTextIn({size:1.2,color:"black",opacity:.9,textIn:L(this.plateauNLC[u-1-c][h])??""});break}const d=B.render();this.objets.push(...Array.isArray(d)?d:[d])}this.relatif&&this.objets.push(p(`-${this.pas}`,-1.6,-.4,0,"black",1.2,"milieu",!0,t)),this.objets.push(p(`${this.pas}`,1.5,-.4,0,"black",1.2,"milieu",!0,t)),this.objets.push(p("0",-.3,-.4,0,"black",1.2,"milieu",!0,t)),this.relatif&&this.objets.push(p(`-${this.pas}`,-.5,-1.5,0,"black",1.2,"milieu",!0,t)),this.objets.push(p(`${this.pas}`,-.5,1.5,0,"black",1.2,"milieu",!0,t)),this.objets.push(p("x",this.nx*(this.relatif?.75:1.5)+.7,(this.relatif,-.6),0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("y",-.4,this.ny*(this.relatif?.75:1.5)+.7,0,"purple",1.2,"milieu",!0,t)),this.relatif&&(this.objets.push(p("+",(this.nx>>1)*1.5+.8,0,0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("-",-(this.nx>>1)*1.5-.5,.2,0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("+",0,(this.ny>>1)*1.5+.8,0,"purple",1.2,"milieu",!0,t)),this.objets.push(p("-",0,-(this.ny>>1)*1.5-.5,0,"purple",1.2,"milieu",!0,t)));const k=R(0,(this.ny>>1)*(this.relatif?-1.5:0),0,(this.ny>>1)*(this.relatif?1.5:3)+.5,"purple");k.styleExtremites="->";const N=R((this.nx>>1)*(this.relatif?-1.5:0),0,(this.nx>>1)*(this.relatif?1.5:3)+.5,0,"purple");N.styleExtremites="->",this.objets.push(k),this.objets.push(N)}}function F({type:n=1,melange:r=!1,scale:a=.5,relatif:o=!0,pas:t=30,nx:e=16,ny:s=12,plateau:i}={}){return i!==void 0?new V({type:n,melange:r,scale:a,relatif:o,pas:t,nx:e,ny:s,plateau:i}):new V({type:n,melange:r,scale:a,relatif:o,pas:t,nx:e,ny:s})}export{V as P,I as a,L as b,Y as c,C as d,y as e,j as n,F as p,T as t};
//# sourceMappingURL=noteLaCouleur-1yCBOBjI.js.map
