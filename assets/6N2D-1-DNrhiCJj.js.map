{"version":3,"file":"6N2D-1-DNrhiCJj.js","sources":["../../src/exercices/6e/6N2D-1.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { arrondi } from '../../lib/outils/nombres'\nimport { numAlpha } from '../../lib/outils/outilString'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport operation from '../../modules/operations'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const dateDePublication = '06/05/2025'\nexport const dateDeModifImportante = '25/05/2025'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const titre =\n  'Calculer le produit (en ligne) de deux décimaux connaissant le produit de deux entiers'\n\n/**\n * * Calculer le produit (en ligne) de deux décimaux à partir d'un produit de deux entiers\n * @author Eric Elter\n */\n\nexport const uuid = '56772'\n\nexport const refs = {\n  'fr-fr': ['6N2D-1'],\n  'fr-2016': ['6C30-2b'],\n  'fr-ch': ['9NO8-19'],\n}\n\nfunction nomUnitePourPuissance(p1: number): string {\n  const mapPuissance: Record<number, string> = {\n    [-3]: 'millièmes',\n    [-2]: 'centièmes',\n    [-1]: 'dixièmes',\n    1: 'dizaines',\n    2: 'centaines',\n    3: 'milliers',\n  }\n\n  if (p1 in mapPuissance) {\n    return mapPuissance[p1]\n  }\n  return ''\n}\n\nexport default class ProduitDeDecimauxAPartirProduitConnu extends Exercice {\n  constructor() {\n    super()\n    this.sup = 4\n    this.sup2 = 1\n    this.sup4 = false\n    this.nbQuestions = 3\n    this.besoinFormulaireTexte = [\n      'Types du calcul final',\n      [\n        'Nombres séparés par des tirets  :',\n        '1 : nb1$\\\\times$10^p1 $\\\\times$ nb2',\n        '2 : nb1 $\\\\times$ nb2$\\\\times$10^p2',\n        '3 : nb1$\\\\times$10^p1 $\\\\times$ nb2$\\\\times$10^p2',\n        '4 : Mélange',\n      ].join('\\n'),\n    ]\n    this.comment =\n      'Le premier calcul est nb1 $\\\\times$ nb2 où nb1 et nb2 représentent des entiers entre 2 et 99. <br> Le premier paramètre permet de paramétrer le calcul final ' +\n      'dans lequel p1 et p2 représentent des exposants entiers non nuls entre -3 et 3.'\n    this.besoinFormulaire2Numerique = [\n      'Nombre de chiffres non nuls dans le plus petit facteur',\n      4,\n      '1 : Un seul chiffre\\n2 : Deux chiffres\\n3 : Mélange',\n    ]\n    this.besoinFormulaire3CaseACocher = ['Produit initial donné', false]\n    this.besoinFormulaire4CaseACocher = ['Correction avec des mots', true]\n    context.isHtml ? (this.spacing = 3) : (this.spacing = 2)\n    context.isHtml ? (this.spacingCorr = 2.5) : (this.spacingCorr = 1.5)\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestions = gestionnaireFormulaireTexte({\n      nbQuestions: this.nbQuestions,\n      saisie: this.sup,\n      max: 3,\n      melange: 4,\n      defaut: 4,\n    })\n\n    const reponse = []\n    let nb1 = 0\n    let nb2 = 0\n    let multipleNb1 = 0\n    let multipleNb2 = 0\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      let d1 = randint(1, 9)\n      const u1 = randint(2, 9)\n      let d2 = randint(1, 9)\n      const u2 = randint(2, 9)\n      let p1 = 0\n      let p2 = 0\n      texteCorr = ''\n\n      let choix = true\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // nb1*10^p1 x nb2\n          if (this.sup2 === 1) d1 = 0\n          p1 = randint(-3, 3, [0])\n          break\n\n        case 2: // nb1 x nb2*10^p2\n          if (this.sup2 === 1) d2 = 0\n          p2 = randint(-3, 3, [0])\n          break\n\n        case 3: // nb1*10^p1 x nb2*10^p2\n          do {\n            p1 = randint(-3, 3, [0])\n            p2 = randint(-3, 3, [0])\n          } while (Math.abs(p1 + p2) > 3 || p1 + p2 === 0)\n          choix = choice([true, false])\n          if (choix) {\n            if (this.sup2 === 1) d2 = 0\n          } else {\n            if (this.sup2 === 1) d1 = 0\n          }\n          break\n      }\n\n      nb1 = d1 * 10 + u1\n      nb2 = d2 * 10 + u2\n      multipleNb1 = arrondi(nb1 * 10 ** p1)\n      multipleNb2 = arrondi(nb2 * 10 ** p2)\n      reponse[0] = nb1 * nb2\n\n      const useNb1Decomposed =\n        listeTypeDeQuestions[i] === 1 ||\n        (listeTypeDeQuestions[i] === 3 && choix === false)\n\n      if (this.sup2 === 1) {\n        if (useNb1Decomposed) {\n          texteCorr +=\n            numAlpha(0) +\n            `$${nb1}\\\\times ${nb2} =\n      (${nb1} \\\\times ${d2 * 10}) + (${nb1} \\\\times ${u2}) =\n      ${nb1 * d2 * 10} + ${nb1 * u2} =\n      ${miseEnEvidence(texNombre(reponse[0]))}$<br>`\n        } else {\n          texteCorr +=\n            numAlpha(0) +\n            `$${nb1}\\\\times ${nb2} =\n      (${d1 * 10} \\\\times ${nb2}) + (${u1} \\\\times ${nb2}) =\n      ${nb2 * d1 * 10} + ${nb2 * u1} =\n      ${miseEnEvidence(texNombre(reponse[0]))}$<br>`\n        }\n      } else {\n        const [op1, op2] = useNb1Decomposed ? [nb1, nb2] : [nb2, nb1]\n        texteCorr += numAlpha(0) + `Posons $${op1}\\\\times ${op2}$.<br>`\n        texteCorr += String(\n          operation({\n            operande1: op1,\n            operande2: op2,\n            type: 'multiplication',\n            options: { solution: true, colore: '' },\n          }),\n        )\n        texteCorr += `$${nb1}\\\\times ${nb2} = ${miseEnEvidence(texNombre(reponse[0]))}$.<br>`\n      }\n\n      reponse[1] = arrondi(multipleNb1 * multipleNb2)\n\n      if (this.sup3) {\n        texte = `Sachant que $${nb1}\\\\times ${nb2} = ${texNombre(nb1 * nb2)}$,\n                calculer $${texNombre(multipleNb1)}\\\\times ${texNombre(multipleNb2)}$`\n        if (this.interactif)\n          texte += ajouteChampTexteMathLive(\n            this,\n            i,\n            KeyboardType.clavierNumbers,\n            {\n              texteAvant: ' : ',\n            },\n          )\n        texte += '.'\n        handleAnswers(this, i, {\n          reponse: {\n            value: reponse[1],\n            options: { nombreDecimalSeulement: true },\n          },\n        })\n        texteCorr = ''\n        reponse[0] = 0\n      } else {\n        texte = numAlpha(0) + `Calculer en ligne $${nb1}\\\\times ${nb2}$`\n\n        texte += this.interactif\n          ? ajouteChampTexteMathLive(this, 2 * i, KeyboardType.clavierNumbers, {\n              texteAvant: ' puis donner le résultat : ',\n              texteApres: '.',\n            })\n          : '.'\n        texte += '<br>'\n        handleAnswers(this, 2 * i, {\n          reponse: {\n            value: reponse[0],\n            options: { nombreDecimalSeulement: true },\n          },\n        })\n\n        texte +=\n          numAlpha(1) +\n          `En déduire le résultat de $${texNombre(multipleNb1)}\\\\times ${texNombre(multipleNb2)}$`\n        texte += this.interactif\n          ? ajouteChampTexteMathLive(\n              this,\n              2 * i + 1,\n              KeyboardType.clavierNumbers,\n              { texteAvant: ' : ', texteApres: '.' },\n            )\n          : '.'\n        handleAnswers(this, 2 * i + 1, {\n          reponse: {\n            value: reponse[1],\n            options: { nombreDecimalSeulement: true },\n          },\n        })\n        texteCorr += numAlpha(1)\n      }\n\n      texteCorr += !this.sup4\n        ? `$${texNombre(multipleNb1)}\\\\times ${texNombre(multipleNb2)} =\n                   ${nb1} ${p1 === 0 ? '' : `\\\\times ${texNombre(10 ** p1)}`} \\\\times ${nb2}${p2 === 0 ? '' : `\\\\times ${texNombre(10 ** p2)}`} =\n                   ${nb1}\\\\times ${nb2}${p1 === 0 ? '' : `\\\\times ${texNombre(10 ** p1)}`}${p2 === 0 ? '' : `\\\\times ${texNombre(10 ** p2)}`} = \n                   ${texNombre(nb1 * nb2)}\\\\times ${texNombre(10 ** (p1 + p2))} =\n                   ${miseEnEvidence(texNombre(reponse[1]))}$`\n        : `$${texNombre(multipleNb1)}\\\\times ${texNombre(multipleNb2)} =\n      ${nb1}$  ${nomUnitePourPuissance(p1)} $\\\\times ${nb2} $ ${nomUnitePourPuissance(p2)} $=` +\n          (p1 === 0\n            ? ''\n            : `${nb1}\\\\times ${nb2}$ ${nomUnitePourPuissance(p1 + p2)} $ = `) + // si p1=0, alors cette ligne est équivalente à la précédente\n          `${texNombre(nb1 * nb2)}$ ${nomUnitePourPuissance(p1 + p2)} $ =\n      ${miseEnEvidence(texNombre(reponse[1]))}$`\n\n      if (this.questionJamaisPosee(i, reponse[1])) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["dateDePublication","dateDeModifImportante","interactifReady","interactifType","titre","uuid","refs","nomUnitePourPuissance","p1","mapPuissance","ProduitDeDecimauxAPartirProduitConnu","Exercice","context","listeTypeDeQuestions","gestionnaireFormulaireTexte","reponse","nb1","nb2","multipleNb1","multipleNb2","i","texte","texteCorr","cpt","d1","randint","u1","d2","u2","p2","choix","choice","arrondi","useNb1Decomposed","numAlpha","miseEnEvidence","texNombre","op1","op2","operation","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}