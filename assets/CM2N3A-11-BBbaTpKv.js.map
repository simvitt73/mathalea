{"version":3,"file":"CM2N3A-11-BBbaTpKv.js","sources":["../../src/exercices/CM2/CM2N3A-11.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { range1 } from '../../lib/outils/nombres'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Effectuer les quatre opérations'\nexport const amcReady = true\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcType = 'AMCNum'\n\n/**\n * Mélange équitable d'additions, de soustractions, de multiplications et de divisions\n *\n * * Niveau 1 Addition 2 chiffres + 1 chiffre, soustraction 2 chiffres - 1 chiffre, tables de 2 à 5\n * * Niveau 2 Addition 2 chiffres + 2 chiffres ne dépassant pas 100, soustraction dont le résultat est entre 11 et 19, tables de 6 à 9\n * * Niveau 3 Addition 2 chiffre + 2 chiffres dépassant 100, soustraction dont le résultat est entre 21 et 39, table de 7, 8, 11 ou 12,\n * @author Rémi Angot\n\n */\nexport const uuid = 'ac900'\n\nexport const refs = {\n  'fr-fr': ['CM2N3A-11'],\n  'fr-2016': ['CM004'],\n  'fr-ch': [],\n}\nexport default class QuatreOperations extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = ['Niveau de difficulté', 3]\n\n    this.consigne = 'Calculer.'\n\n    this.nbCols = 2\n    this.nbColsCorr = 2\n    this.sup = 1 // niveau de difficulté\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestionsDisponibles = range1(4)\n    const listeTypeDeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posées mais l'ordre diffère à chaque \"cycle\"\n    for (\n      let i = 0, texte, texteCorr, a, b, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      switch (listeTypeDeQuestions[i]) {\n        case 1: // addition\n          if (this.sup === 1) {\n            a = randint(11, 89)\n            b = randint(2, 9)\n          } else if (this.sup === 2) {\n            a = randint(11, 69)\n            b = randint(11, 29)\n          } else {\n            a = randint(11, 89)\n            b = randint(110 - a, 110 - a + 50)\n          }\n          texte = `$${a}+${b} = $`\n          texteCorr = `$${a}+${b}=${a + b}$`\n          if (this.interactif)\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n            )\n          setReponse(this, i, a + b)\n          break\n        case 2: // soustraction\n          if (this.sup === 1) {\n            a = randint(11, 89)\n            b = randint(2, 9)\n          } else if (this.sup === 2) {\n            a = randint(20, 89)\n            b = randint(a - 19, a - 11)\n          } else {\n            a = randint(40, 89)\n            b = randint(a - 39, a - 21)\n          }\n          texte = `$${a}-${b}=$`\n          texteCorr = `$${a}-${b}=${a - b}$`\n          setReponse(this, i, a - b)\n          if (this.interactif)\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n            )\n          break\n        case 3: // multiplication\n          if (this.sup === 1) {\n            a = randint(2, 5)\n            b = randint(2, 9)\n          } else if (this.sup === 2) {\n            a = randint(6, 9)\n            b = randint(6, 9)\n          } else {\n            a = choice([7, 8, 11, 12])\n            b = randint(2, 9)\n          }\n          texte = `$${a}\\\\times${b}=$`\n          texteCorr = `$${a}\\\\times${b}=${a * b}$`\n          setReponse(this, i, a * b)\n          if (this.interactif)\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n            )\n          break\n        case 4: // division\n        default:\n          if (this.sup === 1) {\n            a = randint(2, 5)\n            b = randint(2, 9)\n          } else if (this.sup === 2) {\n            a = randint(6, 9)\n            b = randint(6, 9)\n          } else {\n            a = choice([7, 8, 11, 12])\n            b = randint(2, 9)\n          }\n          texte = `$${a * b}\\\\div${a}=$`\n          texteCorr = `$${a * b}\\\\div${a}=${b}$`\n          setReponse(this, i, b)\n          if (this.interactif)\n            texte += ajouteChampTexteMathLive(\n              this,\n              i,\n              KeyboardType.clavierNumbers,\n            )\n          break\n      }\n\n      if (\n        this.questionJamaisPosee(\n          i,\n          listeTypeDeQuestions[i],\n          String(a) + String(b),\n        )\n      ) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","amcReady","interactifReady","interactifType","amcType","uuid","refs","QuatreOperations","Exercice","typesDeQuestionsDisponibles","range1","listeTypeDeQuestions","combinaisonListes","i","texte","texteCorr","a","b","cpt","randint","ajouteChampTexteMathLive","KeyboardType","setReponse","choice","listeQuestionsToContenu"],"mappings":"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"}