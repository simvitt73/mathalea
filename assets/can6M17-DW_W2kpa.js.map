{"version":3,"file":"can6M17-DW_W2kpa.js","sources":["../../src/exercices/can/6e/can6M17.ts"],"sourcesContent":["import { colorToLatexOrHTML } from '../../../lib/2d/colorToLatexOrHtml'\nimport { fixeBordures } from '../../../lib/2d/fixeBordures'\nimport { grille } from '../../../lib/2d/Grille'\nimport { point } from '../../../lib/2d/PointAbstrait'\nimport { Polygone, polygone } from '../../../lib/2d/polygones'\nimport { carre } from '../../../lib/2d/polygonesParticuliers'\nimport { Polyquad } from '../../../lib/2d/Polyquad'\nimport { texteParPosition } from '../../../lib/2d/textes'\nimport { choice } from '../../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../../lib/outils/embellissements'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { contraindreValeur, randint } from '../../../modules/outils'\nimport type { NestedObjetMathalea2dArray } from '../../../types/2d'\nimport ExerciceSimple from '../../ExerciceSimple'\nexport const titre = \"Mesurer différence d'aire par comptage\"\nexport const dateDePublication = '26/04/2024'\nexport const dateDeModifImportante = '31/07/2025' // Rajout de différentes unités par Eric Elter\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\n\n/**\n * @author Jean-Claude Lhote\n */\nexport const uuid = 'a17d6'\n\nexport const refs = {\n  'fr-fr': ['can6M17', 'auto6M2C-flash3'],\n  'fr-ch': ['9GM1-11'],\n}\nexport default class DifferenceAireParComptageCan extends ExerciceSimple {\n  constructor() {\n    super()\n    this.nbQuestions = 1\n    this.typeExercice = 'simple'\n    this.besoinFormulaireNumerique = ['Unités', 3, '1 : u.a\\n2 : cm²\\n3 : m²']\n    this.sup = 2\n    this.besoinFormulaire2CaseACocher = ['Avec grille', true]\n    this.sup2 = true\n    this.spacing = 3\n  }\n\n  nouvelleVersion() {\n    const unite = ['u.a', 'cm²', 'm²'][contraindreValeur(1, 3, this.sup, 2) - 1]\n    let aireDiff = 0\n    let aireTetris = 0\n    let aireRectangle = 0\n    let aire = 0\n    do {\n      aire = randint(10, 15)\n      const tetris = new Polyquad(aire, 0, 0)\n      if (tetris.rectangle.xMax < tetris.rectangle.yMax)\n        tetris.rotate(choice([true, false]))\n      const xmin = tetris.rectangle.xMin\n      const ymin = tetris.rectangle.yMin\n      const xmax = tetris.rectangle.xMax + 3\n      const ymax = tetris.rectangle.yMax\n      const rectangle = polygone(\n        point(tetris.rectangle.xMin, tetris.rectangle.yMin),\n        point(tetris.rectangle.xMax, tetris.rectangle.yMin),\n        point(tetris.rectangle.xMax, tetris.rectangle.yMax),\n        point(tetris.rectangle.xMin, tetris.rectangle.yMax),\n      )\n      const nomFigure =\n        tetris.rectangle.xMax === tetris.rectangle.yMax ? 'carré' : 'rectangle'\n      aireRectangle = rectangle.aire\n      aireTetris = tetris.poly.aire\n      aireDiff = aireRectangle - aireTetris\n\n      const grid = grille(xmin, ymin, xmax - 3, ymax)\n      const uniteAire = carre(\n        point(xmax - 2, ymax - 1),\n        point(xmax - 1, ymax - 1),\n      )\n      uniteAire.couleurDeRemplissage = colorToLatexOrHTML('gray')\n      const texteUniteAire = texteParPosition(\n        '1 ' + unite,\n        xmax - 1.5,\n        ymax - 1.8,\n      )\n\n      tetris.poly.opaciteDeRemplissage = 1\n      rectangle.opaciteDeRemplissage = aireTetris > aireDiff ? 0.5 : 1\n      tetris.poly.opacite = 1\n      tetris.poly.epaisseur = 1\n      rectangle.opacite = aireTetris > aireDiff ? 0.5 : 1\n      rectangle.hachures = 'north east lines'\n      rectangle.couleurDeRemplissage = colorToLatexOrHTML('white')\n      rectangle.couleurDesHachures = colorToLatexOrHTML('gray')\n      rectangle.distanceDesHachures = 5\n\n      const objets: NestedObjetMathalea2dArray = []\n      if (this.sup2) {\n        if (aireDiff > aireTetris) {\n          const pavage = tetris.render()\n          pavage.forEach((p) => {\n            if (p instanceof Polygone) p.opaciteDeRemplissage = 1\n          })\n          objets.push(rectangle, ...pavage, uniteAire, texteUniteAire)\n        } else {\n          objets.push(grid, rectangle, tetris.poly, uniteAire, texteUniteAire)\n        }\n      } else {\n        objets.push(rectangle, tetris.poly, uniteAire, texteUniteAire)\n      }\n\n      const fig1 = mathalea2d(\n        Object.assign(\n          { pixelsParCm: 20, scale: 0.5, style: 'display: inline-block' },\n          fixeBordures(objets, {\n            rxmin: -0.1,\n            rymin: -0.1,\n            rxmax: 0.1,\n            rymax: 0.1,\n          }),\n        ),\n        objets,\n      )\n      this.question = `L'aire du ${nomFigure} est de $${aireRectangle}$ ${unite}.<br>\n            ${fig1}<br>\n       ${\n         aireDiff <= aireTetris\n           ? \"Quelle est l'aire de la zone non hachurée ?\"\n           : \"Quelle est l'aire de la zone hachurée ?\"\n       }\n      `\n    } while (\n      aireTetris < 10 ||\n      aireDiff < 3 ||\n      Math.abs(aireDiff - aireTetris) < 5\n    )\n    this.optionsChampTexte = { texteApres: unite }\n    this.reponse = aire\n    this.correction = `${\n      aireDiff <= aireTetris\n        ? `L'aire de la zone non hachurée est $${aireRectangle}$ ${unite} - $${aireDiff}$ ${unite} = $${miseEnEvidence(aireTetris)}$ ${unite}`\n        : `L'aire de la zone hachurée est $${aireRectangle}$ ${unite} - $${aireTetris}$ ${unite} = $${miseEnEvidence(aireDiff)}$ ${unite}`\n    }`\n  }\n}\n"],"names":["titre","dateDePublication","dateDeModifImportante","interactifReady","interactifType","amcReady","uuid","refs","DifferenceAireParComptageCan","ExerciceSimple","unite","contraindreValeur","aireDiff","aireTetris","aireRectangle","aire","randint","tetris","Polyquad","choice","xmin","ymin","xmax","ymax","rectangle","polygone","point","nomFigure","grid","grille","uniteAire","carre","colorToLatexOrHTML","texteUniteAire","texteParPosition","objets","pavage","p","Polygone","fig1","mathalea2d","fixeBordures","miseEnEvidence"],"mappings":"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"}