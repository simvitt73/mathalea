{"version":3,"file":"6M4C-D9VC_cAE.js","sources":["../../src/exercices/6e/6M4C.ts"],"sourcesContent":["// import { MathfieldElement } from 'mathlive'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { choice, combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport Hms from '../../modules/Hms'\nimport operation from '../../modules/operations'\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre = 'Convertir des dur√©es'\nexport const interactifReady = true\n// export const interactifType = 'custom'\nexport const interactifType = 'mathLive'\n\n/**\n * Conversions de dur√©es.\n * * 1 : H vers min ou H ou min ou Hmin vers s\n * * 2 : h vers j-h\n * * 3 : s vers h min s\n * * 4 : h vers semaines j h\n * * 5 : toutes les conversions\n * @author R√©mi Angot\n */\nexport const dateDeModifImportante = '10/11/2024'\nexport const uuid = '8b0f9'\n\nexport const refs = {\n  'fr-fr': ['6M4C', '3AutoG06-5'],\n  'fr-2016': ['6D10'],\n  'fr-ch': ['10GM3-1'],\n}\nexport default class ConversionsDeDurees extends Exercice {\n  expectedAnswers: Hms[] = []\n  constructor() {\n    super()\n    this.sup = 5\n    this.consigne = 'Convertir.'\n    this.spacing = 2\n    this.nbQuestions = 5\n    this.besoinFormulaireNumerique = [\n      'Niveau de difficult√©',\n      5,\n      '1 : Conversions en secondes ou minutes\\n2 : Conversions en jours-heures\\n3 : Conversions en heures-minutes-secondes\\n4 : Conversions en semaines-jours-heures\\n5 : M√©lange',\n    ]\n  }\n\n  nouvelleVersion() {\n    const listeSousTypeDeQuestionV1 = combinaisonListes(\n      [1, 2, 3, 4],\n      this.nbQuestions,\n    )\n    const listeSousTypeDeQuestionV2 = combinaisonListes(\n      [0, 1, 2],\n      this.nbQuestions,\n    )\n    let typesDeQuestions = []\n    if (this.sup < 5) {\n      typesDeQuestions = combinaisonListes([this.sup], this.nbQuestions)\n    }\n    if (parseInt(this.sup) === 5) {\n      typesDeQuestions = combinaisonListes([1, 2, 3, 4], this.nbQuestions)\n    }\n    let texte = ''\n    let texteCorr = ''\n    let h = 0\n    let m = 0\n    let s = 0\n    let j = 0\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      if (typesDeQuestions[i] === 1) {\n        const sousTypeDeQuestion = listeSousTypeDeQuestionV1[i]\n        if (sousTypeDeQuestion === 1) {\n          h = randint(2, 11)\n          texte = `$${h}~\\\\text{h en minutes.}$`\n          texteCorr = `$${h}~\\\\text{h} = ${h}\\\\times60~\\\\text{min} = `\n          texteCorr += miseEnEvidence(`${texNombre(h * 60)}~\\\\text{min}`) + '$'\n          this.expectedAnswers[i] = new Hms({ minute: 60 * h })\n        }\n        if (sousTypeDeQuestion === 2) {\n          h = choice([1, 2, 10, 20])\n          texte = `$${h}~\\\\text{h en secondes.}$`\n          texteCorr = `$${h}~\\\\text{h} = ${h}\\\\times3~600~\\\\text{s} = `\n          texteCorr += miseEnEvidence(`${texNombre(h * 3600)}~\\\\text{s}`) + '$'\n          this.expectedAnswers[i] = new Hms({ second: h * 3600 })\n        }\n        if (sousTypeDeQuestion === 3) {\n          m = randint(2, 59)\n          texte = `$${m}~\\\\text{min en secondes.}$`\n          texteCorr = `$${m}~\\\\text{min} = ${m}\\\\times60~\\\\text{s} = `\n          texteCorr += miseEnEvidence(`${texNombre(m * 60)}~\\\\text{s}`) + '$'\n          this.expectedAnswers[i] = new Hms({ second: m * 60 })\n        }\n        if (sousTypeDeQuestion === 4) {\n          h = randint(1, 2)\n          m = randint(2, 59)\n          texte = `$${h}~\\\\text{h}~${m}~\\\\text{min en secondes.}$`\n          texteCorr = `$${h}~\\\\text{h}~${m}~\\\\text{min} = ${h}\\\\times3~600~\\\\text{s} + ${m}\\\\times60~\\\\text{s} = ${texNombre(\n            h * 3600,\n          )}+${texNombre(m * 60)}~\\\\text{s} = `\n          texteCorr +=\n            miseEnEvidence(`${texNombre(h * 3600 + m * 60)}~\\\\text{s}`) + '$'\n          this.expectedAnswers[i] = new Hms({ second: h * 3600 + m * 60 })\n        }\n      }\n      if (typesDeQuestions[i] === 2) {\n        j = randint(1, 6)\n        h = randint(1, 23)\n        texte = `$${texNombre(h + 24 * j)}~\\\\text{h en jours et heures.}$`\n        texteCorr =\n          operation({\n            operande1: h + 24 * j,\n            operande2: 24,\n            type: 'divisionE',\n            style: 'margin-bottom: 1em',\n          }) ?? ''\n        texteCorr += `<br>$${texNombre(\n          h + 24 * j,\n        )}~\\\\text{h} = ${j}\\\\times24~\\\\text{h} + ${h}~\\\\text{h} = `\n        texteCorr += miseEnEvidence(`${j}~\\\\text{j}~${h}~\\\\text{h}`) + '$'\n        this.expectedAnswers[i] = new Hms({ day: j, hour: h })\n      }\n\n      if (typesDeQuestions[i] === 3) {\n        h = listeSousTypeDeQuestionV2[i]\n        m = randint(1, 59)\n        s = randint(1, 59)\n        if (h > 0) {\n          texte = `$${texNombre(\n            h * 3600 + m * 60 + s,\n          )}~\\\\text{s en heures, minutes et secondes.}$`\n          texteCorr =\n            operation({\n              operande1: h * 3600 + m * 60 + s,\n              operande2: 3600,\n              type: 'divisionE',\n              style: 'margin-bottom: 1em',\n            }) ?? ''\n          texteCorr +=\n            operation({\n              operande1: m * 60 + s,\n              operande2: 60,\n              type: 'divisionE',\n              style: 'margin-bottom: 1em',\n            }) ?? ''\n          texteCorr += `<br>$${texNombre(\n            h * 3600 + m * 60 + s,\n          )}~\\\\text{s} = ${texNombre(h * 3600)}~\\\\text{s}+${texNombre(\n            m * 60 + s,\n          )}~\\\\text{s} =${h}~\\\\text{h}+${m}\\\\times60~\\\\text{s}+${s}~\\\\text{s}= `\n          texteCorr +=\n            miseEnEvidence(`${h}~\\\\text{h}~${m}~\\\\text{min}~${s}~\\\\text{s}`) +\n            '$'\n          this.expectedAnswers[i] = new Hms({ hour: h, minute: m, second: s })\n        } else {\n          texte = `$${texNombre(m * 60 + s)}~\\\\text{s en heures, minutes et secondes.}$`\n          texteCorr = `$${texNombre(\n            m * 60 + s,\n          )}~\\\\text{s} = ${m}\\\\times60~\\\\text{s}+${s}~\\\\text{s}=${m}~\\\\text{min}~${s}~\\\\text{s}$`\n          this.expectedAnswers[i] = new Hms({ minute: m, second: s })\n        }\n      }\n      if (typesDeQuestions[i] === 4) {\n        s = randint(2, 9) // nombre de semaines\n        j = randint(1, 6)\n        h = randint(1, 23)\n        texte = `$${texNombre(\n          h + 24 * j + 24 * 7 * s,\n        )}~\\\\text{h en semaines jours et heures.}$`\n        if (s > 1) {\n          // pour la gestion du pluriel de semaines\n          texteCorr =\n            operation({\n              operande1: h + 24 * j + 24 * 7 * s,\n              operande2: 24,\n              type: 'divisionE',\n              style: 'margin-bottom: 1em',\n            }) ?? ''\n          texteCorr +=\n            operation({\n              operande1: 7 * s + j,\n              operande2: 7,\n              type: 'divisionE',\n              style: 'margin-bottom: 1em',\n            }) ?? ''\n          texteCorr += `<br>$${texNombre(h + 24 * j + 24 * 7 * s)}~\\\\text{h} = ${\n            j + 7 * s\n          }\\\\times24~\\\\text{h} + ${h}~\\\\text{h} = ${\n            j + 7 * s\n          }~\\\\text{j}~${h}~\\\\text{h} = ${s}\\\\times7~\\\\text{j} + ${j}~\\\\text{j}~${h}~\\\\text{h} = `\n          texteCorr +=\n            miseEnEvidence(\n              `${s}~\\\\text{semaines}~${j}~\\\\text{j}~${h}~\\\\text{h}`,\n            ) + '$'\n          this.expectedAnswers[i] = new Hms({ week: s, day: j, hour: h })\n        } else {\n          // Plus utilis√© pour ne pas avoir √† g√©rer le pluriel de semaines dans le champ de r√©ponse\n          texteCorr = `$${texNombre(h + 24 * j + 24 * 7 * s)}~\\\\text{h} = ${\n            j + 7 * s\n          }\\\\times24~\\\\text{h} + ${h}~\\\\text{h} = ${\n            j + 7 * s\n          }~\\\\text{j}~${h}~\\\\text{h} = ${s}\\\\times7~\\\\text{j} + ${j}~\\\\text{j}~${h}~\\\\text{h} = `\n          texteCorr +=\n            miseEnEvidence(\n              `${s}~\\\\text{semaine}~${j}~\\\\text{j}~${h}~\\\\text{h}`,\n            ) + '$'\n          this.expectedAnswers[i] = new Hms({ week: s, day: j, hour: h })\n        }\n      }\n\n      if (this.interactif) {\n        texte = texte.replace('.', ' : ')\n        texte += ajouteChampTexteMathLive(this, i, KeyboardType.clavierHms)\n        handleAnswers(this, i, {\n          reponse: {\n            value: this.expectedAnswers[i].toString(),\n            options: { HMS: true },\n          },\n        })\n      }\n      // if (this.listeQuestions.indexOf(texte) === -1) {\n      if (this.questionJamaisPosee(i, m, s, h, j)) {\n        // <- laisser le i et ajouter toutes les variables qui rendent les exercices diff√©rents (par exemple a, b, c et d)\n        // Si la question n'a jamais √©t√© pos√©e, on en cr√©e une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n\n  /*\n  correctionInteractive = (i: number) => {\n    const mf = document.querySelector(`math-field#champTexteEx${this.numeroExercice}Q${i}`)\n    if (mf instanceof MathfieldElement === false) return 'KO'\n    mf.readOnly = true\n    // Sauvegarde de la r√©ponse pour Capytale\n    if (this.answers == null) this.answers = {}\n    this.answers[`Ex${this.numeroExercice}Q${i}`] = mf.getValue()\n    // Saisie fournie par l'utilisateur qu'on va comparer √©ventuellement avec la r√©ponse attendue.\n    const input = mf.value\n    // Partie test de la saisie de l'utilisateur\n    let feedback = ''\n    const inputHms = Hms.fromString(input)\n    let isEqual = false\n    let isInGoodFormat = false\n    if (inputHms.isEqual(this.expectedAnswers[i])) {\n      isEqual = true\n    }\n    if (inputHms.isTheSame(this.expectedAnswers[i])) {\n      isInGoodFormat = true\n    }\n    let smiley = ''\n    let reponse = ''\n    if (isEqual && isInGoodFormat) {\n      smiley = 'üòé'\n      reponse = 'OK'\n    } else {\n      smiley = '‚òπÔ∏è'\n      reponse = 'KO'\n    }\n    if (isEqual && !isInGoodFormat) {\n      feedback = 'La dur√©e est bien √©gale mais pas dans le format attendu.'\n    }\n    // Affichage du feedback\n    const divFeedback = document.querySelector(`#feedbackEx${this.numeroExercice}Q${i}`)\n    if (divFeedback && divFeedback instanceof HTMLElement) {\n      divFeedback.innerHTML = feedback\n      divFeedback.style.display = 'block'\n    }\n    // Affichage du smiley\n    const divCheck = document.querySelector(`span#resultatCheckEx${this.numeroExercice}Q${i}`)\n    if (divCheck) divCheck.innerHTML = smiley\n    return reponse\n  } */\n}\n"],"names":["titre","interactifReady","interactifType","dateDeModifImportante","uuid","refs","ConversionsDeDurees","Exercice","__publicField","listeSousTypeDeQuestionV1","combinaisonListes","listeSousTypeDeQuestionV2","typesDeQuestions","texte","texteCorr","h","m","s","j","i","cpt","sousTypeDeQuestion","randint","miseEnEvidence","texNombre","Hms","choice","operation","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}