{"version":3,"file":"canc3D01-BMeiVqUS.js","sources":["../../src/exercices/can/c3/canc3D01.ts"],"sourcesContent":["import { cercle } from '../../../lib/2d/cercle'\nimport { colorToLatexOrHTML } from '../../../lib/2d/colorToLatexOrHtml'\nimport { point } from '../../../lib/2d/PointAbstrait'\nimport { segment } from '../../../lib/2d/segmentsVecteurs'\nimport { rotation } from '../../../lib/2d/transformations'\nimport { KeyboardType } from '../../../lib/interactif/claviers/keyboard'\nimport { context } from '../../../modules/context'\nimport { mathalea2d } from '../../../modules/mathalea2d'\nimport { randint } from '../../../modules/outils'\nimport ExerciceSimple from '../../ExerciceSimple'\n\nimport {\n  miseEnEvidence,\n  texteEnCouleurEtGras,\n} from '../../../lib/outils/embellissements'\nexport const titre = \"Lire l'heure\"\nexport const dateDePublication = '4/11/2021'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const amcReady = true\nexport const amcType = 'AMCHybride'\n\n/**\n * @author Jean-Claude Lhote\n */\nexport const uuid = '2ce11'\n\nexport const refs = {\n  'fr-fr': ['canc3D01', 'auto6M4A-flash1'],\n  'fr-ch': ['NR'],\n}\nexport default class LireHeure extends ExerciceSimple {\n  constructor() {\n    super()\n\n    this.nbQuestions = 1\n    this.besoinFormulaireCaseACocher = [\n      \"Avec des horaires de l'après-midi\"\n    ]\n    this.sup = false // Par défaut, non coché\n    this.typeExercice = 'simple'\n    this.formatChampTexte = KeyboardType.clavierHms\n  }\n\n  nouvelleVersion() {\n    const horloge = []\n    const O = point(0, 0)\n    const C = cercle(O, 2)\n    horloge.push(C)\n    const s = segment(1.5, 0, 1.9, 0)\n    for (let i = 0; i < 4; i++) {\n      horloge.push(rotation(s, O, 90 * i))\n    }\n    const t = segment(1.7, 0, 1.9, 0)\n    for (let i = 0; i < 4; i++) {\n      horloge.push(rotation(t, O, 30 + i * 90), rotation(t, O, 60 + i * 90))\n    }\n\n    let h, m\n    const isAfternoon = this.sup ? (randint(0, 1) === 1) : false\n    h = isAfternoon ? randint(1, 11) + 12 : randint(0, 11)\n    m = randint(0, 11) * 5\n\n    \n    const alpha = 90 - h % 12 * 30 - m / 2\n    const beta = 90 - m * 6\n    const grandeAiguille = rotation(segment(O, point(1.5, 0)), O, beta)\n    const petiteAiguille = rotation(segment(O, point(1, 0)), O, alpha)\n    grandeAiguille.color = context.isHtml\n      ? colorToLatexOrHTML('red')\n      : colorToLatexOrHTML('black')\n    grandeAiguille.epaisseur = 2\n    petiteAiguille.color = context.isHtml\n      ? colorToLatexOrHTML('blue')\n      : colorToLatexOrHTML('black')\n    petiteAiguille.epaisseur = 4\n    horloge.push(petiteAiguille, grandeAiguille)\n\n    const periode = isAfternoon ? \"de l'après-midi\" : \"du matin\"\n    this.question =\n      `Quelle est l'heure ${periode} indiquée par cette horloge ? <br>\n    \n    ` +\n      mathalea2d(\n        {\n          xmin: -3,\n          ymin: -3,\n          xmax: 3,\n          ymax: 3,\n          scale: 0.7,\n          style: 'margin: auto',\n        },\n        horloge,\n      )\n    this.reponse = { reponse: { value: `${h}h ${m}`, options: { HMS: true } } }\n    this.correction = `$${miseEnEvidence(h)}$ ${texteEnCouleurEtGras('h')} $${miseEnEvidence(m === 0 ? '' : m === 5 ? '0' + m : m)}$`\n    if (context.isAmc) {\n      this.autoCorrection = [\n        {\n          enonce: this.question,\n          propositions: [\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: this.correction,\n                  reponse: {\n                    texte: 'heure',\n                    valeur: [h],\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            },\n            {\n              type: 'AMCNum',\n              propositions: [\n                {\n                  texte: '',\n                  reponse: {\n                    texte: 'minutes',\n                    valeur: [m],\n                    param: {\n                      digits: 2,\n                      decimals: 0,\n                      signe: false,\n                    },\n                  },\n                },\n              ],\n            },\n          ],\n        },\n      ]\n    }\n    this.canEnonce = this.question\n    this.canReponseACompleter = '$\\\\ldots$ h $\\\\ldots$ min'\n  }\n}\n"],"names":["titre","dateDePublication","interactifReady","interactifType","amcReady","amcType","uuid","refs","LireHeure","ExerciceSimple","KeyboardType","horloge","O","point","C","cercle","s","segment","rotation","t","h","m","isAfternoon","randint","alpha","beta","grandeAiguille","petiteAiguille","context","colorToLatexOrHTML","periode","mathalea2d","miseEnEvidence","texteEnCouleurEtGras"],"mappings":"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"}