import{U as L,aS as $,r as E,x as j}from"./index-Dkwu26bg.js";import"./vendors/decimal.js-BceHFVC1.js";import{m as T,M as F}from"./Matrice-C8tN7fhJ.js";import{P as N}from"./Polynome-Dr039A6U.js";function B(t){let s,e,l,m;do e=E(-5,5,0),l=E(-5,5,0),m=E(-5,5,0),s=l*l-4*e*m;while(t?s<=0:s>=0);return[e,l,m]}function G(t){const s=t.sort((u,r)=>u.x-r.x),e=[];for(let u=1;u<s.length;u++)s[u-1].x!==s[u].x&&e.push(s[u-1]);if(e.push(s[s.length-1]),e.length<2)throw Error("Pour une interpolation de Lagrange, il faut au moins deux points d'abscisses diffÃ©rentes");const l=e.length-1;let m=new N({coeffs:[0]});for(let u=0;u<=l;u++){let r=new N({coeffs:[1]});for(let o=0;o<=l;o++)if(u!==o){const p=e[u].x-e[o].x;r=new N({coeffs:[-e[o].x/p,1/p]}).multiply(r)}r=r.multiply(e[u].y),m=r.add(m)}return m}function H(t,s,e,l,m){const u=T([[t**2,t],[s**2,s]]);if(u.determinant()===0)return[0,0];const r=u.inverse().multiply([e-m,l-m]);let o;if(r instanceof F)o=r.toArray();else if(Array.isArray(r))o=r;else return[0,0];const[p,i]=o;return[p,i]}function J(t,s,e,l,m,u,r){const o=T([[t**3,t**2,t],[s**3,s**2,s],[e**3,e**2,e]]),p=l-r,i=m-r,n=u-r;if(o&&o.determinant()===0)return[0,0,0];const a=o.inverse().multiply([p,i,n]);let c;if(a instanceof F)c=a.toArray();else if(Array.isArray(a))c=a;else return[0,0,0];const[g,h,d]=c;return[g,h,d]}const f=(t,s,e)=>e?j(t,s):t;function k(t){if(t.operator!=="Add")return $.function("Multiply",[t,$.parse("-1")]);const s=t.ops??[];return s.length===0?$.function("Multiply",[t,$.parse("-1")]):$.function("Add",s.map(k),{canonical:!1,structural:!1})}function A(t){if(t.operator==="Negate"){const e=k(t.op1);return $.function("Add",[e],{canonical:!1,structural:!1})}if(t.operator==="Subtract"){const e=k(t.op2),l=$.function("Add",[t.op1,e],{canonical:!1,structural:!1});return A(l)}if(t.operator!=="Add")return t;const s=[];for(let e of t.ops??[])e=A(e),e.operator==="Add"||e.operator==="Delimiter"?s.push(...(e.ops??[]).map(A)):s.push(e);return $.function("Add",s,{canonical:!1,structural:!1})}function K(t,s){const e=s.couleurs??["red","blue","green","black","red","blue","green","black"],l=s==null?void 0:s.isColored;t=L(["parentheses","espaces","virgules","fractions"])(t);const u=$.parse(t,{canonical:!1}),o=A(A(u)).ops??[];let p="";for(let i=0;i<o.length;i++){const n=o[i].latex.startsWith("-")||i===0?o[i].latex:`+${o[i].latex}`,a=o[i].getSubexpressions("Power")[0];let c=0;a!=null?c=Number(a.op2.value):o[i].operator==="Square"?c=2:o[i].operator==="Negate"?o[i].op1.isConstant?c=0:c=1:o[i].isConstant?c=0:c=1,p+=f(n,e[Math.max(0,2-c)],l??!1)}return p}function Q(t,s){const e=s.couleurs??["red","blue","green","black","red","blue","green","black"],l=s==null?void 0:s.isColored;if(t=L(["parentheses","espaces","virgules","fractions"])(t),t.length===0)return"";const u=$.parse(t,{canonical:!1}),r=A(u).ops??[],o=[];for(let i=0;i<r.length;i++){let n=0;const a=r[i];a.getSubexpressions("Power")[0]!=null?n=Number(a.getSubexpressions("Power")[0].op2.numericValue):a.operator==="Square"?n=2:a.operator==="Negate"?a.op1.isConstant?n=0:n=1:a.isConstant?n=0:n=1;const c=r[i].latex.startsWith("-")||i===0?r[i].latex:`+${r[i].latex}`;o[n]==null&&(o[n]=[]),o[n].push(c)}const p=[];for(let i=o.length;i>0;i--){const n=o[i-1];if(n!=null&&n.length>0){let a="";for(let c of n)c.startsWith("+")&&a===""&&(c=c.substring(1)),a+=c;p.push(`(${f(a,e[Math.max(0,2-(i-1))],l??!1)})`)}}return p.join("+")}const v=t=>t.isNumberLiteral,w=t=>t.symbol&&t.symbol.length===1&&t.latex.length===1;function R(t,s){const e=s==null?void 0:s.isColored,l=s.colorOffset??0,m=(s==null?void 0:s.level)??0,u=L(["parentheses","fractions"]),r=s.couleurs??["red","blue","green","black","red","blue","green","black"];t=u(t);const o=$.parse(t);if(!["Square","Multiply","Power"].includes(o.operator))return t.replaceAll("\\frac","\\dfrac");if(o.operator==="Square"||o.operator==="Power"){if(o.op2.numericValue!==2)return t.replaceAll("\\frac","\\dfrac");const p=o.op1,i=p.operator==="Add",n=p.op1,a=p.op2,c=v(n)?n.latex.startsWith("-")?`\\left( ${n.latex}\\right) ^2`:`${n.latex}^2`:w(n)?`${n.latex}^2`:`\\left( ${n.latex}\\right) ^2`,g=v(a)?a.latex.startsWith("-")?`\\left( ${a.latex}\\right) ^2`:`${a.latex}^2`:w(a)?`${a.latex}^2`:`\\left( ${a.latex}\\right) ^2`,h=`2\\times ${v(n)?n.latex.startsWith("-")?`\\left( ${n.latex}\\right) `:`${n.latex}`:w(n)?`${n.latex}`:`\\left( ${n.latex}\\right) `}\\times ${v(a)?a.latex.startsWith("-")?`\\left( ${a.latex}\\right) `:`${a.latex}`:w(a)?`${a.latex}`:`\\left( ${a.latex}\\right) `}`;if(m===2)return`${f(c,r[l],e)}${i?"+":"-"}${f(h,r[l+1],e)}+${f(g,r[l+2],e)}`.replaceAll("\\frac","\\dfrac");{const d=$.parse(h).simplify().latex,W=$.box(["Multiply",n,n]).evaluate().latex,M=$.box(["Multiply",a,a]).evaluate().latex;return`${f(W,r[l],e)}${i?"+":"-"}${f(d,r[l+1],e)}+${f(M,r[l+2],e)}`.replaceAll("\\frac","\\dfrac")}}else{const p=o.op1,i=o.op2,n=p.op1,a=p.op2,c=p.operator==="Add",g=i.op1,h=i.op2,d=i.operator==="Add",W=n.latex.startsWith("-")?`\\left( ${n.latex}\\right) `:n.latex,M=a.latex.startsWith("-")?`\\left( ${a.latex}\\right) `:a.latex,q=g.latex.startsWith("-")?`\\left( ${g.latex}\\right) `:g.latex,D=h.latex.startsWith("-")?`\\left( ${h.latex}\\right) `:h.latex;if(m===2)return`${f(W,r[l],e)}\\times ${f(q,r[l],e)}
    ${d?"+":"-"}${f(W,r[l+1],e)}\\times ${f(D,r[l+1],e)}
    ${c?"+":"-"}${f(M,r[l+1],e)}\\times ${f(q,r[l+1],e)}
    ${c===d?"+":"-"}${f(M,r[l+2],e)}\\times ${f(D,r[l+2],e)}`.replaceAll("\\frac","\\dfrac");{const O=$.box(["Multiply",n,g]).evaluate().simplify().latex,x=$.box(["Multiply",n,h]).evaluate().simplify().latex,b=$.box(["Multiply",a,g]).evaluate().simplify().latex,y=$.box(["Multiply",a,h]).evaluate().simplify().latex;if(m===1){const S=x.startsWith("-")?`\\left( ${x}\\right)`:x,P=b.startsWith("-")?`\\left( ${b}\\right)`:b,C=y.startsWith("-")?`\\left( ${y}\\right)`:y;return`${f(O,r[l],e)}
        ${d?"+":"-"}${f(S,r[l+1],e)}
        ${c?"+":"-"}${f(P,r[l+1],e)}
        ${c===d?"+":"-"}${f(C,r[l+1],e)}`.replaceAll("\\frac","\\dfrac")}else{const S=x.startsWith("-")?d?x:`+${x.substring(1)}`:d?`+${x}`:`-${x}`,P=b.startsWith("-")?c?b:`+${b.substring(1)}`:c?`+${b}`:`-${b}`,C=y.startsWith("-")?c===d?y:`+${y.substring(1)}`:c===d?`+${y}`:`-${y}`;return`${f(O,r[l],e)}
        ${f(S,r[l+1],e)}
        ${f(P,r[l+2],e)}
        ${f(C,r[l+3],e)}`.replaceAll("\\frac","\\dfrac")}}}}export{H as a,J as b,B as c,R as d,G as i,Q as r,K as s};
//# sourceMappingURL=outilsMaths-BpkQ4p8N.js.map
