{"version":3,"file":"1AN11-3-Clzsv-26.js","sources":["../../src/exercices/1e/1AN11-3.ts"],"sourcesContent":["import { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport {\n  ecritureAlgebrique,\n  ecritureParentheseSiNegatif,\n  reduireAxPlusB,\n  rienSi1,\n} from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport { signe } from '../../lib/outils/nombres'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport {\n  gestionnaireFormulaireTexte,\n  listeQuestionsToContenu,\n  randint,\n} from '../../modules/outils'\nimport Trinome from '../../modules/Trinome'\nimport Exercice from '../Exercice'\nexport const titre = 'Déterminer une équation de tangente'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\n\nexport const dateDePublication = '16/12/2021'\nexport const dateDeModifImportante = '09/12/2025'\n\n/**\n * Déterminer une équation de tangente\n * Gilles Mora Ajout de l'interactivité par Jean-Claude Lhote et passage en typescript\n */\nexport const uuid = '4c8c7'\n\nexport const refs = {\n  'fr-fr': ['1AN11-3'],\n  'fr-ch': [],\n}\nexport default class Equationdetangente extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Type de questions',\n      [\n        'Nombres séparés par des tirets :',\n        '1 : Avec un nombre dérivé et une image donnés',\n        '2 : Polynôme degré 2',\n        '3 : Polynôme degré 3',\n        '4 : Fonction rationnelle',\n        '5 : Mélange',\n      ].join('\\n'),\n    ]\n    this.besoinFormulaire2CaseACocher = ['Correction sans formule']\n    this.nbQuestions = 1 // Nombre de questions par défaut\n    this.nbCols = 1 // Uniquement pour la sortie LaTeX\n    this.nbColsCorr = 1 // Uniquement pour la sortie LaTeX\n    this.spacing = 1.5\n    this.spacingCorr = 1.5\n    this.sup = '5'\n  }\n\n  nouvelleVersion() {\n    const typesDeQuestionsDisponibles = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 4,\n      melange: 5,\n      defaut: 5,\n      nbQuestions: this.nbQuestions,\n    })\n    const listeTypeQuestions = combinaisonListes(\n      typesDeQuestionsDisponibles,\n      this.nbQuestions,\n    ) // Tous les types de questions sont posés mais l'ordre diffère à chaque \"cycle\"\n\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let texte = ''\n      let texteCorr = ''\n      let a: number, b: number, c: number, d: number, e: number\n      let reponse: string\n      let borneInf: number\n      let borneSup: number\n      const cours =\n        \" L'équation réduite de la tangente $(T)$ au point d'abscisse $a$  est : $y=f'(a)(x-a)+f(a)$.<br><br>\"\n      const cours2 = ` L'équation réduite de la tangente $(T)$ au point d'abscisse $a$  est : $y=mx+p$.<br>\n       $m$ est le nombre dérivé de $f$ en $a$ et on calcule $p$ en utlisant un point qui appartient à la droite. <br>\n       On utilise pour cela le point de coordonnées $(a\\\\,;\\\\,f(a))$.<br><br>`\n      switch (listeTypeQuestions[i]) {\n        case 1: // Cas 1 : Nombre dérivé donné\n          a = randint(-5, 5) // Point d'abscisse\n          b = randint(-5, 5, 0) // f(a)\n          c = randint(-10, 10) // f'(a)\n          borneInf = randint(-10, -7)\n          borneSup = randint(7, 10)\n          texte = `Soit $f$ une fonction dérivable sur $[${borneInf}\\\\,;\\\\,${borneSup}]$ et $\\\\mathcal{C}_f$ sa courbe représentative.<br>`\n          texte += `On sait que $f(${a})=${b}$ et que $f'(${a})=${c}$.<br>`\n          texte += `Déterminer l'équation réduite de la tangente $(T)$ à la courbe $\\\\mathcal{C}_f$ au point d'abscisse $${a}$.<br>`\n\n          if (this.sup2) {\n            // Correction sans formule (démonstration complète)\n\n            texteCorr =\n              cours2 +\n              `Le coefficient directeur de la tangente est égal au nombre dérivé. <br>\n            Ainsi, $m=f'(${a})=${c}$.<br><br>`\n            texteCorr += `On obtient alors $(T) : y=${c}x+p$.<br><br>`\n            texteCorr += `La tangente passe par le point $A$ de coordonnées $(${a}\\\\,;\\\\,f(${a}))$.<br>`\n            texteCorr += `On a $f(${a})=${b}$.<br><br>`\n            texteCorr += `Les coordonnées de $A$ vérifient l'équation, donc :<br>`\n            texteCorr += `$${b}=${c}\\\\times${ecritureParentheseSiNegatif(a)}+p$<br>`\n            texteCorr += `$${b}=${c * a}+p$<br>`\n            texteCorr += `$p=${b}${ecritureAlgebrique(-c * a)}$<br>`\n            texteCorr += `$p=${b - c * a}$<br><br>`\n            texteCorr += `Ainsi, l'équation de la tangente est : $(T) : ${miseEnEvidence(`y=${reduireAxPlusB(c, b - c * a)}`)}$.`\n          } else {\n            // Correction avec formule\n            texteCorr =\n              cours +\n              `On obtient pour $a=${a}$ :<br>\n          $y=f'(${a})(x-${ecritureParentheseSiNegatif(a)})+f(${a})$<br><br>\n         D'après l'énoncé, $f'(${a})=${c}$ et $f(${a})=${b}$, on a alors :<br>\n          ${a === 0 ? `$y=${c}x${ecritureAlgebrique(b)}$` : `$y=${c}(x${ecritureAlgebrique(-a)})${ecritureAlgebrique(b)}$`}<br><br>`\n            texteCorr += `En simplifiant l'écriture, on obtient  : $(T) : ${miseEnEvidence(`y=${reduireAxPlusB(c, b - c * a)}`)}$.`\n          }\n\n          reponse = reduireAxPlusB(c, b - c * a)\n          break\n\n        case 2:\n          {\n            // Cas 2 : Polynôme avec Trinome\n            a = randint(-3, 3, [0]) // coefficient de x²\n            b = randint(3, 3) // coefficient de x\n            c = randint(-5, 5) // terme constant\n            d = randint(-4, 4, [0]) // point d'abscisse pour la tangente\n\n            const poly = new Trinome(a, b, c)\n            const valeurEnD = poly.texCalculImage(d) // Texte du calcul de f(d)\n            const imageD = poly.image(d).valeurDecimale // Valeur numérique de f(d)\n            const deriveeEnD = 2 * a * d + b // f'(d)\n\n            texte = `Soit $f$ la fonction définie sur $\\\\mathbb{R}$ par $f(x)=${poly.tex}$ et $\\\\mathcal{C}_f$ sa courbe représentative.<br>`\n            texte += `Déterminer l'équation réduite de la tangente $(T)$ à $\\\\mathcal{C}_f$ au point d'abscisse $${d}$.`\n\n            if (this.sup2) {\n              // Correction sans formule\n              texteCorr =\n                cours2 +\n                `La fonction $f$ est un polynôme, donc elle est dérivable sur $\\\\mathbb{R}$.<br><br>\n          $\\\\bullet$ Calcul de $f'(x)$ :<br>\n          $f'(x)=${reduireAxPlusB(2 * a, b)}$<br><br>\n          $\\\\bullet$  Calcul de $f'(${d})$ :<br>\n          $f'(${d})=${2 * a}\\\\times${ecritureParentheseSiNegatif(d)}${b === 0 ? `` : `${ecritureAlgebrique(b)}`}=${deriveeEnD}$<br><br>\n          $\\\\bullet$ Calcul de $f(${d})$ :<br>\n          $f(${d})=${valeurEnD}$<br><br>\n      \n          Le coefficient directeur de la tangente est le nombre dérivé. <br>\n          Ainsi, $m=f'(${d})=${deriveeEnD}$.<br><br>\n          On obtient alors $(T) : y=${deriveeEnD}x+p$.<br><br>\n          La tangente passe par le point $A$ de coordonnées $(${d}\\\\,;\\\\,f(${d}))$ soit $(${d}\\\\,;\\\\,${imageD})$.<br><br>\n          Les coordonnées de $A$ vérifient l'équation, donc :<br>\n          $${imageD}=${deriveeEnD}\\\\times${ecritureParentheseSiNegatif(d)}+p$<br>\n          $${imageD}=${deriveeEnD * d}+p$<br>\n          $p=${imageD}${ecritureAlgebrique(-deriveeEnD * d)}$<br>\n          $p=${imageD - deriveeEnD * d}$<br><br>\n          Ainsi, l'équation de la tangente est : $(T) : ${miseEnEvidence(`y=${reduireAxPlusB(deriveeEnD, imageD - d * deriveeEnD)}`)}$.`\n            } else {\n              // Correction avec formule\n              texteCorr =\n                cours +\n                `La fonction $f$ est un polynôme, donc elle est dérivable sur $\\\\mathbb{R}$.<br><br>\n          $\\\\bullet$ Calcul de $f'(x)$ :<br>\n          $f'(x)=${2 * a === 1 ? '' : 2 * a === -1 ? '-' : 2 * a}x${b === 0 ? `` : `${ecritureAlgebrique(b)}`}$<br><br>\n          $\\\\bullet$  Calcul de $f'(${d})$ :<br>\n          $f'(${d})=${2 * a}\\\\times${ecritureParentheseSiNegatif(d)}${b === 0 ? `` : `${ecritureAlgebrique(b)}`}=${deriveeEnD}$<br><br>\n          $\\\\bullet$ Calcul de $f(${d})$ :<br>\n          $f(${d})=${valeurEnD}$<br><br>\n          En remplaçant les valeurs dans cette équation, on obtient : <br>\n       $y=f'(${d})(x${ecritureAlgebrique(-d)})+f(${d})$ <br>\n       $y=${deriveeEnD}(x${ecritureAlgebrique(-d)})${ecritureAlgebrique(imageD)}$<br> <br>\n       En simplifiant l'écriture, on obtient  : $(T) : ${miseEnEvidence(`y=${reduireAxPlusB(deriveeEnD, imageD - d * deriveeEnD)}`)}$.`\n            }\n\n            reponse = reduireAxPlusB(deriveeEnD, imageD - d * deriveeEnD)\n          }\n          break\n\n        case 3:\n          {\n            // Cas 3 : Polynôme degré 3\n            a = randint(-2, 2, [0]) // coefficient de x³\n            b = randint(-3, 3) // coefficient de x²\n            c = randint(-2, 5) // coefficient de x\n            d = randint(-5, 5, 0) // terme constant\n            e = randint(-2, 4) // point d'abscisse pour la tangente\n\n            const poly3 = new Polynome({ coeffs: [d, c, b, a] })\n            const imageE = poly3.image(e) // f(e)\n            const derivee3 = poly3.derivee()\n            const deriveeEnE = derivee3.image(e) // f'(e)\n\n            // Calcul détaillé de f(e) avec une étape\n            const calculFE = `${a === 1 || a === -1 ? `${rienSi1(a)}` : `${a}\\\\times`}${ecritureParentheseSiNegatif(e)}^3${b === 0 ? '' : `${b === 1 || b === -1 ? `${signe(b)}` : `${ecritureAlgebrique(b)}\\\\times`}${ecritureParentheseSiNegatif(e)}^2`}${c === 0 ? '' : `${c === 1 || c === -1 ? `${signe(c)}` : `${ecritureAlgebrique(c)}\\\\times`}${ecritureParentheseSiNegatif(e)}`}${d === 0 ? '' : `${ecritureAlgebrique(d)}`}`\n\n            // Calcul détaillé de f'(e) avec une étape\n            const coefDeriveeX2 = 3 * a\n            const coefDeriveeX = 2 * b\n            const calculFPrimaE = `${coefDeriveeX2 === 1 || coefDeriveeX2 === -1 ? rienSi1(coefDeriveeX2) : `${coefDeriveeX2}\\\\times`}${ecritureParentheseSiNegatif(e)}^2${coefDeriveeX === 0 ? '' : `${coefDeriveeX === 1 || coefDeriveeX === -1 ? ecritureAlgebrique(coefDeriveeX) : `${ecritureAlgebrique(coefDeriveeX)}\\\\times`}${ecritureParentheseSiNegatif(e)}`}${c === 0 ? '' : `${ecritureAlgebrique(c)}`}`\n            const texteCommun3 = `La fonction $f$ est un polynôme, donc elle est dérivable sur $\\\\mathbb{R}$.<br><br>`\n            texte = `Soit $f$ la fonction définie sur $\\\\mathbb{R}$ par $f(x)=${poly3.toLatex()}$ et $\\\\mathcal{C}_f$ sa courbe représentative.<br>`\n            texte += `Déterminer l'équation réduite de la tangente $(T)$ à $\\\\mathcal{C}_f$ au point d'abscisse $${e}$.`\n\n            if (this.sup2) {\n              // Correction sans formule\n              texteCorr =\n                cours2 +\n                texteCommun3 +\n                `\n          $\\\\bullet$ Calcul de $f'(x)$ :<br>\n          $f'(x)=${derivee3.toLatex()}$<br><br>\n          $\\\\bullet$ Calcul de $f'(${e})$ :<br>\n          $f'(${e})=${calculFPrimaE}=${deriveeEnE}$<br><br>\n          $\\\\bullet$ Calcul de $f(${e})$ :<br>\n          $f(${e})=${calculFE}=${imageE}$<br><br>\n        \n          Le coefficient directeur de la tangente est le nombre dérivé.<br>\n          Ainsi, $m=f'(${e})=${deriveeEnE}$.<br><br>\n          On obtient alors $(T) : y=${deriveeEnE}x+p$.<br><br>\n          La tangente passe par le point $A$ de coordonnées $(${e}\\\\,;\\\\,f(${e}))=(${e}\\\\,;\\\\,${imageE})$.<br><br>\n          Les coordonnées de $A$ vérifient l'équation, donc :<br>\n          $${imageE}=${deriveeEnE}\\\\times${ecritureParentheseSiNegatif(e)}+p$<br>\n          $${imageE}=${deriveeEnE * e}+p$<br>\n          $p=${imageE}${ecritureAlgebrique(-deriveeEnE * e)}$<br>\n          $p=${imageE - deriveeEnE * e}$<br><br>\n          Ainsi, l'équation de la tangente est : $(T) : ${miseEnEvidence(`y=${reduireAxPlusB(deriveeEnE, imageE - e * deriveeEnE)}`)}$.`\n            } else {\n              // Correction avec formule\n              texteCorr =\n                cours +\n                texteCommun3 +\n                `\n          $\\\\bullet$ Calcul de $f'(x)$ :<br>\n          $f'(x)=${derivee3.toLatex()}$<br><br>\n          $\\\\bullet$ Calcul de $f'(${e})$ :<br>\n          $f'(${e})=${calculFPrimaE}=${deriveeEnE}$<br><br>\n          $\\\\bullet$ Calcul de $f(${e})$ :<br>\n          $f(${e})=${calculFE}=${imageE}$<br><br>\n          En remplaçant les valeurs dans cette équation, on obtient : <br>\n       $y=f'(${e})(x${ecritureAlgebrique(-e)})+f(${e})$ <br>\n       $y=${deriveeEnE}(x${ecritureAlgebrique(-e)})${ecritureAlgebrique(imageE)}$<br> <br>\n       En simplifiant l'écriture, on obtient  : $(T) : ${miseEnEvidence(`y=${reduireAxPlusB(deriveeEnE, imageE - e * deriveeEnE)}`)}$.`\n            }\n\n            reponse = reduireAxPlusB(deriveeEnE, imageE - e * deriveeEnE)\n          }\n          break\n        case 4: // Cas 4 : Fonction rationnelle a/(bx+c)\n        default:\n          {\n            a = randint(1, 5) // numérateur\n            b = randint(1, 2) // coefficient de x (on évite 1 pour avoir bx explicite)\n            const valeurInterdite = randint(1, 4) // valeur interdite (nombre entier positif)\n            c = -b * valeurInterdite // pour avoir -c/b = valeurInterdite\n            d = randint(valeurInterdite + 1, 8) // point d'abscisse (différent de la valeur interdite)\n\n            // Calcul avec FractionEtendue pour des valeurs exactes\n            const denominateurEnD = b * d + c\n            const fracFD = new FractionEtendue(a, denominateurEnD).simplifie() // f(d)\n            const fracFPrimD = new FractionEtendue(\n              -a * b,\n              denominateurEnD * denominateurEnD,\n            ).simplifie() // f'(d) = -ab/(bx+c)²\n\n            // Calcul de l'ordonnée à l'origine : fd - d*f'(d) avec des fractions\n            const fracD = new FractionEtendue(d, 1)\n            const ordOrigineFrac = fracFD\n              .differenceFraction(fracFPrimD.produitFraction(fracD))\n              .simplifie()\n\n            // Construction du texte pour le dénominateur bx+c\n            const denomTexte = `${rienSi1(b)}x${ecritureAlgebrique(c)}`\n            const texteCommun4 = `La fonction $f$ est dérivable sur $]${valeurInterdite}\\\\,;\\\\,+\\\\infty[$ (quotient de fonctions dérivables dont le dénominateur ne s'annule pas sur $]${valeurInterdite}\\\\,;\\\\,+\\\\infty[$).<br><br>`\n            texte = `Soit $f$ la fonction définie sur $]${valeurInterdite}\\\\,;\\\\,+\\\\infty[$ par $f(x)=\\\\dfrac{${a}}{${denomTexte}}$ et $\\\\mathcal{C}_f$ sa courbe représentative.<br>`\n            texte += `Déterminer l'équation réduite de la tangente $(T)$ à $\\\\mathcal{C}_f$ au point d'abscisse $${d}$.`\n\n            if (this.sup2) {\n              // Correction sans formule\n              texteCorr =\n                texteCommun4 +\n                `\n          $\\\\bullet$ Calcul de $f'(x)$ :<br>\n          $f'(x)=\\\\dfrac{${-a * b}}{(${denomTexte})^2}$<br><br>\n          $\\\\bullet$ Calcul de $f'(${d})$ :<br>\n          $f'(${d})=\\\\dfrac{${-a * b}}{(${b === 1 ? `` : `${b}\\\\times`}${d}${ecritureAlgebrique(c)})^2}=\\\\dfrac{${-a * b}}{${ecritureParentheseSiNegatif(denominateurEnD)}^2}=${fracFPrimD.texFractionSimplifiee}$<br><br>\n          $\\\\bullet$ Calcul de $f(${d})$ :<br>\n          $f(${d})=\\\\dfrac{${a}}{${b === 1 ? `` : `${b}\\\\times`}${d}${ecritureAlgebrique(c)}}=\\\\dfrac{${a}}{${denominateurEnD}}=${fracFD.texFractionSimplifiee}$<br><br>\n          L'équation réduite de la tangente est $(T) : y=mx+p$.<br><br>\n          Le coefficient directeur de la tangente est le nombre dérivé. <br>\n          Ainsi, $m=f'(${d})=${fracFPrimD.texFractionSimplifiee}$.<br><br>\n          On obtient alors $(T) : y=${fracFPrimD.texFractionSimplifiee}x+p$.<br><br>\n          La tangente passe par le point $A$ de coordonnées $(${d}\\\\,;\\\\,f(${d}))$ soit $\\\\left(${d}\\\\,;\\\\,${fracFD.texFractionSimplifiee}\\\\right)$.<br><br>\n          Les coordonnées de $A$ vérifient l'équation, donc :<br>\n          $${fracFD.texFractionSimplifiee}=${fracFPrimD.texFractionSimplifiee}\\\\times${ecritureParentheseSiNegatif(d)}+p$<br>\n          $p=${fracFD.texFractionSimplifiee}${fracFPrimD.produitFraction(fracD).oppose().ecritureAlgebrique}$<br>\n          $p=${ordOrigineFrac.texFractionSimplifiee}$<br><br>\n          Ainsi, l'équation de la tangente est : $(T) : ${miseEnEvidence(`y=${fracFPrimD.valeurDecimale === 1 ? 'x' : fracFPrimD.valeurDecimale === -1 ? '-x' : `${fracFPrimD.texFractionSimplifiee}x`}${ordOrigineFrac.ecritureAlgebrique}`)}$.`\n            } else {\n              // Correction avec formule\n              texteCorr =\n                cours +\n                texteCommun4 +\n                `\n          $\\\\bullet$ Calcul de $f'(x)$ :<br>\n          $f'(x)=\\\\dfrac{${-a * b}}{(${denomTexte})^2}$<br><br>\n          $\\\\bullet$ Calcul de $f'(${d})$ :<br>\n          $f'(${d})=\\\\dfrac{${-a * b}}{(${b === 1 ? `` : `${b}\\\\times`}${d}${ecritureAlgebrique(c)})^2}=\\\\dfrac{${-a * b}}{${denominateurEnD * denominateurEnD}}=${fracFPrimD.texFractionSimplifiee}$<br><br>\n          $\\\\bullet$ Calcul de $f(${d})$ :<br>\n          $f(${d})=\\\\dfrac{${a}}{${b === 1 ? `` : `${b}\\\\times`}${d}${ecritureAlgebrique(c)}}=${fracFD.texFractionSimplifiee}$<br><br>\n          En remplaçant les valeurs dans cette équation, on obtient : <br>\n       $y=f'(${d})(x-${ecritureParentheseSiNegatif(d)})+f(${d})$ <br>\n       $y=${fracFPrimD.texFractionSimplifiee}(x-${ecritureParentheseSiNegatif(d)})${fracFD.ecritureAlgebrique}$.<br> <br>\n       En simplifiant l'écriture, on obtient  : $(T) : ${miseEnEvidence(`y=${fracFPrimD.valeurDecimale === 1 ? 'x' : fracFPrimD.valeurDecimale === -1 ? '-x' : `${fracFPrimD.texFractionSimplifiee}x`}${ordOrigineFrac.ecritureAlgebrique}`)}$.`\n            }\n\n            reponse = reduireAxPlusB(fracFPrimD, ordOrigineFrac)\n          }\n          break\n      }\n\n      texte += ajouteChampTexteMathLive(this, i, KeyboardType.lycee, {\n        texteAvant: '<br>$y=$',\n      })\n\n      handleAnswers(this, i, {\n        reponse: { value: reponse },\n      })\n\n      // Si la question n'a jamais été posée, on l'enregistre\n      if (this.questionJamaisPosee(i, listeTypeQuestions[i], a, b, c)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["titre","interactifReady","interactifType","dateDePublication","dateDeModifImportante","uuid","refs","Equationdetangente","Exercice","typesDeQuestionsDisponibles","gestionnaireFormulaireTexte","listeTypeQuestions","combinaisonListes","i","cpt","texte","texteCorr","a","b","c","d","e","reponse","borneInf","borneSup","cours","cours2","randint","ecritureParentheseSiNegatif","ecritureAlgebrique","miseEnEvidence","reduireAxPlusB","poly","Trinome","valeurEnD","imageD","deriveeEnD","poly3","Polynome","imageE","derivee3","deriveeEnE","calculFE","rienSi1","signe","coefDeriveeX2","coefDeriveeX","calculFPrimaE","texteCommun3","valeurInterdite","denominateurEnD","fracFD","FractionEtendue","fracFPrimD","fracD","ordOrigineFrac","denomTexte","texteCommun4","ajouteChampTexteMathLive","KeyboardType","handleAnswers","listeQuestionsToContenu"],"mappings":"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"}