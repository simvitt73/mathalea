var w=Object.defineProperty;var L=(b,c,g)=>c in b?w(b,c,{enumerable:!0,configurable:!0,writable:!0,value:g}):b[c]=g;var S=(b,c,g)=>L(b,typeof c!="symbol"?c+"":c,g);import{E as k,Y as B,$ as v,a9 as C,r as P,x as f,s as D,P as y,a1 as T,W as M,a as R,K as A,n as Q,M as F,_ as V,o as H}from"./index-vfG7N0N9.js";import I from"./_Choisir_expression_litterale-Rm2cOQNo.js";import J from"./_choisirExpressionNumerique-DVC2AH9C.js";/* empty css                         */import"./vendors/svelte-BrkG1v2Q.js";import"./vendors/clsx-B-dksMZM.js";import"./vendors/esm-env-rsSWfq8L.js";import"./vendors/ua-parser-js-D4W63oil.js";import"./vendors/three-DbtVOfJ6.js";import"./vendors/decimal.js-BceHFVC1.js";import"./vendors/katex-BSW5_u9c.js";import"./vendors/seedrandom-Cz-2rAdY.js";import"./vendors/apigeom-DuS4UMKQ.js";import"./vendors/mathjs-DKCMnljp.js";import"./vendors/babel_runtime-BFeZ_VDU.js";import"./vendors/javascript-natural-sort-QZS4Fyws.js";import"./vendors/escape-latex-BegatI0j.js";import"./vendors/complex.js-C1JbXRlX.js";import"./vendors/typed-function-CVM02vEe.js";import"./vendors/fraction.js-CYLvagDM.js";import"./vendors/tiny-emitter-DbO2P2s3.js";import"./vendors/xstate-BSXD3zxA.js";import"./vendors/crypto-js-DElKCTCw.js";import"./json/referentielStaticCH-DrWiqhRe.js";import"./json/referentielStaticFR-DTeSOhOd.js";import"./json/uuidsToUrlFR-BymNGK-G.js";import"./vendors/cortex-js_compute-engine-Bo_2zfG3.js";import"./vendors/jspreadsheet-ce-kKqtlqR-.js";import"./vendors/jsuites-D-TmSgJs.js";import"./vendors/jspreadsheet_formula-CXu1m5Ak.js";import"./vendors/mathlive-2YgxEGya.js";import"./vendors/bugsnag_js-B7oJ4uO9.js";import"./vendors/bugsnag_browser-CBi0d3dm.js";import"./vendors/big-integer-RrBdqg8C.js";import"./vendors/mixer_postmessage-rpc-JyZjM7pP.js";import"./vendors/eventemitter3-COjgItKg.js";import"./vendors/scratchblocks-BVPCj2Ee.js";import"./json/scratchFr-BNITwCy2.js";import"./json/refToUuidFR-CKp8Whw5.js";import"./json/refToUuidCH-C3otjGt1.js";import"./json/codeToLevelList-BfkorBF2.js";import"./json/codeToThemeList-B4uzTsqe.js";import"./vendors/loadjs-Dy50zFDn.js";import"./json/referentielProfs-BdpwqI3j.js";import"./json/uuidsRessources-jdCgFfXb.js";import"./json/referentielBibliotheque-sQm1j5fm.js";import"./vendors/file-saver-Cqu1O8xU.js";import"./vendors/jszip-BuNf6wCF.js";import"./vendors/jszip-utils-DhFX1KUq.js";import"./vendors/copy-image-clipboard-Cf9y-QAU.js";import"./vendors/qrcode-BsrOgw3n.js";import"./vendors/dijkstrajs-COg3n3zL.js";import"./vendors/brace-DEOAbY2S.js";import"./json/referentielAppsTierce-SxU58PZT.js";import"./vendors/sortablejs-DdTU3J9A.js";import"./json/carouselContent-Bjt6Yxr-.js";import"./json/levelsThemesList-CXNnIZKX.js";import"./json/levelsThemesListCH-BErSids0.js";import"./json/referentiel2022CH-CxJkatM_.js";import"./json/referentiel2022FR-DUyIuCDZ.js";import"./json/referentielGeometrieDynamique-BJ2PHXsv.js";import"./json/referentielRessources-BU2QQoSD.js";import"./json/referentielsActivation-CpD_hoec.js";import"./deprecatedFractions-C_vCp7O7.js";import"./colors-vbveSA7f.js";const it=!0,st=["mathLive","listeDeroulante"],rt=!0,ot="AMCHybride",nt="21/09/2023";class lt extends k{constructor(){super();S(this,"version");S(this,"litteral",!1);this.nbQuestions=4,this.sup2=!1,this.sup3=!0,this.sup4=6,this.version=1,this.besoinFormulaire4Texte=["Nombre d'opérations par expression",`Nombres séparés par des tirets :
1 : Expressions à 1 opération
2 : Expressions à 2 opérations
3 : Expressions à 3 opérations
4 : Expressions à 4 opérations
5 : Expressions à 5 opérations
6 : Mélange`],this.besoinFormulaire2CaseACocher=["Utilisation de décimaux (pas de calcul mental)",!1]}nouvelleVersion(){this.interactifType=this.version!==2?"mathLive":"listeDeroulante";const g=B({saisie:this.sup4,min:1,max:5,melange:6,defaut:6,nbQuestions:this.nbQuestions}).map(Number);let l,e,n,x,$,m,p;const q=this.sup2;q?x=1:x=10,this.sup2?x=10:x=1;const O=[v(C(3),this.nbQuestions),v(C(9),this.nbQuestions),v(C(13),this.nbQuestions),v(C(2),this.nbQuestions),v(C(4),this.nbQuestions)];for(let s=0,u,d,N=0;s<this.nbQuestions&&N<50;){let r,t,h;if(m=g[s],u=P(2,5),d=P(6,9),this.version>2&&m===1&&!this.litteral&&m++,this.litteral)p=I(m,x,u,d,this.sup3);else{const i=O[m-1][s];p=J(m,x,this.sup3,q,i)}l=p[0],e=String(p[1]).split("=")[0],e+=e[e.length-1]!=="$"?"$":"",n=p[2],$=p[3];const E=this.litteral?String(p[6]):p[5];if(this.questionJamaisPosee(s,m,$,this.version,l)&&!this.litteral||this.litteral&&this.questionJamaisPosee(s,m,$,this.version,p[4])){switch(this.autoCorrection[s]={},this.version){case 1:this.consigne="Traduire la phrase par un calcul (il n'est pas demandé d'effectuer ce calcul).",r=`${l}.`,e=e.split(" ou "),t=`${l} s'écrit : $${f(e[0].substring(1,e[0].length-1))}$`,t+=e.length>1?` ou $${f(e[1].substring(1,e[1].length-1))}$.`:".",h=e.length>1?[e[0].substring(1,e[0].length-1),e[1].substring(1,e[1].length-1)]:e[0].substring(1,e[0].length-1);break;case 2:e.indexOf("ou")>0&&(e=e.substring(0,e.indexOf("ou")-1)),this.consigne=this.interactif?"De quel type est chaque calcul ?":"Traduire le calcul par une phrase en français.",r=`${e}`,l="l"+String(l).substring(1),t=this.interactif?`${e} est ${T(E)} : ${l}.`:`${e} s'écrit : ${T(l)}.`;break;case 3:{if(this.interactif?this.consigne="Traduire la phrase par un calcul et effectuer le calcul demandé au brouillon.<br> Saisir uniquement le résultat.":this.consigne="Traduire la phrase par un calcul et effectuer le calcul demandé.",this.litteral?$===2?r=`${l} puis calculer pour $x=${u}$ et $y=${d}$.`:r=`${l} puis calculer pour $x=${u}$.`:r=`${l}.`,t=`${l} s'écrit : ${p[1]}.<br>`,this.litteral)$===2?t+=`Pour $x=${u}$ et $y=${d}$ :<br> ${n}`:t+=`Pour $x=${u}$ :<br>${n}`;else if(t="",this.sup4){const i=String(n).split("=");let o=0;i.forEach(function(a){o++,a=a.replace("$",""),y.isHtml&&(t+="<br>"),t+=o===i.length||o===1?`${T(M(s+1)+" = ")} $${f(a)}$ <br>`:`${M(s+1)} = $${a}$ <br>`})}else{const i=String(n).substring(1,String(n).length-1).split("=");t+=`$${f(i[0])} =$`+D();for(let o=1;o<i.length-1;o++)t+=`$${i[o]}  = $`+D();t+=`$${f(i[i.length-1])}$`}if(h=String(n).split("=")[String(n).split("=").length-1].replace("$",""),this.litteral){const i=t.split("=");let o=i[i.length-1];o=o.replace("$","").replace("<br>",""),t="";for(let a=0;a<i.length-1;a++)t+=i[a]+"=";t+=`$ $${f(o)}$`}break}default:{e.indexOf("ou")>0&&(e=e.substring(0,e.indexOf("ou")-1)),this.consigne="",this.litteral?$===2?r=`Pour $x=${u}$ et $y=${d}$, calculer ${e}.`:r=`Pour $x=${u}$, calculer ${e}.`:r=`${e}`,this.litteral?$===2?t=`Pour $x=${u}$ et $y=${d}$ :<br>${n}`:t=`Pour $x=${u}$ :<br>${n}`:t=`${n}`,h=String(n).split("=")[String(n).split("=").length-1].replace("$","");const i=t.split("=");let o=i[i.length-1];o=o.replace("$","").replace("<br>",""),t="";for(let a=0;a<i.length-1;a++)t+=i[a]+"=";t+=`$ $${f(o)}$`}break}if(this.version>2)if(y.isAmc)r+="<br>Détailler les calculs dans le cadre et coder le résultat ci-dessous.",this.autoCorrection[s]={enonce:"",enonceAvant:!1,propositions:[{type:"AMCOpen",propositions:[{enonce:r,texte:t,statut:3,pointilles:!1}]},{type:"AMCNum",propositions:[{texte:"",statut:"",reponse:{texte:"Résultat de cet enchaînement de calculs : ",valeur:[Number(h)],param:{digits:2,decimals:0,signe:!1,approx:0}}}]}]};else{if(r+="<br>"+R(this,s,this.litteral?A.clavierDeBaseAvecVariable:A.clavierDeBaseAvecEgal,{texteAvant:" Résultat : "}),h===void 0)throw new Error("Réponse absente");Q(this,s,{reponse:{value:h}})}if(this.version===2)if(y.isAmc)this.autoCorrection[s]={enonce:this.consigne+"<br>"+r,propositions:[{texte:t,statut:this.version,sanscadre:!1,pointilles:this.version===2}]};else{r+=D(10)+F(this,s,[{label:"?",value:""},...V([{label:"une somme",value:"somme"},{label:"une différence",value:"différence"},{label:"un produit",value:"produit"},{label:"un quotient",value:"quotient"}])]);const i=typeof E=="string"?E.replace("une ","").replace("un ",""):E;Q(this,s,{reponse:{value:i}},{formatInteractif:"listeDeroulante"})}if(this.version===1)if(y.isAmc)this.autoCorrection[s]={enonce:this.consigne+"<br>"+r,propositions:[{texte:t,statut:this.version,sanscadre:!1,pointilles:!1}]};else{if(r+="<br>"+R(this,s,this.litteral?A.clavierDeBaseAvecVariable:A.clavierDeBaseAvecEgal,{texteAvant:" Calcul : "}),h===void 0)throw new Error("Réponse absente");Q(this,s,{reponse:{value:h,options:{expressionNumerique:!this.litteral}}})}this.listeQuestions[s]=r,this.listeCorrections[s]=t,s++}N++}H(this)}}export{rt as amcReady,ot as amcType,nt as dateDeModifImportante,lt as default,it as interactifReady,st as interactifType};
//# sourceMappingURL=_Ecrire_une_expression_numerique-Df46rYcP.js.map
