{"version":3,"file":"6N2A-2-DeyplJbP.js","sources":["../../src/exercices/6e/6N2A-2.ts"],"sourcesContent":["import { grille, seyes } from '../../lib/2d/Grille'\nimport { vide2d } from '../../lib/2d/Vide2d'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { setReponse } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { combinaisonListes } from '../../lib/outils/arrayOutils'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport {\n  arrondi,\n  nombreDeChiffresDansLaPartieDecimale,\n  nombreDeChiffresDansLaPartieEntiere,\n} from '../../lib/outils/nombres'\nimport { texNombre } from '../../lib/outils/texNombre'\nimport { context } from '../../modules/context'\nimport { mathalea2d } from '../../modules/mathalea2d'\nimport { additionMultiplePosee } from '../../modules/operations' // Adaptez le chemin selon votre structure de dossiers\nimport { listeQuestionsToContenu, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const amcReady = true\nexport const amcType = 'AMCNum'\nexport const interactifType = 'mathLive'\nexport const interactifReady = true\n\nexport const titre = 'Effectuer additions de plus de deux nombres décimaux'\nexport const dateDePublication = '04/01/2025'\n/**\n * Additions de plus de deux nombres décimaux\n * xxx + xx,x + xx,xx + xx9,x + xxx,xx\n * @author Mireille Gain\n\n */\nexport const uuid = '15841'\n\nexport const refs = {\n  'fr-fr': ['6N2A-2'],\n  'fr-2016': ['6C20'],\n  'fr-ch': [''],\n}\nexport default class AdditionnerSoustrairesDecimaux extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireNumerique = [\n      'Type de cahier',\n      3,\n      ' 1 : Cahier à petits carreaux\\n 2 : Cahier à gros carreaux (Seyes)\\n 3 : Feuille blanche',\n    ]\n\n    this.spacing = 2\n    context.isHtml ? (this.spacingCorr = 2) : (this.spacingCorr = 1) // Important sinon les opérations posées ne sont pas jolies\n    this.nbQuestions = 4\n    this.sup = 3\n  }\n\n  nouvelleVersion() {\n    this.consigne =\n      this.nbQuestions === 1\n        ? 'Poser et effectuer le calcul suivant'\n        : 'Poser et effectuer les calculs suivants'\n    this.consigne += ' en une seule opération.'\n    let typesDeQuestions, reponse\n    const typesAdditions = combinaisonListes([1, 2, 3, 4], this.nbQuestions)\n    const listeTypeDeQuestions = []\n\n    for (let i = 0; i < this.nbQuestions; i++) {\n      this.autoCorrection[i] = {}\n      listeTypeDeQuestions.push(typesAdditions[i])\n    }\n\n    let grilletxt\n    if (this.sup2 < 3) {\n      const g = this.sup2 < 3 ? grille(0, 0, 5, 5, 'gray', 0.7) : vide2d()\n      const carreaux = this.sup2 === 2 ? seyes(0, 0, 5, 5) : vide2d()\n      const sc = this.sup2 === 2 ? 0.8 : 0.5\n      const params = {\n        xmin: 0,\n        ymin: 0,\n        xmax: 5,\n        ymax: 5,\n        pixelsParCm: 20,\n        scale: sc,\n      }\n      grilletxt = '<br>' + mathalea2d(params, g, carreaux)\n    } else {\n      grilletxt = ''\n    }\n    for (\n      let i = 0, texte, texteCorr, cpt = 0;\n      i < this.nbQuestions && cpt < 50;\n    ) {\n      let a = 0\n      let b = 0\n      let c = 0\n      let d = 0\n      let e = 0\n      typesDeQuestions = listeTypeDeQuestions[i]\n      switch (typesDeQuestions) {\n        case 1: // xxx + xx,x + xx,xx + xx9,x + xxx,xx\n          a = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9)\n          b = arrondi(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10)\n          c = arrondi(\n            randint(5, 9) * 10 +\n              randint(6, 9) +\n              randint(1, 9) / 10 +\n              randint(1, 9) / 100,\n          )\n          d =\n            randint(1, 4) * 100 +\n            arrondi(randint(5, 9) * 10 + 9 + randint(1, 9) / 10)\n          e =\n            randint(1, 4) * 100 +\n            randint(5, 9) * 10 +\n            randint(6, 9) +\n            arrondi(randint(1, 9) / 10 + randint(1, 9) / 100)\n          texte = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}+${texNombre(d)}+${texNombre(e)}$`\n          reponse = arrondi(a + b + c + d + e)\n          texteCorr = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}+${texNombre(d)}+${texNombre(e)}=${miseEnEvidence(texNombre(arrondi(a + b + c + d + e)))}$<br>\\n`\n          texteCorr += additionMultiplePosee([a, b, c, d, e], {\n            retenuesOn: true,\n            calculer: true,\n          })\n          break\n\n        case 2: // xx,x + xxx + xx,xx + x\n          a = arrondi(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10)\n          b = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9)\n          c = arrondi(\n            randint(5, 9) * 10 +\n              randint(6, 9) +\n              randint(1, 9) / 10 +\n              randint(1, 9) / 100,\n          )\n          d = randint(1, 9)\n          texte = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}+${texNombre(d)}$`\n          reponse = arrondi(a + b + c + d)\n          texteCorr = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}+${texNombre(d)}=${miseEnEvidence(texNombre(arrondi(a + b + c + d)))}$<br>\\n`\n          texteCorr += additionMultiplePosee([a, b, c, d], {\n            retenuesOn: true,\n            calculer: true,\n          })\n\n          break\n\n        case 3: // xx,xx + x + xx,x\n          a = arrondi(\n            randint(5, 9) * 10 +\n              randint(6, 9) +\n              randint(1, 9) / 10 +\n              randint(1, 9) / 100,\n          )\n          b = randint(1, 9)\n          c = arrondi(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10)\n          texte = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}$`\n          reponse = arrondi(a + b + c)\n          texteCorr = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}=${miseEnEvidence(texNombre(arrondi(a + b + c)))}$<br>\\n`\n          texteCorr += additionMultiplePosee([a, b, c], {\n            retenuesOn: true,\n            calculer: true,\n          })\n\n          break\n\n        case 4: // xx,x + xx,xx + xxx + x,x\n        default:\n          a = arrondi(randint(5, 9) * 10 + randint(6, 9) + randint(1, 9) / 10)\n          b = arrondi(\n            randint(5, 9) * 10 +\n              randint(6, 9) +\n              randint(1, 9) / 10 +\n              randint(1, 9) / 100,\n          )\n          c = randint(1, 4) * 100 + randint(2, 5) * 10 + randint(1, 9)\n          d = arrondi(randint(6, 9) + randint(1, 9) / 10)\n          texte = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}+${texNombre(d)}$`\n          reponse = arrondi(a + b + c + d)\n          texteCorr = `$${texNombre(a)}+${texNombre(b)}+${texNombre(c)}+${texNombre(d)}=${miseEnEvidence(texNombre(arrondi(a + b + c + d)))}$<br>\\n`\n          texteCorr += additionMultiplePosee([a, b, c, d], {\n            retenuesOn: true,\n            calculer: true,\n          })\n      }\n\n      texte += grilletxt\n      setReponse(this, i, reponse)\n      if (this.interactif && context.isHtml)\n        texte +=\n          '$~=$' +\n          ajouteChampTexteMathLive(this, i, KeyboardType.clavierNumbers)\n      if (context.isAmc) {\n        this.autoCorrection[i].enonce = texte\n        this.autoCorrection[i].propositions = [{ texte: texteCorr }]\n        // @ts-expect-error Trop compliqué à typer\n        this.autoCorrection[i].reponse.param = {\n          digits:\n            nombreDeChiffresDansLaPartieEntiere(reponse) +\n            nombreDeChiffresDansLaPartieDecimale(reponse) +\n            2,\n          decimals: nombreDeChiffresDansLaPartieDecimale(reponse) + 1,\n          signe: false,\n          exposantNbChiffres: 0,\n        }\n      }\n      if (this.questionJamaisPosee(i, a, b, c, d, e)) {\n        // Si la question n'a jamais été posée, on en crée une autre\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n        i++\n      }\n      cpt++\n    }\n    listeQuestionsToContenu(this)\n  }\n}\n"],"names":["amcReady","amcType","interactifType","interactifReady","titre","dateDePublication","uuid","refs","AdditionnerSoustrairesDecimaux","Exercice","context","typesDeQuestions","reponse","typesAdditions","combinaisonListes","listeTypeDeQuestions","i","grilletxt","g","grille","vide2d","carreaux","seyes","params","mathalea2d","texte","texteCorr","cpt","a","b","c","d","e","randint","arrondi","texNombre","miseEnEvidence","additionMultiplePosee","setReponse","ajouteChampTexteMathLive","KeyboardType","nombreDeChiffresDansLaPartieEntiere","nombreDeChiffresDansLaPartieDecimale","listeQuestionsToContenu"],"mappings":"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"}