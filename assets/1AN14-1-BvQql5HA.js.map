{"version":3,"file":"1AN14-1-BvQql5HA.js","sources":["../../src/exercices/1e/1AN14-1.ts"],"sourcesContent":["import { abs } from 'mathjs'\nimport { KeyboardType } from '../../lib/interactif/claviers/keyboard'\nimport { functionCompare } from '../../lib/interactif/comparisonFunctions'\nimport { handleAnswers } from '../../lib/interactif/gestionInteractif'\nimport { ajouteChampTexteMathLive } from '../../lib/interactif/questionMathLive'\nimport { Polynome } from '../../lib/mathFonctions/Polynome'\nimport { choice } from '../../lib/outils/arrayOutils'\nimport { ecritureAlgebriqueSauf1, rienSi1 } from '../../lib/outils/ecritures'\nimport { miseEnEvidence } from '../../lib/outils/embellissements'\nimport FractionEtendue from '../../modules/FractionEtendue'\nimport { obtenirListeFractionsIrreductibles } from '../../modules/fractions'\nimport { gestionnaireFormulaireTexte, randint } from '../../modules/outils'\nimport Exercice from '../Exercice'\n\nexport const titre =\n  'Dériver une fonction du type $\\\\lambda u$'\nexport const interactifReady = true\nexport const interactifType = 'mathLive'\nexport const uuid = 'ebd8a'\nexport const refs = {\n  'fr-fr': ['1AN14-1'], // remplace 1AN14-1a\n  'fr-ch': ['3mA2-5'],\n}\nexport const dateDePublication = '13/12/2025'\n\nconst listFrac = obtenirListeFractionsIrreductibles()\n\n/**\n * Dérivation de fonctions du type x -> ku(x),\n * avec u une fonction de référence.\n * Version étendue avec:\n * 1. Fonctions affines (pente peut être 0)\n * 2. Monômes jusqu'au degré 6 avec coefficient fractionnaire\n * 3. Polynômes de degré 3\n * 4. Fonction inverse avec coefficient\n * 5. Racine carrée avec coefficient\n * #forgeathon2025\n * @author Stéphane Guyon, Nathan Scheinmann\n *\n */\nclass DerivationFonctionsUsuellesEtendue extends Exercice {\n  constructor() {\n    super()\n    this.besoinFormulaireTexte = [\n      'Types de fonctions',\n      'Nombres séparés par des tirets : \\n1 : Affine avec pente possible nulle\\n2 : Monôme degré 2 à 6 avec coeff. fractionnaire\\n3 : Polynôme degré 3\\n4 : Inverse avec coefficient\\n5 : Racine carrée avec coefficient\\n6 : Mélange',\n    ]\n    this.sup = '6'\n    this.nbQuestions = 5\n    this.correctionDetailleeDisponible = true\n    this.correctionDetaillee = false\n    this.interactif = true\n  }\n\n  nouvelleVersion() {\n    const listeTypeDeQuestion = gestionnaireFormulaireTexte({\n      saisie: this.sup,\n      min: 1,\n      max: 5,\n      defaut: 1,\n      melange: 6,\n      nbQuestions: this.nbQuestions,\n      listeOfCase: ['affine', 'monome', 'polynome3', 'inverse', 'racine'],\n    })\n    for (let i = 0, cpt = 0; i < this.nbQuestions && cpt < 50; ) {\n      let laFonction: string = ''\n      let laDerivee: string = ''\n      let df: string = ''\n      const nameF = [\n        'f',\n        'g',\n        'h',\n        'l',\n        'm',\n        'p',\n        'r',\n        's',\n        't',\n        'u',\n        'v',\n        'w',\n        'b',\n        'c',\n        'd',\n        'e',\n      ][i % 16]\n      let correctionDetaillee = ''\n\n      switch (listeTypeDeQuestion[i]) {\n        case 'affine':\n          {\n            // Fonction affine (pente peut être 0)\n            df = 'pour tout $x\\\\in\\\\R$'\n            const a = randint(-10, 10) // Pente peut être 0\n            const b = randint(-10, 10, 0)\n\n            if (choice([true, false])) {\n              // Forme ax + b\n              laFonction = new Polynome({ coeffs: [b, a] }).toLatex()\n              laDerivee = String(a)\n            } else {\n              // Forme fractionnaire\n              const frac = choice(listFrac).multiplieEntier(choice([-1, 1]))\n              laFonction = `${frac.texFractionSimplifiee}x${ecritureAlgebriqueSauf1(b)}`\n              laDerivee = `${frac.texFractionSimplifiee}`\n            }\n\n            correctionDetaillee = `La dérivée d'une fonction affine d'expression $f(x)=ax+b$ est $f'(x)=a$.<br>`\n          }\n          break\n\n        case 'monome':\n          {\n            // Monôme avec exposant jusqu'à degré 6 et coefficient fractionnaire\n            df = 'pour tout $x\\\\in\\\\R$'\n            const n = randint(2, 6)\n            const frac = choice(listFrac).multiplieEntier(choice([-1, 1]))\n\n            if (choice([true, false])) {\n              // Forme a/b x^n\n              laFonction = `${frac.texFractionSimplifiee}x^{${n}}`\n              const coeffDerivee = new FractionEtendue(frac.num * n, frac.den)\n              laDerivee = `${rienSi1(coeffDerivee.simplifie())}x^{${rienSi1(n - 1)}}`\n            } else {\n              // Forme x^n / b\n              const num = choice([-1, 1])\n              const den = randint(2, 8)\n              laFonction = `\\\\dfrac{${rienSi1(num)}x^{${rienSi1(n)}}}{${den}}`\n              const coeffDerivee = new FractionEtendue(num * n, den)\n              laDerivee = `${rienSi1(coeffDerivee.simplifie())}x^{${rienSi1(n - 1)}}`\n              correctionDetaillee = `On a $${nameF}(x)=\\\\dfrac{${num}}{${den}}x^{${n}}$. `\n            }\n\n            correctionDetaillee += `La dérivée d'une fonction d'expression $f(x)=ax^n$ est $f'(x)=anx^{n-1}$ pour $a\\\\in\\\\mathbb{R}, n\\\\in\\\\mathbb{N}$.<br>`\n          }\n          break\n\n        case 'polynome3':\n          {\n            // Polynôme de degré 3\n            df = 'pour tout $x\\\\in\\\\R$'\n            const a = randint(-5, 5, 0)\n            const b = randint(-8, 8) // b peut être 0\n            const c = randint(-10, 10) // c peut être 0\n            const d = randint(-10, 10) // d peut être 0\n\n            // Construction de la fonction ax^3 + bx^2 + cx + d\n            laFonction = new Polynome({ coeffs: [d, c, b, a] }).toLatex()\n\n            // Dérivée: 3ax^2 + 2bx + c\n            const derA = 3 * a\n            const derB = 2 * b\n            const derC = c\n\n            laDerivee = new Polynome({ coeffs: [derC, derB, derA] }).toLatex()\n\n            correctionDetaillee = `La dérivée d'un polynôme $f(x)=ax^3+bx^2+cx+d$ de degré 3 est $f'(x)=3ax^2+2bx+c$.<br>`\n          }\n          break\n\n        case 'inverse':\n          // Fonction inverse avec coefficient\n          df = 'pour tout $x\\\\in\\\\R^*$'\n\n          if (choice([true, false])) {\n            // Forme simple: a/x\n            const a = randint(-10, 10, [-1, 0, 1])\n            laFonction = `\\\\dfrac{${a}}{x}`\n            laDerivee = `${a < 0 ? '' : '-'}\\\\dfrac{${Math.abs(a)}}{x^2}`\n            correctionDetaillee = `La dérivée d'une fonction d'expression $f(x)=\\\\dfrac{a}{x}$ avec $a\\\\in\\\\mathbb{R}$ est $f'(x)=-\\\\dfrac{a}{x^2}$.<br>`\n          } else {\n            // Forme fractionnaire: (a/b)/x\n            const frac = choice(listFrac).multiplieEntier(choice([-1, 1]))\n            const num = frac.num\n            const den = frac.den\n            laFonction = `\\\\dfrac{${num}}{${den}x}`\n            laDerivee = `${num < 0 ? '' : '-'}\\\\dfrac{${Math.abs(num)}}{${den}x^2}`\n            correctionDetaillee = `La dérivée d'une fonction d'expression $f(x)=\\\\dfrac{a}{x}$ avec $a\\\\in\\\\mathbb{R}$ est $f'(x)=-\\\\dfrac{a}{x^2}$.<br>`\n          }\n\n          break\n\n        case 'racine':\n          {\n            // Racine carrée avec coefficient\n            df = 'pour tout $x\\\\in\\\\R^*_+$'\n            const monChoix = choice([true, false])\n            if (monChoix) {\n              // Forme simple: a√x\n              const a = randint(-10, 10, [-1, 0, 1])\n              laFonction = `${rienSi1(a)}\\\\sqrt{x}`\n              const frac = new FractionEtendue(a, 2)\n              laDerivee = `\\\\dfrac{${frac.num}}{${frac.den}\\\\sqrt{x}}`\n              correctionDetaillee = `La dérivée d'une fonction d'expression $f(x)=a\\\\sqrt{x}$ est $f'(x)=\\\\dfrac{a}{2\\\\sqrt{x}}$.<br>`\n            } else {\n              // Forme fractionnaire: (a/b)√x\n              const frac = choice(listFrac).multiplieEntier(choice([-1, 1]))\n              laFonction = `${frac.texFractionSimplifiee}\\\\sqrt{x}`\n              const fracDerivee = new FractionEtendue(frac.num, frac.den * 2)\n              laDerivee = `${fracDerivee.num < 0 ? '-' : ''}\\\\dfrac{${abs(fracDerivee.num)}}{${fracDerivee.den}\\\\sqrt{x}}`\n              correctionDetaillee = `La dérivée d'une fonction d'expression $f(x)=a\\\\sqrt{x}$ avec $a\\\\in\\\\mathbb{R}$ et $x\\\\in \\\\mathbb{R}^*_+$ est $f'(x)=\\\\dfrac{a}{2\\\\sqrt{x}}$.<br>`\n            }\n          }\n          break\n\n        default:\n          df = 'pour tout $x\\\\in\\\\R$'\n          laFonction = '42'\n          laDerivee = '0'\n          break\n      }\n\n      /* const passageDeLigneCorr =\n        laDerivee.includes('frac') || laFonction.includes('frac') ? '<br>' : ''\n      */\n      let texte = `Donner la dérivée de la fonction $${nameF}$, dérivable ${df}, définie par  $${nameF}(x)=${laFonction}$.`\n      if (this.interactif)\n        texte +=\n          `<br>$${nameF}'(x)=$` +\n          ajouteChampTexteMathLive(this, i, KeyboardType.lyceeClassique)\n      const reponse = laDerivee\n      let texteCorr = ''\n      if (this.correctionDetaillee) texteCorr += correctionDetaillee + 'Donc '\n      // texteCorr += correctionDetaillee.replace('<br>', passageDeLigneCorr)\n      texteCorr += `$${nameF}'(x)=${miseEnEvidence(reponse)}$`\n      if (this.correctionDetaillee) texteCorr += '.'\n      if (this.questionJamaisPosee(i, laFonction)) {\n        this.listeQuestions[i] = texte\n        this.listeCorrections[i] = texteCorr\n\n        handleAnswers(this, i, {\n          reponse: {\n            value: reponse,\n            options: { variable: 'x', domaine: [-10, 10] },\n            compare: functionCompare,\n          },\n        })\n        i++\n        cpt--\n      }\n      cpt++\n    }\n  }\n}\n\nexport default DerivationFonctionsUsuellesEtendue\n"],"names":["titre","interactifReady","interactifType","uuid","refs","dateDePublication","listFrac","obtenirListeFractionsIrreductibles","DerivationFonctionsUsuellesEtendue","Exercice","listeTypeDeQuestion","gestionnaireFormulaireTexte","i","cpt","laFonction","laDerivee","df","nameF","correctionDetaillee","a","randint","b","choice","Polynome","frac","ecritureAlgebriqueSauf1","n","coeffDerivee","FractionEtendue","rienSi1","num","den","c","d","derA","derB","derC","fracDerivee","abs","texte","ajouteChampTexteMathLive","KeyboardType","reponse","texteCorr","miseEnEvidence","handleAnswers","functionCompare"],"mappings":"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"}